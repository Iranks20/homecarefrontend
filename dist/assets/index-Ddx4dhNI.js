var xM=Object.defineProperty;var yM=(e,t,r)=>t in e?xM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Vt=(e,t,r)=>yM(e,typeof t!="symbol"?t+"":t,r);function vM(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Sg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zT={exports:{}},wy={},qT={exports:{}},Ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp=Symbol.for("react.element"),bM=Symbol.for("react.portal"),wM=Symbol.for("react.fragment"),NM=Symbol.for("react.strict_mode"),jM=Symbol.for("react.profiler"),SM=Symbol.for("react.provider"),AM=Symbol.for("react.context"),EM=Symbol.for("react.forward_ref"),_M=Symbol.for("react.suspense"),PM=Symbol.for("react.memo"),TM=Symbol.for("react.lazy"),cA=Symbol.iterator;function CM(e){return e===null||typeof e!="object"?null:(e=cA&&e[cA]||e["@@iterator"],typeof e=="function"?e:null)}var HT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},VT=Object.assign,WT={};function bf(e,t,r){this.props=e,this.context=t,this.refs=WT,this.updater=r||HT}bf.prototype.isReactComponent={};bf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function GT(){}GT.prototype=bf.prototype;function sj(e,t,r){this.props=e,this.context=t,this.refs=WT,this.updater=r||HT}var oj=sj.prototype=new GT;oj.constructor=sj;VT(oj,bf.prototype);oj.isPureReactComponent=!0;var uA=Array.isArray,YT=Object.prototype.hasOwnProperty,lj={current:null},KT={key:!0,ref:!0,__self:!0,__source:!0};function XT(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)YT.call(t,n)&&!KT.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:bp,type:e,key:s,ref:o,props:i,_owner:lj.current}}function kM(e,t){return{$$typeof:bp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function cj(e){return typeof e=="object"&&e!==null&&e.$$typeof===bp}function OM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var dA=/\/+/g;function w1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?OM(""+e.key):t.toString(36)}function b0(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case bp:case bM:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+w1(o,0):n,uA(i)?(r="",e!=null&&(r=e.replace(dA,"$&/")+"/"),b0(i,t,r,"",function(u){return u})):i!=null&&(cj(i)&&(i=kM(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(dA,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",uA(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+w1(s,l);o+=b0(s,t,r,c,i)}else if(c=CM(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+w1(s,l++),o+=b0(s,t,r,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ag(e,t,r){if(e==null)return e;var n=[],i=0;return b0(e,n,"","",function(s){return t.call(r,s,i++)}),n}function IM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ca={current:null},w0={transition:null},LM={ReactCurrentDispatcher:Ca,ReactCurrentBatchConfig:w0,ReactCurrentOwner:lj};function JT(){throw Error("act(...) is not supported in production builds of React.")}Ut.Children={map:Ag,forEach:function(e,t,r){Ag(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ag(e,function(){t++}),t},toArray:function(e){return Ag(e,function(t){return t})||[]},only:function(e){if(!cj(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ut.Component=bf;Ut.Fragment=wM;Ut.Profiler=jM;Ut.PureComponent=sj;Ut.StrictMode=NM;Ut.Suspense=_M;Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LM;Ut.act=JT;Ut.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=VT({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=lj.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)YT.call(t,c)&&!KT.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:bp,type:e.type,key:i,ref:s,props:n,_owner:o}};Ut.createContext=function(e){return e={$$typeof:AM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:SM,_context:e},e.Consumer=e};Ut.createElement=XT;Ut.createFactory=function(e){var t=XT.bind(null,e);return t.type=e,t};Ut.createRef=function(){return{current:null}};Ut.forwardRef=function(e){return{$$typeof:EM,render:e}};Ut.isValidElement=cj;Ut.lazy=function(e){return{$$typeof:TM,_payload:{_status:-1,_result:e},_init:IM}};Ut.memo=function(e,t){return{$$typeof:PM,type:e,compare:t===void 0?null:t}};Ut.startTransition=function(e){var t=w0.transition;w0.transition={};try{e()}finally{w0.transition=t}};Ut.unstable_act=JT;Ut.useCallback=function(e,t){return Ca.current.useCallback(e,t)};Ut.useContext=function(e){return Ca.current.useContext(e)};Ut.useDebugValue=function(){};Ut.useDeferredValue=function(e){return Ca.current.useDeferredValue(e)};Ut.useEffect=function(e,t){return Ca.current.useEffect(e,t)};Ut.useId=function(){return Ca.current.useId()};Ut.useImperativeHandle=function(e,t,r){return Ca.current.useImperativeHandle(e,t,r)};Ut.useInsertionEffect=function(e,t){return Ca.current.useInsertionEffect(e,t)};Ut.useLayoutEffect=function(e,t){return Ca.current.useLayoutEffect(e,t)};Ut.useMemo=function(e,t){return Ca.current.useMemo(e,t)};Ut.useReducer=function(e,t,r){return Ca.current.useReducer(e,t,r)};Ut.useRef=function(e){return Ca.current.useRef(e)};Ut.useState=function(e){return Ca.current.useState(e)};Ut.useSyncExternalStore=function(e,t,r){return Ca.current.useSyncExternalStore(e,t,r)};Ut.useTransition=function(){return Ca.current.useTransition()};Ut.version="18.3.1";qT.exports=Ut;var L=qT.exports;const ce=lr(L),RM=vM({__proto__:null,default:ce},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MM=L,DM=Symbol.for("react.element"),$M=Symbol.for("react.fragment"),FM=Object.prototype.hasOwnProperty,BM=MM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UM={key:!0,ref:!0,__self:!0,__source:!0};function ZT(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)FM.call(t,n)&&!UM.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:DM,type:e,key:s,ref:o,props:i,_owner:BM.current}}wy.Fragment=$M;wy.jsx=ZT;wy.jsxs=ZT;zT.exports=wy;var a=zT.exports,o2={},QT={exports:{}},yi={},eC={exports:{}},tC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,U){var re=R.length;R.push(U);e:for(;0<re;){var de=re-1>>>1,B=R[de];if(0<i(B,U))R[de]=U,R[re]=B,re=de;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var U=R[0],re=R.pop();if(re!==U){R[0]=re;e:for(var de=0,B=R.length,G=B>>>1;de<G;){var te=2*(de+1)-1,ue=R[te],q=te+1,X=R[q];if(0>i(ue,re))q<B&&0>i(X,ue)?(R[de]=X,R[q]=re,de=q):(R[de]=ue,R[te]=re,de=te);else if(q<B&&0>i(X,re))R[de]=X,R[q]=re,de=q;else break e}}return U}function i(R,U){var re=R.sortIndex-U.sortIndex;return re!==0?re:R.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,h=!1,p=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(R){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=R)n(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=r(u)}}function w(R){if(y=!1,N(R),!p)if(r(c)!==null)p=!0,z(S);else{var U=r(u);U!==null&&Z(w,U.startTime-R)}}function S(R,U){p=!1,y&&(y=!1,x(k),k=-1),h=!0;var re=m;try{for(N(U),f=r(c);f!==null&&(!(f.expirationTime>U)||R&&!A());){var de=f.callback;if(typeof de=="function"){f.callback=null,m=f.priorityLevel;var B=de(f.expirationTime<=U);U=e.unstable_now(),typeof B=="function"?f.callback=B:f===r(c)&&n(c),N(U)}else n(c);f=r(c)}if(f!==null)var G=!0;else{var te=r(u);te!==null&&Z(w,te.startTime-U),G=!1}return G}finally{f=null,m=re,h=!1}}var E=!1,C=null,k=-1,P=5,D=-1;function A(){return!(e.unstable_now()-D<P)}function I(){if(C!==null){var R=e.unstable_now();D=R;var U=!0;try{U=C(!0,R)}finally{U?$():(E=!1,C=null)}}else E=!1}var $;if(typeof b=="function")$=function(){b(I)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,M=_.port2;_.port1.onmessage=I,$=function(){M.postMessage(null)}}else $=function(){v(I,0)};function z(R){C=R,E||(E=!0,$())}function Z(R,U){k=v(function(){R(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,z(S))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(R){switch(m){case 1:case 2:case 3:var U=3;break;default:U=m}var re=m;m=U;try{return R()}finally{m=re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,U){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var re=m;m=R;try{return U()}finally{m=re}},e.unstable_scheduleCallback=function(R,U,re){var de=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?de+re:de):re=de,R){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=re+B,R={id:d++,callback:U,priorityLevel:R,startTime:re,expirationTime:B,sortIndex:-1},re>de?(R.sortIndex=re,t(u,R),r(c)===null&&R===r(u)&&(y?(x(k),k=-1):y=!0,Z(w,re-de))):(R.sortIndex=B,t(c,R),p||h||(p=!0,z(S))),R},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(R){var U=m;return function(){var re=m;m=U;try{return R.apply(this,arguments)}finally{m=re}}}})(tC);eC.exports=tC;var zM=eC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qM=L,xi=zM;function Ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rC=new Set,mm={};function vu(e,t){Md(e,t),Md(e+"Capture",t)}function Md(e,t){for(mm[e]=t,e=0;e<t.length;e++)rC.add(t[e])}var Do=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l2=Object.prototype.hasOwnProperty,HM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fA={},hA={};function VM(e){return l2.call(hA,e)?!0:l2.call(fA,e)?!1:HM.test(e)?hA[e]=!0:(fA[e]=!0,!1)}function WM(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function GM(e,t,r,n){if(t===null||typeof t>"u"||WM(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ka(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Qn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qn[e]=new ka(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qn[t]=new ka(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qn[e]=new ka(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qn[e]=new ka(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qn[e]=new ka(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qn[e]=new ka(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qn[e]=new ka(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qn[e]=new ka(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qn[e]=new ka(e,5,!1,e.toLowerCase(),null,!1,!1)});var uj=/[\-:]([a-z])/g;function dj(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(uj,dj);Qn[t]=new ka(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(uj,dj);Qn[t]=new ka(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(uj,dj);Qn[t]=new ka(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qn[e]=new ka(e,1,!1,e.toLowerCase(),null,!1,!1)});Qn.xlinkHref=new ka("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qn[e]=new ka(e,1,!1,e.toLowerCase(),null,!0,!0)});function fj(e,t,r,n){var i=Qn.hasOwnProperty(t)?Qn[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(GM(t,r,i,n)&&(r=null),n||i===null?VM(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Go=qM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Eg=Symbol.for("react.element"),rd=Symbol.for("react.portal"),nd=Symbol.for("react.fragment"),hj=Symbol.for("react.strict_mode"),c2=Symbol.for("react.profiler"),nC=Symbol.for("react.provider"),aC=Symbol.for("react.context"),mj=Symbol.for("react.forward_ref"),u2=Symbol.for("react.suspense"),d2=Symbol.for("react.suspense_list"),pj=Symbol.for("react.memo"),bl=Symbol.for("react.lazy"),iC=Symbol.for("react.offscreen"),mA=Symbol.iterator;function xh(e){return e===null||typeof e!="object"?null:(e=mA&&e[mA]||e["@@iterator"],typeof e=="function"?e:null)}var qr=Object.assign,N1;function Uh(e){if(N1===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);N1=t&&t[1]||""}return`
`+N1+e}var j1=!1;function S1(e,t){if(!e||j1)return"";j1=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{j1=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Uh(e):""}function YM(e){switch(e.tag){case 5:return Uh(e.type);case 16:return Uh("Lazy");case 13:return Uh("Suspense");case 19:return Uh("SuspenseList");case 0:case 2:case 15:return e=S1(e.type,!1),e;case 11:return e=S1(e.type.render,!1),e;case 1:return e=S1(e.type,!0),e;default:return""}}function f2(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nd:return"Fragment";case rd:return"Portal";case c2:return"Profiler";case hj:return"StrictMode";case u2:return"Suspense";case d2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case aC:return(e.displayName||"Context")+".Consumer";case nC:return(e._context.displayName||"Context")+".Provider";case mj:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pj:return t=e.displayName||null,t!==null?t:f2(e.type)||"Memo";case bl:t=e._payload,e=e._init;try{return f2(e(t))}catch{}}return null}function KM(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return f2(t);case 8:return t===hj?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function XM(e){var t=sC(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _g(e){e._valueTracker||(e._valueTracker=XM(e))}function oC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=sC(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function z0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function h2(e,t){var r=t.checked;return qr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function pA(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Vl(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lC(e,t){t=t.checked,t!=null&&fj(e,"checked",t,!1)}function m2(e,t){lC(e,t);var r=Vl(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?p2(e,t.type,r):t.hasOwnProperty("defaultValue")&&p2(e,t.type,Vl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gA(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function p2(e,t,r){(t!=="number"||z0(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var zh=Array.isArray;function wd(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Vl(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function g2(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ve(91));return qr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xA(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ve(92));if(zh(r)){if(1<r.length)throw Error(Ve(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Vl(r)}}function cC(e,t){var r=Vl(t.value),n=Vl(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function yA(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function uC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function x2(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?uC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Pg,dC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Pg=Pg||document.createElement("div"),Pg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Pg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function pm(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Yh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JM=["Webkit","ms","Moz","O"];Object.keys(Yh).forEach(function(e){JM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Yh[t]=Yh[e]})});function fC(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Yh.hasOwnProperty(e)&&Yh[e]?(""+t).trim():t+"px"}function hC(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=fC(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var ZM=qr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function y2(e,t){if(t){if(ZM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ve(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ve(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ve(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ve(62))}}function v2(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var b2=null;function gj(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var w2=null,Nd=null,jd=null;function vA(e){if(e=jp(e)){if(typeof w2!="function")throw Error(Ve(280));var t=e.stateNode;t&&(t=Ey(t),w2(e.stateNode,e.type,t))}}function mC(e){Nd?jd?jd.push(e):jd=[e]:Nd=e}function pC(){if(Nd){var e=Nd,t=jd;if(jd=Nd=null,vA(e),t)for(e=0;e<t.length;e++)vA(t[e])}}function gC(e,t){return e(t)}function xC(){}var A1=!1;function yC(e,t,r){if(A1)return e(t,r);A1=!0;try{return gC(e,t,r)}finally{A1=!1,(Nd!==null||jd!==null)&&(xC(),pC())}}function gm(e,t){var r=e.stateNode;if(r===null)return null;var n=Ey(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ve(231,t,typeof r));return r}var N2=!1;if(Do)try{var yh={};Object.defineProperty(yh,"passive",{get:function(){N2=!0}}),window.addEventListener("test",yh,yh),window.removeEventListener("test",yh,yh)}catch{N2=!1}function QM(e,t,r,n,i,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Kh=!1,q0=null,H0=!1,j2=null,eD={onError:function(e){Kh=!0,q0=e}};function tD(e,t,r,n,i,s,o,l,c){Kh=!1,q0=null,QM.apply(eD,arguments)}function rD(e,t,r,n,i,s,o,l,c){if(tD.apply(this,arguments),Kh){if(Kh){var u=q0;Kh=!1,q0=null}else throw Error(Ve(198));H0||(H0=!0,j2=u)}}function bu(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function vC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bA(e){if(bu(e)!==e)throw Error(Ve(188))}function nD(e){var t=e.alternate;if(!t){if(t=bu(e),t===null)throw Error(Ve(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return bA(i),e;if(s===n)return bA(i),t;s=s.sibling}throw Error(Ve(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o)throw Error(Ve(189))}}if(r.alternate!==n)throw Error(Ve(190))}if(r.tag!==3)throw Error(Ve(188));return r.stateNode.current===r?e:t}function bC(e){return e=nD(e),e!==null?wC(e):null}function wC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wC(e);if(t!==null)return t;e=e.sibling}return null}var NC=xi.unstable_scheduleCallback,wA=xi.unstable_cancelCallback,aD=xi.unstable_shouldYield,iD=xi.unstable_requestPaint,tn=xi.unstable_now,sD=xi.unstable_getCurrentPriorityLevel,xj=xi.unstable_ImmediatePriority,jC=xi.unstable_UserBlockingPriority,V0=xi.unstable_NormalPriority,oD=xi.unstable_LowPriority,SC=xi.unstable_IdlePriority,Ny=null,qs=null;function lD(e){if(qs&&typeof qs.onCommitFiberRoot=="function")try{qs.onCommitFiberRoot(Ny,e,void 0,(e.current.flags&128)===128)}catch{}}var us=Math.clz32?Math.clz32:dD,cD=Math.log,uD=Math.LN2;function dD(e){return e>>>=0,e===0?32:31-(cD(e)/uD|0)|0}var Tg=64,Cg=4194304;function qh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function W0(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=qh(l):(s&=o,s!==0&&(n=qh(s)))}else o=r&~i,o!==0?n=qh(o):s!==0&&(n=qh(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-us(t),i=1<<r,n|=e[r],t&=~i;return n}function fD(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hD(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-us(s),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=fD(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function S2(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function AC(){var e=Tg;return Tg<<=1,!(Tg&4194240)&&(Tg=64),e}function E1(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function wp(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-us(t),e[t]=r}function mD(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-us(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function yj(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-us(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var or=0;function EC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _C,vj,PC,TC,CC,A2=!1,kg=[],Rl=null,Ml=null,Dl=null,xm=new Map,ym=new Map,Sl=[],pD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function NA(e,t){switch(e){case"focusin":case"focusout":Rl=null;break;case"dragenter":case"dragleave":Ml=null;break;case"mouseover":case"mouseout":Dl=null;break;case"pointerover":case"pointerout":xm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ym.delete(t.pointerId)}}function vh(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=jp(t),t!==null&&vj(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function gD(e,t,r,n,i){switch(t){case"focusin":return Rl=vh(Rl,e,t,r,n,i),!0;case"dragenter":return Ml=vh(Ml,e,t,r,n,i),!0;case"mouseover":return Dl=vh(Dl,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return xm.set(s,vh(xm.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,ym.set(s,vh(ym.get(s)||null,e,t,r,n,i)),!0}return!1}function kC(e){var t=Mc(e.target);if(t!==null){var r=bu(t);if(r!==null){if(t=r.tag,t===13){if(t=vC(r),t!==null){e.blockedOn=t,CC(e.priority,function(){PC(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function N0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=E2(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);b2=n,r.target.dispatchEvent(n),b2=null}else return t=jp(r),t!==null&&vj(t),e.blockedOn=r,!1;t.shift()}return!0}function jA(e,t,r){N0(e)&&r.delete(t)}function xD(){A2=!1,Rl!==null&&N0(Rl)&&(Rl=null),Ml!==null&&N0(Ml)&&(Ml=null),Dl!==null&&N0(Dl)&&(Dl=null),xm.forEach(jA),ym.forEach(jA)}function bh(e,t){e.blockedOn===t&&(e.blockedOn=null,A2||(A2=!0,xi.unstable_scheduleCallback(xi.unstable_NormalPriority,xD)))}function vm(e){function t(i){return bh(i,e)}if(0<kg.length){bh(kg[0],e);for(var r=1;r<kg.length;r++){var n=kg[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Rl!==null&&bh(Rl,e),Ml!==null&&bh(Ml,e),Dl!==null&&bh(Dl,e),xm.forEach(t),ym.forEach(t),r=0;r<Sl.length;r++)n=Sl[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Sl.length&&(r=Sl[0],r.blockedOn===null);)kC(r),r.blockedOn===null&&Sl.shift()}var Sd=Go.ReactCurrentBatchConfig,G0=!0;function yD(e,t,r,n){var i=or,s=Sd.transition;Sd.transition=null;try{or=1,bj(e,t,r,n)}finally{or=i,Sd.transition=s}}function vD(e,t,r,n){var i=or,s=Sd.transition;Sd.transition=null;try{or=4,bj(e,t,r,n)}finally{or=i,Sd.transition=s}}function bj(e,t,r,n){if(G0){var i=E2(e,t,r,n);if(i===null)M1(e,t,n,Y0,r),NA(e,n);else if(gD(i,e,t,r,n))n.stopPropagation();else if(NA(e,n),t&4&&-1<pD.indexOf(e)){for(;i!==null;){var s=jp(i);if(s!==null&&_C(s),s=E2(e,t,r,n),s===null&&M1(e,t,n,Y0,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else M1(e,t,n,null,r)}}var Y0=null;function E2(e,t,r,n){if(Y0=null,e=gj(n),e=Mc(e),e!==null)if(t=bu(e),t===null)e=null;else if(r=t.tag,r===13){if(e=vC(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Y0=e,null}function OC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sD()){case xj:return 1;case jC:return 4;case V0:case oD:return 16;case SC:return 536870912;default:return 16}default:return 16}}var Tl=null,wj=null,j0=null;function IC(){if(j0)return j0;var e,t=wj,r=t.length,n,i="value"in Tl?Tl.value:Tl.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return j0=i.slice(e,1<n?1-n:void 0)}function S0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Og(){return!0}function SA(){return!1}function vi(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Og:SA,this.isPropagationStopped=SA,this}return qr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Og)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Og)},persist:function(){},isPersistent:Og}),t}var wf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nj=vi(wf),Np=qr({},wf,{view:0,detail:0}),bD=vi(Np),_1,P1,wh,jy=qr({},Np,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jj,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wh&&(wh&&e.type==="mousemove"?(_1=e.screenX-wh.screenX,P1=e.screenY-wh.screenY):P1=_1=0,wh=e),_1)},movementY:function(e){return"movementY"in e?e.movementY:P1}}),AA=vi(jy),wD=qr({},jy,{dataTransfer:0}),ND=vi(wD),jD=qr({},Np,{relatedTarget:0}),T1=vi(jD),SD=qr({},wf,{animationName:0,elapsedTime:0,pseudoElement:0}),AD=vi(SD),ED=qr({},wf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_D=vi(ED),PD=qr({},wf,{data:0}),EA=vi(PD),TD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kD[e])?!!t[e]:!1}function jj(){return OD}var ID=qr({},Np,{key:function(e){if(e.key){var t=TD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=S0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?CD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jj,charCode:function(e){return e.type==="keypress"?S0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?S0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),LD=vi(ID),RD=qr({},jy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_A=vi(RD),MD=qr({},Np,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jj}),DD=vi(MD),$D=qr({},wf,{propertyName:0,elapsedTime:0,pseudoElement:0}),FD=vi($D),BD=qr({},jy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),UD=vi(BD),zD=[9,13,27,32],Sj=Do&&"CompositionEvent"in window,Xh=null;Do&&"documentMode"in document&&(Xh=document.documentMode);var qD=Do&&"TextEvent"in window&&!Xh,LC=Do&&(!Sj||Xh&&8<Xh&&11>=Xh),PA=" ",TA=!1;function RC(e,t){switch(e){case"keyup":return zD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ad=!1;function HD(e,t){switch(e){case"compositionend":return MC(t);case"keypress":return t.which!==32?null:(TA=!0,PA);case"textInput":return e=t.data,e===PA&&TA?null:e;default:return null}}function VD(e,t){if(ad)return e==="compositionend"||!Sj&&RC(e,t)?(e=IC(),j0=wj=Tl=null,ad=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return LC&&t.locale!=="ko"?null:t.data;default:return null}}var WD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!WD[e.type]:t==="textarea"}function DC(e,t,r,n){mC(n),t=K0(t,"onChange"),0<t.length&&(r=new Nj("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Jh=null,bm=null;function GD(e){YC(e,0)}function Sy(e){var t=od(e);if(oC(t))return e}function YD(e,t){if(e==="change")return t}var $C=!1;if(Do){var C1;if(Do){var k1="oninput"in document;if(!k1){var kA=document.createElement("div");kA.setAttribute("oninput","return;"),k1=typeof kA.oninput=="function"}C1=k1}else C1=!1;$C=C1&&(!document.documentMode||9<document.documentMode)}function OA(){Jh&&(Jh.detachEvent("onpropertychange",FC),bm=Jh=null)}function FC(e){if(e.propertyName==="value"&&Sy(bm)){var t=[];DC(t,bm,e,gj(e)),yC(GD,t)}}function KD(e,t,r){e==="focusin"?(OA(),Jh=t,bm=r,Jh.attachEvent("onpropertychange",FC)):e==="focusout"&&OA()}function XD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sy(bm)}function JD(e,t){if(e==="click")return Sy(t)}function ZD(e,t){if(e==="input"||e==="change")return Sy(t)}function QD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ms=typeof Object.is=="function"?Object.is:QD;function wm(e,t){if(ms(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!l2.call(t,i)||!ms(e[i],t[i]))return!1}return!0}function IA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function LA(e,t){var r=IA(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=IA(r)}}function BC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?BC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function UC(){for(var e=window,t=z0();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=z0(e.document)}return t}function Aj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function e$(e){var t=UC(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&BC(r.ownerDocument.documentElement,r)){if(n!==null&&Aj(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=LA(r,s);var o=LA(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var t$=Do&&"documentMode"in document&&11>=document.documentMode,id=null,_2=null,Zh=null,P2=!1;function RA(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;P2||id==null||id!==z0(n)||(n=id,"selectionStart"in n&&Aj(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Zh&&wm(Zh,n)||(Zh=n,n=K0(_2,"onSelect"),0<n.length&&(t=new Nj("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=id)))}function Ig(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var sd={animationend:Ig("Animation","AnimationEnd"),animationiteration:Ig("Animation","AnimationIteration"),animationstart:Ig("Animation","AnimationStart"),transitionend:Ig("Transition","TransitionEnd")},O1={},zC={};Do&&(zC=document.createElement("div").style,"AnimationEvent"in window||(delete sd.animationend.animation,delete sd.animationiteration.animation,delete sd.animationstart.animation),"TransitionEvent"in window||delete sd.transitionend.transition);function Ay(e){if(O1[e])return O1[e];if(!sd[e])return e;var t=sd[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in zC)return O1[e]=t[r];return e}var qC=Ay("animationend"),HC=Ay("animationiteration"),VC=Ay("animationstart"),WC=Ay("transitionend"),GC=new Map,MA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kl(e,t){GC.set(e,t),vu(t,[e])}for(var I1=0;I1<MA.length;I1++){var L1=MA[I1],r$=L1.toLowerCase(),n$=L1[0].toUpperCase()+L1.slice(1);Kl(r$,"on"+n$)}Kl(qC,"onAnimationEnd");Kl(HC,"onAnimationIteration");Kl(VC,"onAnimationStart");Kl("dblclick","onDoubleClick");Kl("focusin","onFocus");Kl("focusout","onBlur");Kl(WC,"onTransitionEnd");Md("onMouseEnter",["mouseout","mouseover"]);Md("onMouseLeave",["mouseout","mouseover"]);Md("onPointerEnter",["pointerout","pointerover"]);Md("onPointerLeave",["pointerout","pointerover"]);vu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vu("onBeforeInput",["compositionend","keypress","textInput","paste"]);vu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hh));function DA(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,rD(n,t,void 0,e),e.currentTarget=null}function YC(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;DA(i,l,u),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;DA(i,l,u),s=c}}}if(H0)throw e=j2,H0=!1,j2=null,e}function _r(e,t){var r=t[I2];r===void 0&&(r=t[I2]=new Set);var n=e+"__bubble";r.has(n)||(KC(t,e,2,!1),r.add(n))}function R1(e,t,r){var n=0;t&&(n|=4),KC(r,e,n,t)}var Lg="_reactListening"+Math.random().toString(36).slice(2);function Nm(e){if(!e[Lg]){e[Lg]=!0,rC.forEach(function(r){r!=="selectionchange"&&(a$.has(r)||R1(r,!1,e),R1(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lg]||(t[Lg]=!0,R1("selectionchange",!1,t))}}function KC(e,t,r,n){switch(OC(t)){case 1:var i=yD;break;case 4:i=vD;break;default:i=bj}r=i.bind(null,t,r,e),i=void 0,!N2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function M1(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Mc(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}yC(function(){var u=s,d=gj(r),f=[];e:{var m=GC.get(e);if(m!==void 0){var h=Nj,p=e;switch(e){case"keypress":if(S0(r)===0)break e;case"keydown":case"keyup":h=LD;break;case"focusin":p="focus",h=T1;break;case"focusout":p="blur",h=T1;break;case"beforeblur":case"afterblur":h=T1;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=AA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=ND;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=DD;break;case qC:case HC:case VC:h=AD;break;case WC:h=FD;break;case"scroll":h=bD;break;case"wheel":h=UD;break;case"copy":case"cut":case"paste":h=_D;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=_A}var y=(t&4)!==0,v=!y&&e==="scroll",x=y?m!==null?m+"Capture":null:m;y=[];for(var b=u,N;b!==null;){N=b;var w=N.stateNode;if(N.tag===5&&w!==null&&(N=w,x!==null&&(w=gm(b,x),w!=null&&y.push(jm(b,w,N)))),v)break;b=b.return}0<y.length&&(m=new h(m,p,null,r,d),f.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&r!==b2&&(p=r.relatedTarget||r.fromElement)&&(Mc(p)||p[$o]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(p=r.relatedTarget||r.toElement,h=u,p=p?Mc(p):null,p!==null&&(v=bu(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(y=AA,w="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(y=_A,w="onPointerLeave",x="onPointerEnter",b="pointer"),v=h==null?m:od(h),N=p==null?m:od(p),m=new y(w,b+"leave",h,r,d),m.target=v,m.relatedTarget=N,w=null,Mc(d)===u&&(y=new y(x,b+"enter",p,r,d),y.target=N,y.relatedTarget=v,w=y),v=w,h&&p)t:{for(y=h,x=p,b=0,N=y;N;N=zu(N))b++;for(N=0,w=x;w;w=zu(w))N++;for(;0<b-N;)y=zu(y),b--;for(;0<N-b;)x=zu(x),N--;for(;b--;){if(y===x||x!==null&&y===x.alternate)break t;y=zu(y),x=zu(x)}y=null}else y=null;h!==null&&$A(f,m,h,y,!1),p!==null&&v!==null&&$A(f,v,p,y,!0)}}e:{if(m=u?od(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var S=YD;else if(CA(m))if($C)S=ZD;else{S=XD;var E=KD}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=JD);if(S&&(S=S(e,u))){DC(f,S,r,d);break e}E&&E(e,m,u),e==="focusout"&&(E=m._wrapperState)&&E.controlled&&m.type==="number"&&p2(m,"number",m.value)}switch(E=u?od(u):window,e){case"focusin":(CA(E)||E.contentEditable==="true")&&(id=E,_2=u,Zh=null);break;case"focusout":Zh=_2=id=null;break;case"mousedown":P2=!0;break;case"contextmenu":case"mouseup":case"dragend":P2=!1,RA(f,r,d);break;case"selectionchange":if(t$)break;case"keydown":case"keyup":RA(f,r,d)}var C;if(Sj)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else ad?RC(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(LC&&r.locale!=="ko"&&(ad||k!=="onCompositionStart"?k==="onCompositionEnd"&&ad&&(C=IC()):(Tl=d,wj="value"in Tl?Tl.value:Tl.textContent,ad=!0)),E=K0(u,k),0<E.length&&(k=new EA(k,e,null,r,d),f.push({event:k,listeners:E}),C?k.data=C:(C=MC(r),C!==null&&(k.data=C)))),(C=qD?HD(e,r):VD(e,r))&&(u=K0(u,"onBeforeInput"),0<u.length&&(d=new EA("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=C))}YC(f,t)})}function jm(e,t,r){return{instance:e,listener:t,currentTarget:r}}function K0(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=gm(e,r),s!=null&&n.unshift(jm(e,s,i)),s=gm(e,t),s!=null&&n.push(jm(e,s,i))),e=e.return}return n}function zu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $A(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=gm(r,s),c!=null&&o.unshift(jm(r,c,l))):i||(c=gm(r,s),c!=null&&o.push(jm(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var i$=/\r\n?/g,s$=/\u0000|\uFFFD/g;function FA(e){return(typeof e=="string"?e:""+e).replace(i$,`
`).replace(s$,"")}function Rg(e,t,r){if(t=FA(t),FA(e)!==t&&r)throw Error(Ve(425))}function X0(){}var T2=null,C2=null;function k2(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var O2=typeof setTimeout=="function"?setTimeout:void 0,o$=typeof clearTimeout=="function"?clearTimeout:void 0,BA=typeof Promise=="function"?Promise:void 0,l$=typeof queueMicrotask=="function"?queueMicrotask:typeof BA<"u"?function(e){return BA.resolve(null).then(e).catch(c$)}:O2;function c$(e){setTimeout(function(){throw e})}function D1(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),vm(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);vm(t)}function $l(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function UA(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Ds="__reactFiber$"+Nf,Sm="__reactProps$"+Nf,$o="__reactContainer$"+Nf,I2="__reactEvents$"+Nf,u$="__reactListeners$"+Nf,d$="__reactHandles$"+Nf;function Mc(e){var t=e[Ds];if(t)return t;for(var r=e.parentNode;r;){if(t=r[$o]||r[Ds]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=UA(e);e!==null;){if(r=e[Ds])return r;e=UA(e)}return t}e=r,r=e.parentNode}return null}function jp(e){return e=e[Ds]||e[$o],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function od(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ve(33))}function Ey(e){return e[Sm]||null}var L2=[],ld=-1;function Xl(e){return{current:e}}function kr(e){0>ld||(e.current=L2[ld],L2[ld]=null,ld--)}function jr(e,t){ld++,L2[ld]=e.current,e.current=t}var Wl={},ma=Xl(Wl),qa=Xl(!1),eu=Wl;function Dd(e,t){var r=e.type.contextTypes;if(!r)return Wl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ha(e){return e=e.childContextTypes,e!=null}function J0(){kr(qa),kr(ma)}function zA(e,t,r){if(ma.current!==Wl)throw Error(Ve(168));jr(ma,t),jr(qa,r)}function XC(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Ve(108,KM(e)||"Unknown",i));return qr({},r,n)}function Z0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wl,eu=ma.current,jr(ma,e),jr(qa,qa.current),!0}function qA(e,t,r){var n=e.stateNode;if(!n)throw Error(Ve(169));r?(e=XC(e,t,eu),n.__reactInternalMemoizedMergedChildContext=e,kr(qa),kr(ma),jr(ma,e)):kr(qa),jr(qa,r)}var No=null,_y=!1,$1=!1;function JC(e){No===null?No=[e]:No.push(e)}function f$(e){_y=!0,JC(e)}function Jl(){if(!$1&&No!==null){$1=!0;var e=0,t=or;try{var r=No;for(or=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}No=null,_y=!1}catch(i){throw No!==null&&(No=No.slice(e+1)),NC(xj,Jl),i}finally{or=t,$1=!1}}return null}var cd=[],ud=0,Q0=null,ex=0,Oi=[],Ii=0,tu=null,_o=1,Po="";function Ec(e,t){cd[ud++]=ex,cd[ud++]=Q0,Q0=e,ex=t}function ZC(e,t,r){Oi[Ii++]=_o,Oi[Ii++]=Po,Oi[Ii++]=tu,tu=e;var n=_o;e=Po;var i=32-us(n)-1;n&=~(1<<i),r+=1;var s=32-us(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,_o=1<<32-us(t)+i|r<<i|n,Po=s+e}else _o=1<<s|r<<i|n,Po=e}function Ej(e){e.return!==null&&(Ec(e,1),ZC(e,1,0))}function _j(e){for(;e===Q0;)Q0=cd[--ud],cd[ud]=null,ex=cd[--ud],cd[ud]=null;for(;e===tu;)tu=Oi[--Ii],Oi[Ii]=null,Po=Oi[--Ii],Oi[Ii]=null,_o=Oi[--Ii],Oi[Ii]=null}var mi=null,fi=null,Lr=!1,os=null;function QC(e,t){var r=Ri(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function HA(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mi=e,fi=$l(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mi=e,fi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=tu!==null?{id:_o,overflow:Po}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ri(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,mi=e,fi=null,!0):!1;default:return!1}}function R2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function M2(e){if(Lr){var t=fi;if(t){var r=t;if(!HA(e,t)){if(R2(e))throw Error(Ve(418));t=$l(r.nextSibling);var n=mi;t&&HA(e,t)?QC(n,r):(e.flags=e.flags&-4097|2,Lr=!1,mi=e)}}else{if(R2(e))throw Error(Ve(418));e.flags=e.flags&-4097|2,Lr=!1,mi=e}}}function VA(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mi=e}function Mg(e){if(e!==mi)return!1;if(!Lr)return VA(e),Lr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!k2(e.type,e.memoizedProps)),t&&(t=fi)){if(R2(e))throw ek(),Error(Ve(418));for(;t;)QC(e,t),t=$l(t.nextSibling)}if(VA(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ve(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){fi=$l(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}fi=null}}else fi=mi?$l(e.stateNode.nextSibling):null;return!0}function ek(){for(var e=fi;e;)e=$l(e.nextSibling)}function $d(){fi=mi=null,Lr=!1}function Pj(e){os===null?os=[e]:os.push(e)}var h$=Go.ReactCurrentBatchConfig;function Nh(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ve(309));var n=r.stateNode}if(!n)throw Error(Ve(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Ve(284));if(!r._owner)throw Error(Ve(290,e))}return e}function Dg(e,t){throw e=Object.prototype.toString.call(t),Error(Ve(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function WA(e){var t=e._init;return t(e._payload)}function tk(e){function t(x,b){if(e){var N=x.deletions;N===null?(x.deletions=[b],x.flags|=16):N.push(b)}}function r(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=zl(x,b),x.index=0,x.sibling=null,x}function s(x,b,N){return x.index=N,e?(N=x.alternate,N!==null?(N=N.index,N<b?(x.flags|=2,b):N):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,b,N,w){return b===null||b.tag!==6?(b=V1(N,x.mode,w),b.return=x,b):(b=i(b,N),b.return=x,b)}function c(x,b,N,w){var S=N.type;return S===nd?d(x,b,N.props.children,w,N.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===bl&&WA(S)===b.type)?(w=i(b,N.props),w.ref=Nh(x,b,N),w.return=x,w):(w=k0(N.type,N.key,N.props,null,x.mode,w),w.ref=Nh(x,b,N),w.return=x,w)}function u(x,b,N,w){return b===null||b.tag!==4||b.stateNode.containerInfo!==N.containerInfo||b.stateNode.implementation!==N.implementation?(b=W1(N,x.mode,w),b.return=x,b):(b=i(b,N.children||[]),b.return=x,b)}function d(x,b,N,w,S){return b===null||b.tag!==7?(b=Gc(N,x.mode,w,S),b.return=x,b):(b=i(b,N),b.return=x,b)}function f(x,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return b=V1(""+b,x.mode,N),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Eg:return N=k0(b.type,b.key,b.props,null,x.mode,N),N.ref=Nh(x,null,b),N.return=x,N;case rd:return b=W1(b,x.mode,N),b.return=x,b;case bl:var w=b._init;return f(x,w(b._payload),N)}if(zh(b)||xh(b))return b=Gc(b,x.mode,N,null),b.return=x,b;Dg(x,b)}return null}function m(x,b,N,w){var S=b!==null?b.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return S!==null?null:l(x,b,""+N,w);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Eg:return N.key===S?c(x,b,N,w):null;case rd:return N.key===S?u(x,b,N,w):null;case bl:return S=N._init,m(x,b,S(N._payload),w)}if(zh(N)||xh(N))return S!==null?null:d(x,b,N,w,null);Dg(x,N)}return null}function h(x,b,N,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return x=x.get(N)||null,l(b,x,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Eg:return x=x.get(w.key===null?N:w.key)||null,c(b,x,w,S);case rd:return x=x.get(w.key===null?N:w.key)||null,u(b,x,w,S);case bl:var E=w._init;return h(x,b,N,E(w._payload),S)}if(zh(w)||xh(w))return x=x.get(N)||null,d(b,x,w,S,null);Dg(b,w)}return null}function p(x,b,N,w){for(var S=null,E=null,C=b,k=b=0,P=null;C!==null&&k<N.length;k++){C.index>k?(P=C,C=null):P=C.sibling;var D=m(x,C,N[k],w);if(D===null){C===null&&(C=P);break}e&&C&&D.alternate===null&&t(x,C),b=s(D,b,k),E===null?S=D:E.sibling=D,E=D,C=P}if(k===N.length)return r(x,C),Lr&&Ec(x,k),S;if(C===null){for(;k<N.length;k++)C=f(x,N[k],w),C!==null&&(b=s(C,b,k),E===null?S=C:E.sibling=C,E=C);return Lr&&Ec(x,k),S}for(C=n(x,C);k<N.length;k++)P=h(C,x,k,N[k],w),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?k:P.key),b=s(P,b,k),E===null?S=P:E.sibling=P,E=P);return e&&C.forEach(function(A){return t(x,A)}),Lr&&Ec(x,k),S}function y(x,b,N,w){var S=xh(N);if(typeof S!="function")throw Error(Ve(150));if(N=S.call(N),N==null)throw Error(Ve(151));for(var E=S=null,C=b,k=b=0,P=null,D=N.next();C!==null&&!D.done;k++,D=N.next()){C.index>k?(P=C,C=null):P=C.sibling;var A=m(x,C,D.value,w);if(A===null){C===null&&(C=P);break}e&&C&&A.alternate===null&&t(x,C),b=s(A,b,k),E===null?S=A:E.sibling=A,E=A,C=P}if(D.done)return r(x,C),Lr&&Ec(x,k),S;if(C===null){for(;!D.done;k++,D=N.next())D=f(x,D.value,w),D!==null&&(b=s(D,b,k),E===null?S=D:E.sibling=D,E=D);return Lr&&Ec(x,k),S}for(C=n(x,C);!D.done;k++,D=N.next())D=h(C,x,k,D.value,w),D!==null&&(e&&D.alternate!==null&&C.delete(D.key===null?k:D.key),b=s(D,b,k),E===null?S=D:E.sibling=D,E=D);return e&&C.forEach(function(I){return t(x,I)}),Lr&&Ec(x,k),S}function v(x,b,N,w){if(typeof N=="object"&&N!==null&&N.type===nd&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Eg:e:{for(var S=N.key,E=b;E!==null;){if(E.key===S){if(S=N.type,S===nd){if(E.tag===7){r(x,E.sibling),b=i(E,N.props.children),b.return=x,x=b;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===bl&&WA(S)===E.type){r(x,E.sibling),b=i(E,N.props),b.ref=Nh(x,E,N),b.return=x,x=b;break e}r(x,E);break}else t(x,E);E=E.sibling}N.type===nd?(b=Gc(N.props.children,x.mode,w,N.key),b.return=x,x=b):(w=k0(N.type,N.key,N.props,null,x.mode,w),w.ref=Nh(x,b,N),w.return=x,x=w)}return o(x);case rd:e:{for(E=N.key;b!==null;){if(b.key===E)if(b.tag===4&&b.stateNode.containerInfo===N.containerInfo&&b.stateNode.implementation===N.implementation){r(x,b.sibling),b=i(b,N.children||[]),b.return=x,x=b;break e}else{r(x,b);break}else t(x,b);b=b.sibling}b=W1(N,x.mode,w),b.return=x,x=b}return o(x);case bl:return E=N._init,v(x,b,E(N._payload),w)}if(zh(N))return p(x,b,N,w);if(xh(N))return y(x,b,N,w);Dg(x,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,b!==null&&b.tag===6?(r(x,b.sibling),b=i(b,N),b.return=x,x=b):(r(x,b),b=V1(N,x.mode,w),b.return=x,x=b),o(x)):r(x,b)}return v}var Fd=tk(!0),rk=tk(!1),tx=Xl(null),rx=null,dd=null,Tj=null;function Cj(){Tj=dd=rx=null}function kj(e){var t=tx.current;kr(tx),e._currentValue=t}function D2(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ad(e,t){rx=e,Tj=dd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ua=!0),e.firstContext=null)}function Fi(e){var t=e._currentValue;if(Tj!==e)if(e={context:e,memoizedValue:t,next:null},dd===null){if(rx===null)throw Error(Ve(308));dd=e,rx.dependencies={lanes:0,firstContext:e}}else dd=dd.next=e;return t}var Dc=null;function Oj(e){Dc===null?Dc=[e]:Dc.push(e)}function nk(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Oj(t)):(r.next=i.next,i.next=r),t.interleaved=r,Fo(e,n)}function Fo(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var wl=!1;function Ij(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ak(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fl(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Xt&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Fo(e,r)}return i=n.interleaved,i===null?(t.next=t,Oj(n)):(t.next=i.next,i.next=t),n.interleaved=t,Fo(e,r)}function A0(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,yj(e,r)}}function GA(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function nx(e,t,r,n){var i=e.updateQueue;wl=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;o=0,d=u=c=null,l=s;do{var m=l.lane,h=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,y=l;switch(m=t,h=r,y.tag){case 1:if(p=y.payload,typeof p=="function"){f=p.call(h,f,m);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,m=typeof p=="function"?p.call(h,f,m):p,m==null)break e;f=qr({},f,m);break e;case 2:wl=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else h={eventTime:h,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,c=f):d=d.next=h,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);nu|=o,e.lanes=o,e.memoizedState=f}}function YA(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Ve(191,i));i.call(n)}}}var Sp={},Hs=Xl(Sp),Am=Xl(Sp),Em=Xl(Sp);function $c(e){if(e===Sp)throw Error(Ve(174));return e}function Lj(e,t){switch(jr(Em,t),jr(Am,e),jr(Hs,Sp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:x2(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=x2(t,e)}kr(Hs),jr(Hs,t)}function Bd(){kr(Hs),kr(Am),kr(Em)}function ik(e){$c(Em.current);var t=$c(Hs.current),r=x2(t,e.type);t!==r&&(jr(Am,e),jr(Hs,r))}function Rj(e){Am.current===e&&(kr(Hs),kr(Am))}var Fr=Xl(0);function ax(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var F1=[];function Mj(){for(var e=0;e<F1.length;e++)F1[e]._workInProgressVersionPrimary=null;F1.length=0}var E0=Go.ReactCurrentDispatcher,B1=Go.ReactCurrentBatchConfig,ru=0,Ur=null,Sn=null,kn=null,ix=!1,Qh=!1,_m=0,m$=0;function ta(){throw Error(Ve(321))}function Dj(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ms(e[r],t[r]))return!1;return!0}function $j(e,t,r,n,i,s){if(ru=s,Ur=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,E0.current=e===null||e.memoizedState===null?y$:v$,e=r(n,i),Qh){s=0;do{if(Qh=!1,_m=0,25<=s)throw Error(Ve(301));s+=1,kn=Sn=null,t.updateQueue=null,E0.current=b$,e=r(n,i)}while(Qh)}if(E0.current=sx,t=Sn!==null&&Sn.next!==null,ru=0,kn=Sn=Ur=null,ix=!1,t)throw Error(Ve(300));return e}function Fj(){var e=_m!==0;return _m=0,e}function Rs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?Ur.memoizedState=kn=e:kn=kn.next=e,kn}function Bi(){if(Sn===null){var e=Ur.alternate;e=e!==null?e.memoizedState:null}else e=Sn.next;var t=kn===null?Ur.memoizedState:kn.next;if(t!==null)kn=t,Sn=e;else{if(e===null)throw Error(Ve(310));Sn=e,e={memoizedState:Sn.memoizedState,baseState:Sn.baseState,baseQueue:Sn.baseQueue,queue:Sn.queue,next:null},kn===null?Ur.memoizedState=kn=e:kn=kn.next=e}return kn}function Pm(e,t){return typeof t=="function"?t(e):t}function U1(e){var t=Bi(),r=t.queue;if(r===null)throw Error(Ve(311));r.lastRenderedReducer=e;var n=Sn,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((ru&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Ur.lanes|=d,nu|=d}u=u.next}while(u!==null&&u!==s);c===null?o=n:c.next=l,ms(n,t.memoizedState)||(Ua=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,Ur.lanes|=s,nu|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function z1(e){var t=Bi(),r=t.queue;if(r===null)throw Error(Ve(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);ms(s,t.memoizedState)||(Ua=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function sk(){}function ok(e,t){var r=Ur,n=Bi(),i=t(),s=!ms(n.memoizedState,i);if(s&&(n.memoizedState=i,Ua=!0),n=n.queue,Bj(uk.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||kn!==null&&kn.memoizedState.tag&1){if(r.flags|=2048,Tm(9,ck.bind(null,r,n,i,t),void 0,null),Dn===null)throw Error(Ve(349));ru&30||lk(r,t,i)}return i}function lk(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ur.updateQueue,t===null?(t={lastEffect:null,stores:null},Ur.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ck(e,t,r,n){t.value=r,t.getSnapshot=n,dk(t)&&fk(e)}function uk(e,t,r){return r(function(){dk(t)&&fk(e)})}function dk(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ms(e,r)}catch{return!0}}function fk(e){var t=Fo(e,1);t!==null&&ds(t,e,1,-1)}function KA(e){var t=Rs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pm,lastRenderedState:e},t.queue=e,e=e.dispatch=x$.bind(null,Ur,e),[t.memoizedState,e]}function Tm(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ur.updateQueue,t===null?(t={lastEffect:null,stores:null},Ur.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function hk(){return Bi().memoizedState}function _0(e,t,r,n){var i=Rs();Ur.flags|=e,i.memoizedState=Tm(1|t,r,void 0,n===void 0?null:n)}function Py(e,t,r,n){var i=Bi();n=n===void 0?null:n;var s=void 0;if(Sn!==null){var o=Sn.memoizedState;if(s=o.destroy,n!==null&&Dj(n,o.deps)){i.memoizedState=Tm(t,r,s,n);return}}Ur.flags|=e,i.memoizedState=Tm(1|t,r,s,n)}function XA(e,t){return _0(8390656,8,e,t)}function Bj(e,t){return Py(2048,8,e,t)}function mk(e,t){return Py(4,2,e,t)}function pk(e,t){return Py(4,4,e,t)}function gk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xk(e,t,r){return r=r!=null?r.concat([e]):null,Py(4,4,gk.bind(null,t,e),r)}function Uj(){}function yk(e,t){var r=Bi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Dj(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function vk(e,t){var r=Bi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Dj(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function bk(e,t,r){return ru&21?(ms(r,t)||(r=AC(),Ur.lanes|=r,nu|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ua=!0),e.memoizedState=r)}function p$(e,t){var r=or;or=r!==0&&4>r?r:4,e(!0);var n=B1.transition;B1.transition={};try{e(!1),t()}finally{or=r,B1.transition=n}}function wk(){return Bi().memoizedState}function g$(e,t,r){var n=Ul(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Nk(e))jk(t,r);else if(r=nk(e,t,r,n),r!==null){var i=Ta();ds(r,e,n,i),Sk(r,t,n)}}function x$(e,t,r){var n=Ul(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Nk(e))jk(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(i.hasEagerState=!0,i.eagerState=l,ms(l,o)){var c=t.interleaved;c===null?(i.next=i,Oj(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=nk(e,t,i,n),r!==null&&(i=Ta(),ds(r,e,n,i),Sk(r,t,n))}}function Nk(e){var t=e.alternate;return e===Ur||t!==null&&t===Ur}function jk(e,t){Qh=ix=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Sk(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,yj(e,r)}}var sx={readContext:Fi,useCallback:ta,useContext:ta,useEffect:ta,useImperativeHandle:ta,useInsertionEffect:ta,useLayoutEffect:ta,useMemo:ta,useReducer:ta,useRef:ta,useState:ta,useDebugValue:ta,useDeferredValue:ta,useTransition:ta,useMutableSource:ta,useSyncExternalStore:ta,useId:ta,unstable_isNewReconciler:!1},y$={readContext:Fi,useCallback:function(e,t){return Rs().memoizedState=[e,t===void 0?null:t],e},useContext:Fi,useEffect:XA,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,_0(4194308,4,gk.bind(null,t,e),r)},useLayoutEffect:function(e,t){return _0(4194308,4,e,t)},useInsertionEffect:function(e,t){return _0(4,2,e,t)},useMemo:function(e,t){var r=Rs();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Rs();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=g$.bind(null,Ur,e),[n.memoizedState,e]},useRef:function(e){var t=Rs();return e={current:e},t.memoizedState=e},useState:KA,useDebugValue:Uj,useDeferredValue:function(e){return Rs().memoizedState=e},useTransition:function(){var e=KA(!1),t=e[0];return e=p$.bind(null,e[1]),Rs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ur,i=Rs();if(Lr){if(r===void 0)throw Error(Ve(407));r=r()}else{if(r=t(),Dn===null)throw Error(Ve(349));ru&30||lk(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,XA(uk.bind(null,n,s,e),[e]),n.flags|=2048,Tm(9,ck.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Rs(),t=Dn.identifierPrefix;if(Lr){var r=Po,n=_o;r=(n&~(1<<32-us(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=_m++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=m$++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},v$={readContext:Fi,useCallback:yk,useContext:Fi,useEffect:Bj,useImperativeHandle:xk,useInsertionEffect:mk,useLayoutEffect:pk,useMemo:vk,useReducer:U1,useRef:hk,useState:function(){return U1(Pm)},useDebugValue:Uj,useDeferredValue:function(e){var t=Bi();return bk(t,Sn.memoizedState,e)},useTransition:function(){var e=U1(Pm)[0],t=Bi().memoizedState;return[e,t]},useMutableSource:sk,useSyncExternalStore:ok,useId:wk,unstable_isNewReconciler:!1},b$={readContext:Fi,useCallback:yk,useContext:Fi,useEffect:Bj,useImperativeHandle:xk,useInsertionEffect:mk,useLayoutEffect:pk,useMemo:vk,useReducer:z1,useRef:hk,useState:function(){return z1(Pm)},useDebugValue:Uj,useDeferredValue:function(e){var t=Bi();return Sn===null?t.memoizedState=e:bk(t,Sn.memoizedState,e)},useTransition:function(){var e=z1(Pm)[0],t=Bi().memoizedState;return[e,t]},useMutableSource:sk,useSyncExternalStore:ok,useId:wk,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){t=qr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function $2(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:qr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ty={isMounted:function(e){return(e=e._reactInternals)?bu(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ta(),i=Ul(e),s=Oo(n,i);s.payload=t,r!=null&&(s.callback=r),t=Fl(e,s,i),t!==null&&(ds(t,e,i,n),A0(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ta(),i=Ul(e),s=Oo(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Fl(e,s,i),t!==null&&(ds(t,e,i,n),A0(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ta(),n=Ul(e),i=Oo(r,n);i.tag=2,t!=null&&(i.callback=t),t=Fl(e,i,n),t!==null&&(ds(t,e,n,r),A0(t,e,n))}};function JA(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!wm(r,n)||!wm(i,s):!0}function Ak(e,t,r){var n=!1,i=Wl,s=t.contextType;return typeof s=="object"&&s!==null?s=Fi(s):(i=Ha(t)?eu:ma.current,n=t.contextTypes,s=(n=n!=null)?Dd(e,i):Wl),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ty,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ZA(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ty.enqueueReplaceState(t,t.state,null)}function F2(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Ij(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Fi(s):(s=Ha(t)?eu:ma.current,i.context=Dd(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&($2(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ty.enqueueReplaceState(i,i.state,null),nx(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ud(e,t){try{var r="",n=t;do r+=YM(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function q1(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function B2(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var w$=typeof WeakMap=="function"?WeakMap:Map;function Ek(e,t,r){r=Oo(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){lx||(lx=!0,X2=n),B2(e,t)},r}function _k(e,t,r){r=Oo(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){B2(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){B2(e,t),typeof n!="function"&&(Bl===null?Bl=new Set([this]):Bl.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function QA(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new w$;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=R$.bind(null,e,t,r),t.then(e,e))}function e4(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function t4(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Oo(-1,1),t.tag=2,Fl(r,t,1))),r.lanes|=1),e)}var N$=Go.ReactCurrentOwner,Ua=!1;function Na(e,t,r,n){t.child=e===null?rk(t,null,r,n):Fd(t,e.child,r,n)}function r4(e,t,r,n,i){r=r.render;var s=t.ref;return Ad(t,i),n=$j(e,t,r,n,s,i),r=Fj(),e!==null&&!Ua?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bo(e,t,i)):(Lr&&r&&Ej(t),t.flags|=1,Na(e,t,n,i),t.child)}function n4(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!Kj(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,Pk(e,t,s,n,i)):(e=k0(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:wm,r(o,n)&&e.ref===t.ref)return Bo(e,t,i)}return t.flags|=1,e=zl(s,n),e.ref=t.ref,e.return=t,t.child=e}function Pk(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(wm(s,n)&&e.ref===t.ref)if(Ua=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(Ua=!0);else return t.lanes=e.lanes,Bo(e,t,i)}return U2(e,t,r,n,i)}function Tk(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},jr(hd,li),li|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,jr(hd,li),li|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,jr(hd,li),li|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,jr(hd,li),li|=n;return Na(e,t,i,r),t.child}function Ck(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function U2(e,t,r,n,i){var s=Ha(r)?eu:ma.current;return s=Dd(t,s),Ad(t,i),r=$j(e,t,r,n,s,i),n=Fj(),e!==null&&!Ua?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bo(e,t,i)):(Lr&&n&&Ej(t),t.flags|=1,Na(e,t,r,i),t.child)}function a4(e,t,r,n,i){if(Ha(r)){var s=!0;Z0(t)}else s=!1;if(Ad(t,i),t.stateNode===null)P0(e,t),Ak(t,r,n),F2(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Fi(u):(u=Ha(r)?eu:ma.current,u=Dd(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&ZA(t,o,n,u),wl=!1;var m=t.memoizedState;o.state=m,nx(t,n,o,i),c=t.memoizedState,l!==n||m!==c||qa.current||wl?(typeof d=="function"&&($2(t,r,d,n),c=t.memoizedState),(l=wl||JA(t,r,l,n,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,ak(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ns(t.type,l),o.props=u,f=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Fi(c):(c=Ha(r)?eu:ma.current,c=Dd(t,c));var h=r.getDerivedStateFromProps;(d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&ZA(t,o,n,c),wl=!1,m=t.memoizedState,o.state=m,nx(t,n,o,i);var p=t.memoizedState;l!==f||m!==p||qa.current||wl?(typeof h=="function"&&($2(t,r,h,n),p=t.memoizedState),(u=wl||JA(t,r,u,n,m,p,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return z2(e,t,r,n,s,i)}function z2(e,t,r,n,i,s){Ck(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&qA(t,r,!1),Bo(e,t,s);n=t.stateNode,N$.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Fd(t,e.child,null,s),t.child=Fd(t,null,l,s)):Na(e,t,l,s),t.memoizedState=n.state,i&&qA(t,r,!0),t.child}function kk(e){var t=e.stateNode;t.pendingContext?zA(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zA(e,t.context,!1),Lj(e,t.containerInfo)}function i4(e,t,r,n,i){return $d(),Pj(i),t.flags|=256,Na(e,t,r,n),t.child}var q2={dehydrated:null,treeContext:null,retryLane:0};function H2(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ok(e,t,r){var n=t.pendingProps,i=Fr.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),jr(Fr,i&1),e===null)return M2(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Oy(o,n,0,null),e=Gc(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=H2(r),t.memoizedState=q2,e):zj(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return j$(e,t,o,n,l,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=zl(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=zl(l,s):(s=Gc(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?H2(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=q2,n}return s=e.child,e=s.sibling,n=zl(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function zj(e,t){return t=Oy({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $g(e,t,r,n){return n!==null&&Pj(n),Fd(t,e.child,null,r),e=zj(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function j$(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=q1(Error(Ve(422))),$g(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=Oy({mode:"visible",children:n.children},i,0,null),s=Gc(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Fd(t,e.child,null,o),t.child.memoizedState=H2(o),t.memoizedState=q2,s);if(!(t.mode&1))return $g(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(Ve(419)),n=q1(s,n,void 0),$g(e,t,o,n)}if(l=(o&e.childLanes)!==0,Ua||l){if(n=Dn,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Fo(e,i),ds(n,e,i,-1))}return Yj(),n=q1(Error(Ve(421))),$g(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=M$.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,fi=$l(i.nextSibling),mi=t,Lr=!0,os=null,e!==null&&(Oi[Ii++]=_o,Oi[Ii++]=Po,Oi[Ii++]=tu,_o=e.id,Po=e.overflow,tu=t),t=zj(t,n.children),t.flags|=4096,t)}function s4(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),D2(e.return,t,r)}function H1(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function Ik(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Na(e,t,n.children,r),n=Fr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&s4(e,r,t);else if(e.tag===19)s4(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(jr(Fr,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&ax(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),H1(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ax(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}H1(t,!0,r,null,s);break;case"together":H1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function P0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bo(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),nu|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ve(153));if(t.child!==null){for(e=t.child,r=zl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=zl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function S$(e,t,r){switch(t.tag){case 3:kk(t),$d();break;case 5:ik(t);break;case 1:Ha(t.type)&&Z0(t);break;case 4:Lj(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;jr(tx,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(jr(Fr,Fr.current&1),t.flags|=128,null):r&t.child.childLanes?Ok(e,t,r):(jr(Fr,Fr.current&1),e=Bo(e,t,r),e!==null?e.sibling:null);jr(Fr,Fr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Ik(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),jr(Fr,Fr.current),n)break;return null;case 22:case 23:return t.lanes=0,Tk(e,t,r)}return Bo(e,t,r)}var Lk,V2,Rk,Mk;Lk=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};V2=function(){};Rk=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,$c(Hs.current);var s=null;switch(r){case"input":i=h2(e,i),n=h2(e,n),s=[];break;case"select":i=qr({},i,{value:void 0}),n=qr({},n,{value:void 0}),s=[];break;case"textarea":i=g2(e,i),n=g2(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=X0)}y2(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(mm.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(mm.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&_r("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Mk=function(e,t,r,n){r!==n&&(t.flags|=4)};function jh(e,t){if(!Lr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ra(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function A$(e,t,r){var n=t.pendingProps;switch(_j(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ra(t),null;case 1:return Ha(t.type)&&J0(),ra(t),null;case 3:return n=t.stateNode,Bd(),kr(qa),kr(ma),Mj(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Mg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,os!==null&&(Q2(os),os=null))),V2(e,t),ra(t),null;case 5:Rj(t);var i=$c(Em.current);if(r=t.type,e!==null&&t.stateNode!=null)Rk(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ve(166));return ra(t),null}if(e=$c(Hs.current),Mg(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Ds]=t,n[Sm]=s,e=(t.mode&1)!==0,r){case"dialog":_r("cancel",n),_r("close",n);break;case"iframe":case"object":case"embed":_r("load",n);break;case"video":case"audio":for(i=0;i<Hh.length;i++)_r(Hh[i],n);break;case"source":_r("error",n);break;case"img":case"image":case"link":_r("error",n),_r("load",n);break;case"details":_r("toggle",n);break;case"input":pA(n,s),_r("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},_r("invalid",n);break;case"textarea":xA(n,s),_r("invalid",n)}y2(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Rg(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Rg(n.textContent,l,e),i=["children",""+l]):mm.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&_r("scroll",n)}switch(r){case"input":_g(n),gA(n,s,!0);break;case"textarea":_g(n),yA(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=X0)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uC(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ds]=t,e[Sm]=n,Lk(e,t,!1,!1),t.stateNode=e;e:{switch(o=v2(r,n),r){case"dialog":_r("cancel",e),_r("close",e),i=n;break;case"iframe":case"object":case"embed":_r("load",e),i=n;break;case"video":case"audio":for(i=0;i<Hh.length;i++)_r(Hh[i],e);i=n;break;case"source":_r("error",e),i=n;break;case"img":case"image":case"link":_r("error",e),_r("load",e),i=n;break;case"details":_r("toggle",e),i=n;break;case"input":pA(e,n),i=h2(e,n),_r("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=qr({},n,{value:void 0}),_r("invalid",e);break;case"textarea":xA(e,n),i=g2(e,n),_r("invalid",e);break;default:i=n}y2(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?hC(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&dC(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&pm(e,c):typeof c=="number"&&pm(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(mm.hasOwnProperty(s)?c!=null&&s==="onScroll"&&_r("scroll",e):c!=null&&fj(e,s,c,o))}switch(r){case"input":_g(e),gA(e,n,!1);break;case"textarea":_g(e),yA(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Vl(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?wd(e,!!n.multiple,s,!1):n.defaultValue!=null&&wd(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=X0)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ra(t),null;case 6:if(e&&t.stateNode!=null)Mk(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ve(166));if(r=$c(Em.current),$c(Hs.current),Mg(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ds]=t,(s=n.nodeValue!==r)&&(e=mi,e!==null))switch(e.tag){case 3:Rg(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Rg(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ds]=t,t.stateNode=n}return ra(t),null;case 13:if(kr(Fr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Lr&&fi!==null&&t.mode&1&&!(t.flags&128))ek(),$d(),t.flags|=98560,s=!1;else if(s=Mg(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(Ve(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ve(317));s[Ds]=t}else $d(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ra(t),s=!1}else os!==null&&(Q2(os),os=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Fr.current&1?En===0&&(En=3):Yj())),t.updateQueue!==null&&(t.flags|=4),ra(t),null);case 4:return Bd(),V2(e,t),e===null&&Nm(t.stateNode.containerInfo),ra(t),null;case 10:return kj(t.type._context),ra(t),null;case 17:return Ha(t.type)&&J0(),ra(t),null;case 19:if(kr(Fr),s=t.memoizedState,s===null)return ra(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)jh(s,!1);else{if(En!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ax(e),o!==null){for(t.flags|=128,jh(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return jr(Fr,Fr.current&1|2),t.child}e=e.sibling}s.tail!==null&&tn()>zd&&(t.flags|=128,n=!0,jh(s,!1),t.lanes=4194304)}else{if(!n)if(e=ax(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),jh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Lr)return ra(t),null}else 2*tn()-s.renderingStartTime>zd&&r!==1073741824&&(t.flags|=128,n=!0,jh(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=tn(),t.sibling=null,r=Fr.current,jr(Fr,n?r&1|2:r&1),t):(ra(t),null);case 22:case 23:return Gj(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?li&1073741824&&(ra(t),t.subtreeFlags&6&&(t.flags|=8192)):ra(t),null;case 24:return null;case 25:return null}throw Error(Ve(156,t.tag))}function E$(e,t){switch(_j(t),t.tag){case 1:return Ha(t.type)&&J0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bd(),kr(qa),kr(ma),Mj(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Rj(t),null;case 13:if(kr(Fr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ve(340));$d()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return kr(Fr),null;case 4:return Bd(),null;case 10:return kj(t.type._context),null;case 22:case 23:return Gj(),null;case 24:return null;default:return null}}var Fg=!1,ua=!1,_$=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function fd(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Gr(e,t,n)}else r.current=null}function W2(e,t,r){try{r()}catch(n){Gr(e,t,n)}}var o4=!1;function P$(e,t){if(T2=G0,e=UC(),Aj(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var h;f!==r||i!==0&&f.nodeType!==3||(l=o+i),f!==s||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===e)break t;if(m===r&&++u===i&&(l=o),m===s&&++d===n&&(c=o),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(C2={focusedElem:e,selectionRange:r},G0=!1,Ze=t;Ze!==null;)if(t=Ze,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ze=e;else for(;Ze!==null;){t=Ze;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,v=p.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?y:ns(t.type,y),v);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ve(163))}}catch(w){Gr(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Ze=e;break}Ze=t.return}return p=o4,o4=!1,p}function em(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&W2(t,r,s)}i=i.next}while(i!==n)}}function Cy(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function G2(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Dk(e){var t=e.alternate;t!==null&&(e.alternate=null,Dk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ds],delete t[Sm],delete t[I2],delete t[u$],delete t[d$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $k(e){return e.tag===5||e.tag===3||e.tag===4}function l4(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$k(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Y2(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=X0));else if(n!==4&&(e=e.child,e!==null))for(Y2(e,t,r),e=e.sibling;e!==null;)Y2(e,t,r),e=e.sibling}function K2(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(K2(e,t,r),e=e.sibling;e!==null;)K2(e,t,r),e=e.sibling}var Kn=null,as=!1;function pl(e,t,r){for(r=r.child;r!==null;)Fk(e,t,r),r=r.sibling}function Fk(e,t,r){if(qs&&typeof qs.onCommitFiberUnmount=="function")try{qs.onCommitFiberUnmount(Ny,r)}catch{}switch(r.tag){case 5:ua||fd(r,t);case 6:var n=Kn,i=as;Kn=null,pl(e,t,r),Kn=n,as=i,Kn!==null&&(as?(e=Kn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Kn.removeChild(r.stateNode));break;case 18:Kn!==null&&(as?(e=Kn,r=r.stateNode,e.nodeType===8?D1(e.parentNode,r):e.nodeType===1&&D1(e,r),vm(e)):D1(Kn,r.stateNode));break;case 4:n=Kn,i=as,Kn=r.stateNode.containerInfo,as=!0,pl(e,t,r),Kn=n,as=i;break;case 0:case 11:case 14:case 15:if(!ua&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&W2(r,t,o),i=i.next}while(i!==n)}pl(e,t,r);break;case 1:if(!ua&&(fd(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Gr(r,t,l)}pl(e,t,r);break;case 21:pl(e,t,r);break;case 22:r.mode&1?(ua=(n=ua)||r.memoizedState!==null,pl(e,t,r),ua=n):pl(e,t,r);break;default:pl(e,t,r)}}function c4(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new _$),t.forEach(function(n){var i=D$.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Qi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Kn=l.stateNode,as=!1;break e;case 3:Kn=l.stateNode.containerInfo,as=!0;break e;case 4:Kn=l.stateNode.containerInfo,as=!0;break e}l=l.return}if(Kn===null)throw Error(Ve(160));Fk(s,o,i),Kn=null,as=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Gr(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Bk(t,e),t=t.sibling}function Bk(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qi(t,e),Ts(e),n&4){try{em(3,e,e.return),Cy(3,e)}catch(y){Gr(e,e.return,y)}try{em(5,e,e.return)}catch(y){Gr(e,e.return,y)}}break;case 1:Qi(t,e),Ts(e),n&512&&r!==null&&fd(r,r.return);break;case 5:if(Qi(t,e),Ts(e),n&512&&r!==null&&fd(r,r.return),e.flags&32){var i=e.stateNode;try{pm(i,"")}catch(y){Gr(e,e.return,y)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&lC(i,s),v2(l,o);var u=v2(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?hC(i,f):d==="dangerouslySetInnerHTML"?dC(i,f):d==="children"?pm(i,f):fj(i,d,f,u)}switch(l){case"input":m2(i,s);break;case"textarea":cC(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?wd(i,!!s.multiple,h,!1):m!==!!s.multiple&&(s.defaultValue!=null?wd(i,!!s.multiple,s.defaultValue,!0):wd(i,!!s.multiple,s.multiple?[]:"",!1))}i[Sm]=s}catch(y){Gr(e,e.return,y)}}break;case 6:if(Qi(t,e),Ts(e),n&4){if(e.stateNode===null)throw Error(Ve(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){Gr(e,e.return,y)}}break;case 3:if(Qi(t,e),Ts(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{vm(t.containerInfo)}catch(y){Gr(e,e.return,y)}break;case 4:Qi(t,e),Ts(e);break;case 13:Qi(t,e),Ts(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Vj=tn())),n&4&&c4(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ua=(u=ua)||d,Qi(t,e),ua=u):Qi(t,e),Ts(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ze=e,d=e.child;d!==null;){for(f=Ze=d;Ze!==null;){switch(m=Ze,h=m.child,m.tag){case 0:case 11:case 14:case 15:em(4,m,m.return);break;case 1:fd(m,m.return);var p=m.stateNode;if(typeof p.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(y){Gr(n,r,y)}}break;case 5:fd(m,m.return);break;case 22:if(m.memoizedState!==null){d4(f);continue}}h!==null?(h.return=m,Ze=h):d4(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=fC("display",o))}catch(y){Gr(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Gr(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qi(t,e),Ts(e),n&4&&c4(e);break;case 21:break;default:Qi(t,e),Ts(e)}}function Ts(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if($k(r)){var n=r;break e}r=r.return}throw Error(Ve(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(pm(i,""),n.flags&=-33);var s=l4(e);K2(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=l4(e);Y2(e,l,o);break;default:throw Error(Ve(161))}}catch(c){Gr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function T$(e,t,r){Ze=e,Uk(e)}function Uk(e,t,r){for(var n=(e.mode&1)!==0;Ze!==null;){var i=Ze,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Fg;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||ua;l=Fg;var u=ua;if(Fg=o,(ua=c)&&!u)for(Ze=i;Ze!==null;)o=Ze,c=o.child,o.tag===22&&o.memoizedState!==null?f4(i):c!==null?(c.return=o,Ze=c):f4(i);for(;s!==null;)Ze=s,Uk(s),s=s.sibling;Ze=i,Fg=l,ua=u}u4(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ze=s):u4(e)}}function u4(e){for(;Ze!==null;){var t=Ze;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ua||Cy(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ua)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:ns(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&YA(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}YA(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&vm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ve(163))}ua||t.flags&512&&G2(t)}catch(m){Gr(t,t.return,m)}}if(t===e){Ze=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ze=r;break}Ze=t.return}}function d4(e){for(;Ze!==null;){var t=Ze;if(t===e){Ze=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ze=r;break}Ze=t.return}}function f4(e){for(;Ze!==null;){var t=Ze;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Cy(4,t)}catch(c){Gr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Gr(t,i,c)}}var s=t.return;try{G2(t)}catch(c){Gr(t,s,c)}break;case 5:var o=t.return;try{G2(t)}catch(c){Gr(t,o,c)}}}catch(c){Gr(t,t.return,c)}if(t===e){Ze=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ze=l;break}Ze=t.return}}var C$=Math.ceil,ox=Go.ReactCurrentDispatcher,qj=Go.ReactCurrentOwner,$i=Go.ReactCurrentBatchConfig,Xt=0,Dn=null,mn=null,Zn=0,li=0,hd=Xl(0),En=0,Cm=null,nu=0,ky=0,Hj=0,tm=null,Fa=null,Vj=0,zd=1/0,bo=null,lx=!1,X2=null,Bl=null,Bg=!1,Cl=null,cx=0,rm=0,J2=null,T0=-1,C0=0;function Ta(){return Xt&6?tn():T0!==-1?T0:T0=tn()}function Ul(e){return e.mode&1?Xt&2&&Zn!==0?Zn&-Zn:h$.transition!==null?(C0===0&&(C0=AC()),C0):(e=or,e!==0||(e=window.event,e=e===void 0?16:OC(e.type)),e):1}function ds(e,t,r,n){if(50<rm)throw rm=0,J2=null,Error(Ve(185));wp(e,r,n),(!(Xt&2)||e!==Dn)&&(e===Dn&&(!(Xt&2)&&(ky|=r),En===4&&Al(e,Zn)),Va(e,n),r===1&&Xt===0&&!(t.mode&1)&&(zd=tn()+500,_y&&Jl()))}function Va(e,t){var r=e.callbackNode;hD(e,t);var n=W0(e,e===Dn?Zn:0);if(n===0)r!==null&&wA(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&wA(r),t===1)e.tag===0?f$(h4.bind(null,e)):JC(h4.bind(null,e)),l$(function(){!(Xt&6)&&Jl()}),r=null;else{switch(EC(n)){case 1:r=xj;break;case 4:r=jC;break;case 16:r=V0;break;case 536870912:r=SC;break;default:r=V0}r=Kk(r,zk.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function zk(e,t){if(T0=-1,C0=0,Xt&6)throw Error(Ve(327));var r=e.callbackNode;if(Ed()&&e.callbackNode!==r)return null;var n=W0(e,e===Dn?Zn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ux(e,n);else{t=n;var i=Xt;Xt|=2;var s=Hk();(Dn!==e||Zn!==t)&&(bo=null,zd=tn()+500,Wc(e,t));do try{I$();break}catch(l){qk(e,l)}while(!0);Cj(),ox.current=s,Xt=i,mn!==null?t=0:(Dn=null,Zn=0,t=En)}if(t!==0){if(t===2&&(i=S2(e),i!==0&&(n=i,t=Z2(e,i))),t===1)throw r=Cm,Wc(e,0),Al(e,n),Va(e,tn()),r;if(t===6)Al(e,n);else{if(i=e.current.alternate,!(n&30)&&!k$(i)&&(t=ux(e,n),t===2&&(s=S2(e),s!==0&&(n=s,t=Z2(e,s))),t===1))throw r=Cm,Wc(e,0),Al(e,n),Va(e,tn()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Ve(345));case 2:_c(e,Fa,bo);break;case 3:if(Al(e,n),(n&130023424)===n&&(t=Vj+500-tn(),10<t)){if(W0(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Ta(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=O2(_c.bind(null,e,Fa,bo),t);break}_c(e,Fa,bo);break;case 4:if(Al(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-us(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=tn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*C$(n/1960))-n,10<n){e.timeoutHandle=O2(_c.bind(null,e,Fa,bo),n);break}_c(e,Fa,bo);break;case 5:_c(e,Fa,bo);break;default:throw Error(Ve(329))}}}return Va(e,tn()),e.callbackNode===r?zk.bind(null,e):null}function Z2(e,t){var r=tm;return e.current.memoizedState.isDehydrated&&(Wc(e,t).flags|=256),e=ux(e,t),e!==2&&(t=Fa,Fa=r,t!==null&&Q2(t)),e}function Q2(e){Fa===null?Fa=e:Fa.push.apply(Fa,e)}function k$(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!ms(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Al(e,t){for(t&=~Hj,t&=~ky,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-us(t),n=1<<r;e[r]=-1,t&=~n}}function h4(e){if(Xt&6)throw Error(Ve(327));Ed();var t=W0(e,0);if(!(t&1))return Va(e,tn()),null;var r=ux(e,t);if(e.tag!==0&&r===2){var n=S2(e);n!==0&&(t=n,r=Z2(e,n))}if(r===1)throw r=Cm,Wc(e,0),Al(e,t),Va(e,tn()),r;if(r===6)throw Error(Ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,Fa,bo),Va(e,tn()),null}function Wj(e,t){var r=Xt;Xt|=1;try{return e(t)}finally{Xt=r,Xt===0&&(zd=tn()+500,_y&&Jl())}}function au(e){Cl!==null&&Cl.tag===0&&!(Xt&6)&&Ed();var t=Xt;Xt|=1;var r=$i.transition,n=or;try{if($i.transition=null,or=1,e)return e()}finally{or=n,$i.transition=r,Xt=t,!(Xt&6)&&Jl()}}function Gj(){li=hd.current,kr(hd)}function Wc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,o$(r)),mn!==null)for(r=mn.return;r!==null;){var n=r;switch(_j(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&J0();break;case 3:Bd(),kr(qa),kr(ma),Mj();break;case 5:Rj(n);break;case 4:Bd();break;case 13:kr(Fr);break;case 19:kr(Fr);break;case 10:kj(n.type._context);break;case 22:case 23:Gj()}r=r.return}if(Dn=e,mn=e=zl(e.current,null),Zn=li=t,En=0,Cm=null,Hj=ky=nu=0,Fa=tm=null,Dc!==null){for(t=0;t<Dc.length;t++)if(r=Dc[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Dc=null}return e}function qk(e,t){do{var r=mn;try{if(Cj(),E0.current=sx,ix){for(var n=Ur.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ix=!1}if(ru=0,kn=Sn=Ur=null,Qh=!1,_m=0,qj.current=null,r===null||r.return===null){En=1,Cm=t,mn=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=Zn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=e4(o);if(h!==null){h.flags&=-257,t4(h,o,l,s,t),h.mode&1&&QA(s,u,t),t=h,c=u;var p=t.updateQueue;if(p===null){var y=new Set;y.add(c),t.updateQueue=y}else p.add(c);break e}else{if(!(t&1)){QA(s,u,t),Yj();break e}c=Error(Ve(426))}}else if(Lr&&l.mode&1){var v=e4(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),t4(v,o,l,s,t),Pj(Ud(c,l));break e}}s=c=Ud(c,l),En!==4&&(En=2),tm===null?tm=[s]:tm.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=Ek(s,c,t);GA(s,x);break e;case 1:l=c;var b=s.type,N=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Bl===null||!Bl.has(N)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=_k(s,l,t);GA(s,w);break e}}s=s.return}while(s!==null)}Wk(r)}catch(S){t=S,mn===r&&r!==null&&(mn=r=r.return);continue}break}while(!0)}function Hk(){var e=ox.current;return ox.current=sx,e===null?sx:e}function Yj(){(En===0||En===3||En===2)&&(En=4),Dn===null||!(nu&268435455)&&!(ky&268435455)||Al(Dn,Zn)}function ux(e,t){var r=Xt;Xt|=2;var n=Hk();(Dn!==e||Zn!==t)&&(bo=null,Wc(e,t));do try{O$();break}catch(i){qk(e,i)}while(!0);if(Cj(),Xt=r,ox.current=n,mn!==null)throw Error(Ve(261));return Dn=null,Zn=0,En}function O$(){for(;mn!==null;)Vk(mn)}function I$(){for(;mn!==null&&!aD();)Vk(mn)}function Vk(e){var t=Yk(e.alternate,e,li);e.memoizedProps=e.pendingProps,t===null?Wk(e):mn=t,qj.current=null}function Wk(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=E$(r,t),r!==null){r.flags&=32767,mn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{En=6,mn=null;return}}else if(r=A$(r,t,li),r!==null){mn=r;return}if(t=t.sibling,t!==null){mn=t;return}mn=t=e}while(t!==null);En===0&&(En=5)}function _c(e,t,r){var n=or,i=$i.transition;try{$i.transition=null,or=1,L$(e,t,r,n)}finally{$i.transition=i,or=n}return null}function L$(e,t,r,n){do Ed();while(Cl!==null);if(Xt&6)throw Error(Ve(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ve(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(mD(e,s),e===Dn&&(mn=Dn=null,Zn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Bg||(Bg=!0,Kk(V0,function(){return Ed(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=$i.transition,$i.transition=null;var o=or;or=1;var l=Xt;Xt|=4,qj.current=null,P$(e,r),Bk(r,e),e$(C2),G0=!!T2,C2=T2=null,e.current=r,T$(r),iD(),Xt=l,or=o,$i.transition=s}else e.current=r;if(Bg&&(Bg=!1,Cl=e,cx=i),s=e.pendingLanes,s===0&&(Bl=null),lD(r.stateNode),Va(e,tn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(lx)throw lx=!1,e=X2,X2=null,e;return cx&1&&e.tag!==0&&Ed(),s=e.pendingLanes,s&1?e===J2?rm++:(rm=0,J2=e):rm=0,Jl(),null}function Ed(){if(Cl!==null){var e=EC(cx),t=$i.transition,r=or;try{if($i.transition=null,or=16>e?16:e,Cl===null)var n=!1;else{if(e=Cl,Cl=null,cx=0,Xt&6)throw Error(Ve(331));var i=Xt;for(Xt|=4,Ze=e.current;Ze!==null;){var s=Ze,o=s.child;if(Ze.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ze=u;Ze!==null;){var d=Ze;switch(d.tag){case 0:case 11:case 15:em(8,d,s)}var f=d.child;if(f!==null)f.return=d,Ze=f;else for(;Ze!==null;){d=Ze;var m=d.sibling,h=d.return;if(Dk(d),d===u){Ze=null;break}if(m!==null){m.return=h,Ze=m;break}Ze=h}}}var p=s.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}Ze=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ze=o;else e:for(;Ze!==null;){if(s=Ze,s.flags&2048)switch(s.tag){case 0:case 11:case 15:em(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,Ze=x;break e}Ze=s.return}}var b=e.current;for(Ze=b;Ze!==null;){o=Ze;var N=o.child;if(o.subtreeFlags&2064&&N!==null)N.return=o,Ze=N;else e:for(o=b;Ze!==null;){if(l=Ze,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Cy(9,l)}}catch(S){Gr(l,l.return,S)}if(l===o){Ze=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,Ze=w;break e}Ze=l.return}}if(Xt=i,Jl(),qs&&typeof qs.onPostCommitFiberRoot=="function")try{qs.onPostCommitFiberRoot(Ny,e)}catch{}n=!0}return n}finally{or=r,$i.transition=t}}return!1}function m4(e,t,r){t=Ud(r,t),t=Ek(e,t,1),e=Fl(e,t,1),t=Ta(),e!==null&&(wp(e,1,t),Va(e,t))}function Gr(e,t,r){if(e.tag===3)m4(e,e,r);else for(;t!==null;){if(t.tag===3){m4(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Bl===null||!Bl.has(n))){e=Ud(r,e),e=_k(t,e,1),t=Fl(t,e,1),e=Ta(),t!==null&&(wp(t,1,e),Va(t,e));break}}t=t.return}}function R$(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ta(),e.pingedLanes|=e.suspendedLanes&r,Dn===e&&(Zn&r)===r&&(En===4||En===3&&(Zn&130023424)===Zn&&500>tn()-Vj?Wc(e,0):Hj|=r),Va(e,t)}function Gk(e,t){t===0&&(e.mode&1?(t=Cg,Cg<<=1,!(Cg&130023424)&&(Cg=4194304)):t=1);var r=Ta();e=Fo(e,t),e!==null&&(wp(e,t,r),Va(e,r))}function M$(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Gk(e,r)}function D$(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ve(314))}n!==null&&n.delete(t),Gk(e,r)}var Yk;Yk=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||qa.current)Ua=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ua=!1,S$(e,t,r);Ua=!!(e.flags&131072)}else Ua=!1,Lr&&t.flags&1048576&&ZC(t,ex,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;P0(e,t),e=t.pendingProps;var i=Dd(t,ma.current);Ad(t,r),i=$j(null,t,n,e,i,r);var s=Fj();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ha(n)?(s=!0,Z0(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ij(t),i.updater=Ty,t.stateNode=i,i._reactInternals=t,F2(t,n,e,r),t=z2(null,t,n,!0,s,r)):(t.tag=0,Lr&&s&&Ej(t),Na(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(P0(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=F$(n),e=ns(n,e),i){case 0:t=U2(null,t,n,e,r);break e;case 1:t=a4(null,t,n,e,r);break e;case 11:t=r4(null,t,n,e,r);break e;case 14:t=n4(null,t,n,ns(n.type,e),r);break e}throw Error(Ve(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ns(n,i),U2(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ns(n,i),a4(e,t,n,i,r);case 3:e:{if(kk(t),e===null)throw Error(Ve(387));n=t.pendingProps,s=t.memoizedState,i=s.element,ak(e,t),nx(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Ud(Error(Ve(423)),t),t=i4(e,t,n,r,i);break e}else if(n!==i){i=Ud(Error(Ve(424)),t),t=i4(e,t,n,r,i);break e}else for(fi=$l(t.stateNode.containerInfo.firstChild),mi=t,Lr=!0,os=null,r=rk(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($d(),n===i){t=Bo(e,t,r);break e}Na(e,t,n,r)}t=t.child}return t;case 5:return ik(t),e===null&&M2(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,k2(n,i)?o=null:s!==null&&k2(n,s)&&(t.flags|=32),Ck(e,t),Na(e,t,o,r),t.child;case 6:return e===null&&M2(t),null;case 13:return Ok(e,t,r);case 4:return Lj(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Fd(t,null,n,r):Na(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ns(n,i),r4(e,t,n,i,r);case 7:return Na(e,t,t.pendingProps,r),t.child;case 8:return Na(e,t,t.pendingProps.children,r),t.child;case 12:return Na(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,jr(tx,n._currentValue),n._currentValue=o,s!==null)if(ms(s.value,o)){if(s.children===i.children&&!qa.current){t=Bo(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Oo(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),D2(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ve(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),D2(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Na(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ad(t,r),i=Fi(i),n=n(i),t.flags|=1,Na(e,t,n,r),t.child;case 14:return n=t.type,i=ns(n,t.pendingProps),i=ns(n.type,i),n4(e,t,n,i,r);case 15:return Pk(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ns(n,i),P0(e,t),t.tag=1,Ha(n)?(e=!0,Z0(t)):e=!1,Ad(t,r),Ak(t,n,i),F2(t,n,i,r),z2(null,t,n,!0,e,r);case 19:return Ik(e,t,r);case 22:return Tk(e,t,r)}throw Error(Ve(156,t.tag))};function Kk(e,t){return NC(e,t)}function $$(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ri(e,t,r,n){return new $$(e,t,r,n)}function Kj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function F$(e){if(typeof e=="function")return Kj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===mj)return 11;if(e===pj)return 14}return 2}function zl(e,t){var r=e.alternate;return r===null?(r=Ri(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function k0(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")Kj(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case nd:return Gc(r.children,i,s,t);case hj:o=8,i|=8;break;case c2:return e=Ri(12,r,t,i|2),e.elementType=c2,e.lanes=s,e;case u2:return e=Ri(13,r,t,i),e.elementType=u2,e.lanes=s,e;case d2:return e=Ri(19,r,t,i),e.elementType=d2,e.lanes=s,e;case iC:return Oy(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nC:o=10;break e;case aC:o=9;break e;case mj:o=11;break e;case pj:o=14;break e;case bl:o=16,n=null;break e}throw Error(Ve(130,e==null?e:typeof e,""))}return t=Ri(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function Gc(e,t,r,n){return e=Ri(7,e,n,t),e.lanes=r,e}function Oy(e,t,r,n){return e=Ri(22,e,n,t),e.elementType=iC,e.lanes=r,e.stateNode={isHidden:!1},e}function V1(e,t,r){return e=Ri(6,e,null,t),e.lanes=r,e}function W1(e,t,r){return t=Ri(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function B$(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=E1(0),this.expirationTimes=E1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=E1(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xj(e,t,r,n,i,s,o,l,c){return e=new B$(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ri(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ij(s),e}function U$(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rd,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Xk(e){if(!e)return Wl;e=e._reactInternals;e:{if(bu(e)!==e||e.tag!==1)throw Error(Ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ha(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ve(171))}if(e.tag===1){var r=e.type;if(Ha(r))return XC(e,r,t)}return t}function Jk(e,t,r,n,i,s,o,l,c){return e=Xj(r,n,!0,e,i,s,o,l,c),e.context=Xk(null),r=e.current,n=Ta(),i=Ul(r),s=Oo(n,i),s.callback=t??null,Fl(r,s,i),e.current.lanes=i,wp(e,i,n),Va(e,n),e}function Iy(e,t,r,n){var i=t.current,s=Ta(),o=Ul(i);return r=Xk(r),t.context===null?t.context=r:t.pendingContext=r,t=Oo(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Fl(i,t,o),e!==null&&(ds(e,i,o,s),A0(e,i,o)),o}function dx(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function p4(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Jj(e,t){p4(e,t),(e=e.alternate)&&p4(e,t)}function z$(){return null}var Zk=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zj(e){this._internalRoot=e}Ly.prototype.render=Zj.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ve(409));Iy(e,t,null,null)};Ly.prototype.unmount=Zj.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;au(function(){Iy(null,e,null,null)}),t[$o]=null}};function Ly(e){this._internalRoot=e}Ly.prototype.unstable_scheduleHydration=function(e){if(e){var t=TC();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Sl.length&&t!==0&&t<Sl[r].priority;r++);Sl.splice(r,0,e),r===0&&kC(e)}};function Qj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ry(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function g4(){}function q$(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=dx(o);s.call(u)}}var o=Jk(t,n,e,0,null,!1,!1,"",g4);return e._reactRootContainer=o,e[$o]=o.current,Nm(e.nodeType===8?e.parentNode:e),au(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=dx(c);l.call(u)}}var c=Xj(e,0,!1,null,null,!1,!1,"",g4);return e._reactRootContainer=c,e[$o]=c.current,Nm(e.nodeType===8?e.parentNode:e),au(function(){Iy(t,c,r,n)}),c}function My(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=dx(o);l.call(c)}}Iy(t,o,e,i)}else o=q$(r,t,e,i,n);return dx(o)}_C=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=qh(t.pendingLanes);r!==0&&(yj(t,r|1),Va(t,tn()),!(Xt&6)&&(zd=tn()+500,Jl()))}break;case 13:au(function(){var n=Fo(e,1);if(n!==null){var i=Ta();ds(n,e,1,i)}}),Jj(e,1)}};vj=function(e){if(e.tag===13){var t=Fo(e,134217728);if(t!==null){var r=Ta();ds(t,e,134217728,r)}Jj(e,134217728)}};PC=function(e){if(e.tag===13){var t=Ul(e),r=Fo(e,t);if(r!==null){var n=Ta();ds(r,e,t,n)}Jj(e,t)}};TC=function(){return or};CC=function(e,t){var r=or;try{return or=e,t()}finally{or=r}};w2=function(e,t,r){switch(t){case"input":if(m2(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Ey(n);if(!i)throw Error(Ve(90));oC(n),m2(n,i)}}}break;case"textarea":cC(e,r);break;case"select":t=r.value,t!=null&&wd(e,!!r.multiple,t,!1)}};gC=Wj;xC=au;var H$={usingClientEntryPoint:!1,Events:[jp,od,Ey,mC,pC,Wj]},Sh={findFiberByHostInstance:Mc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},V$={bundleType:Sh.bundleType,version:Sh.version,rendererPackageName:Sh.rendererPackageName,rendererConfig:Sh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Go.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bC(e),e===null?null:e.stateNode},findFiberByHostInstance:Sh.findFiberByHostInstance||z$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ug=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ug.isDisabled&&Ug.supportsFiber)try{Ny=Ug.inject(V$),qs=Ug}catch{}}yi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H$;yi.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qj(t))throw Error(Ve(200));return U$(e,t,null,r)};yi.createRoot=function(e,t){if(!Qj(e))throw Error(Ve(299));var r=!1,n="",i=Zk;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Xj(e,1,!1,null,null,r,!1,n,i),e[$o]=t.current,Nm(e.nodeType===8?e.parentNode:e),new Zj(t)};yi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ve(188)):(e=Object.keys(e).join(","),Error(Ve(268,e)));return e=bC(t),e=e===null?null:e.stateNode,e};yi.flushSync=function(e){return au(e)};yi.hydrate=function(e,t,r){if(!Ry(t))throw Error(Ve(200));return My(null,e,t,!0,r)};yi.hydrateRoot=function(e,t,r){if(!Qj(e))throw Error(Ve(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=Zk;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Jk(t,null,e,1,r??null,i,!1,s,o),e[$o]=t.current,Nm(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Ly(t)};yi.render=function(e,t,r){if(!Ry(t))throw Error(Ve(200));return My(null,e,t,!1,r)};yi.unmountComponentAtNode=function(e){if(!Ry(e))throw Error(Ve(40));return e._reactRootContainer?(au(function(){My(null,null,e,!1,function(){e._reactRootContainer=null,e[$o]=null})}),!0):!1};yi.unstable_batchedUpdates=Wj;yi.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ry(r))throw Error(Ve(200));if(e==null||e._reactInternals===void 0)throw Error(Ve(38));return My(e,t,r,!1,n)};yi.version="18.3.1-next-f1338f8080-20240426";function Qk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qk)}catch(e){console.error(e)}}Qk(),QT.exports=yi;var W$=QT.exports,x4=W$;o2.createRoot=x4.createRoot,o2.hydrateRoot=x4.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function km(){return km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},km.apply(this,arguments)}var kl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(kl||(kl={}));const y4="popstate";function G$(e){e===void 0&&(e={});function t(n,i){let{pathname:s,search:o,hash:l}=n.location;return ew("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:fx(i)}return K$(t,r,null,e)}function on(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function eO(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Y$(){return Math.random().toString(36).substr(2,8)}function v4(e,t){return{usr:e.state,key:e.key,idx:t}}function ew(e,t,r,n){return r===void 0&&(r=null),km({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?jf(t):t,{state:r,key:t&&t.key||n||Y$()})}function fx(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function jf(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function K$(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,l=kl.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(km({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=kl.Pop;let v=d(),x=v==null?null:v-u;u=v,c&&c({action:l,location:y.location,delta:x})}function m(v,x){l=kl.Push;let b=ew(y.location,v,x);u=d()+1;let N=v4(b,u),w=y.createHref(b);try{o.pushState(N,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(w)}s&&c&&c({action:l,location:y.location,delta:1})}function h(v,x){l=kl.Replace;let b=ew(y.location,v,x);u=d();let N=v4(b,u),w=y.createHref(b);o.replaceState(N,"",w),s&&c&&c({action:l,location:y.location,delta:0})}function p(v){let x=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof v=="string"?v:fx(v);return b=b.replace(/ $/,"%20"),on(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let y={get action(){return l},get location(){return e(i,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(y4,f),c=v,()=>{i.removeEventListener(y4,f),c=null}},createHref(v){return t(i,v)},createURL:p,encodeLocation(v){let x=p(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:h,go(v){return o.go(v)}};return y}var b4;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(b4||(b4={}));function X$(e,t,r){return r===void 0&&(r="/"),J$(e,t,r)}function J$(e,t,r,n){let i=typeof t=="string"?jf(t):t,s=e5(i.pathname||"/",r);if(s==null)return null;let o=tO(e);Z$(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=u9(s);l=o9(o[c],u)}return l}function tO(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(on(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ql([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(on(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),tO(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:i9(u,s.index),routesMeta:d})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of rO(s.path))i(s,o,c)}),t}function rO(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=rO(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Z$(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:s9(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Q$=/^:[\w-]+$/,e9=3,t9=2,r9=1,n9=10,a9=-2,w4=e=>e==="*";function i9(e,t){let r=e.split("/"),n=r.length;return r.some(w4)&&(n+=a9),t&&(n+=t9),r.filter(i=>!w4(i)).reduce((i,s)=>i+(Q$.test(s)?e9:s===""?r9:n9),n)}function s9(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function o9(e,t,r){let{routesMeta:n}=e,i={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=l9({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:ql([s,f.pathname]),pathnameBase:m9(ql([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=ql([s,f.pathnameBase]))}return o}function l9(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=c9(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:h}=d;if(m==="*"){let y=l[f]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const p=l[f];return h&&!p?u[m]=void 0:u[m]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function c9(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),eO(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function u9(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return eO(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function e5(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function d9(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?jf(e):e;return{pathname:r?r.startsWith("/")?r:f9(r,t):t,search:p9(n),hash:g9(i)}}function f9(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function G1(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function h9(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function t5(e,t){let r=h9(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function r5(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=jf(e):(i=km({},e),on(!i.pathname||!i.pathname.includes("?"),G1("?","pathname","search",i)),on(!i.pathname||!i.pathname.includes("#"),G1("#","pathname","hash",i)),on(!i.search||!i.search.includes("#"),G1("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=d9(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ql=e=>e.join("/").replace(/\/\/+/g,"/"),m9=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),p9=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,g9=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function x9(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const nO=["post","put","patch","delete"];new Set(nO);const y9=["get",...nO];new Set(y9);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Om(){return Om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Om.apply(this,arguments)}const n5=L.createContext(null),v9=L.createContext(null),Zl=L.createContext(null),Dy=L.createContext(null),Yo=L.createContext({outlet:null,matches:[],isDataRoute:!1}),aO=L.createContext(null);function b9(e,t){let{relative:r}=t===void 0?{}:t;Sf()||on(!1);let{basename:n,navigator:i}=L.useContext(Zl),{hash:s,pathname:o,search:l}=sO(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:ql([n,o])),i.createHref({pathname:c,search:l,hash:s})}function Sf(){return L.useContext(Dy)!=null}function Ql(){return Sf()||on(!1),L.useContext(Dy).location}function iO(e){L.useContext(Zl).static||L.useLayoutEffect(e)}function Af(){let{isDataRoute:e}=L.useContext(Yo);return e?I9():w9()}function w9(){Sf()||on(!1);let e=L.useContext(n5),{basename:t,future:r,navigator:n}=L.useContext(Zl),{matches:i}=L.useContext(Yo),{pathname:s}=Ql(),o=JSON.stringify(t5(i,r.v7_relativeSplatPath)),l=L.useRef(!1);return iO(()=>{l.current=!0}),L.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=r5(u,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ql([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,s,e])}function Ap(){let{matches:e}=L.useContext(Yo),t=e[e.length-1];return t?t.params:{}}function sO(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=L.useContext(Zl),{matches:i}=L.useContext(Yo),{pathname:s}=Ql(),o=JSON.stringify(t5(i,n.v7_relativeSplatPath));return L.useMemo(()=>r5(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function N9(e,t){return j9(e,t)}function j9(e,t,r,n){Sf()||on(!1);let{navigator:i}=L.useContext(Zl),{matches:s}=L.useContext(Yo),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ql(),d;if(t){var f;let v=typeof t=="string"?jf(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||on(!1),d=v}else d=u;let m=d.pathname||"/",h=m;if(c!=="/"){let v=c.replace(/^\//,"").split("/");h="/"+m.replace(/^\//,"").split("/").slice(v.length).join("/")}let p=X$(e,{pathname:h}),y=P9(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:ql([c,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:ql([c,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return t&&y?L.createElement(Dy.Provider,{value:{location:Om({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:kl.Pop}},y):y}function S9(){let e=O9(),t=x9(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),r?L.createElement("pre",{style:i},r):null,null)}const A9=L.createElement(S9,null);class E9 extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?L.createElement(Yo.Provider,{value:this.props.routeContext},L.createElement(aO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _9(e){let{routeContext:t,match:r,children:n}=e,i=L.useContext(n5);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),L.createElement(Yo.Provider,{value:t},n)}function P9(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||on(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:h}=r,p=f.route.loader&&m[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||p){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let h,p=!1,y=null,v=null;r&&(h=l&&f.route.id?l[f.route.id]:void 0,y=f.route.errorElement||A9,c&&(u<0&&m===0?(L9("route-fallback"),p=!0,v=null):u===m&&(p=!0,v=f.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,m+1)),b=()=>{let N;return h?N=y:p?N=v:f.route.Component?N=L.createElement(f.route.Component,null):f.route.element?N=f.route.element:N=d,L.createElement(_9,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:N})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?L.createElement(E9,{location:r.location,revalidation:r.revalidation,component:y,error:h,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var oO=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(oO||{}),lO=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(lO||{});function T9(e){let t=L.useContext(n5);return t||on(!1),t}function C9(e){let t=L.useContext(v9);return t||on(!1),t}function k9(e){let t=L.useContext(Yo);return t||on(!1),t}function cO(e){let t=k9(),r=t.matches[t.matches.length-1];return r.route.id||on(!1),r.route.id}function O9(){var e;let t=L.useContext(aO),r=C9(),n=cO();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function I9(){let{router:e}=T9(oO.UseNavigateStable),t=cO(lO.UseNavigateStable),r=L.useRef(!1);return iO(()=>{r.current=!0}),L.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Om({fromRouteId:t},s)))},[e,t])}const N4={};function L9(e,t,r){N4[e]||(N4[e]=!0)}function R9(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function a5(e){let{to:t,replace:r,state:n,relative:i}=e;Sf()||on(!1);let{future:s,static:o}=L.useContext(Zl),{matches:l}=L.useContext(Yo),{pathname:c}=Ql(),u=Af(),d=r5(t,t5(l,s.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return L.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:i}),[u,f,i,r,n]),null}function Wt(e){on(!1)}function M9(e){let{basename:t="/",children:r=null,location:n,navigationType:i=kl.Pop,navigator:s,static:o=!1,future:l}=e;Sf()&&on(!1);let c=t.replace(/^\/*/,"/"),u=L.useMemo(()=>({basename:c,navigator:s,static:o,future:Om({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof n=="string"&&(n=jf(n));let{pathname:d="/",search:f="",hash:m="",state:h=null,key:p="default"}=n,y=L.useMemo(()=>{let v=e5(d,c);return v==null?null:{location:{pathname:v,search:f,hash:m,state:h,key:p},navigationType:i}},[c,d,f,m,h,p,i]);return y==null?null:L.createElement(Zl.Provider,{value:u},L.createElement(Dy.Provider,{children:r,value:y}))}function D9(e){let{children:t,location:r}=e;return N9(tw(t),r)}new Promise(()=>{});function tw(e,t){t===void 0&&(t=[]);let r=[];return L.Children.forEach(e,(n,i)=>{if(!L.isValidElement(n))return;let s=[...t,i];if(n.type===L.Fragment){r.push.apply(r,tw(n.props.children,s));return}n.type!==Wt&&on(!1),!n.props.index||!n.props.children||on(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=tw(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rw(){return rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rw.apply(this,arguments)}function $9(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function F9(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function B9(e,t){return e.button===0&&(!t||t==="_self")&&!F9(e)}function nw(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function U9(e,t){let r=nw(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(s=>{r.append(i,s)})}),r}const z9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],q9="6";try{window.__reactRouterVersion=q9}catch{}const H9="startTransition",j4=RM[H9];function V9(e){let{basename:t,children:r,future:n,window:i}=e,s=L.useRef();s.current==null&&(s.current=G$({window:i,v5Compat:!0}));let o=s.current,[l,c]=L.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=L.useCallback(f=>{u&&j4?j4(()=>c(f)):c(f)},[c,u]);return L.useLayoutEffect(()=>o.listen(d),[o,d]),L.useEffect(()=>R9(n),[n]),L.createElement(M9,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const W9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",G9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rn=L.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,m=$9(t,z9),{basename:h}=L.useContext(Zl),p,y=!1;if(typeof u=="string"&&G9.test(u)&&(p=u,W9))try{let N=new URL(window.location.href),w=u.startsWith("//")?new URL(N.protocol+u):new URL(u),S=e5(w.pathname,h);w.origin===N.origin&&S!=null?u=S+w.search+w.hash:y=!0}catch{}let v=b9(u,{relative:i}),x=Y9(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});function b(N){n&&n(N),N.defaultPrevented||x(N)}return L.createElement("a",rw({},m,{href:p||v,onClick:y||s?n:b,ref:r,target:c}))});var S4;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(S4||(S4={}));var A4;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(A4||(A4={}));function Y9(e,t){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,c=Af(),u=Ql(),d=sO(e,{relative:o});return L.useCallback(f=>{if(B9(f,r)){f.preventDefault();let m=n!==void 0?n:fx(u)===fx(d);c(e,{replace:m,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,d,n,i,r,e,s,o,l])}function K9(e){let t=L.useRef(nw(e)),r=L.useRef(!1),n=Ql(),i=L.useMemo(()=>U9(n.search,r.current?null:t.current),[n.search]),s=Af(),o=L.useCallback((l,c)=>{const u=nw(typeof l=="function"?l(i):l);r.current=!0,s("?"+u,c)},[s,i]);return[i,o]}function uO(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=uO(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function yt(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=uO(e))&&(n&&(n+=" "),n+=t);return n}function X9(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}X9(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Ep=e=>typeof e=="number"&&!isNaN(e),iu=e=>typeof e=="string",Uo=e=>typeof e=="function",J9=e=>iu(e)||Ep(e),aw=e=>iu(e)||Uo(e)?e:null,Z9=(e,t)=>e===!1||Ep(e)&&e>0?e:t,iw=e=>L.isValidElement(e)||iu(e)||Uo(e)||Ep(e);function Q9(e,t,r=300){let{scrollHeight:n,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=n+"px",i.transition=`all ${r}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,r)})})}function eF({enter:e,exit:t,appendPosition:r=!1,collapse:n=!0,collapseDuration:i=300}){return function({children:s,position:o,preventExitTransition:l,done:c,nodeRef:u,isIn:d,playToast:f}){let m=r?`${e}--${o}`:e,h=r?`${t}--${o}`:t,p=L.useRef(0);return L.useLayoutEffect(()=>{let y=u.current,v=m.split(" "),x=b=>{b.target===u.current&&(f(),y.removeEventListener("animationend",x),y.removeEventListener("animationcancel",x),p.current===0&&b.type!=="animationcancel"&&y.classList.remove(...v))};y.classList.add(...v),y.addEventListener("animationend",x),y.addEventListener("animationcancel",x)},[]),L.useEffect(()=>{let y=u.current,v=()=>{y.removeEventListener("animationend",v),n?Q9(y,c,i):c()};d||(l?v():(p.current=1,y.className+=` ${h}`,y.addEventListener("animationend",v)))},[d]),ce.createElement(ce.Fragment,null,s)}}function E4(e,t){return{content:dO(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function dO(e,t,r=!1){return L.isValidElement(e)&&!iu(e.type)?L.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):Uo(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):e}function tF({closeToast:e,theme:t,ariaLabel:r="close"}){return ce.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:n=>{n.stopPropagation(),e(!0)},"aria-label":r},ce.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ce.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function rF({delay:e,isRunning:t,closeToast:r,type:n="default",hide:i,className:s,controlledProgress:o,progress:l,rtl:c,isIn:u,theme:d}){let f=i||o&&l===0,m={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};o&&(m.transform=`scaleX(${l})`);let h=yt("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":c}),p=Uo(s)?s({rtl:c,type:n,defaultClassName:h}):yt(h,s),y={[o&&l>=1?"onTransitionEnd":"onAnimationEnd"]:o&&l<1?null:()=>{u&&r()}};return ce.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},ce.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${n}`}),ce.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:p,style:m,...y}))}var nF=1,fO=()=>`${nF++}`;function aF(e,t,r){let n=1,i=0,s=[],o=[],l=t,c=new Map,u=new Set,d=b=>(u.add(b),()=>u.delete(b)),f=()=>{o=Array.from(c.values()),u.forEach(b=>b())},m=({containerId:b,toastId:N,updateId:w})=>{let S=b?b!==e:e!==1,E=c.has(N)&&w==null;return S||E},h=(b,N)=>{c.forEach(w=>{var S;(N==null||N===w.props.toastId)&&((S=w.toggle)==null||S.call(w,b))})},p=b=>{var N,w;(w=(N=b.props)==null?void 0:N.onClose)==null||w.call(N,b.removalReason),b.isActive=!1},y=b=>{if(b==null)c.forEach(p);else{let N=c.get(b);N&&p(N)}f()},v=()=>{i-=s.length,s=[]},x=b=>{var N,w;let{toastId:S,updateId:E}=b.props,C=E==null;b.staleId&&c.delete(b.staleId),b.isActive=!0,c.set(S,b),f(),r(E4(b,C?"added":"updated")),C&&((w=(N=b.props).onOpen)==null||w.call(N))};return{id:e,props:l,observe:d,toggle:h,removeToast:y,toasts:c,clearQueue:v,buildToast:(b,N)=>{if(m(N))return;let{toastId:w,updateId:S,data:E,staleId:C,delay:k}=N,P=S==null;P&&i++;let D={...l,style:l.toastStyle,key:n++,...Object.fromEntries(Object.entries(N).filter(([I,$])=>$!=null)),toastId:w,updateId:S,data:E,isIn:!1,className:aw(N.className||l.toastClassName),progressClassName:aw(N.progressClassName||l.progressClassName),autoClose:N.isLoading?!1:Z9(N.autoClose,l.autoClose),closeToast(I){c.get(w).removalReason=I,y(w)},deleteToast(){let I=c.get(w);if(I!=null){if(r(E4(I,"removed")),c.delete(w),i--,i<0&&(i=0),s.length>0){x(s.shift());return}f()}}};D.closeButton=l.closeButton,N.closeButton===!1||iw(N.closeButton)?D.closeButton=N.closeButton:N.closeButton===!0&&(D.closeButton=iw(l.closeButton)?l.closeButton:!0);let A={content:b,props:D,staleId:C};l.limit&&l.limit>0&&i>l.limit&&P?s.push(A):Ep(k)?setTimeout(()=>{x(A)},k):x(A)},setProps(b){l=b},setToggle:(b,N)=>{let w=c.get(b);w&&(w.toggle=N)},isToastActive:b=>{var N;return(N=c.get(b))==null?void 0:N.isActive},getSnapshot:()=>o}}var ja=new Map,Im=[],sw=new Set,iF=e=>sw.forEach(t=>t(e)),hO=()=>ja.size>0;function sF(){Im.forEach(e=>pO(e.content,e.options)),Im=[]}var oF=(e,{containerId:t})=>{var r;return(r=ja.get(t||1))==null?void 0:r.toasts.get(e)};function mO(e,t){var r;if(t)return!!((r=ja.get(t))!=null&&r.isToastActive(e));let n=!1;return ja.forEach(i=>{i.isToastActive(e)&&(n=!0)}),n}function lF(e){if(!hO()){Im=Im.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||J9(e))ja.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=ja.get(e.containerId);t?t.removeToast(e.id):ja.forEach(r=>{r.removeToast(e.id)})}}var cF=(e={})=>{ja.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function pO(e,t){iw(e)&&(hO()||Im.push({content:e,options:t}),ja.forEach(r=>{r.buildToast(e,t)}))}function uF(e){var t;(t=ja.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function gO(e,t){ja.forEach(r=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===r.id)&&r.toggle(e,t==null?void 0:t.id)})}function dF(e){let t=e.containerId||1;return{subscribe(r){let n=aF(t,e,iF);ja.set(t,n);let i=n.observe(r);return sF(),()=>{i(),ja.delete(t)}},setProps(r){var n;(n=ja.get(t))==null||n.setProps(r)},getSnapshot(){var r;return(r=ja.get(t))==null?void 0:r.getSnapshot()}}}function fF(e){return sw.add(e),()=>{sw.delete(e)}}function hF(e){return e&&(iu(e.toastId)||Ep(e.toastId))?e.toastId:fO()}function _p(e,t){return pO(e,t),t.toastId}function $y(e,t){return{...t,type:t&&t.type||e,toastId:hF(t)}}function Fy(e){return(t,r)=>_p(t,$y(e,r))}function Ce(e,t){return _p(e,$y("default",t))}Ce.loading=(e,t)=>_p(e,$y("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function mF(e,{pending:t,error:r,success:n},i){let s;t&&(s=iu(t)?Ce.loading(t,i):Ce.loading(t.render,{...i,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,f)=>{if(d==null){Ce.dismiss(s);return}let m={type:u,...o,...i,data:f},h=iu(d)?{render:d}:d;return s?Ce.update(s,{...m,...h}):Ce(h.render,{...m,...h}),f},c=Uo(e)?e():e;return c.then(u=>l("success",n,u)).catch(u=>l("error",r,u)),c}Ce.promise=mF;Ce.success=Fy("success");Ce.info=Fy("info");Ce.error=Fy("error");Ce.warning=Fy("warning");Ce.warn=Ce.warning;Ce.dark=(e,t)=>_p(e,$y("default",{theme:"dark",...t}));function pF(e){lF(e)}Ce.dismiss=pF;Ce.clearWaitingQueue=cF;Ce.isActive=mO;Ce.update=(e,t={})=>{let r=oF(e,t);if(r){let{props:n,content:i}=r,s={delay:100,...n,...t,toastId:t.toastId||e,updateId:fO()};s.toastId!==e&&(s.staleId=e);let o=s.render||i;delete s.render,_p(o,s)}};Ce.done=e=>{Ce.update(e,{progress:1})};Ce.onChange=fF;Ce.play=e=>gO(!0,e);Ce.pause=e=>gO(!1,e);function gF(e){var t;let{subscribe:r,getSnapshot:n,setProps:i}=L.useRef(dF(e)).current;i(e);let s=(t=L.useSyncExternalStore(r,n,n))==null?void 0:t.slice();function o(l){if(!s)return[];let c=new Map;return e.newestOnTop&&s.reverse(),s.forEach(u=>{let{position:d}=u.props;c.has(d)||c.set(d,[]),c.get(d).push(u)}),Array.from(c,u=>l(u[0],u[1]))}return{getToastToRender:o,isToastActive:mO,count:s==null?void 0:s.length}}function xF(e){let[t,r]=L.useState(!1),[n,i]=L.useState(!1),s=L.useRef(null),o=L.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:f}=e;uF({id:e.toastId,containerId:e.containerId,fn:r}),L.useEffect(()=>{if(e.pauseOnFocusLoss)return m(),()=>{h()}},[e.pauseOnFocusLoss]);function m(){document.hasFocus()||x(),window.addEventListener("focus",v),window.addEventListener("blur",x)}function h(){window.removeEventListener("focus",v),window.removeEventListener("blur",x)}function p(C){if(e.draggable===!0||e.draggable===C.pointerType){b();let k=s.current;o.canCloseOnClick=!0,o.canDrag=!0,k.style.transition="none",e.draggableDirection==="x"?(o.start=C.clientX,o.removalDistance=k.offsetWidth*(e.draggablePercent/100)):(o.start=C.clientY,o.removalDistance=k.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function y(C){let{top:k,bottom:P,left:D,right:A}=s.current.getBoundingClientRect();C.nativeEvent.type!=="touchend"&&e.pauseOnHover&&C.clientX>=D&&C.clientX<=A&&C.clientY>=k&&C.clientY<=P?x():v()}function v(){r(!0)}function x(){r(!1)}function b(){o.didMove=!1,document.addEventListener("pointermove",w),document.addEventListener("pointerup",S)}function N(){document.removeEventListener("pointermove",w),document.removeEventListener("pointerup",S)}function w(C){let k=s.current;if(o.canDrag&&k){o.didMove=!0,t&&x(),e.draggableDirection==="x"?o.delta=C.clientX-o.start:o.delta=C.clientY-o.start,o.start!==C.clientX&&(o.canCloseOnClick=!1);let P=e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;k.style.transform=`translate3d(${P},0)`,k.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function S(){N();let C=s.current;if(o.canDrag&&o.didMove&&C){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),e.closeToast(!0),e.collapseAll();return}C.style.transition="transform 0.2s, opacity 0.2s",C.style.removeProperty("transform"),C.style.removeProperty("opacity")}}let E={onPointerDown:p,onPointerUp:y};return l&&c&&(E.onMouseEnter=x,e.stacked||(E.onMouseLeave=v)),f&&(E.onClick=C=>{d&&d(C),o.canCloseOnClick&&u(!0)}),{playToast:v,pauseToast:x,isRunning:t,preventExitTransition:n,toastRef:s,eventHandlers:E}}var yF=typeof window<"u"?L.useLayoutEffect:L.useEffect,By=({theme:e,type:t,isLoading:r,...n})=>ce.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...n});function vF(e){return ce.createElement(By,{...e},ce.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function bF(e){return ce.createElement(By,{...e},ce.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function wF(e){return ce.createElement(By,{...e},ce.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function NF(e){return ce.createElement(By,{...e},ce.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function jF(){return ce.createElement("div",{className:"Toastify__spinner"})}var ow={info:bF,warning:vF,success:wF,error:NF,spinner:jF},SF=e=>e in ow;function AF({theme:e,type:t,isLoading:r,icon:n}){let i=null,s={theme:e,type:t};return n===!1||(Uo(n)?i=n({...s,isLoading:r}):L.isValidElement(n)?i=L.cloneElement(n,s):r?i=ow.spinner():SF(t)&&(i=ow[t](s))),i}var EF=e=>{let{isRunning:t,preventExitTransition:r,toastRef:n,eventHandlers:i,playToast:s}=xF(e),{closeButton:o,children:l,autoClose:c,onClick:u,type:d,hideProgressBar:f,closeToast:m,transition:h,position:p,className:y,style:v,progressClassName:x,updateId:b,role:N,progress:w,rtl:S,toastId:E,deleteToast:C,isIn:k,isLoading:P,closeOnClick:D,theme:A,ariaLabel:I}=e,$=yt("Toastify__toast",`Toastify__toast-theme--${A}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":S},{"Toastify__toast--close-on-click":D}),_=Uo(y)?y({rtl:S,position:p,type:d,defaultClassName:$}):yt($,y),M=AF(e),z=!!w||!c,Z={closeToast:m,type:d,theme:A},R=null;return o===!1||(Uo(o)?R=o(Z):L.isValidElement(o)?R=L.cloneElement(o,Z):R=tF(Z)),ce.createElement(h,{isIn:k,done:C,position:p,preventExitTransition:r,nodeRef:n,playToast:s},ce.createElement("div",{id:E,tabIndex:0,onClick:u,"data-in":k,className:_,...i,style:v,ref:n,...k&&{role:N,"aria-label":I}},M!=null&&ce.createElement("div",{className:yt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!P})},M),dO(l,e,!t),R,!e.customProgressBar&&ce.createElement(rF,{...b&&!z?{key:`p-${b}`}:{},rtl:S,theme:A,delay:c,isRunning:t,isIn:k,closeToast:m,hide:f,type:d,className:x,controlledProgress:z,progress:w||0})))},_F=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),PF=eF(_F("bounce",!0)),TF={position:"top-right",transition:PF,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function CF(e){let t={...TF,...e},r=e.stacked,[n,i]=L.useState(!0),s=L.useRef(null),{getToastToRender:o,isToastActive:l,count:c}=gF(t),{className:u,style:d,rtl:f,containerId:m,hotKeys:h}=t;function p(v){let x=yt("Toastify__toast-container",`Toastify__toast-container--${v}`,{"Toastify__toast-container--rtl":f});return Uo(u)?u({position:v,rtl:f,defaultClassName:x}):yt(x,aw(u))}function y(){r&&(i(!0),Ce.play())}return yF(()=>{var v;if(r){let x=s.current.querySelectorAll('[data-in="true"]'),b=12,N=(v=t.position)==null?void 0:v.includes("top"),w=0,S=0;Array.from(x).reverse().forEach((E,C)=>{let k=E;k.classList.add("Toastify__toast--stacked"),C>0&&(k.dataset.collapsed=`${n}`),k.dataset.pos||(k.dataset.pos=N?"top":"bot");let P=w*(n?.2:1)+(n?0:b*C);k.style.setProperty("--y",`${N?P:P*-1}px`),k.style.setProperty("--g",`${b}`),k.style.setProperty("--s",`${1-(n?S:0)}`),w+=k.offsetHeight,S+=.025})}},[n,c,r]),L.useEffect(()=>{function v(x){var b;let N=s.current;h(x)&&((b=N.querySelector('[tabIndex="0"]'))==null||b.focus(),i(!1),Ce.pause()),x.key==="Escape"&&(document.activeElement===N||N!=null&&N.contains(document.activeElement))&&(i(!0),Ce.play())}return document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[h]),ce.createElement("section",{ref:s,className:"Toastify",id:m,onMouseEnter:()=>{r&&(i(!1),Ce.pause())},onMouseLeave:y,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((v,x)=>{let b=x.length?{...d}:{...d,pointerEvents:"none"};return ce.createElement("div",{tabIndex:-1,className:p(v),"data-stacked":r,style:b,key:`c-${v}`},x.map(({content:N,props:w})=>ce.createElement(EF,{...w,stacked:r,collapseAll:y,isIn:l(w.toastId,w.containerId),key:`t-${w.key}`},N)))}))}/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xO=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=L.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...l},c)=>L.createElement("svg",{ref:c,...OF,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:xO("lucide",i),...l},[...o.map(([u,d])=>L.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=(e,t)=>{const r=L.forwardRef(({className:n,...i},s)=>L.createElement(IF,{ref:s,iconNode:t,className:xO(`lucide-${kF(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=Xe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=Xe("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=Xe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=Xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=Xe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=Xe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=Xe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=Xe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=Xe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=Xe("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=Xe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=Xe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=Xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=Xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=Xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=Xe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=Xe("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=Xe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=Xe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=Xe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=Xe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=Xe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=Xe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=Xe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=Xe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=Xe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=Xe("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=Xe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=Xe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=Xe("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=Xe("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=Xe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=Xe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=Xe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=Xe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=Xe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=Xe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=Xe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=Xe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=Xe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=Xe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=Xe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=Xe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=Xe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=Xe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=Xe("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=Xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=Xe("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=Xe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=Xe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=Xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=Xe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=Xe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=Xe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=Xe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=Xe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=Xe("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"10lez9"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6a6 6 0 0 0 6-6v-4",key:"ce9bce"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=Xe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=Xe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=Xe("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=Xe("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=Xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=Xe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=Xe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=Xe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=Xe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=Xe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=Xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=Xe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=Xe("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=Xe("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=Xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function bO(e,t){return function(){return e.apply(t,arguments)}}const{toString:aB}=Object.prototype,{getPrototypeOf:o5}=Object,{iterator:Hy,toStringTag:wO}=Symbol,Vy=(e=>t=>{const r=aB.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),xs=e=>(e=e.toLowerCase(),t=>Vy(t)===e),Wy=e=>t=>typeof t===e,{isArray:_f}=Array,Wd=Wy("undefined");function Tp(e){return e!==null&&!Wd(e)&&e.constructor!==null&&!Wd(e.constructor)&&Wa(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const NO=xs("ArrayBuffer");function iB(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&NO(e.buffer),t}const sB=Wy("string"),Wa=Wy("function"),jO=Wy("number"),Cp=e=>e!==null&&typeof e=="object",oB=e=>e===!0||e===!1,O0=e=>{if(Vy(e)!=="object")return!1;const t=o5(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(wO in e)&&!(Hy in e)},lB=e=>{if(!Cp(e)||Tp(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},cB=xs("Date"),uB=xs("File"),dB=xs("Blob"),fB=xs("FileList"),hB=e=>Cp(e)&&Wa(e.pipe),mB=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Wa(e.append)&&((t=Vy(e))==="formdata"||t==="object"&&Wa(e.toString)&&e.toString()==="[object FormData]"))},pB=xs("URLSearchParams"),[gB,xB,yB,vB]=["ReadableStream","Request","Response","Headers"].map(xs),bB=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function kp(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),_f(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(Tp(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let l;for(n=0;n<o;n++)l=s[n],t.call(null,e[l],l,e)}}function SO(e,t){if(Tp(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const Fc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,AO=e=>!Wd(e)&&e!==Fc;function fw(){const{caseless:e,skipUndefined:t}=AO(this)&&this||{},r={},n=(i,s)=>{const o=e&&SO(r,s)||s;O0(r[o])&&O0(i)?r[o]=fw(r[o],i):O0(i)?r[o]=fw({},i):_f(i)?r[o]=i.slice():(!t||!Wd(i))&&(r[o]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&kp(arguments[i],n);return r}const wB=(e,t,r,{allOwnKeys:n}={})=>(kp(t,(i,s)=>{r&&Wa(i)?e[s]=bO(i,r):e[s]=i},{allOwnKeys:n}),e),NB=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),jB=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},SB=(e,t,r,n)=>{let i,s,o;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&o5(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},AB=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},EB=e=>{if(!e)return null;if(_f(e))return e;let t=e.length;if(!jO(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},_B=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&o5(Uint8Array)),PB=(e,t)=>{const n=(e&&e[Hy]).call(e);let i;for(;(i=n.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},TB=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},CB=xs("HTMLFormElement"),kB=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),T4=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),OB=xs("RegExp"),EO=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};kp(r,(i,s)=>{let o;(o=t(i,s,e))!==!1&&(n[s]=o||i)}),Object.defineProperties(e,n)},IB=e=>{EO(e,(t,r)=>{if(Wa(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Wa(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},LB=(e,t)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return _f(e)?n(e):n(String(e).split(t)),r},RB=()=>{},MB=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function DB(e){return!!(e&&Wa(e.append)&&e[wO]==="FormData"&&e[Hy])}const $B=e=>{const t=new Array(10),r=(n,i)=>{if(Cp(n)){if(t.indexOf(n)>=0)return;if(Tp(n))return n;if(!("toJSON"in n)){t[i]=n;const s=_f(n)?[]:{};return kp(n,(o,l)=>{const c=r(o,i+1);!Wd(c)&&(s[l]=c)}),t[i]=void 0,s}}return n};return r(e,0)},FB=xs("AsyncFunction"),BB=e=>e&&(Cp(e)||Wa(e))&&Wa(e.then)&&Wa(e.catch),_O=((e,t)=>e?setImmediate:t?((r,n)=>(Fc.addEventListener("message",({source:i,data:s})=>{i===Fc&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Fc.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Wa(Fc.postMessage)),UB=typeof queueMicrotask<"u"?queueMicrotask.bind(Fc):typeof process<"u"&&process.nextTick||_O,zB=e=>e!=null&&Wa(e[Hy]),Pe={isArray:_f,isArrayBuffer:NO,isBuffer:Tp,isFormData:mB,isArrayBufferView:iB,isString:sB,isNumber:jO,isBoolean:oB,isObject:Cp,isPlainObject:O0,isEmptyObject:lB,isReadableStream:gB,isRequest:xB,isResponse:yB,isHeaders:vB,isUndefined:Wd,isDate:cB,isFile:uB,isBlob:dB,isRegExp:OB,isFunction:Wa,isStream:hB,isURLSearchParams:pB,isTypedArray:_B,isFileList:fB,forEach:kp,merge:fw,extend:wB,trim:bB,stripBOM:NB,inherits:jB,toFlatObject:SB,kindOf:Vy,kindOfTest:xs,endsWith:AB,toArray:EB,forEachEntry:PB,matchAll:TB,isHTMLForm:CB,hasOwnProperty:T4,hasOwnProp:T4,reduceDescriptors:EO,freezeMethods:IB,toObjectSet:LB,toCamelCase:kB,noop:RB,toFiniteNumber:MB,findKey:SO,global:Fc,isContextDefined:AO,isSpecCompliantForm:DB,toJSONObject:$B,isAsyncFn:FB,isThenable:BB,setImmediate:_O,asap:UB,isIterable:zB};function kt(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}Pe.inherits(kt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pe.toJSONObject(this.config),code:this.code,status:this.status}}});const PO=kt.prototype,TO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{TO[e]={value:e}});Object.defineProperties(kt,TO);Object.defineProperty(PO,"isAxiosError",{value:!0});kt.from=(e,t,r,n,i,s)=>{const o=Object.create(PO);Pe.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return kt.call(o,l,c,r,n,i),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",s&&Object.assign(o,s),o};const qB=null;function hw(e){return Pe.isPlainObject(e)||Pe.isArray(e)}function CO(e){return Pe.endsWith(e,"[]")?e.slice(0,-2):e}function C4(e,t,r){return e?e.concat(t).map(function(i,s){return i=CO(i),!r&&s?"["+i+"]":i}).join(r?".":""):t}function HB(e){return Pe.isArray(e)&&!e.some(hw)}const VB=Pe.toFlatObject(Pe,{},null,function(t){return/^is[A-Z]/.test(t)});function Gy(e,t,r){if(!Pe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Pe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,v){return!Pe.isUndefined(v[y])});const n=r.metaTokens,i=r.visitor||d,s=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Pe.isSpecCompliantForm(t);if(!Pe.isFunction(i))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(Pe.isDate(p))return p.toISOString();if(Pe.isBoolean(p))return p.toString();if(!c&&Pe.isBlob(p))throw new kt("Blob is not supported. Use a Buffer instead.");return Pe.isArrayBuffer(p)||Pe.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,y,v){let x=p;if(p&&!v&&typeof p=="object"){if(Pe.endsWith(y,"{}"))y=n?y:y.slice(0,-2),p=JSON.stringify(p);else if(Pe.isArray(p)&&HB(p)||(Pe.isFileList(p)||Pe.endsWith(y,"[]"))&&(x=Pe.toArray(p)))return y=CO(y),x.forEach(function(N,w){!(Pe.isUndefined(N)||N===null)&&t.append(o===!0?C4([y],w,s):o===null?y:y+"[]",u(N))}),!1}return hw(p)?!0:(t.append(C4(v,y,s),u(p)),!1)}const f=[],m=Object.assign(VB,{defaultVisitor:d,convertValue:u,isVisitable:hw});function h(p,y){if(!Pe.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(p),Pe.forEach(p,function(x,b){(!(Pe.isUndefined(x)||x===null)&&i.call(t,x,Pe.isString(b)?b.trim():b,y,m))===!0&&h(x,y?y.concat(b):[b])}),f.pop()}}if(!Pe.isObject(e))throw new TypeError("data must be an object");return h(e),t}function k4(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function l5(e,t){this._pairs=[],e&&Gy(e,this,t)}const kO=l5.prototype;kO.append=function(t,r){this._pairs.push([t,r])};kO.toString=function(t){const r=t?function(n){return t.call(this,n,k4)}:k4;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function WB(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function OO(e,t,r){if(!t)return e;const n=r&&r.encode||WB;Pe.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(t,r):s=Pe.isURLSearchParams(t)?t.toString():new l5(t,r).toString(n),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class O4{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Pe.forEach(this.handlers,function(n){n!==null&&t(n)})}}const IO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},GB=typeof URLSearchParams<"u"?URLSearchParams:l5,YB=typeof FormData<"u"?FormData:null,KB=typeof Blob<"u"?Blob:null,XB={isBrowser:!0,classes:{URLSearchParams:GB,FormData:YB,Blob:KB},protocols:["http","https","file","blob","url","data"]},c5=typeof window<"u"&&typeof document<"u",mw=typeof navigator=="object"&&navigator||void 0,JB=c5&&(!mw||["ReactNative","NativeScript","NS"].indexOf(mw.product)<0),ZB=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",QB=c5&&window.location.href||"http://localhost",eU=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:c5,hasStandardBrowserEnv:JB,hasStandardBrowserWebWorkerEnv:ZB,navigator:mw,origin:QB},Symbol.toStringTag,{value:"Module"})),fa={...eU,...XB};function tU(e,t){return Gy(e,new fa.classes.URLSearchParams,{visitor:function(r,n,i,s){return fa.isNode&&Pe.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function rU(e){return Pe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function nU(e){const t={},r=Object.keys(e);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],t[s]=e[s];return t}function LO(e){function t(r,n,i,s){let o=r[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=s>=r.length;return o=!o&&Pe.isArray(i)?i.length:o,c?(Pe.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!l):((!i[o]||!Pe.isObject(i[o]))&&(i[o]=[]),t(r,n,i[o],s)&&Pe.isArray(i[o])&&(i[o]=nU(i[o])),!l)}if(Pe.isFormData(e)&&Pe.isFunction(e.entries)){const r={};return Pe.forEachEntry(e,(n,i)=>{t(rU(n),i,r,0)}),r}return null}function aU(e,t,r){if(Pe.isString(e))try{return(t||JSON.parse)(e),Pe.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Op={transitional:IO,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=Pe.isObject(t);if(s&&Pe.isHTMLForm(t)&&(t=new FormData(t)),Pe.isFormData(t))return i?JSON.stringify(LO(t)):t;if(Pe.isArrayBuffer(t)||Pe.isBuffer(t)||Pe.isStream(t)||Pe.isFile(t)||Pe.isBlob(t)||Pe.isReadableStream(t))return t;if(Pe.isArrayBufferView(t))return t.buffer;if(Pe.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return tU(t,this.formSerializer).toString();if((l=Pe.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Gy(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),aU(t)):t}],transformResponse:[function(t){const r=this.transitional||Op.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(Pe.isResponse(t)||Pe.isReadableStream(t))return t;if(t&&Pe.isString(t)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?kt.from(l,kt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fa.classes.FormData,Blob:fa.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pe.forEach(["delete","get","head","post","put","patch"],e=>{Op.headers[e]={}});const iU=Pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sU=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||t[r]&&iU[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},I4=Symbol("internals");function Ah(e){return e&&String(e).trim().toLowerCase()}function I0(e){return e===!1||e==null?e:Pe.isArray(e)?e.map(I0):String(e)}function oU(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const lU=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Y1(e,t,r,n,i){if(Pe.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!Pe.isString(t)){if(Pe.isString(n))return t.indexOf(n)!==-1;if(Pe.isRegExp(n))return n.test(t)}}function cU(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function uU(e,t){const r=Pe.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,s,o){return this[n].call(this,t,i,s,o)},configurable:!0})})}let Ga=class{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function s(l,c,u){const d=Ah(c);if(!d)throw new Error("header name must be a non-empty string");const f=Pe.findKey(i,d);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||c]=I0(l))}const o=(l,c)=>Pe.forEach(l,(u,d)=>s(u,d,c));if(Pe.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(Pe.isString(t)&&(t=t.trim())&&!lU(t))o(sU(t),r);else if(Pe.isObject(t)&&Pe.isIterable(t)){let l={},c,u;for(const d of t){if(!Pe.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?Pe.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=Ah(t),t){const n=Pe.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return oU(i);if(Pe.isFunction(r))return r.call(this,i,n);if(Pe.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Ah(t),t){const n=Pe.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Y1(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function s(o){if(o=Ah(o),o){const l=Pe.findKey(n,o);l&&(!r||Y1(n,n[l],l,r))&&(delete n[l],i=!0)}}return Pe.isArray(t)?t.forEach(s):s(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!t||Y1(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const r=this,n={};return Pe.forEach(this,(i,s)=>{const o=Pe.findKey(n,s);if(o){r[o]=I0(i),delete r[s];return}const l=t?cU(s):String(s).trim();l!==s&&delete r[s],r[l]=I0(i),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Pe.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&Pe.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[I4]=this[I4]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=Ah(o);n[l]||(uU(i,o),n[l]=!0)}return Pe.isArray(t)?t.forEach(s):s(t),this}};Ga.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Pe.reduceDescriptors(Ga.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Pe.freezeMethods(Ga);function K1(e,t){const r=this||Op,n=t||r,i=Ga.from(n.headers);let s=n.data;return Pe.forEach(e,function(l){s=l.call(r,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function RO(e){return!!(e&&e.__CANCEL__)}function Pf(e,t,r){kt.call(this,e??"canceled",kt.ERR_CANCELED,t,r),this.name="CanceledError"}Pe.inherits(Pf,kt,{__CANCEL__:!0});function MO(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new kt("Request failed with status code "+r.status,[kt.ERR_BAD_REQUEST,kt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function dU(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function fU(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,s=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[s];o||(o=u),r[i]=c,n[i]=u;let f=s,m=0;for(;f!==i;)m+=r[f++],f=f%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),u-o<t)return;const h=d&&u-d;return h?Math.round(m*1e3/h):void 0}}function hU(e,t){let r=0,n=1e3/t,i,s;const o=(u,d=Date.now())=>{r=d,i=null,s&&(clearTimeout(s),s=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?o(u,d):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},n-f)))},()=>i&&o(i)]}const mx=(e,t,r=3)=>{let n=0;const i=fU(50,250);return hU(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,c=o-n,u=i(c),d=o<=l;n=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:s,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},L4=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},R4=e=>(...t)=>Pe.asap(()=>e(...t)),mU=fa.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,fa.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(fa.origin),fa.navigator&&/(msie|trident)/i.test(fa.navigator.userAgent)):()=>!0,pU=fa.hasStandardBrowserEnv?{write(e,t,r,n,i,s){const o=[e+"="+encodeURIComponent(t)];Pe.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),Pe.isString(n)&&o.push("path="+n),Pe.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gU(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function xU(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function DO(e,t,r){let n=!gU(t);return e&&(n||r==!1)?xU(e,t):t}const M4=e=>e instanceof Ga?{...e}:e;function ou(e,t){t=t||{};const r={};function n(u,d,f,m){return Pe.isPlainObject(u)&&Pe.isPlainObject(d)?Pe.merge.call({caseless:m},u,d):Pe.isPlainObject(d)?Pe.merge({},d):Pe.isArray(d)?d.slice():d}function i(u,d,f,m){if(Pe.isUndefined(d)){if(!Pe.isUndefined(u))return n(void 0,u,f,m)}else return n(u,d,f,m)}function s(u,d){if(!Pe.isUndefined(d))return n(void 0,d)}function o(u,d){if(Pe.isUndefined(d)){if(!Pe.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,f)=>i(M4(u),M4(d),f,!0)};return Pe.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||i,m=f(e[d],t[d],d);Pe.isUndefined(m)&&f!==l||(r[d]=m)}),r}const $O=e=>{const t=ou({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:l}=t;if(t.headers=o=Ga.from(o),t.url=OO(DO(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Pe.isFormData(r)){if(fa.hasStandardBrowserEnv||fa.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Pe.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&o.set(d,f)})}}if(fa.hasStandardBrowserEnv&&(n&&Pe.isFunction(n)&&(n=n(t)),n||n!==!1&&mU(t.url))){const c=i&&s&&pU.read(s);c&&o.set(i,c)}return t},yU=typeof XMLHttpRequest<"u",vU=yU&&function(e){return new Promise(function(r,n){const i=$O(e);let s=i.data;const o=Ga.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=i,d,f,m,h,p;function y(){h&&h(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function x(){if(!v)return;const N=Ga.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:N,config:e,request:v};MO(function(C){r(C),y()},function(C){n(C),y()},S),v=null}"onloadend"in v?v.onloadend=x:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(x)},v.onabort=function(){v&&(n(new kt("Request aborted",kt.ECONNABORTED,e,v)),v=null)},v.onerror=function(w){const S=w&&w.message?w.message:"Network Error",E=new kt(S,kt.ERR_NETWORK,e,v);E.event=w||null,n(E),v=null},v.ontimeout=function(){let w=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const S=i.transitional||IO;i.timeoutErrorMessage&&(w=i.timeoutErrorMessage),n(new kt(w,S.clarifyTimeoutError?kt.ETIMEDOUT:kt.ECONNABORTED,e,v)),v=null},s===void 0&&o.setContentType(null),"setRequestHeader"in v&&Pe.forEach(o.toJSON(),function(w,S){v.setRequestHeader(S,w)}),Pe.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),l&&l!=="json"&&(v.responseType=i.responseType),u&&([m,p]=mx(u,!0),v.addEventListener("progress",m)),c&&v.upload&&([f,h]=mx(c),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(d=N=>{v&&(n(!N||N.type?new Pf(null,e,v):N),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const b=dU(i.url);if(b&&fa.protocols.indexOf(b)===-1){n(new kt("Unsupported protocol "+b+":",kt.ERR_BAD_REQUEST,e));return}v.send(s||null)})},bU=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const s=function(u){if(!i){i=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof kt?d:new Pf(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,s(new kt(`timeout ${t} of ms exceeded`,kt.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>Pe.asap(l),c}},wU=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},NU=async function*(e,t){for await(const r of jU(e))yield*wU(r,t)},jU=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},D4=(e,t,r,n)=>{const i=NU(e,t);let s=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await i.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let m=s+=f;r(m)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},$4=64*1024,{isFunction:zg}=Pe,SU=(({Request:e,Response:t})=>({Request:e,Response:t}))(Pe.global),{ReadableStream:F4,TextEncoder:B4}=Pe.global,U4=(e,...t)=>{try{return!!e(...t)}catch{return!1}},AU=e=>{e=Pe.merge.call({skipUndefined:!0},SU,e);const{fetch:t,Request:r,Response:n}=e,i=t?zg(t):typeof fetch=="function",s=zg(r),o=zg(n);if(!i)return!1;const l=i&&zg(F4),c=i&&(typeof B4=="function"?(p=>y=>p.encode(y))(new B4):async p=>new Uint8Array(await new r(p).arrayBuffer())),u=s&&l&&U4(()=>{let p=!1;const y=new r(fa.origin,{body:new F4,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!y}),d=o&&l&&U4(()=>Pe.isReadableStream(new n("").body)),f={stream:d&&(p=>p.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!f[p]&&(f[p]=(y,v)=>{let x=y&&y[p];if(x)return x.call(y);throw new kt(`Response type '${p}' is not supported`,kt.ERR_NOT_SUPPORT,v)})});const m=async p=>{if(p==null)return 0;if(Pe.isBlob(p))return p.size;if(Pe.isSpecCompliantForm(p))return(await new r(fa.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(Pe.isArrayBufferView(p)||Pe.isArrayBuffer(p))return p.byteLength;if(Pe.isURLSearchParams(p)&&(p=p+""),Pe.isString(p))return(await c(p)).byteLength},h=async(p,y)=>{const v=Pe.toFiniteNumber(p.getContentLength());return v??m(y)};return async p=>{let{url:y,method:v,data:x,signal:b,cancelToken:N,timeout:w,onDownloadProgress:S,onUploadProgress:E,responseType:C,headers:k,withCredentials:P="same-origin",fetchOptions:D}=$O(p),A=t||fetch;C=C?(C+"").toLowerCase():"text";let I=bU([b,N&&N.toAbortSignal()],w),$=null;const _=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let M;try{if(E&&u&&v!=="get"&&v!=="head"&&(M=await h(k,x))!==0){let de=new r(y,{method:"POST",body:x,duplex:"half"}),B;if(Pe.isFormData(x)&&(B=de.headers.get("content-type"))&&k.setContentType(B),de.body){const[G,te]=L4(M,mx(R4(E)));x=D4(de.body,$4,G,te)}}Pe.isString(P)||(P=P?"include":"omit");const z=s&&"credentials"in r.prototype,Z={...D,signal:I,method:v.toUpperCase(),headers:k.normalize().toJSON(),body:x,duplex:"half",credentials:z?P:void 0};$=s&&new r(y,Z);let R=await(s?A($,D):A(y,Z));const U=d&&(C==="stream"||C==="response");if(d&&(S||U&&_)){const de={};["status","statusText","headers"].forEach(ue=>{de[ue]=R[ue]});const B=Pe.toFiniteNumber(R.headers.get("content-length")),[G,te]=S&&L4(B,mx(R4(S),!0))||[];R=new n(D4(R.body,$4,G,()=>{te&&te(),_&&_()}),de)}C=C||"text";let re=await f[Pe.findKey(f,C)||"text"](R,p);return!U&&_&&_(),await new Promise((de,B)=>{MO(de,B,{data:re,headers:Ga.from(R.headers),status:R.status,statusText:R.statusText,config:p,request:$})})}catch(z){throw _&&_(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new kt("Network Error",kt.ERR_NETWORK,p,$),{cause:z.cause||z}):kt.from(z,z&&z.code,p,$)}}},EU=new Map,FO=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:i}=t,s=[n,i,r];let o=s.length,l=o,c,u,d=EU;for(;l--;)c=s[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:AU(t)),d=u;return u};FO();const pw={http:qB,xhr:vU,fetch:{get:FO}};Pe.forEach(pw,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const z4=e=>`- ${e}`,_U=e=>Pe.isFunction(e)||e===null||e===!1,BO={getAdapter:(e,t)=>{e=Pe.isArray(e)?e:[e];const{length:r}=e;let n,i;const s={};for(let o=0;o<r;o++){n=e[o];let l;if(i=n,!_U(n)&&(i=pw[(l=String(n)).toLowerCase()],i===void 0))throw new kt(`Unknown adapter '${l}'`);if(i&&(Pe.isFunction(i)||(i=i.get(t))))break;s[l||"#"+o]=i}if(!i){const o=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(z4).join(`
`):" "+z4(o[0]):"as no adapter specified";throw new kt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i},adapters:pw};function X1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Pf(null,e)}function q4(e){return X1(e),e.headers=Ga.from(e.headers),e.data=K1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),BO.getAdapter(e.adapter||Op.adapter,e)(e).then(function(n){return X1(e),n.data=K1.call(e,e.transformResponse,n),n.headers=Ga.from(n.headers),n},function(n){return RO(n)||(X1(e),n&&n.response&&(n.response.data=K1.call(e,e.transformResponse,n.response),n.response.headers=Ga.from(n.response.headers))),Promise.reject(n)})}const UO="1.12.2",Yy={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Yy[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const H4={};Yy.transitional=function(t,r,n){function i(s,o){return"[Axios v"+UO+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,l)=>{if(t===!1)throw new kt(i(o," has been removed"+(r?" in "+r:"")),kt.ERR_DEPRECATED);return r&&!H4[o]&&(H4[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,o,l):!0}};Yy.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function PU(e,t,r){if(typeof e!="object")throw new kt("options must be an object",kt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const s=n[i],o=t[s];if(o){const l=e[s],c=l===void 0||o(l,s,e);if(c!==!0)throw new kt("option "+s+" must be "+c,kt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new kt("Unknown option "+s,kt.ERR_BAD_OPTION)}}const L0={assertOptions:PU,validators:Yy},Cs=L0.validators;let Kc=class{constructor(t){this.defaults=t||{},this.interceptors={request:new O4,response:new O4}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=ou(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&L0.assertOptions(n,{silentJSONParsing:Cs.transitional(Cs.boolean),forcedJSONParsing:Cs.transitional(Cs.boolean),clarifyTimeoutError:Cs.transitional(Cs.boolean)},!1),i!=null&&(Pe.isFunction(i)?r.paramsSerializer={serialize:i}:L0.assertOptions(i,{encode:Cs.function,serialize:Cs.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),L0.assertOptions(r,{baseUrl:Cs.spelling("baseURL"),withXsrfToken:Cs.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&Pe.merge(s.common,s[r.method]);s&&Pe.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),r.headers=Ga.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(c=c&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,f=0,m;if(!c){const p=[q4.bind(this),void 0];for(p.unshift(...l),p.push(...u),m=p.length,d=Promise.resolve(r);f<m;)d=d.then(p[f++],p[f++]);return d}m=l.length;let h=r;for(;f<m;){const p=l[f++],y=l[f++];try{h=p(h)}catch(v){y.call(this,v);break}}try{d=q4.call(this,h)}catch(p){return Promise.reject(p)}for(f=0,m=u.length;f<m;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=ou(this.defaults,t);const r=DO(t.baseURL,t.url,t.allowAbsoluteUrls);return OO(r,t.params,t.paramsSerializer)}};Pe.forEach(["delete","get","head","options"],function(t){Kc.prototype[t]=function(r,n){return this.request(ou(n||{},{method:t,url:r,data:(n||{}).data}))}});Pe.forEach(["post","put","patch"],function(t){function r(n){return function(s,o,l){return this.request(ou(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Kc.prototype[t]=r(),Kc.prototype[t+"Form"]=r(!0)});let TU=class zO{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{n.subscribe(l),s=l}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},t(function(s,o,l){n.reason||(n.reason=new Pf(s,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new zO(function(i){t=i}),cancel:t}}};function CU(e){return function(r){return e.apply(null,r)}}function kU(e){return Pe.isObject(e)&&e.isAxiosError===!0}const gw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gw).forEach(([e,t])=>{gw[t]=e});function qO(e){const t=new Kc(e),r=bO(Kc.prototype.request,t);return Pe.extend(r,Kc.prototype,t,{allOwnKeys:!0}),Pe.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return qO(ou(e,i))},r}const ln=qO(Op);ln.Axios=Kc;ln.CanceledError=Pf;ln.CancelToken=TU;ln.isCancel=RO;ln.VERSION=UO;ln.toFormData=Gy;ln.AxiosError=kt;ln.Cancel=ln.CanceledError;ln.all=function(t){return Promise.all(t)};ln.spread=CU;ln.isAxiosError=kU;ln.mergeConfig=ou;ln.AxiosHeaders=Ga;ln.formToJSON=e=>LO(Pe.isHTMLForm(e)?new FormData(e):e);ln.getAdapter=BO.getAdapter;ln.HttpStatusCode=gw;ln.default=ln;const{Axios:z1e,AxiosError:q1e,CanceledError:H1e,isCancel:V1e,CancelToken:W1e,VERSION:G1e,all:Y1e,Cancel:K1e,isAxiosError:X1e,spread:J1e,toFormData:Z1e,AxiosHeaders:Q1e,HttpStatusCode:ebe,formToJSON:tbe,getAdapter:rbe,mergeConfig:nbe}=ln,OU="http://3.89.141.154:3007/api",V4=OU,IU="http://3.89.141.154:3007",lu={BASE_URL:V4,API_ORIGIN:V4.replace(/\/api\/?$/,"")||IU,TIMEOUT:1e4,RETRY_ATTEMPTS:3,RETRY_DELAY:1e3};function Oa(e){if(!e)return"";const t=e.startsWith("/")?e:`/${e}`;return`${lu.API_ORIGIN}${t}`}const xe={AUTH:{LOGIN:"/v1/auth/login",LOGOUT:"/v1/auth/logout",REFRESH:"/v1/auth/refresh",REGISTER:"/v1/auth/register",FORGOT_PASSWORD:"/v1/auth/forgot-password",RESET_PASSWORD:"/v1/auth/reset-password",VERIFY_EMAIL:"/v1/auth/verify-email",CHANGE_PASSWORD:"/v1/auth/change-password",RESEND_VERIFICATION:"/v1/auth/resend-verification",ENABLE_2FA:"/v1/auth/2fa/enable",VERIFY_2FA:"/v1/auth/2fa/verify",GET_PROFILE:"/v1/auth/me",UPDATE_PROFILE:"/v1/auth/profile",CHECK_STATUS:"/v1/auth/status",SESSIONS:"/v1/auth/sessions",REVOKE_SESSION:e=>`/v1/auth/sessions/${e}`,REVOKE_ALL_SESSIONS:"/v1/auth/sessions",HEALTH:"/v1/auth/health"},USERS:{BASE:"/v1/users",BY_ID:e=>`/v1/users/${e}`,SEARCH:"/v1/users/search",MEDICAL_STAFF:"/v1/users/medical-staff",UPDATE_STATUS:e=>`/v1/users/${e}/status`,PROFILE:"/v1/users/profile",UPDATE_PROFILE:"/v1/users/profile",UPLOAD_AVATAR:"/v1/users/avatar"},PATIENTS:{BASE:"/v1/patients",BY_ID:e=>`/v1/patients/${e}`,SEARCH:"/v1/patients/search",REGISTER:"/v1/patients",DASHBOARD:e=>`/v1/patients/${e}/dashboard`,TIMELINE:e=>`/v1/patients/${e}/timeline`,MERGE:e=>`/v1/patients/${e}/merge`,MEDICAL_HISTORY:e=>`/v1/patients/${e}/medical-history`,PROGRESS:e=>`/v1/patients/${e}/progress`,CASES:e=>`/v1/patients/${e}/cases`},NURSES:{BASE:"/v1/nurses",BY_ID:e=>`/v1/nurses/${e}`,SCHEDULE:e=>`/v1/nurses/${e}/schedule`,CERTIFICATIONS:e=>`/v1/nurses/${e}/certifications`,ASSIGNMENTS:e=>`/v1/nurses/${e}/assignments`},SPECIALISTS:{BASE:"/v1/specialists",BY_ID:e=>`/v1/specialists/${e}`,AVAILABILITY:e=>`/v1/specialists/${e}/availability`,SPECIALIZATIONS:"/v1/specialists/specializations"},THERAPISTS:{BASE:"/v1/therapists",BY_ID:e=>`/v1/therapists/${e}`},SPECIALIZATIONS:{BASE:"/v1/specializations",BY_ID:e=>`/v1/specializations/${e}`},APPOINTMENTS:{BASE:"/v1/appointments",BY_ID:e=>`/v1/appointments/${e}`,BY_PATIENT:e=>`/v1/appointments/patient/${e}`,BY_NURSE:e=>`/v1/appointments/nurse/${e}`,BY_SPECIALIST:e=>`/v1/appointments/specialist/${e}`,AVAILABLE_SLOTS:"/v1/appointments/available-slots",CHECK_CONFLICTS:"/v1/appointments/check-conflicts",CALENDAR:e=>`/v1/appointments/calendar/${e}`,SEARCH:"/v1/appointments/search",CANCEL:e=>`/v1/appointments/${e}/cancel`,RESCHEDULE:e=>`/v1/appointments/${e}/reschedule`,COMPLETE:e=>`/v1/appointments/${e}/complete`,START:e=>`/v1/appointments/${e}/start`,NO_SHOW:e=>`/v1/appointments/${e}/no-show`,NOTES:e=>`/v1/appointments/${e}/notes`},SERVICES:{BASE:"/v1/services",BY_ID:e=>`/v1/services/${e}`,CATEGORIES:"/v1/services/categories",TYPES:"/v1/services/types"},HEALTH_RECORDS:{BASE:"/v1/health-records",BY_ID:e=>`/v1/health-records/${e}`,BY_PATIENT:e=>`/v1/health-records/patient/${e}`,VITALS:e=>`/v1/health-records/patient/${e}/vitals`,MEDICATIONS:e=>`/v1/health-records/patient/${e}/medications`,SYMPTOMS:e=>`/v1/health-records/patient/${e}/symptoms`,VERIFY:e=>`/v1/health-records/${e}/verify`,EXPORT:e=>`/v1/health-records/patient/${e}/export`},BILLING:{INVOICES:"/v1/billing/invoices",INVOICE_BY_ID:e=>`/v1/billing/invoices/${e}`,ARCHIVE_INVOICE:e=>`/v1/billing/invoices/${e}/archive`,PAYMENTS:"/v1/billing/payments",PAYMENT_BY_ID:e=>`/v1/billing/payments/${e}`,PROCESS_PAYMENT:"/v1/billing/process-payment",GENERATE_INVOICE:"/v1/billing/generate-invoice",REVENUE_REPORT:"/v1/billing/reports/revenue",OUTSTANDING_REPORT:"/v1/billing/reports/outstanding",SUMMARY:"/v1/billing/reports/summary"},PHYSIOTHERAPY:{ASSESSMENTS:"/v1/physiotherapy/assessments",ASSESSMENT_BY_ID:e=>`/v1/physiotherapy/assessments/${e}`,TREATMENT_PLANS:"/v1/physiotherapy/treatment-plans",TREATMENT_PLAN_BY_ID:e=>`/v1/physiotherapy/treatment-plans/${e}`,SESSIONS:"/v1/physiotherapy/sessions",SESSION_BY_ID:e=>`/v1/physiotherapy/sessions/${e}`,EXERCISES:"/v1/physiotherapy/exercises",MODALITIES:"/v1/physiotherapy/modalities"},TRAINING:{CLASSES:"/v1/training/classes",CLASS_BY_ID:e=>`/v1/training/classes/${e}`,ENROLL:e=>`/v1/training/classes/${e}/enroll`,EXAMS:"/v1/training/exams",EXAM_BY_ID:e=>`/v1/training/exams/${e}`,SUBMIT_EXAM:e=>`/v1/training/exams/${e}/submit`,CERTIFICATIONS:"/v1/training/certifications",CERTIFICATION_BY_ID:e=>`/v1/training/certifications/${e}`,EXAMS_V2:"/v1/training/exams-v2",EXAM_V2_BY_ID:e=>`/v1/training/exams-v2/${e}`,START_EXAM:e=>`/v1/training/exams-v2/${e}/start`,ATTEMPTS:"/v1/training/attempts",ATTEMPT_BY_ID:e=>`/v1/training/attempts/${e}`,SUBMIT_ATTEMPT:e=>`/v1/training/attempts/${e}/submit`,CERTIFICATES_V2:"/v1/training/certificates",CERTIFICATE_V2_BY_ID:e=>`/v1/training/certificates/${e}`,CERTIFICATES_MINE:"/v1/training/certificates/mine",APPROVE_CERTIFICATE:e=>`/v1/training/certificates/${e}/approve`},NOTIFICATIONS:{BASE:"/v1/notifications",BY_ID:e=>`/v1/notifications/${e}`,MARK_READ:e=>`/v1/notifications/${e}/read`,MARK_ALL_READ:"/v1/notifications/mark-all-read",PREFERENCES:"/v1/notifications/preferences",UNREAD_COUNT:"/v1/notifications/unread-count",TEST:"/v1/notifications/test",HISTORY:"/v1/notifications/history",BULK_READ:"/v1/notifications/bulk-read",BULK_DELETE:"/v1/notifications/bulk-delete"},PHONE_REMINDERS:{BASE:"/v1/phone-reminders",BY_ID:e=>`/v1/phone-reminders/${e}`,SEND:e=>`/v1/phone-reminders/${e}/send`,CANCEL:e=>`/v1/phone-reminders/${e}/cancel`,TEMPLATES:"/v1/phone-reminders/templates"},COMMUNICATION:{MESSAGES:"/v1/communication/messages",MESSAGE_BY_ID:e=>`/v1/communication/messages/${e}`,SEND_MESSAGE:"/v1/communication/send",CONVERSATIONS:"/v1/communication/conversations",CONVERSATION_BY_ID:e=>`/v1/communication/conversations/${e}`},REPORTS:{BASE:"/v1/reports",CUSTOM:"/v1/reports/custom",SCHEDULE:"/v1/reports/schedule",TEMPLATES:"/v1/reports/templates",APPOINTMENTS:"/v1/reports/appointments",REVENUE:"/v1/reports/revenue",PATIENT_SATISFACTION:"/v1/reports/patient-satisfaction",NURSE_UTILIZATION:"/v1/reports/nurse-utilization",EXPORT:e=>`/v1/reports/export/${e}`},ANALYTICS:{DASHBOARD:"/v1/analytics/dashboard",OVERVIEW:"/v1/analytics/overview",TRENDS:"/v1/analytics/trends",PERFORMANCE:"/v1/analytics/performance",APPOINTMENTS:"/v1/analytics/appointments",REVENUE:"/v1/analytics/revenue",PATIENTS:"/v1/analytics/patients",NURSES:"/v1/analytics/nurses",SERVICE_POPULARITY:"/v1/analytics/service-popularity"},FEEDBACK:{BASE:"/v1/feedback",BY_ID:e=>`/v1/feedback/${e}`,BY_PATIENT:e=>`/v1/feedback/patient/${e}`,BY_SERVICE:e=>`/v1/feedback/service/${e}`,SUBMIT:"/v1/feedback/submit"},LAB:{SAMPLES:"/v1/lab/samples",SAMPLE_BY_ID:e=>`/v1/lab/samples/${e}`,RESULTS:"/v1/lab/results",RESULT_BY_ID:e=>`/v1/lab/results/${e}`,COLLECT:"/v1/lab/collect",UPDATE_STATUS:e=>`/v1/lab/samples/${e}/status`},INVESTIGATION_REQUESTS:{BASE:"/v1/investigation-requests",BY_ID:e=>`/v1/investigation-requests/${e}`},REFERRALS:{BASE:"/v1/referrals",BY_ID:e=>`/v1/referrals/${e}`,BY_PATIENT:e=>`/v1/referrals/patient/${e}`,SEND:"/v1/referrals/send",ACCEPT:e=>`/v1/referrals/${e}/accept`,DECLINE:e=>`/v1/referrals/${e}/decline`},UPLOAD:{AVATAR:"/v1/upload/avatar",DOCUMENT:"/v1/upload/document",IMAGE:"/v1/upload/image",DELETE:e=>`/v1/upload/${e}`},SETTINGS:{SYSTEM:"/v1/settings/system",NOTIFICATIONS:"/v1/settings/notifications",REMINDERS:"/v1/settings/reminders",BACKUP:"/v1/settings/backup",RESTORE:"/v1/settings/restore"},SYSTEM:{HEALTH:"/v1/health",HEALTH_DETAILED:"/v1/health/detailed",METRICS:"/v1/metrics",STATUS:"/v1/status",AUDIT_LOGS:"/v1/audit/logs",USER_ACTIVITIES:e=>`/v1/audit/activities${e?`/${e}`:""}`,LOGIN_ATTEMPTS:"/v1/audit/login-attempts",EXPORT_AUDIT:"/v1/audit/export",APP_CONFIG:"/v1/config/app",FEATURE_FLAGS:"/v1/config/features",DATA_BACKUP:"/v1/data/backup",DATA_RESTORE:"/v1/data/restore",DATA_EXPORT:"/v1/data/export",DATA_IMPORT:"/v1/data/import",DATA_CLEANUP:"/v1/data/cleanup"},SECURITY:{POLICIES:"/v1/security/policies",INCIDENTS:"/v1/security/incidents",REPORT_INCIDENT:"/v1/security/incidents",COMPLIANCE_AUDIT:"/v1/compliance/audit",DATA_REQUESTS:"/v1/privacy/data-requests",DATA_EXPORT:e=>`/v1/privacy/data-export${e?`/${e}`:""}`,DATA_DELETE:e=>`/v1/privacy/data-delete${e?`/${e}`:""}`},MOBILE:{CONFIG:"/v1/mobile/config",PUSH_TOKEN:"/v1/mobile/push-token",OFFLINE_SYNC:"/v1/mobile/offline-sync"},INTEGRATIONS:{AVAILABLE:"/v1/integrations/available",CONNECT:"/v1/integrations/connect",WEBHOOK:e=>`/v1/integrations/webhook${e?`/${e}`:""}`}},ks={AUTH:{LOGIN:"/v1/auth/login",LOGOUT:"/v1/auth/logout",REFRESH:"/v1/auth/refresh",REGISTER:"/v1/auth/register",FORGOT_PASSWORD:"/v1/auth/forgot-password",RESET_PASSWORD:"/v1/auth/reset-password",VERIFY_EMAIL:"/v1/auth/verify-email",CHANGE_PASSWORD:"/v1/auth/change-password",ME:"/v1/auth/me"},USERS:{BASE:"/v1/users",BY_ID:e=>`/v1/users/${e}`,PROFILE:"/v1/users/profile",AVATAR:"/v1/users/avatar",SEARCH:"/v1/users/search"},PATIENTS:{BASE:"/v1/patients",BY_ID:e=>`/v1/patients/${e}`,SEARCH:"/v1/patients/search",MEDICAL_HISTORY:e=>`/v1/patients/${e}/medical-history`,PROGRESS:e=>`/v1/patients/${e}/progress`,CASES:e=>`/v1/patients/${e}/cases`},NURSES:{BASE:"/v1/nurses",BY_ID:e=>`/v1/nurses/${e}`,SCHEDULE:e=>`/v1/nurses/${e}/schedule`,CERTIFICATIONS:e=>`/v1/nurses/${e}/certifications`,ASSIGNMENTS:e=>`/v1/nurses/${e}/assignments`,SEARCH:"/v1/nurses/search"},SPECIALISTS:{BASE:"/v1/specialists",BY_ID:e=>`/v1/specialists/${e}`,AVAILABILITY:e=>`/v1/specialists/${e}/availability`,SPECIALIZATIONS:"/v1/specialists/specializations",SEARCH:"/v1/specialists/search"},APPOINTMENTS:{BASE:"/v1/appointments",BY_ID:e=>`/v1/appointments/${e}`,PATIENT:e=>`/v1/appointments/patient/${e}`,NURSE:e=>`/v1/appointments/nurse/${e}`,AVAILABLE_SLOTS:"/v1/appointments/available-slots",CANCEL:e=>`/v1/appointments/${e}/cancel`,RESCHEDULE:e=>`/v1/appointments/${e}/reschedule`,COMPLETE:e=>`/v1/appointments/${e}/complete`,START:e=>`/v1/appointments/${e}/start`},SERVICES:{BASE:"/v1/services",BY_ID:e=>`/v1/services/${e}`,CATEGORIES:"/v1/services/categories",TYPES:"/v1/services/types",SEARCH:"/v1/services/search"},HEALTH_RECORDS:{BASE:"/v1/health-records",BY_ID:e=>`/v1/health-records/${e}`,PATIENT:e=>`/v1/health-records/patient/${e}`,VITALS:e=>`/v1/health-records/patient/${e}/vitals`,MEDICATIONS:e=>`/v1/health-records/patient/${e}/medications`,SYMPTOMS:e=>`/v1/health-records/patient/${e}/symptoms`,VERIFY:e=>`/v1/health-records/${e}/verify`,EXPORT:e=>`/v1/health-records/patient/${e}/export`},BILLING:{INVOICES:"/v1/billing/invoices",INVOICE_BY_ID:e=>`/v1/billing/invoices/${e}`,GENERATE_INVOICE:"/v1/billing/generate-invoice",PAYMENTS:"/v1/billing/payments",PAYMENT_BY_ID:e=>`/v1/billing/payments/${e}`,PROCESS_PAYMENT:"/v1/billing/process-payment",REVENUE_REPORTS:"/v1/billing/reports/revenue",OUTSTANDING_REPORTS:"/v1/billing/reports/outstanding"},NOTIFICATIONS:{BASE:"/v1/notifications",BY_ID:e=>`/v1/notifications/${e}`,MARK_READ:e=>`/v1/notifications/${e}/read`,MARK_ALL_READ:"/v1/notifications/mark-all-read",UNREAD_COUNT:"/v1/notifications/unread-count",PREFERENCES:"/v1/notifications/preferences",TEST:"/v1/notifications/test",HISTORY:"/v1/notifications/history",BULK_READ:"/v1/notifications/bulk-read",BULK_DELETE:"/v1/notifications/bulk-delete"},UPLOAD:{AVATAR:"/v1/upload/avatar",DOCUMENT:"/v1/upload/document",IMAGE:"/v1/upload/image",BY_ID:e=>`/v1/upload/${e}`}};class _l extends Error{constructor(t,r,n){super(r),this.status=t,this.message=r,this.errors=n,this.name="ApiError"}}class LU{constructor(){Vt(this,"client");Vt(this,"token",null);Vt(this,"refreshTokenValue",null);this.client=ln.create({baseURL:lu.BASE_URL,timeout:lu.TIMEOUT,headers:{"Content-Type":"application/json"}}),this.setupInterceptors(),this.loadTokens()}isAuthEndpoint(t){return t?[ks.AUTH.LOGIN,ks.AUTH.REFRESH,ks.AUTH.LOGOUT,ks.AUTH.REGISTER,ks.AUTH.FORGOT_PASSWORD,ks.AUTH.RESET_PASSWORD,ks.AUTH.VERIFY_EMAIL].some(n=>t.includes(n)):!1}setupInterceptors(){this.client.interceptors.request.use(t=>(this.token&&(t.headers.Authorization=`Bearer ${this.token}`),t),t=>Promise.reject(t)),this.client.interceptors.response.use(t=>t,async t=>{var n;const r=t.config;if(((n=t.response)==null?void 0:n.status)===401&&r&&!r._retry&&!this.isAuthEndpoint(r.url)){r._retry=!0;try{return await this.refreshToken(),this.client(r)}catch(i){return this.logout(),Promise.reject(i)}}return Promise.reject(this.handleError(t))})}handleError(t){var r,n,i;if(t.response){const{status:s,data:o}=t.response,c=(o==null?void 0:o.message)||(typeof(o==null?void 0:o.error)=="string"?o.error:(r=o==null?void 0:o.error)==null?void 0:r.message)||((n=o==null?void 0:o.errors)==null?void 0:n[0])||"An error occurred",u=Array.isArray(o==null?void 0:o.errors)?o.errors:typeof(o==null?void 0:o.error)=="object"&&Array.isArray((i=o.error)==null?void 0:i.details)?o.error.details:void 0;return new _l(s,c,u)}else return t.request?new _l(0,"Network error - please check your connection"):new _l(0,t.message||"An unexpected error occurred")}loadTokens(){this.token=localStorage.getItem("auth_token"),this.refreshTokenValue=localStorage.getItem("refresh_token")}saveToken(t){this.token=t,localStorage.setItem("auth_token",t)}saveRefreshToken(t){this.refreshTokenValue=t,localStorage.setItem("refresh_token",t)}removeToken(){this.token=null,localStorage.removeItem("auth_token")}removeRefreshToken(){this.refreshTokenValue=null,localStorage.removeItem("refresh_token")}setTokens(t){t!=null&&t.accessToken?this.saveToken(t.accessToken):this.removeToken(),t!=null&&t.refreshToken?this.saveRefreshToken(t.refreshToken):(t==null?void 0:t.refreshToken)===null&&this.removeRefreshToken()}clearTokens(){this.removeToken(),this.removeRefreshToken()}async login(t){const r=await this.client.post(ks.AUTH.LOGIN,t);if(!r.data.success){let n="Login failed. Please check your credentials.";throw r.data.message?n=r.data.message:r.data.error?typeof r.data.error=="string"?n=r.data.error:r.data.error.message&&(n=r.data.error.message):r.data.errors&&Array.isArray(r.data.errors)&&r.data.errors.length>0&&(n=r.data.errors[0]),new _l(r.status||400,n,Array.isArray(r.data.errors)?r.data.errors:void 0)}return r.data.success&&r.data.data&&this.setTokens({accessToken:r.data.data.accessToken,refreshToken:r.data.data.refreshToken}),r.data}async logout(){try{await this.client.post(ks.AUTH.LOGOUT)}finally{this.clearTokens()}}async refreshToken(){if(!this.refreshTokenValue)throw new _l(401,"Session expired. Please log in again.");const t=await this.client.post(ks.AUTH.REFRESH,{refreshToken:this.refreshTokenValue});return t.data.success&&t.data.data&&this.setTokens({accessToken:t.data.data.accessToken,refreshToken:t.data.data.refreshToken??void 0}),t.data}async get(t,r){return(await this.client.get(t,r)).data}async post(t,r,n){return(await this.client.post(t,r,n)).data}async put(t,r,n){return(await this.client.put(t,r,n)).data}async patch(t,r,n){return(await this.client.patch(t,r,n)).data}async delete(t,r){return(await this.client.delete(t,r)).data}async uploadFile(t,r,n){const i=new FormData;return i.append("file",r),(await this.client.post(t,i,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:o=>{if(n&&o.total){const l=Math.round(o.loaded*100/o.total);n(l)}}})).data}isAuthenticated(){return!!this.token}getToken(){return this.token}}const me=new LU;class RU{async getNotifications(t){const r=await me.get(xe.NOTIFICATIONS.BASE,{params:t});return r.success&&Array.isArray(r.data)&&r.pagination?{data:r.data,pagination:r.pagination}:r.data||r}async getNotification(t){return(await me.get(xe.NOTIFICATIONS.BY_ID(t))).data}async createNotification(t){return(await me.post(xe.NOTIFICATIONS.BASE,t)).data}async markAsRead(t){return(await me.patch(xe.NOTIFICATIONS.MARK_READ(t))).data}async markAllAsRead(){await me.patch(xe.NOTIFICATIONS.MARK_ALL_READ)}async deleteNotification(t){await me.delete(xe.NOTIFICATIONS.BY_ID(t))}async getUnreadCount(){return(await me.get(`${xe.NOTIFICATIONS.BASE}/unread-count`)).data.count}async getPreferences(){return(await me.get(xe.NOTIFICATIONS.PREFERENCES)).data}async updatePreferences(t){return(await me.put(xe.NOTIFICATIONS.PREFERENCES,t)).data}async sendTestNotification(t,r){await me.post(`${xe.NOTIFICATIONS.BASE}/test`,{type:t,phoneNumber:r})}async getNotificationHistory(t,r=50){return(await me.get(`${xe.NOTIFICATIONS.BASE}/history`,{params:{userId:t,limit:r}})).data}async bulkMarkAsRead(t){await me.patch(`${xe.NOTIFICATIONS.BASE}/bulk-read`,{notificationIds:t})}async bulkDelete(t){await me.delete(`${xe.NOTIFICATIONS.BASE}/bulk-delete`,{data:{notificationIds:t}})}}const ls=new RU,u5=L.createContext(void 0),Mr=()=>{const e=L.useContext(u5);if(!e)throw new Error("useNotifications must be used within a NotificationProvider");return e},J1=e=>({...e,id:e.id||e._id||"",date:e.date||e.createdAt||new Date().toISOString(),read:e.read??e.isRead??!1,title:e.title||"",message:e.message||"",type:(e.type||"info").toLowerCase(),priority:e.priority||"medium",category:e.category||"general",userId:e.userId||"",phoneNotification:e.phoneNotification??!1}),MU=({children:e})=>{const[t,r]=L.useState([]),[n,i]=L.useState(!0);L.useEffect(()=>{let f=!0;return(async()=>{try{const h=await ls.getNotifications({limit:50});let p=[];Array.isArray(h)?p=h:h&&typeof h=="object"&&(Array.isArray(h.data)?p=h.data:h.data&&typeof h.data=="object"&&Array.isArray(h.data.data)?p=h.data.data:h.success&&Array.isArray(h.data)&&(p=h.data)),f&&r(p.map(J1))}catch(h){console.error("Failed to load notifications",h),f&&r([])}finally{f&&i(!1)}})(),()=>{f=!1}},[]);const s=L.useCallback(async(f,m)=>{const h=(m==null?void 0:m.persist)??!0,p=`notif-${Date.now()}-${Math.random().toString(36).slice(2)}`,y=J1({id:p,date:new Date().toISOString(),read:!1,...f});if(r(v=>[y,...v]),h)try{const v={title:f.title,message:f.message,type:f.type,priority:f.priority,category:f.category,userId:f.userId,phoneNotification:f.phoneNotification},x=await ls.createNotification(v);r(b=>b.map(N=>N.id===p?J1(x):N))}catch(v){console.error("Failed to persist notification",v)}!h&&(f.type==="success"||f.type==="info")&&setTimeout(()=>{r(v=>v.filter(x=>x.id!==p))},5e3)},[]),o=L.useCallback(async f=>{r(m=>m.filter(h=>h.id!==f));try{await ls.deleteNotification(f)}catch(m){console.error("Failed to delete notification",m)}},[]),l=L.useCallback(async f=>{r(m=>m.map(h=>h.id===f?{...h,read:!0}:h));try{await ls.markAsRead(f)}catch(m){console.error("Failed to mark notification as read",m)}},[]),c=L.useCallback(async()=>{r(f=>f.map(m=>({...m,read:!0})));try{await ls.markAllAsRead()}catch(f){console.error("Failed to mark notifications as read",f)}},[]),u=t.filter(f=>!f.read).length,d={notifications:t,addNotification:s,removeNotification:o,markAsRead:l,markAllAsRead:c,unreadCount:u,isLoading:n};return a.jsx(u5.Provider,{value:d,children:e})};function DU(){const{notifications:e,removeNotification:t,markAsRead:r,markAllAsRead:n,unreadCount:i,isLoading:s}=Mr(),[o,l]=L.useState(!1),[c,u]=L.useState(!1);L.useEffect(()=>{o&&(u(!0),ls.getNotifications({limit:50}).then(h=>{Array.isArray(h)||(Array.isArray(h.data)||h&&typeof h=="object"&&Array.isArray(h.data))&&h.data}).catch(h=>{console.error("Failed to refresh notifications",h)}).finally(()=>{u(!1)}))},[o]);const d=h=>{switch(String(h||"info").toLowerCase()){case"success":case"SUCCESS":return a.jsx($n,{className:"h-5 w-5 text-green-500"});case"error":case"ERROR":return a.jsx(zo,{className:"h-5 w-5 text-red-500"});case"warning":case"WARNING":return a.jsx(ha,{className:"h-5 w-5 text-yellow-500"});default:return a.jsx(GF,{className:"h-5 w-5 text-blue-500"})}},f=h=>{switch(String(h||"info").toLowerCase()){case"success":case"SUCCESS":return"border-l-green-500 bg-green-50";case"error":case"ERROR":return"border-l-red-500 bg-red-50";case"warning":case"WARNING":return"border-l-yellow-500 bg-yellow-50";default:return"border-l-blue-500 bg-blue-50"}},m=h=>{const p=new Date(h),v=Math.floor((new Date().getTime()-p.getTime())/(1e3*60));return v<1?"Just now":v<60?`${v}m ago`:v<1440?`${Math.floor(v/60)}h ago`:p.toLocaleDateString()};return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>l(!o),className:"relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[a.jsx(Ao,{className:"h-6 w-6"}),i>0&&a.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:i>9?"9+":i})]}),o&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>l(!1)}),a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-96 bg-white rounded-lg shadow-xl border border-gray-200 z-50 max-h-96 overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[i>0&&a.jsxs("button",{onClick:n,className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:[a.jsx($F,{className:"h-4 w-4 mr-1"}),"Mark all read"]}),a.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(Dt,{className:"h-5 w-5"})})]})]})}),a.jsx("div",{className:"max-h-80 overflow-y-auto",children:s?a.jsxs("div",{className:"p-6 flex items-center justify-center text-gray-500",children:[a.jsx(Ir,{className:"h-5 w-5 mr-2 animate-spin"})," Loading notifications..."]}):e.length===0?a.jsxs("div",{className:"p-8 text-center text-gray-500",children:[a.jsx(Ao,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No notifications yet"})]}):a.jsx("div",{className:"divide-y divide-gray-200",children:e.map(h=>a.jsx("div",{className:`p-4 border-l-4 ${f(h.type)} ${h.read?"bg-opacity-50":"bg-opacity-100"}`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:d(h.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:`text-sm font-medium ${h.read?"text-gray-600":"text-gray-900"}`,children:h.title}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-xs text-gray-500",children:m(h.date||new Date().toISOString())}),a.jsx("button",{onClick:()=>t(h.id),className:"text-gray-400 hover:text-gray-600",title:"Delete notification",children:a.jsx(Dt,{className:"h-4 w-4"})})]})]}),a.jsx("p",{className:`text-sm mt-1 ${h.read?"text-gray-500":"text-gray-700"}`,children:h.message}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[h.category&&a.jsx("span",{className:"text-xs text-gray-400 capitalize",children:h.category.toLowerCase().replace("_"," ")}),!h.read&&a.jsx("button",{onClick:()=>r(h.id),className:"text-xs text-blue-600 hover:text-blue-800",children:"Mark as read"})]})]})]})},h.id))})})]})]})]})}class $U{async getSessions(){var r,n;return((n=(r=(await me.get(xe.AUTH.SESSIONS)).data)==null?void 0:r.data)==null?void 0:n.sessions)||[]}async revokeSession(t){await me.delete(xe.AUTH.REVOKE_SESSION(t))}async revokeAllSessions(){await me.delete(xe.AUTH.REVOKE_ALL_SESSIONS)}getCurrentSessionInfo(){const t=localStorage.getItem("auth_token");if(!t)return null;try{const r=JSON.parse(atob(t.split(".")[1]));return{id:r.sessionId||"current",deviceInfo:navigator.userAgent,isActive:!0,createdAt:new Date(r.iat*1e3).toISOString(),lastActiveAt:new Date().toISOString()}}catch{return null}}formatDeviceInfo(t){if(t.deviceInfo){const r=t.deviceInfo;if(r.includes("Mobile"))return"Mobile Device";if(r.includes("Tablet"))return"Tablet";if(r.includes("Windows"))return"Windows PC";if(r.includes("Mac"))return"Mac";if(r.includes("Linux"))return"Linux PC"}return"Unknown Device"}isCurrentSession(t){const r=this.getCurrentSessionInfo();return(r==null?void 0:r.id)===t.id}}const Z1=new $U,FU=["admin","receptionist","specialist","nurse","biller"],W4={ADMIN:"admin",RECEPTIONIST:"receptionist",SPECIALIST:"specialist",NURSE:"nurse",BILLER:"biller"};class BU{async login(t){const r=await me.login(t);return this.normalizeAuthPayload(r),r}async register(t){const r=await me.post(xe.AUTH.REGISTER,t);return r.success&&r.data&&me.setTokens({accessToken:r.data.accessToken,refreshToken:r.data.refreshToken}),this.normalizeAuthPayload(r),r}async logout(){await me.logout()}async refreshToken(){return me.refreshToken()}async forgotPassword(t){await me.post(xe.AUTH.FORGOT_PASSWORD,t)}async resetPassword(t){await me.post(xe.AUTH.RESET_PASSWORD,t)}async changePassword(t,r){await me.post(xe.AUTH.CHANGE_PASSWORD,{currentPassword:t,newPassword:r})}async verifyEmail(t){await me.post(xe.AUTH.VERIFY_EMAIL,{token:t})}async resendVerification(){await me.post(xe.AUTH.RESEND_VERIFICATION)}async getProfile(){var r;const t=await me.get(xe.AUTH.GET_PROFILE);if((r=t.data)!=null&&r.user)return this.normalizeUser(t.data.user);throw new Error("Unable to fetch user profile")}async updateProfile(t){var n;const r=await me.put(xe.AUTH.UPDATE_PROFILE,t);if((n=r.data)!=null&&n.user)return this.normalizeUser(r.data.user);throw new Error("Unable to update profile")}async checkStatus(){try{const t=await me.get(xe.AUTH.CHECK_STATUS);if(t.data){const r=t.data.user?this.normalizeUser(t.data.user):void 0;return{...t.data,user:r}}return{isAuthenticated:!1}}catch{return{isAuthenticated:!1}}}async getSessions(){return Z1.getSessions()}async revokeSession(t){return Z1.revokeSession(t)}async revokeAllSessions(){return Z1.revokeAllSessions()}isAuthenticated(){return me.isAuthenticated()}getCurrentUser(){const t=localStorage.getItem("current_user");if(!t)return null;try{const r=JSON.parse(t);return this.normalizeUser(r)}catch{return this.clearCurrentUser(),null}}setCurrentUser(t){const r=this.normalizeUser(t);localStorage.setItem("current_user",JSON.stringify(r))}clearCurrentUser(){localStorage.removeItem("current_user")}normalizeAuthPayload(t){var r;(r=t.data)!=null&&r.user&&(t.data={...t.data,user:this.normalizeUser(t.data.user)})}normalizeUser(t){const r=this.normalizeRole(t.role??t.roleCode??""),n=t.roleCode??this.mapRoleToCode(r);return{...t,role:r,roleCode:n}}normalizeRole(t){if(!t)return"admin";const r=t.trim().toUpperCase().replace(/[\s-]+/g,"_"),n=W4[r];if(n)return n;const i=t.trim().toLowerCase();return FU.includes(i),i}mapRoleToCode(t){const r=Object.entries(W4).find(([,n])=>n===t);return r?r[0]:t.toUpperCase().replace(/-/g,"_")}}const $r=new BU,HO=L.createContext(void 0),fr=()=>{const e=L.useContext(HO);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},UU=({children:e})=>{const[t,r]=L.useState(null),[n,i]=L.useState(!0),s=L.useContext(u5),o=(s==null?void 0:s.addNotification)||(w=>{console.warn("NotificationProvider not available, using toast notifications only")}),l=L.useCallback(async({silent:w,skipServer:S}={})=>{const E=$r.getCurrentUser();try{S||await $r.logout()}catch(C){console.error("Error logging out:",C)}finally{me.clearTokens(),$r.clearCurrentUser(),E&&!w&&o({title:"Signed Out",message:"You have been logged out. See you soon!",type:"info",priority:"low",userId:E.id,category:"system"}),r(null)}},[o]),c=L.useCallback(async()=>{await l()},[l]),u=L.useCallback(async()=>{try{const w=await $r.checkStatus();if(w.isAuthenticated&&w.user){$r.setCurrentUser(w.user),r(w.user);return}if((await $r.refreshToken()).success){const E=await $r.getProfile();$r.setCurrentUser(E),r(E);return}await l({silent:!0,skipServer:!0})}catch(w){throw console.error("Error refreshing user:",w),await l({silent:!0,skipServer:!0}),w}},[l]);L.useEffect(()=>{let w=!0;return(async()=>{i(!0);try{if(!$r.isAuthenticated()){me.clearTokens(),$r.clearCurrentUser(),w&&r(null);return}const E=$r.getCurrentUser();if(E){w&&r(E);return}await u()}catch(E){console.error("Auth initialization error:",E),await l({silent:!0,skipServer:!0})}finally{w&&i(!1)}})(),()=>{w=!1}},[u,l]);const N={user:t,isAuthenticated:!!t,isLoading:n,login:async w=>{try{i(!0);const S=await $r.login(w);if(S.success&&S.data){$r.setCurrentUser(S.data.user),r(S.data.user);const E=S.message||`Welcome back, ${S.data.user.name}!`;Ce.success(E),o({title:"Login Successful",message:E,type:"success",priority:"medium",userId:S.data.user.id,category:"system"})}else{let E="Login failed. Please check your credentials.";throw S.message?E=S.message:S.error?typeof S.error=="string"?E=S.error:S.error.message&&(E=S.error.message):S.errors&&Array.isArray(S.errors)&&S.errors.length>0&&(E=S.errors[0]),new Error(E)}}catch(S){throw S}finally{i(!1)}},register:async w=>{try{i(!0);const S=await $r.register(w);S.success&&S.data&&($r.setCurrentUser(S.data.user),r(S.data.user),o({title:"Registration Complete",message:S.message||"Your account has been created successfully.",type:"success",priority:"medium",userId:S.data.user.id,category:"system"}))}catch(S){throw S}finally{i(!1)}},logout:c,refreshUser:u,updateProfile:async w=>{try{const S=await $r.updateProfile(w);r(S),$r.setCurrentUser(S)}catch(S){throw console.error("Error updating profile:",S),S}},changePassword:async(w,S)=>{try{await $r.changePassword(w,S)}catch(E){throw console.error("Error changing password:",E),E}},verifyEmail:async w=>{try{await $r.verifyEmail(w)}catch(S){throw console.error("Error verifying email:",S),S}},resendVerification:async()=>{try{await $r.resendVerification()}catch(w){throw console.error("Error resending verification:",w),w}},getSessions:async()=>{try{return await $r.getSessions()}catch(w){throw console.error("Error getting sessions:",w),w}},revokeSession:async w=>{try{await $r.revokeSession(w)}catch(S){throw console.error("Error revoking session:",S),S}},revokeAllSessions:async()=>{try{await $r.revokeAllSessions()}catch(w){throw console.error("Error revoking all sessions:",w),w}}};return a.jsx(HO.Provider,{value:N,children:e})};function Mm(){return"/assets/company-logo.png"}async function zU(){try{const e=await fetch(Mm());if(!e.ok)throw new Error("Failed to load logo");const t=await e.blob();return new Promise((r,n)=>{const i=new FileReader;i.onloadend=()=>{typeof i.result=="string"?r(i.result):n(new Error("Failed to convert logo to base64"))},i.onerror=n,i.readAsDataURL(t)})}catch(e){return console.error("Error loading logo:",e),""}}function d5(e="",t="max-height: 80px; width: auto;"){return`<img src="${Mm()}" alt="Teamwork Physio International" class="${e}" style="${t}" />`}const qU=e=>{const t=[{name:"Dashboard",href:"/dashboard",icon:YF}],r=[...t,{name:"Patients",href:"/patients",icon:Ba},{name:"Lab Requests",href:"/investigations",icon:Ms},{name:"Appointments",href:"/scheduling?view=appointments",icon:Mt},{name:"Specialists",href:"/specialists",icon:Mi},{name:"Therapists",href:"/therapists",icon:Vd},{name:"Billers",href:"/billers",icon:Fs}],n=[...t,{name:"My Schedule",href:"/my-schedule",icon:Mt},{name:"Patients",href:"/patients",icon:El},{name:"Investigations",href:"/investigations",icon:Ms},{name:"Clinical Documentation",href:"/health-records",icon:Aa},{name:"Schedule Session",href:"/scheduling",icon:Mt}],i=[...t,{name:"My Schedule",href:"/my-schedule",icon:Mt},{name:"Patients",href:"/patients",icon:El},{name:"Investigations",href:"/investigations",icon:Ms},{name:"Clinical Documentation",href:"/health-records",icon:Aa},{name:"Schedule Session",href:"/scheduling",icon:Mt}],s=[...t,{name:"Patients",href:"/patients",icon:El}],o=[...t,{name:"Patients",href:"/patients",icon:El},{name:"Receptionists",href:"/receptionists",icon:Ba},{name:"Specialists",href:"/specialists",icon:Mi},{name:"Therapists",href:"/therapists",icon:Vd},{name:"Nurses",href:"/nurses",icon:Yc},{name:"Lab Attendants",href:"/lab-attendants",icon:Ms},{name:"Billers",href:"/billers",icon:Fs},{name:"Consultation rates",href:"/consultation-rates",icon:Sa},{name:"Scheduling",href:"/scheduling",icon:Mt},{name:"Services",href:"/services",icon:hx},{name:"Investigations",href:"/investigations",icon:Ms},{name:"Clinical Documentation",href:"/health-records",icon:Aa},{name:"Billing",href:"/billing",icon:Fs},{name:"Reports & Analytics",href:"/reports",icon:lw},{name:"Training & Exams",href:"/training",icon:qd},{name:"Settings",href:"/settings",icon:eB}],l=[...t,{name:"Patients",href:"/patients",icon:El},{name:"Lab Requests",href:"/investigations",icon:Ms},{name:"Services",href:"/services",icon:hx},{name:"Consultation rates",href:"/consultation-rates",icon:Sa},{name:"Billing",href:"/billing",icon:Fs}],c=[...t,{name:"Investigations",href:"/investigations",icon:Ms},{name:"Health Records & Lab",href:"/health-records",icon:Aa}];switch(e){case"receptionist":return r;case"doctor":return n;case"specialist":return i;case"nurse":return s;case"admin":return o;case"biller":return l;case"lab_attendant":return c;default:return t}};function HU({children:e,user:t}){const{logout:r}=fr(),[n,i]=L.useState(!1),s=Ql(),o=qU(t.role);return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsxs("div",{className:`fixed inset-0 z-50 lg:hidden ${n?"block":"hidden"}`,children:[a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>i(!1)}),a.jsxs("div",{className:"fixed inset-y-0 left-0 flex h-full w-64 flex-col bg-white min-h-0",children:[a.jsxs("div",{className:"flex h-auto shrink-0 items-center justify-between px-4 py-2",children:[a.jsxs("div",{className:"flex items-center justify-center flex-1",children:[a.jsx("img",{src:Mm(),alt:"Teamwork Physio International",className:"h-12 sm:h-14 md:h-16 w-auto object-contain max-w-full",onError:l=>{const c=l.target;c.style.display="none";const u=c.nextElementSibling;u&&(u.style.display="flex")}}),a.jsx("div",{className:"h-8 w-8 bg-primary-500 rounded-lg flex items-center justify-center flex-shrink-0",style:{display:"none"},children:a.jsx("span",{className:"text-white font-bold text-sm",children:"TH"})})]}),a.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600 ml-2 flex-shrink-0",children:a.jsx(Dt,{className:"h-6 w-6"})})]}),a.jsx("nav",{className:"min-h-0 flex-1 px-4 pt-2 pb-4 space-y-1 sidebar-scroll",children:o.map(l=>{const c=s.pathname===l.href;return a.jsxs(Rn,{to:l.href,className:`sidebar-item ${c?"sidebar-item-active":"sidebar-item-inactive"}`,onClick:()=>i(!1),children:[a.jsx(l.icon,{className:"mr-3 h-5 w-5"}),l.name]},l.name)})})]})]}),a.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col lg:h-full",children:a.jsxs("div",{className:"flex min-h-0 flex-1 flex-col bg-white border-r border-gray-200",children:[a.jsxs("div",{className:"flex h-auto shrink-0 items-center justify-center px-4 py-2",children:[a.jsx("img",{src:Mm(),alt:"Teamwork Physio International",className:"h-12 lg:h-14 xl:h-16 w-auto object-contain max-w-full",onError:l=>{const c=l.target;c.style.display="none";const u=c.nextElementSibling;u&&(u.style.display="flex")}}),a.jsx("div",{className:"h-8 w-8 bg-primary-500 rounded-lg flex items-center justify-center flex-shrink-0",style:{display:"none"},children:a.jsx("span",{className:"text-white font-bold text-sm",children:"TH"})})]}),a.jsx("nav",{className:"min-h-0 flex-1 px-4 pt-2 pb-4 space-y-1 sidebar-scroll",children:o.map(l=>{const c=s.pathname===l.href;return a.jsxs(Rn,{to:l.href,className:`sidebar-item ${c?"sidebar-item-active":"sidebar-item-inactive"}`,children:[a.jsx(l.icon,{className:"mr-3 h-5 w-5"}),l.name]},l.name)})})]})}),a.jsxs("div",{className:"lg:pl-64",children:[a.jsxs("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:[a.jsx("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-700 lg:hidden",onClick:()=>i(!0),children:a.jsx(XF,{className:"h-6 w-6"})}),a.jsxs("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[a.jsxs("div",{className:"relative flex flex-1 items-center",children:[a.jsx(Br,{className:"pointer-events-none absolute inset-y-0 left-0 h-full w-5 text-gray-400 ml-3"}),a.jsx("input",{type:"text",placeholder:"Search...",className:"block h-10 w-full rounded-lg border-0 py-1.5 pl-10 pr-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-primary-500 sm:text-sm sm:leading-6"})]}),a.jsxs("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[a.jsx(DU,{}),a.jsxs("div",{className:"flex items-center gap-x-2",children:[a.jsx("div",{className:"h-8 w-8 bg-primary-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-medium text-sm",children:t.name.split(" ").map(l=>l[0]).join("")})}),a.jsxs("div",{className:"hidden lg:block",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.name}),a.jsx("p",{className:"text-xs text-gray-500 capitalize",children:t.role})]}),a.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600",title:"Logout",children:a.jsx(KF,{className:"h-5 w-5"})})]})]})]})]}),a.jsx("main",{className:"py-6",children:a.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:e})})]})]})}class VU extends L.Component{constructor(r){super(r);Vt(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})});Vt(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("ErrorBoundary caught an error:",r,n),this.setState({error:r,errorInfo:n})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(ha,{className:"mx-auto h-12 w-12 text-red-500"}),a.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Oops! Something went wrong"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"We're sorry, but something unexpected happened. Please try again."})]}),a.jsxs("div",{className:"mt-8 space-y-4",children:[a.jsxs("button",{onClick:this.handleRetry,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[a.jsx(ZF,{className:"h-4 w-4 mr-2"}),"Try Again"]}),a.jsxs("button",{onClick:this.handleGoHome,className:"group relative w-full flex justify-center py-2 px-4 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[a.jsx(vO,{className:"h-4 w-4 mr-2"}),"Go Home"]})]}),!1]})}):this.props.children}}const WU={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"};function GU({size:e="md",text:t,className:r=""}){return a.jsx("div",{className:`flex items-center justify-center ${r}`,children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(Ir,{className:`animate-spin text-primary-600 ${WU[e]}`}),t&&a.jsx("p",{className:"text-sm text-gray-600",children:t})]})})}function xw({label:e,error:t,required:r=!1,children:n,className:i=""}){return a.jsxs("div",{className:`space-y-1 ${i}`,children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[e,r&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n,t&&a.jsxs("div",{className:"flex items-center space-x-1 text-sm text-red-600",children:[a.jsx(zo,{className:"h-4 w-4"}),a.jsx("span",{children:t})]})]})}function G4({error:e,label:t,required:r=!1,className:n="",...i}){const s=`input-field ${e?"border-red-300 focus:ring-red-500 focus:border-red-500":""} ${n}`,o=a.jsx("input",{className:s,...i});return t?a.jsx(xw,{label:t,error:e,required:r,children:o}):o}function YU(e,t){return t.required&&(!e||e.toString().trim()==="")?t.message||"This field is required":e&&t.minLength&&e.toString().length<t.minLength?t.message||`Minimum length is ${t.minLength} characters`:e&&t.maxLength&&e.toString().length>t.maxLength?t.message||`Maximum length is ${t.maxLength} characters`:e&&t.pattern&&!t.pattern.test(e.toString())?t.message||"Invalid format":e&&t.custom?t.custom(e):null}function KU(e,t){const r={};return Object.keys(t).forEach(n=>{const i=t[n],s=e[n],o=YU(s,i);o&&(r[n]=o)}),r}function XU(e){return e instanceof _l||e instanceof Error?e.message:typeof e=="string"?e:"An unexpected error occurred"}function JU(e){if(e instanceof _l){const t=e.message;switch(e.status){case 400:return{title:"Invalid Request",message:t||"Please check your input and try again.",type:"error"};case 401:return{title:"Authentication Required",message:t||"Please log in to continue.",type:"warning"};case 403:return{title:"Access Denied",message:"You do not have permission to perform this action.",type:"error"};case 404:return{title:"Not Found",message:t||"The requested resource was not found.",type:"error"};case 409:return{title:"Conflict",message:t||"This action conflicts with existing data.",type:"warning"};case 422:return{title:"Validation Error",message:t||"Please check your input and try again.",type:"error"};case 429:return{title:"Too Many Requests",message:t||"Please wait a moment before trying again.",type:"warning"};case 500:return{title:"Server Error",message:"Something went wrong on our end. Please try again later.",type:"error"};case 503:return{title:"Service Unavailable",message:"The service is temporarily unavailable. Please try again later.",type:"warning"};default:return{title:"Error",message:e.message||"An unexpected error occurred.",type:"error"}}}return e instanceof Error?{title:"Error",message:e.message,type:"error"}:{title:"Error",message:"An unexpected error occurred.",type:"error"}}function ZU(e,t){const r=XU(e),n=`[${t}] ${r}`;console.error(n,e)}function Y4(e,t){return ZU(e,t),JU(e)}function QU(){const{login:e,isLoading:t}=fr(),[r,n]=L.useState({username:"",password:""}),[i,s]=L.useState({}),[o,l]=L.useState(!1),c=d=>{const{name:f,value:m}=d.target;n(h=>({...h,[f]:m})),i[f]&&s(h=>({...h,[f]:""}))},u=async d=>{d.preventDefault();const m=KU(r,{username:{required:!0,message:"Username is required"},password:{required:!0,message:"Password is required"}});if(Object.keys(m).length>0){s(m);const h=Object.values(m)[0];h&&Ce.error(h);return}try{await e({username:r.username,password:r.password})}catch(h){let p="Login failed. Please check your credentials.";h instanceof _l?p=Y4(h,"Login").message:h instanceof Error?p=h.message:typeof h=="string"?p=h:p=Y4(h,"Login").message,Ce.error(p)}};return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[a.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-8",children:a.jsx("img",{src:Mm(),alt:"Teamwork Physio International",className:"h-24 sm:h-28 md:h-32 lg:h-36 w-auto object-contain",onError:d=>{const f=d.target;f.style.display="none"}})}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in to your account"})]})}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:a.jsxs("form",{className:"space-y-6",onSubmit:u,children:[a.jsx(xw,{label:"Username",error:i.username,required:!0,children:a.jsx(G4,{type:"text",name:"username",value:r.username,onChange:c,placeholder:"Enter your username",error:i.username,autoComplete:"username"})}),a.jsx(xw,{label:"Password",error:i.password,required:!0,children:a.jsxs("div",{className:"relative",children:[a.jsx(G4,{type:o?"text":"password",name:"password",value:r.password,onChange:c,placeholder:"Enter your password",error:i.password}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>l(!o),children:o?a.jsx(qF,{className:"h-5 w-5 text-gray-400"}):a.jsx(Ln,{className:"h-5 w-5 text-gray-400"})})]})}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:t,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:t?a.jsx(GU,{size:"sm",text:"Signing in..."}):"Sign in"})})]})})})]})}class ez{async getDashboardAnalytics(){var r;const t=await me.get(xe.ANALYTICS.DASHBOARD);return(r=t.data)!=null&&r.data?t.data.data:t.data}async getOverview(){var r;const t=await me.get(xe.ANALYTICS.OVERVIEW);return((r=t.data)==null?void 0:r.data)??t.data}async getTrends(){var r;const t=await me.get(xe.ANALYTICS.TRENDS);return((r=t.data)==null?void 0:r.data)??t.data}async getPerformance(){var r;const t=await me.get(xe.ANALYTICS.PERFORMANCE);return((r=t.data)==null?void 0:r.data)??t.data}async getServicePopularity(){var r;const t=await me.get(xe.ANALYTICS.SERVICE_POPULARITY);return((r=t.data)==null?void 0:r.data)??t.data}async getAppointmentAnalytics(t){var n;const r=await me.get(xe.ANALYTICS.APPOINTMENTS,{params:t});return((n=r.data)==null?void 0:n.data)??r.data}}const Eo=new ez,VO={SCHEDULED:"scheduled",CONFIRMED:"confirmed",IN_PROGRESS:"in-progress",COMPLETED:"completed",CANCELLED:"cancelled",RESCHEDULED:"rescheduled",NO_SHOW:"no-show"},yw=Object.entries(VO).reduce((e,[t,r])=>(e[r]=t,e),{}),qg=e=>typeof e=="number"?Math.min(Math.max(e,1),100):e;function na(e){var n,i,s,o,l;const t=(n=e.status)==null?void 0:n.toUpperCase(),r=VO[t]??"scheduled";return{id:e.id,patientId:e.patientId,patientName:((i=e.patient)==null?void 0:i.name)??"",nurseId:e.nurseId??"",nurseName:((s=e.nurse)==null?void 0:s.name)??"",specialistId:e.specialistId??void 0,specialistName:((o=e.specialist)==null?void 0:o.name)??void 0,serviceId:e.serviceId,serviceName:((l=e.service)==null?void 0:l.name)??"",date:e.date?new Date(e.date).toISOString().split("T")[0]:"",time:e.time,duration:e.duration,status:r,notes:e.notes??void 0}}function Q1(e,t=!1){const r={...e};return t&&"status"in r&&delete r.status,e.date&&(r.date=new Date(e.date).toISOString()),!t&&e.status&&(r.status=yw[e.status]??e.status),r}class tz{async getAppointments(t){const r=await me.get(xe.APPOINTMENTS.BASE,{params:{patientId:t==null?void 0:t.patientId,nurseId:t==null?void 0:t.nurseId,specialistId:t==null?void 0:t.specialistId,status:t!=null&&t.status?yw[t.status]:void 0,startDate:t==null?void 0:t.dateFrom,endDate:t==null?void 0:t.dateTo,page:t==null?void 0:t.page,limit:qg(t==null?void 0:t.limit)}});return{appointments:Array.isArray(r.data)?r.data.map(na):[],pagination:r.pagination}}async getAppointment(t){const r=await me.get(xe.APPOINTMENTS.BY_ID(t));return na(r.data)}async createAppointment(t){const r=await me.post(xe.APPOINTMENTS.BASE,Q1(t,!0));return na(r.data)}async updateAppointment(t,r){const n=await me.put(xe.APPOINTMENTS.BY_ID(t),Q1(r,!1));return na(n.data)}async deleteAppointment(t){await me.delete(xe.APPOINTMENTS.BY_ID(t))}async getPatientAppointments(t,r){const n=await me.get(xe.APPOINTMENTS.BY_PATIENT(t),{params:r&&{...r,limit:qg(r.limit)}});return{appointments:Array.isArray(n.data)?n.data.map(na):[],pagination:n.pagination}}async getNurseAppointments(t,r){const n=await me.get(xe.APPOINTMENTS.BY_NURSE(t),{params:r&&{...r,limit:qg(r.limit)}});return{appointments:Array.isArray(n.data)?n.data.map(na):[],pagination:n.pagination}}async getSpecialistAppointments(t,r){const n=await me.get(xe.APPOINTMENTS.BY_SPECIALIST(t),{params:r&&{...r,limit:qg(r.limit)}});return{appointments:Array.isArray(n.data)?n.data.map(na):[],pagination:n.pagination}}async getCalendar(t,r){const n=await me.get(xe.APPOINTMENTS.CALENDAR(t),{params:r});return Array.isArray(n.data)?n.data.map(na):[]}async searchAppointments(t){const r=await me.get(xe.APPOINTMENTS.SEARCH,{params:{...t,status:t.status?yw[t.status]:void 0}});return Array.isArray(r.data)?r.data.map(na):[]}async checkConflicts(t){const r=await me.post(xe.APPOINTMENTS.CHECK_CONFLICTS,{...Q1(t)});return Array.isArray(r.data)?r.data.map(na):[]}async getAvailableSlots(t,r){const n=await me.get(xe.APPOINTMENTS.AVAILABLE_SLOTS,{params:{nurseId:t,date:r}});return Array.isArray(n.data)?n.data:[]}async cancelAppointment(t,r){const n=await me.patch(xe.APPOINTMENTS.CANCEL(t),{reason:r});return na(n.data)}async rescheduleAppointment(t,r){const n=await me.patch(xe.APPOINTMENTS.RESCHEDULE(t),{date:new Date(r.date).toISOString(),time:r.time,reason:r.reason});return na(n.data)}async markAsCompleted(t,r){const n=await me.patch(`${xe.APPOINTMENTS.BY_ID(t)}/complete`,{notes:r});return na(n.data)}async markAsInProgress(t){const r=await me.patch(`${xe.APPOINTMENTS.BY_ID(t)}/start`,{});return na(r.data)}async markAsNoShow(t,r){const n=await me.patch(xe.APPOINTMENTS.NO_SHOW(t),{notes:r});return na(n.data)}async addAppointmentNotes(t,r){const n=await me.post(xe.APPOINTMENTS.NOTES(t),{notes:r});return na(n.data)}}const Xn=new tz;function Hg(e){return{...e,scheduledTime:e.scheduledTime?new Date(e.scheduledTime).toISOString():e.scheduledTime,createdAt:e.createdAt?new Date(e.createdAt).toISOString():e.createdAt,updatedAt:e.updatedAt?new Date(e.updatedAt).toISOString():e.updatedAt,lastAttempt:e.lastAttempt?new Date(e.lastAttempt).toISOString():e.lastAttempt}}class rz{async getReminders(t){const r=await me.get(xe.PHONE_REMINDERS.BASE,{params:t});return{reminders:Array.isArray(r.data)?r.data.map(Hg):[],pagination:r.pagination}}async getReminder(t){const r=await me.get(xe.PHONE_REMINDERS.BY_ID(t));return Hg(r.data)}async getTemplates(){const t=await me.get(xe.PHONE_REMINDERS.TEMPLATES);return Array.isArray(t.data)?t.data:[]}async createReminder(t){const r=await me.post(xe.PHONE_REMINDERS.BASE,t);return Hg(r.data)}async updateReminder(t,r){const n=await me.put(xe.PHONE_REMINDERS.BY_ID(t),r);return Hg(n.data)}async deleteReminder(t){await me.delete(xe.PHONE_REMINDERS.BY_ID(t))}async sendReminder(t){return(await me.post(xe.PHONE_REMINDERS.SEND(t))).data}async cancelReminder(t){return(await me.post(xe.PHONE_REMINDERS.CANCEL(t))).data}}const yl=new rz;function Vg(e){const t=r=>r==="scheduled"||r==="upcoming"?"upcoming":r==="ongoing"||r==="in-progress"?"ongoing":r==="completed"||r==="finished"?"completed":"upcoming";return{id:e.id,title:e.name||e.title||"",description:e.description||"",instructor:e.instructorName||e.instructor||"",date:e.startDate||e.date||"",duration:e.duration||0,maxParticipants:e.capacity||e.maxParticipants||0,enrolledCount:e.enrolledCount||0,status:t(e.status||"upcoming"),category:e.category||"",location:e.location||""}}class nz{async getClasses(t){const r=await me.get(xe.TRAINING.CLASSES,{params:t});return{classes:(Array.isArray(r.data)?r.data:[]).map(Vg),pagination:r.pagination}}async getClass(t){const r=await me.get(xe.TRAINING.CLASS_BY_ID(t));return Vg(r.data)}async createClass(t){const r=await me.post(xe.TRAINING.CLASSES,t);return Vg(r.data)}async updateClass(t,r){const n=await me.put(xe.TRAINING.CLASS_BY_ID(t),r);return Vg(n.data)}async deleteClass(t){await me.delete(xe.TRAINING.CLASS_BY_ID(t))}async enrollInClass(t,r){return(await me.post(xe.TRAINING.ENROLL(t),r)).data??{success:!0}}async getExams(t){const r=await me.get(xe.TRAINING.EXAMS,{params:t});return{exams:Array.isArray(r.data)?r.data:[],pagination:r.pagination}}async getExam(t){return(await me.get(xe.TRAINING.EXAM_BY_ID(t))).data}async createExam(t){return(await me.post(xe.TRAINING.EXAMS,t)).data}async updateExam(t,r){return(await me.put(xe.TRAINING.EXAM_BY_ID(t),r)).data}async deleteExam(t){await me.delete(xe.TRAINING.EXAM_BY_ID(t))}async submitExam(t,r){return(await me.post(xe.TRAINING.SUBMIT_EXAM(t),r)).data}async getCertifications(t){const r=await me.get(xe.TRAINING.CERTIFICATIONS,{params:t});return{certifications:Array.isArray(r.data)?r.data:[],pagination:r.pagination}}async getCertification(t){return(await me.get(xe.TRAINING.CERTIFICATION_BY_ID(t))).data}async createCertification(t){return(await me.post(xe.TRAINING.CERTIFICATIONS,t)).data}async updateCertification(t,r){return(await me.put(xe.TRAINING.CERTIFICATION_BY_ID(t),r)).data}async deleteCertification(t){await me.delete(xe.TRAINING.CERTIFICATION_BY_ID(t))}}const Da=new nz,eb=e=>typeof e=="number"?Math.min(Math.max(e,1),100):e;class az{async getExams(t){const r={...t,limit:eb(t==null?void 0:t.limit)},n=await me.get(xe.TRAINING.EXAMS_V2,{params:r});return{exams:Array.isArray(n.data)?n.data:[],pagination:n.pagination}}async getExam(t,r=!1){return(await me.get(xe.TRAINING.EXAM_V2_BY_ID(t),{params:r?{includeAnswers:"true"}:{}})).data}async createExam(t){return(await me.post(xe.TRAINING.EXAMS_V2,t)).data}async updateExam(t,r){return(await me.put(xe.TRAINING.EXAM_V2_BY_ID(t),r)).data}async deleteExam(t){await me.delete(xe.TRAINING.EXAM_V2_BY_ID(t))}async startAttempt(t){return(await me.post(xe.TRAINING.START_EXAM(t),{})).data}async submitAttempt(t,r){return(await me.post(xe.TRAINING.SUBMIT_ATTEMPT(t),{answers:r})).data}async getAttempts(t){const r={...t,limit:eb(t==null?void 0:t.limit)},n=await me.get(xe.TRAINING.ATTEMPTS,{params:r});return{attempts:Array.isArray(n.data)?n.data:[],pagination:n.pagination}}async getAttemptById(t){return(await me.get(xe.TRAINING.ATTEMPT_BY_ID(t))).data}async getCertificates(t){const r={...t,limit:eb(t==null?void 0:t.limit)},n=await me.get(xe.TRAINING.CERTIFICATES_V2,{params:r});return{certificates:Array.isArray(n.data)?n.data:[],pagination:n.pagination}}async getMyCertificates(t){const r=await me.get(xe.TRAINING.CERTIFICATES_MINE,{params:t?{status:t}:void 0});return Array.isArray(r.data)?r.data:[]}async getCertificate(t){return(await me.get(xe.TRAINING.CERTIFICATE_V2_BY_ID(t))).data}async approveCertificate(t){return(await me.post(xe.TRAINING.APPROVE_CERTIFICATE(t),{})).data}}const wa=new az,iz={success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",error:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"};function sz(){var u;const{user:e}=fr(),t=((u=e==null?void 0:e.role)==null?void 0:u.toLowerCase())??"admin",[r,n]=L.useState({stats:[],sections:[]}),[i,s]=L.useState(!0),[o,l]=L.useState(null);if(t==="biller")return a.jsx(a5,{to:"/biller-dashboard",replace:!0});L.useEffect(()=>{let d=!1;async function f(){if(e){s(!0),l(null);try{const m=new Date().toISOString().split("T")[0];if(t==="biller"){d||(n({stats:[],sections:[]}),s(!1));return}if(t==="nurse"){const[k,P,D,A]=await Promise.all([Xn.getNurseAppointments(e.id,{limit:50}),ls.getNotifications({limit:10}),Da.getClasses({limit:5}),wa.getMyCertificates()]),I=k.appointments,$=I.filter(re=>re.date===m),_=new Set(I.map(re=>re.patientId)),M=P.data??[],z=A??[],Z=z.filter(re=>re.status==="APPROVED"),R=[{name:"Today's Appointments",value:$.length,icon:Mt,color:"text-blue-600",bgColor:"bg-blue-100"},{name:"Patients Assigned",value:_.size,icon:El,color:"text-green-600",bgColor:"bg-green-100"},{name:"Upcoming Visits",value:I.filter(re=>re.date>=m).length,icon:nr,color:"text-purple-600",bgColor:"bg-purple-100"},{name:"Training Sessions",value:D.classes.length,icon:Jn,color:"text-orange-600",bgColor:"bg-orange-100"},{name:"Certificates Earned",value:Z.length,icon:Jn,color:"text-indigo-600",bgColor:"bg-indigo-100"}],U=[{title:"Today's Schedule",icon:nr,items:$.slice(0,5).map(re=>({id:re.id,primary:re.serviceName,secondary:`${re.time}  ${re.patientName}`,meta:re.status,statusLabel:re.status,statusTone:re.status==="confirmed"?"success":re.status==="cancelled"?"error":"warning"})),emptyText:"No appointments scheduled today."},{title:"Latest Notifications",icon:Ao,items:M.slice(0,5).map(re=>({id:re.id,primary:re.title,secondary:re.message,meta:new Date(re.date??Date.now()).toLocaleString(),statusLabel:re.type,statusTone:"info"})),emptyText:"No notifications."},{title:"Training Opportunities",icon:Jn,items:D.classes.map(re=>({id:re.id,primary:re.title,secondary:new Date(re.date).toLocaleDateString(),meta:re.instructor})),emptyText:"No upcoming classes."},{title:"Professional Certificates",icon:Jn,items:z.slice(0,5).map(re=>({id:re.id,primary:re.examTitle??"Training Exam",secondary:`Issued ${new Date(re.issuedAt).toLocaleDateString()}`,meta:re.certificateNumber,statusLabel:re.status==="APPROVED"?"Approved":"Pending Approval",statusTone:re.status==="APPROVED"?"success":"warning"})),emptyText:"No certificates yet. Complete exams to earn certificates."}];d||n({stats:R,sections:U});return}if(t==="receptionist"){const[k,P,D]=await Promise.allSettled([Eo.getDashboardAnalytics(),Xn.getAppointments({limit:10}),ls.getNotifications({limit:5})]),A=k.status==="fulfilled"?k.value:{totalPatients:0,totalAppointments:0,todayAppointments:0,pendingInvoices:0,upcomingAppointments:[]},I=P.status==="fulfilled"?P.value:{appointments:[]},$=D.status==="fulfilled"?D.value:{data:[]},_=[{name:"Total Patients",value:A.totalPatients??A.activePatients??0,icon:Ba,color:"text-blue-600",bgColor:"bg-blue-100"},{name:"Active Patients",value:A.activePatients??A.totalPatients??0,icon:El,color:"text-indigo-600",bgColor:"bg-indigo-100"},{name:"Today's Appointments",value:A.todayAppointments??0,icon:Mt,color:"text-purple-600",bgColor:"bg-purple-100"},{name:"Total Appointments",value:A.totalAppointments??0,icon:nr,color:"text-green-600",bgColor:"bg-green-100"}],M=[{title:"Upcoming Appointments",icon:nr,items:(A.upcomingAppointments??[]).slice(0,5).map(z=>{var Z,R;return{id:z.id,primary:((Z=z.service)==null?void 0:Z.name)??"Appointment",secondary:`${((R=z.patient)==null?void 0:R.name)??"Unknown"}  ${new Date(z.date).toLocaleDateString()}`,meta:z.status,statusLabel:z.status,statusTone:z.status==="CANCELLED"?"error":z.status==="CONFIRMED"?"success":"warning"}}),emptyText:"No upcoming appointments."},{title:"Recent Appointments",icon:Mt,items:I.appointments.slice(0,5).map(z=>({id:z.id,primary:z.serviceName??"Appointment",secondary:`${z.patientName??"Unknown"}  ${z.date??""} ${z.time??""}`,meta:z.status,statusLabel:z.status,statusTone:z.status==="cancelled"?"error":z.status==="confirmed"?"success":"warning"})),emptyText:"No recent appointments."},{title:"Announcements",icon:Ao,items:($.data??[]).slice(0,5).map(z=>({id:z.id,primary:z.title,secondary:z.message,meta:new Date(z.date??Date.now()).toLocaleString()})),emptyText:"No announcements available."}];d||n({stats:_,sections:M});return}if(t==="doctor"){const[k,P]=await Promise.allSettled([Eo.getDashboardAnalytics(),ls.getNotifications({limit:5})]),D=k.status==="fulfilled"?k.value:{assignedPatients:0,totalAppointments:0,todayAppointments:0,pendingReferrals:0,recentPatients:[]},A=P.status==="fulfilled"?P.value:{data:[]},I=[{name:"Assigned Patients",value:D.assignedPatients??0,icon:Ba,color:"text-blue-600",bgColor:"bg-blue-100"},{name:"Today's Appointments",value:D.todayAppointments??0,icon:Mt,color:"text-purple-600",bgColor:"bg-purple-100"},{name:"Total Appointments",value:D.totalAppointments??0,icon:nr,color:"text-green-600",bgColor:"bg-green-100"},{name:"Pending Referrals",value:D.pendingReferrals??0,icon:Aa,color:"text-orange-600",bgColor:"bg-orange-100"}],$=[{title:"Recent Patients",icon:Ba,items:(D.recentPatients??[]).slice(0,5).map(_=>({id:_.id,primary:_.name,secondary:_.condition??"No condition specified",meta:_.status,statusLabel:_.status,statusTone:_.status==="ACTIVE"?"success":"info"})),emptyText:"No patients assigned."},{title:"Announcements",icon:Ao,items:(A.data??[]).slice(0,5).map(_=>({id:_.id,primary:_.title,secondary:_.message,meta:new Date(_.date??Date.now()).toLocaleString()})),emptyText:"No announcements available."}];d||n({stats:I,sections:$});return}if(t==="specialist"){const[k,P]=await Promise.allSettled([Eo.getDashboardAnalytics(),ls.getNotifications({limit:5})]),D=k.status==="fulfilled"?k.value:{assignedPatients:0,totalAppointments:0,todayAppointments:0,readyForDischarge:0,recentPatients:[]},A=P.status==="fulfilled"?P.value:{data:[]},I=[{name:"Assigned Patients",value:D.assignedPatients??0,icon:Ba,color:"text-blue-600",bgColor:"bg-blue-100"},{name:"Today's Appointments",value:D.todayAppointments??0,icon:Mt,color:"text-purple-600",bgColor:"bg-purple-100"},{name:"Total Appointments",value:D.totalAppointments??0,icon:nr,color:"text-green-600",bgColor:"bg-green-100"},{name:"Ready for Discharge",value:D.readyForDischarge??0,icon:rB,color:"text-orange-600",bgColor:"bg-orange-100"}],$=[{title:"Recent Patients",icon:Ba,items:(D.recentPatients??[]).slice(0,5).map(_=>({id:_.id,primary:_.name,secondary:_.condition??"No condition specified",meta:_.status,statusLabel:_.status,statusTone:_.status==="ACTIVE"?"success":"info"})),emptyText:"No patients referred."},{title:"Announcements",icon:Ao,items:(A.data??[]).slice(0,5).map(_=>({id:_.id,primary:_.title,secondary:_.message,meta:new Date(_.date??Date.now()).toLocaleString()})),emptyText:"No announcements available."}];d||n({stats:I,sections:$});return}const[h,p,y,v]=await Promise.allSettled([Eo.getDashboardAnalytics(),Xn.getAppointments({limit:10}),yl.getReminders({limit:10}),ls.getNotifications({limit:5})]),x=h.status==="fulfilled"?h.value:{totalPatients:0,totalAppointments:0,totalNurses:0,totalRevenue:0,recentAppointments:[]},b=p.status==="fulfilled"?p.value:{appointments:[]},N=y.status==="fulfilled"?y.value:{reminders:[]},S=(v.status==="fulfilled"?v.value:{data:[]}).data??[],E=[{name:"Total Patients",value:x.totalPatients??0,icon:Ba,color:"text-blue-600",bgColor:"bg-blue-100"},{name:"Total Appointments",value:x.totalAppointments??0,icon:Mt,color:"text-purple-600",bgColor:"bg-purple-100"},{name:"Active Nurses",value:x.totalNurses??0,icon:El,color:"text-green-600",bgColor:"bg-green-100"},{name:"Total Revenue",value:`$${(x.totalRevenue??0).toLocaleString()}`,icon:Fs,color:"text-orange-600",bgColor:"bg-orange-100"}],C=[{title:"Recent Appointments",icon:Mt,items:(x.recentAppointments??[]).slice(0,5).map(k=>{var P,D;return{id:k.id,primary:((P=k.service)==null?void 0:P.name)??"Appointment",secondary:`${((D=k.patient)==null?void 0:D.name)??"Unknown patient"}  ${new Date(k.date).toLocaleDateString()}`,meta:k.status,statusLabel:k.status,statusTone:k.status==="CANCELLED"?"error":"info"}}),emptyText:"No recent appointments."},{title:"Upcoming Appointments",icon:nr,items:b.appointments.slice(0,5).map(k=>({id:k.id,primary:k.serviceName,secondary:`${k.patientName}  ${k.date} ${k.time}`,meta:k.status,statusLabel:k.status,statusTone:k.status==="cancelled"?"error":k.status==="confirmed"?"success":"warning"})),emptyText:"No upcoming appointments."},{title:"Latest Reminders",icon:Ao,items:N.reminders.slice(0,5).map(k=>({id:k.id,primary:k.title,secondary:`${k.patientName}  ${new Date(k.scheduledTime).toLocaleString()}`,meta:k.status,statusLabel:k.priority,statusTone:k.priority==="urgent"?"error":k.priority==="high"?"warning":"info"})),emptyText:"No reminders scheduled."},{title:"Announcements",icon:Rm,items:S.slice(0,5).map(k=>({id:k.id,primary:k.title,secondary:k.message,meta:new Date(k.date??Date.now()).toLocaleString()})),emptyText:"No announcements available."}];d||n({stats:E,sections:C})}catch(m){d||l((m==null?void 0:m.message)??"Something went wrong while loading the dashboard.")}finally{d||s(!1)}}}return f(),()=>{d=!0}},[t,e]);const c=L.useMemo(()=>{switch(t){case"nurse":return{title:"Nurse Dashboard",subtitle:"Manage your patients and schedule"};case"receptionist":return{title:"Receptionist Dashboard",subtitle:"Manage patients, appointments, and billing"};case"doctor":return{title:"Doctor Dashboard",subtitle:"Review patients and manage referrals"};case"specialist":return{title:"Specialist Dashboard",subtitle:"Treat patients and prepare for discharge"};case"biller":return{title:"Biller Dashboard",subtitle:"Manage patient bills and payments"};default:return{title:"Admin Dashboard",subtitle:"Monitor system performance and operations"}}},[t]);return i?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:c.title}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:c.subtitle})]}),a.jsx("div",{className:"card text-sm text-gray-500",children:"Loading dashboard data..."})]}):o?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:c.title}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:c.subtitle})]}),a.jsx("div",{className:"card text-sm text-red-500",children:o})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:c.title}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:c.subtitle})]}),a.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:r.stats.map(d=>a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`flex-shrink-0 p-3 rounded-lg ${d.bgColor}`,children:a.jsx(d.icon,{className:`h-6 w-6 ${d.color}`})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:d.name}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:d.value})]})]})},d.name))}),a.jsx("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:r.sections.map(d=>a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:d.title}),a.jsx(d.icon,{className:"h-5 w-5 text-primary-500"})]}),d.items.length===0?a.jsx("p",{className:"text-sm text-gray-500",children:d.emptyText??"No data available."}):a.jsx("div",{className:"space-y-3",children:d.items.map(f=>a.jsxs("div",{className:"flex items-start justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:f.primary}),f.secondary&&a.jsx("p",{className:"text-xs text-gray-600 truncate",children:f.secondary}),f.meta&&a.jsx("p",{className:"text-xs text-gray-500 truncate",children:f.meta})]}),f.statusLabel&&f.statusTone&&a.jsx("span",{className:`ml-3 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${iz[f.statusTone]}`,children:f.statusLabel})]},f.id))})]})},d.title))})]})}const tb={username:"",name:"",email:"",password:"",phone:"",licenseNumber:"",specialization:"",experience:0,certifications:[],status:"active",hireDate:new Date().toISOString().split("T")[0],avatar:""};function K4({isOpen:e,onClose:t,onSave:r,nurse:n,mode:i}){const[s,o]=L.useState(tb),[l,c]=L.useState(""),[u,d]=L.useState(!1),[f,m]=L.useState(null),[h,p]=L.useState(null),[y,v]=L.useState(null),[x,b]=L.useState(!1);if(L.useEffect(()=>{if(!e){o(tb),c(""),m(null),d(!1),p(null),v(null),b(!1);return}if(i==="edit"&&n)if(o({username:n.username??"",name:n.name,email:n.email,password:"",phone:n.phone,licenseNumber:n.licenseNumber,specialization:n.specialization,experience:n.experience,certifications:n.certifications,status:n.status,hireDate:n.hireDate?new Date(n.hireDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],avatar:n.avatar??""}),n.avatar){const P=n.avatar.startsWith("http")?n.avatar:Oa(n.avatar);v(P)}else v(null);else o(tb),v(null)},[e,i,n]),!e)return null;const N=P=>{const{name:D,value:A}=P.target;o(I=>({...I,[D]:D==="experience"?Number.isNaN(Number(A))?0:parseInt(A,10):A}))},w=()=>{const P=l.trim();!P||s.certifications.includes(P)||(o(D=>({...D,certifications:[...D.certifications,P]})),c(""))},S=P=>{o(D=>({...D,certifications:D.certifications.filter(A=>A!==P)}))},E=async P=>{var I;const D=(I=P.target.files)==null?void 0:I[0];if(!D)return;if(!D.type.startsWith("image/")){m("Please select a valid image file");return}if(D.size>10*1024*1024){m("Image size must be less than 10MB");return}p(D),m(null);const A=new FileReader;A.onloadend=()=>{v(A.result)},A.readAsDataURL(D),b(!0);try{const $=await me.uploadFile(xe.UPLOAD.IMAGE,D);if($.success&&$.data){const M=$.data.url||$.data.url;if(M){const z=M.startsWith("http")?M.replace(/^https?:\/\/[^\/]+/,""):M.startsWith("/")?M:"/"+M;o(U=>({...U,avatar:z}));const R=`${lu.API_ORIGIN}${z}`;v(R)}}}catch($){m(($==null?void 0:$.message)||"Failed to upload image"),p(null),v(null)}finally{b(!1)}},C=()=>{p(null),v(null),o(P=>({...P,avatar:""}))},k=async P=>{var D;if(P.preventDefault(),d(!0),m(null),i==="add"&&!((D=s.username)!=null&&D.trim())){m("Username is required for new nurses."),d(!1);return}if(i==="add"&&(!s.password||s.password.length<8)){m("Password must be at least 8 characters long."),d(!1);return}if(i==="edit"&&s.password&&s.password.length<8){m("Password must be at least 8 characters long."),d(!1);return}try{const A={...s,licenseNumber:s.licenseNumber&&s.licenseNumber.trim()!==""?s.licenseNumber.trim():void 0};await r(A),t()}catch(A){m((A==null?void 0:A.message)??"Unable to save nurse. Please try again.")}finally{d(!1)}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsxs("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-xl bg-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-5",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:i==="add"?"Add Nurse":"Edit Nurse"}),a.jsx("p",{className:"text-sm text-gray-500",children:i==="add"?"Create a new nurse profile":"Update the nurse details"})]}),a.jsx("button",{onClick:t,className:"rounded-lg p-2 transition-colors hover:bg-gray-100","aria-label":"Close modal",children:a.jsx(Dt,{className:"h-5 w-5 text-gray-500"})})]}),a.jsxs("form",{onSubmit:k,className:"space-y-6 px-6 py-6",children:[f&&a.jsx("div",{className:"rounded-md border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:f}),a.jsxs("section",{className:"space-y-4",children:[a.jsxs("h3",{className:"flex items-center text-lg font-medium text-gray-900",children:[a.jsx(Kr,{className:"mr-2 h-5 w-5 text-primary-600"}),"Personal Information"]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Username",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"username",value:s.username,onChange:N,required:i==="add",disabled:i==="edit",className:"input-field mt-1 disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed",placeholder:"e.g. sarah.johnson (used for login)"}),i==="edit"&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Username cannot be changed after creation"})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Full name",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",value:s.name,onChange:N,required:!0,className:"input-field mt-1",placeholder:"Sarah Johnson"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsx("input",{type:"email",name:"email",value:s.email,onChange:N,className:"input-field mt-1",placeholder:"sarah@example.com"})]}),i==="add"&&a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Password",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"password",name:"password",value:s.password,onChange:N,required:!0,minLength:8,className:"input-field mt-1",placeholder:"Minimum 8 characters"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Provide this to the nurse for login"})]}),i==="edit"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"New Password (optional)"}),a.jsx("input",{type:"password",name:"password",value:s.password,onChange:N,minLength:8,className:"input-field mt-1",placeholder:"Leave blank to keep current password"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only fill if you want to change the password"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Phone number",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:N,required:!0,className:"input-field mt-1",placeholder:"+1 (555) 123-4567"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["License number ",a.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),a.jsx("input",{type:"text",name:"licenseNumber",value:s.licenseNumber||"",onChange:N,className:"input-field mt-1",placeholder:"RN-001234"})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsxs("h3",{className:"flex items-center text-lg font-medium text-gray-900",children:[a.jsx(Jn,{className:"mr-2 h-5 w-5 text-primary-600"}),"Professional Information"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Specialization",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"specialization",value:s.specialization,onChange:N,required:!0,className:"input-field mt-1",children:[a.jsx("option",{value:"",children:"Select specialization"}),a.jsx("option",{value:"General Nursing",children:"General Nursing"}),a.jsx("option",{value:"Critical Care",children:"Critical Care"}),a.jsx("option",{value:"Pediatric Nursing",children:"Pediatric Nursing"}),a.jsx("option",{value:"Geriatric Nursing",children:"Geriatric Nursing"}),a.jsx("option",{value:"Mental Health",children:"Mental Health"}),a.jsx("option",{value:"Home Health",children:"Home Health"}),a.jsx("option",{value:"Wound Care",children:"Wound Care"}),a.jsx("option",{value:"Palliative Care",children:"Palliative Care"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Years of experience",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",name:"experience",value:s.experience,onChange:N,min:0,max:50,required:!0,className:"input-field mt-1",placeholder:"5"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Status",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"status",value:s.status,onChange:N,required:!0,className:"input-field mt-1",children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"}),a.jsx("option",{value:"on-leave",children:"On leave"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Hire date",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",name:"hireDate",value:s.hireDate,onChange:N,required:!0,className:"input-field mt-1"})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsxs("h3",{className:"flex items-center text-lg font-medium text-gray-900",children:[a.jsx(Jn,{className:"mr-2 h-5 w-5 text-primary-600"}),"Certifications"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:l,onChange:P=>c(P.target.value),className:"input-field flex-1",placeholder:"Add certification",onKeyDown:P=>{P.key==="Enter"&&(P.preventDefault(),w())}}),a.jsx("button",{type:"button",onClick:w,className:"btn-primary",children:"Add"})]}),s.certifications.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:s.certifications.map(P=>a.jsxs("span",{className:"inline-flex items-center rounded-full bg-primary-100 px-3 py-1 text-sm text-primary-800",children:[P,a.jsx("button",{type:"button",onClick:()=>S(P),className:"ml-2 text-primary-600 hover:text-primary-800",children:a.jsx(Dt,{className:"h-3 w-3"})})]},P))})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsxs("h3",{className:"flex items-center text-lg font-medium text-gray-900",children:[a.jsx(Kr,{className:"mr-2 h-5 w-5 text-primary-600"}),"Profile picture"]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Picture"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[y?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:y,alt:"Avatar preview",className:"h-20 w-20 rounded-full object-cover border-2 border-gray-200"}),a.jsx("button",{type:"button",onClick:C,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:a.jsx(Dt,{className:"h-4 w-4"})})]}):a.jsx("div",{className:"h-20 w-20 rounded-full bg-gray-100 flex items-center justify-center border-2 border-dashed border-gray-300",children:a.jsx(Pp,{className:"h-8 w-8 text-gray-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("label",{className:"cursor-pointer",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:E,className:"hidden",disabled:x}),a.jsx("div",{className:"btn-outline flex items-center justify-center",children:x?a.jsxs(a.Fragment,{children:[a.jsx(Ir,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ef,{className:"h-4 w-4 mr-2"}),y?"Change Picture":"Upload Picture"]})})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG or GIF (max 10MB)"})]})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-4 border-t border-gray-200 pt-6",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-outline",disabled:u,children:"Cancel"}),a.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:u,children:[a.jsx(qy,{className:"mr-2 h-4 w-4"}),u?"Saving...":i==="add"?"Add Nurse":"Update Nurse"]})]})]})]})})}const oz={ACTIVE:"active",INACTIVE:"inactive",ON_LEAVE:"on-leave"},lz={active:"ACTIVE",inactive:"INACTIVE","on-leave":"ON_LEAVE"};function Wg(e){return{...e,status:e.status?oz[e.status.toUpperCase()]??"active":"active",hireDate:new Date(e.hireDate).toISOString().split("T")[0]}}function X4(e){const t={...e};return e.username&&(t.username=e.username.trim().toLowerCase()),e.status&&(t.status=lz[e.status]??e.status),e.hireDate&&(t.hireDate=new Date(e.hireDate).toISOString()),e.licenseNumber!==void 0&&(t.licenseNumber=e.licenseNumber&&e.licenseNumber.trim()!==""?e.licenseNumber.trim():null),t}class cz{async getNurses(t){const r=await me.get(xe.NURSES.BASE,{params:t});return{nurses:Array.isArray(r.data)?r.data.map(Wg):[],pagination:r.pagination}}async getNurse(t){const r=await me.get(xe.NURSES.BY_ID(t));return Wg(r.data)}async createNurse(t){const r=X4(t),n=await me.post(xe.NURSES.BASE,r);return Wg(n.data)}async updateNurse(t,r){const n=X4(r),i=await me.put(xe.NURSES.BY_ID(t),n);return Wg(i.data)}async deleteNurse(t){await me.delete(xe.NURSES.BY_ID(t))}}const md=new cz;function uz(){const{user:e}=fr(),t=(e==null?void 0:e.role)==="admin",[r,n]=L.useState(""),[i,s]=L.useState("all"),[o,l]=L.useState([]),[c,u]=L.useState(!1),[d,f]=L.useState(!1),[m,h]=L.useState(null),[p,y]=L.useState(!1),[v,x]=L.useState(null),{addNotification:b}=Mr(),N=async()=>{y(!0),x(null);try{const{nurses:P}=await md.getNurses({page:1,limit:50});l(P)}catch(P){console.error("Failed to load nurses",P),x((P==null?void 0:P.message)??"Unable to load nurses right now.")}finally{y(!1)}};L.useEffect(()=>{N()},[]);const w=L.useMemo(()=>o.filter(P=>{const D=P.name.toLowerCase().includes(r.toLowerCase())||P.specialization.toLowerCase().includes(r.toLowerCase()),A=i==="all"||P.status===i;return D&&A}),[o,r,i]),S=async P=>{try{await md.createNurse(P),Ce.success(`Nurse ${P.name} has been added successfully`),b({title:"Nurse added",message:`${P.name} has been added to the team.`,type:"success",priority:"medium",userId:"system",category:"system"}),await N()}catch(D){const A=D instanceof Error?D.message:"Failed to add nurse";throw Ce.error(A),b({title:"Unable to add nurse",message:A,type:"error",priority:"high",userId:"system",category:"system"}),D}},E=async P=>{if(m)try{await md.updateNurse(m.id,P),Ce.success(`Nurse ${P.name} has been updated successfully`),b({title:"Nurse updated",message:`${P.name}'s profile has been updated.`,type:"success",priority:"medium",userId:"system",category:"system"}),await N()}catch(D){const A=D instanceof Error?D.message:"Failed to update nurse";throw Ce.error(A),b({title:"Unable to update nurse",message:A,type:"error",priority:"high",userId:"system",category:"system"}),D}finally{h(null)}},C=async P=>{const D=o.find(I=>I.id===P),A=D?`Deactivate ${D.name}? They will be marked inactive.`:"Deactivate this nurse?";if(window.confirm(A))try{await md.deleteNurse(P),Ce.success(D?`Nurse ${D.name} has been deactivated`:"Nurse has been deactivated"),b({title:"Nurse deactivated",message:D?`${D.name} is now marked as inactive.`:"Nurse has been marked inactive.",type:"info",priority:"medium",userId:"system",category:"system"}),await N()}catch(I){const $=I instanceof Error?I.message:"Failed to deactivate nurse";Ce.error($),b({title:"Unable to deactivate nurse",message:$,type:"error",priority:"high",userId:"system",category:"system"})}},k=P=>{h(P),f(!0)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Nurses"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage nursing staff assignments and certifications."})]}),t&&a.jsx("div",{className:"mt-4 sm:mt-0",children:a.jsxs("button",{onClick:()=>u(!0),className:"btn-primary flex items-center",children:[a.jsx(zt,{className:"mr-2 h-4 w-4"}),"Add Nurse"]})})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Br,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search nurses...",value:r,onChange:P=>n(P.target.value),className:"input-field pl-10"})]})}),a.jsx("div",{className:"sm:w-48",children:a.jsxs("select",{value:i,onChange:P=>s(P.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"}),a.jsx("option",{value:"on-leave",children:"On Leave"})]})})]})}),a.jsx("div",{className:"card",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Nurse"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Specialization"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"License Number"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Experience"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:p?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-sm text-gray-500",children:"Loading nurses..."})}):v?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-sm text-red-500",children:v})}):w.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-sm text-gray-500",children:"No nurses match your filters yet."})}):w.map(P=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[P.avatar?a.jsx("img",{src:P.avatar.startsWith("http")?P.avatar:Oa(P.avatar),alt:P.name,className:"h-10 w-10 rounded-full object-cover"}):a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-secondary-100 text-sm font-semibold text-secondary-700",children:P.name.split(" ").map(D=>D[0]).join("").slice(0,2).toUpperCase()}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name}),a.jsx("div",{className:"text-sm text-gray-500",children:P.email})]})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900",children:P.specialization})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Jn,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm text-gray-900",children:P.licenseNumber||a.jsx("span",{className:"text-gray-400 italic",children:"Not provided"})})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"text-sm text-gray-900",children:[P.experience," ",P.experience===1?"year":"years"]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`status-badge ${P.status==="active"?"status-active":P.status==="on-leave"?"status-pending":"status-inactive"}`,children:P.status.replace("-"," ")})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(Rn,{to:`/nurses/${P.id}`,className:"text-primary-600 hover:text-primary-900",children:[a.jsx(Ln,{className:"mr-1 inline h-4 w-4"}),"View"]}),t&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>k(P),className:"text-secondary-600 hover:text-secondary-900",children:[a.jsx(Fn,{className:"mr-1 inline h-4 w-4"}),"Edit"]}),a.jsxs("button",{onClick:()=>C(P.id),className:"text-red-600 hover:text-red-900",children:[a.jsx(zr,{className:"mr-1 inline h-4 w-4"}),"Delete"]})]})]})})]},P.id))})]})})}),a.jsx(K4,{isOpen:c,onClose:()=>u(!1),onSave:S,mode:"add"}),a.jsx(K4,{isOpen:d,onClose:()=>{f(!1),h(null)},onSave:E,nurse:m??void 0,mode:"edit"})]})}function it(e,t=[]){const[r,n]=L.useState(null),[i,s]=L.useState(!0),[o,l]=L.useState(null),c=L.useCallback(async()=>{try{s(!0),l(null);const u=await e();n(u)}catch(u){l(u)}finally{s(!1)}},t);return L.useEffect(()=>{c()},[c]),{data:r,loading:i,error:o,refetch:c}}function ot(e){const[t,r]=L.useState(null),[n,i]=L.useState(!1),[s,o]=L.useState(null),l=L.useCallback(async u=>{try{i(!0),o(null);const d=await e(u);return r(d),d}catch(d){throw o(d),d}finally{i(!1)}},[e]),c=L.useCallback(()=>{r(null),o(null),i(!1)},[]);return{data:t,loading:n,error:s,mutate:l,reset:c}}function dz(){const{id:e}=Ap(),{data:t,loading:r,error:n,refetch:i}=it(async()=>{if(!e)return null;const[d,f,m,h]=await Promise.all([md.getNurse(e),Xn.getNurseAppointments(e,{limit:200}),Da.getClasses({limit:25}),Da.getExams({limit:10})]);return{nurse:d,appointments:f.appointments,classes:m.classes,exams:h.exams}},[e]),s=t==null?void 0:t.nurse,o=new Date().toISOString().split("T")[0],l=L.useMemo(()=>((t==null?void 0:t.appointments)??[]).filter(d=>d.date===o),[t==null?void 0:t.appointments,o]),c=L.useMemo(()=>((t==null?void 0:t.appointments)??[]).filter(d=>d.date>=o).sort((d,f)=>(d.date+d.time).localeCompare(f.date+f.time)).slice(0,5),[t==null?void 0:t.appointments,o]),u=L.useMemo(()=>{if(!s)return[];const d=(t==null?void 0:t.classes)??[],f=d.filter(p=>{var y,v;return((y=p.instructor)==null?void 0:y.toLowerCase())===s.name.toLowerCase()||((v=p.category)==null?void 0:v.toLowerCase().includes(s.specialization.toLowerCase()))}),m=d.slice().sort((p,y)=>new Date(p.date).getTime()-new Date(y.date).getTime());return(f.length?f:m).slice(0,3)},[t==null?void 0:t.classes,s]);return e?r?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Loading nurse profile..."})]}):n||!s?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ha,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Unable to load nurse profile"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:(n==null?void 0:n.message)??"Please try again later."}),a.jsx("button",{onClick:i,className:"mt-4 btn-primary",children:"Retry"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Rn,{to:"/nurses",className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:a.jsx(Lm,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:s.name}),a.jsx("p",{className:"text-sm text-gray-600",children:"Nurse Profile"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"text-center",children:[s.avatar&&a.jsx("img",{src:s.avatar.startsWith("http")?s.avatar:Oa(s.avatar),alt:s.name,className:"h-24 w-24 rounded-full object-cover mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:s.name}),a.jsx("p",{className:"text-gray-600",children:s.specialization}),a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium mt-2 ${s.status==="active"?"status-active":s.status==="on-leave"?"status-pending":"status-inactive"}`,children:s.status.replace("-"," ")})]}),a.jsxs("div",{className:"mt-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(zy,{className:"h-4 w-4 mr-3"}),s.email]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(fs,{className:"h-4 w-4 mr-3"}),s.phone]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Jn,{className:"h-4 w-4 mr-3"}),"License: ",s.licenseNumber]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Mt,{className:"h-4 w-4 mr-3"}),"Hired: ",new Date(s.hireDate).toLocaleDateString()]})]}),a.jsx("div",{className:"mt-6",children:a.jsx("button",{className:"w-full btn-primary",disabled:!0,children:"Edit Profile"})})]})}),a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Certification Progress"}),a.jsx(Rm,{className:"h-5 w-5 text-primary-500"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[a.jsx("span",{className:"text-gray-600",children:"Overall Progress"}),a.jsxs("span",{className:"font-medium",children:[s.certificationProgress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:a.jsx("div",{className:"bg-primary-500 h-3 rounded-full transition-all duration-300",style:{width:`${s.certificationProgress}%`}})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Current Certifications"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:s.certifications.length?s.certifications.map((d,f)=>a.jsxs("div",{className:"flex items-center p-3 bg-green-50 rounded-lg",children:[a.jsx(Jn,{className:"h-5 w-5 text-green-600 mr-3"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:d})]},f)):a.jsx("p",{className:"text-sm text-gray-500",children:"No certifications on file."})})]}),a.jsx("div",{className:"mt-6 flex items-center gap-2",children:a.jsxs("button",{className:"btn-secondary",disabled:!0,children:[a.jsx(qd,{className:"h-4 w-4 mr-2"}),"Take Exam"]})})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Upcoming Schedule"}),a.jsx(nr,{className:"h-5 w-5 text-secondary-500"})]}),c.length?a.jsx("div",{className:"space-y-3",children:c.map(d=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:d.serviceName}),a.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[d.patientName,"  ",new Date(d.date).toLocaleDateString()," at ",d.time]})]}),a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${d.status==="confirmed"?"bg-green-100 text-green-800":d.status==="scheduled"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:d.status})]},d.id))}):a.jsx("p",{className:"text-sm text-gray-500",children:"No upcoming appointments scheduled."})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Upcoming Training"}),a.jsx(nr,{className:"h-5 w-5 text-secondary-500"})]}),u.length?a.jsx("div",{className:"space-y-3",children:u.map(d=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:d.title}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:d.description}),a.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-500",children:[a.jsx(Mt,{className:"h-3 w-3 mr-1"}),d.date?new Date(d.date).toLocaleDateString():"Date TBD"]})]}),a.jsx("div",{className:"ml-4",children:a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-primary-100 text-primary-800",children:d.status})})]},d.id))}):a.jsx("p",{className:"text-sm text-gray-500",children:"No upcoming training sessions found."}),a.jsx("div",{className:"mt-4",children:a.jsx(Rn,{to:"/training",className:"btn-outline",children:"View Training Portal"})})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Performance Metrics"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.experience}),a.jsx("div",{className:"text-sm text-gray-600",children:"Years Experience"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Visits Today"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:(t==null?void 0:t.appointments.length)??0}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Visits Scheduled"})]})]})]}),t!=null&&t.exams.length?a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Upcoming Exams"}),a.jsx(qd,{className:"h-5 w-5 text-primary-500"})]}),a.jsx("div",{className:"space-y-3",children:t.exams.slice(0,3).map(d=>a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:d.title}),a.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Passing Score: ",d.passingScore,"%  Questions: ",d.questions.length]})]},d.id))})]}):null]})]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Nurse not found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"The requested nurse profile could not be found."}),a.jsx(Rn,{to:"/nurses",className:"mt-4 btn-primary inline-block",children:"Back to Nurses"})]})}const rb={name:"",email:"",phone:"",dateOfBirth:"",address:"",city:"",state:"",zipCode:"",condition:"",assignedSpecialistId:"",assignedTherapistId:"",serviceIds:[],status:"active",avatar:"",emergencyContact:"",emergencyPhone:"",allergies:"",paymentType:"CASH",insuranceProvider:"",insuranceNumber:"",referralSource:""};function J4({isOpen:e,onClose:t,onSave:r,patient:n,mode:i,specialists:s,therapists:o,services:l=[]}){const[c,u]=L.useState(rb),[d,f]=L.useState(!1),[m,h]=L.useState(null),[p,y]=L.useState(null),[v,x]=L.useState(null),[b,N]=L.useState(!1);if(L.useEffect(()=>{var k,P;if(!e){u(rb),f(!1),h(null),y(null),x(null);return}if(n&&i==="edit"){const D=((k=n.address)==null?void 0:k.split(", "))||[],A=D[0]||n.address||"",I=D[1]||"",$=((P=D[2])==null?void 0:P.split(" "))||[],_=$[0]||"",M=$[1]||"";if(u({name:n.name,email:n.email??"",phone:n.phone,dateOfBirth:n.dateOfBirth?new Date(n.dateOfBirth).toISOString().split("T")[0]:"",address:A,city:I,state:_,zipCode:M,condition:n.condition,assignedSpecialistId:n.assignedSpecialistId??"",assignedTherapistId:n.assignedTherapistId??"",serviceIds:n.serviceIds??[],status:n.status??"active",avatar:n.avatar??"",emergencyContact:n.emergencyContact??"",emergencyPhone:n.emergencyPhone??"",allergies:n.allergies??"",paymentType:n.paymentType==="INSURANCE"?"INSURANCE":"CASH",insuranceProvider:n.insuranceProvider??"",insuranceNumber:n.insuranceNumber??"",referralSource:n.referralSource??""}),n.avatar){const z=n.avatar.startsWith("http")?n.avatar:Oa(n.avatar);x(z)}else x(null)}else u({...rb,dateOfBirth:"",status:"active"})},[e,n,i]),!e)return null;const w=k=>{const{name:P,value:D}=k.target;u(A=>{const I={...A,[P]:D};return P==="paymentType"&&D==="CASH"&&(I.insuranceProvider="",I.insuranceNumber=""),I})},S=k=>{u(P=>{const D=P.serviceIds??[],A=D.includes(k)?D.filter(I=>I!==k):[...D,k];return{...P,serviceIds:A}})},E=async k=>{var A;const P=(A=k.target.files)==null?void 0:A[0];if(!P)return;if(!P.type.startsWith("image/")){h("Please select a valid image file");return}if(P.size>10*1024*1024){h("Image size must be less than 10MB");return}y(P),h(null);const D=new FileReader;D.onloadend=()=>{x(D.result)},D.readAsDataURL(P),N(!0);try{const I=await me.uploadFile(xe.UPLOAD.IMAGE,P);if(I.success&&I.data){const _=I.data.url||I.data.url;if(_){const M=_.startsWith("http")?_.replace(/^https?:\/\/[^\/]+/,""):_.startsWith("/")?_:"/"+_;u(R=>({...R,avatar:M}));const Z=`${lu.API_ORIGIN}${M}`;x(Z)}}}catch(I){h((I==null?void 0:I.message)||"Failed to upload image"),y(null),x(null)}finally{N(!1)}},C=async k=>{k.preventDefault(),f(!0),h(null);try{const P=[c.address,c.city,c.state,c.zipCode].filter(Boolean).join(", "),D={...c,address:P||c.address};await r(D),t()}catch(P){h((P==null?void 0:P.message)??"Unable to save patient. Please try again.")}finally{f(!1)}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsxs("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-xl bg-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b px-6 py-4 sticky top-0 bg-white z-10",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:i==="add"?"Register New Patient":"Update Patient Details"}),a.jsx("p",{className:"text-sm text-gray-500",children:i==="add"?"Complete patient registration form":"Edit patient profile and assignment details"})]}),a.jsx("button",{type:"button",className:"rounded-full p-2 text-gray-400 transition hover:bg-gray-100 hover:text-gray-600",onClick:t,"aria-label":"Close",children:a.jsx(Dt,{className:"h-5 w-5"})})]}),a.jsxs("form",{onSubmit:C,className:"space-y-6 px-6 py-6",children:[m&&a.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:m}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Personal Information"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Required information about the patient"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Full Name",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",value:c.name,onChange:w,required:!0,className:"input-field mt-1",placeholder:"Jane Doe"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email Address"}),a.jsx("input",{type:"email",name:"email",value:c.email,onChange:w,className:"input-field mt-1",placeholder:"jane@example.com"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Phone Number",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"tel",name:"phone",value:c.phone,onChange:w,required:!0,className:"input-field mt-1",placeholder:"+1 (555) 123-4567"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Date of Birth",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",name:"dateOfBirth",value:c.dateOfBirth,onChange:w,required:!0,className:"input-field mt-1"})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Address Information"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Patient's residential address"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Street Address",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"address",value:c.address,onChange:w,required:!0,className:"input-field mt-1",placeholder:"123 Main Street"})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),a.jsx("input",{type:"text",name:"city",value:c.city,onChange:w,className:"input-field mt-1",placeholder:"City"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"State"}),a.jsx("input",{type:"text",name:"state",value:c.state,onChange:w,className:"input-field mt-1",placeholder:"State"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ZIP Code"}),a.jsx("input",{type:"text",name:"zipCode",value:c.zipCode,onChange:w,className:"input-field mt-1",placeholder:"12345"})]})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Next of Kin Contact"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Next of kin contact information"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Next of Kin Name"}),a.jsx("input",{type:"text",name:"emergencyContact",value:c.emergencyContact,onChange:w,className:"input-field mt-1",placeholder:"Contact name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Next of Kin Phone"}),a.jsx("input",{type:"tel",name:"emergencyPhone",value:c.emergencyPhone,onChange:w,className:"input-field mt-1",placeholder:"+1 (555) 123-4567"})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Payment & Insurance Information"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Payment method and insurance details"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Payment Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"paymentType",value:c.paymentType||"CASH",onChange:w,className:"input-field mt-1",required:!0,children:[a.jsx("option",{value:"CASH",children:"Cash"}),a.jsx("option",{value:"INSURANCE",children:"Insurance"})]})]}),c.paymentType==="INSURANCE"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Insurance Provider ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"insuranceProvider",value:c.insuranceProvider,onChange:w,className:"input-field mt-1",placeholder:"Insurance company name",required:c.paymentType==="INSURANCE"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Insurance Number ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"insuranceNumber",value:c.insuranceNumber,onChange:w,className:"input-field mt-1",placeholder:"Policy number",required:c.paymentType==="INSURANCE"})]})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Assignment & Care Details"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Optionally assign patient to a specialist and/or therapist. Consultation fee invoices are created automatically when assigned."}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Assigned Specialist ",a.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),a.jsxs("select",{name:"assignedSpecialistId",value:c.assignedSpecialistId??"",onChange:w,className:"input-field mt-1",children:[a.jsx("option",{value:"",children:"Select specialist"}),s&&s.length>0?s.map(k=>a.jsxs("option",{value:k.id,children:[k.name,k.specialization?` (${k.specialization})`:""]},k.id)):a.jsx("option",{value:"",disabled:!0,children:"No specialists available"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Assigned Therapist ",a.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),a.jsxs("select",{name:"assignedTherapistId",value:c.assignedTherapistId??"",onChange:w,className:"input-field mt-1",children:[a.jsx("option",{value:"",children:"Select therapist"}),o&&o.length>0?o.map(k=>a.jsxs("option",{value:k.id,children:[k.name,k.specialization?` (${k.specialization})`:""]},k.id)):a.jsx("option",{value:"",disabled:!0,children:"No therapists available"})]})]})]}),l.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Services ",a.jsx("span",{className:"text-gray-500 font-normal",children:"(optional)"})]}),a.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Select services for this patient. Billing is managed by the biller."}),a.jsx("div",{className:"flex flex-wrap gap-3",children:l.map(k=>a.jsxs("label",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-gray-200 hover:bg-gray-50 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:(c.serviceIds??[]).includes(k.id),onChange:()=>S(k.id),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),a.jsx("span",{className:"text-sm text-gray-900",children:k.name})]},k.id))})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 mt-4",children:[i==="edit"&&a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Status",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"status",value:c.status,onChange:w,required:!0,className:"input-field mt-1",children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"discharged",children:"Discharged"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Referral Source"}),a.jsx("input",{type:"text",name:"referralSource",value:c.referralSource,onChange:w,className:"input-field mt-1",placeholder:"How did patient find us?"})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient Photo"}),a.jsxs("div",{className:"flex items-center gap-4",children:[v?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:v,alt:"Avatar preview",className:"h-20 w-20 rounded-full object-cover border-2 border-gray-300"}),a.jsx("button",{type:"button",onClick:()=>{y(null),x(null),u(k=>({...k,avatar:""}))},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:a.jsx(Dt,{className:"h-3 w-3"})})]}):a.jsx("div",{className:"h-20 w-20 rounded-full bg-gray-100 border-2 border-dashed border-gray-300 flex items-center justify-center",children:a.jsx(Pp,{className:"h-8 w-8 text-gray-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("label",{className:"cursor-pointer",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:E,disabled:b,className:"hidden"}),a.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Ef,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:b?"Uploading...":"Upload Photo"})]})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG or GIF (max 10MB)"})]})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 border-t pt-6 sticky bottom-0 bg-white",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-outline",disabled:d,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:d,children:d?"Saving...":i==="add"?"Register Patient":"Update Patient"})]})]})]})})}const fz={ACTIVE:"active",DISCHARGED:"discharged",PENDING:"pending"},hz={active:"ACTIVE",discharged:"DISCHARGED",pending:"PENDING"};function Eh(e){var n,i,s,o,l,c;const t=e.medicalHistoryNotes??"",r=e.medicalHistory??[];return{...e,status:e.status?fz[e.status.toUpperCase()]??"active":"active",medicalHistory:r,medicalHistoryText:t,progress:e.progress??[],assignedSpecialistId:((n=e.assignedSpecialist)==null?void 0:n.id)??e.assignedSpecialistId,assignedSpecialistName:(i=e.assignedSpecialist)==null?void 0:i.name,assignedTherapistId:((s=e.assignedTherapist)==null?void 0:s.id)??e.assignedTherapistId,assignedTherapistName:(o=e.assignedTherapist)==null?void 0:o.name,assignedDoctorId:((l=e.assignedSpecialist)==null?void 0:l.id)??e.assignedSpecialistId,assignedNurseId:void 0,referredSpecialistId:((c=e.assignedTherapist)==null?void 0:c.id)??e.assignedTherapistId}}function Z4(e){const t={...e};return e.status&&(t.status=hz[e.status]??e.status),e.dateOfBirth&&(t.dateOfBirth=new Date(e.dateOfBirth).toISOString()),e.medicalHistory!==void 0&&(t.medicalHistory=e.medicalHistory),t}class mz{async getPatients(t){const r=await me.get(xe.PATIENTS.BASE,{params:t});return{patients:Array.isArray(r.data)?r.data.map(Eh):[],pagination:r.pagination}}async getPatient(t){const r=await me.get(xe.PATIENTS.BY_ID(t));return Eh(r.data)}async createPatient(t){const r=Z4(t),n=await me.post(xe.PATIENTS.REGISTER,r);return Eh(n.data)}async updatePatient(t,r){const n=Z4(r),i=await me.put(xe.PATIENTS.BY_ID(t),n);return Eh(i.data)}async deletePatient(t){await me.delete(xe.PATIENTS.BY_ID(t))}async searchPatients(t){const r=await me.get(xe.PATIENTS.SEARCH,{params:{query:t}});return Array.isArray(r.data)?r.data.map(Eh):[]}async getMedicalHistory(t){return(await me.get(xe.PATIENTS.MEDICAL_HISTORY(t))).data??[]}async addMedicalRecord(t,r){return(await me.post(xe.PATIENTS.MEDICAL_HISTORY(t),r)).data}async updateMedicalRecord(t,r,n){return(await me.put(`${xe.PATIENTS.MEDICAL_HISTORY(t)}/${r}`,n)).data}async deleteMedicalRecord(t,r){await me.delete(`${xe.PATIENTS.MEDICAL_HISTORY(t)}/${r}`)}async getProgressRecords(t){return(await me.get(xe.PATIENTS.PROGRESS(t))).data??[]}async addProgressRecord(t,r){return(await me.post(xe.PATIENTS.PROGRESS(t),r)).data}async updateProgressRecord(t,r,n){return(await me.put(`${xe.PATIENTS.PROGRESS(t)}/${r}`,n)).data}async deleteProgressRecord(t,r){await me.delete(`${xe.PATIENTS.PROGRESS(t)}/${r}`)}async getPatientCases(t){return(await me.get(xe.PATIENTS.CASES(t))).data??[]}async getPatientDashboard(t){return(await me.get(xe.PATIENTS.DASHBOARD(t))).data??{}}async getPatientTimeline(t){const r=await me.get(xe.PATIENTS.TIMELINE(t));return Array.isArray(r.data)?r.data:[]}async createPatientCase(t,r){return(await me.post(xe.PATIENTS.CASES(t),r)).data}async updatePatientCase(t,r,n){return(await me.put(`${xe.PATIENTS.CASES(t)}/${r}`,n)).data}async closePatientCase(t,r){return(await me.patch(`${xe.PATIENTS.CASES(t)}/${r}/close`)).data}}const Mn=new mz,pz=["admin","receptionist","specialist","therapist","nurse","biller","lab_attendant"];function gz(e){if(!e)return"admin";const t=e.trim().toLowerCase().replace(/\s+/g,"-"),r=pz.find(s=>s===t);if(r)return r;const n=e.trim().toUpperCase().replace(/[\s-]+/g,"_");return{ADMIN:"admin",RECEPTIONIST:"receptionist",SPECIALIST:"specialist",THERAPIST:"therapist",NURSE:"nurse",BILLER:"biller",LAB_ATTENDANT:"lab_attendant"}[n]??"admin"}function xz(e){return{admin:"ADMIN",receptionist:"RECEPTIONIST",specialist:"SPECIALIST",therapist:"THERAPIST",nurse:"NURSE",biller:"BILLER",lab_attendant:"LAB_ATTENDANT"}[e]??"ADMIN"}function qu(e){if(!e)throw new Error("Invalid user payload received from API");const t=gz(e.role??e.roleCode);return{id:e.id,username:e.username,name:e.name??`${e.firstName??""} ${e.lastName??""}`.trim(),email:e.email,role:t,roleCode:e.roleCode,specialistSpecialization:e.specialistSpecialization??e.doctorSpecialization,therapistSpecialization:e.therapistSpecialization,avatar:e.avatar,phone:e.phone??e.phoneNumber,department:e.department,employeeId:e.employeeId,licenseNumber:e.licenseNumber,isActive:e.isActive??!0,createdAt:e.createdAt,updatedAt:e.updatedAt,consultationFee:e.consultationFee!=null?e.consultationFee:void 0}}class yz{async getUsers(t){const r=await me.get(xe.USERS.BASE,{params:t});return{users:(Array.isArray(r.data)?r.data:Array.isArray(r.users)?r.users:[]).map(qu),pagination:r.pagination}}async getMedicalStaff(t){const r=await me.get(xe.USERS.MEDICAL_STAFF,{params:t});return{users:(Array.isArray(r.data)?r.data:Array.isArray(r.users)?r.users:[]).map(qu),pagination:r.pagination}}async getUser(t){const r=await me.get(xe.USERS.BY_ID(t)),n=r.data??r;return qu(n)}async createUser(t){var i;const r=await me.post(xe.USERS.BASE,{...t,username:((i=t.username)==null?void 0:i.trim().toLowerCase())??t.username,role:xz(t.role)}),n=r.data??r;return qu(n)}async updateUser(t,r){const n=await me.put(xe.USERS.BY_ID(t),r),i=n.data??n;return qu(i)}async updateUserStatus(t,r){const n=await me.patch(xe.USERS.UPDATE_STATUS(t),{isActive:r}),i=n.data??n;return qu(i)}async deleteUser(t){await me.delete(xe.USERS.BY_ID(t))}async searchUsers(t){return this.getUsers(t)}}const Qt=new yz,WO={NURSING:"Nursing",PHYSIOTHERAPY:"Physiotherapy",PALLIATIVE:"Palliative Care",NUTRITION:"Nutrition",MENTAL_HEALTH:"Mental Health",MATERNAL_CARE:"Maternal Care"},vz=Object.entries(WO).reduce((e,[t,r])=>(e[r]=t,e),{});function Gg(e){var r;const t=(r=e.category)==null?void 0:r.toUpperCase();return{...e,category:WO[t]??e.category,features:e.features??[]}}function Q4(e){const t={...e};return e.category&&(t.category=vz[e.category]??e.category),e.features&&(t.features=e.features),t}class bz{async getServices(t){const r={...t,limit:typeof(t==null?void 0:t.limit)=="number"?Math.min(Math.max(t.limit,1),100):t==null?void 0:t.limit},n=await me.get(xe.SERVICES.BASE,{params:r});return{services:Array.isArray(n.data)?n.data.map(Gg):[],pagination:n.pagination}}async getService(t){const r=await me.get(xe.SERVICES.BY_ID(t));return Gg(r.data)}async createService(t){const r=await me.post(xe.SERVICES.BASE,Q4(t));return Gg(r.data)}async updateService(t,r){const n=await me.put(xe.SERVICES.BY_ID(t),Q4(r));return Gg(n.data)}async deleteService(t){await me.delete(xe.SERVICES.BY_ID(t))}}const $s=new bz;function wz(){const[e,t]=L.useState(""),[r,n]=L.useState("all"),[i,s]=L.useState(!1),[o,l]=L.useState(!1),[c,u]=L.useState(null),[d,f]=L.useState([]),[m,h]=L.useState(!1),[p,y]=L.useState(null),[v,x]=L.useState([]),[b,N]=L.useState([]),[w,S]=L.useState([]),{user:E}=fr(),{addNotification:C}=Mr(),k=(E==null?void 0:E.role)==="admin"||(E==null?void 0:E.role)==="receptionist",P=(E==null?void 0:E.role)==="admin"||(E==null?void 0:E.role)==="receptionist",D=(E==null?void 0:E.role)==="admin",{data:A,loading:I}=it(()=>$s.getServices({limit:500}),[]),$=(A==null?void 0:A.services)??[],_=L.useMemo(()=>{const Q=new Map;return $.forEach(ne=>Q.set(ne.id,ne)),Q},[$]),M=L.useMemo(()=>{const Q=new Map;return v.forEach(ne=>Q.set(ne.id,ne.name)),Q},[v]),z=L.useMemo(()=>{const Q=new Map;return b.forEach(ne=>Q.set(ne.id,ne.name)),Q},[b]),Z=L.useMemo(()=>{const Q=new Map;return w.forEach(ne=>Q.set(ne.id,ne.name)),Q},[w]),R=Q=>!Q.serviceIds||Q.serviceIds.length===0?[]:Q.serviceIds.map(ne=>_.get(ne)).filter(ne=>ne!==void 0),U=async()=>{try{const{users:Q}=await Qt.getMedicalStaff({role:"SPECIALIST",limit:500});N(Q.map(ne=>{const pe=ie=>{if(ie)return ie.split("_").map(W=>W.charAt(0)+W.slice(1).toLowerCase()).join(" ")};return{id:ne.id,name:ne.name,specialization:pe(ne.therapistSpecialization)}}))}catch(Q){console.error("Failed to load therapists",Q);try{const{users:ne}=await Qt.getUsers({limit:500}),pe=ne.filter(ie=>ie.role==="therapist");N(pe.map(ie=>{const W=fe=>{if(fe)return fe.split("_").map(Ae=>Ae.charAt(0)+Ae.slice(1).toLowerCase()).join(" ")};return{id:ie.id,name:ie.name,specialization:W(ie.therapistSpecialization)}}))}catch(ne){console.error("Fallback load failed",ne),N([])}}},re=async()=>{try{const{users:Q}=await Qt.getMedicalStaff({role:"SPECIALIST",limit:500});x(Q.map(ne=>{const pe=ie=>{if(ie)return ie.split("_").map(W=>W.charAt(0)+W.slice(1).toLowerCase()).join(" ")};return{id:ne.id,name:ne.name,specialization:pe(ne.specialistSpecialization)}}))}catch(Q){console.error("Failed to load specialists",Q);try{const{users:ne}=await Qt.getUsers({limit:500}),pe=ne.filter(ie=>ie.role==="specialist");x(pe.map(ie=>{const W=fe=>{if(fe)return fe.split("_").map(Ae=>Ae.charAt(0)+Ae.slice(1).toLowerCase()).join(" ")};return{id:ie.id,name:ie.name,specialization:W(ie.specialistSpecialization)}}))}catch(ne){console.error("Fallback load failed",ne),x([])}}},de=async()=>{h(!0),y(null);try{const{patients:Q}=await Mn.getPatients({query:e||void 0,status:r!=="all"?r:void 0});f(Q)}catch(Q){console.error("Failed to load patients",Q),y((Q==null?void 0:Q.message)??"Unable to load patient records.")}finally{h(!1)}},B=async()=>{try{const{users:Q}=await Qt.getMedicalStaff({role:"NURSE",limit:500});S(Q.map(ne=>({id:ne.id,name:ne.name})))}catch(Q){console.error("Failed to load nurses",Q);try{const{users:ne}=await Qt.getUsers({limit:500}),pe=ne.filter(ie=>ie.role==="nurse");S(pe.map(ie=>({id:ie.id,name:ie.name})))}catch(ne){console.error("Fallback load failed",ne),S([])}}};L.useEffect(()=>{re(),U(),B()},[]),L.useEffect(()=>{de()},[r,e]);const G=L.useMemo(()=>d.filter(Q=>{var fe,Ae,Y,Te,qe,be,je;Q.assignedNurseId?(fe=Z.get(Q.assignedNurseId))==null||fe.toLowerCase():(Ae=Q.assignedNurseName)==null||Ae.toLowerCase();const ne=Q.assignedSpecialistId?(Y=M.get(Q.assignedSpecialistId))==null?void 0:Y.toLowerCase():(Te=Q.assignedSpecialistName)==null?void 0:Te.toLowerCase(),pe=Q.assignedTherapistId?(qe=z.get(Q.assignedTherapistId))==null?void 0:qe.toLowerCase():(be=Q.assignedTherapistName)==null?void 0:be.toLowerCase(),ie=Q.name.toLowerCase().includes(e.toLowerCase())||((je=Q.email)==null?void 0:je.toLowerCase().includes(e.toLowerCase()))||((ne==null?void 0:ne.includes(e.toLowerCase()))??!1)||((pe==null?void 0:pe.includes(e.toLowerCase()))??!1)||R(Q).some(Me=>Me.name.toLowerCase().includes(e.toLowerCase())),W=r==="all"||Q.status===r;return ie&&W}),[d,e,r,M,z,_]),te=async Q=>{try{await Mn.createPatient(Q),Ce.success(`Patient ${Q.name} has been created successfully`),C&&C({title:"Patient created",message:`${Q.name} has been added.`,type:"success",priority:"medium",userId:"system",category:"system"}),await de()}catch(ne){const pe=ne instanceof Error?ne.message:"Failed to create patient";throw Ce.error(pe),C&&C({title:"Unable to create patient",message:pe,type:"error",priority:"high",userId:"system",category:"system"}),ne}},ue=async Q=>{if(c)try{await Mn.updatePatient(c.id,Q),Ce.success(`Patient ${Q.name} has been updated successfully`),C({title:"Patient updated",message:`${Q.name} has been updated.`,type:"success",priority:"medium",userId:"system",category:"system"}),await de()}catch(ne){const pe=ne instanceof Error?ne.message:"Failed to update patient";throw Ce.error(pe),C({title:"Unable to update patient",message:pe,type:"error",priority:"high",userId:"system",category:"system"}),ne}finally{u(null)}},q=async Q=>{const ne=d.find(ie=>ie.id===Q),pe=ne?`Archive ${ne.name}? They will no longer appear in active lists.`:"Archive this patient?";if(window.confirm(pe))try{await Mn.deletePatient(Q),Ce.success(ne?`Patient ${ne.name} has been archived`:"Patient archived successfully"),C&&C({title:"Patient archived",message:ne?`${ne.name} has been marked as discharged.`:"Patient archived successfully.",type:"info",priority:"medium",userId:"system",category:"system"}),await de()}catch(ie){const W=ie instanceof Error?ie.message:"Failed to archive patient";Ce.error(W),C&&C({title:"Archive failed",message:ie instanceof Error?ie.message:"Unable to archive patient.",type:"error",priority:"high",userId:"system",category:"system"})}},X=Q=>{u(Q),l(!0)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Patients"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage patient information and live care details."})]}),k&&a.jsx("div",{className:"mt-4 sm:mt-0",children:a.jsxs("button",{onClick:()=>s(!0),className:"btn-primary flex items-center",children:[a.jsx(zt,{className:"mr-2 h-4 w-4"}),"Add Patient"]})})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"relative",children:[a.jsx(Br,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search patients...",value:e,onChange:Q=>t(Q.target.value),className:"input-field pl-10"})]})}),a.jsx("div",{children:a.jsxs("select",{value:r,onChange:Q=>n(Q.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"discharged",children:"Discharged"}),a.jsx("option",{value:"pending",children:"Pending"})]})}),a.jsx("div",{})]})}),a.jsx("div",{className:"card",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Patient"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Services"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Assigned Specialist"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Assigned Therapist"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Admission Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:m?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-10 text-center text-sm text-gray-500",children:"Loading patients..."})}):p?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-10 text-center text-sm text-red-500",children:p})}):G.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-10 text-center text-sm text-gray-500",children:"No patients match your filters yet."})}):G.map(Q=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[Q.avatar?a.jsx("img",{src:Q.avatar.startsWith("http")?Q.avatar:Oa(Q.avatar),alt:Q.name,className:"h-10 w-10 rounded-full object-cover"}):a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary-100 text-sm font-semibold text-primary-600",children:Q.name.split(" ").map(ne=>ne[0]).join("").slice(0,2).toUpperCase()}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Q.name}),a.jsx("div",{className:"text-sm text-gray-500",children:Q.email})]})]})}),a.jsx("td",{className:"px-6 py-4",children:I?a.jsx("div",{className:"text-sm text-gray-500",children:"Loading..."}):(()=>{const ne=R(Q);return ne.length===0?a.jsx("div",{className:"text-sm text-gray-400",children:"No services"}):a.jsxs("div",{className:"flex flex-wrap gap-1",children:[ne.slice(0,2).map(pe=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-50 text-blue-700 border border-blue-200",children:pe.name},pe.id)),ne.length>2&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-600 border border-gray-200",children:["+",ne.length-2," more"]})]})})()}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Kr,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm text-gray-900",children:Q.assignedSpecialistId?M.get(Q.assignedSpecialistId)??Q.assignedSpecialistName??"Unassigned":"Unassigned"})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Kr,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm text-gray-900",children:Q.assignedTherapistId?z.get(Q.assignedTherapistId)??Q.assignedTherapistName??"Unassigned":"Unassigned"})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mt,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm text-gray-900",children:Q.admissionDate?new Date(Q.admissionDate).toLocaleDateString():""})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`status-badge ${Q.status==="active"?"status-active":Q.status==="discharged"?"status-inactive":"status-pending"}`,children:Q.status})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(Rn,{to:`/patients/${Q.id}`,className:"text-primary-600 hover:text-primary-900 inline-flex items-center",children:[a.jsx(Ln,{className:"mr-1 h-4 w-4"}),"View"]}),P&&a.jsxs("button",{onClick:()=>X(Q),className:"text-secondary-600 hover:text-secondary-900 inline-flex items-center",type:"button",children:[a.jsx(Fn,{className:"mr-1 h-4 w-4"}),"Edit"]}),D&&a.jsxs("button",{onClick:()=>q(Q.id),className:"text-red-600 hover:text-red-900 inline-flex items-center",type:"button",children:[a.jsx(zr,{className:"mr-1 h-4 w-4"}),"Archive"]})]})})]},Q.id))})]})})}),a.jsx(J4,{isOpen:i,onClose:()=>s(!1),onSave:te,mode:"add",specialists:v,therapists:b,services:$.map(Q=>({id:Q.id,name:Q.name}))}),a.jsx(J4,{isOpen:o,onClose:()=>{l(!1),u(null)},onSave:ue,patient:c??void 0,mode:"edit",specialists:v,therapists:b,services:$.map(Q=>({id:Q.id,name:Q.name}))})]})}var Nz=Array.isArray,Ya=Nz,jz=typeof Sg=="object"&&Sg&&Sg.Object===Object&&Sg,GO=jz,Sz=GO,Az=typeof self=="object"&&self&&self.Object===Object&&self,Ez=Sz||Az||Function("return this")(),Ks=Ez,_z=Ks,Pz=_z.Symbol,Ip=Pz,e3=Ip,YO=Object.prototype,Tz=YO.hasOwnProperty,Cz=YO.toString,_h=e3?e3.toStringTag:void 0;function kz(e){var t=Tz.call(e,_h),r=e[_h];try{e[_h]=void 0;var n=!0}catch{}var i=Cz.call(e);return n&&(t?e[_h]=r:delete e[_h]),i}var Oz=kz,Iz=Object.prototype,Lz=Iz.toString;function Rz(e){return Lz.call(e)}var Mz=Rz,t3=Ip,Dz=Oz,$z=Mz,Fz="[object Null]",Bz="[object Undefined]",r3=t3?t3.toStringTag:void 0;function Uz(e){return e==null?e===void 0?Bz:Fz:r3&&r3 in Object(e)?Dz(e):$z(e)}var Ko=Uz;function zz(e){return e!=null&&typeof e=="object"}var Xo=zz,qz=Ko,Hz=Xo,Vz="[object Symbol]";function Wz(e){return typeof e=="symbol"||Hz(e)&&qz(e)==Vz}var Tf=Wz,Gz=Ya,Yz=Tf,Kz=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xz=/^\w*$/;function Jz(e,t){if(Gz(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Yz(e)?!0:Xz.test(e)||!Kz.test(e)||t!=null&&e in Object(t)}var f5=Jz;function Zz(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ec=Zz;const Cf=lr(ec);var Qz=Ko,eq=ec,tq="[object AsyncFunction]",rq="[object Function]",nq="[object GeneratorFunction]",aq="[object Proxy]";function iq(e){if(!eq(e))return!1;var t=Qz(e);return t==rq||t==nq||t==tq||t==aq}var h5=iq;const xt=lr(h5);var sq=Ks,oq=sq["__core-js_shared__"],lq=oq,nb=lq,n3=function(){var e=/[^.]+$/.exec(nb&&nb.keys&&nb.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function cq(e){return!!n3&&n3 in e}var uq=cq,dq=Function.prototype,fq=dq.toString;function hq(e){if(e!=null){try{return fq.call(e)}catch{}try{return e+""}catch{}}return""}var KO=hq,mq=h5,pq=uq,gq=ec,xq=KO,yq=/[\\^$.*+?()[\]{}|]/g,vq=/^\[object .+?Constructor\]$/,bq=Function.prototype,wq=Object.prototype,Nq=bq.toString,jq=wq.hasOwnProperty,Sq=RegExp("^"+Nq.call(jq).replace(yq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Aq(e){if(!gq(e)||pq(e))return!1;var t=mq(e)?Sq:vq;return t.test(xq(e))}var Eq=Aq;function _q(e,t){return e==null?void 0:e[t]}var Pq=_q,Tq=Eq,Cq=Pq;function kq(e,t){var r=Cq(e,t);return Tq(r)?r:void 0}var wu=kq,Oq=wu,Iq=Oq(Object,"create"),Ky=Iq,a3=Ky;function Lq(){this.__data__=a3?a3(null):{},this.size=0}var Rq=Lq;function Mq(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Dq=Mq,$q=Ky,Fq="__lodash_hash_undefined__",Bq=Object.prototype,Uq=Bq.hasOwnProperty;function zq(e){var t=this.__data__;if($q){var r=t[e];return r===Fq?void 0:r}return Uq.call(t,e)?t[e]:void 0}var qq=zq,Hq=Ky,Vq=Object.prototype,Wq=Vq.hasOwnProperty;function Gq(e){var t=this.__data__;return Hq?t[e]!==void 0:Wq.call(t,e)}var Yq=Gq,Kq=Ky,Xq="__lodash_hash_undefined__";function Jq(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Kq&&t===void 0?Xq:t,this}var Zq=Jq,Qq=Rq,eH=Dq,tH=qq,rH=Yq,nH=Zq;function kf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}kf.prototype.clear=Qq;kf.prototype.delete=eH;kf.prototype.get=tH;kf.prototype.has=rH;kf.prototype.set=nH;var aH=kf;function iH(){this.__data__=[],this.size=0}var sH=iH;function oH(e,t){return e===t||e!==e&&t!==t}var m5=oH,lH=m5;function cH(e,t){for(var r=e.length;r--;)if(lH(e[r][0],t))return r;return-1}var Xy=cH,uH=Xy,dH=Array.prototype,fH=dH.splice;function hH(e){var t=this.__data__,r=uH(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():fH.call(t,r,1),--this.size,!0}var mH=hH,pH=Xy;function gH(e){var t=this.__data__,r=pH(t,e);return r<0?void 0:t[r][1]}var xH=gH,yH=Xy;function vH(e){return yH(this.__data__,e)>-1}var bH=vH,wH=Xy;function NH(e,t){var r=this.__data__,n=wH(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var jH=NH,SH=sH,AH=mH,EH=xH,_H=bH,PH=jH;function Of(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Of.prototype.clear=SH;Of.prototype.delete=AH;Of.prototype.get=EH;Of.prototype.has=_H;Of.prototype.set=PH;var Jy=Of,TH=wu,CH=Ks,kH=TH(CH,"Map"),p5=kH,i3=aH,OH=Jy,IH=p5;function LH(){this.size=0,this.__data__={hash:new i3,map:new(IH||OH),string:new i3}}var RH=LH;function MH(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var DH=MH,$H=DH;function FH(e,t){var r=e.__data__;return $H(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Zy=FH,BH=Zy;function UH(e){var t=BH(this,e).delete(e);return this.size-=t?1:0,t}var zH=UH,qH=Zy;function HH(e){return qH(this,e).get(e)}var VH=HH,WH=Zy;function GH(e){return WH(this,e).has(e)}var YH=GH,KH=Zy;function XH(e,t){var r=KH(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var JH=XH,ZH=RH,QH=zH,eV=VH,tV=YH,rV=JH;function If(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}If.prototype.clear=ZH;If.prototype.delete=QH;If.prototype.get=eV;If.prototype.has=tV;If.prototype.set=rV;var g5=If,XO=g5,nV="Expected a function";function x5(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(nV);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=e.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(x5.Cache||XO),r}x5.Cache=XO;var JO=x5;const aV=lr(JO);var iV=JO,sV=500;function oV(e){var t=iV(e,function(n){return r.size===sV&&r.clear(),n}),r=t.cache;return t}var lV=oV,cV=lV,uV=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dV=/\\(\\)?/g,fV=cV(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(uV,function(r,n,i,s){t.push(i?s.replace(dV,"$1"):n||r)}),t}),hV=fV;function mV(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var y5=mV,s3=Ip,pV=y5,gV=Ya,xV=Tf,o3=s3?s3.prototype:void 0,l3=o3?o3.toString:void 0;function ZO(e){if(typeof e=="string")return e;if(gV(e))return pV(e,ZO)+"";if(xV(e))return l3?l3.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var yV=ZO,vV=yV;function bV(e){return e==null?"":vV(e)}var QO=bV,wV=Ya,NV=f5,jV=hV,SV=QO;function AV(e,t){return wV(e)?e:NV(e,t)?[e]:jV(SV(e))}var eI=AV,EV=Tf;function _V(e){if(typeof e=="string"||EV(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Qy=_V,PV=eI,TV=Qy;function CV(e,t){t=PV(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[TV(t[r++])];return r&&r==n?e:void 0}var v5=CV,kV=v5;function OV(e,t,r){var n=e==null?void 0:kV(e,t);return n===void 0?r:n}var tI=OV;const pi=lr(tI);function IV(e){return e==null}var LV=IV;const jt=lr(LV);var RV=Ko,MV=Ya,DV=Xo,$V="[object String]";function FV(e){return typeof e=="string"||!MV(e)&&DV(e)&&RV(e)==$V}var BV=FV;const cu=lr(BV);var rI={exports:{}},cr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b5=Symbol.for("react.element"),w5=Symbol.for("react.portal"),ev=Symbol.for("react.fragment"),tv=Symbol.for("react.strict_mode"),rv=Symbol.for("react.profiler"),nv=Symbol.for("react.provider"),av=Symbol.for("react.context"),UV=Symbol.for("react.server_context"),iv=Symbol.for("react.forward_ref"),sv=Symbol.for("react.suspense"),ov=Symbol.for("react.suspense_list"),lv=Symbol.for("react.memo"),cv=Symbol.for("react.lazy"),zV=Symbol.for("react.offscreen"),nI;nI=Symbol.for("react.module.reference");function qi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case b5:switch(e=e.type,e){case ev:case rv:case tv:case sv:case ov:return e;default:switch(e=e&&e.$$typeof,e){case UV:case av:case iv:case cv:case lv:case nv:return e;default:return t}}case w5:return t}}}cr.ContextConsumer=av;cr.ContextProvider=nv;cr.Element=b5;cr.ForwardRef=iv;cr.Fragment=ev;cr.Lazy=cv;cr.Memo=lv;cr.Portal=w5;cr.Profiler=rv;cr.StrictMode=tv;cr.Suspense=sv;cr.SuspenseList=ov;cr.isAsyncMode=function(){return!1};cr.isConcurrentMode=function(){return!1};cr.isContextConsumer=function(e){return qi(e)===av};cr.isContextProvider=function(e){return qi(e)===nv};cr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===b5};cr.isForwardRef=function(e){return qi(e)===iv};cr.isFragment=function(e){return qi(e)===ev};cr.isLazy=function(e){return qi(e)===cv};cr.isMemo=function(e){return qi(e)===lv};cr.isPortal=function(e){return qi(e)===w5};cr.isProfiler=function(e){return qi(e)===rv};cr.isStrictMode=function(e){return qi(e)===tv};cr.isSuspense=function(e){return qi(e)===sv};cr.isSuspenseList=function(e){return qi(e)===ov};cr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ev||e===rv||e===tv||e===sv||e===ov||e===zV||typeof e=="object"&&e!==null&&(e.$$typeof===cv||e.$$typeof===lv||e.$$typeof===nv||e.$$typeof===av||e.$$typeof===iv||e.$$typeof===nI||e.getModuleId!==void 0)};cr.typeOf=qi;rI.exports=cr;var qV=rI.exports,HV=Ko,VV=Xo,WV="[object Number]";function GV(e){return typeof e=="number"||VV(e)&&HV(e)==WV}var aI=GV;const YV=lr(aI);var KV=aI;function XV(e){return KV(e)&&e!=+e}var JV=XV;const Lf=lr(JV);var Ea=function(t){return t===0?0:t>0?1:-1},Bc=function(t){return cu(t)&&t.indexOf("%")===t.length-1},He=function(t){return YV(t)&&!Lf(t)},ZV=function(t){return jt(t)},_n=function(t){return He(t)||cu(t)},QV=0,Nu=function(t){var r=++QV;return"".concat(t||"").concat(r)},_a=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!He(t)&&!cu(t))return n;var s;if(Bc(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return Lf(s)&&(s=n),i&&s>r&&(s=r),s},Pl=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},eW=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},An=function(t,r){return He(t)&&He(r)?function(n){return t+n*(r-t)}:function(){return r}};function px(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):pi(n,t))===r})}var tW=function(t,r){return He(t)&&He(r)?t-r:cu(t)&&cu(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function _d(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function vw(e){"@babel/helpers - typeof";return vw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vw(e)}var rW=["viewBox","children"],nW=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],c3=["points","pathLength"],ab={svg:rW,polygon:c3,polyline:c3},N5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],gx=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(L.isValidElement(t)&&(n=t.props),!Cf(n))return null;var i={};return Object.keys(n).forEach(function(s){N5.includes(s)&&(i[s]=r||function(o){return n[s](n,o)})}),i},aW=function(t,r,n){return function(i){return t(r,n,i),null}},uu=function(t,r,n){if(!Cf(t)||vw(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(s){var o=t[s];N5.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=aW(o,r,n))}),i},iW=["children"],sW=["children"];function u3(e,t){if(e==null)return{};var r=oW(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bw(e){"@babel/helpers - typeof";return bw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bw(e)}var d3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Io=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},f3=null,ib=null,j5=function e(t){if(t===f3&&Array.isArray(ib))return ib;var r=[];return L.Children.forEach(t,function(n){jt(n)||(qV.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),ib=r,f3=t,r};function gi(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return Io(i)}):n=[Io(t)],j5(e).forEach(function(i){var s=pi(i,"type.displayName")||pi(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function ci(e,t){var r=gi(e,t);return r&&r[0]}var h3=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!He(n)||n<=0||!He(i)||i<=0)},lW=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],cW=function(t){return t&&t.type&&cu(t.type)&&lW.indexOf(t.type)>=0},iI=function(t){return t&&bw(t)==="object"&&"clipDot"in t},uW=function(t,r,n,i){var s,o=(s=ab==null?void 0:ab[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!xt(t)&&(i&&o.includes(r)||nW.includes(r))||n&&N5.includes(r)},ut=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(L.isValidElement(t)&&(i=t.props),!Cf(i))return null;var s={};return Object.keys(i).forEach(function(o){var l;uW((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=i[o])}),s},ww=function e(t,r){if(t===r)return!0;var n=L.Children.count(t);if(n!==L.Children.count(r))return!1;if(n===0)return!0;if(n===1)return m3(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=t[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!m3(s,o))return!1}return!0},m3=function(t,r){if(jt(t)&&jt(r))return!0;if(!jt(t)&&!jt(r)){var n=t.props||{},i=n.children,s=u3(n,iW),o=r.props||{},l=o.children,c=u3(o,sW);return i&&l?_d(s,c)&&ww(i,l):!i&&!l?_d(s,c):!1}return!1},p3=function(t,r){var n=[],i={};return j5(t).forEach(function(s,o){if(cW(s))n.push(s);else if(s){var l=Io(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var f=u(s,l,o);n.push(f),i[l]=!0}}}),n},dW=function(t){var r=t&&t.type;return r&&d3[r]?d3[r]:null},fW=function(t,r){return j5(r).indexOf(t)},hW=["children","width","height","viewBox","className","style","title","desc"];function Nw(){return Nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nw.apply(this,arguments)}function mW(e,t){if(e==null)return{};var r=pW(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jw(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,u=mW(e,hW),d=i||{width:r,height:n,x:0,y:0},f=yt("recharts-surface",s);return ce.createElement("svg",Nw({},ut(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),ce.createElement("title",null,l),ce.createElement("desc",null,c),t)}var gW=["children","className"];function Sw(){return Sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sw.apply(this,arguments)}function xW(e,t){if(e==null)return{};var r=yW(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Bt=ce.forwardRef(function(e,t){var r=e.children,n=e.className,i=xW(e,gW),s=yt("recharts-layer",n);return ce.createElement("g",Sw({className:s},ut(i,!0),{ref:t}),r)}),hs=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function vW(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(i);++n<i;)s[n]=e[n+t];return s}var bW=vW,wW=bW;function NW(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:wW(e,t,r)}var jW=NW,SW="\\ud800-\\udfff",AW="\\u0300-\\u036f",EW="\\ufe20-\\ufe2f",_W="\\u20d0-\\u20ff",PW=AW+EW+_W,TW="\\ufe0e\\ufe0f",CW="\\u200d",kW=RegExp("["+CW+SW+PW+TW+"]");function OW(e){return kW.test(e)}var sI=OW;function IW(e){return e.split("")}var LW=IW,oI="\\ud800-\\udfff",RW="\\u0300-\\u036f",MW="\\ufe20-\\ufe2f",DW="\\u20d0-\\u20ff",$W=RW+MW+DW,FW="\\ufe0e\\ufe0f",BW="["+oI+"]",Aw="["+$W+"]",Ew="\\ud83c[\\udffb-\\udfff]",UW="(?:"+Aw+"|"+Ew+")",lI="[^"+oI+"]",cI="(?:\\ud83c[\\udde6-\\uddff]){2}",uI="[\\ud800-\\udbff][\\udc00-\\udfff]",zW="\\u200d",dI=UW+"?",fI="["+FW+"]?",qW="(?:"+zW+"(?:"+[lI,cI,uI].join("|")+")"+fI+dI+")*",HW=fI+dI+qW,VW="(?:"+[lI+Aw+"?",Aw,cI,uI,BW].join("|")+")",WW=RegExp(Ew+"(?="+Ew+")|"+VW+HW,"g");function GW(e){return e.match(WW)||[]}var YW=GW,KW=LW,XW=sI,JW=YW;function ZW(e){return XW(e)?JW(e):KW(e)}var QW=ZW,eG=jW,tG=sI,rG=QW,nG=QO;function aG(e){return function(t){t=nG(t);var r=tG(t)?rG(t):void 0,n=r?r[0]:t.charAt(0),i=r?eG(r,1).join(""):t.slice(1);return n[e]()+i}}var iG=aG,sG=iG,oG=sG("toUpperCase"),lG=oG;const uv=lr(lG);function Nr(e){return function(){return e}}const hI=Math.cos,xx=Math.sin,ys=Math.sqrt,yx=Math.PI,dv=2*yx,_w=Math.PI,Pw=2*_w,Pc=1e-6,cG=Pw-Pc;function mI(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function uG(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return mI;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class dG{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?mI:uG(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,u=i-r,d=o-t,f=l-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>Pc)if(!(Math.abs(f*c-u*d)>Pc)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-o,p=i-l,y=c*c+u*u,v=h*h+p*p,x=Math.sqrt(y),b=Math.sqrt(m),N=s*Math.tan((_w-Math.acos((y+m-v)/(2*x*b)))/2),w=N/b,S=N/x;Math.abs(w-1)>Pc&&this._append`L${t+w*d},${r+w*f}`,this._append`A${s},${s},0,0,${+(f*h>d*p)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,i,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,d=r+c,f=1^o,m=o?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Pc||Math.abs(this._y1-d)>Pc)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%Pw+Pw),m>cG?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>Pc&&this._append`A${n},${n},0,${+(m>=_w)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function S5(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new dG(t)}function A5(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function pI(e){this._context=e}pI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function fv(e){return new pI(e)}function gI(e){return e[0]}function xI(e){return e[1]}function yI(e,t){var r=Nr(!0),n=null,i=fv,s=null,o=S5(l);e=typeof e=="function"?e:e===void 0?gI:Nr(e),t=typeof t=="function"?t:t===void 0?xI:Nr(t);function l(c){var u,d=(c=A5(c)).length,f,m=!1,h;for(n==null&&(s=i(h=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+e(f,u,c),+t(f,u,c));if(h)return s=null,h+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Nr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Nr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Nr(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),l):n},l}function Yg(e,t,r){var n=null,i=Nr(!0),s=null,o=fv,l=null,c=S5(u);e=typeof e=="function"?e:e===void 0?gI:Nr(+e),t=typeof t=="function"?t:Nr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?xI:Nr(+r);function u(f){var m,h,p,y=(f=A5(f)).length,v,x=!1,b,N=new Array(y),w=new Array(y);for(s==null&&(l=o(b=c())),m=0;m<=y;++m){if(!(m<y&&i(v=f[m],m,f))===x)if(x=!x)h=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=m-1;p>=h;--p)l.point(N[p],w[p]);l.lineEnd(),l.areaEnd()}x&&(N[m]=+e(v,m,f),w[m]=+t(v,m,f),l.point(n?+n(v,m,f):N[m],r?+r(v,m,f):w[m]))}if(b)return l=null,b+""||null}function d(){return yI().defined(i).curve(o).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Nr(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Nr(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Nr(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Nr(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Nr(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Nr(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Nr(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class vI{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function fG(e){return new vI(e,!0)}function hG(e){return new vI(e,!1)}const E5={draw(e,t){const r=ys(t/yx);e.moveTo(r,0),e.arc(0,0,r,0,dv)}},mG={draw(e,t){const r=ys(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},bI=ys(1/3),pG=bI*2,gG={draw(e,t){const r=ys(t/pG),n=r*bI;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},xG={draw(e,t){const r=ys(t),n=-r/2;e.rect(n,n,r,r)}},yG=.8908130915292852,wI=xx(yx/10)/xx(7*yx/10),vG=xx(dv/10)*wI,bG=-hI(dv/10)*wI,wG={draw(e,t){const r=ys(t*yG),n=vG*r,i=bG*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const o=dv*s/5,l=hI(o),c=xx(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},sb=ys(3),NG={draw(e,t){const r=-ys(t/(sb*3));e.moveTo(0,r*2),e.lineTo(-sb*r,-r),e.lineTo(sb*r,-r),e.closePath()}},_i=-.5,Pi=ys(3)/2,Tw=1/ys(12),jG=(Tw/2+1)*3,SG={draw(e,t){const r=ys(t/jG),n=r/2,i=r*Tw,s=n,o=r*Tw+r,l=-s,c=o;e.moveTo(n,i),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(_i*n-Pi*i,Pi*n+_i*i),e.lineTo(_i*s-Pi*o,Pi*s+_i*o),e.lineTo(_i*l-Pi*c,Pi*l+_i*c),e.lineTo(_i*n+Pi*i,_i*i-Pi*n),e.lineTo(_i*s+Pi*o,_i*o-Pi*s),e.lineTo(_i*l+Pi*c,_i*c-Pi*l),e.closePath()}};function AG(e,t){let r=null,n=S5(i);e=typeof e=="function"?e:Nr(e||E5),t=typeof t=="function"?t:Nr(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Nr(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Nr(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function vx(){}function bx(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function NI(e){this._context=e}NI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function EG(e){return new NI(e)}function jI(e){this._context=e}jI.prototype={areaStart:vx,areaEnd:vx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:bx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _G(e){return new jI(e)}function SI(e){this._context=e}SI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:bx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function PG(e){return new SI(e)}function AI(e){this._context=e}AI.prototype={areaStart:vx,areaEnd:vx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function TG(e){return new AI(e)}function g3(e){return e<0?-1:1}function x3(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),l=(s*i+o*n)/(n+i);return(g3(s)+g3(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function y3(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ob(e,t,r){var n=e._x0,i=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,i+l*t,s-l,o-l*r,s,o)}function wx(e){this._context=e}wx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ob(this,this._t0,y3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ob(this,y3(this,r=x3(this,e,t)),r);break;default:ob(this,this._t0,r=x3(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function EI(e){this._context=new _I(e)}(EI.prototype=Object.create(wx.prototype)).point=function(e,t){wx.prototype.point.call(this,t,e)};function _I(e){this._context=e}_I.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function CG(e){return new wx(e)}function kG(e){return new EI(e)}function PI(e){this._context=e}PI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=v3(e),i=v3(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function v3(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function OG(e){return new PI(e)}function hv(e,t){this._context=e,this._t=t}hv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function IG(e){return new hv(e,.5)}function LG(e){return new hv(e,0)}function RG(e){return new hv(e,1)}function Gd(e,t){if((o=e.length)>1)for(var r=1,n,i,s=e[t[0]],o,l=s.length;r<o;++r)for(i=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Cw(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function MG(e,t){return e[t]}function DG(e){const t=[];return t.key=e,t}function $G(){var e=Nr([]),t=Cw,r=Gd,n=MG;function i(s){var o=Array.from(e.apply(this,arguments),DG),l,c=o.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,s)]).data=f;for(l=0,d=A5(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Nr(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Nr(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?Cw:typeof s=="function"?s:Nr(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??Gd,i):r},i}function FG(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}Gd(e,t)}}function BG(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var o=0,l=0;o<i;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Gd(e,t)}}function UG(e,t){if(!(!((o=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,m=d[n-1][1]||0,h=(f-m)/2,p=0;p<l;++p){var y=e[t[p]],v=y[n][1]||0,x=y[n-1][1]||0;h+=v-x}c+=f,u+=h*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,Gd(e,t)}}function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}var zG=["type","size","sizeType"];function kw(){return kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kw.apply(this,arguments)}function b3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function w3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b3(Object(r),!0).forEach(function(n){qG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qG(e,t,r){return t=HG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HG(e){var t=VG(e,"string");return Dm(t)=="symbol"?t:t+""}function VG(e,t){if(Dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WG(e,t){if(e==null)return{};var r=GG(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var TI={symbolCircle:E5,symbolCross:mG,symbolDiamond:gG,symbolSquare:xG,symbolStar:wG,symbolTriangle:NG,symbolWye:SG},YG=Math.PI/180,KG=function(t){var r="symbol".concat(uv(t));return TI[r]||E5},XG=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*YG;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},JG=function(t,r){TI["symbol".concat(uv(t))]=r},_5=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,s=i===void 0?64:i,o=t.sizeType,l=o===void 0?"area":o,c=WG(t,zG),u=w3(w3({},c),{},{type:n,size:s,sizeType:l}),d=function(){var v=KG(n),x=AG().type(v).size(XG(s,l,n));return x()},f=u.className,m=u.cx,h=u.cy,p=ut(u,!0);return m===+m&&h===+h&&s===+s?ce.createElement("path",kw({},p,{className:yt("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:d()})):null};_5.registerSymbol=JG;function Yd(e){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yd(e)}function Ow(){return Ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ow.apply(this,arguments)}function N3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ZG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N3(Object(r),!0).forEach(function(n){$m(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kI(n.key),n)}}function tY(e,t,r){return t&&eY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rY(e,t,r){return t=Nx(t),nY(e,CI()?Reflect.construct(t,r||[],Nx(e).constructor):t.apply(e,r))}function nY(e,t){if(t&&(Yd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aY(e)}function aY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CI=function(){return!!e})()}function Nx(e){return Nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nx(e)}function iY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Iw(e,t)}function Iw(e,t){return Iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Iw(e,t)}function $m(e,t,r){return t=kI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kI(e){var t=sY(e,"string");return Yd(t)=="symbol"?t:t+""}function sY(e,t){if(Yd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ti=32,P5=function(e){function t(){return QG(this,t),rY(this,t,arguments)}return iY(t,e),tY(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=Ti/2,o=Ti/6,l=Ti/3,c=n.inactive?i:n.color;if(n.type==="plainline")return ce.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Ti,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return ce.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Ti,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return ce.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ti/8,"h").concat(Ti,"v").concat(Ti*3/4,"h").concat(-Ti,"z"),className:"recharts-legend-icon"});if(ce.isValidElement(n.legendIcon)){var u=ZG({},n);return delete u.legendIcon,ce.cloneElement(n.legendIcon,u)}return ce.createElement(_5,{fill:c,cx:s,cy:s,size:Ti,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Ti,height:Ti},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(h,p){var y=h.formatter||c,v=yt($m($m({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",h.inactive));if(h.type==="none")return null;var x=xt(h.value)?null:h.value;hs(!xt(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=h.inactive?u:h.color;return ce.createElement("li",Ow({className:v,style:f,key:"legend-item-".concat(p)},uu(n.props,h,p)),ce.createElement(jw,{width:o,height:o,viewBox:d,style:m},n.renderIcon(h)),ce.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},y?y(x,h,p):x))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return ce.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(L.PureComponent);$m(P5,"displayName","Legend");$m(P5,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var oY=Jy;function lY(){this.__data__=new oY,this.size=0}var cY=lY;function uY(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var dY=uY;function fY(e){return this.__data__.get(e)}var hY=fY;function mY(e){return this.__data__.has(e)}var pY=mY,gY=Jy,xY=p5,yY=g5,vY=200;function bY(e,t){var r=this.__data__;if(r instanceof gY){var n=r.__data__;if(!xY||n.length<vY-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new yY(n)}return r.set(e,t),this.size=r.size,this}var wY=bY,NY=Jy,jY=cY,SY=dY,AY=hY,EY=pY,_Y=wY;function Rf(e){var t=this.__data__=new NY(e);this.size=t.size}Rf.prototype.clear=jY;Rf.prototype.delete=SY;Rf.prototype.get=AY;Rf.prototype.has=EY;Rf.prototype.set=_Y;var OI=Rf,PY="__lodash_hash_undefined__";function TY(e){return this.__data__.set(e,PY),this}var CY=TY;function kY(e){return this.__data__.has(e)}var OY=kY,IY=g5,LY=CY,RY=OY;function jx(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new IY;++t<r;)this.add(e[t])}jx.prototype.add=jx.prototype.push=LY;jx.prototype.has=RY;var II=jx;function MY(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var LI=MY;function DY(e,t){return e.has(t)}var RI=DY,$Y=II,FY=LI,BY=RI,UY=1,zY=2;function qY(e,t,r,n,i,s){var o=r&UY,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,m=!0,h=r&zY?new $Y:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var p=e[f],y=t[f];if(n)var v=o?n(y,p,f,t,e,s):n(p,y,f,e,t,s);if(v!==void 0){if(v)continue;m=!1;break}if(h){if(!FY(t,function(x,b){if(!BY(h,b)&&(p===x||i(p,x,r,n,s)))return h.push(b)})){m=!1;break}}else if(!(p===y||i(p,y,r,n,s))){m=!1;break}}return s.delete(e),s.delete(t),m}var MI=qY,HY=Ks,VY=HY.Uint8Array,WY=VY;function GY(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var YY=GY;function KY(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var T5=KY,j3=Ip,S3=WY,XY=m5,JY=MI,ZY=YY,QY=T5,eK=1,tK=2,rK="[object Boolean]",nK="[object Date]",aK="[object Error]",iK="[object Map]",sK="[object Number]",oK="[object RegExp]",lK="[object Set]",cK="[object String]",uK="[object Symbol]",dK="[object ArrayBuffer]",fK="[object DataView]",A3=j3?j3.prototype:void 0,lb=A3?A3.valueOf:void 0;function hK(e,t,r,n,i,s,o){switch(r){case fK:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case dK:return!(e.byteLength!=t.byteLength||!s(new S3(e),new S3(t)));case rK:case nK:case sK:return XY(+e,+t);case aK:return e.name==t.name&&e.message==t.message;case oK:case cK:return e==t+"";case iK:var l=ZY;case lK:var c=n&eK;if(l||(l=QY),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=tK,o.set(e,t);var d=JY(l(e),l(t),n,i,s,o);return o.delete(e),d;case uK:if(lb)return lb.call(e)==lb.call(t)}return!1}var mK=hK;function pK(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var DI=pK,gK=DI,xK=Ya;function yK(e,t,r){var n=t(e);return xK(e)?n:gK(n,r(e))}var vK=yK;function bK(e,t){for(var r=-1,n=e==null?0:e.length,i=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[i++]=o)}return s}var wK=bK;function NK(){return[]}var jK=NK,SK=wK,AK=jK,EK=Object.prototype,_K=EK.propertyIsEnumerable,E3=Object.getOwnPropertySymbols,PK=E3?function(e){return e==null?[]:(e=Object(e),SK(E3(e),function(t){return _K.call(e,t)}))}:AK,TK=PK;function CK(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var kK=CK,OK=Ko,IK=Xo,LK="[object Arguments]";function RK(e){return IK(e)&&OK(e)==LK}var MK=RK,_3=MK,DK=Xo,$I=Object.prototype,$K=$I.hasOwnProperty,FK=$I.propertyIsEnumerable,BK=_3(function(){return arguments}())?_3:function(e){return DK(e)&&$K.call(e,"callee")&&!FK.call(e,"callee")},C5=BK,Sx={exports:{}};function UK(){return!1}var zK=UK;Sx.exports;(function(e,t){var r=Ks,n=zK,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Sx,Sx.exports);var FI=Sx.exports,qK=9007199254740991,HK=/^(?:0|[1-9]\d*)$/;function VK(e,t){var r=typeof e;return t=t??qK,!!t&&(r=="number"||r!="symbol"&&HK.test(e))&&e>-1&&e%1==0&&e<t}var k5=VK,WK=9007199254740991;function GK(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=WK}var O5=GK,YK=Ko,KK=O5,XK=Xo,JK="[object Arguments]",ZK="[object Array]",QK="[object Boolean]",eX="[object Date]",tX="[object Error]",rX="[object Function]",nX="[object Map]",aX="[object Number]",iX="[object Object]",sX="[object RegExp]",oX="[object Set]",lX="[object String]",cX="[object WeakMap]",uX="[object ArrayBuffer]",dX="[object DataView]",fX="[object Float32Array]",hX="[object Float64Array]",mX="[object Int8Array]",pX="[object Int16Array]",gX="[object Int32Array]",xX="[object Uint8Array]",yX="[object Uint8ClampedArray]",vX="[object Uint16Array]",bX="[object Uint32Array]",Pr={};Pr[fX]=Pr[hX]=Pr[mX]=Pr[pX]=Pr[gX]=Pr[xX]=Pr[yX]=Pr[vX]=Pr[bX]=!0;Pr[JK]=Pr[ZK]=Pr[uX]=Pr[QK]=Pr[dX]=Pr[eX]=Pr[tX]=Pr[rX]=Pr[nX]=Pr[aX]=Pr[iX]=Pr[sX]=Pr[oX]=Pr[lX]=Pr[cX]=!1;function wX(e){return XK(e)&&KK(e.length)&&!!Pr[YK(e)]}var NX=wX;function jX(e){return function(t){return e(t)}}var BI=jX,Ax={exports:{}};Ax.exports;(function(e,t){var r=GO,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Ax,Ax.exports);var SX=Ax.exports,AX=NX,EX=BI,P3=SX,T3=P3&&P3.isTypedArray,_X=T3?EX(T3):AX,UI=_X,PX=kK,TX=C5,CX=Ya,kX=FI,OX=k5,IX=UI,LX=Object.prototype,RX=LX.hasOwnProperty;function MX(e,t){var r=CX(e),n=!r&&TX(e),i=!r&&!n&&kX(e),s=!r&&!n&&!i&&IX(e),o=r||n||i||s,l=o?PX(e.length,String):[],c=l.length;for(var u in e)(t||RX.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||OX(u,c)))&&l.push(u);return l}var DX=MX,$X=Object.prototype;function FX(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||$X;return e===r}var BX=FX;function UX(e,t){return function(r){return e(t(r))}}var zI=UX,zX=zI,qX=zX(Object.keys,Object),HX=qX,VX=BX,WX=HX,GX=Object.prototype,YX=GX.hasOwnProperty;function KX(e){if(!VX(e))return WX(e);var t=[];for(var r in Object(e))YX.call(e,r)&&r!="constructor"&&t.push(r);return t}var XX=KX,JX=h5,ZX=O5;function QX(e){return e!=null&&ZX(e.length)&&!JX(e)}var Lp=QX,eJ=DX,tJ=XX,rJ=Lp;function nJ(e){return rJ(e)?eJ(e):tJ(e)}var mv=nJ,aJ=vK,iJ=TK,sJ=mv;function oJ(e){return aJ(e,sJ,iJ)}var lJ=oJ,C3=lJ,cJ=1,uJ=Object.prototype,dJ=uJ.hasOwnProperty;function fJ(e,t,r,n,i,s){var o=r&cJ,l=C3(e),c=l.length,u=C3(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var m=l[f];if(!(o?m in t:dJ.call(t,m)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var y=!0;s.set(e,t),s.set(t,e);for(var v=o;++f<c;){m=l[f];var x=e[m],b=t[m];if(n)var N=o?n(b,x,m,t,e,s):n(x,b,m,e,t,s);if(!(N===void 0?x===b||i(x,b,r,n,s):N)){y=!1;break}v||(v=m=="constructor")}if(y&&!v){var w=e.constructor,S=t.constructor;w!=S&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof S=="function"&&S instanceof S)&&(y=!1)}return s.delete(e),s.delete(t),y}var hJ=fJ,mJ=wu,pJ=Ks,gJ=mJ(pJ,"DataView"),xJ=gJ,yJ=wu,vJ=Ks,bJ=yJ(vJ,"Promise"),wJ=bJ,NJ=wu,jJ=Ks,SJ=NJ(jJ,"Set"),qI=SJ,AJ=wu,EJ=Ks,_J=AJ(EJ,"WeakMap"),PJ=_J,Lw=xJ,Rw=p5,Mw=wJ,Dw=qI,$w=PJ,HI=Ko,Mf=KO,k3="[object Map]",TJ="[object Object]",O3="[object Promise]",I3="[object Set]",L3="[object WeakMap]",R3="[object DataView]",CJ=Mf(Lw),kJ=Mf(Rw),OJ=Mf(Mw),IJ=Mf(Dw),LJ=Mf($w),Tc=HI;(Lw&&Tc(new Lw(new ArrayBuffer(1)))!=R3||Rw&&Tc(new Rw)!=k3||Mw&&Tc(Mw.resolve())!=O3||Dw&&Tc(new Dw)!=I3||$w&&Tc(new $w)!=L3)&&(Tc=function(e){var t=HI(e),r=t==TJ?e.constructor:void 0,n=r?Mf(r):"";if(n)switch(n){case CJ:return R3;case kJ:return k3;case OJ:return O3;case IJ:return I3;case LJ:return L3}return t});var RJ=Tc,cb=OI,MJ=MI,DJ=mK,$J=hJ,M3=RJ,D3=Ya,$3=FI,FJ=UI,BJ=1,F3="[object Arguments]",B3="[object Array]",Kg="[object Object]",UJ=Object.prototype,U3=UJ.hasOwnProperty;function zJ(e,t,r,n,i,s){var o=D3(e),l=D3(t),c=o?B3:M3(e),u=l?B3:M3(t);c=c==F3?Kg:c,u=u==F3?Kg:u;var d=c==Kg,f=u==Kg,m=c==u;if(m&&$3(e)){if(!$3(t))return!1;o=!0,d=!1}if(m&&!d)return s||(s=new cb),o||FJ(e)?MJ(e,t,r,n,i,s):DJ(e,t,c,r,n,i,s);if(!(r&BJ)){var h=d&&U3.call(e,"__wrapped__"),p=f&&U3.call(t,"__wrapped__");if(h||p){var y=h?e.value():e,v=p?t.value():t;return s||(s=new cb),i(y,v,r,n,s)}}return m?(s||(s=new cb),$J(e,t,r,n,i,s)):!1}var qJ=zJ,HJ=qJ,z3=Xo;function VI(e,t,r,n,i){return e===t?!0:e==null||t==null||!z3(e)&&!z3(t)?e!==e&&t!==t:HJ(e,t,r,n,VI,i)}var I5=VI,VJ=OI,WJ=I5,GJ=1,YJ=2;function KJ(e,t,r,n){var i=r.length,s=i,o=!n;if(e==null)return!s;for(e=Object(e);i--;){var l=r[i];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<s;){l=r[i];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new VJ;if(n)var m=n(u,d,c,e,t,f);if(!(m===void 0?WJ(d,u,GJ|YJ,n,f):m))return!1}}return!0}var XJ=KJ,JJ=ec;function ZJ(e){return e===e&&!JJ(e)}var WI=ZJ,QJ=WI,eZ=mv;function tZ(e){for(var t=eZ(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,QJ(i)]}return t}var rZ=tZ;function nZ(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var GI=nZ,aZ=XJ,iZ=rZ,sZ=GI;function oZ(e){var t=iZ(e);return t.length==1&&t[0][2]?sZ(t[0][0],t[0][1]):function(r){return r===e||aZ(r,e,t)}}var lZ=oZ;function cZ(e,t){return e!=null&&t in Object(e)}var uZ=cZ,dZ=eI,fZ=C5,hZ=Ya,mZ=k5,pZ=O5,gZ=Qy;function xZ(e,t,r){t=dZ(t,e);for(var n=-1,i=t.length,s=!1;++n<i;){var o=gZ(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=i?s:(i=e==null?0:e.length,!!i&&pZ(i)&&mZ(o,i)&&(hZ(e)||fZ(e)))}var yZ=xZ,vZ=uZ,bZ=yZ;function wZ(e,t){return e!=null&&bZ(e,t,vZ)}var NZ=wZ,jZ=I5,SZ=tI,AZ=NZ,EZ=f5,_Z=WI,PZ=GI,TZ=Qy,CZ=1,kZ=2;function OZ(e,t){return EZ(e)&&_Z(t)?PZ(TZ(e),t):function(r){var n=SZ(r,e);return n===void 0&&n===t?AZ(r,e):jZ(t,n,CZ|kZ)}}var IZ=OZ;function LZ(e){return e}var Df=LZ;function RZ(e){return function(t){return t==null?void 0:t[e]}}var MZ=RZ,DZ=v5;function $Z(e){return function(t){return DZ(t,e)}}var FZ=$Z,BZ=MZ,UZ=FZ,zZ=f5,qZ=Qy;function HZ(e){return zZ(e)?BZ(qZ(e)):UZ(e)}var VZ=HZ,WZ=lZ,GZ=IZ,YZ=Df,KZ=Ya,XZ=VZ;function JZ(e){return typeof e=="function"?e:e==null?YZ:typeof e=="object"?KZ(e)?GZ(e[0],e[1]):WZ(e):XZ(e)}var Xs=JZ;function ZZ(e,t,r,n){for(var i=e.length,s=r+(n?1:-1);n?s--:++s<i;)if(t(e[s],s,e))return s;return-1}var YI=ZZ;function QZ(e){return e!==e}var eQ=QZ;function tQ(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var rQ=tQ,nQ=YI,aQ=eQ,iQ=rQ;function sQ(e,t,r){return t===t?iQ(e,t,r):nQ(e,aQ,r)}var oQ=sQ,lQ=oQ;function cQ(e,t){var r=e==null?0:e.length;return!!r&&lQ(e,t,0)>-1}var uQ=cQ;function dQ(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var fQ=dQ;function hQ(){}var mQ=hQ,ub=qI,pQ=mQ,gQ=T5,xQ=1/0,yQ=ub&&1/gQ(new ub([,-0]))[1]==xQ?function(e){return new ub(e)}:pQ,vQ=yQ,bQ=II,wQ=uQ,NQ=fQ,jQ=RI,SQ=vQ,AQ=T5,EQ=200;function _Q(e,t,r){var n=-1,i=wQ,s=e.length,o=!0,l=[],c=l;if(r)o=!1,i=NQ;else if(s>=EQ){var u=t?null:SQ(e);if(u)return AQ(u);o=!1,i=jQ,c=new bQ}else c=t?[]:l;e:for(;++n<s;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var m=c.length;m--;)if(c[m]===f)continue e;t&&c.push(f),l.push(d)}else i(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var PQ=_Q,TQ=Xs,CQ=PQ;function kQ(e,t){return e&&e.length?CQ(e,TQ(t)):[]}var OQ=kQ;const q3=lr(OQ);function KI(e,t,r){return t===!0?q3(e,r):xt(t)?q3(e,t):e}function Kd(e){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kd(e)}var IQ=["ref"];function H3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H3(Object(r),!0).forEach(function(n){pv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JI(n.key),n)}}function RQ(e,t,r){return t&&V3(e.prototype,t),r&&V3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function MQ(e,t,r){return t=Ex(t),DQ(e,XI()?Reflect.construct(t,r||[],Ex(e).constructor):t.apply(e,r))}function DQ(e,t){if(t&&(Kd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Q(e)}function $Q(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XI=function(){return!!e})()}function Ex(e){return Ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ex(e)}function FQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fw(e,t)}function Fw(e,t){return Fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Fw(e,t)}function pv(e,t,r){return t=JI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JI(e){var t=BQ(e,"string");return Kd(t)=="symbol"?t:t+""}function BQ(e,t){if(Kd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function UQ(e,t){if(e==null)return{};var r=zQ(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qQ(e){return e.value}function HQ(e,t){if(ce.isValidElement(e))return ce.cloneElement(e,t);if(typeof e=="function")return ce.createElement(e,t);t.ref;var r=UQ(t,IQ);return ce.createElement(P5,r)}var W3=1,Pd=function(e){function t(){var r;LQ(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=MQ(this,t,[].concat(i)),pv(r,"lastBoundingBox",{width:-1,height:-1}),r}return FQ(t,e),RQ(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>W3||Math.abs(i.height-this.lastBoundingBox.height)>W3)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?mo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var p=this.getBBoxSnapshot();m={top:((d||0)-p.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return mo(mo({},f),m)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=mo(mo({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ce.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},HQ(s,mo(mo({},this.props),{},{payload:KI(d,u,qQ)})))}}],[{key:"getWithHeight",value:function(n,i){var s=mo(mo({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&He(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(L.PureComponent);pv(Pd,"displayName","Legend");pv(Pd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var G3=Ip,VQ=C5,WQ=Ya,Y3=G3?G3.isConcatSpreadable:void 0;function GQ(e){return WQ(e)||VQ(e)||!!(Y3&&e&&e[Y3])}var YQ=GQ,KQ=DI,XQ=YQ;function ZI(e,t,r,n,i){var s=-1,o=e.length;for(r||(r=XQ),i||(i=[]);++s<o;){var l=e[s];t>0&&r(l)?t>1?ZI(l,t-1,r,n,i):KQ(i,l):n||(i[i.length]=l)}return i}var QI=ZI;function JQ(e){return function(t,r,n){for(var i=-1,s=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++i];if(r(s[c],c,s)===!1)break}return t}}var ZQ=JQ,QQ=ZQ,eee=QQ(),tee=eee,ree=tee,nee=mv;function aee(e,t){return e&&ree(e,t,nee)}var eL=aee,iee=Lp;function see(e,t){return function(r,n){if(r==null)return r;if(!iee(r))return e(r,n);for(var i=r.length,s=t?i:-1,o=Object(r);(t?s--:++s<i)&&n(o[s],s,o)!==!1;);return r}}var oee=see,lee=eL,cee=oee,uee=cee(lee),L5=uee,dee=L5,fee=Lp;function hee(e,t){var r=-1,n=fee(e)?Array(e.length):[];return dee(e,function(i,s,o){n[++r]=t(i,s,o)}),n}var tL=hee;function mee(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var pee=mee,K3=Tf;function gee(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,s=K3(e),o=t!==void 0,l=t===null,c=t===t,u=K3(t);if(!l&&!u&&!s&&e>t||s&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!i)return 1;if(!n&&!s&&!u&&e<t||u&&r&&i&&!n&&!s||l&&r&&i||!o&&i||!c)return-1}return 0}var xee=gee,yee=xee;function vee(e,t,r){for(var n=-1,i=e.criteria,s=t.criteria,o=i.length,l=r.length;++n<o;){var c=yee(i[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var bee=vee,db=y5,wee=v5,Nee=Xs,jee=tL,See=pee,Aee=BI,Eee=bee,_ee=Df,Pee=Ya;function Tee(e,t,r){t.length?t=db(t,function(s){return Pee(s)?function(o){return wee(o,s.length===1?s[0]:s)}:s}):t=[_ee];var n=-1;t=db(t,Aee(Nee));var i=jee(e,function(s,o,l){var c=db(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return See(i,function(s,o){return Eee(s,o,r)})}var Cee=Tee;function kee(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Oee=kee,Iee=Oee,X3=Math.max;function Lee(e,t,r){return t=X3(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=X3(n.length-t,0),o=Array(s);++i<s;)o[i]=n[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=n[i];return l[t]=r(o),Iee(e,this,l)}}var Ree=Lee;function Mee(e){return function(){return e}}var Dee=Mee,$ee=wu,Fee=function(){try{var e=$ee(Object,"defineProperty");return e({},"",{}),e}catch{}}(),rL=Fee,Bee=Dee,J3=rL,Uee=Df,zee=J3?function(e,t){return J3(e,"toString",{configurable:!0,enumerable:!1,value:Bee(t),writable:!0})}:Uee,qee=zee,Hee=800,Vee=16,Wee=Date.now;function Gee(e){var t=0,r=0;return function(){var n=Wee(),i=Vee-(n-r);if(r=n,i>0){if(++t>=Hee)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Yee=Gee,Kee=qee,Xee=Yee,Jee=Xee(Kee),Zee=Jee,Qee=Df,ete=Ree,tte=Zee;function rte(e,t){return tte(ete(e,t,Qee),e+"")}var nte=rte,ate=m5,ite=Lp,ste=k5,ote=ec;function lte(e,t,r){if(!ote(r))return!1;var n=typeof t;return(n=="number"?ite(r)&&ste(t,r.length):n=="string"&&t in r)?ate(r[t],e):!1}var gv=lte,cte=QI,ute=Cee,dte=nte,Z3=gv,fte=dte(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Z3(e,t[0],t[1])?t=[]:r>2&&Z3(t[0],t[1],t[2])&&(t=[t[0]]),ute(e,cte(t,1),[])}),hte=fte;const R5=lr(hte);function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}function Bw(){return Bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bw.apply(this,arguments)}function mte(e,t){return yte(e)||xte(e,t)||gte(e,t)||pte()}function pte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gte(e,t){if(e){if(typeof e=="string")return Q3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q3(e,t)}}function Q3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xte(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function yte(e){if(Array.isArray(e))return e}function eE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eE(Object(r),!0).forEach(function(n){vte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vte(e,t,r){return t=bte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bte(e){var t=wte(e,"string");return Fm(t)=="symbol"?t:t+""}function wte(e,t){if(Fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nte(e){return Array.isArray(e)&&_n(e[0])&&_n(e[1])?e.join(" ~ "):e}var jte=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,s=i===void 0?{}:i,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,m=t.itemSorter,h=t.wrapperClassName,p=t.labelClassName,y=t.label,v=t.labelFormatter,x=t.accessibilityLayer,b=x===void 0?!1:x,N=function(){if(d&&d.length){var I={padding:0,margin:0},$=(m?R5(d,m):d).map(function(_,M){if(_.type==="none")return null;var z=fb({display:"block",paddingTop:4,paddingBottom:4,color:_.color||"#000"},l),Z=_.formatter||f||Nte,R=_.value,U=_.name,re=R,de=U;if(Z&&re!=null&&de!=null){var B=Z(R,U,_,M,d);if(Array.isArray(B)){var G=mte(B,2);re=G[0],de=G[1]}else re=B}return ce.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:z},_n(de)?ce.createElement("span",{className:"recharts-tooltip-item-name"},de):null,_n(de)?ce.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ce.createElement("span",{className:"recharts-tooltip-item-value"},re),ce.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return ce.createElement("ul",{className:"recharts-tooltip-item-list",style:I},$)}return null},w=fb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),S=fb({margin:0},u),E=!jt(y),C=E?y:"",k=yt("recharts-default-tooltip",h),P=yt("recharts-tooltip-label",p);E&&v&&d!==void 0&&d!==null&&(C=v(y,d));var D=b?{role:"status","aria-live":"assertive"}:{};return ce.createElement("div",Bw({className:k,style:w},D),ce.createElement("p",{className:P,style:S},ce.isValidElement(C)?C:"".concat(C)),N())};function Bm(e){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bm(e)}function Xg(e,t,r){return t=Ste(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ste(e){var t=Ate(e,"string");return Bm(t)=="symbol"?t:t+""}function Ate(e,t){if(Bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ph="recharts-tooltip-wrapper",Ete={visibility:"hidden"};function _te(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return yt(Ph,Xg(Xg(Xg(Xg({},"".concat(Ph,"-right"),He(r)&&t&&He(t.x)&&r>=t.x),"".concat(Ph,"-left"),He(r)&&t&&He(t.x)&&r<t.x),"".concat(Ph,"-bottom"),He(n)&&t&&He(t.y)&&n>=t.y),"".concat(Ph,"-top"),He(n)&&t&&He(t.y)&&n<t.y))}function tE(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&He(s[n]))return s[n];var d=r[n]-l-i,f=r[n]+i;if(t[n])return o[n]?d:f;if(o[n]){var m=d,h=c[n];return m<h?Math.max(f,c[n]):Math.max(d,c[n])}var p=f+l,y=c[n]+u;return p>y?Math.max(d,c[n]):Math.max(f,c[n])}function Pte(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Tte(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=tE({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=tE({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Pte({translateX:d,translateY:f,useTranslate3d:l})):u=Ete,{cssProperties:u,cssClasses:_te({translateX:d,translateY:f,coordinate:r})}}function Xd(e){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xd(e)}function rE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rE(Object(r),!0).forEach(function(n){zw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aL(n.key),n)}}function Ote(e,t,r){return t&&kte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ite(e,t,r){return t=_x(t),Lte(e,nL()?Reflect.construct(t,r||[],_x(e).constructor):t.apply(e,r))}function Lte(e,t){if(t&&(Xd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rte(e)}function Rte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nL=function(){return!!e})()}function _x(e){return _x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_x(e)}function Mte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uw(e,t)}function Uw(e,t){return Uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Uw(e,t)}function zw(e,t,r){return t=aL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aL(e){var t=Dte(e,"string");return Xd(t)=="symbol"?t:t+""}function Dte(e,t){if(Xd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var aE=1,$te=function(e){function t(){var r;Cte(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Ite(this,t,[].concat(i)),zw(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),zw(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Mte(t,e),Ote(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>aE||Math.abs(n.height-this.state.lastBoundingBox.height)>aE)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,m=i.isAnimationActive,h=i.offset,p=i.position,y=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,b=i.wrapperStyle,N=Tte({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:h,position:p,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),w=N.cssClasses,S=N.cssProperties,E=nE(nE({transition:m&&s?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return ce.createElement("div",{tabIndex:-1,className:w,style:E,ref:function(k){n.wrapperNode=k}},u)}}])}(L.PureComponent),Fte=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},tc={isSsr:Fte()};function Jd(e){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jd(e)}function iE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iE(Object(r),!0).forEach(function(n){M5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ute(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sL(n.key),n)}}function zte(e,t,r){return t&&Ute(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qte(e,t,r){return t=Px(t),Hte(e,iL()?Reflect.construct(t,r||[],Px(e).constructor):t.apply(e,r))}function Hte(e,t){if(t&&(Jd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vte(e)}function Vte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iL=function(){return!!e})()}function Px(e){return Px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Px(e)}function Wte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qw(e,t)}function qw(e,t){return qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qw(e,t)}function M5(e,t,r){return t=sL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sL(e){var t=Gte(e,"string");return Jd(t)=="symbol"?t:t+""}function Gte(e,t){if(Jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Yte(e){return e.dataKey}function Kte(e,t){return ce.isValidElement(e)?ce.cloneElement(e,t):typeof e=="function"?ce.createElement(e,t):ce.createElement(jte,t)}var $a=function(e){function t(){return Bte(this,t),qte(this,t,arguments)}return Wte(t,e),zte(t,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,m=i.isAnimationActive,h=i.offset,p=i.payload,y=i.payloadUniqBy,v=i.position,x=i.reverseDirection,b=i.useTranslate3d,N=i.viewBox,w=i.wrapperStyle,S=p??[];f&&S.length&&(S=KI(p.filter(function(C){return C.value!=null&&(C.hide!==!0||n.props.includeHidden)}),y,Yte));var E=S.length>0;return ce.createElement($te,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:s,coordinate:d,hasPayload:E,offset:h,position:v,reverseDirection:x,useTranslate3d:b,viewBox:N,wrapperStyle:w},Kte(u,sE(sE({},this.props),{},{payload:S})))}}])}(L.PureComponent);M5($a,"displayName","Tooltip");M5($a,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!tc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Xte=Ks,Jte=function(){return Xte.Date.now()},Zte=Jte,Qte=/\s/;function ere(e){for(var t=e.length;t--&&Qte.test(e.charAt(t)););return t}var tre=ere,rre=tre,nre=/^\s+/;function are(e){return e&&e.slice(0,rre(e)+1).replace(nre,"")}var ire=are,sre=ire,oE=ec,ore=Tf,lE=NaN,lre=/^[-+]0x[0-9a-f]+$/i,cre=/^0b[01]+$/i,ure=/^0o[0-7]+$/i,dre=parseInt;function fre(e){if(typeof e=="number")return e;if(ore(e))return lE;if(oE(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=oE(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=sre(e);var r=cre.test(e);return r||ure.test(e)?dre(e.slice(2),r?2:8):lre.test(e)?lE:+e}var oL=fre,hre=ec,hb=Zte,cE=oL,mre="Expected a function",pre=Math.max,gre=Math.min;function xre(e,t,r){var n,i,s,o,l,c,u=0,d=!1,f=!1,m=!0;if(typeof e!="function")throw new TypeError(mre);t=cE(t)||0,hre(r)&&(d=!!r.leading,f="maxWait"in r,s=f?pre(cE(r.maxWait)||0,t):s,m="trailing"in r?!!r.trailing:m);function h(E){var C=n,k=i;return n=i=void 0,u=E,o=e.apply(k,C),o}function p(E){return u=E,l=setTimeout(x,t),d?h(E):o}function y(E){var C=E-c,k=E-u,P=t-C;return f?gre(P,s-k):P}function v(E){var C=E-c,k=E-u;return c===void 0||C>=t||C<0||f&&k>=s}function x(){var E=hb();if(v(E))return b(E);l=setTimeout(x,y(E))}function b(E){return l=void 0,m&&n?h(E):(n=i=void 0,o)}function N(){l!==void 0&&clearTimeout(l),u=0,n=c=i=l=void 0}function w(){return l===void 0?o:b(hb())}function S(){var E=hb(),C=v(E);if(n=arguments,i=this,c=E,C){if(l===void 0)return p(c);if(f)return clearTimeout(l),l=setTimeout(x,t),h(c)}return l===void 0&&(l=setTimeout(x,t)),o}return S.cancel=N,S.flush=w,S}var yre=xre,vre=yre,bre=ec,wre="Expected a function";function Nre(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(wre);return bre(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),vre(e,t,{leading:n,maxWait:t,trailing:i})}var jre=Nre;const lL=lr(jre);function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}function uE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uE(Object(r),!0).forEach(function(n){Sre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sre(e,t,r){return t=Are(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Are(e){var t=Ere(e,"string");return Um(t)=="symbol"?t:t+""}function Ere(e,t){if(Um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _re(e,t){return kre(e)||Cre(e,t)||Tre(e,t)||Pre()}function Pre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tre(e,t){if(e){if(typeof e=="string")return dE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dE(e,t)}}function dE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Cre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function kre(e){if(Array.isArray(e))return e}var Vh=L.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,m=e.maxHeight,h=e.children,p=e.debounce,y=p===void 0?0:p,v=e.id,x=e.className,b=e.onResize,N=e.style,w=N===void 0?{}:N,S=L.useRef(null),E=L.useRef();E.current=b,L.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var C=L.useState({containerWidth:i.width,containerHeight:i.height}),k=_re(C,2),P=k[0],D=k[1],A=L.useCallback(function($,_){D(function(M){var z=Math.round($),Z=Math.round(_);return M.containerWidth===z&&M.containerHeight===Z?M:{containerWidth:z,containerHeight:Z}})},[]);L.useEffect(function(){var $=function(U){var re,de=U[0].contentRect,B=de.width,G=de.height;A(B,G),(re=E.current)===null||re===void 0||re.call(E,B,G)};y>0&&($=lL($,y,{trailing:!0,leading:!1}));var _=new ResizeObserver($),M=S.current.getBoundingClientRect(),z=M.width,Z=M.height;return A(z,Z),_.observe(S.current),function(){_.disconnect()}},[A,y]);var I=L.useMemo(function(){var $=P.containerWidth,_=P.containerHeight;if($<0||_<0)return null;hs(Bc(o)||Bc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),hs(!r||r>0,"The aspect(%s) must be greater than zero.",r);var M=Bc(o)?$:o,z=Bc(c)?_:c;r&&r>0&&(M?z=M/r:z&&(M=z*r),m&&z>m&&(z=m)),hs(M>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,z,o,c,d,f,r);var Z=!Array.isArray(h)&&Io(h.type).endsWith("Chart");return ce.Children.map(h,function(R){return ce.isValidElement(R)?L.cloneElement(R,Jg({width:M,height:z},Z?{style:Jg({height:"100%",width:"100%",maxHeight:z,maxWidth:M},R.props.style)}:{})):R})},[r,h,c,m,f,d,P,o]);return ce.createElement("div",{id:v?"".concat(v):void 0,className:yt("recharts-responsive-container",x),style:Jg(Jg({},w),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:S},I)}),xv=function(t){return null};xv.displayName="Cell";function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}function fE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fE(Object(r),!0).forEach(function(n){Ore(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ore(e,t,r){return t=Ire(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ire(e){var t=Lre(e,"string");return zm(t)=="symbol"?t:t+""}function Lre(e,t){if(zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hu={widthCache:{},cacheCount:0},Rre=2e3,Mre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},hE="recharts_measurement_span";function Dre(e){var t=Hw({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var am=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||tc.isSsr)return{width:0,height:0};var n=Dre(r),i=JSON.stringify({text:t,copyStyle:n});if(Hu.widthCache[i])return Hu.widthCache[i];try{var s=document.getElementById(hE);s||(s=document.createElement("span"),s.setAttribute("id",hE),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=Hw(Hw({},Mre),n);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Hu.widthCache[i]=c,++Hu.cacheCount>Rre&&(Hu.cacheCount=0,Hu.widthCache={}),c}catch{return{width:0,height:0}}},$re=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qm(e)}function Tx(e,t){return zre(e)||Ure(e,t)||Bre(e,t)||Fre()}function Fre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bre(e,t){if(e){if(typeof e=="string")return mE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mE(e,t)}}function mE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ure(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function zre(e){if(Array.isArray(e))return e}function qre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vre(n.key),n)}}function Hre(e,t,r){return t&&pE(e.prototype,t),r&&pE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vre(e){var t=Wre(e,"string");return qm(t)=="symbol"?t:t+""}function Wre(e,t){if(qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Gre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Yre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,cL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Kre=Object.keys(cL),pd="NaN";function Xre(e,t){return e*cL[t]}var Zg=function(){function e(t,r){qre(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Gre.test(r)&&(this.num=NaN,this.unit=""),Kre.includes(r)&&(this.num=Xre(t,r),this.unit="px")}return Hre(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Yre.exec(r))!==null&&n!==void 0?n:[],s=Tx(i,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])}();function uL(e){if(e.includes(pd))return pd;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=gE.exec(t))!==null&&r!==void 0?r:[],i=Tx(n,4),s=i[1],o=i[2],l=i[3],c=Zg.parse(s??""),u=Zg.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return pd;t=t.replace(gE,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,m=(f=xE.exec(t))!==null&&f!==void 0?f:[],h=Tx(m,4),p=h[1],y=h[2],v=h[3],x=Zg.parse(p??""),b=Zg.parse(v??""),N=y==="+"?x.add(b):x.subtract(b);if(N.isNaN())return pd;t=t.replace(xE,N.toString())}return t}var yE=/\(([^()]*)\)/;function Jre(e){for(var t=e;t.includes("(");){var r=yE.exec(t),n=Tx(r,2),i=n[1];t=t.replace(yE,uL(i))}return t}function Zre(e){var t=e.replace(/\s+/g,"");return t=Jre(t),t=uL(t),t}function Qre(e){try{return Zre(e)}catch{return pd}}function mb(e){var t=Qre(e.slice(5,-1));return t===pd?"":t}var ene=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],tne=["dx","dy","angle","className","breakAll"];function Vw(){return Vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vw.apply(this,arguments)}function vE(e,t){if(e==null)return{};var r=rne(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bE(e,t){return sne(e)||ine(e,t)||ane(e,t)||nne()}function nne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ane(e,t){if(e){if(typeof e=="string")return wE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wE(e,t)}}function wE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ine(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function sne(e){if(Array.isArray(e))return e}var dL=/[ \f\n\r\t\v\u2028\u2029]+/,fL=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var s=[];jt(r)||(n?s=r.toString().split(""):s=r.toString().split(dL));var o=s.map(function(c){return{word:c,width:am(c,i).width}}),l=n?0:am("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},one=function(t,r,n,i,s){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=He(o),f=l,m=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function(z,Z){var R=Z.word,U=Z.width,re=z[z.length-1];if(re&&(i==null||s||re.width+U+n<Number(i)))re.words.push(R),re.width+=U+n;else{var de={words:[R],width:U};z.push(de)}return z},[])},h=m(r),p=function(M){return M.reduce(function(z,Z){return z.width>Z.width?z:Z})};if(!d)return h;for(var y="",v=function(M){var z=f.slice(0,M),Z=fL({breakAll:u,style:c,children:z+y}).wordsWithComputedWidth,R=m(Z),U=R.length>o||p(R).width>Number(i);return[U,R]},x=0,b=f.length-1,N=0,w;x<=b&&N<=f.length-1;){var S=Math.floor((x+b)/2),E=S-1,C=v(E),k=bE(C,2),P=k[0],D=k[1],A=v(S),I=bE(A,1),$=I[0];if(!P&&!$&&(x=S+1),P&&$&&(b=S-1),!P&&$){w=D;break}N++}return w||h},NE=function(t){var r=jt(t)?[]:t.toString().split(dL);return[{words:r}]},lne=function(t){var r=t.width,n=t.scaleToFit,i=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!tc.isSsr){var c,u,d=fL({breakAll:o,children:i,style:s});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return NE(i);return one({breakAll:o,children:i,maxLines:l,style:s},c,u,r,n)}return NE(i)},jE="#808080",du=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,m=t.textAnchor,h=m===void 0?"start":m,p=t.verticalAnchor,y=p===void 0?"end":p,v=t.fill,x=v===void 0?jE:v,b=vE(t,ene),N=L.useMemo(function(){return lne({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),w=b.dx,S=b.dy,E=b.angle,C=b.className,k=b.breakAll,P=vE(b,tne);if(!_n(n)||!_n(s))return null;var D=n+(He(w)?w:0),A=s+(He(S)?S:0),I;switch(y){case"start":I=mb("calc(".concat(u,")"));break;case"middle":I=mb("calc(".concat((N.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:I=mb("calc(".concat(N.length-1," * -").concat(l,")"));break}var $=[];if(f){var _=N[0].width,M=b.width;$.push("scale(".concat((He(M)?M/_:1)/_,")"))}return E&&$.push("rotate(".concat(E,", ").concat(D,", ").concat(A,")")),$.length&&(P.transform=$.join(" ")),ce.createElement("text",Vw({},ut(P,!0),{x:D,y:A,className:yt("recharts-text",C),textAnchor:h,fill:x.includes("url")?jE:x}),N.map(function(z,Z){var R=z.words.join(k?"":" ");return ce.createElement("tspan",{x:D,dy:Z===0?I:l,key:"".concat(R,"-").concat(Z)},R)}))};function Hl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cne(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function D5(e){let t,r,n;e.length!==2?(t=Hl,r=(l,c)=>Hl(e(l),c),n=(l,c)=>e(l)-c):(t=e===Hl||e===cne?e:une,r=e,n=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:i,center:o,right:s}}function une(){return 0}function hL(e){return e===null?NaN:+e}function*dne(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const fne=D5(Hl),Rp=fne.right;D5(hL).center;class SE extends Map{constructor(t,r=pne){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(AE(this,t))}has(t){return super.has(AE(this,t))}set(t,r){return super.set(hne(this,t),r)}delete(t){return super.delete(mne(this,t))}}function AE({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function hne({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function mne({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function pne(e){return e!==null&&typeof e=="object"?e.valueOf():e}function gne(e=Hl){if(e===Hl)return mL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function mL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const xne=Math.sqrt(50),yne=Math.sqrt(10),vne=Math.sqrt(2);function Cx(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=xne?10:s>=yne?5:s>=vne?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Cx(e,t,r*2):[l,c,u]}function Ww(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,o]=n?Cx(t,e,r):Cx(e,t,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function Gw(e,t,r){return t=+t,e=+e,r=+r,Cx(e,t,r)[2]}function Yw(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Gw(t,e,r):Gw(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function EE(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function _E(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function pL(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?mL:gne(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(t-u*f/c+m)),p=Math.min(n,Math.floor(t+(c-u)*f/c+m));pL(e,t,h,p,i)}const s=e[t];let o=r,l=n;for(Th(e,r,t),i(e[n],s)>0&&Th(e,r,n);o<l;){for(Th(e,o,l),++o,--l;i(e[o],s)<0;)++o;for(;i(e[l],s)>0;)--l}i(e[r],s)===0?Th(e,r,l):(++l,Th(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Th(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function bne(e,t,r){if(e=Float64Array.from(dne(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return _E(e);if(t>=1)return EE(e);var n,i=(n-1)*t,s=Math.floor(i),o=EE(pL(e,s).subarray(0,s+1)),l=_E(e.subarray(s+1));return o+(l-o)*(i-s)}}function wne(e,t,r=hL){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(i-s)}}function Nne(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function Hi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Jo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Kw=Symbol("implicit");function $5(){var e=new SE,t=[],r=[],n=Kw;function i(s){let o=e.get(s);if(o===void 0){if(n!==Kw)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new SE;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return $5(t,r).unknown(n)},Hi.apply(i,arguments),i}function Hm(){var e=$5().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var m=t().length,h=i<n,p=h?i:n,y=h?n:i;s=(y-p)/Math.max(1,m-c+u*2),l&&(s=Math.floor(s)),p+=(y-p-s*(m-c))*d,o=s*(1-c),l&&(p=Math.round(p),o=Math.round(o));var v=Nne(m).map(function(x){return p+s*x});return r(h?v.reverse():v)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([n,i]=m,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(m){return[n,i]=m,n=+n,i=+i,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(m){return arguments.length?(l=!!m,f()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},e.copy=function(){return Hm(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},Hi.apply(f(),arguments)}function gL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return gL(t())},e}function im(){return gL(Hm.apply(null,arguments).paddingInner(1))}function F5(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function xL(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Mp(){}var Vm=.7,kx=1/Vm,Td="\\s*([+-]?\\d+)\\s*",Wm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jne=/^#([0-9a-f]{3,8})$/,Sne=new RegExp(`^rgb\\(${Td},${Td},${Td}\\)$`),Ane=new RegExp(`^rgb\\(${Vs},${Vs},${Vs}\\)$`),Ene=new RegExp(`^rgba\\(${Td},${Td},${Td},${Wm}\\)$`),_ne=new RegExp(`^rgba\\(${Vs},${Vs},${Vs},${Wm}\\)$`),Pne=new RegExp(`^hsl\\(${Wm},${Vs},${Vs}\\)$`),Tne=new RegExp(`^hsla\\(${Wm},${Vs},${Vs},${Wm}\\)$`),PE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};F5(Mp,Gm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:TE,formatHex:TE,formatHex8:Cne,formatHsl:kne,formatRgb:CE,toString:CE});function TE(){return this.rgb().formatHex()}function Cne(){return this.rgb().formatHex8()}function kne(){return yL(this).formatHsl()}function CE(){return this.rgb().formatRgb()}function Gm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=jne.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?kE(t):r===3?new za(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Qg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Qg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Sne.exec(e))?new za(t[1],t[2],t[3],1):(t=Ane.exec(e))?new za(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ene.exec(e))?Qg(t[1],t[2],t[3],t[4]):(t=_ne.exec(e))?Qg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Pne.exec(e))?LE(t[1],t[2]/100,t[3]/100,1):(t=Tne.exec(e))?LE(t[1],t[2]/100,t[3]/100,t[4]):PE.hasOwnProperty(e)?kE(PE[e]):e==="transparent"?new za(NaN,NaN,NaN,0):null}function kE(e){return new za(e>>16&255,e>>8&255,e&255,1)}function Qg(e,t,r,n){return n<=0&&(e=t=r=NaN),new za(e,t,r,n)}function One(e){return e instanceof Mp||(e=Gm(e)),e?(e=e.rgb(),new za(e.r,e.g,e.b,e.opacity)):new za}function Xw(e,t,r,n){return arguments.length===1?One(e):new za(e,t,r,n??1)}function za(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}F5(za,Xw,xL(Mp,{brighter(e){return e=e==null?kx:Math.pow(kx,e),new za(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Vm:Math.pow(Vm,e),new za(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new za(Xc(this.r),Xc(this.g),Xc(this.b),Ox(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:OE,formatHex:OE,formatHex8:Ine,formatRgb:IE,toString:IE}));function OE(){return`#${Uc(this.r)}${Uc(this.g)}${Uc(this.b)}`}function Ine(){return`#${Uc(this.r)}${Uc(this.g)}${Uc(this.b)}${Uc((isNaN(this.opacity)?1:this.opacity)*255)}`}function IE(){const e=Ox(this.opacity);return`${e===1?"rgb(":"rgba("}${Xc(this.r)}, ${Xc(this.g)}, ${Xc(this.b)}${e===1?")":`, ${e})`}`}function Ox(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Xc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Uc(e){return e=Xc(e),(e<16?"0":"")+e.toString(16)}function LE(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new cs(e,t,r,n)}function yL(e){if(e instanceof cs)return new cs(e.h,e.s,e.l,e.opacity);if(e instanceof Mp||(e=Gm(e)),!e)return new cs;if(e instanceof cs)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-i,c=(s+i)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new cs(o,l,c,e.opacity)}function Lne(e,t,r,n){return arguments.length===1?yL(e):new cs(e,t,r,n??1)}function cs(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}F5(cs,Lne,xL(Mp,{brighter(e){return e=e==null?kx:Math.pow(kx,e),new cs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Vm:Math.pow(Vm,e),new cs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new za(pb(e>=240?e-240:e+120,i,n),pb(e,i,n),pb(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new cs(RE(this.h),e0(this.s),e0(this.l),Ox(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ox(this.opacity);return`${e===1?"hsl(":"hsla("}${RE(this.h)}, ${e0(this.s)*100}%, ${e0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function RE(e){return e=(e||0)%360,e<0?e+360:e}function e0(e){return Math.max(0,Math.min(1,e||0))}function pb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const B5=e=>()=>e;function Rne(e,t){return function(r){return e+r*t}}function Mne(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Dne(e){return(e=+e)==1?vL:function(t,r){return r-t?Mne(t,r,e):B5(isNaN(t)?r:t)}}function vL(e,t){var r=t-e;return r?Rne(e,r):B5(isNaN(e)?t:e)}const ME=function e(t){var r=Dne(t);function n(i,s){var o=r((i=Xw(i)).r,(s=Xw(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),u=vL(i.opacity,s.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function $ne(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function Fne(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Bne(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=$f(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=i[o](l);return s}}function Une(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ix(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function zne(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=$f(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var Jw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gb=new RegExp(Jw.source,"g");function qne(e){return function(){return e}}function Hne(e){return function(t){return e(t)+""}}function Vne(e,t){var r=Jw.lastIndex=gb.lastIndex=0,n,i,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Jw.exec(e))&&(i=gb.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:Ix(n,i)})),r=gb.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?Hne(c[0].x):qne(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function $f(e,t){var r=typeof t,n;return t==null||r==="boolean"?B5(t):(r==="number"?Ix:r==="string"?(n=Gm(t))?(t=n,ME):Vne:t instanceof Gm?ME:t instanceof Date?Une:Fne(t)?$ne:Array.isArray(t)?Bne:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?zne:Ix)(e,t)}function U5(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Wne(e,t){t===void 0&&(t=e,e=$f);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function Gne(e){return function(){return e}}function Lx(e){return+e}var DE=[0,1];function Pa(e){return e}function Zw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Gne(isNaN(t)?NaN:.5)}function Yne(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Kne(e,t,r){var n=e[0],i=e[1],s=t[0],o=t[1];return i<n?(n=Zw(i,n),s=r(o,s)):(n=Zw(n,i),s=r(s,o)),function(l){return s(n(l))}}function Xne(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=Zw(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=Rp(e,l,1,n)-1;return s[c](i[c](l))}}function Dp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function yv(){var e=DE,t=DE,r=$f,n,i,s,o=Pa,l,c,u;function d(){var m=Math.min(e.length,t.length);return o!==Pa&&(o=Yne(e[0],e[m-1])),l=m>2?Xne:Kne,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?s:(c||(c=l(e.map(n),t,r)))(n(o(m)))}return f.invert=function(m){return o(i((u||(u=l(t,e.map(n),Ix)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,Lx),d()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),r=U5,d()},f.clamp=function(m){return arguments.length?(o=m?!0:Pa,d()):o!==Pa},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(s=m,f):s},function(m,h){return n=m,i=h,d()}}function z5(){return yv()(Pa,Pa)}function Jne(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Rx(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Zd(e){return e=Rx(Math.abs(e)),e?e[1]:NaN}function Zne(e,t){return function(r,n){for(var i=r.length,s=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function Qne(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var eae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ym(e){if(!(t=eae.exec(e)))throw new Error("invalid format: "+e);var t;return new q5({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ym.prototype=q5.prototype;function q5(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}q5.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function tae(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var bL;function rae(e,t){var r=Rx(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(bL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Rx(e,Math.max(0,t+s-1))[0]}function $E(e,t){var r=Rx(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const FE={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Jne,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>$E(e*100,t),r:$E,s:rae,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function BE(e){return e}var UE=Array.prototype.map,zE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function nae(e){var t=e.grouping===void 0||e.thousands===void 0?BE:Zne(UE.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?BE:Qne(UE.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Ym(f);var m=f.fill,h=f.align,p=f.sign,y=f.symbol,v=f.zero,x=f.width,b=f.comma,N=f.precision,w=f.trim,S=f.type;S==="n"?(b=!0,S="g"):FE[S]||(N===void 0&&(N=12),w=!0,S="g"),(v||m==="0"&&h==="=")&&(v=!0,m="0",h="=");var E=y==="$"?r:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",C=y==="$"?n:/[%p]/.test(S)?o:"",k=FE[S],P=/[defgprs%]/.test(S);N=N===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function D(A){var I=E,$=C,_,M,z;if(S==="c")$=k(A)+$,A="";else{A=+A;var Z=A<0||1/A<0;if(A=isNaN(A)?c:k(Math.abs(A),N),w&&(A=tae(A)),Z&&+A==0&&p!=="+"&&(Z=!1),I=(Z?p==="("?p:l:p==="-"||p==="("?"":p)+I,$=(S==="s"?zE[8+bL/3]:"")+$+(Z&&p==="("?")":""),P){for(_=-1,M=A.length;++_<M;)if(z=A.charCodeAt(_),48>z||z>57){$=(z===46?i+A.slice(_+1):A.slice(_))+$,A=A.slice(0,_);break}}}b&&!v&&(A=t(A,1/0));var R=I.length+A.length+$.length,U=R<x?new Array(x-R+1).join(m):"";switch(b&&v&&(A=t(U+A,U.length?x-$.length:1/0),U=""),h){case"<":A=I+A+$+U;break;case"=":A=I+U+A+$;break;case"^":A=U.slice(0,R=U.length>>1)+I+A+$+U.slice(R);break;default:A=U+I+A+$;break}return s(A)}return D.toString=function(){return f+""},D}function d(f,m){var h=u((f=Ym(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Zd(m)/3)))*3,y=Math.pow(10,-p),v=zE[8+p/3];return function(x){return h(y*x)+v}}return{format:u,formatPrefix:d}}var t0,H5,wL;aae({thousands:",",grouping:[3],currency:["$",""]});function aae(e){return t0=nae(e),H5=t0.format,wL=t0.formatPrefix,t0}function iae(e){return Math.max(0,-Zd(Math.abs(e)))}function sae(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zd(t)/3)))*3-Zd(Math.abs(e)))}function oae(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Zd(t)-Zd(e))+1}function NL(e,t,r,n){var i=Yw(e,t,r),s;switch(n=Ym(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=sae(i,o))&&(n.precision=s),wL(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=oae(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=iae(i))&&(n.precision=s-(n.type==="%")*2);break}}return H5(n)}function rc(e){var t=e.domain;return e.ticks=function(r){var n=t();return Ww(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return NL(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,o=n[i],l=n[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=s,s=u);d-- >0;){if(u=Gw(o,l,r),u===c)return n[i]=o,n[s]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Mx(){var e=z5();return e.copy=function(){return Dp(e,Mx())},Hi.apply(e,arguments),rc(e)}function jL(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Lx),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return jL(e).unknown(t)},e=arguments.length?Array.from(e,Lx):[0,1],rc(r)}function SL(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),e[r]=t.floor(i),e[n]=t.ceil(s),e}function qE(e){return Math.log(e)}function HE(e){return Math.exp(e)}function lae(e){return-Math.log(-e)}function cae(e){return-Math.exp(-e)}function uae(e){return isFinite(e)?+("1e"+e):e<0?0:e}function dae(e){return e===10?uae:e===Math.E?Math.exp:t=>Math.pow(e,t)}function fae(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function VE(e){return(t,r)=>-e(-t,r)}function V5(e){const t=e(qE,HE),r=t.domain;let n=10,i,s;function o(){return i=fae(n),s=dae(n),r()[0]<0?(i=VE(i),s=VE(s),e(lae,cae)):e(qE,HE),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=i(u),h=i(d),p,y;const v=l==null?10:+l;let x=[];if(!(n%1)&&h-m<v){if(m=Math.floor(m),h=Math.ceil(h),u>0){for(;m<=h;++m)for(p=1;p<n;++p)if(y=m<0?p/s(-m):p*s(m),!(y<u)){if(y>d)break;x.push(y)}}else for(;m<=h;++m)for(p=n-1;p>=1;--p)if(y=m>0?p/s(-m):p*s(m),!(y<u)){if(y>d)break;x.push(y)}x.length*2<v&&(x=Ww(u,d,v))}else x=Ww(m,h,Math.min(h-m,v)).map(s);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Ym(c)).precision==null&&(c.trim=!0),c=H5(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(SL(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),t}function AL(){const e=V5(yv()).domain([1,10]);return e.copy=()=>Dp(e,AL()).base(e.base()),Hi.apply(e,arguments),e}function WE(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function GE(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function W5(e){var t=1,r=e(WE(t),GE(t));return r.constant=function(n){return arguments.length?e(WE(t=+n),GE(t)):t},rc(r)}function EL(){var e=W5(yv());return e.copy=function(){return Dp(e,EL()).constant(e.constant())},Hi.apply(e,arguments)}function YE(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function hae(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function mae(e){return e<0?-e*e:e*e}function G5(e){var t=e(Pa,Pa),r=1;function n(){return r===1?e(Pa,Pa):r===.5?e(hae,mae):e(YE(r),YE(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},rc(t)}function Y5(){var e=G5(yv());return e.copy=function(){return Dp(e,Y5()).exponent(e.exponent())},Hi.apply(e,arguments),e}function pae(){return Y5.apply(null,arguments).exponent(.5)}function KE(e){return Math.sign(e)*e*e}function gae(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function _L(){var e=z5(),t=[0,1],r=!1,n;function i(s){var o=gae(e(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return e.invert(KE(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,Lx)).map(KE)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return _L(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Hi.apply(i,arguments),rc(i)}function PL(){var e=[],t=[],r=[],n;function i(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=wne(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[Rp(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Hl),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return PL().domain(e).range(t).unknown(n)},Hi.apply(s,arguments)}function TL(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[Rp(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return TL().domain([e,t]).range(i).unknown(s)},Hi.apply(rc(o),arguments)}function CL(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[Rp(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return CL().domain(e).range(t).unknown(r)},Hi.apply(i,arguments)}const xb=new Date,yb=new Date;function Pn(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},i.filter=s=>Pn(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(i.count=(s,o)=>(xb.setTime(+s),yb.setTime(+o),e(xb),e(yb),Math.floor(r(xb,yb))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Dx=Pn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Dx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Pn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Dx);Dx.range;const To=1e3,Di=To*60,Co=Di*60,qo=Co*24,K5=qo*7,XE=qo*30,vb=qo*365,zc=Pn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*To)},(e,t)=>(t-e)/To,e=>e.getUTCSeconds());zc.range;const X5=Pn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*To)},(e,t)=>{e.setTime(+e+t*Di)},(e,t)=>(t-e)/Di,e=>e.getMinutes());X5.range;const J5=Pn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Di)},(e,t)=>(t-e)/Di,e=>e.getUTCMinutes());J5.range;const Z5=Pn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*To-e.getMinutes()*Di)},(e,t)=>{e.setTime(+e+t*Co)},(e,t)=>(t-e)/Co,e=>e.getHours());Z5.range;const Q5=Pn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Co)},(e,t)=>(t-e)/Co,e=>e.getUTCHours());Q5.range;const $p=Pn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Di)/qo,e=>e.getDate()-1);$p.range;const vv=Pn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/qo,e=>e.getUTCDate()-1);vv.range;const kL=Pn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/qo,e=>Math.floor(e/qo));kL.range;function ju(e){return Pn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Di)/K5)}const bv=ju(0),$x=ju(1),xae=ju(2),yae=ju(3),Qd=ju(4),vae=ju(5),bae=ju(6);bv.range;$x.range;xae.range;yae.range;Qd.range;vae.range;bae.range;function Su(e){return Pn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/K5)}const wv=Su(0),Fx=Su(1),wae=Su(2),Nae=Su(3),ef=Su(4),jae=Su(5),Sae=Su(6);wv.range;Fx.range;wae.range;Nae.range;ef.range;jae.range;Sae.range;const eS=Pn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());eS.range;const tS=Pn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());tS.range;const Ho=Pn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ho.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ho.range;const Vo=Pn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Vo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Vo.range;function OL(e,t,r,n,i,s){const o=[[zc,1,To],[zc,5,5*To],[zc,15,15*To],[zc,30,30*To],[s,1,Di],[s,5,5*Di],[s,15,15*Di],[s,30,30*Di],[i,1,Co],[i,3,3*Co],[i,6,6*Co],[i,12,12*Co],[n,1,qo],[n,2,2*qo],[r,1,K5],[t,1,XE],[t,3,3*XE],[e,1,vb]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),p=h?h.range(u,+d+1):[];return m?p.reverse():p}function c(u,d,f){const m=Math.abs(d-u)/f,h=D5(([,,v])=>v).right(o,m);if(h===o.length)return e.every(Yw(u/vb,d/vb,f));if(h===0)return Dx.every(Math.max(Yw(u,d,f),1));const[p,y]=o[m/o[h-1][2]<o[h][2]/m?h-1:h];return p.every(y)}return[l,c]}const[Aae,Eae]=OL(Vo,tS,wv,kL,Q5,J5),[_ae,Pae]=OL(Ho,eS,bv,$p,Z5,X5);function bb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function wb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ch(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Tae(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=kh(i),d=Oh(i),f=kh(s),m=Oh(s),h=kh(o),p=Oh(o),y=kh(l),v=Oh(l),x=kh(c),b=Oh(c),N={a:Z,A:R,b:U,B:re,c:null,d:r_,e:r_,f:Zae,g:lie,G:uie,H:Kae,I:Xae,j:Jae,L:IL,m:Qae,M:eie,p:de,q:B,Q:i_,s:s_,S:tie,u:rie,U:nie,V:aie,w:iie,W:sie,x:null,X:null,y:oie,Y:cie,Z:die,"%":a_},w={a:G,A:te,b:ue,B:q,c:null,d:n_,e:n_,f:pie,g:Aie,G:_ie,H:fie,I:hie,j:mie,L:RL,m:gie,M:xie,p:X,q:Q,Q:i_,s:s_,S:yie,u:vie,U:bie,V:wie,w:Nie,W:jie,x:null,X:null,y:Sie,Y:Eie,Z:Pie,"%":a_},S={a:D,A,b:I,B:$,c:_,d:e_,e:e_,f:Vae,g:QE,G:ZE,H:t_,I:t_,j:Uae,L:Hae,m:Bae,M:zae,p:P,q:Fae,Q:Gae,s:Yae,S:qae,u:Lae,U:Rae,V:Mae,w:Iae,W:Dae,x:M,X:z,y:QE,Y:ZE,Z:$ae,"%":Wae};N.x=E(r,N),N.X=E(n,N),N.c=E(t,N),w.x=E(r,w),w.X=E(n,w),w.c=E(t,w);function E(ne,pe){return function(ie){var W=[],fe=-1,Ae=0,Y=ne.length,Te,qe,be;for(ie instanceof Date||(ie=new Date(+ie));++fe<Y;)ne.charCodeAt(fe)===37&&(W.push(ne.slice(Ae,fe)),(qe=JE[Te=ne.charAt(++fe)])!=null?Te=ne.charAt(++fe):qe=Te==="e"?" ":"0",(be=pe[Te])&&(Te=be(ie,qe)),W.push(Te),Ae=fe+1);return W.push(ne.slice(Ae,fe)),W.join("")}}function C(ne,pe){return function(ie){var W=Ch(1900,void 0,1),fe=k(W,ne,ie+="",0),Ae,Y;if(fe!=ie.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(pe&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(Ae=wb(Ch(W.y,0,1)),Y=Ae.getUTCDay(),Ae=Y>4||Y===0?Fx.ceil(Ae):Fx(Ae),Ae=vv.offset(Ae,(W.V-1)*7),W.y=Ae.getUTCFullYear(),W.m=Ae.getUTCMonth(),W.d=Ae.getUTCDate()+(W.w+6)%7):(Ae=bb(Ch(W.y,0,1)),Y=Ae.getDay(),Ae=Y>4||Y===0?$x.ceil(Ae):$x(Ae),Ae=$p.offset(Ae,(W.V-1)*7),W.y=Ae.getFullYear(),W.m=Ae.getMonth(),W.d=Ae.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),Y="Z"in W?wb(Ch(W.y,0,1)).getUTCDay():bb(Ch(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(Y+5)%7:W.w+W.U*7-(Y+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,wb(W)):bb(W)}}function k(ne,pe,ie,W){for(var fe=0,Ae=pe.length,Y=ie.length,Te,qe;fe<Ae;){if(W>=Y)return-1;if(Te=pe.charCodeAt(fe++),Te===37){if(Te=pe.charAt(fe++),qe=S[Te in JE?pe.charAt(fe++):Te],!qe||(W=qe(ne,ie,W))<0)return-1}else if(Te!=ie.charCodeAt(W++))return-1}return W}function P(ne,pe,ie){var W=u.exec(pe.slice(ie));return W?(ne.p=d.get(W[0].toLowerCase()),ie+W[0].length):-1}function D(ne,pe,ie){var W=h.exec(pe.slice(ie));return W?(ne.w=p.get(W[0].toLowerCase()),ie+W[0].length):-1}function A(ne,pe,ie){var W=f.exec(pe.slice(ie));return W?(ne.w=m.get(W[0].toLowerCase()),ie+W[0].length):-1}function I(ne,pe,ie){var W=x.exec(pe.slice(ie));return W?(ne.m=b.get(W[0].toLowerCase()),ie+W[0].length):-1}function $(ne,pe,ie){var W=y.exec(pe.slice(ie));return W?(ne.m=v.get(W[0].toLowerCase()),ie+W[0].length):-1}function _(ne,pe,ie){return k(ne,t,pe,ie)}function M(ne,pe,ie){return k(ne,r,pe,ie)}function z(ne,pe,ie){return k(ne,n,pe,ie)}function Z(ne){return o[ne.getDay()]}function R(ne){return s[ne.getDay()]}function U(ne){return c[ne.getMonth()]}function re(ne){return l[ne.getMonth()]}function de(ne){return i[+(ne.getHours()>=12)]}function B(ne){return 1+~~(ne.getMonth()/3)}function G(ne){return o[ne.getUTCDay()]}function te(ne){return s[ne.getUTCDay()]}function ue(ne){return c[ne.getUTCMonth()]}function q(ne){return l[ne.getUTCMonth()]}function X(ne){return i[+(ne.getUTCHours()>=12)]}function Q(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var pe=E(ne+="",N);return pe.toString=function(){return ne},pe},parse:function(ne){var pe=C(ne+="",!1);return pe.toString=function(){return ne},pe},utcFormat:function(ne){var pe=E(ne+="",w);return pe.toString=function(){return ne},pe},utcParse:function(ne){var pe=C(ne+="",!0);return pe.toString=function(){return ne},pe}}}var JE={"-":"",_:" ",0:"0"},Bn=/^\s*\d+/,Cae=/^%/,kae=/[\\^$*+?|[\]().{}]/g;function Zt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function Oae(e){return e.replace(kae,"\\$&")}function kh(e){return new RegExp("^(?:"+e.map(Oae).join("|")+")","i")}function Oh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Iae(e,t,r){var n=Bn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Lae(e,t,r){var n=Bn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Rae(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Mae(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Dae(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function ZE(e,t,r){var n=Bn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function QE(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function $ae(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Fae(e,t,r){var n=Bn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Bae(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function e_(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Uae(e,t,r){var n=Bn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function t_(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function zae(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function qae(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Hae(e,t,r){var n=Bn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Vae(e,t,r){var n=Bn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Wae(e,t,r){var n=Cae.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Gae(e,t,r){var n=Bn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Yae(e,t,r){var n=Bn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function r_(e,t){return Zt(e.getDate(),t,2)}function Kae(e,t){return Zt(e.getHours(),t,2)}function Xae(e,t){return Zt(e.getHours()%12||12,t,2)}function Jae(e,t){return Zt(1+$p.count(Ho(e),e),t,3)}function IL(e,t){return Zt(e.getMilliseconds(),t,3)}function Zae(e,t){return IL(e,t)+"000"}function Qae(e,t){return Zt(e.getMonth()+1,t,2)}function eie(e,t){return Zt(e.getMinutes(),t,2)}function tie(e,t){return Zt(e.getSeconds(),t,2)}function rie(e){var t=e.getDay();return t===0?7:t}function nie(e,t){return Zt(bv.count(Ho(e)-1,e),t,2)}function LL(e){var t=e.getDay();return t>=4||t===0?Qd(e):Qd.ceil(e)}function aie(e,t){return e=LL(e),Zt(Qd.count(Ho(e),e)+(Ho(e).getDay()===4),t,2)}function iie(e){return e.getDay()}function sie(e,t){return Zt($x.count(Ho(e)-1,e),t,2)}function oie(e,t){return Zt(e.getFullYear()%100,t,2)}function lie(e,t){return e=LL(e),Zt(e.getFullYear()%100,t,2)}function cie(e,t){return Zt(e.getFullYear()%1e4,t,4)}function uie(e,t){var r=e.getDay();return e=r>=4||r===0?Qd(e):Qd.ceil(e),Zt(e.getFullYear()%1e4,t,4)}function die(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Zt(t/60|0,"0",2)+Zt(t%60,"0",2)}function n_(e,t){return Zt(e.getUTCDate(),t,2)}function fie(e,t){return Zt(e.getUTCHours(),t,2)}function hie(e,t){return Zt(e.getUTCHours()%12||12,t,2)}function mie(e,t){return Zt(1+vv.count(Vo(e),e),t,3)}function RL(e,t){return Zt(e.getUTCMilliseconds(),t,3)}function pie(e,t){return RL(e,t)+"000"}function gie(e,t){return Zt(e.getUTCMonth()+1,t,2)}function xie(e,t){return Zt(e.getUTCMinutes(),t,2)}function yie(e,t){return Zt(e.getUTCSeconds(),t,2)}function vie(e){var t=e.getUTCDay();return t===0?7:t}function bie(e,t){return Zt(wv.count(Vo(e)-1,e),t,2)}function ML(e){var t=e.getUTCDay();return t>=4||t===0?ef(e):ef.ceil(e)}function wie(e,t){return e=ML(e),Zt(ef.count(Vo(e),e)+(Vo(e).getUTCDay()===4),t,2)}function Nie(e){return e.getUTCDay()}function jie(e,t){return Zt(Fx.count(Vo(e)-1,e),t,2)}function Sie(e,t){return Zt(e.getUTCFullYear()%100,t,2)}function Aie(e,t){return e=ML(e),Zt(e.getUTCFullYear()%100,t,2)}function Eie(e,t){return Zt(e.getUTCFullYear()%1e4,t,4)}function _ie(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ef(e):ef.ceil(e),Zt(e.getUTCFullYear()%1e4,t,4)}function Pie(){return"+0000"}function a_(){return"%"}function i_(e){return+e}function s_(e){return Math.floor(+e/1e3)}var Vu,DL,$L;Tie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Tie(e){return Vu=Tae(e),DL=Vu.format,Vu.parse,$L=Vu.utcFormat,Vu.utcParse,Vu}function Cie(e){return new Date(e)}function kie(e){return e instanceof Date?+e:+new Date(+e)}function rS(e,t,r,n,i,s,o,l,c,u){var d=z5(),f=d.invert,m=d.domain,h=u(".%L"),p=u(":%S"),y=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),b=u("%b %d"),N=u("%B"),w=u("%Y");function S(E){return(c(E)<E?h:l(E)<E?p:o(E)<E?y:s(E)<E?v:n(E)<E?i(E)<E?x:b:r(E)<E?N:w)(E)}return d.invert=function(E){return new Date(f(E))},d.domain=function(E){return arguments.length?m(Array.from(E,kie)):m().map(Cie)},d.ticks=function(E){var C=m();return e(C[0],C[C.length-1],E??10)},d.tickFormat=function(E,C){return C==null?S:u(C)},d.nice=function(E){var C=m();return(!E||typeof E.range!="function")&&(E=t(C[0],C[C.length-1],E??10)),E?m(SL(C,E)):d},d.copy=function(){return Dp(d,rS(e,t,r,n,i,s,o,l,c,u))},d}function Oie(){return Hi.apply(rS(_ae,Pae,Ho,eS,bv,$p,Z5,X5,zc,DL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Iie(){return Hi.apply(rS(Aae,Eae,Vo,tS,wv,vv,Q5,J5,zc,$L).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Nv(){var e=0,t=1,r,n,i,s,o=Pa,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(s(f)-r)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(m){var h,p;return arguments.length?([h,p]=m,o=f(h,p),u):[o(0),o(1)]}}return u.range=d($f),u.rangeRound=d(U5),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function nc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function FL(){var e=rc(Nv()(Pa));return e.copy=function(){return nc(e,FL())},Jo.apply(e,arguments)}function BL(){var e=V5(Nv()).domain([1,10]);return e.copy=function(){return nc(e,BL()).base(e.base())},Jo.apply(e,arguments)}function UL(){var e=W5(Nv());return e.copy=function(){return nc(e,UL()).constant(e.constant())},Jo.apply(e,arguments)}function nS(){var e=G5(Nv());return e.copy=function(){return nc(e,nS()).exponent(e.exponent())},Jo.apply(e,arguments)}function Lie(){return nS.apply(null,arguments).exponent(.5)}function zL(){var e=[],t=Pa;function r(n){if(n!=null&&!isNaN(n=+n))return t((Rp(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Hl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>bne(e,s/n))},r.copy=function(){return zL(t).domain(e)},Jo.apply(r,arguments)}function jv(){var e=0,t=.5,r=1,n=1,i,s,o,l,c,u=Pa,d,f=!1,m;function h(y){return isNaN(y=+y)?m:(y=.5+((y=+d(y))-s)*(n*y<n*s?l:c),u(f?Math.max(0,Math.min(1,y)):y))}h.domain=function(y){return arguments.length?([e,t,r]=y,i=d(e=+e),s=d(t=+t),o=d(r=+r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,h):[e,t,r]},h.clamp=function(y){return arguments.length?(f=!!y,h):f},h.interpolator=function(y){return arguments.length?(u=y,h):u};function p(y){return function(v){var x,b,N;return arguments.length?([x,b,N]=v,u=Wne(y,[x,b,N]),h):[u(0),u(.5),u(1)]}}return h.range=p($f),h.rangeRound=p(U5),h.unknown=function(y){return arguments.length?(m=y,h):m},function(y){return d=y,i=y(e),s=y(t),o=y(r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,h}}function qL(){var e=rc(jv()(Pa));return e.copy=function(){return nc(e,qL())},Jo.apply(e,arguments)}function HL(){var e=V5(jv()).domain([.1,1,10]);return e.copy=function(){return nc(e,HL()).base(e.base())},Jo.apply(e,arguments)}function VL(){var e=W5(jv());return e.copy=function(){return nc(e,VL()).constant(e.constant())},Jo.apply(e,arguments)}function aS(){var e=G5(jv());return e.copy=function(){return nc(e,aS()).exponent(e.exponent())},Jo.apply(e,arguments)}function Rie(){return aS.apply(null,arguments).exponent(.5)}const o_=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Hm,scaleDiverging:qL,scaleDivergingLog:HL,scaleDivergingPow:aS,scaleDivergingSqrt:Rie,scaleDivergingSymlog:VL,scaleIdentity:jL,scaleImplicit:Kw,scaleLinear:Mx,scaleLog:AL,scaleOrdinal:$5,scalePoint:im,scalePow:Y5,scaleQuantile:PL,scaleQuantize:TL,scaleRadial:_L,scaleSequential:FL,scaleSequentialLog:BL,scaleSequentialPow:nS,scaleSequentialQuantile:zL,scaleSequentialSqrt:Lie,scaleSequentialSymlog:UL,scaleSqrt:pae,scaleSymlog:EL,scaleThreshold:CL,scaleTime:Oie,scaleUtc:Iie,tickFormat:NL},Symbol.toStringTag,{value:"Module"}));var Mie=Tf;function Die(e,t,r){for(var n=-1,i=e.length;++n<i;){var s=e[n],o=t(s);if(o!=null&&(l===void 0?o===o&&!Mie(o):r(o,l)))var l=o,c=s}return c}var Sv=Die;function $ie(e,t){return e>t}var WL=$ie,Fie=Sv,Bie=WL,Uie=Df;function zie(e){return e&&e.length?Fie(e,Uie,Bie):void 0}var qie=zie;const Ol=lr(qie);function Hie(e,t){return e<t}var GL=Hie,Vie=Sv,Wie=GL,Gie=Df;function Yie(e){return e&&e.length?Vie(e,Gie,Wie):void 0}var Kie=Yie;const Av=lr(Kie);var Xie=y5,Jie=Xs,Zie=tL,Qie=Ya;function ese(e,t){var r=Qie(e)?Xie:Zie;return r(e,Jie(t))}var tse=ese,rse=QI,nse=tse;function ase(e,t){return rse(nse(e,t),1)}var ise=ase;const sse=lr(ise);var ose=I5;function lse(e,t){return ose(e,t)}var cse=lse;const fu=lr(cse);var Ff=1e9,use={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},sS,Rr=!0,Ui="[DecimalError] ",Jc=Ui+"Invalid argument: ",iS=Ui+"Exponent out of range: ",Bf=Math.floor,Cc=Math.pow,dse=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ui,Cn=1e7,Tr=7,YL=9007199254740991,Bx=Bf(YL/Tr),Qe={};Qe.absoluteValue=Qe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Qe.comparedTo=Qe.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};Qe.decimalPlaces=Qe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Tr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Qe.dividedBy=Qe.div=function(e){return Lo(this,new this.constructor(e))};Qe.dividedToIntegerBy=Qe.idiv=function(e){var t=this,r=t.constructor;return gr(Lo(t,new r(e),0,1),r.precision)};Qe.equals=Qe.eq=function(e){return!this.cmp(e)};Qe.exponent=function(){return pn(this)};Qe.greaterThan=Qe.gt=function(e){return this.cmp(e)>0};Qe.greaterThanOrEqualTo=Qe.gte=function(e){return this.cmp(e)>=0};Qe.isInteger=Qe.isint=function(){return this.e>this.d.length-2};Qe.isNegative=Qe.isneg=function(){return this.s<0};Qe.isPositive=Qe.ispos=function(){return this.s>0};Qe.isZero=function(){return this.s===0};Qe.lessThan=Qe.lt=function(e){return this.cmp(e)<0};Qe.lessThanOrEqualTo=Qe.lte=function(e){return this.cmp(e)<1};Qe.logarithm=Qe.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ui))throw Error(Ui+"NaN");if(r.s<1)throw Error(Ui+(r.s?"NaN":"-Infinity"));return r.eq(ui)?new n(0):(Rr=!1,t=Lo(Km(r,s),Km(e,s),s),Rr=!0,gr(t,i))};Qe.minus=Qe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?JL(t,e):KL(t,(e.s=-e.s,e))};Qe.modulo=Qe.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Ui+"NaN");return r.s?(Rr=!1,t=Lo(r,e,0,1).times(e),Rr=!0,r.minus(t)):gr(new n(r),i)};Qe.naturalExponential=Qe.exp=function(){return XL(this)};Qe.naturalLogarithm=Qe.ln=function(){return Km(this)};Qe.negated=Qe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Qe.plus=Qe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?KL(t,e):JL(t,(e.s=-e.s,e))};Qe.precision=Qe.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Jc+e);if(t=pn(i)+1,n=i.d.length-1,r=n*Tr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Qe.squareRoot=Qe.sqrt=function(){var e,t,r,n,i,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ui+"NaN")}for(e=pn(l),Rr=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=Bs(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Bf((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(s=n,n=s.plus(Lo(l,s,o+2)).times(.5),Bs(s.d).slice(0,o)===(t=Bs(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(gr(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return Rr=!0,gr(n,r)};Qe.times=Qe.mul=function(e){var t,r,n,i,s,o,l,c,u,d=this,f=d.constructor,m=d.d,h=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=m.length,u=h.length,c<u&&(s=m,m=h,h=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=s[i]+h[n]*m[i-n-1]+t,s[i--]=l%Cn|0,t=l/Cn|0;s[i]=(s[i]+t)%Cn|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Rr?gr(e,f.precision):e};Qe.toDecimalPlaces=Qe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ys(e,0,Ff),t===void 0?t=n.rounding:Ys(t,0,8),gr(r,e+pn(r)+1,t))};Qe.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=hu(n,!0):(Ys(e,0,Ff),t===void 0?t=i.rounding:Ys(t,0,8),n=gr(new i(n),e+1,t),r=hu(n,!0,e+1)),r};Qe.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?hu(i):(Ys(e,0,Ff),t===void 0?t=s.rounding:Ys(t,0,8),n=gr(new s(i),e+pn(i)+1,t),r=hu(n.abs(),!1,e+pn(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Qe.toInteger=Qe.toint=function(){var e=this,t=e.constructor;return gr(new t(e),pn(e)+1,t.rounding)};Qe.toNumber=function(){return+this};Qe.toPower=Qe.pow=function(e){var t,r,n,i,s,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ui);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ui+"Infinity");return l}if(l.eq(ui))return l;if(n=c.precision,e.eq(ui))return gr(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=d<0?-d:d)<=YL){for(i=new c(ui),t=Math.ceil(n/Tr+4),Rr=!1;r%2&&(i=i.times(l),c_(i.d,t)),r=Bf(r/2),r!==0;)l=l.times(l),c_(l.d,t);return Rr=!0,e.s<0?new c(ui).div(i):gr(i,n)}}else if(s<0)throw Error(Ui+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Rr=!1,i=e.times(Km(l,n+u)),Rr=!0,i=XL(i),i.s=s,i};Qe.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=pn(i),n=hu(i,r<=s.toExpNeg||r>=s.toExpPos)):(Ys(e,1,Ff),t===void 0?t=s.rounding:Ys(t,0,8),i=gr(new s(i),e,t),r=pn(i),n=hu(i,e<=r||r<=s.toExpNeg,e)),n};Qe.toSignificantDigits=Qe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ys(e,1,Ff),t===void 0?t=n.rounding:Ys(t,0,8)),gr(new n(r),e,t)};Qe.toString=Qe.valueOf=Qe.val=Qe.toJSON=Qe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=pn(e),r=e.constructor;return hu(e,t<=r.toExpNeg||t>=r.toExpPos)};function KL(e,t){var r,n,i,s,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Rr?gr(t,f):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),s=o-i,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,i=o,l=c.length),o=Math.ceil(f/Tr),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Cn|0,c[s]%=Cn;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,Rr?gr(t,f):t}function Ys(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Jc+e)}function Bs(e){var t,r,n,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)n=e[t]+"",r=Tr-n.length,r&&(s+=Nl(r)),s+=n;o=e[t],n=o+"",r=Tr-n.length,r&&(s+=Nl(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Lo=function(){function e(n,i){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+o,n[l]=s%Cn|0,o=s/Cn|0;return o&&n.unshift(o),n}function t(n,i,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*Cn+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var l,c,u,d,f,m,h,p,y,v,x,b,N,w,S,E,C,k,P=n.constructor,D=n.s==i.s?1:-1,A=n.d,I=i.d;if(!n.s)return new P(n);if(!i.s)throw Error(Ui+"Division by zero");for(c=n.e-i.e,C=I.length,S=A.length,h=new P(D),p=h.d=[],u=0;I[u]==(A[u]||0);)++u;if(I[u]>(A[u]||0)&&--c,s==null?b=s=P.precision:o?b=s+(pn(n)-pn(i))+1:b=s,b<0)return new P(0);if(b=b/Tr+2|0,u=0,C==1)for(d=0,I=I[0],b++;(u<S||d)&&b--;u++)N=d*Cn+(A[u]||0),p[u]=N/I|0,d=N%I|0;else{for(d=Cn/(I[0]+1)|0,d>1&&(I=e(I,d),A=e(A,d),C=I.length,S=A.length),w=C,y=A.slice(0,C),v=y.length;v<C;)y[v++]=0;k=I.slice(),k.unshift(0),E=I[0],I[1]>=Cn/2&&++E;do d=0,l=t(I,y,C,v),l<0?(x=y[0],C!=v&&(x=x*Cn+(y[1]||0)),d=x/E|0,d>1?(d>=Cn&&(d=Cn-1),f=e(I,d),m=f.length,v=y.length,l=t(f,y,m,v),l==1&&(d--,r(f,C<m?k:I,m))):(d==0&&(l=d=1),f=I.slice()),m=f.length,m<v&&f.unshift(0),r(y,f,v),l==-1&&(v=y.length,l=t(I,y,C,v),l<1&&(d++,r(y,C<v?k:I,v))),v=y.length):l===0&&(d++,y=[0]),p[u++]=d,l&&y[0]?y[v++]=A[w]||0:(y=[A[w]],v=1);while((w++<S||y[0]!==void 0)&&b--)}return p[0]||p.shift(),h.e=c,gr(h,o?s+pn(h)+1:s)}}();function XL(e,t){var r,n,i,s,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(pn(e)>16)throw Error(iS+pn(e));if(!e.s)return new d(ui);for(Rr=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Cc(2,u))/Math.LN10*2+5|0,l+=n,r=i=s=new d(ui),d.precision=l;;){if(i=gr(i.times(e),l),r=r.times(++c),o=s.plus(Lo(i,r,l)),Bs(o.d).slice(0,l)===Bs(s.d).slice(0,l)){for(;u--;)s=gr(s.times(s),l);return d.precision=f,t==null?(Rr=!0,gr(s,f)):s}s=o}}function pn(e){for(var t=e.e*Tr,r=e.d[0];r>=10;r/=10)t++;return t}function Nb(e,t,r){if(t>e.LN10.sd())throw Rr=!0,r&&(e.precision=r),Error(Ui+"LN10 precision limit exceeded");return gr(new e(e.LN10),t)}function Nl(e){for(var t="";e--;)t+="0";return t}function Km(e,t){var r,n,i,s,o,l,c,u,d,f=1,m=10,h=e,p=h.d,y=h.constructor,v=y.precision;if(h.s<1)throw Error(Ui+(h.s?"NaN":"-Infinity"));if(h.eq(ui))return new y(0);if(t==null?(Rr=!1,u=v):u=t,h.eq(10))return t==null&&(Rr=!0),Nb(y,u);if(u+=m,y.precision=u,r=Bs(p),n=r.charAt(0),s=pn(h),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=Bs(h.d),n=r.charAt(0),f++;s=pn(h),n>1?(h=new y("0."+r),s++):h=new y(n+"."+r.slice(1))}else return c=Nb(y,u+2,v).times(s+""),h=Km(new y(n+"."+r.slice(1)),u-m).plus(c),y.precision=v,t==null?(Rr=!0,gr(h,v)):h;for(l=o=h=Lo(h.minus(ui),h.plus(ui),u),d=gr(h.times(h),u),i=3;;){if(o=gr(o.times(d),u),c=l.plus(Lo(o,new y(i),u)),Bs(c.d).slice(0,u)===Bs(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(Nb(y,u+2,v).times(s+""))),l=Lo(l,new y(f),u),y.precision=v,t==null?(Rr=!0,gr(l,v)):l;l=c,i+=2}}function l_(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Bf(r/Tr),e.d=[],n=(r+1)%Tr,r<0&&(n+=Tr),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Tr;n<i;)e.d.push(+t.slice(n,n+=Tr));t=t.slice(n),n=Tr-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Rr&&(e.e>Bx||e.e<-Bx))throw Error(iS+r)}else e.s=0,e.e=0,e.d=[0];return e}function gr(e,t,r){var n,i,s,o,l,c,u,d,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=Tr,i=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Tr),s=f.length,d>=s)return e;for(u=s=f[d],o=1;s>=10;s/=10)o++;n%=Tr,i=n-Tr+o}if(r!==void 0&&(s=Cc(10,o-i-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/Cc(10,o-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=pn(e),f.length=1,t=t-s-1,f[0]=Cc(10,(Tr-t%Tr)%Tr),e.e=Bf(-t/Tr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=Cc(10,Tr-n),f[d]=i>0?(u/Cc(10,o-i)%Cc(10,i)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==Cn&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=Cn)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Rr&&(e.e>Bx||e.e<-Bx))throw Error(iS+pn(e));return e}function JL(e,t){var r,n,i,s,o,l,c,u,d,f,m=e.constructor,h=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Rr?gr(t,h):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),i=Math.max(Math.ceil(h/Tr),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(s=i;s&&c[--s]===0;)c[s]=Cn-1;--c[s],c[i]+=Cn}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Rr?gr(t,h):t):new m(0)}function hu(e,t,r){var n,i=pn(e),s=Bs(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Nl(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Nl(-i-1)+s,r&&(n=r-o)>0&&(s+=Nl(n))):i>=o?(s+=Nl(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+Nl(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=Nl(n))),e.s<0?"-"+s:s}function c_(e,t){if(e.length>t)return e.length=t,!0}function ZL(e){var t,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Jc+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return l_(o,s.toString())}else if(typeof s!="string")throw Error(Jc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,dse.test(s))l_(o,s);else throw Error(Jc+s)}if(i.prototype=Qe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=ZL,i.config=i.set=fse,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function fse(e){if(!e||typeof e!="object")throw Error(Ui+"Object expected");var t,r,n,i=["precision",1,Ff,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Bf(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Jc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Jc+r+": "+n);return this}var sS=ZL(use);ui=new sS(1);const dr=sS;function hse(e){return xse(e)||gse(e)||pse(e)||mse()}function mse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pse(e,t){if(e){if(typeof e=="string")return Qw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qw(e,t)}}function gse(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function xse(e){if(Array.isArray(e))return Qw(e)}function Qw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var yse=function(t){return t},QL={},e8=function(t){return t===QL},u_=function(t){return function r(){return arguments.length===0||arguments.length===1&&e8(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},vse=function e(t,r){return t===1?r:u_(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.filter(function(l){return l!==QL}).length;return o>=t?r.apply(void 0,i):e(t-o,u_(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(f){return e8(f)?c.shift():f});return r.apply(void 0,hse(d).concat(c))}))})},Ev=function(t){return vse(t.length,t)},eN=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},bse=Ev(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),wse=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return yse;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},tN=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},t8=function(t){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function Nse(e){var t;return e===0?t=1:t=Math.floor(new dr(e).abs().log(10).toNumber())+1,t}function jse(e,t,r){for(var n=new dr(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var Sse=Ev(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),Ase=Ev(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Ese=Ev(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const _v={rangeStep:jse,getDigitCount:Nse,interpolateNumber:Sse,uninterpolateNumber:Ase,uninterpolateTruncation:Ese};function rN(e){return Tse(e)||Pse(e)||r8(e)||_se()}function _se(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pse(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Tse(e){if(Array.isArray(e))return nN(e)}function Xm(e,t){return Ose(e)||kse(e,t)||r8(e,t)||Cse()}function Cse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r8(e,t){if(e){if(typeof e=="string")return nN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nN(e,t)}}function nN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kse(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){i=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function Ose(e){if(Array.isArray(e))return e}function n8(e){var t=Xm(e,2),r=t[0],n=t[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function a8(e,t,r){if(e.lte(0))return new dr(0);var n=_v.getDigitCount(e.toNumber()),i=new dr(10).pow(n),s=e.div(i),o=n!==1?.05:.1,l=new dr(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return t?c:new dr(Math.ceil(c))}function Ise(e,t,r){var n=1,i=new dr(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new dr(10).pow(_v.getDigitCount(e)-1),i=new dr(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new dr(Math.floor(e)))}else e===0?i=new dr(Math.floor((t-1)/2)):r||(i=new dr(Math.floor(e)));var o=Math.floor((t-1)/2),l=wse(bse(function(c){return i.add(new dr(c-o).mul(n)).toNumber()}),eN);return l(0,t)}function i8(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new dr(0),tickMin:new dr(0),tickMax:new dr(0)};var s=a8(new dr(t).sub(e).div(r-1),n,i),o;e<=0&&t>=0?o=new dr(0):(o=new dr(e).add(t).div(2),o=o.sub(new dr(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new dr(t).sub(o).div(s).toNumber()),u=l+c+1;return u>r?i8(e,t,r,n,i+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:o.sub(new dr(l).mul(s)),tickMax:o.add(new dr(c).mul(s))})}function Lse(e){var t=Xm(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=n8([r,n]),c=Xm(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(rN(eN(0,i-1).map(function(){return 1/0}))):[].concat(rN(eN(0,i-1).map(function(){return-1/0})),[d]);return r>n?tN(f):f}if(u===d)return Ise(u,i,s);var m=i8(u,d,o,s),h=m.step,p=m.tickMin,y=m.tickMax,v=_v.rangeStep(p,y.add(new dr(.1).mul(h)),h);return r>n?tN(v):v}function Rse(e,t){var r=Xm(e,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=n8([n,i]),l=Xm(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var d=Math.max(t,2),f=a8(new dr(u).sub(c).div(d-1),s,0),m=[].concat(rN(_v.rangeStep(new dr(c),new dr(u).sub(new dr(.99).mul(f)),f)),[u]);return n>i?tN(m):m}var Mse=t8(Lse),Dse=t8(Rse),$se="Invariant failed";function mu(e,t){throw new Error($se)}var Fse=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function tf(e){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(e)}function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ux.apply(this,arguments)}function Bse(e,t){return Hse(e)||qse(e,t)||zse(e,t)||Use()}function Use(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zse(e,t){if(e){if(typeof e=="string")return d_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d_(e,t)}}function d_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qse(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Hse(e){if(Array.isArray(e))return e}function Vse(e,t){if(e==null)return{};var r=Wse(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l8(n.key),n)}}function Kse(e,t,r){return t&&Yse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xse(e,t,r){return t=zx(t),Jse(e,s8()?Reflect.construct(t,r||[],zx(e).constructor):t.apply(e,r))}function Jse(e,t){if(t&&(tf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zse(e)}function Zse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s8=function(){return!!e})()}function zx(e){return zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zx(e)}function Qse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aN(e,t)}function aN(e,t){return aN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aN(e,t)}function o8(e,t,r){return t=l8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l8(e){var t=eoe(e,"string");return tf(t)=="symbol"?t:t+""}function eoe(e,t){if(tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fp=function(e){function t(){return Gse(this,t),Xse(this,t,arguments)}return Qse(t,e),Kse(t,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,m=Vse(n,Fse),h=ut(m,!1);this.props.direction==="x"&&d.type!=="number"&&mu();var p=c.map(function(y){var v=u(y,l),x=v.x,b=v.y,N=v.value,w=v.errorVal;if(!w)return null;var S=[],E,C;if(Array.isArray(w)){var k=Bse(w,2);E=k[0],C=k[1]}else E=C=w;if(s==="vertical"){var P=d.scale,D=b+i,A=D+o,I=D-o,$=P(N-E),_=P(N+C);S.push({x1:_,y1:A,x2:_,y2:I}),S.push({x1:$,y1:D,x2:_,y2:D}),S.push({x1:$,y1:A,x2:$,y2:I})}else if(s==="horizontal"){var M=f.scale,z=x+i,Z=z-o,R=z+o,U=M(N-E),re=M(N+C);S.push({x1:Z,y1:re,x2:R,y2:re}),S.push({x1:z,y1:U,x2:z,y2:re}),S.push({x1:Z,y1:U,x2:R,y2:U})}return ce.createElement(Bt,Ux({className:"recharts-errorBar",key:"bar-".concat(S.map(function(de){return"".concat(de.x1,"-").concat(de.x2,"-").concat(de.y1,"-").concat(de.y2)}))},h),S.map(function(de){return ce.createElement("line",Ux({},de,{key:"line-".concat(de.x1,"-").concat(de.x2,"-").concat(de.y1,"-").concat(de.y2)}))}))});return ce.createElement(Bt,{className:"recharts-errorBars"},p)}}])}(ce.Component);o8(Fp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});o8(Fp,"displayName","ErrorBar");function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}function f_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f_(Object(r),!0).forEach(function(n){toe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function toe(e,t,r){return t=roe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function roe(e){var t=noe(e,"string");return Jm(t)=="symbol"?t:t+""}function noe(e,t){if(Jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var c8=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,s=t.legendContent,o=ci(r,Pd);if(!o)return null;var l=Pd.defaultProps,c=l!==void 0?Nc(Nc({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var m=f.item,h=f.props,p=h.sectors||h.data||[];return d.concat(p.map(function(y){return{type:o.props.iconType||m.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(n||[]).map(function(d){var f=d.item,m=f.type.defaultProps,h=m!==void 0?Nc(Nc({},m),f.props):{},p=h.dataKey,y=h.name,v=h.legendType,x=h.hide;return{inactive:x,dataKey:p,type:c.iconType||v||"square",color:oS(f),value:y||p,payload:h}}),Nc(Nc(Nc({},c),Pd.getWithHeight(o,i)),{},{payload:u,item:o})};function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}function h_(e){return ooe(e)||soe(e)||ioe(e)||aoe()}function aoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ioe(e,t){if(e){if(typeof e=="string")return iN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iN(e,t)}}function soe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ooe(e){if(Array.isArray(e))return iN(e)}function iN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m_(Object(r),!0).forEach(function(n){Cd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cd(e,t,r){return t=loe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function loe(e){var t=coe(e,"string");return Zm(t)=="symbol"?t:t+""}function coe(e,t){if(Zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sn(e,t,r){return jt(e)||jt(t)?r:_n(t)?pi(e,t,r):xt(t)?t(e):r}function sm(e,t,r,n){var i=sse(e,function(l){return sn(l,t)});if(r==="number"){var s=i.filter(function(l){return He(l)||parseFloat(l)});return s.length?[Av(s),Ol(s)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!jt(l)}):i;return o.map(function(l){return _n(l)||l instanceof Date?l:""})}var uoe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,f=i[u].coordinate,m=u>=l-1?i[0].coordinate:i[u+1].coordinate,h=void 0;if(Ea(f-d)!==Ea(m-f)){var p=[];if(Ea(m-f)===Ea(c[1]-c[0])){h=m;var y=f+c[1]-c[0];p[0]=Math.min(y,(y+d)/2),p[1]=Math.max(y,(y+d)/2)}else{h=d;var v=m+c[1]-c[0];p[0]=Math.min(f,(v+f)/2),p[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(t>x[0]&&t<=x[1]||t>=p[0]&&t<=p[1]){o=i[u].index;break}}else{var b=Math.min(d,m),N=Math.max(d,m);if(t>(b+f)/2&&t<=(N+f)/2){o=i[u].index;break}}}else for(var w=0;w<l;w++)if(w===0&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w>0&&w<l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w===l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2){o=n[w].index;break}return o},oS=function(t){var r,n=t,i=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Yr(Yr({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},doe=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),m=0,h=f.length;m<h;m++){var p=d[f[m]],y=p.items,v=p.cateAxisId,x=y.filter(function(C){return Io(C.type).indexOf("Bar")>=0});if(x&&x.length){var b=x[0].type.defaultProps,N=b!==void 0?Yr(Yr({},b),x[0].props):x[0].props,w=N.barSize,S=N[v];o[S]||(o[S]=[]);var E=jt(w)?r:w;o[S].push({item:x[0],stackList:x.slice(1),barSize:jt(E)?void 0:_a(E,n,0)})}}return o},foe=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=_a(r,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var m=!1,h=i/c,p=o.reduce(function(w,S){return w+S.barSize||0},0);p+=(c-1)*u,p>=i&&(p-=(c-1)*u,u=0),p>=i&&h>0&&(m=!0,h*=.9,p=c*h);var y=(i-p)/2>>0,v={offset:y-u,size:0};d=o.reduce(function(w,S){var E={item:S.item,position:{offset:v.offset+v.size+u,size:m?h:S.barSize}},C=[].concat(h_(w),[E]);return v=C[C.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(k){C.push({item:k,position:v})}),C},f)}else{var x=_a(n,i,0,!0);i-2*x-(c-1)*u<=0&&(u=0);var b=(i-2*x-(c-1)*u)/c;b>1&&(b>>=0);var N=l===+l?Math.min(b,l):b;d=o.reduce(function(w,S,E){var C=[].concat(h_(w),[{item:S.item,position:{offset:x+(b+u)*E+(b-N)/2,size:N}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(k){C.push({item:k,position:C[C.length-1].position})}),C},f)}return d},hoe=function(t,r,n,i){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=c8({children:s,legendWidth:c});if(u){var d=i||{},f=d.width,m=d.height,h=u.align,p=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&p==="middle")&&h!=="center"&&He(t[h]))return Yr(Yr({},t),{},Cd({},h,t[h]+(f||0)));if((y==="horizontal"||y==="vertical"&&h==="center")&&p!=="middle"&&He(t[p]))return Yr(Yr({},t),{},Cd({},p,t[p]+(m||0)))}return t},moe=function(t,r,n){return jt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},u8=function(t,r,n,i,s){var o=r.props.children,l=gi(o,Fp).filter(function(u){return moe(i,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=sn(d,n);if(jt(f))return u;var m=Array.isArray(f)?[Av(f),Ol(f)]:[f,f],h=c.reduce(function(p,y){var v=sn(d,y,0),x=m[0]-Math.abs(Array.isArray(v)?v[0]:v),b=m[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,p[0]),Math.max(b,p[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},poe=function(t,r,n,i,s){var o=r.map(function(l){return u8(t,l,n,s,i)}).filter(function(l){return!jt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},d8=function(t,r,n,i,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&u8(t,c,u,i)||sm(t,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},f8=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},h8=function(t,r,n,i){if(i)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},ko=function(t,r,n){if(!t)return null;var i=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Ea(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var m=s?s.indexOf(f):f;return{coordinate:i(m)+u,value:f,offset:u}});return d.filter(function(f){return!Lf(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,m){return{coordinate:i(f)+u,value:f,index:m,offset:u}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,m){return{coordinate:i(f)+u,value:s?s[f]:f,index:m,offset:u}})},jb=new WeakMap,r0=function(t,r){if(typeof r!="function")return t;jb.has(t)||jb.set(t,new WeakMap);var n=jb.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},m8=function(t,r,n){var i=t.scale,s=t.type,o=t.layout,l=t.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Hm(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Mx(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:im(),realScaleType:"point"}:s==="category"?{scale:Hm(),realScaleType:"band"}:{scale:Mx(),realScaleType:"linear"};if(cu(i)){var c="scale".concat(uv(i));return{scale:(o_[c]||im)(),realScaleType:o_[c]?c:"point"}}return xt(i)?{scale:i}:{scale:im(),realScaleType:"point"}},p_=1e-4,p8=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),s=Math.min(i[0],i[1])-p_,o=Math.max(i[0],i[1])+p_,l=t(r[0]),c=t(r[n-1]);(l<s||l>o||c<s||c>o)&&t.domain([r[0],r[n-1]])}},goe=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},xoe=function(t,r){if(!r||r.length!==2||!He(r[0])||!He(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!He(t[0])||t[0]<n)&&(s[0]=n),(!He(t[1])||t[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},yoe=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,o=0,l=0;l<r;++l){var c=Lf(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},voe=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,o=0;o<r;++o){var l=Lf(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},boe={sign:yoe,expand:FG,none:Gd,silhouette:BG,wiggle:UG,positive:voe},woe=function(t,r,n){var i=r.map(function(l){return l.props.dataKey}),s=boe[n],o=$G().keys(i).value(function(l,c){return+sn(l,c,0)}).order(Cw).offset(s);return o(t)},Noe=function(t,r,n,i,s,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,m){var h,p=(h=m.type)!==null&&h!==void 0&&h.defaultProps?Yr(Yr({},m.type.defaultProps),m.props):m.props,y=p.stackId,v=p.hide;if(v)return f;var x=p[n],b=f[x]||{hasStack:!1,stackGroups:{}};if(_n(y)){var N=b.stackGroups[y]||{numericAxisId:n,cateAxisId:i,items:[]};N.items.push(m),b.hasStack=!0,b.stackGroups[y]=N}else b.stackGroups[Nu("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[m]};return Yr(Yr({},f),{},Cd({},x,b))},c),d={};return Object.keys(u).reduce(function(f,m){var h=u[m];if(h.hasStack){var p={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(y,v){var x=h.stackGroups[v];return Yr(Yr({},y),{},Cd({},v,{numericAxisId:n,cateAxisId:i,items:x.items,stackedData:woe(t,x.items,s)}))},p)}return Yr(Yr({},f),{},Cd({},m,h))},d)},g8=function(t,r){var n=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Mse(u,s,l);return t.domain([Av(d),Ol(d)]),{niceTicks:d}}if(s&&i==="number"){var f=t.domain(),m=Dse(f,s,l);return{niceTicks:m}}return null};function qx(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!jt(i[t.dataKey])){var l=px(r,"value",i[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=sn(i,jt(o)?t.dataKey:o);return jt(c)?null:t.scale(c)}var g_=function(t){var r=t.axis,n=t.ticks,i=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=sn(o,r.dataKey,r.domain[l]);return jt(c)?null:r.scale(c)-s/2+i},joe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},Soe=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Yr(Yr({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(_n(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Aoe=function(t){return t.reduce(function(r,n){return[Av(n.concat([r[0]]).filter(He)),Ol(n.concat([r[1]]).filter(He))]},[1/0,-1/0])},x8=function(t,r,n){return Object.keys(t).reduce(function(i,s){var o=t[s],l=o.stackedData,c=l.reduce(function(u,d){var f=Aoe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},x_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,y_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sN=function(t,r,n){if(xt(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(He(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(x_.test(t[0])){var s=+x_.exec(t[0])[1];i[0]=r[0]-s}else xt(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(He(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(y_.test(t[1])){var o=+y_.exec(t[1])[1];i[1]=r[1]+o}else xt(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},Hx=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var s=R5(r,function(f){return f.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},v_=function(t,r,n){return!t||!t.length||fu(t,pi(n,"type.defaultProps.domain"))?r:t},y8=function(t,r){var n=t.type.defaultProps?Yr(Yr({},t.type.defaultProps),t.props):t.props,i=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Yr(Yr({},ut(t,!1)),{},{dataKey:i,unit:o,formatter:l,name:s||i,color:oS(t),value:sn(r,i),type:c,payload:r,chartType:u,hide:d})};function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qm(e)}function b_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b_(Object(r),!0).forEach(function(n){v8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v8(e,t,r){return t=Eoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eoe(e){var t=_oe(e,"string");return Qm(t)=="symbol"?t:t+""}function _oe(e,t){if(Qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Poe(e,t){return Ooe(e)||koe(e,t)||Coe(e,t)||Toe()}function Toe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Coe(e,t){if(e){if(typeof e=="string")return w_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w_(e,t)}}function w_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function koe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Ooe(e){if(Array.isArray(e))return e}var Vx=Math.PI/180,Ioe=function(t){return t*180/Math.PI},Sr=function(t,r,n,i){return{x:t+Math.cos(-Vx*i)*n,y:r+Math.sin(-Vx*i)*n}},b8=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Loe=function(t,r,n,i,s){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=_a(t.cx,o,o/2),f=_a(t.cy,l,l/2),m=b8(o,l,n),h=_a(t.innerRadius,m,0),p=_a(t.outerRadius,m,m*.8),y=Object.keys(r);return y.reduce(function(v,x){var b=r[x],N=b.domain,w=b.reversed,S;if(jt(b.range))i==="angleAxis"?S=[c,u]:i==="radiusAxis"&&(S=[h,p]),w&&(S=[S[1],S[0]]);else{S=b.range;var E=S,C=Poe(E,2);c=C[0],u=C[1]}var k=m8(b,s),P=k.realScaleType,D=k.scale;D.domain(N).range(S),p8(D);var A=g8(D,wo(wo({},b),{},{realScaleType:P})),I=wo(wo(wo({},b),A),{},{range:S,radius:p,realScaleType:P,scale:D,cx:d,cy:f,innerRadius:h,outerRadius:p,startAngle:c,endAngle:u});return wo(wo({},v),{},v8({},x,I))},{})},Roe=function(t,r){var n=t.x,i=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-o,2))},Moe=function(t,r){var n=t.x,i=t.y,s=r.cx,o=r.cy,l=Roe({x:n,y:i},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:Ioe(u),angleInRadian:u}},Doe=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:n-o*360}},$oe=function(t,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(s,o);return t+l*360},N_=function(t,r){var n=t.x,i=t.y,s=Moe({x:n,y:i},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Doe(r),f=d.startAngle,m=d.endAngle,h=l,p;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;p=h>=m&&h<=f}return p?wo(wo({},r),{},{radius:o,angle:$oe(h,r)}):null},w8=function(t){return!L.isValidElement(t)&&!xt(t)&&typeof t!="boolean"?t.className:""};function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}var Foe=["offset"];function Boe(e){return Hoe(e)||qoe(e)||zoe(e)||Uoe()}function Uoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zoe(e,t){if(e){if(typeof e=="string")return oN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oN(e,t)}}function qoe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hoe(e){if(Array.isArray(e))return oN(e)}function oN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Voe(e,t){if(e==null)return{};var r=Woe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Woe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function j_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j_(Object(r),!0).forEach(function(n){Goe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Goe(e,t,r){return t=Yoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yoe(e){var t=Koe(e,"string");return ep(t)=="symbol"?t:t+""}function Koe(e,t){if(ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tp(){return tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tp.apply(this,arguments)}var Xoe=function(t){var r=t.value,n=t.formatter,i=jt(t.children)?r:t.children;return xt(n)?n(i):i},Joe=function(t,r){var n=Ea(r-t),i=Math.min(Math.abs(r-t),360);return n*i},Zoe=function(t,r,n){var i=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,h=c.startAngle,p=c.endAngle,y=c.clockWise,v=(f+m)/2,x=Joe(h,p),b=x>=0?1:-1,N,w;i==="insideStart"?(N=h+b*o,w=y):i==="insideEnd"?(N=p-b*o,w=!y):i==="end"&&(N=p+b*o,w=y),w=x<=0?w:!w;var S=Sr(u,d,v,N),E=Sr(u,d,v,N+(w?1:-1)*359),C="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(w?0:1,`,
    `).concat(E.x,",").concat(E.y),k=jt(t.id)?Nu("recharts-radial-line-"):t.id;return ce.createElement("text",tp({},n,{dominantBaseline:"central",className:yt("recharts-radial-bar-label",l)}),ce.createElement("defs",null,ce.createElement("path",{id:k,d:C})),ce.createElement("textPath",{xlinkHref:"#".concat(k)},r))},Qoe=function(t){var r=t.viewBox,n=t.offset,i=t.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,m=(d+f)/2;if(i==="outside"){var h=Sr(o,l,u+n,m),p=h.x,y=h.y;return{x:p,y,textAnchor:p>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,x=Sr(o,l,v,m),b=x.x,N=x.y;return{x:b,y:N,textAnchor:"middle",verticalAnchor:"middle"}},ele=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,s=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,m=f*i,h=f>0?"end":"start",p=f>0?"start":"end",y=u>=0?1:-1,v=y*i,x=y>0?"end":"start",b=y>0?"start":"end";if(s==="top"){var N={x:l+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:h};return jn(jn({},N),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var w={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:p};return jn(jn({},w),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var S={x:l-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return jn(jn({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(s==="right"){var E={x:l+u+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return jn(jn({},E),n?{width:Math.max(n.x+n.width-E.x,0),height:d}:{})}var C=n?{width:u,height:d}:{};return s==="insideLeft"?jn({x:l+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},C):s==="insideRight"?jn({x:l+u-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},C):s==="insideTop"?jn({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:p},C):s==="insideBottom"?jn({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:h},C):s==="insideTopLeft"?jn({x:l+v,y:c+m,textAnchor:b,verticalAnchor:p},C):s==="insideTopRight"?jn({x:l+u-v,y:c+m,textAnchor:x,verticalAnchor:p},C):s==="insideBottomLeft"?jn({x:l+v,y:c+d-m,textAnchor:b,verticalAnchor:h},C):s==="insideBottomRight"?jn({x:l+u-v,y:c+d-m,textAnchor:x,verticalAnchor:h},C):Cf(s)&&(He(s.x)||Bc(s.x))&&(He(s.y)||Bc(s.y))?jn({x:l+_a(s.x,u),y:c+_a(s.y,d),textAnchor:"end",verticalAnchor:"end"},C):jn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},C)},tle=function(t){return"cx"in t&&He(t.cx)};function In(e){var t=e.offset,r=t===void 0?5:t,n=Voe(e,Foe),i=jn({offset:r},n),s=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,m=i.textBreakAll;if(!s||jt(l)&&jt(c)&&!L.isValidElement(u)&&!xt(u))return null;if(L.isValidElement(u))return L.cloneElement(u,i);var h;if(xt(u)){if(h=L.createElement(u,i),L.isValidElement(h))return h}else h=Xoe(i);var p=tle(s),y=ut(i,!0);if(p&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Zoe(i,h,y);var v=p?Qoe(i):ele(i);return ce.createElement(du,tp({className:yt("recharts-label",f)},y,v,{breakAll:m}),h)}In.displayName="Label";var N8=function(t){var r=t.cx,n=t.cy,i=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,m=t.y,h=t.top,p=t.left,y=t.width,v=t.height,x=t.clockWise,b=t.labelViewBox;if(b)return b;if(He(y)&&He(v)){if(He(f)&&He(m))return{x:f,y:m,width:y,height:v};if(He(h)&&He(p))return{x:h,y:p,width:y,height:v}}return He(f)&&He(m)?{x:f,y:m,width:0,height:0}:He(r)&&He(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},rle=function(t,r){return t?t===!0?ce.createElement(In,{key:"label-implicit",viewBox:r}):_n(t)?ce.createElement(In,{key:"label-implicit",viewBox:r,value:t}):L.isValidElement(t)?t.type===In?L.cloneElement(t,{key:"label-implicit",viewBox:r}):ce.createElement(In,{key:"label-implicit",content:t,viewBox:r}):xt(t)?ce.createElement(In,{key:"label-implicit",content:t,viewBox:r}):Cf(t)?ce.createElement(In,tp({viewBox:r},t,{key:"label-implicit"})):null:null},nle=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,s=N8(t),o=gi(i,In).map(function(c,u){return L.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=rle(t.label,r||s);return[l].concat(Boe(o))};In.parseViewBox=N8;In.renderCallByParent=nle;function ale(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var ile=ale;const sle=lr(ile);function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}var ole=["valueAccessor"],lle=["data","dataKey","clockWise","id","textBreakAll"];function cle(e){return hle(e)||fle(e)||dle(e)||ule()}function ule(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dle(e,t){if(e){if(typeof e=="string")return lN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lN(e,t)}}function fle(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hle(e){if(Array.isArray(e))return lN(e)}function lN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wx(){return Wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wx.apply(this,arguments)}function S_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function A_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S_(Object(r),!0).forEach(function(n){mle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mle(e,t,r){return t=ple(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ple(e){var t=gle(e,"string");return rp(t)=="symbol"?t:t+""}function gle(e,t){if(rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E_(e,t){if(e==null)return{};var r=xle(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var yle=function(t){return Array.isArray(t.value)?sle(t.value):t.value};function Ws(e){var t=e.valueAccessor,r=t===void 0?yle:t,n=E_(e,ole),i=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=E_(n,lle);return!i||!i.length?null:ce.createElement(Bt,{className:"recharts-label-list"},i.map(function(d,f){var m=jt(s)?r(d,f):sn(d&&d.payload,s),h=jt(l)?{}:{id:"".concat(l,"-").concat(f)};return ce.createElement(In,Wx({},ut(d,!0),u,h,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:In.parseViewBox(jt(o)?d:A_(A_({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Ws.displayName="LabelList";function vle(e,t){return e?e===!0?ce.createElement(Ws,{key:"labelList-implicit",data:t}):ce.isValidElement(e)||xt(e)?ce.createElement(Ws,{key:"labelList-implicit",data:t,content:e}):Cf(e)?ce.createElement(Ws,Wx({data:t},e,{key:"labelList-implicit"})):null:null}function ble(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=gi(n,Ws).map(function(o,l){return L.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return i;var s=vle(e.label,t);return[s].concat(cle(i))}Ws.renderCallByParent=ble;function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}function cN(){return cN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cN.apply(this,arguments)}function __(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function P_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?__(Object(r),!0).forEach(function(n){wle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):__(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wle(e,t,r){return t=Nle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nle(e){var t=jle(e,"string");return np(t)=="symbol"?t:t+""}function jle(e,t){if(np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sle=function(t,r){var n=Ea(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},n0=function(t){var r=t.cx,n=t.cy,i=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+i,f=Math.asin(c/d)/Vx,m=u?s:s+o*f,h=Sr(r,n,d,m),p=Sr(r,n,i,m),y=u?s-o*f:s,v=Sr(r,n,d*Math.cos(f*Vx),y);return{center:h,circleTangency:p,lineTangency:v,theta:f}},j8=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=Sle(o,l),u=o+c,d=Sr(r,n,s,o),f=Sr(r,n,s,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var h=Sr(r,n,i,o),p=Sr(r,n,i,u);m+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},Ale=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Ea(d-u),m=n0({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),h=m.circleTangency,p=m.lineTangency,y=m.theta,v=n0({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),x=v.circleTangency,b=v.lineTangency,N=v.theta,w=c?Math.abs(u-d):Math.abs(u-d)-y-N;if(w<0)return l?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):j8({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d});var S="M ".concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(w>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var E=n0({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=E.circleTangency,k=E.lineTangency,P=E.theta,D=n0({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=D.circleTangency,I=D.lineTangency,$=D.theta,_=c?Math.abs(u-d):Math.abs(u-d)-P-$;if(_<0&&o===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},Ele={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},S8=function(t){var r=P_(P_({},Ele),t),n=r.cx,i=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,m=r.className;if(o<s||d===f)return null;var h=yt("recharts-sector",m),p=o-s,y=_a(l,p,0,!0),v;return y>0&&Math.abs(d-f)<360?v=Ale({cx:n,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(y,p/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=j8({cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),ce.createElement("path",cN({},ut(r,!0),{className:h,d:v,role:"img"}))};function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}function uN(){return uN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uN.apply(this,arguments)}function T_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function C_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T_(Object(r),!0).forEach(function(n){_le(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _le(e,t,r){return t=Ple(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ple(e){var t=Tle(e,"string");return ap(t)=="symbol"?t:t+""}function Tle(e,t){if(ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k_={curveBasisClosed:_G,curveBasisOpen:PG,curveBasis:EG,curveBumpX:fG,curveBumpY:hG,curveLinearClosed:TG,curveLinear:fv,curveMonotoneX:CG,curveMonotoneY:kG,curveNatural:OG,curveStep:IG,curveStepAfter:RG,curveStepBefore:LG},a0=function(t){return t.x===+t.x&&t.y===+t.y},Ih=function(t){return t.x},Lh=function(t){return t.y},Cle=function(t,r){if(xt(t))return t;var n="curve".concat(uv(t));return(n==="curveMonotone"||n==="curveBump")&&r?k_["".concat(n).concat(r==="vertical"?"Y":"X")]:k_[n]||fv},kle=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,s=i===void 0?[]:i,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Cle(n,l),f=u?s.filter(function(y){return a0(y)}):s,m;if(Array.isArray(o)){var h=u?o.filter(function(y){return a0(y)}):o,p=f.map(function(y,v){return C_(C_({},y),{},{base:h[v]})});return l==="vertical"?m=Yg().y(Lh).x1(Ih).x0(function(y){return y.base.x}):m=Yg().x(Ih).y1(Lh).y0(function(y){return y.base.y}),m.defined(a0).curve(d),m(p)}return l==="vertical"&&He(o)?m=Yg().y(Lh).x1(Ih).x0(o):He(o)?m=Yg().x(Ih).y1(Lh).y0(o):m=yI().x(Ih).y(Lh),m.defined(a0).curve(d),m(f)},Zc=function(t){var r=t.className,n=t.points,i=t.path,s=t.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?kle(t):i;return L.createElement("path",uN({},ut(t,!1),gx(t),{className:yt("recharts-curve",r),d:o,ref:s}))},A8={exports:{}},Ole="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ile=Ole,Lle=Ile;function E8(){}function _8(){}_8.resetWarningCache=E8;var Rle=function(){function e(n,i,s,o,l,c){if(c!==Lle){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:_8,resetWarningCache:E8};return r.PropTypes=r,r};A8.exports=Rle();var Mle=A8.exports;const tr=lr(Mle);var Dle=Object.getOwnPropertyNames,$le=Object.getOwnPropertySymbols,Fle=Object.prototype.hasOwnProperty;function O_(e,t){return function(n,i,s){return e(n,i,s)&&t(n,i,s)}}function i0(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var s=i.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,i);return s.delete(r),s.delete(n),c}}function I_(e){return Dle(e).concat($le(e))}var Ble=Object.hasOwn||function(e,t){return Fle.call(e,t)};function Au(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Ule="__v",zle="__o",qle="_owner",L_=Object.getOwnPropertyDescriptor,R_=Object.keys;function Hle(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Vle(e,t){return Au(e.getTime(),t.getTime())}function Wle(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Gle(e,t){return e===t}function M_(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),s=e.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(i[f]){f++;continue}var m=o.value,h=l.value;if(r.equals(m[0],h[0],c,f,e,t,r)&&r.equals(m[1],h[1],m[0],h[0],e,t,r)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var Yle=Au;function Kle(e,t,r){var n=R_(e),i=n.length;if(R_(t).length!==i)return!1;for(;i-- >0;)if(!P8(e,t,r,n[i]))return!1;return!0}function Rh(e,t,r){var n=I_(e),i=n.length;if(I_(t).length!==i)return!1;for(var s,o,l;i-- >0;)if(s=n[i],!P8(e,t,r,s)||(o=L_(e,s),l=L_(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Xle(e,t){return Au(e.valueOf(),t.valueOf())}function Jle(e,t){return e.source===t.source&&e.flags===t.flags}function D_(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),s=e.values(),o,l;(o=s.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!i[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function Zle(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Qle(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function P8(e,t,r,n){return(n===qle||n===zle||n===Ule)&&(e.$$typeof||t.$$typeof)?!0:Ble(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var ece="[object Arguments]",tce="[object Boolean]",rce="[object Date]",nce="[object Error]",ace="[object Map]",ice="[object Number]",sce="[object Object]",oce="[object RegExp]",lce="[object Set]",cce="[object String]",uce="[object URL]",dce=Array.isArray,$_=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,F_=Object.assign,fce=Object.prototype.toString.call.bind(Object.prototype.toString);function hce(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,m=e.areUrlsEqual;return function(p,y,v){if(p===y)return!0;if(p==null||y==null)return!1;var x=typeof p;if(x!==typeof y)return!1;if(x!=="object")return x==="number"?o(p,y,v):x==="function"?i(p,y,v):!1;var b=p.constructor;if(b!==y.constructor)return!1;if(b===Object)return l(p,y,v);if(dce(p))return t(p,y,v);if($_!=null&&$_(p))return f(p,y,v);if(b===Date)return r(p,y,v);if(b===RegExp)return u(p,y,v);if(b===Map)return s(p,y,v);if(b===Set)return d(p,y,v);var N=fce(p);return N===rce?r(p,y,v):N===oce?u(p,y,v):N===ace?s(p,y,v):N===lce?d(p,y,v):N===sce?typeof p.then!="function"&&typeof y.then!="function"&&l(p,y,v):N===uce?m(p,y,v):N===nce?n(p,y,v):N===ece?l(p,y,v):N===tce||N===ice||N===cce?c(p,y,v):!1}}function mce(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?Rh:Hle,areDatesEqual:Vle,areErrorsEqual:Wle,areFunctionsEqual:Gle,areMapsEqual:n?O_(M_,Rh):M_,areNumbersEqual:Yle,areObjectsEqual:n?Rh:Kle,arePrimitiveWrappersEqual:Xle,areRegExpsEqual:Jle,areSetsEqual:n?O_(D_,Rh):D_,areTypedArraysEqual:n?Rh:Zle,areUrlsEqual:Qle};if(r&&(i=F_({},i,r(i))),t){var s=i0(i.areArraysEqual),o=i0(i.areMapsEqual),l=i0(i.areObjectsEqual),c=i0(i.areSetsEqual);i=F_({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function pce(e){return function(t,r,n,i,s,o,l){return e(t,r,l)}}function gce(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,s=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,m=f===void 0?t?new WeakMap:void 0:f,h=d.meta;return r(c,u,{cache:m,equals:i,meta:h,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,u){return r(c,u,o)}}var xce=ac();ac({strict:!0});ac({circular:!0});ac({circular:!0,strict:!0});ac({createInternalComparator:function(){return Au}});ac({strict:!0,createInternalComparator:function(){return Au}});ac({circular:!0,createInternalComparator:function(){return Au}});ac({circular:!0,createInternalComparator:function(){return Au},strict:!0});function ac(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,s=e.strict,o=s===void 0?!1:s,l=mce(e),c=hce(l),u=n?n(c):pce(c);return gce({circular:r,comparator:c,createState:i,equals:u,strict:o})}function yce(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function B_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>t?(e(s),r=-1):yce(i)};requestAnimationFrame(n)}function dN(e){"@babel/helpers - typeof";return dN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dN(e)}function vce(e){return jce(e)||Nce(e)||wce(e)||bce()}function bce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wce(e,t){if(e){if(typeof e=="string")return U_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U_(e,t)}}function U_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jce(e){if(Array.isArray(e))return e}function Sce(){var e={},t=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=vce(o),c=l[0],u=l.slice(1);if(typeof c=="number"){B_(i.bind(null,u),c);return}i(c),B_(i.bind(null,u));return}dN(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}function z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function q_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z_(Object(r),!0).forEach(function(n){T8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T8(e,t,r){return t=Ace(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ace(e){var t=Ece(e,"string");return ip(t)==="symbol"?t:String(t)}function Ece(e,t){if(ip(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ip(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _ce=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},Pce=function(t){return t},Tce=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},om=function(t,r){return Object.keys(r).reduce(function(n,i){return q_(q_({},n),{},T8({},i,t(i,r[i])))},{})},H_=function(t,r,n){return t.map(function(i){return"".concat(Tce(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Cce(e,t){return Ice(e)||Oce(e,t)||C8(e,t)||kce()}function kce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Ice(e){if(Array.isArray(e))return e}function Lce(e){return Dce(e)||Mce(e)||C8(e)||Rce()}function Rce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C8(e,t){if(e){if(typeof e=="string")return fN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fN(e,t)}}function Mce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dce(e){if(Array.isArray(e))return fN(e)}function fN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Gx=1e-4,k8=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},O8=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},V_=function(t,r){return function(n){var i=k8(t,r);return O8(i,n)}},$ce=function(t,r){return function(n){var i=k8(t,r),s=[].concat(Lce(i.map(function(o,l){return o*l}).slice(1)),[0]);return O8(s,n)}},W_=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,l=1;break;case"ease":i=.25,s=.1,o=.25,l=1;break;case"ease-in":i=.42,s=0,o=1,l=1;break;case"ease-out":i=.42,s=0,o=.58,l=1;break;case"ease-in-out":i=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=Cce(u,4);i=d[0],s=d[1],o=d[2],l=d[3]}}}var f=V_(i,o),m=V_(s,l),h=$ce(i,o),p=function(x){return x>1?1:x<0?0:x},y=function(x){for(var b=x>1?1:x,N=b,w=0;w<8;++w){var S=f(N)-b,E=h(N);if(Math.abs(S-b)<Gx||E<Gx)return m(N);N=p(N-S/E)}return m(N)};return y.isStepper=!1,y},Fce=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,s=i===void 0?8:i,o=t.dt,l=o===void 0?17:o,c=function(d,f,m){var h=-(d-f)*n,p=m*s,y=m+(h-p)*l/1e3,v=m*l/1e3+d;return Math.abs(v-f)<Gx&&Math.abs(y)<Gx?[f,0]:[v,y]};return c.isStepper=!0,c.dt=l,c},Bce=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return W_(i);case"spring":return Fce();default:if(i.split("(")[0]==="cubic-bezier")return W_(i)}return typeof i=="function"?i:null};function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function G_(e){return qce(e)||zce(e)||I8(e)||Uce()}function Uce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qce(e){if(Array.isArray(e))return mN(e)}function Y_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y_(Object(r),!0).forEach(function(n){hN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hN(e,t,r){return t=Hce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hce(e){var t=Vce(e,"string");return sp(t)==="symbol"?t:String(t)}function Vce(e,t){if(sp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wce(e,t){return Kce(e)||Yce(e,t)||I8(e,t)||Gce()}function Gce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I8(e,t){if(e){if(typeof e=="string")return mN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mN(e,t)}}function mN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Kce(e){if(Array.isArray(e))return e}var Yx=function(t,r,n){return t+(r-t)*n},pN=function(t){var r=t.from,n=t.to;return r!==n},Xce=function e(t,r,n){var i=om(function(s,o){if(pN(o)){var l=t(o.from,o.to,o.velocity),c=Wce(l,2),u=c[0],d=c[1];return Yn(Yn({},o),{},{from:u,velocity:d})}return o},r);return n<1?om(function(s,o){return pN(o)?Yn(Yn({},o),{},{velocity:Yx(o.velocity,i[s].velocity,n),from:Yx(o.from,i[s].from,n)}):o},r):e(t,i,n-1)};const Jce=function(e,t,r,n,i){var s=_ce(e,t),o=s.reduce(function(v,x){return Yn(Yn({},v),{},hN({},x,[e[x],t[x]]))},{}),l=s.reduce(function(v,x){return Yn(Yn({},v),{},hN({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return om(function(x,b){return b.from},l)},h=function(){return!Object.values(l).filter(pN).length},p=function(x){u||(u=x);var b=x-u,N=b/r.dt;l=Xce(r,l,N),i(Yn(Yn(Yn({},e),t),m())),u=x,h()||(c=requestAnimationFrame(f))},y=function(x){d||(d=x);var b=(x-d)/n,N=om(function(S,E){return Yx.apply(void 0,G_(E).concat([r(b)]))},o);if(i(Yn(Yn(Yn({},e),t),N)),b<1)c=requestAnimationFrame(f);else{var w=om(function(S,E){return Yx.apply(void 0,G_(E).concat([r(1)]))},o);i(Yn(Yn(Yn({},e),t),w))}};return f=r.isStepper?p:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function rf(e){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rf(e)}var Zce=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Qce(e,t){if(e==null)return{};var r=eue(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eue(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Sb(e){return aue(e)||nue(e)||rue(e)||tue()}function tue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rue(e,t){if(e){if(typeof e=="string")return gN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gN(e,t)}}function nue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aue(e){if(Array.isArray(e))return gN(e)}function gN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function K_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function es(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K_(Object(r),!0).forEach(function(n){Wh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wh(e,t,r){return t=L8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L8(n.key),n)}}function oue(e,t,r){return t&&sue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function L8(e){var t=lue(e,"string");return rf(t)==="symbol"?t:String(t)}function lue(e,t){if(rf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xN(e,t)}function xN(e,t){return xN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xN(e,t)}function uue(e){var t=due();return function(){var n=Kx(e),i;if(t){var s=Kx(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return yN(this,i)}}function yN(e,t){if(t&&(rf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vN(e)}function vN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function due(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Kx(e){return Kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kx(e)}var ps=function(e){cue(r,e);var t=uue(r);function r(n,i){var s;iue(this,r),s=t.call(this,n,i);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,m=o.children,h=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(vN(s)),s.changeStyle=s.changeStyle.bind(vN(s)),!l||h<=0)return s.state={style:{}},typeof m=="function"&&(s.state={style:d}),yN(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof m=="function")return s.state={style:u},yN(s);s.state={style:c?Wh({},c,u):u}}else s.state={style:{}};return s}return oue(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,m=this.state.style;if(l){if(!o){var h={style:c?Wh({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(h);return}if(!(xce(i.to,d)&&i.canBegin&&i.isActive)){var p=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=p||u?f:i.to;if(this.state&&m){var v={style:c?Wh({},c,y):y};(c&&m[c]!==y||!c&&m!==y)&&this.setState(v)}this.runAnimation(es(es({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,m=i.onAnimationStart,h=Jce(o,l,Bce(u),c,this.changeStyle),p=function(){s.stopJSAnimation=h()};this.manager.start([m,d,p,c,f])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,m=f===void 0?0:f,h=function(y,v,x){if(x===0)return y;var b=v.duration,N=v.easing,w=N===void 0?"ease":N,S=v.style,E=v.properties,C=v.onAnimationEnd,k=x>0?o[x-1]:v,P=E||Object.keys(S);if(typeof w=="function"||w==="spring")return[].concat(Sb(y),[s.runJSAnimation.bind(s,{from:k.style,to:S,duration:b,easing:w}),b]);var D=H_(P,b,w),A=es(es(es({},k.style),S),{},{transition:D});return[].concat(Sb(y),[A,b,C]).filter(Pce)};return this.manager.start([c].concat(Sb(o.reduce(h,[d,Math.max(m,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Sce());var s=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,m=i.steps,h=i.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var y=l?Wh({},l,c):c,v=H_(Object.keys(y),o,u);p.start([d,s,es(es({},y),{},{transition:v}),o,f])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Qce(i,Zce),u=L.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var f=function(h){var p=h.props,y=p.style,v=y===void 0?{}:y,x=p.className,b=L.cloneElement(h,es(es({},c),{},{style:es(es({},v),d),className:x}));return b};return u===1?f(L.Children.only(s)):ce.createElement("div",null,L.Children.map(s,function(m){return f(m)}))}}]),r}(L.PureComponent);ps.displayName="Animate";ps.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ps.propTypes={from:tr.oneOfType([tr.object,tr.string]),to:tr.oneOfType([tr.object,tr.string]),attributeName:tr.string,duration:tr.number,begin:tr.number,easing:tr.oneOfType([tr.string,tr.func]),steps:tr.arrayOf(tr.shape({duration:tr.number.isRequired,style:tr.object.isRequired,easing:tr.oneOfType([tr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),tr.func]),properties:tr.arrayOf("string"),onAnimationEnd:tr.func})),children:tr.oneOfType([tr.node,tr.func]),isActive:tr.bool,canBegin:tr.bool,onAnimationEnd:tr.func,shouldReAnimate:tr.bool,onAnimationStart:tr.func,onAnimationReStart:tr.func};function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}function Xx(){return Xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xx.apply(this,arguments)}function fue(e,t){return gue(e)||pue(e,t)||mue(e,t)||hue()}function hue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mue(e,t){if(e){if(typeof e=="string")return X_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X_(e,t)}}function X_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function gue(e){if(Array.isArray(e))return e}function J_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Z_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J_(Object(r),!0).forEach(function(n){xue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xue(e,t,r){return t=yue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yue(e){var t=vue(e,"string");return op(t)=="symbol"?t:t+""}function vue(e,t){if(op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Q_=function(t,r,n,i,s){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],m=0,h=4;m<h;m++)f[m]=s[m]>o?o:s[m];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+i-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+i)),d+="L ".concat(t+c*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+i-l*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var p=Math.min(o,s);d="M ".concat(t,",").concat(r+l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+c*p,",").concat(r,`
            L `).concat(t+n-c*p,",").concat(r,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*p,`
            L `).concat(t+n,",").concat(r+i-l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+n-c*p,",").concat(r+i,`
            L `).concat(t+c*p,",").concat(r+i,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t,",").concat(r+i-l*p," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},bue=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(o,o+c),m=Math.max(o,o+c);return n>=u&&n<=d&&i>=f&&i<=m}return!1},wue={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lS=function(t){var r=Z_(Z_({},wue),t),n=L.useRef(),i=L.useState(-1),s=fue(i,2),o=s[0],l=s[1];L.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,m=r.radius,h=r.className,p=r.animationEasing,y=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var N=yt("recharts-rectangle",h);return b?ce.createElement(ps,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:y,animationEasing:p,isActive:b},function(w){var S=w.width,E=w.height,C=w.x,k=w.y;return ce.createElement(ps,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,isActive:x,easing:p},ce.createElement("path",Xx({},ut(r,!0),{className:N,d:Q_(C,k,S,E,m),ref:n})))}):ce.createElement("path",Xx({},ut(r,!0),{className:N,d:Q_(c,u,d,f,m)}))},Nue=["points","className","baseLinePoints","connectNulls"];function gd(){return gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gd.apply(this,arguments)}function jue(e,t){if(e==null)return{};var r=Sue(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function eP(e){return Pue(e)||_ue(e)||Eue(e)||Aue()}function Aue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eue(e,t){if(e){if(typeof e=="string")return bN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bN(e,t)}}function _ue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pue(e){if(Array.isArray(e))return bN(e)}function bN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var tP=function(t){return t&&t.x===+t.x&&t.y===+t.y},Tue=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){tP(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),tP(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},lm=function(t,r){var n=Tue(t);r&&(n=[n.reduce(function(s,o){return[].concat(eP(s),eP(o))},[])]);var i=n.map(function(s){return s.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Cue=function(t,r,n){var i=lm(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(lm(r.reverse(),n).slice(1))},kue=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,s=t.connectNulls,o=jue(t,Nue);if(!r||!r.length)return null;var l=yt("recharts-polygon",n);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=Cue(r,i,s);return ce.createElement("g",{className:l},ce.createElement("path",gd({},ut(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?ce.createElement("path",gd({},ut(o,!0),{fill:"none",d:lm(r,s)})):null,c?ce.createElement("path",gd({},ut(o,!0),{fill:"none",d:lm(i,s)})):null)}var d=lm(r,s);return ce.createElement("path",gd({},ut(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function wN(){return wN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wN.apply(this,arguments)}var Bp=function(t){var r=t.cx,n=t.cy,i=t.r,s=t.className,o=yt("recharts-dot",s);return r===+r&&n===+n&&i===+i?L.createElement("circle",wN({},ut(t,!1),gx(t),{className:o,cx:r,cy:n,r:i})):null};function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(e)}var Oue=["x","y","top","left","width","height","className"];function NN(){return NN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NN.apply(this,arguments)}function rP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Iue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rP(Object(r),!0).forEach(function(n){Lue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lue(e,t,r){return t=Rue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rue(e){var t=Mue(e,"string");return lp(t)=="symbol"?t:t+""}function Mue(e,t){if(lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Due(e,t){if(e==null)return{};var r=$ue(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $ue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Fue=function(t,r,n,i,s,o){return"M".concat(t,",").concat(s,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},Bue=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,m=t.height,h=m===void 0?0:m,p=t.className,y=Due(t,Oue),v=Iue({x:n,y:s,top:l,left:u,width:f,height:h},y);return!He(n)||!He(s)||!He(f)||!He(h)||!He(l)||!He(u)?null:ce.createElement("path",NN({},ut(v,!0),{className:yt("recharts-cross",p),d:Fue(n,s,f,h,l,u)}))},Uue=Sv,zue=WL,que=Xs;function Hue(e,t){return e&&e.length?Uue(e,que(t),zue):void 0}var Vue=Hue;const Wue=lr(Vue);var Gue=Sv,Yue=Xs,Kue=GL;function Xue(e,t){return e&&e.length?Gue(e,Yue(t),Kue):void 0}var Jue=Xue;const Zue=lr(Jue);var Que=["cx","cy","angle","ticks","axisLine"],ede=["ticks","tick","angle","tickFormatter","stroke"];function nf(e){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nf(e)}function cm(){return cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cm.apply(this,arguments)}function nP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nP(Object(r),!0).forEach(function(n){Pv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aP(e,t){if(e==null)return{};var r=tde(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M8(n.key),n)}}function nde(e,t,r){return t&&iP(e.prototype,t),r&&iP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ade(e,t,r){return t=Jx(t),ide(e,R8()?Reflect.construct(t,r||[],Jx(e).constructor):t.apply(e,r))}function ide(e,t){if(t&&(nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sde(e)}function sde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R8=function(){return!!e})()}function Jx(e){return Jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jx(e)}function ode(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jN(e,t)}function jN(e,t){return jN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jN(e,t)}function Pv(e,t,r){return t=M8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M8(e){var t=lde(e,"string");return nf(t)=="symbol"?t:t+""}function lde(e,t){if(nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Tv=function(e){function t(){return rde(this,t),ade(this,t,arguments)}return ode(t,e),nde(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,s=this.props,o=s.angle,l=s.cx,c=s.cy;return Sr(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=Wue(l,function(d){return d.coordinate||0}),u=Zue(l,function(d){return d.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=aP(n,Que),d=l.reduce(function(p,y){return[Math.min(p[0],y.coordinate),Math.max(p[1],y.coordinate)]},[1/0,-1/0]),f=Sr(i,s,d[0],o),m=Sr(i,s,d[1],o),h=jc(jc(jc({},ut(u,!1)),{},{fill:"none"},ut(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return ce.createElement("line",cm({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,d=aP(i,ede),f=this.getTickTextAnchor(),m=ut(d,!1),h=ut(o,!1),p=s.map(function(y,v){var x=n.getTickValueCoord(y),b=jc(jc(jc(jc({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},m),{},{stroke:"none",fill:u},h),{},{index:v},x),{},{payload:y});return ce.createElement(Bt,cm({className:yt("recharts-polar-radius-axis-tick",w8(o)),key:"tick-".concat(y.coordinate)},uu(n.props,y,v)),t.renderTickItem(o,b,c?c(y.value,v):y.value))});return ce.createElement(Bt,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.axisLine,o=n.tick;return!i||!i.length?null:ce.createElement(Bt,{className:yt("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),In.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,s){var o;return ce.isValidElement(n)?o=ce.cloneElement(n,i):xt(n)?o=n(i):o=ce.createElement(du,cm({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(L.PureComponent);Pv(Tv,"displayName","PolarRadiusAxis");Pv(Tv,"axisType","radiusAxis");Pv(Tv,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function af(e){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},af(e)}function Ic(){return Ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ic.apply(this,arguments)}function sP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sP(Object(r),!0).forEach(function(n){Cv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$8(n.key),n)}}function ude(e,t,r){return t&&oP(e.prototype,t),r&&oP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dde(e,t,r){return t=Zx(t),fde(e,D8()?Reflect.construct(t,r||[],Zx(e).constructor):t.apply(e,r))}function fde(e,t){if(t&&(af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hde(e)}function hde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D8=function(){return!!e})()}function Zx(e){return Zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zx(e)}function mde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SN(e,t)}function SN(e,t){return SN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},SN(e,t)}function Cv(e,t,r){return t=$8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $8(e){var t=pde(e,"string");return af(t)=="symbol"?t:t+""}function pde(e,t){if(af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gde=Math.PI/180,lP=1e-5,kv=function(e){function t(){return cde(this,t),dde(this,t,arguments)}return mde(t,e),ude(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.cx,o=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=Sr(s,o,l,n.coordinate),m=Sr(s,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,s=Math.cos(-n.coordinate*gde),o;return s>lP?o=i==="outer"?"start":"end":s<-lP?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Sc(Sc({},ut(this.props,!1)),{},{fill:"none"},ut(l,!1));if(c==="circle")return ce.createElement(Bp,Ic({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:s,r:o}));var d=this.props.ticks,f=d.map(function(m){return Sr(i,s,o,m.coordinate)});return ce.createElement(kue,Ic({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,d=ut(this.props,!1),f=ut(o,!1),m=Sc(Sc({},d),{},{fill:"none"},ut(l,!1)),h=s.map(function(p,y){var v=n.getTickLineCoord(p),x=n.getTickTextAnchor(p),b=Sc(Sc(Sc({textAnchor:x},d),{},{stroke:"none",fill:u},f),{},{index:y,payload:p,x:v.x2,y:v.y2});return ce.createElement(Bt,Ic({className:yt("recharts-polar-angle-axis-tick",w8(o)),key:"tick-".concat(p.coordinate)},uu(n.props,p,y)),l&&ce.createElement("line",Ic({className:"recharts-polar-angle-axis-tick-line"},m,v)),o&&t.renderTickItem(o,b,c?c(p.value,y):p.value))});return ce.createElement(Bt,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!i||!i.length?null:ce.createElement(Bt,{className:yt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,s){var o;return ce.isValidElement(n)?o=ce.cloneElement(n,i):xt(n)?o=n(i):o=ce.createElement(du,Ic({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(L.PureComponent);Cv(kv,"displayName","PolarAngleAxis");Cv(kv,"axisType","angleAxis");Cv(kv,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var xde=zI,yde=xde(Object.getPrototypeOf,Object),vde=yde,bde=Ko,wde=vde,Nde=Xo,jde="[object Object]",Sde=Function.prototype,Ade=Object.prototype,F8=Sde.toString,Ede=Ade.hasOwnProperty,_de=F8.call(Object);function Pde(e){if(!Nde(e)||bde(e)!=jde)return!1;var t=wde(e);if(t===null)return!0;var r=Ede.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&F8.call(r)==_de}var Tde=Pde;const Cde=lr(Tde);var kde=Ko,Ode=Xo,Ide="[object Boolean]";function Lde(e){return e===!0||e===!1||Ode(e)&&kde(e)==Ide}var Rde=Lde;const Mde=lr(Rde);function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(e)}function Qx(){return Qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qx.apply(this,arguments)}function Dde(e,t){return Ude(e)||Bde(e,t)||Fde(e,t)||$de()}function $de(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fde(e,t){if(e){if(typeof e=="string")return cP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cP(e,t)}}function cP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Ude(e){if(Array.isArray(e))return e}function uP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(r),!0).forEach(function(n){zde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zde(e,t,r){return t=qde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qde(e){var t=Hde(e,"string");return cp(t)=="symbol"?t:t+""}function Hde(e,t){if(cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fP=function(t,r,n,i,s){var o=n-i,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+s),l+="L ".concat(t+n-o/2-i,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},Vde={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Wde=function(t){var r=dP(dP({},Vde),t),n=L.useRef(),i=L.useState(-1),s=Dde(i,2),o=s[0],l=s[1];L.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,m=r.height,h=r.className,p=r.animationEasing,y=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var b=yt("recharts-trapezoid",h);return x?ce.createElement(ps,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:y,animationEasing:p,isActive:x},function(N){var w=N.upperWidth,S=N.lowerWidth,E=N.height,C=N.x,k=N.y;return ce.createElement(ps,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,easing:p},ce.createElement("path",Qx({},ut(r,!0),{className:b,d:fP(C,k,w,S,E),ref:n})))}):ce.createElement("g",null,ce.createElement("path",Qx({},ut(r,!0),{className:b,d:fP(c,u,d,f,m)})))},Gde=["option","shapeType","propTransformer","activeClassName","isActive"];function up(e){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(e)}function Yde(e,t){if(e==null)return{};var r=Kde(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ey(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hP(Object(r),!0).forEach(function(n){Xde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xde(e,t,r){return t=Jde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jde(e){var t=Zde(e,"string");return up(t)=="symbol"?t:t+""}function Zde(e,t){if(up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qde(e,t){return ey(ey({},t),e)}function efe(e,t){return e==="symbols"}function mP(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return ce.createElement(lS,r);case"trapezoid":return ce.createElement(Wde,r);case"sector":return ce.createElement(S8,r);case"symbols":if(efe(t))return ce.createElement(_5,r);break;default:return null}}function tfe(e){return L.isValidElement(e)?e.props:e}function B8(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?Qde:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=Yde(e,Gde),u;if(L.isValidElement(t))u=L.cloneElement(t,ey(ey({},c),tfe(t)));else if(xt(t))u=t(c);else if(Cde(t)&&!Mde(t)){var d=i(t,c);u=ce.createElement(mP,{shapeType:r,elementProps:d})}else{var f=c;u=ce.createElement(mP,{shapeType:r,elementProps:f})}return l?ce.createElement(Bt,{className:o},u):u}function Ov(e,t){return t!=null&&"trapezoids"in e.props}function Iv(e,t){return t!=null&&"sectors"in e.props}function dp(e,t){return t!=null&&"points"in e.props}function rfe(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&s}function nfe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function afe(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function ife(e,t){var r;return Ov(e,t)?r=rfe:Iv(e,t)?r=nfe:dp(e,t)&&(r=afe),r}function sfe(e,t){var r;return Ov(e,t)?r="trapezoids":Iv(e,t)?r="sectors":dp(e,t)&&(r="points"),r}function ofe(e,t){if(Ov(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Iv(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return dp(e,t)?t.payload:{}}function lfe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=sfe(r,t),s=ofe(r,t),o=n.filter(function(c,u){var d=fu(s,c),f=r.props[i].filter(function(p){var y=ife(r,t);return y(p,t)}),m=r.props[i].indexOf(f[f.length-1]),h=u===m;return d&&h}),l=n.indexOf(o[o.length-1]);return l}var R0;function sf(e){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sf(e)}function xd(){return xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xd.apply(this,arguments)}function pP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pP(Object(r),!0).forEach(function(n){Li(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z8(n.key),n)}}function ufe(e,t,r){return t&&gP(e.prototype,t),r&&gP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dfe(e,t,r){return t=ty(t),ffe(e,U8()?Reflect.construct(t,r||[],ty(e).constructor):t.apply(e,r))}function ffe(e,t){if(t&&(sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hfe(e)}function hfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U8=function(){return!!e})()}function ty(e){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ty(e)}function mfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AN(e,t)}function AN(e,t){return AN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},AN(e,t)}function Li(e,t,r){return t=z8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z8(e){var t=pfe(e,"string");return sf(t)=="symbol"?t:t+""}function pfe(e,t){if(sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zo=function(e){function t(r){var n;return cfe(this,t),n=dfe(this,t,[r]),Li(n,"pieRef",null),Li(n,"sectorRefs",[]),Li(n,"id",Nu("recharts-pie-")),Li(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),xt(i)&&i()}),Li(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),xt(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return mfe(t,e),ufe(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=ut(this.props,!1),f=ut(o,!1),m=ut(l,!1),h=o&&o.offsetRadius||20,p=n.map(function(y,v){var x=(y.startAngle+y.endAngle)/2,b=Sr(y.cx,y.cy,y.outerRadius+h,x),N=wr(wr(wr(wr({},d),y),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(b.x,y.cx)},b),w=wr(wr(wr(wr({},d),y),{},{fill:"none",stroke:y.fill},m),{},{index:v,points:[Sr(y.cx,y.cy,y.outerRadius,x),b]}),S=c;return jt(c)&&jt(u)?S="value":jt(c)&&(S=u),ce.createElement(Bt,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,w,"line"),t.renderLabelItem(o,N,sn(y,S)))});return ce.createElement(Bt,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(d),m=c&&i.hasActiveIndex()?c:null,h=f?o:m,p=wr(wr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return ce.createElement(Bt,xd({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},uu(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),ce.createElement(B8,xd({option:h,isActive:f,shapeType:"sector"},p)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,m=f.prevSectors,h=f.prevIsAnimationActive;return ce.createElement(ps,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(p){var y=p.t,v=[],x=s&&s[0],b=x.startAngle;return s.forEach(function(N,w){var S=m&&m[w],E=w>0?pi(N,"paddingAngle",0):0;if(S){var C=An(S.endAngle-S.startAngle,N.endAngle-N.startAngle),k=wr(wr({},N),{},{startAngle:b+E,endAngle:b+C(y)+E});v.push(k),b=k.endAngle}else{var P=N.endAngle,D=N.startAngle,A=An(0,P-D),I=A(y),$=wr(wr({},N),{},{startAngle:b+E,endAngle:b+I+E});v.push($),b=$.endAngle}}),ce.createElement(Bt,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!fu(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,m=i.outerRadius,h=i.isAnimationActive,p=this.state.isAnimationFinished;if(s||!o||!o.length||!He(u)||!He(d)||!He(f)||!He(m))return null;var y=yt("recharts-pie",l);return ce.createElement(Bt,{tabIndex:this.props.rootTabIndex,className:y,ref:function(x){n.pieRef=x}},this.renderSectors(),c&&this.renderLabels(o),In.renderCallByParent(this.props,null,!1),(!h||p)&&Ws.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(ce.isValidElement(n))return ce.cloneElement(n,i);if(xt(n))return n(i);var o=yt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return ce.createElement(Zc,xd({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,s){if(ce.isValidElement(n))return ce.cloneElement(n,i);var o=s;if(xt(n)&&(o=n(i),ce.isValidElement(o)))return o;var l=yt("recharts-pie-label-text",typeof n!="boolean"&&!xt(n)?n.className:"");return ce.createElement(du,xd({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(L.PureComponent);R0=Zo;Li(Zo,"displayName","Pie");Li(Zo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!tc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Li(Zo,"parseDeltaAngle",function(e,t){var r=Ea(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Li(Zo,"getRealPieData",function(e){var t=e.data,r=e.children,n=ut(e,!1),i=gi(r,xv);return t&&t.length?t.map(function(s,o){return wr(wr(wr({payload:s},n),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return wr(wr({},n),s.props)}):[]});Li(Zo,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,s=t.height,o=b8(i,s),l=n+_a(e.cx,i,i/2),c=r+_a(e.cy,s,s/2),u=_a(e.innerRadius,o,0),d=_a(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Li(Zo,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?wr(wr({},t.type.defaultProps),t.props):t.props,i=R0.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,m=n.tooltipType,h=Math.abs(n.minAngle),p=R0.parseCoordinateOfPie(n,r),y=R0.parseDeltaAngle(o,l),v=Math.abs(y),x=u;jt(u)&&jt(f)?(hs(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):jt(u)&&(hs(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var b=i.filter(function(k){return sn(k,x,0)!==0}).length,N=(v>=360?b:b-1)*c,w=v-b*h-N,S=i.reduce(function(k,P){var D=sn(P,x,0);return k+(He(D)?D:0)},0),E;if(S>0){var C;E=i.map(function(k,P){var D=sn(k,x,0),A=sn(k,d,P),I=(He(D)?D:0)/S,$;P?$=C.endAngle+Ea(y)*c*(D!==0?1:0):$=o;var _=$+Ea(y)*((D!==0?h:0)+I*w),M=($+_)/2,z=(p.innerRadius+p.outerRadius)/2,Z=[{name:A,value:D,payload:k,dataKey:x,type:m}],R=Sr(p.cx,p.cy,z,M);return C=wr(wr(wr({percent:I,cornerRadius:s,name:A,tooltipPayload:Z,midAngle:M,middleRadius:z,tooltipPosition:R},k),p),{},{value:sn(k,x),startAngle:$,endAngle:_,payload:k,paddingAngle:Ea(y)*c}),C})}return wr(wr({},p),{},{sectors:E,data:i})});var gfe=Math.ceil,xfe=Math.max;function yfe(e,t,r,n){for(var i=-1,s=xfe(gfe((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++i]=e,e+=r;return o}var vfe=yfe,bfe=oL,xP=1/0,wfe=17976931348623157e292;function Nfe(e){if(!e)return e===0?e:0;if(e=bfe(e),e===xP||e===-xP){var t=e<0?-1:1;return t*wfe}return e===e?e:0}var q8=Nfe,jfe=vfe,Sfe=gv,Ab=q8;function Afe(e){return function(t,r,n){return n&&typeof n!="number"&&Sfe(t,r,n)&&(r=n=void 0),t=Ab(t),r===void 0?(r=t,t=0):r=Ab(r),n=n===void 0?t<r?1:-1:Ab(n),jfe(t,r,n,e)}}var Efe=Afe,_fe=Efe,Pfe=_fe(),Tfe=Pfe;const ry=lr(Tfe);function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(e)}function yP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(r),!0).forEach(function(n){H8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H8(e,t,r){return t=Cfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cfe(e){var t=kfe(e,"string");return fp(t)=="symbol"?t:t+""}function kfe(e,t){if(fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ofe=["Webkit","Moz","O","ms"],Ife=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),i=Ofe.reduce(function(s,o){return vP(vP({},s),{},H8({},o+n,r))},{});return i[t]=r,i};function of(e){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},of(e)}function ny(){return ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ny.apply(this,arguments)}function bP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Eb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(r),!0).forEach(function(n){oi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W8(n.key),n)}}function Rfe(e,t,r){return t&&wP(e.prototype,t),r&&wP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mfe(e,t,r){return t=ay(t),Dfe(e,V8()?Reflect.construct(t,r||[],ay(e).constructor):t.apply(e,r))}function Dfe(e,t){if(t&&(of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $fe(e)}function $fe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V8=function(){return!!e})()}function ay(e){return ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ay(e)}function Ffe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EN(e,t)}function EN(e,t){return EN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},EN(e,t)}function oi(e,t,r){return t=W8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W8(e){var t=Bfe(e,"string");return of(t)=="symbol"?t:t+""}function Bfe(e,t){if(of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ufe=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=im().domain(ry(0,c)).range([s,s+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},NP=function(t){return t.changedTouches&&!!t.changedTouches.length},lf=function(e){function t(r){var n;return Lfe(this,t),n=Mfe(this,t,[r]),oi(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),oi(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),oi(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),oi(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),oi(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),oi(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),oi(n,"handleSlideDragStart",function(i){var s=NP(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Ffe(t,e),Rfe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(i,s),m=Math.max(i,s),h=t.getIndexInRange(o,f),p=t.getIndexInRange(o,m);return{startIndex:h-h%c,endIndex:p===d?d:p-p%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,o=i.tickFormatter,l=i.dataKey,c=sn(s[n],l,n);return xt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,h=c.endIndex,p=c.onChange,y=n.pageX-s;y>0?y=Math.min(y,u+d-f-l,u+d-f-o):y<0&&(y=Math.max(y,u-o,u-l));var v=this.getIndex({startX:o+y,endX:l+y});(v.startIndex!==m||v.endIndex!==h)&&p&&p(v),this.setState({startX:o+y,endX:l+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=NP(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],d=this.props,f=d.x,m=d.width,h=d.travellerWidth,p=d.onChange,y=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},b=n.pageX-s;b>0?b=Math.min(b,f+m-h-u):b<0&&(b=Math.max(b,f-u)),x[o]=u+b;var N=this.getIndex(x),w=N.startIndex,S=N.endIndex,E=function(){var k=v.length-1;return o==="startX"&&(l>c?w%y===0:S%y===0)||l<c&&S===k||o==="endX"&&(l>c?S%y===0:w%y===0)||l>c&&S===k};this.setState(oi(oi({},o,u+b),"brushMoveStartX",n.pageX),function(){p&&E()&&p(N)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],f=l.indexOf(d);if(f!==-1){var m=f+n;if(!(m===-1||m>=l.length)){var h=l[m];i==="startX"&&h>=u||i==="endX"&&h<=c||this.setState(oi({},i,h),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return ce.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=L.Children.only(u);return f?ce.cloneElement(f,{x:i,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,h=c.ariaLabel,p=c.data,y=c.startIndex,v=c.endIndex,x=Math.max(n,this.props.x),b=Eb(Eb({},ut(this.props,!1)),{},{x,y:u,width:d,height:f}),N=h||"Min value: ".concat((s=p[y])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=p[v])===null||o===void 0?void 0:o.name);return ce.createElement(Bt,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,b))}},{key:"renderSlide",value:function(n,i){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return ce.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,m=d.endX,h=5,p={pointerEvents:"none",fill:u};return ce.createElement(Bt,{className:"recharts-brush-texts"},ce.createElement(du,ny({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-h,y:o+l/2},p),this.getTextOfTick(i)),ce.createElement(du,ny({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+h,y:o+l/2},p),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,m=this.state,h=m.startX,p=m.endX,y=m.isTextActive,v=m.isSlideMoving,x=m.isTravellerMoving,b=m.isTravellerFocused;if(!i||!i.length||!He(l)||!He(c)||!He(u)||!He(d)||u<=0||d<=0)return null;var N=yt("recharts-brush",s),w=ce.Children.count(o)===1,S=Ife("userSelect","none");return ce.createElement(Bt,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(h,p),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(p,"endX"),(y||v||x||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return ce.createElement(ce.Fragment,null,ce.createElement("rect",{x:i,y:s,width:o,height:l,fill:c,stroke:"none"}),ce.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),ce.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return ce.isValidElement(n)?s=ce.cloneElement(n,i):xt(n)?s=n(i):s=t.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return Eb({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?Ufe({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var m=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])}(L.PureComponent);oi(lf,"displayName","Brush");oi(lf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var zfe=L5;function qfe(e,t){var r;return zfe(e,function(n,i,s){return r=t(n,i,s),!r}),!!r}var Hfe=qfe,Vfe=LI,Wfe=Xs,Gfe=Hfe,Yfe=Ya,Kfe=gv;function Xfe(e,t,r){var n=Yfe(e)?Vfe:Gfe;return r&&Kfe(e,t,r)&&(t=void 0),n(e,Wfe(t))}var Jfe=Xfe;const Zfe=lr(Jfe);var Gs=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},jP=rL;function Qfe(e,t,r){t=="__proto__"&&jP?jP(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var ehe=Qfe,the=ehe,rhe=eL,nhe=Xs;function ahe(e,t){var r={};return t=nhe(t),rhe(e,function(n,i,s){the(r,i,t(n,i,s))}),r}var ihe=ahe;const she=lr(ihe);function ohe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var lhe=ohe,che=L5;function uhe(e,t){var r=!0;return che(e,function(n,i,s){return r=!!t(n,i,s),r}),r}var dhe=uhe,fhe=lhe,hhe=dhe,mhe=Xs,phe=Ya,ghe=gv;function xhe(e,t,r){var n=phe(e)?fhe:hhe;return r&&ghe(e,t,r)&&(t=void 0),n(e,mhe(t))}var yhe=xhe;const G8=lr(yhe);var vhe=["x","y"];function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(e)}function _N(){return _N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_N.apply(this,arguments)}function SP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SP(Object(r),!0).forEach(function(n){bhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bhe(e,t,r){return t=whe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function whe(e){var t=Nhe(e,"string");return hp(t)=="symbol"?t:t+""}function Nhe(e,t){if(hp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jhe(e,t){if(e==null)return{};var r=She(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function She(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ahe(e,t){var r=e.x,n=e.y,i=jhe(e,vhe),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),m=parseInt(f,10);return Mh(Mh(Mh(Mh(Mh({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function AP(e){return ce.createElement(B8,_N({shapeType:"rectangle",propTransformer:Ahe,activeClassName:"recharts-active-bar"},e))}var Ehe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var s=He(n)||ZV(n);return s?t(n,i):(s||mu(),r)}},_he=["value","background"],Y8;function cf(e){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cf(e)}function Phe(e,t){if(e==null)return{};var r=The(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function The(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iy(){return iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iy.apply(this,arguments)}function EP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(r),!0).forEach(function(n){Il(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Che(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,X8(n.key),n)}}function khe(e,t,r){return t&&_P(e.prototype,t),r&&_P(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ohe(e,t,r){return t=sy(t),Ihe(e,K8()?Reflect.construct(t,r||[],sy(e).constructor):t.apply(e,r))}function Ihe(e,t){if(t&&(cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lhe(e)}function Lhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K8=function(){return!!e})()}function sy(e){return sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sy(e)}function Rhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PN(e,t)}function PN(e,t){return PN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},PN(e,t)}function Il(e,t,r){return t=X8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X8(e){var t=Mhe(e,"string");return cf(t)=="symbol"?t:t+""}function Mhe(e,t){if(cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Eu=function(e){function t(){var r;Che(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Ohe(this,t,[].concat(i)),Il(r,"state",{isAnimationFinished:!1}),Il(r,"id",Nu("recharts-bar-")),Il(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Il(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Rhe(t,e),khe(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=ut(this.props,!1);return n&&n.map(function(f,m){var h=m===c,p=h?u:o,y=hn(hn(hn({},d),f),{},{isActive:h,option:p,index:m,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ce.createElement(Bt,iy({className:"recharts-bar-rectangle"},uu(i.props,f,m),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(m)}),ce.createElement(AP,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,m=this.state.prevData;return ce.createElement(ps,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,y=s.map(function(v,x){var b=m&&m[x];if(b){var N=An(b.x,v.x),w=An(b.y,v.y),S=An(b.width,v.width),E=An(b.height,v.height);return hn(hn({},v),{},{x:N(p),y:w(p),width:S(p),height:E(p)})}if(o==="horizontal"){var C=An(0,v.height),k=C(p);return hn(hn({},v),{},{y:v.y+v.height-k,height:k})}var P=An(0,v.width),D=P(p);return hn(hn({},v),{},{width:D})});return ce.createElement(Bt,null,n.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!fu(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,o=i.dataKey,l=i.activeIndex,c=ut(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,m=Phe(u,_he);if(!f)return null;var h=hn(hn(hn(hn(hn({},m),{},{fill:"#eee"},f),c),uu(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return ce.createElement(AP,iy({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},h))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=gi(d,Fp);if(!f)return null;var m=u==="vertical"?o[0].height/2:o[0].width/2,h=function(v,x){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:sn(v,x)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return ce.createElement(Bt,p,f.map(function(y){return ce.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:m,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,m=n.height,h=n.isAnimationActive,p=n.background,y=n.id;if(i||!s||!s.length)return null;var v=this.state.isAnimationFinished,x=yt("recharts-bar",o),b=l&&l.allowDataOverflow,N=c&&c.allowDataOverflow,w=b||N,S=jt(y)?this.id:y;return ce.createElement(Bt,{className:x},b||N?ce.createElement("defs",null,ce.createElement("clipPath",{id:"clipPath-".concat(S)},ce.createElement("rect",{x:b?u:u-f/2,y:N?d:d-m/2,width:b?f:f*2,height:N?m:m*2}))):null,ce.createElement(Bt,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(S,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,S),(!h||v)&&Ws.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(L.PureComponent);Y8=Eu;Il(Eu,"displayName","Bar");Il(Eu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!tc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Il(Eu,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,m=e.offset,h=goe(n,r);if(!h)return null;var p=t.layout,y=r.type.defaultProps,v=y!==void 0?hn(hn({},y),r.props):r.props,x=v.dataKey,b=v.children,N=v.minPointSize,w=p==="horizontal"?o:s,S=u?w.scale.domain():null,E=joe({numericAxis:w}),C=gi(b,xv),k=f.map(function(P,D){var A,I,$,_,M,z;u?A=xoe(u[d+D],S):(A=sn(P,x),Array.isArray(A)||(A=[E,A]));var Z=Ehe(N,Y8.defaultProps.minPointSize)(A[1],D);if(p==="horizontal"){var R,U=[o.scale(A[0]),o.scale(A[1])],re=U[0],de=U[1];I=g_({axis:s,ticks:l,bandSize:i,offset:h.offset,entry:P,index:D}),$=(R=de??re)!==null&&R!==void 0?R:void 0,_=h.size;var B=re-de;if(M=Number.isNaN(B)?0:B,z={x:I,y:o.y,width:_,height:o.height},Math.abs(Z)>0&&Math.abs(M)<Math.abs(Z)){var G=Ea(M||Z)*(Math.abs(Z)-Math.abs(M));$-=G,M+=G}}else{var te=[s.scale(A[0]),s.scale(A[1])],ue=te[0],q=te[1];if(I=ue,$=g_({axis:o,ticks:c,bandSize:i,offset:h.offset,entry:P,index:D}),_=q-ue,M=h.size,z={x:s.x,y:$,width:s.width,height:M},Math.abs(Z)>0&&Math.abs(_)<Math.abs(Z)){var X=Ea(_||Z)*(Math.abs(Z)-Math.abs(_));_+=X}}return hn(hn(hn({},P),{},{x:I,y:$,width:_,height:M,value:u?A:A[1],payload:P,background:z},C&&C[D]&&C[D].props),{},{tooltipPayload:[y8(r,P)],tooltipPosition:{x:I+_/2,y:$+M/2}})});return hn({data:k,layout:p},m)});function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}function Dhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,J8(n.key),n)}}function $he(e,t,r){return t&&PP(e.prototype,t),r&&PP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function TP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function is(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(r),!0).forEach(function(n){Lv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lv(e,t,r){return t=J8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J8(e){var t=Fhe(e,"string");return mp(t)=="symbol"?t:t+""}function Fhe(e,t){if(mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cS=function(t,r,n,i,s){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},m=!!ci(u,Eu);return d.reduce(function(h,p){var y=r[p],v=y.orientation,x=y.domain,b=y.padding,N=b===void 0?{}:b,w=y.mirror,S=y.reversed,E="".concat(v).concat(w?"Mirror":""),C,k,P,D,A;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var I=x[1]-x[0],$=1/0,_=y.categoricalDomain.sort(tW);if(_.forEach(function(te,ue){ue>0&&($=Math.min((te||0)-(_[ue-1]||0),$))}),Number.isFinite($)){var M=$/I,z=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(C=M*z/2),y.padding==="no-gap"){var Z=_a(t.barCategoryGap,M*z),R=M*z/2;C=R-Z-(R-Z)/z*Z}}}i==="xAxis"?k=[n.left+(N.left||0)+(C||0),n.left+n.width-(N.right||0)-(C||0)]:i==="yAxis"?k=c==="horizontal"?[n.top+n.height-(N.bottom||0),n.top+(N.top||0)]:[n.top+(N.top||0)+(C||0),n.top+n.height-(N.bottom||0)-(C||0)]:k=y.range,S&&(k=[k[1],k[0]]);var U=m8(y,s,m),re=U.scale,de=U.realScaleType;re.domain(x).range(k),p8(re);var B=g8(re,is(is({},y),{},{realScaleType:de}));i==="xAxis"?(A=v==="top"&&!w||v==="bottom"&&w,P=n.left,D=f[E]-A*y.height):i==="yAxis"&&(A=v==="left"&&!w||v==="right"&&w,P=f[E]-A*y.width,D=n.top);var G=is(is(is({},y),B),{},{realScaleType:de,x:P,y:D,scale:re,width:i==="xAxis"?n.width:y.width,height:i==="yAxis"?n.height:y.height});return G.bandSize=Hx(G,B),!y.hide&&i==="xAxis"?f[E]+=(A?-1:1)*G.height:y.hide||(f[E]+=(A?-1:1)*G.width),is(is({},h),{},Lv({},p,G))},{})},Z8=function(t,r){var n=t.x,i=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(i,o),width:Math.abs(s-n),height:Math.abs(o-i)}},Bhe=function(t){var r=t.x1,n=t.y1,i=t.x2,s=t.y2;return Z8({x:r,y:n},{x:i,y:s})},Q8=function(){function e(t){Dhe(this,e),this.scale=t}return $he(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();Lv(Q8,"EPS",1e-4);var uS=function(t){var r=Object.keys(t).reduce(function(n,i){return is(is({},n),{},Lv({},i,Q8.create(t[i])))},{});return is(is({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return she(i,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return G8(i,function(s,o){return r[o].isInRange(s)})}})};function Uhe(e){return(e%180+180)%180}var zhe=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Uhe(i),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},qhe=Xs,Hhe=Lp,Vhe=mv;function Whe(e){return function(t,r,n){var i=Object(t);if(!Hhe(t)){var s=qhe(r);t=Vhe(t),r=function(l){return s(i[l],l,i)}}var o=e(t,r,n);return o>-1?i[s?t[o]:o]:void 0}}var Ghe=Whe,Yhe=q8;function Khe(e){var t=Yhe(e),r=t%1;return t===t?r?t-r:t:0}var Xhe=Khe,Jhe=YI,Zhe=Xs,Qhe=Xhe,eme=Math.max;function tme(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:Qhe(r);return i<0&&(i=eme(n+i,0)),Jhe(e,Zhe(t),i)}var rme=tme,nme=Ghe,ame=rme,ime=nme(ame),sme=ime;const ome=lr(sme);var lme=aV(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),dS=L.createContext(void 0),fS=L.createContext(void 0),eR=L.createContext(void 0),tR=L.createContext({}),rR=L.createContext(void 0),nR=L.createContext(0),aR=L.createContext(0),CP=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=lme(s);return ce.createElement(dS.Provider,{value:n},ce.createElement(fS.Provider,{value:i},ce.createElement(tR.Provider,{value:s},ce.createElement(eR.Provider,{value:d},ce.createElement(rR.Provider,{value:o},ce.createElement(nR.Provider,{value:u},ce.createElement(aR.Provider,{value:c},l)))))))},cme=function(){return L.useContext(rR)},iR=function(t){var r=L.useContext(dS);r==null&&mu();var n=r[t];return n==null&&mu(),n},ume=function(){var t=L.useContext(dS);return Pl(t)},dme=function(){var t=L.useContext(fS),r=ome(t,function(n){return G8(n.domain,Number.isFinite)});return r||Pl(t)},sR=function(t){var r=L.useContext(fS);r==null&&mu();var n=r[t];return n==null&&mu(),n},fme=function(){var t=L.useContext(eR);return t},hme=function(){return L.useContext(tR)},hS=function(){return L.useContext(aR)},mS=function(){return L.useContext(nR)};function uf(e){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(e)}function mme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pme(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lR(n.key),n)}}function gme(e,t,r){return t&&pme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xme(e,t,r){return t=oy(t),yme(e,oR()?Reflect.construct(t,r||[],oy(e).constructor):t.apply(e,r))}function yme(e,t){if(t&&(uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vme(e)}function vme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oR=function(){return!!e})()}function oy(e){return oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oy(e)}function bme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TN(e,t)}function TN(e,t){return TN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},TN(e,t)}function kP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function OP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kP(Object(r),!0).forEach(function(n){pS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pS(e,t,r){return t=lR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lR(e){var t=wme(e,"string");return uf(t)=="symbol"?t:t+""}function wme(e,t){if(uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Nme(e,t){return Eme(e)||Ame(e,t)||Sme(e,t)||jme()}function jme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sme(e,t){if(e){if(typeof e=="string")return IP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IP(e,t)}}function IP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ame(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Eme(e){if(Array.isArray(e))return e}function CN(){return CN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CN.apply(this,arguments)}var _me=function(t,r){var n;return ce.isValidElement(t)?n=ce.cloneElement(t,r):xt(t)?n=t(r):n=ce.createElement("line",CN({},r,{className:"recharts-reference-line-line"})),n},Pme=function(t,r,n,i,s,o,l,c,u){var d=s.x,f=s.y,m=s.width,h=s.height;if(n){var p=u.y,y=t.y.apply(p,{position:o});if(Gs(u,"discard")&&!t.y.isInRange(y))return null;var v=[{x:d+m,y},{x:d,y}];return c==="left"?v.reverse():v}if(r){var x=u.x,b=t.x.apply(x,{position:o});if(Gs(u,"discard")&&!t.x.isInRange(b))return null;var N=[{x:b,y:f+h},{x:b,y:f}];return l==="top"?N.reverse():N}if(i){var w=u.segment,S=w.map(function(E){return t.apply(E,{position:o})});return Gs(u,"discard")&&Zfe(S,function(E){return!t.isInRange(E)})?null:S}return null};function Tme(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=cme(),d=iR(i),f=sR(s),m=fme();if(!u||!m)return null;hs(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=uS({x:d.scale,y:f.scale}),p=_n(t),y=_n(r),v=n&&n.length===2,x=Pme(h,p,y,v,m,e.position,d.orientation,f.orientation,e);if(!x)return null;var b=Nme(x,2),N=b[0],w=N.x,S=N.y,E=b[1],C=E.x,k=E.y,P=Gs(e,"hidden")?"url(#".concat(u,")"):void 0,D=OP(OP({clipPath:P},ut(e,!0)),{},{x1:w,y1:S,x2:C,y2:k});return ce.createElement(Bt,{className:yt("recharts-reference-line",l)},_me(o,D),In.renderCallByParent(e,Bhe({x1:w,y1:S,x2:C,y2:k})))}var gS=function(e){function t(){return mme(this,t),xme(this,t,arguments)}return bme(t,e),gme(t,[{key:"render",value:function(){return ce.createElement(Tme,this.props)}}])}(ce.Component);pS(gS,"displayName","ReferenceLine");pS(gS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function kN(){return kN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kN.apply(this,arguments)}function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}function LP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function RP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LP(Object(r),!0).forEach(function(n){Rv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kme(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uR(n.key),n)}}function Ome(e,t,r){return t&&kme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ime(e,t,r){return t=ly(t),Lme(e,cR()?Reflect.construct(t,r||[],ly(e).constructor):t.apply(e,r))}function Lme(e,t){if(t&&(df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rme(e)}function Rme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cR=function(){return!!e})()}function ly(e){return ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ly(e)}function Mme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ON(e,t)}function ON(e,t){return ON=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ON(e,t)}function Rv(e,t,r){return t=uR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uR(e){var t=Dme(e,"string");return df(t)=="symbol"?t:t+""}function Dme(e,t){if(df(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $me=function(t){var r=t.x,n=t.y,i=t.xAxis,s=t.yAxis,o=uS({x:i.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Gs(t,"discard")&&!o.isInRange(l)?null:l},Mv=function(e){function t(){return Cme(this,t),Ime(this,t,arguments)}return Mme(t,e),Ome(t,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=_n(i),d=_n(s);if(hs(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=$me(this.props);if(!f)return null;var m=f.x,h=f.y,p=this.props,y=p.shape,v=p.className,x=Gs(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=RP(RP({clipPath:x},ut(this.props,!0)),{},{cx:m,cy:h});return ce.createElement(Bt,{className:yt("recharts-reference-dot",v)},t.renderDot(y,b),In.renderCallByParent(this.props,{x:m-o,y:h-o,width:2*o,height:2*o}))}}])}(ce.Component);Rv(Mv,"displayName","ReferenceDot");Rv(Mv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Rv(Mv,"renderDot",function(e,t){var r;return ce.isValidElement(e)?r=ce.cloneElement(e,t):xt(e)?r=e(t):r=ce.createElement(Bp,kN({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function IN(){return IN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IN.apply(this,arguments)}function ff(e){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ff(e)}function MP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(r),!0).forEach(function(n){Dv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bme(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fR(n.key),n)}}function Ume(e,t,r){return t&&Bme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zme(e,t,r){return t=cy(t),qme(e,dR()?Reflect.construct(t,r||[],cy(e).constructor):t.apply(e,r))}function qme(e,t){if(t&&(ff(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hme(e)}function Hme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dR=function(){return!!e})()}function cy(e){return cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cy(e)}function Vme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LN(e,t)}function LN(e,t){return LN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},LN(e,t)}function Dv(e,t,r){return t=fR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fR(e){var t=Wme(e,"string");return ff(t)=="symbol"?t:t+""}function Wme(e,t){if(ff(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Gme=function(t,r,n,i,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var m=uS({x:d.scale,y:f.scale}),h={x:t?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},p={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(u,{position:"end"}):m.y.rangeMax};return Gs(s,"discard")&&(!m.isInRange(h)||!m.isInRange(p))?null:Z8(h,p)},$v=function(e){function t(){return Fme(this,t),zme(this,t,arguments)}return Vme(t,e),Ume(t,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;hs(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=_n(i),m=_n(s),h=_n(o),p=_n(l),y=this.props.shape;if(!f&&!m&&!h&&!p&&!y)return null;var v=Gme(f,m,h,p,this.props);if(!v&&!y)return null;var x=Gs(this.props,"hidden")?"url(#".concat(d,")"):void 0;return ce.createElement(Bt,{className:yt("recharts-reference-area",c)},t.renderRect(y,DP(DP({clipPath:x},ut(this.props,!0)),v)),In.renderCallByParent(this.props,v))}}])}(ce.Component);Dv($v,"displayName","ReferenceArea");Dv($v,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Dv($v,"renderRect",function(e,t){var r;return ce.isValidElement(e)?r=ce.cloneElement(e,t):xt(e)?r=e(t):r=ce.createElement(lS,IN({},t,{className:"recharts-reference-area-rect"})),r});function hR(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function Yme(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return zhe(n,r)}function Kme(e,t,r){var n=r==="width",i=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:n?i:s,end:n?i+o:s+l}:{start:n?i+o:s+l,end:n?i:s}}function uy(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function Xme(e,t){return hR(e,t+1)}function Jme(e,t,r,n,i){for(var s=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:hR(n,u)};var y=c,v,x=function(){return v===void 0&&(v=r(p,y)),v},b=p.coordinate,N=c===0||uy(e,b,x,d,l);N||(c=0,d=o,u+=1),N&&(d=b+e*(x()/2+i),c+=u)},m;u<=s.length;)if(m=f(),m)return m.v;return[]}function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}function $P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ca(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$P(Object(r),!0).forEach(function(n){Zme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zme(e,t,r){return t=Qme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qme(e){var t=epe(e,"string");return pp(t)=="symbol"?t:t+""}function epe(e,t){if(pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tpe(e,t,r,n,i){for(var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end,u=function(m){var h=s[m],p,y=function(){return p===void 0&&(p=r(h,m)),p};if(m===o-1){var v=e*(h.coordinate+e*y()/2-c);s[m]=h=ca(ca({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate})}else s[m]=h=ca(ca({},h),{},{tickCoord:h.coordinate});var x=uy(e,h.tickCoord,y,l,c);x&&(c=h.tickCoord-e*(y()/2+i),s[m]=ca(ca({},h),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function rpe(e,t,r,n,i,s){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(s){var d=n[l-1],f=r(d,l-1),m=e*(d.coordinate+e*f/2-u);o[l-1]=d=ca(ca({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate});var h=uy(e,d.tickCoord,function(){return f},c,u);h&&(u=d.tickCoord-e*(f/2+i),o[l-1]=ca(ca({},d),{},{isShow:!0}))}for(var p=s?l-1:l,y=function(b){var N=o[b],w,S=function(){return w===void 0&&(w=r(N,b)),w};if(b===0){var E=e*(N.coordinate-e*S()/2-c);o[b]=N=ca(ca({},N),{},{tickCoord:E<0?N.coordinate-E*e:N.coordinate})}else o[b]=N=ca(ca({},N),{},{tickCoord:N.coordinate});var C=uy(e,N.tickCoord,S,c,u);C&&(c=N.tickCoord+e*(S()/2+i),o[b]=ca(ca({},N),{},{isShow:!0}))},v=0;v<p;v++)y(v);return o}function xS(e,t,r){var n=e.tick,i=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!i||!i.length||!n)return[];if(He(c)||tc.isSsr)return Xme(i,typeof c=="number"&&He(c)?c:0);var m=[],h=l==="top"||l==="bottom"?"width":"height",p=d&&h==="width"?am(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=function(N,w){var S=xt(u)?u(N.value,w):N.value;return h==="width"?Yme(am(S,{fontSize:t,letterSpacing:r}),p,f):am(S,{fontSize:t,letterSpacing:r})[h]},v=i.length>=2?Ea(i[1].coordinate-i[0].coordinate):1,x=Kme(s,v,h);return c==="equidistantPreserveStart"?Jme(v,x,y,i,o):(c==="preserveStart"||c==="preserveStartEnd"?m=rpe(v,x,y,i,o,c==="preserveStartEnd"):m=tpe(v,x,y,i,o),m.filter(function(b){return b.isShow}))}var npe=["viewBox"],ape=["viewBox"],ipe=["ticks"];function hf(e){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hf(e)}function yd(){return yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yd.apply(this,arguments)}function FP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FP(Object(r),!0).forEach(function(n){yS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _b(e,t){if(e==null)return{};var r=spe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function spe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ope(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pR(n.key),n)}}function lpe(e,t,r){return t&&BP(e.prototype,t),r&&BP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cpe(e,t,r){return t=dy(t),upe(e,mR()?Reflect.construct(t,r||[],dy(e).constructor):t.apply(e,r))}function upe(e,t){if(t&&(hf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dpe(e)}function dpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mR=function(){return!!e})()}function dy(e){return dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dy(e)}function fpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RN(e,t)}function RN(e,t){return RN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},RN(e,t)}function yS(e,t,r){return t=pR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pR(e){var t=hpe(e,"string");return hf(t)=="symbol"?t:t+""}function hpe(e,t){if(hf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Uf=function(e){function t(r){var n;return ope(this,t),n=cpe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return fpe(t,e),lpe(t,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,o=_b(n,npe),l=this.props,c=l.viewBox,u=_b(l,ape);return!_d(s,c)||!_d(o,u)||!_d(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,m=i.tickMargin,h,p,y,v,x,b,N=f?-1:1,w=n.tickSize||d,S=He(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":h=p=n.coordinate,v=o+ +!f*c,y=v-N*w,b=y-N*m,x=S;break;case"left":y=v=n.coordinate,p=s+ +!f*l,h=p-N*w,x=h-N*m,b=S;break;case"right":y=v=n.coordinate,p=s+ +f*l,h=p+N*w,x=h+N*m,b=S;break;default:h=p=n.coordinate,v=o+ +f*c,y=v+N*w,b=y+N*m,x=S;break}return{line:{x1:h,y1:y,x2:p,y2:v},tick:{x,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Nn(Nn(Nn({},ut(this.props,!1)),ut(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!u||c==="bottom"&&u);f=Nn(Nn({},f),{},{x1:i,y1:s+m*l,x2:i+o,y2:s+m*l})}else{var h=+(c==="left"&&!u||c==="right"&&u);f=Nn(Nn({},f),{},{x1:i+h*o,y1:s,x2:i+h*o,y2:s+l})}return ce.createElement("line",yd({},f,{className:yt("recharts-cartesian-axis-line",pi(d,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,m=l.unit,h=xS(Nn(Nn({},this.props),{},{ticks:n}),i,s),p=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),v=ut(this.props,!1),x=ut(d,!1),b=Nn(Nn({},v),{},{fill:"none"},ut(c,!1)),N=h.map(function(w,S){var E=o.getTickLineCoord(w),C=E.line,k=E.tick,P=Nn(Nn(Nn(Nn({textAnchor:p,verticalAnchor:y},v),{},{stroke:"none",fill:u},x),k),{},{index:S,payload:w,visibleTicksCount:h.length,tickFormatter:f});return ce.createElement(Bt,yd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},uu(o.props,w,S)),c&&ce.createElement("line",yd({},b,C,{className:yt("recharts-cartesian-axis-tick-line",pi(c,"className"))})),d&&t.renderTickItem(d,P,"".concat(xt(f)?f(w.value,S):w.value).concat(m||"")))});return ce.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,m=f.ticks,h=_b(f,ipe),p=m;return xt(c)&&(p=m&&m.length>0?c(this.props):c(h)),o<=0||l<=0||!p||!p.length?null:ce.createElement(Bt,{className:yt("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(p,this.state.fontSize,this.state.letterSpacing),In.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var o,l=yt(i.className,"recharts-cartesian-axis-tick-value");return ce.isValidElement(n)?o=ce.cloneElement(n,Nn(Nn({},i),{},{className:l})):xt(n)?o=n(Nn(Nn({},i),{},{className:l})):o=ce.createElement(du,yd({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(L.Component);yS(Uf,"displayName","CartesianAxis");yS(Uf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var mpe=["x1","y1","x2","y2","key"],ppe=["offset"];function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}function UP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UP(Object(r),!0).forEach(function(n){gpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gpe(e,t,r){return t=xpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xpe(e){var t=ype(e,"string");return pu(t)=="symbol"?t:t+""}function ype(e,t){if(pu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qc(){return qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qc.apply(this,arguments)}function zP(e,t){if(e==null)return{};var r=vpe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var bpe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return ce.createElement("rect",{x:i,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function gR(e,t){var r;if(ce.isValidElement(e))r=ce.cloneElement(e,t);else if(xt(e))r=e(t);else{var n=t.x1,i=t.y1,s=t.x2,o=t.y2,l=t.key,c=zP(t,mpe),u=ut(c,!1);u.offset;var d=zP(u,ppe);r=ce.createElement("line",qc({},d,{x1:n,y1:i,x2:s,y2:o,fill:"none",key:l}))}return r}function wpe(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,s=e.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=da(da({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return gR(i,u)});return ce.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Npe(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,s=e.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=da(da({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return gR(i,u)});return ce.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function jpe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(m){return Math.round(m+i-i)}).sort(function(m,h){return m-h});i!==d[0]&&d.unshift(0);var f=d.map(function(m,h){var p=!d[h+1],y=p?i+o-m:d[h+1]-m;if(y<=0)return null;var v=h%t.length;return ce.createElement("rect",{key:"react-".concat(h),y:m,x:n,height:y,width:s,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ce.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Spe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(m){return Math.round(m+s-s)}).sort(function(m,h){return m-h});s!==d[0]&&d.unshift(0);var f=d.map(function(m,h){var p=!d[h+1],y=p?s+l-m:d[h+1]-m;if(y<=0)return null;var v=h%n.length;return ce.createElement("rect",{key:"react-".concat(h),x:m,y:o,width:y,height:c,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ce.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Ape=function(t,r){var n=t.xAxis,i=t.width,s=t.height,o=t.offset;return h8(xS(da(da(da({},Uf.defaultProps),n),{},{ticks:ko(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,r)},Epe=function(t,r){var n=t.yAxis,i=t.width,s=t.height,o=t.offset;return h8(xS(da(da(da({},Uf.defaultProps),n),{},{ticks:ko(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,r)},Wu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function um(e){var t,r,n,i,s,o,l=hS(),c=mS(),u=hme(),d=da(da({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Wu.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Wu.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Wu.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Wu.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:Wu.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Wu.verticalFill,x:He(e.x)?e.x:u.left,y:He(e.y)?e.y:u.top,width:He(e.width)?e.width:u.width,height:He(e.height)?e.height:u.height}),f=d.x,m=d.y,h=d.width,p=d.height,y=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,b=ume(),N=dme();if(!He(h)||h<=0||!He(p)||p<=0||!He(f)||f!==+f||!He(m)||m!==+m)return null;var w=d.verticalCoordinatesGenerator||Ape,S=d.horizontalCoordinatesGenerator||Epe,E=d.horizontalPoints,C=d.verticalPoints;if((!E||!E.length)&&xt(S)){var k=v&&v.length,P=S({yAxis:N?da(da({},N),{},{ticks:k?v:N.ticks}):void 0,width:l,height:c,offset:u},k?!0:y);hs(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(pu(P),"]")),Array.isArray(P)&&(E=P)}if((!C||!C.length)&&xt(w)){var D=x&&x.length,A=w({xAxis:b?da(da({},b),{},{ticks:D?x:b.ticks}):void 0,width:l,height:c,offset:u},D?!0:y);hs(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(pu(A),"]")),Array.isArray(A)&&(C=A)}return ce.createElement("g",{className:"recharts-cartesian-grid"},ce.createElement(bpe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),ce.createElement(wpe,qc({},d,{offset:u,horizontalPoints:E,xAxis:b,yAxis:N})),ce.createElement(Npe,qc({},d,{offset:u,verticalPoints:C,xAxis:b,yAxis:N})),ce.createElement(jpe,qc({},d,{horizontalPoints:E})),ce.createElement(Spe,qc({},d,{verticalPoints:C})))}um.displayName="CartesianGrid";var _pe=["type","layout","connectNulls","ref"],Ppe=["key"];function mf(e){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mf(e)}function qP(e,t){if(e==null)return{};var r=Tpe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dm(){return dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dm.apply(this,arguments)}function HP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function si(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HP(Object(r),!0).forEach(function(n){ss(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gu(e){return Ipe(e)||Ope(e)||kpe(e)||Cpe()}function Cpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kpe(e,t){if(e){if(typeof e=="string")return MN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MN(e,t)}}function Ope(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ipe(e){if(Array.isArray(e))return MN(e)}function MN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yR(n.key),n)}}function Rpe(e,t,r){return t&&VP(e.prototype,t),r&&VP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mpe(e,t,r){return t=fy(t),Dpe(e,xR()?Reflect.construct(t,r||[],fy(e).constructor):t.apply(e,r))}function Dpe(e,t){if(t&&(mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $pe(e)}function $pe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xR=function(){return!!e})()}function fy(e){return fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fy(e)}function Fpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DN(e,t)}function DN(e,t){return DN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},DN(e,t)}function ss(e,t,r){return t=yR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yR(e){var t=Bpe(e,"string");return mf(t)=="symbol"?t:t+""}function Bpe(e,t){if(mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gu=function(e){function t(){var r;Lpe(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Mpe(this,t,[].concat(i)),ss(r,"state",{isAnimationFinished:!0,totalLength:0}),ss(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),ss(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(x,b){return x+b});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,m=l-o,h=[],p=0,y=0;p<c.length;y+=c[p],++p)if(y+c[p]>f){h=[].concat(Gu(c.slice(0,p)),[f-y]);break}var v=h.length%2===0?[0,m]:[m];return[].concat(Gu(t.repeat(c,d)),Gu(h),v).map(function(x){return"".concat(x,"px")}).join(", ")}),ss(r,"id",Nu("recharts-line-")),ss(r,"pathRef",function(o){r.mainCurve=o}),ss(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ss(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Fpe(t,e),Rpe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=gi(d,Fp);if(!f)return null;var m=function(y,v){return{x:y.x,y:y.y,value:y.value,errorVal:sn(y.payload,v)}},h={clipPath:n?"url(#clipPath-".concat(i,")"):null};return ce.createElement(Bt,h,f.map(function(p){return ce.cloneElement(p,{key:"bar-".concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:m})}))}},{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=ut(this.props,!1),m=ut(c,!0),h=u.map(function(y,v){var x=si(si(si({key:"dot-".concat(v),r:3},f),m),{},{index:v,cx:y.x,cy:y.y,value:y.value,dataKey:d,payload:y.payload,points:u});return t.renderDotItem(c,x)}),p={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return ce.createElement(Bt,dm({className:"recharts-line-dots",key:"dots"},p),h)}},{key:"renderCurveStatically",value:function(n,i,s,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=qP(l,_pe),m=si(si(si({},ut(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return ce.createElement(Zc,dm({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,m=o.animationEasing,h=o.animationId,p=o.animateNewValues,y=o.width,v=o.height,x=this.state,b=x.prevPoints,N=x.totalLength;return ce.createElement(ps,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var S=w.t;if(b){var E=b.length/l.length,C=l.map(function(I,$){var _=Math.floor($*E);if(b[_]){var M=b[_],z=An(M.x,I.x),Z=An(M.y,I.y);return si(si({},I),{},{x:z(S),y:Z(S)})}if(p){var R=An(y*2,I.x),U=An(v/2,I.y);return si(si({},I),{},{x:R(S),y:U(S)})}return si(si({},I),{},{x:I.x,y:I.y})});return s.renderCurveStatically(C,n,i)}var k=An(0,N),P=k(S),D;if(c){var A="".concat(c).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});D=s.getStrokeDasharray(P,N,A)}else D=s.generateSimpleStrokeDasharray(N,P);return s.renderCurveStatically(l,n,i,{strokeDasharray:D})})}},{key:"renderCurve",value:function(n,i){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!fu(u,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,m=i.left,h=i.width,p=i.height,y=i.isAnimationActive,v=i.id;if(s||!l||!l.length)return null;var x=this.state.isAnimationFinished,b=l.length===1,N=yt("recharts-line",c),w=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,E=w||S,C=jt(v)?this.id:v,k=(n=ut(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=k.r,D=P===void 0?3:P,A=k.strokeWidth,I=A===void 0?2:A,$=iI(o)?o:{},_=$.clipDot,M=_===void 0?!0:_,z=D*2+I;return ce.createElement(Bt,{className:N},w||S?ce.createElement("defs",null,ce.createElement("clipPath",{id:"clipPath-".concat(C)},ce.createElement("rect",{x:w?m:m-h/2,y:S?f:f-p/2,width:w?h:h*2,height:S?p:p*2})),!M&&ce.createElement("clipPath",{id:"clipPath-dots-".concat(C)},ce.createElement("rect",{x:m-z/2,y:f-z/2,width:h+z,height:p+z}))):null,!b&&this.renderCurve(E,C),this.renderErrorBar(E,C),(b||o)&&this.renderDots(E,M,C),(!y||x)&&Ws.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var s=n.length%2!==0?[].concat(Gu(n),[0]):n,o=[],l=0;l<i;++l)o=[].concat(Gu(o),Gu(s));return o}},{key:"renderDotItem",value:function(n,i){var s;if(ce.isValidElement(n))s=ce.cloneElement(n,i);else if(xt(n))s=n(i);else{var o=i.key,l=qP(i,Ppe),c=yt("recharts-line-dot",typeof n!="boolean"?n.className:"");s=ce.createElement(Bp,dm({key:o},l,{className:c}))}return s}}])}(L.PureComponent);ss(gu,"displayName","Line");ss(gu,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!tc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ss(gu,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(m,h){var p=sn(m,o);return d==="horizontal"?{x:qx({axis:r,ticks:i,bandSize:l,entry:m,index:h}),y:jt(p)?null:n.scale(p),value:p,payload:m}:{x:jt(p)?null:r.scale(p),y:qx({axis:n,ticks:s,bandSize:l,entry:m,index:h}),value:p,payload:m}});return si({points:f,layout:d},u)});var Upe=["layout","type","stroke","connectNulls","isRange","ref"],zpe=["key"],vR;function pf(e){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(e)}function bR(e,t){if(e==null)return{};var r=qpe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hc(){return Hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hc.apply(this,arguments)}function WP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WP(Object(r),!0).forEach(function(n){Us(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NR(n.key),n)}}function Vpe(e,t,r){return t&&GP(e.prototype,t),r&&GP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wpe(e,t,r){return t=hy(t),Gpe(e,wR()?Reflect.construct(t,r||[],hy(e).constructor):t.apply(e,r))}function Gpe(e,t){if(t&&(pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ype(e)}function Ype(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wR=function(){return!!e})()}function hy(e){return hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hy(e)}function Kpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$N(e,t)}function $N(e,t){return $N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$N(e,t)}function Us(e,t,r){return t=NR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NR(e){var t=Xpe(e,"string");return pf(t)=="symbol"?t:t+""}function Xpe(e,t){if(pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wo=function(e){function t(){var r;Hpe(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Wpe(this,t,[].concat(i)),Us(r,"state",{isAnimationFinished:!0}),Us(r,"id",Nu("recharts-area-")),Us(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),xt(o)&&o()}),Us(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),xt(o)&&o()}),r}return Kpe(t,e),Vpe(t,[{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,m=ut(this.props,!1),h=ut(u,!0),p=d.map(function(v,x){var b=vl(vl(vl({key:"dot-".concat(x),r:3},m),h),{},{index:x,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return t.renderDotItem(u,b)}),y={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return ce.createElement(Bt,Hc({className:"recharts-area-dots"},y),p)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,s=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),f=Ol(o.map(function(m){return m.y||0}));return He(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(Ol(s.map(function(m){return m.y||0})),f)),He(f)?ce.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,s=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),f=Ol(o.map(function(m){return m.x||0}));return He(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(Ol(s.map(function(m){return m.x||0})),f)),He(f)?ce.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,s,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,m=l.isRange;l.ref;var h=bR(l,Upe);return ce.createElement(Bt,{clipPath:s?"url(#clipPath-".concat(o,")"):null},ce.createElement(Zc,Hc({},ut(h,!0),{points:n,connectNulls:f,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&ce.createElement(Zc,Hc({},ut(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&m&&ce.createElement(Zc,Hc({},ut(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var s=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,m=o.animationEasing,h=o.animationId,p=this.state,y=p.prevPoints,v=p.prevBaseLine;return ce.createElement(ps,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var b=x.t;if(y){var N=y.length/l.length,w=l.map(function(k,P){var D=Math.floor(P*N);if(y[D]){var A=y[D],I=An(A.x,k.x),$=An(A.y,k.y);return vl(vl({},k),{},{x:I(b),y:$(b)})}return k}),S;if(He(c)&&typeof c=="number"){var E=An(v,c);S=E(b)}else if(jt(c)||Lf(c)){var C=An(v,0);S=C(b)}else S=c.map(function(k,P){var D=Math.floor(P*N);if(v[D]){var A=v[D],I=An(A.x,k.x),$=An(A.y,k.y);return vl(vl({},k),{},{x:I(b),y:$(b)})}return k});return s.renderAreaStatically(w,S,n,i)}return ce.createElement(Bt,null,ce.createElement("defs",null,ce.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(b))),ce.createElement(Bt,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(l,c,n,i)))})}},{key:"renderArea",value:function(n,i){var s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,m=u.totalLength;return c&&o&&o.length&&(!d&&m>0||!fu(d,o)||!fu(f,l))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,l,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,u=i.top,d=i.left,f=i.xAxis,m=i.yAxis,h=i.width,p=i.height,y=i.isAnimationActive,v=i.id;if(s||!l||!l.length)return null;var x=this.state.isAnimationFinished,b=l.length===1,N=yt("recharts-area",c),w=f&&f.allowDataOverflow,S=m&&m.allowDataOverflow,E=w||S,C=jt(v)?this.id:v,k=(n=ut(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=k.r,D=P===void 0?3:P,A=k.strokeWidth,I=A===void 0?2:A,$=iI(o)?o:{},_=$.clipDot,M=_===void 0?!0:_,z=D*2+I;return ce.createElement(Bt,{className:N},w||S?ce.createElement("defs",null,ce.createElement("clipPath",{id:"clipPath-".concat(C)},ce.createElement("rect",{x:w?d:d-h/2,y:S?u:u-p/2,width:w?h:h*2,height:S?p:p*2})),!M&&ce.createElement("clipPath",{id:"clipPath-dots-".concat(C)},ce.createElement("rect",{x:d-z/2,y:u-z/2,width:h+z,height:p+z}))):null,b?null:this.renderArea(E,C),(o||b)&&this.renderDots(E,M,C),(!y||x)&&Ws.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(L.PureComponent);vR=Wo;Us(Wo,"displayName","Area");Us(Wo,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!tc.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Us(Wo,"getBaseValue",function(e,t,r,n){var i=e.layout,s=e.baseValue,o=t.props.baseValue,l=o??s;if(He(l)&&typeof l=="number")return l;var c=i==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Us(Wo,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,i=e.yAxis,s=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,m=e.offset,h=t.layout,p=u&&u.length,y=vR.getBaseValue(t,r,n,i),v=h==="horizontal",x=!1,b=f.map(function(w,S){var E;p?E=u[d+S]:(E=sn(w,c),Array.isArray(E)?x=!0:E=[y,E]);var C=E[1]==null||p&&sn(w,c)==null;return v?{x:qx({axis:n,ticks:s,bandSize:l,entry:w,index:S}),y:C?null:i.scale(E[1]),value:E,payload:w}:{x:C?null:n.scale(E[1]),y:qx({axis:i,ticks:o,bandSize:l,entry:w,index:S}),value:E,payload:w}}),N;return p||x?N=b.map(function(w){var S=Array.isArray(w.value)?w.value[0]:null;return v?{x:w.x,y:S!=null&&w.y!=null?i.scale(S):null}:{x:S!=null?n.scale(S):null,y:w.y}}):N=v?i.scale(y):n.scale(y),vl({points:b,baseLine:N,layout:h,isRange:x},m)});Us(Wo,"renderDotItem",function(e,t){var r;if(ce.isValidElement(e))r=ce.cloneElement(e,t);else if(xt(e))r=e(t);else{var n=yt("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,s=bR(t,zpe);r=ce.createElement(Bp,Hc({},s,{key:i,className:n}))}return r});function gf(e){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gf(e)}function Jpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zpe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AR(n.key),n)}}function Qpe(e,t,r){return t&&Zpe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ege(e,t,r){return t=my(t),tge(e,jR()?Reflect.construct(t,r||[],my(e).constructor):t.apply(e,r))}function tge(e,t){if(t&&(gf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rge(e)}function rge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jR=function(){return!!e})()}function my(e){return my=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},my(e)}function nge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FN(e,t)}function FN(e,t){return FN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},FN(e,t)}function SR(e,t,r){return t=AR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AR(e){var t=age(e,"string");return gf(t)=="symbol"?t:t+""}function age(e,t){if(gf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function BN(){return BN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BN.apply(this,arguments)}function ige(e){var t=e.xAxisId,r=hS(),n=mS(),i=iR(t);return i==null?null:L.createElement(Uf,BN({},i,{className:yt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return ko(o,!0)}}))}var Ro=function(e){function t(){return Jpe(this,t),ege(this,t,arguments)}return nge(t,e),Qpe(t,[{key:"render",value:function(){return L.createElement(ige,this.props)}}])}(L.Component);SR(Ro,"displayName","XAxis");SR(Ro,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}function sge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PR(n.key),n)}}function lge(e,t,r){return t&&oge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cge(e,t,r){return t=py(t),uge(e,ER()?Reflect.construct(t,r||[],py(e).constructor):t.apply(e,r))}function uge(e,t){if(t&&(xf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dge(e)}function dge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ER(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ER=function(){return!!e})()}function py(e){return py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},py(e)}function fge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UN(e,t)}function UN(e,t){return UN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},UN(e,t)}function _R(e,t,r){return t=PR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PR(e){var t=hge(e,"string");return xf(t)=="symbol"?t:t+""}function hge(e,t){if(xf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function zN(){return zN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zN.apply(this,arguments)}var mge=function(t){var r=t.yAxisId,n=hS(),i=mS(),s=sR(r);return s==null?null:L.createElement(Uf,zN({},s,{className:yt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return ko(l,!0)}}))},Mo=function(e){function t(){return sge(this,t),cge(this,t,arguments)}return fge(t,e),lge(t,[{key:"render",value:function(){return L.createElement(mge,this.props)}}])}(L.Component);_R(Mo,"displayName","YAxis");_R(Mo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function YP(e){return yge(e)||xge(e)||gge(e)||pge()}function pge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gge(e,t){if(e){if(typeof e=="string")return qN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qN(e,t)}}function xge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yge(e){if(Array.isArray(e))return qN(e)}function qN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var HN=function(t,r,n,i,s){var o=gi(t,gS),l=gi(t,Mv),c=[].concat(YP(o),YP(l)),u=gi(t,$v),d="".concat(i,"Id"),f=i[0],m=r;if(c.length&&(m=c.reduce(function(y,v){if(v.props[d]===n&&Gs(v.props,"extendDomain")&&He(v.props[f])){var x=v.props[f];return[Math.min(y[0],x),Math.max(y[1],x)]}return y},m)),u.length){var h="".concat(f,"1"),p="".concat(f,"2");m=u.reduce(function(y,v){if(v.props[d]===n&&Gs(v.props,"extendDomain")&&He(v.props[h])&&He(v.props[p])){var x=v.props[h],b=v.props[p];return[Math.min(y[0],x,b),Math.max(y[1],x,b)]}return y},m)}return s&&s.length&&(m=s.reduce(function(y,v){return He(v)?[Math.min(y[0],v),Math.max(y[1],v)]:y},m)),m},TR={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new i(d,f||c,m),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],h]:c._events[p].push(h):(c._events[p]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,p=new Array(h);m<h;m++)p[m]=f[m].fn;return p},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,h,p){var y=r?r+u:u;if(!this._events[y])return!1;var v=this._events[y],x=arguments.length,b,N;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,m),!0;case 5:return v.fn.call(v.context,d,f,m,h),!0;case 6:return v.fn.call(v.context,d,f,m,h,p),!0}for(N=1,b=new Array(x-1);N<x;N++)b[N-1]=arguments[N];v.fn.apply(v.context,b)}else{var w=v.length,S;for(N=0;N<w;N++)switch(v[N].once&&this.removeListener(u,v[N].fn,void 0,!0),x){case 1:v[N].fn.call(v[N].context);break;case 2:v[N].fn.call(v[N].context,d);break;case 3:v[N].fn.call(v[N].context,d,f);break;case 4:v[N].fn.call(v[N].context,d,f,m);break;default:if(!b)for(S=1,b=new Array(x-1);S<x;S++)b[S-1]=arguments[S];v[N].fn.apply(v[N].context,b)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return o(this,h),this;var p=this._events[h];if(p.fn)p.fn===d&&(!m||p.once)&&(!f||p.context===f)&&o(this,h);else{for(var y=0,v=[],x=p.length;y<x;y++)(p[y].fn!==d||m&&!p[y].once||f&&p[y].context!==f)&&v.push(p[y]);v.length?this._events[h]=v.length===1?v[0]:v:o(this,h)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(TR);var vge=TR.exports;const bge=lr(vge);var Pb=new bge,Tb="recharts.syncMouseEvents";function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(e)}function wge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CR(n.key),n)}}function jge(e,t,r){return t&&Nge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cb(e,t,r){return t=CR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CR(e){var t=Sge(e,"string");return gp(t)=="symbol"?t:t+""}function Sge(e,t){if(gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Age=function(){function e(){wge(this,e),Cb(this,"activeIndex",0),Cb(this,"coordinateList",[]),Cb(this,"layout","horizontal")}return jge(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,m=r.mouseHandlerCallback,h=m===void 0?null:m;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,m=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])}();function Ege(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&He(n)&&He(i))return!0}return!1}function _ge(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function kR(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,s=e.endAngle,o=Sr(t,r,n,i),l=Sr(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function Pge(e,t,r){var n,i,s,o;if(e==="horizontal")n=t.x,s=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,m=Sr(l,c,u,f),h=Sr(l,c,d,f);n=m.x,i=m.y,s=h.x,o=h.y}else return kR(t);return[{x:n,y:i},{x:s,y:o}]}function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}function KP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function s0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(r),!0).forEach(function(n){Tge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tge(e,t,r){return t=Cge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cge(e){var t=kge(e,"string");return xp(t)=="symbol"?t:t+""}function kge(e,t){if(xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oge(e){var t,r,n=e.element,i=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,m=e.chartName,h=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!s||!o||m!=="ScatterChart"&&i!=="axis")return null;var p,y=Zc;if(m==="ScatterChart")p=o,y=Bue;else if(m==="BarChart")p=_ge(f,o,c,d),y=lS;else if(f==="radial"){var v=kR(o),x=v.cx,b=v.cy,N=v.radius,w=v.startAngle,S=v.endAngle;p={cx:x,cy:b,startAngle:w,endAngle:S,innerRadius:N,outerRadius:N},y=S8}else p={points:Pge(f,o,c)},y=Zc;var E=s0(s0(s0(s0({stroke:"#ccc",pointerEvents:"none"},c),p),ut(h,!1)),{},{payload:l,payloadIndex:u,className:yt("recharts-tooltip-cursor",h.className)});return L.isValidElement(h)?L.cloneElement(h,E):L.createElement(y,E)}var Ige=["item"],Lge=["children","className","width","height","style","compact","title","desc"];function yf(e){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(e)}function vd(){return vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vd.apply(this,arguments)}function XP(e,t){return Dge(e)||Mge(e,t)||IR(e,t)||Rge()}function Rge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Dge(e){if(Array.isArray(e))return e}function JP(e,t){if(e==null)return{};var r=$ge(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $ge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LR(n.key),n)}}function Uge(e,t,r){return t&&Bge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zge(e,t,r){return t=gy(t),qge(e,OR()?Reflect.construct(t,r||[],gy(e).constructor):t.apply(e,r))}function qge(e,t){if(t&&(yf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hge(e)}function Hge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OR=function(){return!!e})()}function gy(e){return gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gy(e)}function Vge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VN(e,t)}function VN(e,t){return VN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VN(e,t)}function vf(e){return Yge(e)||Gge(e)||IR(e)||Wge()}function Wge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IR(e,t){if(e){if(typeof e=="string")return WN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WN(e,t)}}function Gge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yge(e){if(Array.isArray(e))return WN(e)}function WN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZP(Object(r),!0).forEach(function(n){gt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gt(e,t,r){return t=LR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LR(e){var t=Kge(e,"string");return yf(t)=="symbol"?t:t+""}function Kge(e,t){if(yf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xge={xAxis:["bottom","top"],yAxis:["left","right"]},Jge={width:"100%",height:"100%"},RR={x:0,y:0};function o0(e){return e}var Zge=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Qge=function(t,r,n,i){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=i.radius;return Oe(Oe(Oe({},i),Sr(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=i.angle;return Oe(Oe(Oe({},i),Sr(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return RR},Fv=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(vf(l),vf(u)):l},[]);return o.length>0?o:t&&t.length&&He(i)&&He(s)?t.slice(i,s+1):[]};function MR(e){return e==="number"?[0,"auto"]:void 0}var GN=function(t,r,n,i){var s=t.graphicalItems,o=t.tooltipAxis,l=Fv(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var h=f===void 0?l:f;m=px(h,o.dataKey,i)}else m=f&&f[n]||l[n];return m?[].concat(vf(c),[y8(u,m)]):c},[])},QP=function(t,r,n,i){var s=i||{x:t.chartX,y:t.chartY},o=Zge(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=uoe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=GN(t,r,d,f),h=Qge(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:h}}return null},e0e=function(t,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,m=t.stackOffset,h=f8(d,s);return n.reduce(function(p,y){var v,x=y.type.defaultProps!==void 0?Oe(Oe({},y.type.defaultProps),y.props):y.props,b=x.type,N=x.dataKey,w=x.allowDataOverflow,S=x.allowDuplicatedCategory,E=x.scale,C=x.ticks,k=x.includeHidden,P=x[o];if(p[P])return p;var D=Fv(t.data,{graphicalItems:i.filter(function(B){var G,te=o in B.props?B.props[o]:(G=B.type.defaultProps)===null||G===void 0?void 0:G[o];return te===P}),dataStartIndex:c,dataEndIndex:u}),A=D.length,I,$,_;Ege(x.domain,w,b)&&(I=sN(x.domain,null,w),h&&(b==="number"||E!=="auto")&&(_=sm(D,N,"category")));var M=MR(b);if(!I||I.length===0){var z,Z=(z=x.domain)!==null&&z!==void 0?z:M;if(N){if(I=sm(D,N,b),b==="category"&&h){var R=eW(I);S&&R?($=I,I=ry(0,A)):S||(I=v_(Z,I,y).reduce(function(B,G){return B.indexOf(G)>=0?B:[].concat(vf(B),[G])},[]))}else if(b==="category")S?I=I.filter(function(B){return B!==""&&!jt(B)}):I=v_(Z,I,y).reduce(function(B,G){return B.indexOf(G)>=0||G===""||jt(G)?B:[].concat(vf(B),[G])},[]);else if(b==="number"){var U=poe(D,i.filter(function(B){var G,te,ue=o in B.props?B.props[o]:(G=B.type.defaultProps)===null||G===void 0?void 0:G[o],q="hide"in B.props?B.props.hide:(te=B.type.defaultProps)===null||te===void 0?void 0:te.hide;return ue===P&&(k||!q)}),N,s,d);U&&(I=U)}h&&(b==="number"||E!=="auto")&&(_=sm(D,N,"category"))}else h?I=ry(0,A):l&&l[P]&&l[P].hasStack&&b==="number"?I=m==="expand"?[0,1]:x8(l[P].stackGroups,c,u):I=d8(D,i.filter(function(B){var G=o in B.props?B.props[o]:B.type.defaultProps[o],te="hide"in B.props?B.props.hide:B.type.defaultProps.hide;return G===P&&(k||!te)}),b,d,!0);if(b==="number")I=HN(f,I,P,s,C),Z&&(I=sN(Z,I,w));else if(b==="category"&&Z){var re=Z,de=I.every(function(B){return re.indexOf(B)>=0});de&&(I=re)}}return Oe(Oe({},p),{},gt({},P,Oe(Oe({},x),{},{axisType:s,domain:I,categoricalDomain:_,duplicateDomain:$,originalDomain:(v=x.domain)!==null&&v!==void 0?v:M,isCategorical:h,layout:d})))},{})},t0e=function(t,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,m=Fv(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),h=m.length,p=f8(d,s),y=-1;return n.reduce(function(v,x){var b=x.type.defaultProps!==void 0?Oe(Oe({},x.type.defaultProps),x.props):x.props,N=b[o],w=MR("number");if(!v[N]){y++;var S;return p?S=ry(0,h):l&&l[N]&&l[N].hasStack?(S=x8(l[N].stackGroups,c,u),S=HN(f,S,N,s)):(S=sN(w,d8(m,n.filter(function(E){var C,k,P=o in E.props?E.props[o]:(C=E.type.defaultProps)===null||C===void 0?void 0:C[o],D="hide"in E.props?E.props.hide:(k=E.type.defaultProps)===null||k===void 0?void 0:k.hide;return P===N&&!D}),"number",d),i.defaultProps.allowDataOverflow),S=HN(f,S,N,s)),Oe(Oe({},v),{},gt({},N,Oe(Oe({axisType:s},i.defaultProps),{},{hide:!0,orientation:pi(Xge,"".concat(s,".").concat(y%2),null),domain:S,originalDomain:w,isCategorical:p,layout:d})))}return v},{})},r0e=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(i,"Id"),m=gi(d,s),h={};return m&&m.length?h=e0e(t,{axes:m,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(h=t0e(t,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),h},n0e=function(t){var r=Pl(t),n=ko(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:R5(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Hx(r,n)}},e6=function(t){var r=t.children,n=t.defaultShowTooltip,i=ci(r,lf),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},a0e=function(t){return!t||!t.length?!1:t.some(function(r){var n=Io(r&&r.type);return n&&n.indexOf("Bar")>=0})},t6=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},i0e=function(t,r){var n=t.props,i=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,m=n.margin||{},h=ci(f,lf),p=ci(f,Pd),y=Object.keys(c).reduce(function(S,E){var C=c[E],k=C.orientation;return!C.mirror&&!C.hide?Oe(Oe({},S),{},gt({},k,S[k]+C.width)):S},{left:m.left||0,right:m.right||0}),v=Object.keys(o).reduce(function(S,E){var C=o[E],k=C.orientation;return!C.mirror&&!C.hide?Oe(Oe({},S),{},gt({},k,pi(S,"".concat(k))+C.height)):S},{top:m.top||0,bottom:m.bottom||0}),x=Oe(Oe({},v),y),b=x.bottom;h&&(x.bottom+=h.props.height||lf.defaultProps.height),p&&r&&(x=hoe(x,i,n,r));var N=u-x.left-x.right,w=d-x.top-x.bottom;return Oe(Oe({brushBottom:b},x),{},{width:Math.max(N,0),height:Math.max(w,0)})},s0e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Bv=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,s=i===void 0?"axis":i,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,m=function(x,b){var N=b.graphicalItems,w=b.stackGroups,S=b.offset,E=b.updateId,C=b.dataStartIndex,k=b.dataEndIndex,P=x.barSize,D=x.layout,A=x.barGap,I=x.barCategoryGap,$=x.maxBarSize,_=t6(D),M=_.numericAxisName,z=_.cateAxisName,Z=a0e(N),R=[];return N.forEach(function(U,re){var de=Fv(x.data,{graphicalItems:[U],dataStartIndex:C,dataEndIndex:k}),B=U.type.defaultProps!==void 0?Oe(Oe({},U.type.defaultProps),U.props):U.props,G=B.dataKey,te=B.maxBarSize,ue=B["".concat(M,"Id")],q=B["".concat(z,"Id")],X={},Q=c.reduce(function(Ue,Ge){var We=b["".concat(Ge.axisType,"Map")],_t=B["".concat(Ge.axisType,"Id")];We&&We[_t]||Ge.axisType==="zAxis"||mu();var pt=We[_t];return Oe(Oe({},Ue),{},gt(gt({},Ge.axisType,pt),"".concat(Ge.axisType,"Ticks"),ko(pt)))},X),ne=Q[z],pe=Q["".concat(z,"Ticks")],ie=w&&w[ue]&&w[ue].hasStack&&Soe(U,w[ue].stackGroups),W=Io(U.type).indexOf("Bar")>=0,fe=Hx(ne,pe),Ae=[],Y=Z&&doe({barSize:P,stackGroups:w,totalSize:s0e(Q,z)});if(W){var Te,qe,be=jt(te)?$:te,je=(Te=(qe=Hx(ne,pe,!0))!==null&&qe!==void 0?qe:be)!==null&&Te!==void 0?Te:0;Ae=foe({barGap:A,barCategoryGap:I,bandSize:je!==fe?je:fe,sizeList:Y[q],maxBarSize:be}),je!==fe&&(Ae=Ae.map(function(Ue){return Oe(Oe({},Ue),{},{position:Oe(Oe({},Ue.position),{},{offset:Ue.position.offset-je/2})})}))}var Me=U&&U.type&&U.type.getComposedData;Me&&R.push({props:Oe(Oe({},Me(Oe(Oe({},Q),{},{displayedData:de,props:x,dataKey:G,item:U,bandSize:fe,barPosition:Ae,offset:S,stackedData:ie,layout:D,dataStartIndex:C,dataEndIndex:k}))),{},gt(gt(gt({key:U.key||"item-".concat(re)},M,Q[M]),z,Q[z]),"animationId",E)),childIndex:fW(U,x.children),item:U})}),R},h=function(x,b){var N=x.props,w=x.dataStartIndex,S=x.dataEndIndex,E=x.updateId;if(!h3({props:N}))return null;var C=N.children,k=N.layout,P=N.stackOffset,D=N.data,A=N.reverseStackOrder,I=t6(k),$=I.numericAxisName,_=I.cateAxisName,M=gi(C,n),z=Noe(D,M,"".concat($,"Id"),"".concat(_,"Id"),P,A),Z=c.reduce(function(B,G){var te="".concat(G.axisType,"Map");return Oe(Oe({},B),{},gt({},te,r0e(N,Oe(Oe({},G),{},{graphicalItems:M,stackGroups:G.axisType===$&&z,dataStartIndex:w,dataEndIndex:S}))))},{}),R=i0e(Oe(Oe({},Z),{},{props:N,graphicalItems:M}),b==null?void 0:b.legendBBox);Object.keys(Z).forEach(function(B){Z[B]=d(N,Z[B],R,B.replace("Map",""),r)});var U=Z["".concat(_,"Map")],re=n0e(U),de=m(N,Oe(Oe({},Z),{},{dataStartIndex:w,dataEndIndex:S,updateId:E,graphicalItems:M,stackGroups:z,offset:R}));return Oe(Oe({formattedGraphicalItems:de,graphicalItems:M,offset:R,stackGroups:z},re),Z)},p=function(v){function x(b){var N,w,S;return Fge(this,x),S=zge(this,x,[b]),gt(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),gt(S,"accessibilityManager",new Age),gt(S,"handleLegendBBoxUpdate",function(E){if(E){var C=S.state,k=C.dataStartIndex,P=C.dataEndIndex,D=C.updateId;S.setState(Oe({legendBBox:E},h({props:S.props,dataStartIndex:k,dataEndIndex:P,updateId:D},Oe(Oe({},S.state),{},{legendBBox:E}))))}}),gt(S,"handleReceiveSyncEvent",function(E,C,k){if(S.props.syncId===E){if(k===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(C)}}),gt(S,"handleBrushChange",function(E){var C=E.startIndex,k=E.endIndex;if(C!==S.state.dataStartIndex||k!==S.state.dataEndIndex){var P=S.state.updateId;S.setState(function(){return Oe({dataStartIndex:C,dataEndIndex:k},h({props:S.props,dataStartIndex:C,dataEndIndex:k,updateId:P},S.state))}),S.triggerSyncEvent({dataStartIndex:C,dataEndIndex:k})}}),gt(S,"handleMouseEnter",function(E){var C=S.getMouseInfo(E);if(C){var k=Oe(Oe({},C),{},{isTooltipActive:!0});S.setState(k),S.triggerSyncEvent(k);var P=S.props.onMouseEnter;xt(P)&&P(k,E)}}),gt(S,"triggeredAfterMouseMove",function(E){var C=S.getMouseInfo(E),k=C?Oe(Oe({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(k),S.triggerSyncEvent(k);var P=S.props.onMouseMove;xt(P)&&P(k,E)}),gt(S,"handleItemMouseEnter",function(E){S.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),gt(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),gt(S,"handleMouseMove",function(E){E.persist(),S.throttleTriggeredAfterMouseMove(E)}),gt(S,"handleMouseLeave",function(E){S.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};S.setState(C),S.triggerSyncEvent(C);var k=S.props.onMouseLeave;xt(k)&&k(C,E)}),gt(S,"handleOuterEvent",function(E){var C=dW(E),k=pi(S.props,"".concat(C));if(C&&xt(k)){var P,D;/.*touch.*/i.test(C)?D=S.getMouseInfo(E.changedTouches[0]):D=S.getMouseInfo(E),k((P=D)!==null&&P!==void 0?P:{},E)}}),gt(S,"handleClick",function(E){var C=S.getMouseInfo(E);if(C){var k=Oe(Oe({},C),{},{isTooltipActive:!0});S.setState(k),S.triggerSyncEvent(k);var P=S.props.onClick;xt(P)&&P(k,E)}}),gt(S,"handleMouseDown",function(E){var C=S.props.onMouseDown;if(xt(C)){var k=S.getMouseInfo(E);C(k,E)}}),gt(S,"handleMouseUp",function(E){var C=S.props.onMouseUp;if(xt(C)){var k=S.getMouseInfo(E);C(k,E)}}),gt(S,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),gt(S,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseDown(E.changedTouches[0])}),gt(S,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseUp(E.changedTouches[0])}),gt(S,"handleDoubleClick",function(E){var C=S.props.onDoubleClick;if(xt(C)){var k=S.getMouseInfo(E);C(k,E)}}),gt(S,"handleContextMenu",function(E){var C=S.props.onContextMenu;if(xt(C)){var k=S.getMouseInfo(E);C(k,E)}}),gt(S,"triggerSyncEvent",function(E){S.props.syncId!==void 0&&Pb.emit(Tb,S.props.syncId,E,S.eventEmitterSymbol)}),gt(S,"applySyncEvent",function(E){var C=S.props,k=C.layout,P=C.syncMethod,D=S.state.updateId,A=E.dataStartIndex,I=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)S.setState(Oe({dataStartIndex:A,dataEndIndex:I},h({props:S.props,dataStartIndex:A,dataEndIndex:I,updateId:D},S.state)));else if(E.activeTooltipIndex!==void 0){var $=E.chartX,_=E.chartY,M=E.activeTooltipIndex,z=S.state,Z=z.offset,R=z.tooltipTicks;if(!Z)return;if(typeof P=="function")M=P(R,E);else if(P==="value"){M=-1;for(var U=0;U<R.length;U++)if(R[U].value===E.activeLabel){M=U;break}}var re=Oe(Oe({},Z),{},{x:Z.left,y:Z.top}),de=Math.min($,re.x+re.width),B=Math.min(_,re.y+re.height),G=R[M]&&R[M].value,te=GN(S.state,S.props.data,M),ue=R[M]?{x:k==="horizontal"?R[M].coordinate:de,y:k==="horizontal"?B:R[M].coordinate}:RR;S.setState(Oe(Oe({},E),{},{activeLabel:G,activeCoordinate:ue,activePayload:te,activeTooltipIndex:M}))}else S.setState(E)}),gt(S,"renderCursor",function(E){var C,k=S.state,P=k.isTooltipActive,D=k.activeCoordinate,A=k.activePayload,I=k.offset,$=k.activeTooltipIndex,_=k.tooltipAxisBandSize,M=S.getTooltipEventType(),z=(C=E.props.active)!==null&&C!==void 0?C:P,Z=S.props.layout,R=E.key||"_recharts-cursor";return ce.createElement(Oge,{key:R,activeCoordinate:D,activePayload:A,activeTooltipIndex:$,chartName:r,element:E,isActive:z,layout:Z,offset:I,tooltipAxisBandSize:_,tooltipEventType:M})}),gt(S,"renderPolarAxis",function(E,C,k){var P=pi(E,"type.axisType"),D=pi(S.state,"".concat(P,"Map")),A=E.type.defaultProps,I=A!==void 0?Oe(Oe({},A),E.props):E.props,$=D&&D[I["".concat(P,"Id")]];return L.cloneElement(E,Oe(Oe({},$),{},{className:yt(P,$.className),key:E.key||"".concat(C,"-").concat(k),ticks:ko($,!0)}))}),gt(S,"renderPolarGrid",function(E){var C=E.props,k=C.radialLines,P=C.polarAngles,D=C.polarRadius,A=S.state,I=A.radiusAxisMap,$=A.angleAxisMap,_=Pl(I),M=Pl($),z=M.cx,Z=M.cy,R=M.innerRadius,U=M.outerRadius;return L.cloneElement(E,{polarAngles:Array.isArray(P)?P:ko(M,!0).map(function(re){return re.coordinate}),polarRadius:Array.isArray(D)?D:ko(_,!0).map(function(re){return re.coordinate}),cx:z,cy:Z,innerRadius:R,outerRadius:U,key:E.key||"polar-grid",radialLines:k})}),gt(S,"renderLegend",function(){var E=S.state.formattedGraphicalItems,C=S.props,k=C.children,P=C.width,D=C.height,A=S.props.margin||{},I=P-(A.left||0)-(A.right||0),$=c8({children:k,formattedGraphicalItems:E,legendWidth:I,legendContent:u});if(!$)return null;var _=$.item,M=JP($,Ige);return L.cloneElement(_,Oe(Oe({},M),{},{chartWidth:P,chartHeight:D,margin:A,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),gt(S,"renderTooltip",function(){var E,C=S.props,k=C.children,P=C.accessibilityLayer,D=ci(k,$a);if(!D)return null;var A=S.state,I=A.isTooltipActive,$=A.activeCoordinate,_=A.activePayload,M=A.activeLabel,z=A.offset,Z=(E=D.props.active)!==null&&E!==void 0?E:I;return L.cloneElement(D,{viewBox:Oe(Oe({},z),{},{x:z.left,y:z.top}),active:Z,label:M,payload:Z?_:[],coordinate:$,accessibilityLayer:P})}),gt(S,"renderBrush",function(E){var C=S.props,k=C.margin,P=C.data,D=S.state,A=D.offset,I=D.dataStartIndex,$=D.dataEndIndex,_=D.updateId;return L.cloneElement(E,{key:E.key||"_recharts-brush",onChange:r0(S.handleBrushChange,E.props.onChange),data:P,x:He(E.props.x)?E.props.x:A.left,y:He(E.props.y)?E.props.y:A.top+A.height+A.brushBottom-(k.bottom||0),width:He(E.props.width)?E.props.width:A.width,startIndex:I,endIndex:$,updateId:"brush-".concat(_)})}),gt(S,"renderReferenceElement",function(E,C,k){if(!E)return null;var P=S,D=P.clipPathId,A=S.state,I=A.xAxisMap,$=A.yAxisMap,_=A.offset,M=E.type.defaultProps||{},z=E.props,Z=z.xAxisId,R=Z===void 0?M.xAxisId:Z,U=z.yAxisId,re=U===void 0?M.yAxisId:U;return L.cloneElement(E,{key:E.key||"".concat(C,"-").concat(k),xAxis:I[R],yAxis:$[re],viewBox:{x:_.left,y:_.top,width:_.width,height:_.height},clipPathId:D})}),gt(S,"renderActivePoints",function(E){var C=E.item,k=E.activePoint,P=E.basePoint,D=E.childIndex,A=E.isRange,I=[],$=C.props.key,_=C.item.type.defaultProps!==void 0?Oe(Oe({},C.item.type.defaultProps),C.item.props):C.item.props,M=_.activeDot,z=_.dataKey,Z=Oe(Oe({index:D,dataKey:z,cx:k.x,cy:k.y,r:4,fill:oS(C.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},ut(M,!1)),gx(M));return I.push(x.renderActiveDot(M,Z,"".concat($,"-activePoint-").concat(D))),P?I.push(x.renderActiveDot(M,Oe(Oe({},Z),{},{cx:P.x,cy:P.y}),"".concat($,"-basePoint-").concat(D))):A&&I.push(null),I}),gt(S,"renderGraphicChild",function(E,C,k){var P=S.filterFormatItem(E,C,k);if(!P)return null;var D=S.getTooltipEventType(),A=S.state,I=A.isTooltipActive,$=A.tooltipAxis,_=A.activeTooltipIndex,M=A.activeLabel,z=S.props.children,Z=ci(z,$a),R=P.props,U=R.points,re=R.isRange,de=R.baseLine,B=P.item.type.defaultProps!==void 0?Oe(Oe({},P.item.type.defaultProps),P.item.props):P.item.props,G=B.activeDot,te=B.hide,ue=B.activeBar,q=B.activeShape,X=!!(!te&&I&&Z&&(G||ue||q)),Q={};D!=="axis"&&Z&&Z.props.trigger==="click"?Q={onClick:r0(S.handleItemMouseEnter,E.props.onClick)}:D!=="axis"&&(Q={onMouseLeave:r0(S.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:r0(S.handleItemMouseEnter,E.props.onMouseEnter)});var ne=L.cloneElement(E,Oe(Oe({},P.props),Q));function pe(Ge){return typeof $.dataKey=="function"?$.dataKey(Ge.payload):null}if(X)if(_>=0){var ie,W;if($.dataKey&&!$.allowDuplicatedCategory){var fe=typeof $.dataKey=="function"?pe:"payload.".concat($.dataKey.toString());ie=px(U,fe,M),W=re&&de&&px(de,fe,M)}else ie=U==null?void 0:U[_],W=re&&de&&de[_];if(q||ue){var Ae=E.props.activeIndex!==void 0?E.props.activeIndex:_;return[L.cloneElement(E,Oe(Oe(Oe({},P.props),Q),{},{activeIndex:Ae})),null,null]}if(!jt(ie))return[ne].concat(vf(S.renderActivePoints({item:P,activePoint:ie,basePoint:W,childIndex:_,isRange:re})))}else{var Y,Te=(Y=S.getItemByXY(S.state.activeCoordinate))!==null&&Y!==void 0?Y:{graphicalItem:ne},qe=Te.graphicalItem,be=qe.item,je=be===void 0?E:be,Me=qe.childIndex,Ue=Oe(Oe(Oe({},P.props),Q),{},{activeIndex:Me});return[L.cloneElement(je,Ue),null,null]}return re?[ne,null,null]:[ne,null]}),gt(S,"renderCustomized",function(E,C,k){return L.cloneElement(E,Oe(Oe({key:"recharts-customized-".concat(k)},S.props),S.state))}),gt(S,"renderMap",{CartesianGrid:{handler:o0,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:o0},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:o0},YAxis:{handler:o0},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((N=b.id)!==null&&N!==void 0?N:Nu("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=lL(S.triggeredAfterMouseMove,(w=b.throttleDelay)!==null&&w!==void 0?w:1e3/60),S.state={},S}return Vge(x,v),Uge(x,[{key:"componentDidMount",value:function(){var N,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,w=N.children,S=N.data,E=N.height,C=N.layout,k=ci(w,$a);if(k){var P=k.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,A=GN(this.state,S,P,D),I=this.state.tooltipTicks[P].coordinate,$=(this.state.offset.top+E)/2,_=C==="horizontal",M=_?{x:I,y:$}:{y:I,x:$},z=this.state.formattedGraphicalItems.find(function(R){var U=R.item;return U.type.name==="Scatter"});z&&(M=Oe(Oe({},M),z.props.points[P].tooltipPosition),A=z.props.points[P].tooltipPayload);var Z={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:D,activePayload:A,activeCoordinate:M};this.setState(Z),this.renderCursor(k),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var S,E;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(N){ww([ci(N.children,$a)],[ci(this.props.children,$a)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=ci(this.props.children,$a);if(N&&typeof N.props.shared=="boolean"){var w=N.props.shared?"axis":"item";return l.indexOf(w)>=0?w:s}return s}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var w=this.container,S=w.getBoundingClientRect(),E=$re(S),C={chartX:Math.round(N.pageX-E.left),chartY:Math.round(N.pageY-E.top)},k=S.width/w.offsetWidth||1,P=this.inRange(C.chartX,C.chartY,k);if(!P)return null;var D=this.state,A=D.xAxisMap,I=D.yAxisMap,$=this.getTooltipEventType(),_=QP(this.state,this.props.data,this.props.layout,P);if($!=="axis"&&A&&I){var M=Pl(A).scale,z=Pl(I).scale,Z=M&&M.invert?M.invert(C.chartX):null,R=z&&z.invert?z.invert(C.chartY):null;return Oe(Oe({},C),{},{xValue:Z,yValue:R},_)}return _?Oe(Oe({},C),_):null}},{key:"inRange",value:function(N,w){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,C=N/S,k=w/S;if(E==="horizontal"||E==="vertical"){var P=this.state.offset,D=C>=P.left&&C<=P.left+P.width&&k>=P.top&&k<=P.top+P.height;return D?{x:C,y:k}:null}var A=this.state,I=A.angleAxisMap,$=A.radiusAxisMap;if(I&&$){var _=Pl(I);return N_({x:C,y:k},_)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,w=this.getTooltipEventType(),S=ci(N,$a),E={};S&&w==="axis"&&(S.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=gx(this.props,this.handleOuterEvent);return Oe(Oe({},C),E)}},{key:"addListener",value:function(){Pb.on(Tb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Pb.removeListener(Tb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,w,S){for(var E=this.state.formattedGraphicalItems,C=0,k=E.length;C<k;C++){var P=E[C];if(P.item===N||P.props.key===N.key||w===Io(P.item.type)&&S===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,w=this.state.offset,S=w.left,E=w.top,C=w.height,k=w.width;return ce.createElement("defs",null,ce.createElement("clipPath",{id:N},ce.createElement("rect",{x:S,y:E,height:C,width:k})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(w,S){var E=XP(S,2),C=E[0],k=E[1];return Oe(Oe({},w),{},gt({},C,k.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(w,S){var E=XP(S,2),C=E[0],k=E[1];return Oe(Oe({},w),{},gt({},C,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[N])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(N){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[N])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(N){var w=this.state,S=w.formattedGraphicalItems,E=w.activeItem;if(S&&S.length)for(var C=0,k=S.length;C<k;C++){var P=S[C],D=P.props,A=P.item,I=A.type.defaultProps!==void 0?Oe(Oe({},A.type.defaultProps),A.props):A.props,$=Io(A.type);if($==="Bar"){var _=(D.data||[]).find(function(R){return bue(N,R)});if(_)return{graphicalItem:P,payload:_}}else if($==="RadialBar"){var M=(D.data||[]).find(function(R){return N_(N,R)});if(M)return{graphicalItem:P,payload:M}}else if(Ov(P,E)||Iv(P,E)||dp(P,E)){var z=lfe({graphicalItem:P,activeTooltipItem:E,itemData:I.data}),Z=I.activeIndex===void 0?z:I.activeIndex;return{graphicalItem:Oe(Oe({},P),{},{childIndex:Z}),payload:dp(P,E)?I.data[z]:P.props.data[z]}}}return null}},{key:"render",value:function(){var N=this;if(!h3(this))return null;var w=this.props,S=w.children,E=w.className,C=w.width,k=w.height,P=w.style,D=w.compact,A=w.title,I=w.desc,$=JP(w,Lge),_=ut($,!1);if(D)return ce.createElement(CP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ce.createElement(jw,vd({},_,{width:C,height:k,title:A,desc:I}),this.renderClipPath(),p3(S,this.renderMap)));if(this.props.accessibilityLayer){var M,z;_.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,_.role=(z=this.props.role)!==null&&z!==void 0?z:"application",_.onKeyDown=function(R){N.accessibilityManager.keyboardEvent(R)},_.onFocus=function(){N.accessibilityManager.focus()}}var Z=this.parseEventsOfWrapper();return ce.createElement(CP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ce.createElement("div",vd({className:yt("recharts-wrapper",E),style:Oe({position:"relative",cursor:"default",width:C,height:k},P)},Z,{ref:function(U){N.container=U}}),ce.createElement(jw,vd({},_,{width:C,height:k,title:A,desc:I,style:Jge}),this.renderClipPath(),p3(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(L.Component);gt(p,"displayName",r),gt(p,"defaultProps",Oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),gt(p,"getDerivedStateFromProps",function(v,x){var b=v.dataKey,N=v.data,w=v.children,S=v.width,E=v.height,C=v.layout,k=v.stackOffset,P=v.margin,D=x.dataStartIndex,A=x.dataEndIndex;if(x.updateId===void 0){var I=e6(v);return Oe(Oe(Oe({},I),{},{updateId:0},h(Oe(Oe({props:v},I),{},{updateId:0}),x)),{},{prevDataKey:b,prevData:N,prevWidth:S,prevHeight:E,prevLayout:C,prevStackOffset:k,prevMargin:P,prevChildren:w})}if(b!==x.prevDataKey||N!==x.prevData||S!==x.prevWidth||E!==x.prevHeight||C!==x.prevLayout||k!==x.prevStackOffset||!_d(P,x.prevMargin)){var $=e6(v),_={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},M=Oe(Oe({},QP(x,N,C)),{},{updateId:x.updateId+1}),z=Oe(Oe(Oe({},$),_),M);return Oe(Oe(Oe({},z),h(Oe({props:v},z),x)),{},{prevDataKey:b,prevData:N,prevWidth:S,prevHeight:E,prevLayout:C,prevStackOffset:k,prevMargin:P,prevChildren:w})}if(!ww(w,x.prevChildren)){var Z,R,U,re,de=ci(w,lf),B=de&&(Z=(R=de.props)===null||R===void 0?void 0:R.startIndex)!==null&&Z!==void 0?Z:D,G=de&&(U=(re=de.props)===null||re===void 0?void 0:re.endIndex)!==null&&U!==void 0?U:A,te=B!==D||G!==A,ue=!jt(N),q=ue&&!te?x.updateId:x.updateId+1;return Oe(Oe({updateId:q},h(Oe(Oe({props:v},x),{},{updateId:q,dataStartIndex:B,dataEndIndex:G}),x)),{},{prevChildren:w,dataStartIndex:B,dataEndIndex:G})}return null}),gt(p,"renderActiveDot",function(v,x,b){var N;return L.isValidElement(v)?N=L.cloneElement(v,x):xt(v)?N=v(x):N=ce.createElement(Bp,x),ce.createElement(Bt,{className:"recharts-active-dot",key:b},N)});var y=L.forwardRef(function(x,b){return ce.createElement(p,vd({},x,{ref:b}))});return y.displayName=p.displayName,y},DR=Bv({chartName:"LineChart",GraphicalChild:gu,axisComponents:[{axisType:"xAxis",AxisComp:Ro},{axisType:"yAxis",AxisComp:Mo}],formatAxisMap:cS}),o0e=Bv({chartName:"BarChart",GraphicalChild:Eu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ro},{axisType:"yAxis",AxisComp:Mo}],formatAxisMap:cS}),l0e=Bv({chartName:"PieChart",GraphicalChild:Zo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:kv},{axisType:"radiusAxis",AxisComp:Tv}],formatAxisMap:Loe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),c0e=Bv({chartName:"AreaChart",GraphicalChild:Wo,axisComponents:[{axisType:"xAxis",AxisComp:Ro},{axisType:"yAxis",AxisComp:Mo}],formatAxisMap:cS});const u0e={VITAL:"vital",MEDICATION:"medication",SYMPTOM:"symptom",NOTE:"note",ASSESSMENT:"assessment",TREATMENT:"treatment"},d0e={PATIENT:"patient",NURSE:"nurse",DOCTOR:"doctor",CAREGIVER:"caregiver",SPECIALIST:"specialist"};function po(e){var t,r,n;return{...e,patientName:((t=e.patient)==null?void 0:t.name)??e.patientName??"Unknown Patient",recordType:u0e[(r=e.recordType)==null?void 0:r.toUpperCase()]??"note",updatedByRole:d0e[(n=e.updatedByRole)==null?void 0:n.toUpperCase()]??"nurse",timestamp:e.timestamp?new Date(e.timestamp).toISOString():e.timestamp,verified:!!e.verified}}const f0e=e=>typeof e=="number"?Math.min(Math.max(e,1),100):e;function r6(e){return e.toUpperCase()}class h0e{async getHealthRecords(t){const r=await me.get(xe.HEALTH_RECORDS.BASE,{params:t&&{...t,limit:f0e(t.limit)}});return{records:Array.isArray(r.data)?r.data.map(po):[],pagination:r.pagination}}async getHealthRecord(t){const r=await me.get(xe.HEALTH_RECORDS.BY_ID(t));return po(r.data)}async createHealthRecord(t){const r={...t,recordType:r6(t.recordType)},n=await me.post(xe.HEALTH_RECORDS.BASE,r);return po(n.data)}async updateHealthRecord(t,r){const n={...r};r.recordType&&(n.recordType=r6(r.recordType));const i=await me.put(xe.HEALTH_RECORDS.BY_ID(t),n);return po(i.data)}async deleteHealthRecord(t){await me.delete(xe.HEALTH_RECORDS.BY_ID(t))}async getPatientHealthRecords(t){const r=await me.get(xe.HEALTH_RECORDS.BY_PATIENT(t));return Array.isArray(r.data)?r.data.map(po):[]}async getVitalSigns(t){const r=await me.get(xe.HEALTH_RECORDS.VITALS(t));return Array.isArray(r.data)?r.data.map(po):[]}async getMedications(t){const r=await me.get(xe.HEALTH_RECORDS.MEDICATIONS(t));return Array.isArray(r.data)?r.data.map(po):[]}async getSymptoms(t){const r=await me.get(xe.HEALTH_RECORDS.SYMPTOMS(t));return Array.isArray(r.data)?r.data.map(po):[]}async verifyRecord(t,r){const n=await me.patch(xe.HEALTH_RECORDS.VERIFY(t),r);return po(n.data)}}const di=new h0e;function Yu(e){var r,n,i;const t=(r=e.status)==null?void 0:r.toLowerCase();return{id:e.id,patientId:e.patientId,patientName:e.patientName??((n=e.patient)==null?void 0:n.name)??"Unknown Patient",serviceId:e.serviceId,serviceName:e.serviceName??((i=e.service)==null?void 0:i.name)??"Unknown Service",amount:e.amount,date:e.date,dueDate:e.dueDate,status:t??"pending",description:e.description,archivedAt:e.archivedAt??void 0,createdAt:e.createdAt}}class m0e{async getInvoices(t){const r=await me.get(xe.BILLING.INVOICES,{params:t}),n=r;return{invoices:(Array.isArray(n.data)?n.data:Array.isArray(r.data)?r.data:[]).map(Yu),pagination:n.pagination??r.pagination}}async archiveInvoice(t){const r=await me.patch(xe.BILLING.ARCHIVE_INVOICE(t));return Yu(r.data??r)}async getBillingSummary(t){const r=await me.get(xe.BILLING.SUMMARY,{params:t});return r.data??r}async getInvoice(t){const r=await me.get(xe.BILLING.INVOICE_BY_ID(t));return Yu(r.data)}async createInvoice(t){const r=await me.post(xe.BILLING.INVOICES,t);return Yu(r.data)}async updateInvoice(t,r){const n=await me.put(xe.BILLING.INVOICE_BY_ID(t),r);return Yu(n.data)}async deleteInvoice(t){await me.delete(xe.BILLING.INVOICE_BY_ID(t))}async generateInvoice(t){const r=await me.post(xe.BILLING.GENERATE_INVOICE,t);return Yu(r.data)}async getPayments(t){const r=await me.get(xe.BILLING.PAYMENTS,{params:t});return{payments:Array.isArray(r.data)?r.data:[],pagination:r.pagination}}async getPayment(t){return(await me.get(xe.BILLING.PAYMENT_BY_ID(t))).data}async processPayment(t){return(await me.post(xe.BILLING.PROCESS_PAYMENT,t)).data}async getRevenueReport(){return(await me.get(xe.BILLING.REVENUE_REPORT)).data??{}}async getOutstandingReport(){return(await me.get(xe.BILLING.OUTSTANDING_REPORT)).data??{}}}const rs=new m0e,Vc={create(e){return me.post(xe.INVESTIGATION_REQUESTS.BASE,e)},async list(e){const t=await me.get(xe.INVESTIGATION_REQUESTS.BASE,{params:e}),r=t.data??t;return{success:t.success,requests:r.requests??[],pagination:r.pagination??{page:1,limit:10,total:0,totalPages:0}}},getById(e){return me.get(xe.INVESTIGATION_REQUESTS.BY_ID(e))},update(e,t){return me.patch(xe.INVESTIGATION_REQUESTS.BY_ID(e),t)}};function YN({isOpen:e,onClose:t,onSave:r,record:n,mode:i,patientId:s}){const[o,l]=L.useState({patientId:"",recordType:"vital",data:{bloodPressure:"",heartRate:"",temperature:"",weight:"",height:"",bmi:"",bmiCategory:"",bloodSugar:"",oxygenSaturation:"",medication:"",dosage:"",taken:!1,symptoms:[],notes:"",painLevel:"",mood:"",sleep:"",appetite:"",mobility:"",injuryType:"",affectedArea:[],painScale:"",mobilityLevel:"",functionalLimitations:[],medicalHistory:"",currentMedications:[],goals:[],assessmentNotes:"",recommendations:[],chiefComplaint:"",history:"",examination:"",diagnosis:"",nextAppointment:""},location:"",notes:""}),[c,u]=L.useState(""),[d,f]=L.useState(""),[m,h]=L.useState(""),[p,y]=L.useState(""),[v,x]=L.useState(""),[b,N]=L.useState(""),[w,S]=L.useState(!1),[E,C]=L.useState(null),[k,P]=L.useState([]),[D,A]=L.useState(!1);L.useEffect(()=>{e&&(async()=>{A(!0);try{const{patients:fe}=await Mn.getPatients({limit:200,status:"active"});if(P(fe),n&&i==="edit"&&!fe.find(Ae=>Ae.id===n.patientId))try{const Ae=await Mn.getPatient(n.patientId);Ae&&P([...fe,Ae])}catch(Ae){console.error("Failed to load patient",Ae)}}catch(fe){console.error("Failed to load patients",fe)}finally{A(!1)}})()},[e,n,i,s]),L.useEffect(()=>{var W,fe,Ae,Y,Te,qe,be,je,Me,Ue;if(i==="add"&&s)l(Ge=>({...Ge,patientId:s,recordType:"vital"}));else if(n&&i==="edit"){const Ge=((W=n.data.weight)==null?void 0:W.toString())||"",We=((fe=n.data.height)==null?void 0:fe.toString())||"",_t=((Ae=n.data.bmi)==null?void 0:Ae.toString())||"";let pt={bmi:_t,bmiCategory:n.data.bmiCategory||""};(Ge&&We&&!_t||Ge&&We&&_t)&&(pt=I(Ge,We)),l({patientId:n.patientId,recordType:n.recordType,data:{bloodPressure:n.data.bloodPressure||"",heartRate:((Y=n.data.heartRate)==null?void 0:Y.toString())||"",temperature:((Te=n.data.temperature)==null?void 0:Te.toString())||"",weight:Ge,height:We,bmi:pt.bmi,bmiCategory:pt.bmiCategory,bloodSugar:((qe=n.data.bloodSugar)==null?void 0:qe.toString())||"",oxygenSaturation:((be=n.data.oxygenSaturation)==null?void 0:be.toString())||"",medication:n.data.medication||"",dosage:n.data.dosage||"",taken:n.data.taken||!1,symptoms:n.data.symptoms||[],notes:n.data.notes||"",painLevel:((je=n.data.painLevel)==null?void 0:je.toString())||"",mood:n.data.mood||"",sleep:((Me=n.data.sleep)==null?void 0:Me.toString())||"",appetite:n.data.appetite||"",mobility:n.data.mobility||"",injuryType:n.data.injuryType||"",affectedArea:n.data.affectedArea||[],painScale:((Ue=n.data.painScale)==null?void 0:Ue.toString())||"",mobilityLevel:n.data.mobilityLevel||"",functionalLimitations:n.data.functionalLimitations||[],medicalHistory:n.data.medicalHistory||"",currentMedications:n.data.currentMedications||[],goals:n.data.goals||[],assessmentNotes:n.data.assessmentNotes||"",recommendations:n.data.recommendations||[],chiefComplaint:n.data.chiefComplaint||"",history:n.data.history||"",examination:n.data.examination||"",diagnosis:n.data.diagnosis||"",nextAppointment:n.data.nextAppointment||""},location:n.location||"",notes:n.notes||""})}else l({patientId:"",recordType:"vital",data:{bloodPressure:"",heartRate:"",temperature:"",weight:"",height:"",bmi:"",bmiCategory:"",bloodSugar:"",oxygenSaturation:"",medication:"",dosage:"",taken:!1,symptoms:[],notes:"",painLevel:"",mood:"",sleep:"",appetite:"",mobility:"",injuryType:"",affectedArea:[],painScale:"",mobilityLevel:"",functionalLimitations:[],medicalHistory:"",currentMedications:[],goals:[],assessmentNotes:"",recommendations:[],chiefComplaint:"",history:"",examination:"",diagnosis:"",nextAppointment:""},location:"",notes:""})},[n,i]);const I=(W,fe)=>{const Ae=parseFloat(W),Y=parseFloat(fe);if(!Ae||!Y||Ae<=0||Y<=0)return{bmi:"",bmiCategory:""};const Te=Ae/(Y*Y)*703,qe=Math.round(Te*10)/10;let be="";return qe<18.5?be="Underweight":qe>=18.5&&qe<25?be="Normal weight":qe>=25&&qe<30?be="Overweight":be="Obese",{bmi:qe.toString(),bmiCategory:be}},$=W=>{const{name:fe,value:Ae,type:Y}=W.target;if(fe.startsWith("data.")){const Te=fe.replace("data.","");l(qe=>{const be={...qe.data,[Te]:Y==="checkbox"?W.target.checked:Ae};if(Te==="weight"||Te==="height"){const je=Te==="weight"?Ae:qe.data.weight,Me=Te==="height"?Ae:qe.data.height,{bmi:Ue,bmiCategory:Ge}=I(je,Me);be.bmi=Ue,be.bmiCategory=Ge}return{...qe,data:be}})}else l(Te=>({...Te,[fe]:Ae}))},_=()=>{c.trim()&&(l(W=>({...W,data:{...W.data,symptoms:[...W.data.symptoms,c.trim()]}})),u(""))},M=W=>{l(fe=>({...fe,data:{...fe.data,symptoms:fe.data.symptoms.filter((Ae,Y)=>Y!==W)}}))},z=()=>{d.trim()&&(l(W=>({...W,data:{...W.data,affectedArea:[...W.data.affectedArea,d.trim()]}})),f(""))},Z=W=>{l(fe=>({...fe,data:{...fe.data,affectedArea:fe.data.affectedArea.filter((Ae,Y)=>Y!==W)}}))},R=()=>{m.trim()&&(l(W=>({...W,data:{...W.data,functionalLimitations:[...W.data.functionalLimitations,m.trim()]}})),h(""))},U=W=>{l(fe=>({...fe,data:{...fe.data,functionalLimitations:fe.data.functionalLimitations.filter((Ae,Y)=>Y!==W)}}))},re=()=>{p.trim()&&(l(W=>({...W,data:{...W.data,currentMedications:[...W.data.currentMedications,p.trim()]}})),y(""))},de=W=>{l(fe=>({...fe,data:{...fe.data,currentMedications:fe.data.currentMedications.filter((Ae,Y)=>Y!==W)}}))},B=()=>{v.trim()&&(l(W=>({...W,data:{...W.data,goals:[...W.data.goals,v.trim()]}})),x(""))},G=W=>{l(fe=>({...fe,data:{...fe.data,goals:fe.data.goals.filter((Ae,Y)=>Y!==W)}}))},te=()=>{b.trim()&&(l(W=>({...W,data:{...W.data,recommendations:[...W.data.recommendations,b.trim()]}})),N(""))},ue=W=>{l(fe=>({...fe,data:{...fe.data,recommendations:fe.data.recommendations.filter((Ae,Y)=>Y!==W)}}))},q=async W=>{if(W.preventDefault(),w)return;S(!0),C(null);const fe={...o.data,heartRate:o.data.heartRate?parseInt(o.data.heartRate):void 0,temperature:o.data.temperature?parseFloat(o.data.temperature):void 0,weight:o.data.weight?parseFloat(o.data.weight):void 0,height:o.data.height?parseFloat(o.data.height):void 0,bloodSugar:o.data.bloodSugar?parseFloat(o.data.bloodSugar):void 0,oxygenSaturation:o.data.oxygenSaturation?parseFloat(o.data.oxygenSaturation):void 0,painLevel:o.data.painLevel?parseInt(o.data.painLevel):void 0,sleep:o.data.sleep?parseInt(o.data.sleep):void 0,painScale:o.data.painScale?parseInt(o.data.painScale):void 0};Object.keys(fe).forEach(Y=>{(fe[Y]===""||fe[Y]===void 0)&&delete fe[Y]});const Ae={recordId:n==null?void 0:n.id,patientId:o.patientId,recordType:o.recordType,data:fe,location:o.location||void 0,notes:o.notes||void 0};try{await r(Ae),t()}catch(Y){C((Y==null?void 0:Y.message)??"Unable to save health record. Please try again.")}finally{S(!1)}},X=()=>a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blood Pressure"}),a.jsx("input",{type:"text",name:"data.bloodPressure",value:o.data.bloodPressure,onChange:$,placeholder:"e.g., 120/80",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Heart Rate (bpm)"}),a.jsx("input",{type:"number",name:"data.heartRate",value:o.data.heartRate,onChange:$,placeholder:"e.g., 72",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Temperature (F)"}),a.jsx("input",{type:"number",step:"0.1",name:"data.temperature",value:o.data.temperature,onChange:$,placeholder:"e.g., 98.6",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight (lbs)"}),a.jsx("input",{type:"number",step:"0.1",name:"data.weight",value:o.data.weight,onChange:$,placeholder:"e.g., 150",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Height (inches)"}),a.jsx("input",{type:"number",step:"0.1",name:"data.height",value:o.data.height,onChange:$,placeholder:"e.g., 65",className:"input-field"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["BMI (Body Mass Index)",a.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"(Auto-calculated)"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",name:"data.bmi",value:o.data.bmi||"",readOnly:!0,placeholder:"Enter weight & height",className:"input-field bg-gray-50 flex-1"}),o.data.bmiCategory&&a.jsx("span",{className:`px-3 py-2 rounded-md text-sm font-medium ${o.data.bmiCategory==="Normal weight"?"bg-green-100 text-green-800":o.data.bmiCategory==="Underweight"?"bg-yellow-100 text-yellow-800":o.data.bmiCategory==="Overweight"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:o.data.bmiCategory})]}),o.data.bmi&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"BMI Categories: Underweight (<18.5) | Normal (18.5-24.9) | Overweight (25-29.9) | Obese (30)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blood Sugar (mg/dL)"}),a.jsx("input",{type:"number",name:"data.bloodSugar",value:o.data.bloodSugar,onChange:$,placeholder:"e.g., 100",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Oxygen Saturation (%)"}),a.jsx("input",{type:"number",name:"data.oxygenSaturation",value:o.data.oxygenSaturation,onChange:$,placeholder:"e.g., 98",className:"input-field"})]})]}),Q=()=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Medication"}),a.jsx("input",{type:"text",name:"data.medication",value:o.data.medication,onChange:$,placeholder:"e.g., Lisinopril",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dosage"}),a.jsx("input",{type:"text",name:"data.dosage",value:o.data.dosage,onChange:$,placeholder:"e.g., 10mg",className:"input-field"})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",name:"data.taken",checked:o.data.taken,onChange:$,className:"mr-2"}),a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Medication was taken"})]})]}),ne=()=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Symptoms"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:c,onChange:W=>u(W.target.value),placeholder:"Add symptom...",className:"input-field flex-1",onKeyPress:W=>W.key==="Enter"&&(W.preventDefault(),_())}),a.jsx("button",{type:"button",onClick:_,className:"btn-primary",children:a.jsx(zt,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:o.data.symptoms.map((W,fe)=>a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[W,a.jsx("button",{type:"button",onClick:()=>M(fe),className:"ml-1 text-blue-600 hover:text-blue-800",children:a.jsx(Dt,{className:"h-3 w-3"})})]},fe))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pain Level (1-10)"}),a.jsx("input",{type:"number",min:"1",max:"10",name:"data.painLevel",value:o.data.painLevel,onChange:$,placeholder:"e.g., 5",className:"input-field"})]})]}),pe=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Injury Type"}),a.jsxs("select",{name:"data.injuryType",value:o.data.injuryType,onChange:$,className:"input-field",children:[a.jsx("option",{value:"",children:"Select injury type"}),a.jsx("option",{value:"musculoskeletal",children:"Musculoskeletal"}),a.jsx("option",{value:"neurological",children:"Neurological"}),a.jsx("option",{value:"cardiovascular",children:"Cardiovascular"}),a.jsx("option",{value:"respiratory",children:"Respiratory"}),a.jsx("option",{value:"sports",children:"Sports"}),a.jsx("option",{value:"post-surgical",children:"Post-Surgical"}),a.jsx("option",{value:"chronic-pain",children:"Chronic Pain"}),a.jsx("option",{value:"other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pain Scale (1-10)"}),a.jsx("input",{type:"number",min:"1",max:"10",name:"data.painScale",value:o.data.painScale,onChange:$,placeholder:"e.g., 5",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobility Level"}),a.jsxs("select",{name:"data.mobilityLevel",value:o.data.mobilityLevel,onChange:$,className:"input-field",children:[a.jsx("option",{value:"",children:"Select mobility level"}),a.jsx("option",{value:"independent",children:"Independent"}),a.jsx("option",{value:"assisted",children:"Assisted"}),a.jsx("option",{value:"dependent",children:"Dependent"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Next Appointment"}),a.jsx("input",{type:"date",name:"data.nextAppointment",value:o.data.nextAppointment,onChange:$,className:"input-field"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chief Complaint"}),a.jsx("textarea",{name:"data.chiefComplaint",value:o.data.chiefComplaint,onChange:$,rows:2,className:"input-field",placeholder:"Primary reason for visit..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Medical History"}),a.jsx("textarea",{name:"data.medicalHistory",value:o.data.medicalHistory,onChange:$,rows:3,className:"input-field",placeholder:"Relevant medical history..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Examination Findings"}),a.jsx("textarea",{name:"data.examination",value:o.data.examination,onChange:$,rows:3,className:"input-field",placeholder:"Physical examination findings..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Diagnosis"}),a.jsx("textarea",{name:"data.diagnosis",value:o.data.diagnosis,onChange:$,rows:2,className:"input-field",placeholder:"Clinical diagnosis..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Affected Areas"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:d,onChange:W=>f(W.target.value),placeholder:"Add affected area...",className:"input-field flex-1",onKeyPress:W=>W.key==="Enter"&&(W.preventDefault(),z())}),a.jsx("button",{type:"button",onClick:z,className:"btn-primary",children:a.jsx(zt,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:o.data.affectedArea.map((W,fe)=>a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[W,a.jsx("button",{type:"button",onClick:()=>Z(fe),className:"ml-1 text-purple-600 hover:text-purple-800",children:a.jsx(Dt,{className:"h-3 w-3"})})]},fe))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Functional Limitations"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:m,onChange:W=>h(W.target.value),placeholder:"Add limitation...",className:"input-field flex-1",onKeyPress:W=>W.key==="Enter"&&(W.preventDefault(),R())}),a.jsx("button",{type:"button",onClick:R,className:"btn-primary",children:a.jsx(zt,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:o.data.functionalLimitations.map((W,fe)=>a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[W,a.jsx("button",{type:"button",onClick:()=>U(fe),className:"ml-1 text-orange-600 hover:text-orange-800",children:a.jsx(Dt,{className:"h-3 w-3"})})]},fe))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Medications"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:p,onChange:W=>y(W.target.value),placeholder:"Add medication...",className:"input-field flex-1",onKeyPress:W=>W.key==="Enter"&&(W.preventDefault(),re())}),a.jsx("button",{type:"button",onClick:re,className:"btn-primary",children:a.jsx(zt,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:o.data.currentMedications.map((W,fe)=>a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[W,a.jsx("button",{type:"button",onClick:()=>de(fe),className:"ml-1 text-blue-600 hover:text-blue-800",children:a.jsx(Dt,{className:"h-3 w-3"})})]},fe))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Treatment Goals"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:v,onChange:W=>x(W.target.value),placeholder:"Add goal...",className:"input-field flex-1",onKeyPress:W=>W.key==="Enter"&&(W.preventDefault(),B())}),a.jsx("button",{type:"button",onClick:B,className:"btn-primary",children:a.jsx(zt,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:o.data.goals.map((W,fe)=>a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[W,a.jsx("button",{type:"button",onClick:()=>G(fe),className:"ml-1 text-green-600 hover:text-green-800",children:a.jsx(Dt,{className:"h-3 w-3"})})]},fe))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recommendations"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:b,onChange:W=>N(W.target.value),placeholder:"Add recommendation...",className:"input-field flex-1",onKeyPress:W=>W.key==="Enter"&&(W.preventDefault(),te())}),a.jsx("button",{type:"button",onClick:te,className:"btn-primary",children:a.jsx(zt,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:o.data.recommendations.map((W,fe)=>a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[W,a.jsx("button",{type:"button",onClick:()=>ue(fe),className:"ml-1 text-yellow-600 hover:text-yellow-800",children:a.jsx(Dt,{className:"h-3 w-3"})})]},fe))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assessment Notes"}),a.jsx("textarea",{name:"data.assessmentNotes",value:o.data.assessmentNotes,onChange:$,rows:4,className:"input-field",placeholder:"Additional assessment notes and observations..."})]})]}),ie=()=>a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mood"}),a.jsxs("select",{name:"data.mood",value:o.data.mood,onChange:$,className:"input-field",children:[a.jsx("option",{value:"",children:"Select mood"}),a.jsx("option",{value:"Excellent",children:"Excellent"}),a.jsx("option",{value:"Good",children:"Good"}),a.jsx("option",{value:"Fair",children:"Fair"}),a.jsx("option",{value:"Poor",children:"Poor"}),a.jsx("option",{value:"Very Poor",children:"Very Poor"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sleep (hours)"}),a.jsx("input",{type:"number",name:"data.sleep",value:o.data.sleep,onChange:$,placeholder:"e.g., 8",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Appetite"}),a.jsxs("select",{name:"data.appetite",value:o.data.appetite,onChange:$,className:"input-field",children:[a.jsx("option",{value:"",children:"Select appetite"}),a.jsx("option",{value:"Excellent",children:"Excellent"}),a.jsx("option",{value:"Good",children:"Good"}),a.jsx("option",{value:"Fair",children:"Fair"}),a.jsx("option",{value:"Poor",children:"Poor"}),a.jsx("option",{value:"None",children:"None"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobility"}),a.jsxs("select",{name:"data.mobility",value:o.data.mobility,onChange:$,className:"input-field",children:[a.jsx("option",{value:"",children:"Select mobility"}),a.jsx("option",{value:"Independent",children:"Independent"}),a.jsx("option",{value:"Assisted",children:"Assisted"}),a.jsx("option",{value:"Dependent",children:"Dependent"})]})]})]});return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold",children:i==="add"?"Add Health Record":"Edit Health Record"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Dt,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:q,className:"space-y-6",children:[E&&a.jsx("div",{className:"rounded-md border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:E}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Patient"}),D?a.jsx("div",{className:"input-field text-gray-500",children:"Loading patients..."}):a.jsxs(a.Fragment,{children:[a.jsxs("select",{name:"patientId",value:o.patientId,onChange:$,required:!0,className:"input-field",disabled:i==="edit"||i==="add"&&!!s,children:[a.jsx("option",{value:"",children:"Select a patient"}),k.map(W=>a.jsxs("option",{value:W.id,children:[W.name," ",W.email?`(${W.email})`:""]},W.id))]}),s&&i==="add"&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Patient is pre-selected from profile"})]}),i==="edit"&&a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Patient cannot be changed when editing"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Record Type"}),a.jsxs("select",{name:"recordType",value:o.recordType,onChange:$,required:!0,className:"input-field",children:[a.jsx("option",{value:"vital",children:"Vital Signs"}),a.jsx("option",{value:"medication",children:"Medication"}),a.jsx("option",{value:"symptom",children:"Symptoms"}),a.jsx("option",{value:"note",children:"General Note"}),a.jsx("option",{value:"assessment",children:"Assessment"}),a.jsx("option",{value:"treatment",children:"Treatment"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),a.jsx("input",{type:"text",name:"location",value:o.location,onChange:$,placeholder:"e.g., Home, Clinic",className:"input-field"})]})]}),o.recordType==="vital"&&X(),o.recordType==="medication"&&Q(),o.recordType==="symptom"&&ne(),o.recordType==="note"&&ie(),o.recordType==="assessment"&&pe(),o.recordType==="treatment"&&ie(),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Notes"}),a.jsx("textarea",{name:"notes",value:o.notes,onChange:$,rows:3,className:"input-field",placeholder:"Any additional notes or observations..."})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-outline",disabled:w,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:w,children:w?"Saving...":i==="add"?"Add Record":"Update Record"})]})]})]})}):null}const p0e="modulepreload",g0e=function(e){return"/"+e},n6={},kb=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=g0e(c),c in n6)return;n6[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":p0e,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,h)=>{f.addEventListener("load",m),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};function sr(e){"@babel/helpers - typeof";return sr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sr(e)}var gs=Uint8Array,hi=Uint16Array,vS=Int32Array,bS=new gs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),wS=new gs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a6=new gs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$R=function(e,t){for(var r=new hi(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new vS(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},FR=$R(bS,2),x0e=FR.b,KN=FR.r;x0e[28]=258,KN[258]=28;var y0e=$R(wS,0),i6=y0e.r,XN=new hi(32768);for(var Cr=0;Cr<32768;++Cr){var gl=(Cr&43690)>>1|(Cr&21845)<<1;gl=(gl&52428)>>2|(gl&13107)<<2,gl=(gl&61680)>>4|(gl&3855)<<4,XN[Cr]=((gl&65280)>>8|(gl&255)<<8)>>1}var fm=function(e,t,r){for(var n=e.length,i=0,s=new hi(t);i<n;++i)e[i]&&++s[e[i]-1];var o=new hi(t);for(i=1;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;var l;if(r){l=new hi(1<<t);var c=15-t;for(i=0;i<n;++i)if(e[i])for(var u=i<<4|e[i],d=t-e[i],f=o[e[i]-1]++<<d,m=f|(1<<d)-1;f<=m;++f)l[XN[f]>>c]=u}else for(l=new hi(n),i=0;i<n;++i)e[i]&&(l[i]=XN[o[e[i]-1]++]>>15-e[i]);return l},xu=new gs(288);for(var Cr=0;Cr<144;++Cr)xu[Cr]=8;for(var Cr=144;Cr<256;++Cr)xu[Cr]=9;for(var Cr=256;Cr<280;++Cr)xu[Cr]=7;for(var Cr=280;Cr<288;++Cr)xu[Cr]=8;var xy=new gs(32);for(var Cr=0;Cr<32;++Cr)xy[Cr]=5;var v0e=fm(xu,9,0),b0e=fm(xy,5,0),BR=function(e){return(e+7)/8|0},w0e=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new gs(e.subarray(t,r))},go=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Dh=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},Ob=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,s=r.slice();if(!i)return{t:zR,l:0};if(i==1){var o=new gs(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(S,E){return S.f-E.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=i-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var m=s[0].s,n=1;n<i;++n)s[n].s>m&&(m=s[n].s);var h=new hi(m+1),p=JN(r[d-1],h,0);if(p>t){var n=0,y=0,v=p-t,x=1<<v;for(s.sort(function(E,C){return h[C.s]-h[E.s]||E.f-C.f});n<i;++n){var b=s[n].s;if(h[b]>t)y+=x-(1<<p-h[b]),h[b]=t;else break}for(y>>=v;y>0;){var N=s[n].s;h[N]<t?y-=1<<t-h[N]++-1:++n}for(;n>=0&&y;--n){var w=s[n].s;h[w]==t&&(--h[w],++y)}p=t}return{t:new gs(h),l:p}},JN=function(e,t,r){return e.s==-1?Math.max(JN(e.l,t,r+1),JN(e.r,t,r+1)):t[e.s]=r},s6=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new hi(++t),n=0,i=e[0],s=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==i&&l!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[l]}return{c:r.subarray(0,n),n:t}},$h=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},UR=function(e,t,r){var n=r.length,i=BR(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<n;++s)e[i+s+4]=r[s];return(i+4+n)*8},o6=function(e,t,r,n,i,s,o,l,c,u,d){go(t,d++,r),++i[256];for(var f=Ob(i,15),m=f.t,h=f.l,p=Ob(s,15),y=p.t,v=p.l,x=s6(m),b=x.c,N=x.n,w=s6(y),S=w.c,E=w.n,C=new hi(19),k=0;k<b.length;++k)++C[b[k]&31];for(var k=0;k<S.length;++k)++C[S[k]&31];for(var P=Ob(C,7),D=P.t,A=P.l,I=19;I>4&&!D[a6[I-1]];--I);var $=u+5<<3,_=$h(i,xu)+$h(s,xy)+o,M=$h(i,m)+$h(s,y)+o+14+3*I+$h(C,D)+2*C[16]+3*C[17]+7*C[18];if(c>=0&&$<=_&&$<=M)return UR(t,d,e.subarray(c,c+u));var z,Z,R,U;if(go(t,d,1+(M<_)),d+=2,M<_){z=fm(m,h,0),Z=m,R=fm(y,v,0),U=y;var re=fm(D,A,0);go(t,d,N-257),go(t,d+5,E-1),go(t,d+10,I-4),d+=14;for(var k=0;k<I;++k)go(t,d+3*k,D[a6[k]]);d+=3*I;for(var de=[b,S],B=0;B<2;++B)for(var G=de[B],k=0;k<G.length;++k){var te=G[k]&31;go(t,d,re[te]),d+=D[te],te>15&&(go(t,d,G[k]>>5&127),d+=G[k]>>12)}}else z=v0e,Z=xu,R=b0e,U=xy;for(var k=0;k<l;++k){var ue=n[k];if(ue>255){var te=ue>>18&31;Dh(t,d,z[te+257]),d+=Z[te+257],te>7&&(go(t,d,ue>>23&31),d+=bS[te]);var q=ue&31;Dh(t,d,R[q]),d+=U[q],q>3&&(Dh(t,d,ue>>5&8191),d+=wS[q])}else Dh(t,d,z[ue]),d+=Z[ue]}return Dh(t,d,z[256]),d+Z[256]},N0e=new vS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),zR=new gs(0),j0e=function(e,t,r,n,i,s){var o=s.z||e.length,l=new gs(n+o+5*(1+Math.ceil(o/7e3))+i),c=l.subarray(n,l.length-i),u=s.l,d=(s.r||0)&7;if(t){d&&(c[0]=s.r>>3);for(var f=N0e[t-1],m=f>>13,h=f&8191,p=(1<<r)-1,y=s.p||new hi(32768),v=s.h||new hi(p+1),x=Math.ceil(r/3),b=2*x,N=function(Ae){return(e[Ae]^e[Ae+1]<<x^e[Ae+2]<<b)&p},w=new vS(25e3),S=new hi(288),E=new hi(32),C=0,k=0,P=s.i||0,D=0,A=s.w||0,I=0;P+2<o;++P){var $=N(P),_=P&32767,M=v[$];if(y[_]=M,v[$]=_,A<=P){var z=o-P;if((C>7e3||D>24576)&&(z>423||!u)){d=o6(e,c,0,w,S,E,k,D,I,P-I,d),D=C=k=0,I=P;for(var Z=0;Z<286;++Z)S[Z]=0;for(var Z=0;Z<30;++Z)E[Z]=0}var R=2,U=0,re=h,de=_-M&32767;if(z>2&&$==N(P-de))for(var B=Math.min(m,z)-1,G=Math.min(32767,P),te=Math.min(258,z);de<=G&&--re&&_!=M;){if(e[P+R]==e[P+R-de]){for(var ue=0;ue<te&&e[P+ue]==e[P+ue-de];++ue);if(ue>R){if(R=ue,U=de,ue>B)break;for(var q=Math.min(de,ue-2),X=0,Z=0;Z<q;++Z){var Q=P-de+Z&32767,ne=y[Q],pe=Q-ne&32767;pe>X&&(X=pe,M=Q)}}}_=M,M=y[_],de+=_-M&32767}if(U){w[D++]=268435456|KN[R]<<18|i6[U];var ie=KN[R]&31,W=i6[U]&31;k+=bS[ie]+wS[W],++S[257+ie],++E[W],A=P+R,++C}else w[D++]=e[P],++S[e[P]]}}for(P=Math.max(P,A);P<o;++P)w[D++]=e[P],++S[e[P]];d=o6(e,c,u,w,S,E,k,D,I,P-I,d),u||(s.r=d&7|c[d/8|0]<<3,d-=7,s.h=v,s.p=y,s.i=P,s.w=A)}else{for(var P=s.w||0;P<o+u;P+=65535){var fe=P+65535;fe>=o&&(c[d/8|0]=u,fe=o),d=UR(c,d+1,e.subarray(P,fe))}s.i=o}return w0e(l,0,n+BR(d)+i)},qR=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,s=r.length|0,o=0;o!=s;){for(var l=Math.min(o+2655,s);o<l;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},S0e=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new gs(s.length+e.length);o.set(s),o.set(e,s.length),e=o,i.w=s.length}return j0e(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},HR=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},A0e=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=qR();i.p(t.dictionary),HR(e,2,i.d())}};function ZN(e,t){t||(t={});var r=qR();r.p(e);var n=S0e(e,t,t.dictionary?6:2,4);return A0e(n,t),HR(n,n.length-4,r.d()),n}var E0e=typeof TextDecoder<"u"&&new TextDecoder,_0e=0;try{E0e.decode(zR,{stream:!0}),_0e=1}catch{}function P0e(e){if(Array.isArray(e))return e}function T0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function l6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function C0e(e,t){if(e){if(typeof e=="string")return l6(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l6(e,t):void 0}}function k0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c6(e,t){return P0e(e)||T0e(e,t)||C0e(e,t)||k0e()}function u6(e,t="utf8"){return new TextDecoder(t).decode(e)}const O0e=new TextEncoder;function I0e(e){return O0e.encode(e)}const L0e=1024*8,R0e=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),Ib={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class NS{constructor(t=L0e,r={}){Vt(this,"buffer");Vt(this,"byteLength");Vt(this,"byteOffset");Vt(this,"length");Vt(this,"offset");Vt(this,"lastWrittenByte");Vt(this,"littleEndian");Vt(this,"_data");Vt(this,"_mark");Vt(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const i=r.offset?r.offset>>>0:0,s=t.byteLength-i;let o=i;(ArrayBuffer.isView(t)||t instanceof NS)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+i),t=t.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=t,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=Ib[r].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===R0e&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+n));l.reverse();const c=new Ib[r](l.buffer);return this.offset+=n,c.reverse(),c}const o=new Ib[r](s);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return u6(this.readBytes(t))}decodeText(t=1,r="utf8"){return u6(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(I0e(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function zf(e){let t=e.length;for(;--t>=0;)e[t]=0}const M0e=3,D0e=258,VR=29,$0e=256,F0e=$0e+1+VR,WR=30,B0e=512,U0e=new Array((F0e+2)*2);zf(U0e);const z0e=new Array(WR*2);zf(z0e);const q0e=new Array(B0e);zf(q0e);const H0e=new Array(D0e-M0e+1);zf(H0e);const V0e=new Array(VR);zf(V0e);const W0e=new Array(WR);zf(W0e);const G0e=(e,t,r,n)=>{let i=e&65535|0,s=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+t[n++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var QN=G0e;const Y0e=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},K0e=new Uint32Array(Y0e()),X0e=(e,t,r,n)=>{const i=K0e,s=n+r;e^=-1;for(let o=n;o<s;o++)e=e>>>8^i[(e^t[o])&255];return e^-1};var Os=X0e,ej={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},GR={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const J0e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Z0e=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)J0e(r,n)&&(e[n]=r[n])}}return e},Q0e=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,i=0,s=e.length;n<s;n++){let o=e[n];r.set(o,i),i+=o.length}return r},YR={assign:Z0e,flattenChunks:Q0e};let KR=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{KR=!1}const yp=new Uint8Array(256);for(let e=0;e<256;e++)yp[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;yp[254]=yp[254]=1;var exe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,s,o=e.length,l=0;for(i=0;i<o;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),s=0,i=0;s<l;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|r&63):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|r&63):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|r&63);return t};const txe=(e,t)=>{if(t<65534&&e.subarray&&KR)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var rxe=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let o=e[n++];if(o<128){s[i++]=o;continue}let l=yp[o];if(l>4){s[i++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|e[n++]&63,l--;if(l>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return txe(s,i)},nxe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+yp[e[r]]>t?r:t},tj={string2buf:exe,buf2string:rxe,utf8border:nxe};function axe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var ixe=axe;const l0=16209,sxe=16191;var oxe=function(t,r){let n,i,s,o,l,c,u,d,f,m,h,p,y,v,x,b,N,w,S,E,C,k,P,D;const A=t.state;n=t.next_in,P=t.input,i=n+(t.avail_in-5),s=t.next_out,D=t.output,o=s-(r-t.avail_out),l=s+(t.avail_out-257),c=A.dmax,u=A.wsize,d=A.whave,f=A.wnext,m=A.window,h=A.hold,p=A.bits,y=A.lencode,v=A.distcode,x=(1<<A.lenbits)-1,b=(1<<A.distbits)-1;e:do{p<15&&(h+=P[n++]<<p,p+=8,h+=P[n++]<<p,p+=8),N=y[h&x];t:for(;;){if(w=N>>>24,h>>>=w,p-=w,w=N>>>16&255,w===0)D[s++]=N&65535;else if(w&16){S=N&65535,w&=15,w&&(p<w&&(h+=P[n++]<<p,p+=8),S+=h&(1<<w)-1,h>>>=w,p-=w),p<15&&(h+=P[n++]<<p,p+=8,h+=P[n++]<<p,p+=8),N=v[h&b];r:for(;;){if(w=N>>>24,h>>>=w,p-=w,w=N>>>16&255,w&16){if(E=N&65535,w&=15,p<w&&(h+=P[n++]<<p,p+=8,p<w&&(h+=P[n++]<<p,p+=8)),E+=h&(1<<w)-1,E>c){t.msg="invalid distance too far back",A.mode=l0;break e}if(h>>>=w,p-=w,w=s-o,E>w){if(w=E-w,w>d&&A.sane){t.msg="invalid distance too far back",A.mode=l0;break e}if(C=0,k=m,f===0){if(C+=u-w,w<S){S-=w;do D[s++]=m[C++];while(--w);C=s-E,k=D}}else if(f<w){if(C+=u+f-w,w-=f,w<S){S-=w;do D[s++]=m[C++];while(--w);if(C=0,f<S){w=f,S-=w;do D[s++]=m[C++];while(--w);C=s-E,k=D}}}else if(C+=f-w,w<S){S-=w;do D[s++]=m[C++];while(--w);C=s-E,k=D}for(;S>2;)D[s++]=k[C++],D[s++]=k[C++],D[s++]=k[C++],S-=3;S&&(D[s++]=k[C++],S>1&&(D[s++]=k[C++]))}else{C=s-E;do D[s++]=D[C++],D[s++]=D[C++],D[s++]=D[C++],S-=3;while(S>2);S&&(D[s++]=D[C++],S>1&&(D[s++]=D[C++]))}}else if(w&64){t.msg="invalid distance code",A.mode=l0;break e}else{N=v[(N&65535)+(h&(1<<w)-1)];continue r}break}}else if(w&64)if(w&32){A.mode=sxe;break e}else{t.msg="invalid literal/length code",A.mode=l0;break e}else{N=y[(N&65535)+(h&(1<<w)-1)];continue t}break}}while(n<i&&s<l);S=p>>3,n-=S,p-=S<<3,h&=(1<<p)-1,t.next_in=n,t.next_out=s,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=s<l?257+(l-s):257-(s-l),A.hold=h,A.bits=p};const Ku=15,d6=852,f6=592,h6=0,Lb=1,m6=2,lxe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),cxe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),uxe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dxe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),fxe=(e,t,r,n,i,s,o,l)=>{const c=l.bits;let u=0,d=0,f=0,m=0,h=0,p=0,y=0,v=0,x=0,b=0,N,w,S,E,C,k=null,P;const D=new Uint16Array(Ku+1),A=new Uint16Array(Ku+1);let I=null,$,_,M;for(u=0;u<=Ku;u++)D[u]=0;for(d=0;d<n;d++)D[t[r+d]]++;for(h=c,m=Ku;m>=1&&D[m]===0;m--);if(h>m&&(h=m),m===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,l.bits=1,0;for(f=1;f<m&&D[f]===0;f++);for(h<f&&(h=f),v=1,u=1;u<=Ku;u++)if(v<<=1,v-=D[u],v<0)return-1;if(v>0&&(e===h6||m!==1))return-1;for(A[1]=0,u=1;u<Ku;u++)A[u+1]=A[u]+D[u];for(d=0;d<n;d++)t[r+d]!==0&&(o[A[t[r+d]]++]=d);if(e===h6?(k=I=o,P=20):e===Lb?(k=lxe,I=cxe,P=257):(k=uxe,I=dxe,P=0),b=0,d=0,u=f,C=s,p=h,y=0,S=-1,x=1<<h,E=x-1,e===Lb&&x>d6||e===m6&&x>f6)return 1;for(;;){$=u-y,o[d]+1<P?(_=0,M=o[d]):o[d]>=P?(_=I[o[d]-P],M=k[o[d]-P]):(_=96,M=0),N=1<<u-y,w=1<<p,f=w;do w-=N,i[C+(b>>y)+w]=$<<24|_<<16|M|0;while(w!==0);for(N=1<<u-1;b&N;)N>>=1;if(N!==0?(b&=N-1,b+=N):b=0,d++,--D[u]===0){if(u===m)break;u=t[r+o[d]]}if(u>h&&(b&E)!==S){for(y===0&&(y=h),C+=f,p=u-y,v=1<<p;p+y<m&&(v-=D[p+y],!(v<=0));)p++,v<<=1;if(x+=1<<p,e===Lb&&x>d6||e===m6&&x>f6)return 1;S=b&E,i[S]=h<<24|p<<16|C-s|0}}return b!==0&&(i[C+b]=u-y<<24|64<<16|0),l.bits=h,0};var hm=fxe;const hxe=0,XR=1,JR=2,{Z_FINISH:p6,Z_BLOCK:mxe,Z_TREES:c0,Z_OK:yu,Z_STREAM_END:pxe,Z_NEED_DICT:gxe,Z_STREAM_ERROR:zi,Z_DATA_ERROR:ZR,Z_MEM_ERROR:QR,Z_BUF_ERROR:xxe,Z_DEFLATED:g6}=GR,Uv=16180,x6=16181,y6=16182,v6=16183,b6=16184,w6=16185,N6=16186,j6=16187,S6=16188,A6=16189,yy=16190,xo=16191,Rb=16192,E6=16193,Mb=16194,_6=16195,P6=16196,T6=16197,C6=16198,u0=16199,d0=16200,k6=16201,O6=16202,I6=16203,L6=16204,R6=16205,Db=16206,M6=16207,D6=16208,Or=16209,e7=16210,t7=16211,yxe=852,vxe=592,bxe=15,wxe=bxe,$6=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Nxe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const _u=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Uv||t.mode>t7?1:0},r7=e=>{if(_u(e))return zi;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Uv,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(yxe),t.distcode=t.distdyn=new Int32Array(vxe),t.sane=1,t.back=-1,yu},n7=e=>{if(_u(e))return zi;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,r7(e)},a7=(e,t)=>{let r;if(_u(e))return zi;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?zi:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,n7(e))},i7=(e,t)=>{if(!e)return zi;const r=new Nxe;e.state=r,r.strm=e,r.window=null,r.mode=Uv;const n=a7(e,t);return n!==yu&&(e.state=null),n},jxe=e=>i7(e,wxe);let F6=!0,$b,Fb;const Sxe=e=>{if(F6){$b=new Int32Array(512),Fb=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(hm(XR,e.lens,0,288,$b,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;hm(JR,e.lens,0,32,Fb,0,e.work,{bits:5}),F6=!1}e.lencode=$b,e.lenbits=9,e.distcode=Fb,e.distbits=5},s7=(e,t,r,n)=>{let i;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(t.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(t.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(t.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},Axe=(e,t)=>{let r,n,i,s,o,l,c,u,d,f,m,h,p,y,v=0,x,b,N,w,S,E,C,k;const P=new Uint8Array(4);let D,A;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(_u(e)||!e.output||!e.input&&e.avail_in!==0)return zi;r=e.state,r.mode===xo&&(r.mode=Rb),o=e.next_out,i=e.output,c=e.avail_out,s=e.next_in,n=e.input,l=e.avail_in,u=r.hold,d=r.bits,f=l,m=c,k=yu;e:for(;;)switch(r.mode){case Uv:if(r.wrap===0){r.mode=Rb;break}for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,P[0]=u&255,P[1]=u>>>8&255,r.check=Os(r.check,P,2,0),u=0,d=0,r.mode=x6;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=Or;break}if((u&15)!==g6){e.msg="unknown compression method",r.mode=Or;break}if(u>>>=4,d-=4,C=(u&15)+8,r.wbits===0&&(r.wbits=C),C>15||C>r.wbits){e.msg="invalid window size",r.mode=Or;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?A6:xo,u=0,d=0;break;case x6:for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==g6){e.msg="unknown compression method",r.mode=Or;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Or;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,r.check=Os(r.check,P,2,0)),u=0,d=0,r.mode=y6;case y6:for(;d<32;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,P[2]=u>>>16&255,P[3]=u>>>24&255,r.check=Os(r.check,P,4,0)),u=0,d=0,r.mode=v6;case v6:for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,r.check=Os(r.check,P,2,0)),u=0,d=0,r.mode=b6;case b6:if(r.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,r.check=Os(r.check,P,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=w6;case w6:if(r.flags&1024&&(h=r.length,h>l&&(h=l),h&&(r.head&&(C=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+h),C)),r.flags&512&&r.wrap&4&&(r.check=Os(r.check,n,h,s)),l-=h,s+=h,r.length-=h),r.length))break e;r.length=0,r.mode=N6;case N6:if(r.flags&2048){if(l===0)break e;h=0;do C=n[s+h++],r.head&&C&&r.length<65536&&(r.head.name+=String.fromCharCode(C));while(C&&h<l);if(r.flags&512&&r.wrap&4&&(r.check=Os(r.check,n,h,s)),l-=h,s+=h,C)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=j6;case j6:if(r.flags&4096){if(l===0)break e;h=0;do C=n[s+h++],r.head&&C&&r.length<65536&&(r.head.comment+=String.fromCharCode(C));while(C&&h<l);if(r.flags&512&&r.wrap&4&&(r.check=Os(r.check,n,h,s)),l-=h,s+=h,C)break e}else r.head&&(r.head.comment=null);r.mode=S6;case S6:if(r.flags&512){for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Or;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=xo;break;case A6:for(;d<32;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}e.adler=r.check=$6(u),u=0,d=0,r.mode=yy;case yy:if(r.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=l,r.hold=u,r.bits=d,gxe;e.adler=r.check=1,r.mode=xo;case xo:if(t===mxe||t===c0)break e;case Rb:if(r.last){u>>>=d&7,d-=d&7,r.mode=Db;break}for(;d<3;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=E6;break;case 1:if(Sxe(r),r.mode=u0,t===c0){u>>>=2,d-=2;break e}break;case 2:r.mode=P6;break;case 3:e.msg="invalid block type",r.mode=Or}u>>>=2,d-=2;break;case E6:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Or;break}if(r.length=u&65535,u=0,d=0,r.mode=Mb,t===c0)break e;case Mb:r.mode=_6;case _6:if(h=r.length,h){if(h>l&&(h=l),h>c&&(h=c),h===0)break e;i.set(n.subarray(s,s+h),o),l-=h,s+=h,c-=h,o+=h,r.length-=h;break}r.mode=xo;break;case P6:for(;d<14;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Or;break}r.have=0,r.mode=T6;case T6:for(;r.have<r.ncode;){for(;d<3;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.lens[I[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[I[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,D={bits:r.lenbits},k=hm(hxe,r.lens,0,19,r.lencode,0,r.work,D),r.lenbits=D.bits,k){e.msg="invalid code lengths set",r.mode=Or;break}r.have=0,r.mode=C6;case C6:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[u&(1<<r.lenbits)-1],x=v>>>24,b=v>>>16&255,N=v&65535,!(x<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(N<16)u>>>=x,d-=x,r.lens[r.have++]=N;else{if(N===16){for(A=x+2;d<A;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(u>>>=x,d-=x,r.have===0){e.msg="invalid bit length repeat",r.mode=Or;break}C=r.lens[r.have-1],h=3+(u&3),u>>>=2,d-=2}else if(N===17){for(A=x+3;d<A;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}u>>>=x,d-=x,C=0,h=3+(u&7),u>>>=3,d-=3}else{for(A=x+7;d<A;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}u>>>=x,d-=x,C=0,h=11+(u&127),u>>>=7,d-=7}if(r.have+h>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Or;break}for(;h--;)r.lens[r.have++]=C}}if(r.mode===Or)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Or;break}if(r.lenbits=9,D={bits:r.lenbits},k=hm(XR,r.lens,0,r.nlen,r.lencode,0,r.work,D),r.lenbits=D.bits,k){e.msg="invalid literal/lengths set",r.mode=Or;break}if(r.distbits=6,r.distcode=r.distdyn,D={bits:r.distbits},k=hm(JR,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,D),r.distbits=D.bits,k){e.msg="invalid distances set",r.mode=Or;break}if(r.mode=u0,t===c0)break e;case u0:r.mode=d0;case d0:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=l,r.hold=u,r.bits=d,oxe(e,m),o=e.next_out,i=e.output,c=e.avail_out,s=e.next_in,n=e.input,l=e.avail_in,u=r.hold,d=r.bits,r.mode===xo&&(r.back=-1);break}for(r.back=0;v=r.lencode[u&(1<<r.lenbits)-1],x=v>>>24,b=v>>>16&255,N=v&65535,!(x<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(b&&!(b&240)){for(w=x,S=b,E=N;v=r.lencode[E+((u&(1<<w+S)-1)>>w)],x=v>>>24,b=v>>>16&255,N=v&65535,!(w+x<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}u>>>=w,d-=w,r.back+=w}if(u>>>=x,d-=x,r.back+=x,r.length=N,b===0){r.mode=R6;break}if(b&32){r.back=-1,r.mode=xo;break}if(b&64){e.msg="invalid literal/length code",r.mode=Or;break}r.extra=b&15,r.mode=k6;case k6:if(r.extra){for(A=r.extra;d<A;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=O6;case O6:for(;v=r.distcode[u&(1<<r.distbits)-1],x=v>>>24,b=v>>>16&255,N=v&65535,!(x<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(!(b&240)){for(w=x,S=b,E=N;v=r.distcode[E+((u&(1<<w+S)-1)>>w)],x=v>>>24,b=v>>>16&255,N=v&65535,!(w+x<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}u>>>=w,d-=w,r.back+=w}if(u>>>=x,d-=x,r.back+=x,b&64){e.msg="invalid distance code",r.mode=Or;break}r.offset=N,r.extra=b&15,r.mode=I6;case I6:if(r.extra){for(A=r.extra;d<A;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Or;break}r.mode=L6;case L6:if(c===0)break e;if(h=m-c,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Or;break}h>r.wnext?(h-=r.wnext,p=r.wsize-h):p=r.wnext-h,h>r.length&&(h=r.length),y=r.window}else y=i,p=o-r.offset,h=r.length;h>c&&(h=c),c-=h,r.length-=h;do i[o++]=y[p++];while(--h);r.length===0&&(r.mode=d0);break;case R6:if(c===0)break e;i[o++]=r.length,c--,r.mode=d0;break;case Db:if(r.wrap){for(;d<32;){if(l===0)break e;l--,u|=n[s++]<<d,d+=8}if(m-=c,e.total_out+=m,r.total+=m,r.wrap&4&&m&&(e.adler=r.check=r.flags?Os(r.check,i,m,o-m):QN(r.check,i,m,o-m)),m=c,r.wrap&4&&(r.flags?u:$6(u))!==r.check){e.msg="incorrect data check",r.mode=Or;break}u=0,d=0}r.mode=M6;case M6:if(r.wrap&&r.flags){for(;d<32;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Or;break}u=0,d=0}r.mode=D6;case D6:k=pxe;break e;case Or:k=ZR;break e;case e7:return QR;case t7:default:return zi}return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=l,r.hold=u,r.bits=d,(r.wsize||m!==e.avail_out&&r.mode<Or&&(r.mode<Db||t!==p6))&&s7(e,e.output,e.next_out,m-e.avail_out),f-=e.avail_in,m-=e.avail_out,e.total_in+=f,e.total_out+=m,r.total+=m,r.wrap&4&&m&&(e.adler=r.check=r.flags?Os(r.check,i,m,e.next_out-m):QN(r.check,i,m,e.next_out-m)),e.data_type=r.bits+(r.last?64:0)+(r.mode===xo?128:0)+(r.mode===u0||r.mode===Mb?256:0),(f===0&&m===0||t===p6)&&k===yu&&(k=xxe),k},Exe=e=>{if(_u(e))return zi;let t=e.state;return t.window&&(t.window=null),e.state=null,yu},_xe=(e,t)=>{if(_u(e))return zi;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,yu):zi},Pxe=(e,t)=>{const r=t.length;let n,i,s;return _u(e)||(n=e.state,n.wrap!==0&&n.mode!==yy)?zi:n.mode===yy&&(i=1,i=QN(i,t,r,0),i!==n.check)?ZR:(s=s7(e,t,r,r),s?(n.mode=e7,QR):(n.havedict=1,yu))};var Txe=n7,Cxe=a7,kxe=r7,Oxe=jxe,Ixe=i7,Lxe=Axe,Rxe=Exe,Mxe=_xe,Dxe=Pxe,$xe="pako inflate (from Nodeca project)",jo={inflateReset:Txe,inflateReset2:Cxe,inflateResetKeep:kxe,inflateInit:Oxe,inflateInit2:Ixe,inflate:Lxe,inflateEnd:Rxe,inflateGetHeader:Mxe,inflateSetDictionary:Dxe,inflateInfo:$xe};function Fxe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Bxe=Fxe;const o7=Object.prototype.toString,{Z_NO_FLUSH:Uxe,Z_FINISH:zxe,Z_OK:vp,Z_STREAM_END:Bb,Z_NEED_DICT:Ub,Z_STREAM_ERROR:qxe,Z_DATA_ERROR:B6,Z_MEM_ERROR:Hxe}=GR;function Up(e){this.options=YR.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ixe,this.strm.avail_out=0;let r=jo.inflateInit2(this.strm,t.windowBits);if(r!==vp)throw new Error(ej[r]);if(this.header=new Bxe,jo.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=tj.string2buf(t.dictionary):o7.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=jo.inflateSetDictionary(this.strm,t.dictionary),r!==vp)))throw new Error(ej[r])}Up.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?zxe:Uxe,o7.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=jo.inflate(r,o),s===Ub&&i&&(s=jo.inflateSetDictionary(r,i),s===vp?s=jo.inflate(r,o):s===B6&&(s=Ub));r.avail_in>0&&s===Bb&&r.state.wrap>0&&e[r.next_in]!==0;)jo.inflateReset(r),s=jo.inflate(r,o);switch(s){case qxe:case B6:case Ub:case Hxe:return this.onEnd(s),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||s===Bb))if(this.options.to==="string"){let c=tj.utf8border(r.output,r.next_out),u=r.next_out-c,d=tj.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===vp&&l===0)){if(s===Bb)return s=jo.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Up.prototype.onData=function(e){this.chunks.push(e)};Up.prototype.onEnd=function(e){e===vp&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=YR.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Vxe(e,t){const r=new Up(t);if(r.push(e),r.err)throw r.msg||ej[r.err];return r.result}var Wxe=Up,Gxe=Vxe,Yxe={Inflate:Wxe,inflate:Gxe};const{Inflate:Kxe,inflate:Xxe}=Yxe;var U6=Kxe,Jxe=Xxe;const l7=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;l7[e]=t}const z6=4294967295;function Zxe(e,t,r){let n=e;for(let i=0;i<r;i++)n=l7[(n^t[i])&255]^n>>>8;return n}function Qxe(e,t){return(Zxe(z6,e,t)^z6)>>>0}function q6(e,t,r){const n=e.readUint32(),i=Qxe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function c7(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function u7(e,t,r,n){let i=0;for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-n]&255}function d7(e,t,r,n){let i=0;if(r.length===0)for(;i<n;i++)t[i]=e[i];else for(;i<n;i++)t[i]=e[i]+r[i]&255}function f7(e,t,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+(t[s-i]>>1)&255}else{for(;s<i;s++)t[s]=e[s]+(r[s]>>1)&255;for(;s<n;s++)t[s]=e[s]+(t[s-i]+r[s]>>1)&255}}function h7(e,t,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+t[s-i]&255}else{for(;s<i;s++)t[s]=e[s]+r[s]&255;for(;s<n;s++)t[s]=e[s]+eye(t[s-i],r[s],r[s-i])&255}}function eye(e,t,r){const n=e+t-r,i=Math.abs(n-e),s=Math.abs(n-t),o=Math.abs(n-r);return i<=s&&i<=o?e:s<=o?t:r}function tye(e,t,r,n,i,s){switch(e){case 0:c7(t,r,i);break;case 1:u7(t,r,i,s);break;case 2:d7(t,r,n,i);break;case 3:f7(t,r,n,i,s);break;case 4:h7(t,r,n,i,s);break;default:throw new Error(`Unsupported filter: ${e}`)}}const rye=new Uint16Array([255]),nye=new Uint8Array(rye.buffer),aye=nye[0]===255;function iye(e){const{data:t,width:r,height:n,channels:i,depth:s}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(s/8)*i,c=new Uint8Array(n*r*l);let u=0;for(let d=0;d<7;d++){const f=o[d],m=Math.ceil((r-f.x)/f.xStep),h=Math.ceil((n-f.y)/f.yStep);if(m<=0||h<=0)continue;const p=m*l,y=new Uint8Array(p);for(let v=0;v<h;v++){const x=t[u++],b=t.subarray(u,u+p);u+=p;const N=new Uint8Array(p);tye(x,b,N,y,p,l),y.set(N);for(let w=0;w<m;w++){const S=f.x+w*f.xStep,E=f.y+v*f.yStep;if(!(S>=r||E>=n))for(let C=0;C<l;C++)c[(E*r+S)*l+C]=N[w*l+C]}}}if(s===16){const d=new Uint16Array(c.buffer);if(aye)for(let f=0;f<d.length;f++)d[f]=sye(d[f]);return d}else return c}function sye(e){return(e&255)<<8|e>>8&255}const oye=new Uint16Array([255]),lye=new Uint8Array(oye.buffer),cye=lye[0]===255,uye=new Uint8Array(0);function H6(e){const{data:t,width:r,height:n,channels:i,depth:s}=e,o=Math.ceil(s/8)*i,l=Math.ceil(s/8*i*r),c=new Uint8Array(n*l);let u=uye,d=0,f,m;for(let h=0;h<n;h++){switch(f=t.subarray(d+1,d+1+l),m=c.subarray(h*l,(h+1)*l),t[d]){case 0:c7(f,m,l);break;case 1:u7(f,m,l,o);break;case 2:d7(f,m,u,l);break;case 3:f7(f,m,u,l,o);break;case 4:h7(f,m,u,l,o);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}u=m,d+=l+1}if(s===16){const h=new Uint16Array(c.buffer);if(cye)for(let p=0;p<h.length;p++)h[p]=dye(h[p]);return h}else return c}function dye(e){return(e&255)<<8|e>>8&255}const M0=Uint8Array.of(137,80,78,71,13,10,26,10);function V6(e){if(!fye(e.readBytes(M0.length)))throw new Error("wrong PNG signature")}function fye(e){if(e.length<M0.length)return!1;for(let t=0;t<M0.length;t++)if(e[t]!==M0[t])return!1;return!0}const hye="tEXt",mye=0,m7=new TextDecoder("latin1");function pye(e){if(xye(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const gye=/^[\u0000-\u00FF]*$/;function xye(e){if(!gye.test(e))throw new Error("invalid latin1 text")}function yye(e,t,r){const n=p7(t);e[n]=vye(t,r-n.length-1)}function p7(e){for(e.mark();e.readByte()!==mye;);const t=e.offset;e.reset();const r=m7.decode(e.readBytes(t-e.offset-1));return e.skip(1),pye(r),r}function vye(e,t){return m7.decode(e.readBytes(t))}const ai={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},zb={UNKNOWN:-1,DEFLATE:0},W6={UNKNOWN:-1,ADAPTIVE:0},qb={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},f0={NONE:0,BACKGROUND:1,PREVIOUS:2},Hb={SOURCE:0,OVER:1};class bye extends NS{constructor(r,n={}){super(r);Vt(this,"_checkCrc");Vt(this,"_inflator");Vt(this,"_png");Vt(this,"_apng");Vt(this,"_end");Vt(this,"_hasPalette");Vt(this,"_palette");Vt(this,"_hasTransparency");Vt(this,"_transparency");Vt(this,"_compressionMethod");Vt(this,"_filterMethod");Vt(this,"_interlaceMethod");Vt(this,"_colorType");Vt(this,"_isAnimated");Vt(this,"_numberOfFrames");Vt(this,"_numberOfPlays");Vt(this,"_frames");Vt(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new U6,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=zb.UNKNOWN,this._filterMethod=W6.UNKNOWN,this._interlaceMethod=qb.UNKNOWN,this._colorType=ai.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(V6(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(V6(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case hye:yye(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?q6(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?q6(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=wye(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case ai.GREYSCALE:i=1;break;case ai.TRUECOLOUR:i=3;break;case ai.INDEXED_COLOUR:i=1;break;case ai.GREYSCALE_ALPHA:i=2;break;case ai.TRUECOLOUR_ALPHA:i=4;break;case ai.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==zb.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<n;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case ai.GREYSCALE:case ai.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case ai.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case ai.UNKNOWN:case ai.GREYSCALE_ALPHA:case ai.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=p7(this),i=this.readUint8();if(i!==zb.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:Jxe(s)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=H6({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(i,s,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case f0.NONE:break;case f0.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const l=(s*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[l+c]=0}break;case f0.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,s=(o,l)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,u=(o*n.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(n.blendOp){case Hb.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=s(o,l);for(let d=0;d<this._png.channels;d++)r.data[c+d]=n.data[u+d]}break;case Hb.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=s(o,l);for(let d=0;d<this._png.channels;d++){const f=n.data[u+this._png.channels-1]/i,m=d%(this._png.channels-1)===0?1:n.data[u+d],h=Math.floor(f*m+(1-f)*r.data[c+d]);r.data[c+d]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==W6.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===qb.NO_INTERLACE)this._png.data=H6({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===qb.ADAM7)this._png.data=iye({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:f0.NONE,blendOp:Hb.SOURCE,data:r}),this._inflator=new U6,this._writingDataChunks=!1}}function wye(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var G6;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(G6||(G6={}));function Nye(e,t){return new bye(e,t).decode()}var bt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Vb(){bt.console&&typeof bt.console.log=="function"&&bt.console.log.apply(bt.console,arguments)}var pr={log:Vb,warn:function(e){bt.console&&(typeof bt.console.warn=="function"?bt.console.warn.apply(bt.console,arguments):Vb.call(null,arguments))},error:function(e){bt.console&&(typeof bt.console.error=="function"?bt.console.error.apply(bt.console,arguments):Vb(e))}};function Wb(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){kc(n.response,t,r)},n.onerror=function(){pr.error("could not download file")},n.send()}function Y6(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function h0(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var kc=bt.saveAs||((typeof window>"u"?"undefined":sr(window))!=="object"||window!==bt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=bt.URL||bt.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?Y6(i.href)?Wb(e,t,r):h0(i,i.target="_blank"):h0(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){h0(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(Y6(e))Wb(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){h0(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:sr(s)!=="object"&&(pr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return Wb(e,t,r);var i=e.type==="application/octet-stream",s=/constructor/i.test(bt.HTMLElement)||bt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":sr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(e)}else{var c=bt.URL||bt.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function g7(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,o=i.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var D0=bt.atob.bind(bt),K6=bt.btoa.bind(bt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Gb(e,t){var r=e[0],n=e[1],i=e[2],s=e[3];r=aa(r,n,i,s,t[0],7,-680876936),s=aa(s,r,n,i,t[1],12,-389564586),i=aa(i,s,r,n,t[2],17,606105819),n=aa(n,i,s,r,t[3],22,-1044525330),r=aa(r,n,i,s,t[4],7,-176418897),s=aa(s,r,n,i,t[5],12,1200080426),i=aa(i,s,r,n,t[6],17,-1473231341),n=aa(n,i,s,r,t[7],22,-45705983),r=aa(r,n,i,s,t[8],7,1770035416),s=aa(s,r,n,i,t[9],12,-1958414417),i=aa(i,s,r,n,t[10],17,-42063),n=aa(n,i,s,r,t[11],22,-1990404162),r=aa(r,n,i,s,t[12],7,1804603682),s=aa(s,r,n,i,t[13],12,-40341101),i=aa(i,s,r,n,t[14],17,-1502002290),r=ia(r,n=aa(n,i,s,r,t[15],22,1236535329),i,s,t[1],5,-165796510),s=ia(s,r,n,i,t[6],9,-1069501632),i=ia(i,s,r,n,t[11],14,643717713),n=ia(n,i,s,r,t[0],20,-373897302),r=ia(r,n,i,s,t[5],5,-701558691),s=ia(s,r,n,i,t[10],9,38016083),i=ia(i,s,r,n,t[15],14,-660478335),n=ia(n,i,s,r,t[4],20,-405537848),r=ia(r,n,i,s,t[9],5,568446438),s=ia(s,r,n,i,t[14],9,-1019803690),i=ia(i,s,r,n,t[3],14,-187363961),n=ia(n,i,s,r,t[8],20,1163531501),r=ia(r,n,i,s,t[13],5,-1444681467),s=ia(s,r,n,i,t[2],9,-51403784),i=ia(i,s,r,n,t[7],14,1735328473),r=sa(r,n=ia(n,i,s,r,t[12],20,-1926607734),i,s,t[5],4,-378558),s=sa(s,r,n,i,t[8],11,-2022574463),i=sa(i,s,r,n,t[11],16,1839030562),n=sa(n,i,s,r,t[14],23,-35309556),r=sa(r,n,i,s,t[1],4,-1530992060),s=sa(s,r,n,i,t[4],11,1272893353),i=sa(i,s,r,n,t[7],16,-155497632),n=sa(n,i,s,r,t[10],23,-1094730640),r=sa(r,n,i,s,t[13],4,681279174),s=sa(s,r,n,i,t[0],11,-358537222),i=sa(i,s,r,n,t[3],16,-722521979),n=sa(n,i,s,r,t[6],23,76029189),r=sa(r,n,i,s,t[9],4,-640364487),s=sa(s,r,n,i,t[12],11,-421815835),i=sa(i,s,r,n,t[15],16,530742520),r=oa(r,n=sa(n,i,s,r,t[2],23,-995338651),i,s,t[0],6,-198630844),s=oa(s,r,n,i,t[7],10,1126891415),i=oa(i,s,r,n,t[14],15,-1416354905),n=oa(n,i,s,r,t[5],21,-57434055),r=oa(r,n,i,s,t[12],6,1700485571),s=oa(s,r,n,i,t[3],10,-1894986606),i=oa(i,s,r,n,t[10],15,-1051523),n=oa(n,i,s,r,t[1],21,-2054922799),r=oa(r,n,i,s,t[8],6,1873313359),s=oa(s,r,n,i,t[15],10,-30611744),i=oa(i,s,r,n,t[6],15,-1560198380),n=oa(n,i,s,r,t[13],21,1309151649),r=oa(r,n,i,s,t[4],6,-145523070),s=oa(s,r,n,i,t[11],10,-1120210379),i=oa(i,s,r,n,t[2],15,718787259),n=oa(n,i,s,r,t[9],21,-343485551),e[0]=Ll(r,e[0]),e[1]=Ll(n,e[1]),e[2]=Ll(i,e[2]),e[3]=Ll(s,e[3])}function zv(e,t,r,n,i,s){return t=Ll(Ll(t,e),Ll(n,s)),Ll(t<<i|t>>>32-i,r)}function aa(e,t,r,n,i,s,o){return zv(t&r|~t&n,e,t,i,s,o)}function ia(e,t,r,n,i,s,o){return zv(t&n|r&~n,e,t,i,s,o)}function sa(e,t,r,n,i,s,o){return zv(t^r^n,e,t,i,s,o)}function oa(e,t,r,n,i,s,o){return zv(r^(t|~n),e,t,i,s,o)}function x7(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Gb(n,jye(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Gb(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,Gb(n,i),n}function jye(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var X6="0123456789abcdef".split("");function Sye(e){for(var t="",r=0;r<4;r++)t+=X6[e>>8*r+4&15]+X6[e>>8*r&15];return t}function Aye(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function rj(e){return x7(e).map(Aye).join("")}var Eye=function(e){for(var t=0;t<e.length;t++)e[t]=Sye(e[t]);return e.join("")}(x7("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ll(e,t){if(Eye){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function nj(e,t){var r,n,i,s;if(e!==r){for(var o=(i=e,s=1+(256/e.length|0),new Array(s+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=e,n=l}else l=n;var f=t.length,m=0,h=0,p="";for(c=0;c<f;c++)h=(h+(d=l[m=(m+1)%256]))%256,l[m]=l[h],l[h]=d,o=l[(l[m]+l[h])%256],p+=String.fromCharCode(t.charCodeAt(c)^o);return p}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var J6={print:4,modify:8,copy:16,"annot-forms":32};function ed(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(l){if(J6.perm!==void 0)throw new Error("Invalid permission: "+l);i+=J6[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=rj(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=nj(this.encryptionKey,this.padding)}function td(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[n]}return t}function Z6(e){if(sr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var s=Math.random().toString(35);return t[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[r]){var o=t[r][s];try{o[0].apply(e,n)}catch(l){bt.console&&pr.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function vy(e){if(!(this instanceof vy))return new vy(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function y7(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Lc(e,t,r,n,i){if(!(this instanceof Lc))return new Lc(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,y7.call(this,n,i)}function bd(e,t,r,n,i){if(!(this instanceof bd))return new bd(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,y7.call(this,n,i)}function ct(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],o=[],l=1,c=16,u="S",d=null;sr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,s=e.compress||e.compressPdf||s,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,m={},h={internal:{},__private__:{}};h.__private__.PubSub=Z6;var p="1.3",y=h.__private__.getPdfVersion=function(){return p};h.__private__.setPdfVersion=function(T){p=T};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return v};var x=h.__private__.getPageFormat=function(T){return v[T]};i=i||"a4";var b="compat",N="advanced",w=b;function S(){this.saveGraphicsState(),Y(new dt(Je,0,0,-Je,0,fc()*Je).toString()+" cm"),this.setFontSize(this.getFontSize()/Je),u="n",w=N}function E(){this.restoreGraphicsState(),u="S",w=b}var C=h.__private__.combineFontStyleAndFontWeight=function(T,H){if(T=="bold"&&H=="normal"||T=="bold"&&H==400||T=="normal"&&H=="italic"||T=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(T=H==400||H==="normal"?T==="italic"?"italic":"normal":H!=700&&H!=="bold"||T!=="normal"?(H==700?"bold":H)+""+T:"bold"),T};h.advancedAPI=function(T){var H=w===b;return H&&S.call(this),typeof T!="function"||(T(this),H&&E.call(this)),this},h.compatAPI=function(T){var H=w===N;return H&&E.call(this),typeof T!="function"||(T(this),H&&S.call(this)),this},h.isAdvancedAPI=function(){return w===N};var k,P=function(T){if(w!==N)throw new Error(T+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=h.roundToPrecision=h.__private__.roundToPrecision=function(T,H){var le=t||H;if(isNaN(T)||isNaN(le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return T.toFixed(le).replace(/0+$/,"")};k=h.hpf=h.__private__.hpf=typeof c=="number"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return D(T,c)}:c==="smart"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return D(T,T>-1&&T<1?16:5)}:function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return D(T,16)};var A=h.f2=h.__private__.f2=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f2");return D(T,2)},I=h.__private__.f3=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f3");return D(T,3)},$=h.scale=h.__private__.scale=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.scale");return w===b?T*Je:w===N?T:void 0},_=function(T){return $(function(H){return w===b?fc()-H:w===N?H:void 0}(T))};h.__private__.setPrecision=h.setPrecision=function(T){typeof parseInt(T,10)=="number"&&(t=parseInt(T,10))};var M,z="00000000000000000000000000000000",Z=h.__private__.getFileId=function(){return z},R=h.__private__.setFileId=function(T){return z=T!==void 0&&/^[a-fA-F0-9]{32}$/.test(T)?T.toUpperCase():z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(gn=new ed(d.userPermissions,d.userPassword,d.ownerPassword,z)),z};h.setFileId=function(T){return R(T),this},h.getFileId=function(){return Z()};var U=h.__private__.convertDateToPDFDate=function(T){var H=T.getTimezoneOffset(),le=H<0?"+":"-",he=Math.floor(Math.abs(H/60)),we=Math.abs(H%60),Le=[le,te(he),"'",te(we),"'"].join("");return["D:",T.getFullYear(),te(T.getMonth()+1),te(T.getDate()),te(T.getHours()),te(T.getMinutes()),te(T.getSeconds()),Le].join("")},re=h.__private__.convertPDFDateToDate=function(T){var H=parseInt(T.substr(2,4),10),le=parseInt(T.substr(6,2),10)-1,he=parseInt(T.substr(8,2),10),we=parseInt(T.substr(10,2),10),Le=parseInt(T.substr(12,2),10),De=parseInt(T.substr(14,2),10);return new Date(H,le,he,we,Le,De,0)},de=h.__private__.setCreationDate=function(T){var H;if(T===void 0&&(T=new Date),T instanceof Date)H=U(T);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(T))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=T}return M=H},B=h.__private__.getCreationDate=function(T){var H=M;return T==="jsDate"&&(H=re(M)),H};h.setCreationDate=function(T){return de(T),this},h.getCreationDate=function(T){return B(T)};var G,te=h.__private__.padd2=function(T){return("0"+parseInt(T)).slice(-2)},ue=h.__private__.padd2Hex=function(T){return("00"+(T=T.toString())).substr(T.length)},q=0,X=[],Q=[],ne=0,pe=[],ie=[],W=!1,fe=Q;h.__private__.setCustomOutputDestination=function(T){W=!0,fe=T};var Ae=function(T){W||(fe=T)};h.__private__.resetCustomOutputDestination=function(){W=!1,fe=Q};var Y=h.__private__.out=function(T){return T=T.toString(),ne+=T.length+1,fe.push(T),fe},Te=h.__private__.write=function(T){return Y(arguments.length===1?T.toString():Array.prototype.join.call(arguments," "))},qe=h.__private__.getArrayBuffer=function(T){for(var H=T.length,le=new ArrayBuffer(H),he=new Uint8Array(le);H--;)he[H]=T.charCodeAt(H);return le},be=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return be};var je=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(T){return je=w===N?T/Je:T,this};var Me,Ue=h.__private__.getFontSize=h.getFontSize=function(){return w===b?je:je*Je},Ge=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(T){return Ge=T,this},h.__private__.getR2L=h.getR2L=function(){return Ge};var We,_t=h.__private__.setZoomMode=function(T){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(T))Me=T;else if(isNaN(T)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(T)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+T+'" is not recognized.');Me=T}else Me=parseInt(T,10)};h.__private__.getZoomMode=function(){return Me};var pt,vt=h.__private__.setPageMode=function(T){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(T)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+T+'" is not recognized.');We=T};h.__private__.getPageMode=function(){return We};var $t=h.__private__.setLayoutMode=function(T){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(T)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+T+'" is not recognized.');pt=T};h.__private__.getLayoutMode=function(){return pt},h.__private__.setDisplayMode=h.setDisplayMode=function(T,H,le){return _t(T),$t(H),vt(le),this};var ye={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(T){if(Object.keys(ye).indexOf(T)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ye[T]},h.__private__.getDocumentProperties=function(){return ye},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(T){for(var H in ye)ye.hasOwnProperty(H)&&T[H]&&(ye[H]=T[H]);return this},h.__private__.setDocumentProperty=function(T,H){if(Object.keys(ye).indexOf(T)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ye[T]=H};var Be,Je,Fe,Pt,Ft,At={},Ot={},xr=[],ft={},ur={},mt={},wt={},yr=null,It=0,ht=[],Gt=new Z6(h),Se=e.hotfixes||[],Ke={},Jt={},cn=[],dt=function T(H,le,he,we,Le,De){if(!(this instanceof T))return new T(H,le,he,we,Le,De);isNaN(H)&&(H=1),isNaN(le)&&(le=0),isNaN(he)&&(he=0),isNaN(we)&&(we=1),isNaN(Le)&&(Le=0),isNaN(De)&&(De=0),this._matrix=[H,le,he,we,Le,De]};Object.defineProperty(dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),dt.prototype.join=function(T){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(T)},dt.prototype.multiply=function(T){var H=T.sx*this.sx+T.shy*this.shx,le=T.sx*this.shy+T.shy*this.sy,he=T.shx*this.sx+T.sy*this.shx,we=T.shx*this.shy+T.sy*this.sy,Le=T.tx*this.sx+T.ty*this.shx+this.tx,De=T.tx*this.shy+T.ty*this.sy+this.ty;return new dt(H,le,he,we,Le,De)},dt.prototype.decompose=function(){var T=this.sx,H=this.shy,le=this.shx,he=this.sy,we=this.tx,Le=this.ty,De=Math.sqrt(T*T+H*H),rt=(T/=De)*le+(H/=De)*he;le-=T*rt,he-=H*rt;var st=Math.sqrt(le*le+he*he);return rt/=st,T*(he/=st)<H*(le/=st)&&(T=-T,H=-H,rt=-rt,De=-De),{scale:new dt(De,0,0,st,0,0),translate:new dt(1,0,0,1,we,Le),rotate:new dt(T,H,-H,T,0,0),skew:new dt(1,0,rt,1,0,0)}},dt.prototype.toString=function(T){return this.join(" ")},dt.prototype.inversed=function(){var T=this.sx,H=this.shy,le=this.shx,he=this.sy,we=this.tx,Le=this.ty,De=1/(T*he-H*le),rt=he*De,st=-H*De,Nt=-le*De,Ct=T*De;return new dt(rt,st,Nt,Ct,-rt*we-Nt*Le,-st*we-Ct*Le)},dt.prototype.applyToPoint=function(T){var H=T.x*this.sx+T.y*this.shx+this.tx,le=T.x*this.shy+T.y*this.sy+this.ty;return new ro(H,le)},dt.prototype.applyToRectangle=function(T){var H=this.applyToPoint(T),le=this.applyToPoint(new ro(T.x+T.w,T.y+T.h));return new Jf(H.x,H.y,le.x-H.x,le.y-H.y)},dt.prototype.clone=function(){var T=this.sx,H=this.shy,le=this.shx,he=this.sy,we=this.tx,Le=this.ty;return new dt(T,H,le,he,we,Le)},h.Matrix=dt;var Ia=h.matrixMult=function(T,H){return H.multiply(T)},La=new dt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=La;var pa=function(T,H){if(!ur[T]){var le=(H instanceof Lc?"Sh":"P")+(Object.keys(ft).length+1).toString(10);H.id=le,ur[T]=le,ft[le]=H,Gt.publish("addPattern",H)}};h.ShadingPattern=Lc,h.TilingPattern=bd,h.addShadingPattern=function(T,H){return P("addShadingPattern()"),pa(T,H),this},h.beginTilingPattern=function(T){P("beginTilingPattern()"),Zf(T.boundingBox[0],T.boundingBox[1],T.boundingBox[2]-T.boundingBox[0],T.boundingBox[3]-T.boundingBox[1],T.matrix)},h.endTilingPattern=function(T,H){P("endTilingPattern()"),H.stream=ie[G].join(`
`),pa(T,H),Gt.publish("endTilingPattern",H),cn.pop().restore()};var ga,Ar=h.__private__.newObject=function(){var T=Tn();return Un(T,!0),T},Tn=h.__private__.newObjectDeferred=function(){return q++,X[q]=function(){return ne},q},Un=function(T,H){return H=typeof H=="boolean"&&H,X[T]=ne,H&&Y(T+" 0 obj"),T},ic=h.__private__.newAdditionalObject=function(){var T={objId:Tn(),content:""};return pe.push(T),T},Qo=Tn(),Vi=Tn(),ws=h.__private__.decodeColorString=function(T){var H=T.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length!==5||H[4]!=="k"&&H[4]!=="K"||(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var le=parseFloat(H[0]);H=[le,le,le,"r"]}for(var he="#",we=0;we<3;we++)he+=("0"+Math.floor(255*parseFloat(H[we])).toString(16)).slice(-2);return he},Wi=h.__private__.encodeColorString=function(T){var H;typeof T=="string"&&(T={ch1:T});var le=T.ch1,he=T.ch2,we=T.ch3,Le=T.ch4,De=T.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof le=="string"&&le.charAt(0)!=="#"){var rt=new g7(le);if(rt.ok)le=rt.toHex();else if(!/^\d*\.?\d*$/.test(le))throw new Error('Invalid color "'+le+'" passed to jsPDF.encodeColorString.')}if(typeof le=="string"&&/^#[0-9A-Fa-f]{3}$/.test(le)&&(le="#"+le[1]+le[1]+le[2]+le[2]+le[3]+le[3]),typeof le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(le)){var st=parseInt(le.substr(1),16);le=st>>16&255,he=st>>8&255,we=255&st}if(he===void 0||Le===void 0&&le===he&&he===we)H=typeof le=="string"?le+" "+De[0]:T.precision===2?A(le/255)+" "+De[0]:I(le/255)+" "+De[0];else if(Le===void 0||sr(Le)==="object"){if(Le&&!isNaN(Le.a)&&Le.a===0)return["1.","1.","1.",De[1]].join(" ");H=typeof le=="string"?[le,he,we,De[1]].join(" "):T.precision===2?[A(le/255),A(he/255),A(we/255),De[1]].join(" "):[I(le/255),I(he/255),I(we/255),De[1]].join(" ")}else H=typeof le=="string"?[le,he,we,Le,De[2]].join(" "):T.precision===2?[A(le),A(he),A(we),A(Le),De[2]].join(" "):[I(le),I(he),I(we),I(Le),De[2]].join(" ");return H},Gi=h.__private__.getFilters=function(){return o},bi=h.__private__.putStream=function(T){var H=(T=T||{}).data||"",le=T.filters||Gi(),he=T.alreadyAppliedFilters||[],we=T.addLength1||!1,Le=H.length,De=T.objectId,rt=function(xn){return xn};if(d!==null&&De===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(rt=gn.encryptor(De,0));var st={};le===!0&&(le=["FlateEncode"]);var Nt=T.additionalKeyValues||[],Ct=(st=ct.API.processDataByFilters!==void 0?ct.API.processDataByFilters(H,le):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(he)?he.join(" "):he.toString());if(st.data.length!==0&&(Nt.push({key:"Length",value:st.data.length}),we===!0&&Nt.push({key:"Length1",value:Le})),Ct.length!=0)if(Ct.split("/").length-1==1)Nt.push({key:"Filter",value:Ct});else{Nt.push({key:"Filter",value:"["+Ct+"]"});for(var Yt=0;Yt<Nt.length;Yt+=1)if(Nt[Yt].key==="DecodeParms"){for(var Dr=[],dn=0;dn<st.reverseChain.split("/").length-1;dn+=1)Dr.push("null");Dr.push(Nt[Yt].value),Nt[Yt].value="["+Dr.join(" ")+"]"}}Y("<<");for(var vr=0;vr<Nt.length;vr++)Y("/"+Nt[vr].key+" "+Nt[vr].value);Y(">>"),st.data.length!==0&&(Y("stream"),Y(rt(st.data)),Y("endstream"))},sc=h.__private__.putPage=function(T){var H=T.number,le=T.data,he=T.objId,we=T.contentsObjId;Un(he,!0),Y("<</Type /Page"),Y("/Parent "+T.rootDictionaryObjId+" 0 R"),Y("/Resources "+T.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(k(T.mediaBox.bottomLeftX))+" "+parseFloat(k(T.mediaBox.bottomLeftY))+" "+k(T.mediaBox.topRightX)+" "+k(T.mediaBox.topRightY)+"]"),T.cropBox!==null&&Y("/CropBox ["+k(T.cropBox.bottomLeftX)+" "+k(T.cropBox.bottomLeftY)+" "+k(T.cropBox.topRightX)+" "+k(T.cropBox.topRightY)+"]"),T.bleedBox!==null&&Y("/BleedBox ["+k(T.bleedBox.bottomLeftX)+" "+k(T.bleedBox.bottomLeftY)+" "+k(T.bleedBox.topRightX)+" "+k(T.bleedBox.topRightY)+"]"),T.trimBox!==null&&Y("/TrimBox ["+k(T.trimBox.bottomLeftX)+" "+k(T.trimBox.bottomLeftY)+" "+k(T.trimBox.topRightX)+" "+k(T.trimBox.topRightY)+"]"),T.artBox!==null&&Y("/ArtBox ["+k(T.artBox.bottomLeftX)+" "+k(T.artBox.bottomLeftY)+" "+k(T.artBox.topRightX)+" "+k(T.artBox.topRightY)+"]"),typeof T.userUnit=="number"&&T.userUnit!==1&&Y("/UserUnit "+T.userUnit),Gt.publish("putPage",{objId:he,pageContext:ht[H],pageNumber:H,page:le}),Y("/Contents "+we+" 0 R"),Y(">>"),Y("endobj");var Le=le.join(`
`);return w===N&&(Le+=`
Q`),Un(we,!0),bi({data:Le,filters:Gi(),objectId:we}),Y("endobj"),he},Ns=h.__private__.putPages=function(){var T,H,le=[];for(T=1;T<=It;T++)ht[T].objId=Tn(),ht[T].contentsObjId=Tn();for(T=1;T<=It;T++)le.push(sc({number:T,data:ie[T],objId:ht[T].objId,contentsObjId:ht[T].contentsObjId,mediaBox:ht[T].mediaBox,cropBox:ht[T].cropBox,bleedBox:ht[T].bleedBox,trimBox:ht[T].trimBox,artBox:ht[T].artBox,userUnit:ht[T].userUnit,rootDictionaryObjId:Qo,resourceDictionaryObjId:Vi}));Un(Qo,!0),Y("<</Type /Pages");var he="/Kids [";for(H=0;H<It;H++)he+=le[H]+" 0 R ";Y(he+"]"),Y("/Count "+It),Y(">>"),Y("endobj"),Gt.publish("postPutPages")},oc=function(T){Gt.publish("putFont",{font:T,out:Y,newObject:Ar,putStream:bi}),T.isAlreadyPutted!==!0&&(T.objectNumber=Ar(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+td(T.postScriptName)),Y("/Subtype /Type1"),typeof T.encoding=="string"&&Y("/Encoding /"+T.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},Tu=function(T){T.objectNumber=Ar();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[k(T.x),k(T.y),k(T.x+T.width),k(T.y+T.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+T.matrix.toString()+"]"});var le=T.pages[1].join(`
`);bi({data:le,additionalKeyValues:H,objectId:T.objectNumber}),Y("endobj")},Cu=function(T,H){H||(H=21);var le=Ar(),he=function(De,rt){var st,Nt=[],Ct=1/(rt-1);for(st=0;st<1;st+=Ct)Nt.push(st);if(Nt.push(1),De[0].offset!=0){var Yt={offset:0,color:De[0].color};De.unshift(Yt)}if(De[De.length-1].offset!=1){var Dr={offset:1,color:De[De.length-1].color};De.push(Dr)}for(var dn="",vr=0,xn=0;xn<Nt.length;xn++){for(st=Nt[xn];st>De[vr+1].offset;)vr++;var fn=De[vr].offset,zn=(st-fn)/(De[vr+1].offset-fn),io=De[vr].color,Ki=De[vr+1].color;dn+=ue(Math.round((1-zn)*io[0]+zn*Ki[0]).toString(16))+ue(Math.round((1-zn)*io[1]+zn*Ki[1]).toString(16))+ue(Math.round((1-zn)*io[2]+zn*Ki[2]).toString(16))}return dn.trim()}(T.colors,H),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+H+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),bi({data:he,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:le}),Y("endobj"),T.objectNumber=Ar(),Y("<< /ShadingType "+T.type),Y("/ColorSpace /DeviceRGB");var Le="/Coords ["+k(parseFloat(T.coords[0]))+" "+k(parseFloat(T.coords[1]))+" ";T.type===2?Le+=k(parseFloat(T.coords[2]))+" "+k(parseFloat(T.coords[3])):Le+=k(parseFloat(T.coords[2]))+" "+k(parseFloat(T.coords[3]))+" "+k(parseFloat(T.coords[4]))+" "+k(parseFloat(T.coords[5])),Y(Le+="]"),T.matrix&&Y("/Matrix ["+T.matrix.toString()+"]"),Y("/Function "+le+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},ku=function(T,H){var le=Tn(),he=Ar();H.push({resourcesOid:le,objectOid:he}),T.objectNumber=he;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+T.boundingBox.map(k).join(" ")+"]"}),we.push({key:"XStep",value:k(T.xStep)}),we.push({key:"YStep",value:k(T.yStep)}),we.push({key:"Resources",value:le+" 0 R"}),T.matrix&&we.push({key:"Matrix",value:"["+T.matrix.toString()+"]"}),bi({data:T.stream,additionalKeyValues:we,objectId:T.objectNumber}),Y("endobj")},qv=function(T){for(var H in T.objectNumber=Ar(),Y("<<"),T)switch(H){case"opacity":Y("/ca "+A(T[H]));break;case"stroke-opacity":Y("/CA "+A(T[H]))}Y(">>"),Y("endobj")},qf=function(T){Un(T.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var H in Y("/Font <<"),At)At.hasOwnProperty(H)&&(f===!1||f===!0&&m.hasOwnProperty(H))&&Y("/"+H+" "+At[H].objectNumber+" 0 R");Y(">>")}(),function(){if(Object.keys(ft).length>0){for(var H in Y("/Shading <<"),ft)ft.hasOwnProperty(H)&&ft[H]instanceof Lc&&ft[H].objectNumber>=0&&Y("/"+H+" "+ft[H].objectNumber+" 0 R");Gt.publish("putShadingPatternDict"),Y(">>")}}(),function(H){if(Object.keys(ft).length>0){for(var le in Y("/Pattern <<"),ft)ft.hasOwnProperty(le)&&ft[le]instanceof h.TilingPattern&&ft[le].objectNumber>=0&&ft[le].objectNumber<H&&Y("/"+le+" "+ft[le].objectNumber+" 0 R");Gt.publish("putTilingPatternDict"),Y(">>")}}(T.objectOid),function(){if(Object.keys(mt).length>0){var H;for(H in Y("/ExtGState <<"),mt)mt.hasOwnProperty(H)&&mt[H].objectNumber>=0&&Y("/"+H+" "+mt[H].objectNumber+" 0 R");Gt.publish("putGStateDict"),Y(">>")}}(),function(){for(var H in Y("/XObject <<"),Ke)Ke.hasOwnProperty(H)&&Ke[H].objectNumber>=0&&Y("/"+H+" "+Ke[H].objectNumber+" 0 R");Gt.publish("putXobjectDict"),Y(">>")}(),Y(">>"),Y("endobj")},zp=function(T){Ot[T.fontName]=Ot[T.fontName]||{},Ot[T.fontName][T.fontStyle]=T.id},qp=function(T,H,le,he,we){var Le={id:"F"+(Object.keys(At).length+1).toString(10),postScriptName:T,fontName:H,fontStyle:le,encoding:he,isStandardFont:we||!1,metadata:{}};return Gt.publish("addFont",{font:Le,instance:this}),At[Le.id]=Le,zp(Le),Le.id},wi=h.__private__.pdfEscape=h.pdfEscape=function(T,H){return function(le,he){var we,Le,De,rt,st,Nt,Ct,Yt,Dr;if(De=(he=he||{}).sourceEncoding||"Unicode",st=he.outputEncoding,(he.autoencode||st)&&At[Be].metadata&&At[Be].metadata[De]&&At[Be].metadata[De].encoding&&(rt=At[Be].metadata[De].encoding,!st&&At[Be].encoding&&(st=At[Be].encoding),!st&&rt.codePages&&(st=rt.codePages[0]),typeof st=="string"&&(st=rt[st]),st)){for(Ct=!1,Nt=[],we=0,Le=le.length;we<Le;we++)(Yt=st[le.charCodeAt(we)])?Nt.push(String.fromCharCode(Yt)):Nt.push(le[we]),Nt[we].charCodeAt(0)>>8&&(Ct=!0);le=Nt.join("")}for(we=le.length;Ct===void 0&&we!==0;)le.charCodeAt(we-1)>>8&&(Ct=!0),we--;if(!Ct)return le;for(Nt=he.noBOM?[]:[254,255],we=0,Le=le.length;we<Le;we++){if((Dr=(Yt=le.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+le+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Nt.push(Dr),Nt.push(Yt-(Dr<<8))}return String.fromCharCode.apply(void 0,Nt)}(T,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Hf=h.__private__.beginPage=function(T){ie[++It]=[],ht[It]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(T[0]),topRightY:Number(T[1])}},Vp(It),Ae(ie[G])},Hp=function(T,H){var le,he,we;switch(r=H||r,typeof T=="string"&&(le=x(T.toLowerCase()),Array.isArray(le)&&(he=le[0],we=le[1])),Array.isArray(T)&&(he=T[0]*Je,we=T[1]*Je),isNaN(he)&&(he=i[0],we=i[1]),(he>14400||we>14400)&&(pr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),he=Math.min(14400,he),we=Math.min(14400,we)),i=[he,we],r.substr(0,1)){case"l":we>he&&(i=[we,he]);break;case"p":he>we&&(i=[we,he])}Hf(i),St(Gf),Y(Ru),Kf!==0&&Y(Kf+" J"),Xf!==0&&Y(Xf+" j"),Gt.publish("addPage",{pageNumber:It})},Vf=function(T){T>0&&T<=It&&(ie.splice(T,1),ht.splice(T,1),It--,G>It&&(G=It),this.setPage(G))},Vp=function(T){T>0&&T<=It&&(G=T)},Wp=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return ie.length-1},Gp=function(T,H,le){var he,we=void 0;return le=le||{},T=T!==void 0?T:At[Be].fontName,H=H!==void 0?H:At[Be].fontStyle,he=T.toLowerCase(),Ot[he]!==void 0&&Ot[he][H]!==void 0?we=Ot[he][H]:Ot[T]!==void 0&&Ot[T][H]!==void 0?we=Ot[T][H]:le.disableWarning===!1&&pr.warn("Unable to look up font label for font '"+T+"', '"+H+"'. Refer to getFontList() for available fonts."),we||le.noFallback||(we=Ot.times[H])==null&&(we=Ot.times.normal),we},js=h.__private__.putInfo=function(){var T=Ar(),H=function(he){return he};for(var le in d!==null&&(H=gn.encryptor(T,0)),Y("<<"),Y("/Producer ("+wi(H("jsPDF "+ct.version))+")"),ye)ye.hasOwnProperty(le)&&ye[le]&&Y("/"+le.substr(0,1).toUpperCase()+le.substr(1)+" ("+wi(H(ye[le]))+")");Y("/CreationDate ("+wi(H(M))+")"),Y(">>"),Y("endobj")},Ou=h.__private__.putCatalog=function(T){var H=(T=T||{}).rootDictionaryObjId||Qo;switch(Ar(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+H+" 0 R"),Me||(Me="fullwidth"),Me){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var le=""+Me;le.substr(le.length-1)==="%"&&(Me=parseInt(Me)/100),typeof Me=="number"&&Y("/OpenAction [3 0 R /XYZ null null "+A(Me)+"]")}switch(pt||(pt="continuous"),pt){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}We&&Y("/PageMode /"+We),Gt.publish("putCatalog"),Y(">>"),Y("endobj")},Hv=h.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(q+1)),Y("/Root "+q+" 0 R"),Y("/Info "+(q-1)+" 0 R"),d!==null&&Y("/Encrypt "+gn.oid+" 0 R"),Y("/ID [ <"+z+"> <"+z+"> ]"),Y(">>")},un=h.__private__.putHeader=function(){Y("%PDF-"+p),Y("%")},Yp=h.__private__.putXRef=function(){var T="0000000000";Y("xref"),Y("0 "+(q+1)),Y("0000000000 65535 f ");for(var H=1;H<=q;H++)typeof X[H]=="function"?Y((T+X[H]()).slice(-10)+" 00000 n "):X[H]!==void 0?Y((T+X[H]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},Ss=h.__private__.buildDocument=function(){var T;q=0,ne=0,Q=[],X=[],pe=[],Qo=Tn(),Vi=Tn(),Ae(Q),Gt.publish("buildDocument"),un(),Ns(),function(){Gt.publish("putAdditionalObjects");for(var le=0;le<pe.length;le++){var he=pe[le];Un(he.objId,!0),Y(he.content),Y("endobj")}Gt.publish("postPutAdditionalObjects")}(),T=[],function(){for(var le in At)At.hasOwnProperty(le)&&(f===!1||f===!0&&m.hasOwnProperty(le))&&oc(At[le])}(),function(){var le;for(le in mt)mt.hasOwnProperty(le)&&qv(mt[le])}(),function(){for(var le in Ke)Ke.hasOwnProperty(le)&&Tu(Ke[le])}(),function(le){var he;for(he in ft)ft.hasOwnProperty(he)&&(ft[he]instanceof Lc?Cu(ft[he]):ft[he]instanceof bd&&ku(ft[he],le))}(T),Gt.publish("putResources"),T.forEach(qf),qf({resourcesOid:Vi,objectOid:Number.MAX_SAFE_INTEGER}),Gt.publish("postPutResources"),d!==null&&(gn.oid=Ar(),Y("<<"),Y("/Filter /Standard"),Y("/V "+gn.v),Y("/R "+gn.r),Y("/U <"+gn.toHexString(gn.U)+">"),Y("/O <"+gn.toHexString(gn.O)+">"),Y("/P "+gn.P),Y(">>"),Y("endobj")),js(),Ou();var H=ne;return Yp(),Hv(),Y("startxref"),Y(""+H),Y("%%EOF"),Ae(ie[G]),Q.join(`
`)},Iu=h.__private__.getBlob=function(T){return new Blob([qe(T)],{type:"application/pdf"})},Kp=h.output=h.__private__.output=(ga=function(T,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",T){case void 0:return Ss();case"save":h.save(H.filename);break;case"arraybuffer":return qe(Ss());case"blob":return Iu(Ss());case"bloburi":case"bloburl":if(bt.URL!==void 0&&typeof bt.URL.createObjectURL=="function")return bt.URL&&bt.URL.createObjectURL(Iu(Ss()))||void 0;pr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var le="",he=Ss();try{le=K6(he)}catch{le=K6(unescape(encodeURIComponent(he)))}return"data:application/pdf;filename="+H.filename+";base64,"+le;case"pdfobjectnewwindow":if(Object.prototype.toString.call(bt)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Le=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(we=H.pdfObjectUrl,Le="");var De='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+Le+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",rt=bt.open();return rt!==null&&rt.document.write(De),rt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(bt)==="[object Window]"){var st='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',Nt=bt.open();if(Nt!==null){Nt.document.write(st);var Ct=this;Nt.document.documentElement.querySelector("#pdfViewer").onload=function(){Nt.document.title=H.filename,Nt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ct.output("bloburl"))}}return Nt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(bt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',Dr=bt.open();if(Dr!==null&&(Dr.document.write(Yt),Dr.document.title=H.filename),Dr||typeof safari>"u")return Dr;break;case"datauri":case"dataurl":return bt.document.location.href=this.output("datauristring",H);default:return null}},ga.foo=function(){try{return ga.apply(this,arguments)}catch(le){var T=le.stack||"";~T.indexOf(" at ")&&(T=T.split(" at ")[1]);var H="Error in function "+T.split(`
`)[0].split("<")[0]+": "+le.message;if(!bt.console)throw new Error(H);bt.console.error(H,le),bt.alert&&alert(H)}},ga.foo.bar=ga,ga.foo),Ni=function(T){return Array.isArray(Se)===!0&&Se.indexOf(T)>-1};switch(n){case"pt":Je=1;break;case"mm":Je=72/25.4;break;case"cm":Je=72/2.54;break;case"in":Je=72;break;case"px":Je=Ni("px_scaling")==1?.75:96/72;break;case"pc":case"em":Je=12;break;case"ex":Je=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Je=n}var gn=null;de(),R();var Zs=h.__private__.getPageInfo=h.getPageInfo=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ht[T].objId,pageNumber:T,pageContext:ht[T]}},Xp=h.__private__.getPageInfoByObjId=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in ht)if(ht[H].objId===T)break;return Zs(H)},Vv=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:ht[G].objId,pageNumber:G,pageContext:ht[G]}};h.addPage=function(){return Hp.apply(this,arguments),this},h.setPage=function(){return Vp.apply(this,arguments),Ae.call(this,ie[G]),this},h.insertPage=function(T){return this.addPage(),this.movePage(G,T),this},h.movePage=function(T,H){var le,he;if(T>H){le=ie[T],he=ht[T];for(var we=T;we>H;we--)ie[we]=ie[we-1],ht[we]=ht[we-1];ie[H]=le,ht[H]=he,this.setPage(H)}else if(T<H){le=ie[T],he=ht[T];for(var Le=T;Le<H;Le++)ie[Le]=ie[Le+1],ht[Le]=ht[Le+1];ie[H]=le,ht[H]=he,this.setPage(H)}return this},h.deletePage=function(){return Vf.apply(this,arguments),this},h.__private__.text=h.text=function(T,H,le,he,we){var Le,De,rt,st,Nt,Ct,Yt,Dr,dn,vr=(he=he||{}).scope||this;if(typeof T=="number"&&typeof H=="number"&&(typeof le=="string"||Array.isArray(le))){var xn=le;le=H,H=T,T=xn}if(arguments[3]instanceof dt==0?(rt=arguments[4],st=arguments[5],sr(Yt=arguments[3])==="object"&&Yt!==null||(typeof rt=="string"&&(st=rt,rt=null),typeof Yt=="string"&&(st=Yt,Yt=null),typeof Yt=="number"&&(rt=Yt,Yt=null),he={flags:Yt,angle:rt,align:st})):(P("The transform parameter of text() with a Matrix value"),dn=we),isNaN(H)||isNaN(le)||T==null)throw new Error("Invalid arguments passed to jsPDF.text");if(T.length===0)return vr;var fn,zn="",io=typeof he.lineHeightFactor=="number"?he.lineHeightFactor:cc,Ki=vr.internal.scaleFactor;function so(er){return er=er.split("	").join(Array(he.TabLen||9).join(" ")),wi(er,Yt)}function eh(er){for(var hr,Jr=er.concat(),yn=[],co=Jr.length;co--;)typeof(hr=Jr.shift())=="string"?yn.push(hr):Array.isArray(er)&&(hr.length===1||hr[1]===void 0&&hr[2]===void 0)?yn.push(hr[0]):yn.push([hr[0],hr[1],hr[2]]);return yn}function Du(er,hr){var Jr;if(typeof er=="string")Jr=hr(er)[0];else if(Array.isArray(er)){for(var yn,co,uh=er.concat(),Bu=[],og=uh.length;og--;)typeof(yn=uh.shift())=="string"?Bu.push(hr(yn)[0]):Array.isArray(yn)&&typeof yn[0]=="string"&&(co=hr(yn[0],yn[1],yn[2]),Bu.push([co[0],co[1],co[2]]));Jr=Bu}return Jr}var el=!1,hc=!0;if(typeof T=="string")el=!0;else if(Array.isArray(T)){var mc=T.concat();De=[];for(var tl,qn=mc.length;qn--;)(typeof(tl=mc.shift())!="string"||Array.isArray(tl)&&typeof tl[0]!="string")&&(hc=!1);el=hc}if(el===!1)throw new Error('Type of text must be string or Array. "'+T+'" is not recognized.');typeof T=="string"&&(T=T.match(/[\r?\n]/)?T.split(/\r\n|\r|\n/g):[T]);var pc=je/vr.internal.scaleFactor,gc=pc*(io-1);switch(he.baseline){case"bottom":le-=gc;break;case"top":le+=pc-gc;break;case"hanging":le+=pc-2*gc;break;case"middle":le+=pc/2-gc}if((Ct=he.maxWidth||0)>0&&(typeof T=="string"?T=vr.splitTextToSize(T,Ct):Object.prototype.toString.call(T)==="[object Array]"&&(T=T.reduce(function(er,hr){return er.concat(vr.splitTextToSize(hr,Ct))},[]))),Le={text:T,x:H,y:le,options:he,mutex:{pdfEscape:wi,activeFontKey:Be,fonts:At,activeFontSize:je}},Gt.publish("preProcessText",Le),T=Le.text,rt=(he=Le.options).angle,dn instanceof dt==0&&rt&&typeof rt=="number"){rt*=Math.PI/180,he.rotationDirection===0&&(rt=-rt),w===N&&(rt=-rt);var th=Math.cos(rt),rh=Math.sin(rt);dn=new dt(th,rh,-rh,th,0,0)}else rt&&rt instanceof dt&&(dn=rt);w!==N||dn||(dn=La),(Nt=he.charSpace||to)!==void 0&&(zn+=k($(Nt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Dr=he.horizontalScale)!==void 0&&(zn+=k(100*Dr)+` Tz
`),he.lang;var xa=-1,oo=he.renderingMode!==void 0?he.renderingMode:he.stroke,$u=vr.internal.getCurrentPageInfo().pageContext;switch(oo){case 0:case!1:case"fill":xa=0;break;case 1:case!0:case"stroke":xa=1;break;case 2:case"fillThenStroke":xa=2;break;case 3:case"invisible":xa=3;break;case 4:case"fillAndAddForClipping":xa=4;break;case 5:case"strokeAndAddPathForClipping":xa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":xa=6;break;case 7:case"addToPathForClipping":xa=7}var ig=$u.usedRenderingMode!==void 0?$u.usedRenderingMode:-1;xa!==-1?zn+=xa+` Tr
`:ig!==-1&&(zn+=`0 Tr
`),xa!==-1&&($u.usedRenderingMode=xa),st=he.align||"left";var ji,xc=je*io,nh=vr.internal.pageSize.getWidth(),ah=At[Be];Nt=he.charSpace||to,Ct=he.maxWidth||0,Yt=Object.assign({autoencode:!0,noBOM:!0},he.flags);var rl=[],yc=function(er){return vr.getStringUnitWidth(er,{font:ah,charSpace:Nt,fontSize:je,doKerning:!1})*je/Ki};if(Object.prototype.toString.call(T)==="[object Array]"){var Xa;De=eh(T),st!=="left"&&(ji=De.map(yc));var Ja,nl=0;if(st==="right"){H-=ji[0],T=[],qn=De.length;for(var lo=0;lo<qn;lo++)lo===0?(Ja=Qs(H),Xa=eo(le)):(Ja=$(nl-ji[lo]),Xa=-xc),T.push([De[lo],Ja,Xa]),nl=ji[lo]}else if(st==="center"){H-=ji[0]/2,T=[],qn=De.length;for(var al=0;al<qn;al++)al===0?(Ja=Qs(H),Xa=eo(le)):(Ja=$((nl-ji[al])/2),Xa=-xc),T.push([De[al],Ja,Xa]),nl=ji[al]}else if(st==="left"){T=[],qn=De.length;for(var ih=0;ih<qn;ih++)T.push(De[ih])}else if(st==="justify"&&ah.encoding==="Identity-H"){T=[],qn=De.length,Ct=Ct!==0?Ct:nh;for(var Fu=0,Xr=0;Xr<qn;Xr++)if(Xa=Xr===0?eo(le):-xc,Ja=Xr===0?Qs(H):Fu,Xr<qn-1){var sg=$((Ct-ji[Xr])/(De[Xr].split(" ").length-1)),Es=De[Xr].split(" ");T.push([Es[0]+" ",Ja,Xa]),Fu=0;for(var _s=1;_s<Es.length;_s++){var sh=(yc(Es[_s-1]+" "+Es[_s])-yc(Es[_s]))*Ki+sg;_s==Es.length-1?T.push([Es[_s],sh,0]):T.push([Es[_s]+" ",sh,0]),Fu-=sh}}else T.push([De[Xr],Ja,Xa]);T.push(["",Fu,0])}else{if(st!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(T=[],qn=De.length,Ct=Ct!==0?Ct:nh,Xr=0;Xr<qn;Xr++){Xa=Xr===0?eo(le):-xc,Ja=Xr===0?Qs(H):0;var oh=De[Xr].split(" ").length-1,lh=oh>0?(Ct-ji[Xr])/oh:0;Xr<qn-1?rl.push(k($(lh))):rl.push(0),T.push([De[Xr],Ja,Xa])}}}(typeof he.R2L=="boolean"?he.R2L:Ge)===!0&&(T=Du(T,function(er,hr,Jr){return[er.split("").reverse().join(""),hr,Jr]})),Le={text:T,x:H,y:le,options:he,mutex:{pdfEscape:wi,activeFontKey:Be,fonts:At,activeFontSize:je}},Gt.publish("postProcessText",Le),T=Le.text,fn=Le.mutex.isHex||!1;var ch=At[Be].encoding;ch!=="WinAnsiEncoding"&&ch!=="StandardEncoding"||(T=Du(T,function(er,hr,Jr){return[so(er),hr,Jr]})),De=eh(T),T=[];for(var il,sl,ol,vc=Array.isArray(De[0])?1:0,ll="",bc=function(er,hr,Jr){var yn="";return Jr instanceof dt?(Jr=typeof he.angle=="number"?Ia(Jr,new dt(1,0,0,1,er,hr)):Ia(new dt(1,0,0,1,er,hr),Jr),w===N&&(Jr=Ia(new dt(1,0,0,-1,0,0),Jr)),yn=Jr.join(" ")+` Tm
`):yn=k(er)+" "+k(hr)+` Td
`,yn},Si=0;Si<De.length;Si++){switch(ll="",vc){case 1:ol=(fn?"<":"(")+De[Si][0]+(fn?">":")"),il=parseFloat(De[Si][1]),sl=parseFloat(De[Si][2]);break;case 0:ol=(fn?"<":"(")+De[Si]+(fn?">":")"),il=Qs(H),sl=eo(le)}rl!==void 0&&rl[Si]!==void 0&&(ll=rl[Si]+` Tw
`),Si===0?T.push(ll+bc(il,sl,dn)+ol):vc===0?T.push(ll+ol):vc===1&&T.push(ll+bc(il,sl,dn)+ol)}T=vc===0?T.join(` Tj
T* `):T.join(` Tj
`),T+=` Tj
`;var Ps=`BT
/`;return Ps+=Be+" "+je+` Tf
`,Ps+=k(je*io)+` TL
`,Ps+=uc+`
`,Ps+=zn,Ps+=T,Y(Ps+="ET"),m[Be]=!0,vr};var Wv=h.__private__.clip=h.clip=function(T){return Y(T==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Wv("evenodd")},h.__private__.discardPath=h.discardPath=function(){return Y("n"),this};var As=h.__private__.isValidStyle=function(T){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(T)!==-1&&(H=!0),H};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(T){return As(T)&&(u=T),this};var Jp=h.__private__.getStyle=h.getStyle=function(T){var H=u;switch(T){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=T}return H},Zp=h.close=function(){return Y("h"),this};h.stroke=function(){return Y("S"),this},h.fill=function(T){return Lu("f",T),this},h.fillEvenOdd=function(T){return Lu("f*",T),this},h.fillStroke=function(T){return Lu("B",T),this},h.fillStrokeEvenOdd=function(T){return Lu("B*",T),this};var Lu=function(T,H){sr(H)==="object"?Yv(H,T):Y(T)},lc=function(T){T===null||w===N&&T===void 0||(T=Jp(T),Y(T))};function Gv(T,H,le,he,we){var Le=new bd(H||this.boundingBox,le||this.xStep,he||this.yStep,this.gState,we||this.matrix);Le.stream=this.stream;var De=T+"$$"+this.cloneIndex+++"$$";return pa(De,Le),Le}var Yv=function(T,H){var le=ur[T.key],he=ft[le];if(he instanceof Lc)Y("q"),Y(Kv(H)),he.gState&&h.setGState(he.gState),Y(T.matrix.toString()+" cm"),Y("/"+le+" sh"),Y("Q");else if(he instanceof bd){var we=new dt(1,0,0,-1,0,fc());T.matrix&&(we=we.multiply(T.matrix||La),le=Gv.call(he,T.key,T.boundingBox,T.xStep,T.yStep,we).id),Y("q"),Y("/Pattern cs"),Y("/"+le+" scn"),he.gState&&h.setGState(he.gState),Y(H),Y("Q")}},Kv=function(T){switch(T){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Wf=h.moveTo=function(T,H){return Y(k($(T))+" "+k(_(H))+" m"),this},Qp=h.lineTo=function(T,H){return Y(k($(T))+" "+k(_(H))+" l"),this},Yi=h.curveTo=function(T,H,le,he,we,Le){return Y([k($(T)),k(_(H)),k($(le)),k(_(he)),k($(we)),k(_(Le)),"c"].join(" ")),this};h.__private__.line=h.line=function(T,H,le,he,we){if(isNaN(T)||isNaN(H)||isNaN(le)||isNaN(he)||!As(we))throw new Error("Invalid arguments passed to jsPDF.line");return w===b?this.lines([[le-T,he-H]],T,H,[1,1],we||"S"):this.lines([[le-T,he-H]],T,H,[1,1]).stroke()},h.__private__.lines=h.lines=function(T,H,le,he,we,Le){var De,rt,st,Nt,Ct,Yt,Dr,dn,vr,xn,fn,zn;if(typeof T=="number"&&(zn=le,le=H,H=T,T=zn),he=he||[1,1],Le=Le||!1,isNaN(H)||isNaN(le)||!Array.isArray(T)||!Array.isArray(he)||!As(we)||typeof Le!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Wf(H,le),De=he[0],rt=he[1],Nt=T.length,xn=H,fn=le,st=0;st<Nt;st++)(Ct=T[st]).length===2?(xn=Ct[0]*De+xn,fn=Ct[1]*rt+fn,Qp(xn,fn)):(Yt=Ct[0]*De+xn,Dr=Ct[1]*rt+fn,dn=Ct[2]*De+xn,vr=Ct[3]*rt+fn,xn=Ct[4]*De+xn,fn=Ct[5]*rt+fn,Yi(Yt,Dr,dn,vr,xn,fn));return Le&&Zp(),lc(we),this},h.path=function(T){for(var H=0;H<T.length;H++){var le=T[H],he=le.c;switch(le.op){case"m":Wf(he[0],he[1]);break;case"l":Qp(he[0],he[1]);break;case"c":Yi.apply(this,he);break;case"h":Zp()}}return this},h.__private__.rect=h.rect=function(T,H,le,he,we){if(isNaN(T)||isNaN(H)||isNaN(le)||isNaN(he)||!As(we))throw new Error("Invalid arguments passed to jsPDF.rect");return w===b&&(he=-he),Y([k($(T)),k(_(H)),k($(le)),k($(he)),"re"].join(" ")),lc(we),this},h.__private__.triangle=h.triangle=function(T,H,le,he,we,Le,De){if(isNaN(T)||isNaN(H)||isNaN(le)||isNaN(he)||isNaN(we)||isNaN(Le)||!As(De))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[le-T,he-H],[we-le,Le-he],[T-we,H-Le]],T,H,[1,1],De,!0),this},h.__private__.roundedRect=h.roundedRect=function(T,H,le,he,we,Le,De){if(isNaN(T)||isNaN(H)||isNaN(le)||isNaN(he)||isNaN(we)||isNaN(Le)||!As(De))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var rt=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*le),Le=Math.min(Le,.5*he),this.lines([[le-2*we,0],[we*rt,0,we,Le-Le*rt,we,Le],[0,he-2*Le],[0,Le*rt,-we*rt,Le,-we,Le],[2*we-le,0],[-we*rt,0,-we,-Le*rt,-we,-Le],[0,2*Le-he],[0,-Le*rt,we*rt,-Le,we,-Le]],T+we,H,[1,1],De,!0),this},h.__private__.ellipse=h.ellipse=function(T,H,le,he,we){if(isNaN(T)||isNaN(H)||isNaN(le)||isNaN(he)||!As(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Le=4/3*(Math.SQRT2-1)*le,De=4/3*(Math.SQRT2-1)*he;return Wf(T+le,H),Yi(T+le,H-De,T+Le,H-he,T,H-he),Yi(T-Le,H-he,T-le,H-De,T-le,H),Yi(T-le,H+De,T-Le,H+he,T,H+he),Yi(T+Le,H+he,T+le,H+De,T+le,H),lc(we),this},h.__private__.circle=h.circle=function(T,H,le,he){if(isNaN(T)||isNaN(H)||isNaN(le)||!As(he))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(T,H,le,le,he)},h.setFont=function(T,H,le){return le&&(H=C(H,le)),Be=Gp(T,H,{disableWarning:!1}),this};var Xv=h.__private__.getFont=h.getFont=function(){return At[Gp.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var T,H,le={};for(T in Ot)if(Ot.hasOwnProperty(T))for(H in le[T]=[],Ot[T])Ot[T].hasOwnProperty(H)&&le[T].push(H);return le},h.addFont=function(T,H,le,he,we){var Le=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Le.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&Le.indexOf(arguments[3])==-1&&(le=C(le,he)),qp.call(this,T,H,le,we=we||"Identity-H")};var cc,Gf=e.lineWidth||.200025,Jv=h.__private__.getLineWidth=h.getLineWidth=function(){return Gf},St=h.__private__.setLineWidth=h.setLineWidth=function(T){return Gf=T,Y(k($(T))+" w"),this};h.__private__.setLineDash=ct.API.setLineDash=ct.API.setLineDashPattern=function(T,H){if(T=T||[],H=H||0,isNaN(H)||!Array.isArray(T))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return T=T.map(function(le){return k($(le))}).join(" "),H=k($(H)),Y("["+T+"] "+H+" d"),this};var Zv=h.__private__.getLineHeight=h.getLineHeight=function(){return je*cc};h.__private__.getLineHeight=h.getLineHeight=function(){return je*cc};var Qv=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(T){return typeof(T=T||1.15)=="number"&&(cc=T),this},e1=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return cc};Qv(e.lineHeight);var Qs=h.__private__.getHorizontalCoordinate=function(T){return $(T)},eo=h.__private__.getVerticalCoordinate=function(T){return w===N?T:ht[G].mediaBox.topRightY-ht[G].mediaBox.bottomLeftY-$(T)},t1=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(T){return k(Qs(T))},r1=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(T){return k(eo(T))},Ru=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return ws(Ru)},h.__private__.setStrokeColor=h.setDrawColor=function(T,H,le,he){return Ru=Wi({ch1:T,ch2:H,ch3:le,ch4:he,pdfColorType:"draw",precision:2}),Y(Ru),this};var Yf=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return ws(Yf)},h.__private__.setFillColor=h.setFillColor=function(T,H,le,he){return Yf=Wi({ch1:T,ch2:H,ch3:le,ch4:he,pdfColorType:"fill",precision:2}),Y(Yf),this};var uc=e.textColor||"0 g",n1=h.__private__.getTextColor=h.getTextColor=function(){return ws(uc)};h.__private__.setTextColor=h.setTextColor=function(T,H,le,he){return uc=Wi({ch1:T,ch2:H,ch3:le,ch4:he,pdfColorType:"text",precision:3}),this};var to=e.charSpace,a1=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(to||0)};h.__private__.setCharSpace=h.setCharSpace=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return to=T,this};var Kf=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(T){var H=h.CapJoinStyles[T];if(H===void 0)throw new Error("Line cap style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Kf=H,Y(H+" J"),this};var Xf=0;h.__private__.setLineJoin=h.setLineJoin=function(T){var H=h.CapJoinStyles[T];if(H===void 0)throw new Error("Line join style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xf=H,Y(H+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(T){if(T=T||0,isNaN(T))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(k($(T))+" M"),this},h.GState=vy,h.setGState=function(T){(T=typeof T=="string"?mt[wt[T]]:eg(null,T)).equals(yr)||(Y("/"+T.id+" gs"),yr=T)};var eg=function(T,H){if(!T||!wt[T]){var le=!1;for(var he in mt)if(mt.hasOwnProperty(he)&&mt[he].equals(H)){le=!0;break}if(le)H=mt[he];else{var we="GS"+(Object.keys(mt).length+1).toString(10);mt[we]=H,H.id=we}return T&&(wt[T]=H.id),Gt.publish("addGState",H),H}};h.addGState=function(T,H){return eg(T,H),this},h.saveGraphicsState=function(){return Y("q"),xr.push({key:Be,size:je,color:uc}),this},h.restoreGraphicsState=function(){Y("Q");var T=xr.pop();return Be=T.key,je=T.size,uc=T.color,yr=null,this},h.setCurrentTransformationMatrix=function(T){return Y(T.toString()+" cm"),this},h.comment=function(T){return Y("#"+T),this};var ro=function(T,H){var le=T||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return le},set:function(Le){isNaN(Le)||(le=parseFloat(Le))}});var he=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return he},set:function(Le){isNaN(Le)||(he=parseFloat(Le))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(Le){we=Le.toString()}}),this},Jf=function(T,H,le,he){ro.call(this,T,H),this.type="rect";var we=le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function(De){isNaN(De)||(we=parseFloat(De))}});var Le=he||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Le},set:function(De){isNaN(De)||(Le=parseFloat(De))}}),this},Mu=function(){this.page=It,this.currentPage=G,this.pages=ie.slice(0),this.pagesContext=ht.slice(0),this.x=Fe,this.y=Pt,this.matrix=Ft,this.width=Qf(G),this.height=rg(G),this.outputDestination=fe,this.id="",this.objectNumber=-1};Mu.prototype.restore=function(){It=this.page,G=this.currentPage,ht=this.pagesContext,ie=this.pages,Fe=this.x,Pt=this.y,Ft=this.matrix,tg(G,this.width),no(G,this.height),fe=this.outputDestination};var Zf=function(T,H,le,he,we){cn.push(new Mu),It=G=0,ie=[],Fe=T,Pt=H,Ft=we,Hf([le,he])};for(var dc in h.beginFormObject=function(T,H,le,he,we){return Zf(T,H,le,he,we),this},h.endFormObject=function(T){return function(H){if(Jt[H])cn.pop().restore();else{var le=new Mu,he="Xo"+(Object.keys(Ke).length+1).toString(10);le.id=he,Jt[H]=he,Ke[he]=le,Gt.publish("addFormObject",le),cn.pop().restore()}}(T),this},h.doFormObject=function(T,H){var le=Ke[Jt[T]];return Y("q"),Y(H.toString()+" cm"),Y("/"+le.id+" Do"),Y("Q"),this},h.getFormObject=function(T){var H=Ke[Jt[T]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},h.save=function(T,H){return T=T||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(kc(Iu(Ss()),T),typeof kc.unload=="function"&&bt.setTimeout&&setTimeout(kc.unload,911),this):new Promise(function(le,he){try{var we=kc(Iu(Ss()),T);typeof kc.unload=="function"&&bt.setTimeout&&setTimeout(kc.unload,911),le(we)}catch(Le){he(Le.message)}})},ct.API)ct.API.hasOwnProperty(dc)&&(dc==="events"&&ct.API.events.length?function(T,H){var le,he,we;for(we=H.length-1;we!==-1;we--)le=H[we][0],he=H[we][1],T.subscribe.apply(T,[le].concat(typeof he=="function"?[he]:he))}(Gt,ct.API.events):h[dc]=ct.API[dc]);function Qf(T){return ht[T].mediaBox.topRightX-ht[T].mediaBox.bottomLeftX}function tg(T,H){ht[T].mediaBox.topRightX=H+ht[T].mediaBox.bottomLeftX}function rg(T){return ht[T].mediaBox.topRightY-ht[T].mediaBox.bottomLeftY}function no(T,H){ht[T].mediaBox.topRightY=H+ht[T].mediaBox.bottomLeftY}var ao=h.getPageWidth=function(T){return Qf(T=T||G)/Je},ng=h.setPageWidth=function(T,H){tg(T,H*Je)},fc=h.getPageHeight=function(T){return rg(T=T||G)/Je},ag=h.setPageHeight=function(T,H){no(T,H*Je)};return h.internal={pdfEscape:wi,getStyle:Jp,getFont:Xv,getFontSize:Ue,getCharSpace:a1,getTextColor:n1,getLineHeight:Zv,getLineHeightFactor:e1,getLineWidth:Jv,write:Te,getHorizontalCoordinate:Qs,getVerticalCoordinate:eo,getCoordinateString:t1,getVerticalCoordinateString:r1,collections:{},newObject:Ar,newAdditionalObject:ic,newObjectDeferred:Tn,newObjectDeferredBegin:Un,getFilters:Gi,putStream:bi,events:Gt,scaleFactor:Je,pageSize:{getWidth:function(){return ao(G)},setWidth:function(T){ng(G,T)},getHeight:function(){return fc(G)},setHeight:function(T){ag(G,T)}},encryptionOptions:d,encryption:gn,getEncryptor:function(T){return d!==null?gn.encryptor(T,0):function(H){return H}},output:Kp,getNumberOfPages:Wp,get pages(){return ie},out:Y,f2:A,f3:I,getPageInfo:Zs,getPageInfoByObjId:Xp,getCurrentPageInfo:Vv,getPDFVersion:y,Point:ro,Rectangle:Jf,Matrix:dt,hasHotfix:Ni},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return ao(G)},set:function(T){ng(G,T)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return fc(G)},set:function(T){ag(G,T)},enumerable:!0,configurable:!0}),(function(T){for(var H=0,le=be.length;H<le;H++){var he=qp.call(this,T[H][0],T[H][1],T[H][2],be[H][3],!0);f===!1&&(m[he]=!0);var we=T[H][0].split("-");zp({id:he,fontName:we[0],fontStyle:we[1]||""})}Gt.publish("addFonts",{fonts:At,dictionary:Ot})}).call(h,be),Be="F1",Hp(i,r),Gt.publish("initialized"),h}ed.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},ed.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ed.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},ed.prototype.processOwnerPassword=function(e,t){return nj(rj(t).substr(0,5),e)},ed.prototype.encryptor=function(e,t){var r=rj(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return nj(r,n)}},vy.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||sr(e)!==sr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},ct.API={events:[]},ct.version="4.0.0";var Wr=ct.API,jS=1,Pu=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Xu=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Et=function(e){return e.toFixed(2)},xl=function(e){return e.toFixed(5)};Wr.__acroform__={};var Ka=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Q6=function(e){return e*jS},Ls=function(e){var t=new b7,r=tt.internal.getHeight(e)||0,n=tt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Et(n)),Number(Et(r))],t},_ye=Wr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},Pye=Wr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},Tye=Wr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},rn=Wr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Tye(e,t-1)},nn=Wr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return _ye(e,t-1)},an=Wr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Pye(e,t-1)},Cye=Wr.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],s=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(i)||0,c.lowerLeft_Y=n(s+l)||0,c.upperRight_X=r(i+o)||0,c.upperRight_Y=n(s)||0,[Number(Et(c.lowerLeft_X)),Number(Et(c.lowerLeft_Y)),Number(Et(c.upperRight_X)),Number(Et(c.upperRight_Y))]},kye=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=aj(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Et(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Ls(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},aj=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(A){return A.split(`
`)}):i.map(function(A){return[A]});var s=r,o=tt.internal.getHeight(e)||0;o=o<0?-o:o;var l=tt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(A,I,$){if(A+1<i.length){var _=I+" "+i[A+1][0];return m0(_,e,$).width<=l-4}return!1};s++;e:for(;s>0;){t="",s--;var u,d,f=m0("3",e,s).height,m=e.multiline?o-s:(o-f)/2,h=m+=2,p=0,y=0,v=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+m0(t,e,s=12).width+", FieldWidth:"+l+`
`;break}for(var x="",b=0,N=0;N<i.length;N++)if(i.hasOwnProperty(N)){var w=!1;if(i[N].length!==1&&v!==i[N].length-1){if((f+2)*(b+2)+2>o)continue e;x+=i[N][v],w=!0,y=N,N--}else{x=(x+=i[N][v]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var S=parseInt(N),E=c(S,x,s),C=N>=i.length-1;if(E&&!C){x+=" ",v=0;continue}if(E||C){if(C)y=S;else if(e.multiline&&(f+2)*(b+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(b+2)+2>o)continue e;y=S}}for(var k="",P=p;P<=y;P++){var D=i[P];if(e.multiline){if(P===y){k+=D[v]+" ",v=(v+1)%D.length;continue}if(P===p){k+=D[D.length-1]+" ";continue}}k+=D[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,d=m0(k,e,s).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}t+=Et(u)+" "+Et(h)+` Td
`,t+="("+Pu(k)+`) Tj
`,t+=-Et(u)+` 0 Td
`,h=-(s+2),d=0,p=w?y:y+1,b++,x=""}break}return n.text=t,n.fontSize=s,n},m0=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},Oye={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Iye=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},Lye=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(vs.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Oye)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");jS=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new w7,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&Iye(s,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=Cye(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=tt.createDefaultAppearanceStream(l),sr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=kye(l);c.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var f="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var h=l.appearanceStreamContent[m];if(f+="/"+m+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var p=h[o];typeof p=="function"&&(p=p.call(i,l)),f+="/"+o+" "+p+" ",i.internal.acroformPlugin.xForms.indexOf(p)>=0||i.internal.acroformPlugin.xForms.push(p)}}else typeof(p=h)=="function"&&(p=p.call(i,l)),f+="/"+o+" "+p,i.internal.acroformPlugin.xForms.indexOf(p)>=0||i.internal.acroformPlugin.xForms.push(p);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}s&&function(y,v){for(var x in y)if(y.hasOwnProperty(x)){var b=x,N=y[x];v.internal.newObjectDeferredBegin(N.objId,!0),sr(N)==="object"&&typeof N.putStream=="function"&&N.putStream(),delete y[b]}}(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},v7=Wr.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),sr(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+Pu(n(e[s].toString()))+")"):i+=e[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Yb=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Pu(n(e))+")"},zs=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};zs.prototype.toString=function(){return this.objId+" 0 R"},zs.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},zs.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:v7(i,this.objId,this.scope)}):i instanceof zs?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var b7=function(){zs.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Ka(b7,zs);var w7=function(){zs.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Pu(r(e))+")"}},set:function(r){e=r}})};Ka(w7,zs);var vs=function e(){zs.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!rn(t,3)},set:function(x){x?this.F=nn(t,3):this.F=an(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof by)return;s="FieldObject"+e.FieldNum++}var x=function(b){return b};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+Pu(x(s))+")"},set:function(x){s=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(x){s=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/jS:u},set:function(x){u=x}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(x){d=x}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof by||this instanceof Qc))return Yb(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=x}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof On==0?Yb(m,this.objId,this.scope):m},set:function(x){x=x.toString(),m=this instanceof On==0?x.substr(0,1)==="("?Xu(x.substr(1,x.length-2)):Xu(x):x}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof On==1?Xu(m.substr(1,m.length-1)):m},set:function(x){x=x.toString(),m=this instanceof On==1?"/"+x:x}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof On==0?Yb(h,this.objId,this.scope):h},set:function(x){x=x.toString(),h=this instanceof On==0?x.substr(0,1)==="("?Xu(x.substr(1,x.length-2)):Xu(x):x}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof On==1?Xu(h.substr(1,h.length-1)):h},set:function(x){x=x.toString(),h=this instanceof On==1?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(x){x=!!x,y=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(x){p=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,1)},set:function(x){x?this.Ff=nn(this.Ff,1):this.Ff=an(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,2)},set:function(x){x?this.Ff=nn(this.Ff,2):this.Ff=an(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,3)},set:function(x){x?this.Ff=nn(this.Ff,3):this.Ff=an(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');v=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(v){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};Ka(vs,zs);var kd=function(){vs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return v7(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,o,l){l||(l=1);for(var c,u=[];c=o.exec(s);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,18)},set:function(r){r?this.Ff=nn(this.Ff,18):this.Ff=an(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=nn(this.Ff,19):this.Ff=an(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,20)},set:function(r){r?(this.Ff=nn(this.Ff,20),t.sort()):this.Ff=an(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,22)},set:function(r){r?this.Ff=nn(this.Ff,22):this.Ff=an(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,23)},set:function(r){r?this.Ff=nn(this.Ff,23):this.Ff=an(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,27)},set:function(r){r?this.Ff=nn(this.Ff,27):this.Ff=an(this.Ff,27)}}),this.hasAppearanceStream=!1};Ka(kd,vs);var Od=function(){kd.call(this),this.fontName="helvetica",this.combo=!1};Ka(Od,kd);var Id=function(){Od.call(this),this.combo=!0};Ka(Id,Od);var $0=function(){Id.call(this),this.edit=!0};Ka($0,Id);var On=function(){vs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,15)},set:function(r){r?this.Ff=nn(this.Ff,15):this.Ff=an(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,16)},set:function(r){r?this.Ff=nn(this.Ff,16):this.Ff=an(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,17)},set:function(r){r?this.Ff=nn(this.Ff,17):this.Ff=an(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,26)},set:function(r){r?this.Ff=nn(this.Ff,26):this.Ff=an(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+Pu(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){sr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Ka(On,vs);var F0=function(){On.call(this),this.pushButton=!0};Ka(F0,On);var Ld=function(){On.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ka(Ld,On);var by=function(){var e,t;vs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),n)o.push("/"+s+" ("+Pu(i(n[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){sr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=tt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ka(by,vs),Ld.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Ld.prototype.createOption=function(e){var t=new by;return t.Parent=this,t.optionName=e,this.Kids.push(t),Rye.call(this.scope,t),t};var B0=function(){On.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=tt.CheckBox.createAppearanceStream()};Ka(B0,On);var Qc=function(){vs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,13)},set:function(t){t?this.Ff=nn(this.Ff,13):this.Ff=an(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,21)},set:function(t){t?this.Ff=nn(this.Ff,21):this.Ff=an(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,23)},set:function(t){t?this.Ff=nn(this.Ff,23):this.Ff=an(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,24)},set:function(t){t?this.Ff=nn(this.Ff,24):this.Ff=an(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,25)},set:function(t){t?this.Ff=nn(this.Ff,25):this.Ff=an(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,26)},set:function(t){t?this.Ff=nn(this.Ff,26):this.Ff=an(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ka(Qc,vs);var U0=function(){Qc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,14)},set:function(e){e?this.Ff=nn(this.Ff,14):this.Ff=an(this.Ff,14)}}),this.password=!0};Ka(U0,Qc);var tt={CheckBox:{createAppearanceStream:function(){return{N:{On:tt.CheckBox.YesNormal},D:{On:tt.CheckBox.YesPushDown,Off:tt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Ls(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=aj(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Et(tt.internal.getWidth(e))+" "+Et(tt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Et(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Ls(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],s=tt.internal.getHeight(e),o=tt.internal.getWidth(e),l=aj(e,e.caption);return i.push("1 g"),i.push("0 0 "+Et(o)+" "+Et(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Et(o-1)+" "+Et(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Et(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Ls(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Et(tt.internal.getWidth(e))+" "+Et(tt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:tt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=tt.RadioButton.Circle.YesNormal,t.D[e]=tt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Ls(e);t.scope=e.scope;var r=[],n=tt.internal.getWidth(e)<=tt.internal.getHeight(e)?tt.internal.getWidth(e)/4:tt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=tt.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+xl(tt.internal.getWidth(e)/2)+" "+xl(tt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Ls(e);t.scope=e.scope;var r=[],n=tt.internal.getWidth(e)<=tt.internal.getHeight(e)?tt.internal.getWidth(e)/4:tt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*tt.internal.Bezier_C).toFixed(5)),o=Number((n*tt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+xl(tt.internal.getWidth(e)/2)+" "+xl(tt.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+xl(tt.internal.getWidth(e)/2)+" "+xl(tt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Ls(e);t.scope=e.scope;var r=[],n=tt.internal.getWidth(e)<=tt.internal.getHeight(e)?tt.internal.getWidth(e)/4:tt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*tt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+xl(tt.internal.getWidth(e)/2)+" "+xl(tt.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:tt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=tt.RadioButton.Cross.YesNormal,t.D[e]=tt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Ls(e);t.scope=e.scope;var r=[],n=tt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Et(tt.internal.getWidth(e)-2)+" "+Et(tt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Et(n.x1.x)+" "+Et(n.x1.y)+" m"),r.push(Et(n.x2.x)+" "+Et(n.x2.y)+" l"),r.push(Et(n.x4.x)+" "+Et(n.x4.y)+" m"),r.push(Et(n.x3.x)+" "+Et(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Ls(e);t.scope=e.scope;var r=tt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Et(tt.internal.getWidth(e))+" "+Et(tt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Et(tt.internal.getWidth(e)-2)+" "+Et(tt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Et(r.x1.x)+" "+Et(r.x1.y)+" m"),n.push(Et(r.x2.x)+" "+Et(r.x2.y)+" l"),n.push(Et(r.x4.x)+" "+Et(r.x4.y)+" m"),n.push(Et(r.x3.x)+" "+Et(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Ls(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Et(tt.internal.getWidth(e))+" "+Et(tt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};tt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=tt.internal.getWidth(e),r=tt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},tt.internal.getWidth=function(e){var t=0;return sr(e)==="object"&&(t=Q6(e.Rect[2])),t},tt.internal.getHeight=function(e){var t=0;return sr(e)==="object"&&(t=Q6(e.Rect[3])),t};var Rye=Wr.addField=function(e){if(Lye(this,e),!(e instanceof vs))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Wr.AcroFormChoiceField=kd,Wr.AcroFormListBox=Od,Wr.AcroFormComboBox=Id,Wr.AcroFormEditBox=$0,Wr.AcroFormButton=On,Wr.AcroFormPushButton=F0,Wr.AcroFormRadioButton=Ld,Wr.AcroFormCheckBox=B0,Wr.AcroFormTextField=Qc,Wr.AcroFormPasswordField=U0,Wr.AcroFormAppearance=tt,Wr.AcroForm={ChoiceField:kd,ListBox:Od,ComboBox:Id,EditBox:$0,Button:On,PushButton:F0,RadioButton:Ld,CheckBox:B0,TextField:Qc,PasswordField:U0,Appearance:tt},ct.AcroForm={ChoiceField:kd,ListBox:Od,ComboBox:Id,EditBox:$0,Button:On,PushButton:F0,RadioButton:Ld,CheckBox:B0,TextField:Qc,PasswordField:U0,Appearance:tt};ct.AcroForm;function N7(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(A,I){var $,_,M,z,Z,R=r;if((I=I||r)==="RGBA"||A.data!==void 0&&A.data instanceof Uint8ClampedArray&&"height"in A&&"width"in A)return"RGBA";if(E(A))for(Z in n)for(M=n[Z],$=0;$<M.length;$+=1){for(z=!0,_=0;_<M[$].length;_+=1)if(M[$][_]!==void 0&&M[$][_]!==A[_]){z=!1;break}if(z===!0){R=Z;break}}else for(Z in n)for(M=n[Z],$=0;$<M.length;$+=1){for(z=!0,_=0;_<M[$].length;_+=1)if(M[$][_]!==void 0&&M[$][_]!==A.charCodeAt(_)){z=!1;break}if(z===!0){R=Z;break}}return R===r&&I!==r&&(R=I),R},s=function A(I){for(var $=this.internal.write,_=this.internal.putStream,M=(0,this.internal.getFilters)();M.indexOf("FlateEncode")!==-1;)M.splice(M.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var z=[];if(z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Image"}),z.push({key:"Width",value:I.width}),z.push({key:"Height",value:I.height}),I.colorSpace===x.INDEXED?z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(z.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===x.DEVICE_CMYK&&z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),z.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&z.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var Z="",R=0,U=I.transparency.length;R<U;R++)Z+=I.transparency[R]+" "+I.transparency[R]+" ";z.push({key:"Mask",value:"["+Z+"]"})}I.sMask!==void 0&&z.push({key:"SMask",value:I.objectId+1+" 0 R"});var re=I.filter!==void 0?["/"+I.filter]:void 0;if(_({data:I.data,additionalKeyValues:z,alreadyAppliedFilters:re,objectId:I.objectId}),$("endobj"),"sMask"in I&&I.sMask!==void 0){var de,B=(de=I.sMaskBitsPerComponent)!==null&&de!==void 0?de:I.bitsPerComponent,G={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:B,data:I.sMask};"filter"in I&&(G.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(B," /Columns ").concat(I.width),G.filter=I.filter),A.call(this,G)}if(I.colorSpace===x.INDEXED){var te=this.internal.newObject();_({data:k(new Uint8Array(I.palette)),objectId:te}),$("endobj")}},o=function(){var A=this.internal.collections[t+"images"];for(var I in A)s.call(this,A[I])},l=function(){var A,I=this.internal.collections[t+"images"],$=this.internal.write;for(var _ in I)$("/I"+(A=I[_]).index,A.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var A=this.internal.collections[t+"images"];return c.call(this),A},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(A){return typeof e["process"+A.toUpperCase()]=="function"},m=function(A){return sr(A)==="object"&&A.nodeType===1},h=function(A,I){if(A.nodeName==="IMG"&&A.hasAttribute("src")){var $=""+A.getAttribute("src");if($.indexOf("data:image/")===0)return D0(unescape($).split("base64,").pop());var _=e.loadFile($,!0);if(_!==void 0)return _}if(A.nodeName==="CANVAS"){if(A.width===0||A.height===0)throw new Error("Given canvas must have data. Canvas width: "+A.width+", height: "+A.height);var M;switch(I){case"PNG":M="image/png";break;case"WEBP":M="image/webp";break;default:M="image/jpeg"}return D0(A.toDataURL(M,1).split("base64,").pop())}},p=function(A){var I=this.internal.collections[t+"images"];if(I){for(var $ in I)if(A===I[$].alias)return I[$]}},y=function(A,I,$){return A||I||(A=-96,I=-96),A<0&&(A=-1*$.width*72/A/this.internal.scaleFactor),I<0&&(I=-1*$.height*72/I/this.internal.scaleFactor),A===0&&(A=I*$.width/$.height),I===0&&(I=A*$.height/$.width),[A,I]},v=function(A,I,$,_,M,z){var Z=y.call(this,$,_,M),R=this.internal.getCoordinateString,U=this.internal.getVerticalCoordinateString,re=u.call(this);if($=Z[0],_=Z[1],re[M.index]=M,z){z*=Math.PI/180;var de=Math.cos(z),B=Math.sin(z),G=function(ue){return ue.toFixed(4)},te=[G(de),G(B),G(-1*B),G(de),0,0,"cm"]}this.internal.write("q"),z?(this.internal.write([1,"0","0",1,R(A),U(I+_),"cm"].join(" ")),this.internal.write(te.join(" ")),this.internal.write([R($),"0","0",R(_),"0","0","cm"].join(" "))):this.internal.write([R($),"0","0",R(_),R(A),U(I+_),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+M.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},N=e.__addimage__.sHashCode=function(A){var I,$,_=0;if(typeof A=="string")for($=A.length,I=0;I<$;I++)_=(_<<5)-_+A.charCodeAt(I),_|=0;else if(E(A))for($=A.byteLength/2,I=0;I<$;I++)_=(_<<5)-_+A[I],_|=0;return _},w=e.__addimage__.validateStringAsBase64=function(A){(A=A||"").toString().trim();var I=!0;return A.length===0&&(I=!1),A.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(A.substr(0,A.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(A.substr(-2))===!1&&(I=!1),I},S=e.__addimage__.extractImageFromDataUrl=function(A){if(A==null||!(A=A.trim()).startsWith("data:"))return null;var I=A.indexOf(",");return I<0?null:A.substring(0,I).trim().endsWith("base64")?A.substring(I+1):null};e.__addimage__.isArrayBuffer=function(A){return A instanceof ArrayBuffer};var E=e.__addimage__.isArrayBufferView=function(A){return A instanceof Int8Array||A instanceof Uint8Array||A instanceof Uint8ClampedArray||A instanceof Int16Array||A instanceof Uint16Array||A instanceof Int32Array||A instanceof Uint32Array||A instanceof Float32Array||A instanceof Float64Array},C=e.__addimage__.binaryStringToUint8Array=function(A){for(var I=A.length,$=new Uint8Array(I),_=0;_<I;_++)$[_]=A.charCodeAt(_);return $},k=e.__addimage__.arrayBufferToBinaryString=function(A){for(var I="",$=E(A)?A:new Uint8Array(A),_=0;_<$.length;_+=8192)I+=String.fromCharCode.apply(null,$.subarray(_,_+8192));return I};e.addImage=function(){var A,I,$,_,M,z,Z,R,U;if(typeof arguments[1]=="number"?(I=r,$=arguments[1],_=arguments[2],M=arguments[3],z=arguments[4],Z=arguments[5],R=arguments[6],U=arguments[7]):(I=arguments[1],$=arguments[2],_=arguments[3],M=arguments[4],z=arguments[5],Z=arguments[6],R=arguments[7],U=arguments[8]),sr(A=arguments[0])==="object"&&!m(A)&&"imageData"in A){var re=A;A=re.imageData,I=re.format||I||r,$=re.x||$||0,_=re.y||_||0,M=re.w||re.width||M,z=re.h||re.height||z,Z=re.alias||Z,R=re.compression||R,U=re.rotation||re.angle||U}var de=this.internal.getFilters();if(R===void 0&&de.indexOf("FlateEncode")!==-1&&(R="SLOW"),isNaN($)||isNaN(_))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var B=P.call(this,A,I,Z,R);return v.call(this,$,_,M,z,B,U),this};var P=function(A,I,$,_){var M,z,Z;if(typeof A=="string"&&i(A)===r){A=unescape(A);var R=D(A,!1);(R!==""||(R=e.loadFile(A,!0))!==void 0)&&(A=R)}if(m(A)&&(A=h(A,I)),I=i(A,I),!f(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((Z=$)==null||Z.length===0)&&($=function(U){return typeof U=="string"||E(U)?N(U):E(U.data)?N(U.data):null}(A)),(M=p.call(this,$))||(A instanceof Uint8Array||I==="RGBA"||(z=A,A=C(A)),M=this["process"+I.toUpperCase()](A,d.call(this),$,function(U){return U&&typeof U=="string"&&(U=U.toUpperCase()),U in e.image_compression?U:b.NONE}(_),z)),!M)throw new Error("An unknown error occurred whilst processing the image.");return M},D=e.__addimage__.convertBase64ToBinaryString=function(A,I){I=typeof I!="boolean"||I;var $,_="";if(typeof A=="string"){var M;$=(M=S(A))!==null&&M!==void 0?M:A;try{_=D0($)}catch(z){if(I)throw w($)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return _};e.getImageProperties=function(A){var I,$,_="";if(m(A)&&(A=h(A)),typeof A=="string"&&i(A)===r&&((_=D(A,!1))===""&&(_=e.loadFile(A)||""),A=_),$=i(A),!f($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(A instanceof Uint8Array||(A=C(A)),!(I=this["process"+$.toUpperCase()](A)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=$,I}})(ct.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};ct.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,s,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){n=u[m];var h=this.internal.pdfEscape,p=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(y.objId),b=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+h(x(n.contents))+")",s+=" /Popup "+v.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+h(x(b))+") >>",y.content=s;var N=y.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+N,n.open&&(s+=" /Open true"),s+=" >>",v.content=s,this.internal.write(y.objId,"0 R",v.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var w=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(p(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+w+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var S=this.annotations._nameMap[n.options.name];n.options.pageNumber=S.page,n.options.top=S.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(p(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var E=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+E+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,s,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+i),h:u(n+s)},options:o,type:"link"})},e.textWithLink=function(r,n,i,s){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var d=this.splitTextToSize(r,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(r,n,i,s),i+=.2*u,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,i-u,l,o,s),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(ct.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(y){return t[y.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},l=e.__arabicParser__.isArabicEndLetter=function(y){return o(y)&&s(y)&&t[y.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(y){return o(y)&&i.indexOf(y.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return o(y)&&s(y)&&t[y.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(y){return o(y)&&s(y)&&t[y.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(y){return o(y)&&s(y)&&t[y.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(y){return o(y)&&s(y)&&t[y.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(y){var v=0,x=r,b="",N=0;for(v=0;v<y.length;v+=1)x[y.charCodeAt(v)]!==void 0?(N++,typeof(x=x[y.charCodeAt(v)])=="number"&&(b+=String.fromCharCode(x),x=r,N=0),v===y.length-1&&(x=r,b+=y.charAt(v-(N-1)),v-=N-1,N=0)):(x=r,b+=y.charAt(v-N),v-=N,N=0);return b};e.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&n[y.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(y,v,x){return o(y)?s(y)===!1?-1:!u(y)||!o(v)&&!o(x)||!o(x)&&l(v)||l(y)&&!o(v)||l(y)&&c(v)||l(y)&&l(v)?0:d(y)&&o(v)&&!l(v)&&o(x)&&u(x)?3:l(y)||!o(x)?1:2:-1},h=function(y){var v=0,x=0,b=0,N="",w="",S="",E=(y=y||"").split("\\s+"),C=[];for(v=0;v<E.length;v+=1){for(C.push(""),x=0;x<E[v].length;x+=1)N=E[v][x],w=E[v][x-1],S=E[v][x+1],o(N)?(b=m(N,w,S),C[v]+=b!==-1?String.fromCharCode(t[N.charCodeAt(0)][b]):N):C[v]+=N;C[v]=f(C[v])}return C.join(" ")},p=e.__arabicParser__.processArabic=e.processArabic=function(){var y,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(v)){var b=0;for(x=[],b=0;b<v.length;b+=1)Array.isArray(v[b])?x.push([h(v[b][0]),v[b][1],v[b][2]]):x.push([h(v[b])]);y=x}else y=h(v);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};e.events.push(["preProcessText",p])}(ct.API),ct.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ct.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(y){m=y}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(y){p=y}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,h=0,p=0,y=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=u.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(N,w){return N.concat(v.splitTextToSize(w,x))},[])):c=Array.isArray(c)?c:[c];for(var b=0;b<c.length;b++)h<(y=this.getStringUnitWidth(c[b],{font:f})*d)&&(h=y);return h!==0&&(p=c.length),{w:h/=m,h:Math.max((p*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,h&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,f,m){if(n.call(this),!d)throw new Error("No data for PDF table.");var h,p,y,v,x=[],b=[],N=[],w={},S={},E=[],C=[],k=(m=m||{}).autoSize||!1,P=m.printHeaders!==!1,D=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,A=m.margins||Object.assign({width:this.getPageWidth()},t),I=typeof m.padding=="number"?m.padding:3,$=m.headerBackgroundColor||"#c8c8c8",_=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=A,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=$,this.internal.__cell__.headerTextColor=_,this.setFontSize(D),f==null)b=x=Object.keys(d[0]),N=x.map(function(){return"left"});else if(Array.isArray(f)&&sr(f[0])==="object")for(x=f.map(function(re){return re.name}),b=f.map(function(re){return re.prompt||re.name||""}),N=f.map(function(re){return re.align||"left"}),h=0;h<f.length;h+=1)S[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(b=x=f,N=x.map(function(){return"left"}));if(k||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<x.length;h+=1){for(w[v=x[h]]=d.map(function(re){return re[v]}),this.setFont(void 0,"bold"),E.push(this.getTextDimensions(b[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=w[v],this.setFont(void 0,"normal"),y=0;y<p.length;y+=1)E.push(this.getTextDimensions(p[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);S[v]=Math.max.apply(null,E)+I+I,E=[]}if(P){var M={};for(h=0;h<x.length;h+=1)M[x[h]]={},M[x[h]].text=b[h],M[x[h]].align=N[h];var z=l.call(this,M,S);C=x.map(function(re){return new s(c,u,S[re],z,M[re].text,void 0,M[re].align)}),this.setTableHeaderRow(C),this.printHeaderRow(1,!1)}var Z=f.reduce(function(re,de){return re[de.name]=de.align,re},{});for(h=0;h<d.length;h+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:h,data:d[h]},this);var R=l.call(this,d[h],S);for(y=0;y<x.length;y+=1){var U=d[h][x[y]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:h,col:y,data:U},this),o.call(this,new s(c,u,S[x[y]],R,U,h+2,Z[x[y]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(h){var p=c[h];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,u[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/m+d+d},this).reduce(function(h,p){return Math.max(h,p)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=c;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(p)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}}(ct.API);var j7={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},S7=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ij=N7(S7),A7=[100,200,300,400,500,600,700,800,900],Mye=N7(A7);function Kb(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return j7[s=s||"normal"]?s:"normal"}(e.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(e.weight),i=function(s){return typeof ij[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function eT(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var Dye={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},tT={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function rT(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function nT(e){return e.trimLeft()}function $ye(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Fye(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var p0,aT,iT,Ju,g0,sT,oT,lT,Xb=["times"];function cT(e,t,r,n,i){var s=4,o=dT;switch(i){case ct.API.image_compression.FAST:s=1,o=uT;break;case ct.API.image_compression.MEDIUM:s=6,o=fT;break;case ct.API.image_compression.SLOW:s=9,o=hT}e=function(c,u,d,f){for(var m,h=c.length/u,p=new Uint8Array(c.length+h),y=[Bye,uT,dT,fT,hT],v=0;v<h;v+=1){var x=v*u,b=c.subarray(x,x+u);if(f)p.set(f(b,d,m),x+v);else{for(var N=y.length,w=[],S=0;S<N;S+=1)w[S]=y[S](b,d,m);var E=zye(w.concat());p.set(w[E],x+v)}m=b}return p}(e,t,Math.ceil(r*n/8),o);var l=ZN(e,{level:s});return ct.API.__addimage__.arrayBufferToBinaryString(l)}function Bye(e){var t=Array.apply([],e);return t.unshift(0),t}function uT(e,t){var r=e.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var s=e[i-t]||0;n[i+1]=e[i]-s+256&255}return n}function dT(e,t,r){var n=e.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var o=r&&r[s]||0;i[s+1]=e[s]-o+256&255}return i}function fT(e,t,r){var n=e.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var o=e[s-t]||0,l=r&&r[s]||0;i[s+1]=e[s]+256-(o+l>>>1)&255}return i}function hT(e,t,r){var n=e.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var o=Uye(e[s-t]||0,r&&r[s]||0,r&&r[s-t]||0);i[s+1]=e[s]-o+256&255}return i}function Uye(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),i=Math.abs(e-r),s=Math.abs(e+t-r-r);return n<=i&&n<=s?e:i<=s?t:r}function zye(e){var t=e.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function Jb(e,t,r){var n=t*r,i=Math.floor(n/8),s=16-(n-8*i+r),o=(1<<r)-1;return E7(e,i)>>s&o}function mT(e,t,r,n){var i=r*n,s=Math.floor(i/8),o=16-(i-8*s+n),l=(1<<n)-1,c=(t&l)<<o;(function(u,d,f){if(d+1<u.byteLength)u.setUint16(d,f,!1);else{var m=f>>8&255;u.setUint8(d,m)}})(e,s,E7(e,s)&~(l<<o)&65535|c)}function E7(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function qye(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,o=1<<1+(7&i);e[t++],e[t++];var l=null,c=null;s&&(l=t,c=o,t+=3*o);var u=!0,d=[],f=0,m=null,h=0,p=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,p=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var y=e[t++];f=e[t++]|e[t++]<<8,m=e[t++],1&y||(m=null),h=y>>2&7,t++;break;case 254:for(;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,w=e[t++],S=w>>6&1,E=1<<1+(7&w),C=l,k=c,P=!1;w>>7&&(P=!0,C=t,k=E,t+=3*E);var D=t;for(t++;;){var A;if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}d.push({x:v,y:x,width:b,height:N,has_local_palette:P,palette_offset:C,palette_size:k,data_offset:D,data_length:t-D,transparent_index:m,interlaced:!!S,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return p},this.frameInfo=function(I){if(I<0||I>=d.length)throw new Error("Frame index out of range.");return d[I]},this.decodeAndBlitFrameBGRA=function(I,$){var _=this.frameInfo(I),M=_.width*_.height,z=new Uint8Array(M);pT(e,_.data_offset,z,M);var Z=_.palette_offset,R=_.transparent_index;R===null&&(R=256);var U=_.width,re=r-U,de=U,B=4*(_.y*r+_.x),G=4*((_.y+_.height)*r+_.x),te=B,ue=4*re;_.interlaced===!0&&(ue+=4*r*7);for(var q=8,X=0,Q=z.length;X<Q;++X){var ne=z[X];if(de===0&&(de=U,(te+=ue)>=G&&(ue=4*re+4*r*(q-1),te=B+(U+re)*(q<<1),q>>=1)),ne===R)te+=4;else{var pe=e[Z+3*ne],ie=e[Z+3*ne+1],W=e[Z+3*ne+2];$[te++]=W,$[te++]=ie,$[te++]=pe,$[te++]=255}--de}},this.decodeAndBlitFrameRGBA=function(I,$){var _=this.frameInfo(I),M=_.width*_.height,z=new Uint8Array(M);pT(e,_.data_offset,z,M);var Z=_.palette_offset,R=_.transparent_index;R===null&&(R=256);var U=_.width,re=r-U,de=U,B=4*(_.y*r+_.x),G=4*((_.y+_.height)*r+_.x),te=B,ue=4*re;_.interlaced===!0&&(ue+=4*r*7);for(var q=8,X=0,Q=z.length;X<Q;++X){var ne=z[X];if(de===0&&(de=U,(te+=ue)>=G&&(ue=4*re+4*r*(q-1),te=B+(U+re)*(q<<1),q>>=1)),ne===R)te+=4;else{var pe=e[Z+3*ne],ie=e[Z+3*ne+1],W=e[Z+3*ne+2];$[te++]=pe,$[te++]=ie,$[te++]=W,$[te++]=255}--de}}}function pT(e,t,r,n){for(var i=e[t++],s=1<<i,o=s+1,l=o+1,c=i+1,u=(1<<c)-1,d=0,f=0,m=0,h=e[t++],p=new Int32Array(4096),y=null;;){for(;d<16&&h!==0;)f|=e[t++]<<d,d+=8,h===1?h=e[t++]:--h;if(d<c)break;var v=f&u;if(f>>=c,d-=c,v!==s){if(v===o)break;for(var x=v<l?v:y,b=0,N=x;N>s;)N=p[N]>>8,++b;var w=N;if(m+b+(x!==v?1:0)>n)return void pr.log("Warning, gif stream longer than expected.");r[m++]=w;var S=m+=b;for(x!==v&&(r[m++]=w),N=x;b--;)N=p[N],r[--S]=255&N,N>>=8;y!==null&&l<4096&&(p[l++]=y<<8|w,l>=u+1&&c<12&&(++c,u=u<<1|1)),y=v}else l=o+1,u=(1<<(c=i+1))-1,y=null}return m!==n&&pr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Zb(e){var t,r,n,i,s,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),m=new Array(65535),h=new Array(64),p=new Array(64),y=[],v=0,x=7,b=new Array(64),N=new Array(64),w=new Array(64),S=new Array(256),E=new Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],_=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],M=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function z(B,G){for(var te=0,ue=0,q=new Array,X=1;X<=16;X++){for(var Q=1;Q<=B[X];Q++)q[G[ue]]=[],q[G[ue]][0]=te,q[G[ue]][1]=X,ue++,te++;te*=2}return q}function Z(B){for(var G=B[0],te=B[1]-1;te>=0;)G&1<<te&&(v|=1<<x),te--,--x<0&&(v==255?(R(255),R(0)):R(v),x=7,v=0)}function R(B){y.push(B)}function U(B){R(B>>8&255),R(255&B)}function re(B,G,te,ue,q){for(var X,Q=q[0],ne=q[240],pe=function(je,Me){var Ue,Ge,We,_t,pt,vt,$t,ye,Be,Je,Fe=0;for(Be=0;Be<8;++Be){Ue=je[Fe],Ge=je[Fe+1],We=je[Fe+2],_t=je[Fe+3],pt=je[Fe+4],vt=je[Fe+5],$t=je[Fe+6];var Pt=Ue+(ye=je[Fe+7]),Ft=Ue-ye,At=Ge+$t,Ot=Ge-$t,xr=We+vt,ft=We-vt,ur=_t+pt,mt=_t-pt,wt=Pt+ur,yr=Pt-ur,It=At+xr,ht=At-xr;je[Fe]=wt+It,je[Fe+4]=wt-It;var Gt=.707106781*(ht+yr);je[Fe+2]=yr+Gt,je[Fe+6]=yr-Gt;var Se=.382683433*((wt=mt+ft)-(ht=Ot+Ft)),Ke=.5411961*wt+Se,Jt=1.306562965*ht+Se,cn=.707106781*(It=ft+Ot),dt=Ft+cn,Ia=Ft-cn;je[Fe+5]=Ia+Ke,je[Fe+3]=Ia-Ke,je[Fe+1]=dt+Jt,je[Fe+7]=dt-Jt,Fe+=8}for(Fe=0,Be=0;Be<8;++Be){Ue=je[Fe],Ge=je[Fe+8],We=je[Fe+16],_t=je[Fe+24],pt=je[Fe+32],vt=je[Fe+40],$t=je[Fe+48];var La=Ue+(ye=je[Fe+56]),pa=Ue-ye,ga=Ge+$t,Ar=Ge-$t,Tn=We+vt,Un=We-vt,ic=_t+pt,Qo=_t-pt,Vi=La+ic,ws=La-ic,Wi=ga+Tn,Gi=ga-Tn;je[Fe]=Vi+Wi,je[Fe+32]=Vi-Wi;var bi=.707106781*(Gi+ws);je[Fe+16]=ws+bi,je[Fe+48]=ws-bi;var sc=.382683433*((Vi=Qo+Un)-(Gi=Ar+pa)),Ns=.5411961*Vi+sc,oc=1.306562965*Gi+sc,Tu=.707106781*(Wi=Un+Ar),Cu=pa+Tu,ku=pa-Tu;je[Fe+40]=ku+Ns,je[Fe+24]=ku-Ns,je[Fe+8]=Cu+oc,je[Fe+56]=Cu-oc,Fe++}for(Be=0;Be<64;++Be)Je=je[Be]*Me[Be],h[Be]=Je>0?Je+.5|0:Je-.5|0;return h}(B,G),ie=0;ie<64;++ie)p[C[ie]]=pe[ie];var W=p[0]-te;te=p[0],W==0?Z(ue[0]):(Z(ue[m[X=32767+W]]),Z(f[X]));for(var fe=63;fe>0&&p[fe]==0;)fe--;if(fe==0)return Z(Q),te;for(var Ae,Y=1;Y<=fe;){for(var Te=Y;p[Y]==0&&Y<=fe;)++Y;var qe=Y-Te;if(qe>=16){Ae=qe>>4;for(var be=1;be<=Ae;++be)Z(ne);qe&=15}X=32767+p[Y],Z(q[(qe<<4)+m[X]]),Z(f[X]),Y++}return fe!=63&&Z(Q),te}function de(B){B=Math.min(Math.max(B,1),100),s!=B&&(function(G){for(var te=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ue=0;ue<64;ue++){var q=o((te[ue]*G+50)/100);q=Math.min(Math.max(q,1),255),l[C[ue]]=q}for(var X=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Q=0;Q<64;Q++){var ne=o((X[Q]*G+50)/100);ne=Math.min(Math.max(ne,1),255),c[C[Q]]=ne}for(var pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ie=0,W=0;W<8;W++)for(var fe=0;fe<8;fe++)u[ie]=1/(l[C[ie]]*pe[W]*pe[fe]*8),d[ie]=1/(c[C[ie]]*pe[W]*pe[fe]*8),ie++}(B<50?Math.floor(5e3/B):Math.floor(200-2*B)),s=B)}this.encode=function(B,G){G&&de(G),y=new Array,v=0,x=7,U(65496),U(65504),U(16),R(74),R(70),R(73),R(70),R(0),R(1),R(1),R(0),U(1),U(1),R(0),R(0),function(){U(65499),U(132),R(0);for(var Ge=0;Ge<64;Ge++)R(l[Ge]);R(1);for(var We=0;We<64;We++)R(c[We])}(),function(Ge,We){U(65472),U(17),R(8),U(We),U(Ge),R(3),R(1),R(17),R(0),R(2),R(17),R(1),R(3),R(17),R(1)}(B.width,B.height),function(){U(65476),U(418),R(0);for(var Ge=0;Ge<16;Ge++)R(k[Ge+1]);for(var We=0;We<=11;We++)R(P[We]);R(16);for(var _t=0;_t<16;_t++)R(D[_t+1]);for(var pt=0;pt<=161;pt++)R(A[pt]);R(1);for(var vt=0;vt<16;vt++)R(I[vt+1]);for(var $t=0;$t<=11;$t++)R($[$t]);R(17);for(var ye=0;ye<16;ye++)R(_[ye+1]);for(var Be=0;Be<=161;Be++)R(M[Be])}(),U(65498),U(12),R(3),R(1),R(0),R(2),R(17),R(3),R(17),R(0),R(63),R(0);var te=0,ue=0,q=0;v=0,x=7,this.encode.displayName="_encode_";for(var X,Q,ne,pe,ie,W,fe,Ae,Y,Te=B.data,qe=B.width,be=B.height,je=4*qe,Me=0;Me<be;){for(X=0;X<je;){for(ie=je*Me+X,fe=-1,Ae=0,Y=0;Y<64;Y++)W=ie+(Ae=Y>>3)*je+(fe=4*(7&Y)),Me+Ae>=be&&(W-=je*(Me+1+Ae-be)),X+fe>=je&&(W-=X+fe-je+4),Q=Te[W++],ne=Te[W++],pe=Te[W++],b[Y]=(E[Q]+E[ne+256|0]+E[pe+512|0]>>16)-128,N[Y]=(E[Q+768|0]+E[ne+1024|0]+E[pe+1280|0]>>16)-128,w[Y]=(E[Q+1280|0]+E[ne+1536|0]+E[pe+1792|0]>>16)-128;te=re(b,u,te,t,n),ue=re(N,d,ue,r,i),q=re(w,d,q,r,i),X+=32}Me+=8}if(x>=0){var Ue=[];Ue[1]=x+1,Ue[0]=(1<<x+1)-1,Z(Ue)}return U(65497),new Uint8Array(y)},e=e||50,function(){for(var B=String.fromCharCode,G=0;G<256;G++)S[G]=B(G)}(),t=z(k,P),r=z(I,$),n=z(D,A),i=z(_,M),function(){for(var B=1,G=2,te=1;te<=15;te++){for(var ue=B;ue<G;ue++)m[32767+ue]=te,f[32767+ue]=[],f[32767+ue][1]=te,f[32767+ue][0]=ue;for(var q=-(G-1);q<=-B;q++)m[32767+q]=te,f[32767+q]=[],f[32767+q][1]=te,f[32767+q][0]=G-1+q;B<<=1,G<<=1}}(),function(){for(var B=0;B<256;B++)E[B]=19595*B,E[B+256|0]=38470*B,E[B+512|0]=7471*B+32768,E[B+768|0]=-11059*B,E[B+1024|0]=-21709*B,E[B+1280|0]=32768*B+8421375,E[B+1536|0]=-27439*B,E[B+1792|0]=-5329*B}(),de(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ts(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function gT(e){function t(P){if(!P)throw Error("assert :P")}function r(P,D,A){for(var I=0;4>I;I++)if(P[D+I]!=A.charCodeAt(I))return!0;return!1}function n(P,D,A,I,$){for(var _=0;_<$;_++)P[D+_]=A[I+_]}function i(P,D,A,I){for(var $=0;$<I;$++)P[D+$]=A}function s(P){return new Int32Array(P)}function o(P,D){for(var A=[],I=0;I<P;I++)A.push(new D);return A}function l(P,D){var A=[];return function I($,_,M){for(var z=M[_],Z=0;Z<z&&($.push(M.length>_+1?[]:new D),!(M.length<_+1));Z++)I($[Z],_+1,M)}(A,0,P),A}var c=function(){var P=this;function D(g,j){for(var O=1<<j-1>>>0;g&O;)O>>>=1;return O?(g&O-1)+O:g}function A(g,j,O,F,V){t(!(F%O));do g[j+(F-=O)]=V;while(0<F)}function I(g,j,O,F,V){if(t(2328>=V),512>=V)var K=s(512);else if((K=s(V))==null)return 0;return function(J,ee,ae,se,ge,_e){var oe,ve,Ne=ee,ke=1<<ae,Ee=s(16),Ie=s(16);for(t(ge!=0),t(se!=null),t(J!=null),t(0<ae),ve=0;ve<ge;++ve){if(15<se[ve])return 0;++Ee[se[ve]]}if(Ee[0]==ge)return 0;for(Ie[1]=0,oe=1;15>oe;++oe){if(Ee[oe]>1<<oe)return 0;Ie[oe+1]=Ie[oe]+Ee[oe]}for(ve=0;ve<ge;++ve)oe=se[ve],0<se[ve]&&(_e[Ie[oe]++]=ve);if(Ie[15]==1)return(se=new $).g=0,se.value=_e[0],A(J,Ne,1,ke,se),ke;var Re,ze=-1,$e=ke-1,lt=0,et=1,Lt=1,nt=1<<ae;for(ve=0,oe=1,ge=2;oe<=ae;++oe,ge<<=1){if(et+=Lt<<=1,0>(Lt-=Ee[oe]))return 0;for(;0<Ee[oe];--Ee[oe])(se=new $).g=oe,se.value=_e[ve++],A(J,Ne+lt,ge,nt,se),lt=D(lt,oe)}for(oe=ae+1,ge=2;15>=oe;++oe,ge<<=1){if(et+=Lt<<=1,0>(Lt-=Ee[oe]))return 0;for(;0<Ee[oe];--Ee[oe]){if(se=new $,(lt&$e)!=ze){for(Ne+=nt,Re=1<<(ze=oe)-ae;15>ze&&!(0>=(Re-=Ee[ze]));)++ze,Re<<=1;ke+=nt=1<<(Re=ze-ae),J[ee+(ze=lt&$e)].g=Re+ae,J[ee+ze].value=Ne-ee-ze}se.g=oe-ae,se.value=_e[ve++],A(J,Ne+(lt>>ae),ge,nt,se),lt=D(lt,oe)}}return et!=2*Ie[15]-1?0:ke}(g,j,O,F,V,K)}function $(){this.value=this.g=0}function _(){this.value=this.g=0}function M(){this.G=o(5,$),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(yc,_)}function z(g,j,O,F){t(g!=null),t(j!=null),t(2147483648>F),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=j,g.pa=O,g.Jd=j,g.Yc=O+F,g.Zc=4<=F?O+F-4+1:O,Q(g)}function Z(g,j){for(var O=0;0<j--;)O|=pe(g,128)<<j;return O}function R(g,j){var O=Z(g,j);return ne(g)?-O:O}function U(g,j,O,F){var V,K=0;for(t(g!=null),t(j!=null),t(4294967288>F),g.Sb=F,g.Ra=0,g.u=0,g.h=0,4<F&&(F=4),V=0;V<F;++V)K+=j[O+V]<<8*V;g.Ra=K,g.bb=F,g.oa=j,g.pa=O}function re(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<nl-8>>>0,++g.bb,g.u-=8;ue(g)&&(g.h=1,g.u=0)}function de(g,j){if(t(0<=j),!g.h&&j<=Ja){var O=te(g)&Xa[j];return g.u+=j,re(g),O}return g.h=1,g.u=0}function B(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function te(g){return g.Ra>>>(g.u&nl-1)>>>0}function ue(g){return t(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>nl}function q(g,j){g.u=j,g.h=ue(g)}function X(g){g.u>=lo&&(t(g.u>=lo),re(g))}function Q(g){t(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(t(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function ne(g){return Z(g,1)}function pe(g,j){var O=g.Ca;0>g.b&&Q(g);var F=g.b,V=O*j>>>8,K=(g.I>>>F>V)+0;for(K?(O-=V,g.I-=V+1<<F>>>0):O=V+1,F=O,V=0;256<=F;)V+=8,F>>=8;return F=7^V+al[F],g.b-=F,g.Ca=(O<<F)-1,K}function ie(g,j,O){g[j+0]=O>>24&255,g[j+1]=O>>16&255,g[j+2]=O>>8&255,g[j+3]=255&O}function W(g,j){return g[j+0]|g[j+1]<<8}function fe(g,j){return W(g,j)|g[j+2]<<16}function Ae(g,j){return W(g,j)|W(g,j+2)<<16}function Y(g,j){var O=1<<j;return t(g!=null),t(0<j),g.X=s(O),g.X==null?0:(g.Mb=32-j,g.Xa=j,1)}function Te(g,j){t(g!=null),t(j!=null),t(g.Xa==j.Xa),n(j.X,0,g.X,0,1<<j.Xa)}function qe(){this.X=[],this.Xa=this.Mb=0}function be(g,j,O,F){t(O!=null),t(F!=null);var V=O[0],K=F[0];return V==0&&(V=(g*K+j/2)/j),K==0&&(K=(j*V+g/2)/g),0>=V||0>=K?0:(O[0]=V,F[0]=K,1)}function je(g,j){return g+(1<<j)-1>>>j}function Me(g,j){return((4278255360&g)+(4278255360&j)>>>0&4278255360)+((16711935&g)+(16711935&j)>>>0&16711935)>>>0}function Ue(g,j){P[j]=function(O,F,V,K,J,ee,ae){var se;for(se=0;se<J;++se){var ge=P[g](ee[ae+se-1],V,K+se);ee[ae+se]=Me(O[F+se],ge)}}}function Ge(){this.ud=this.hd=this.jd=0}function We(g,j){return((4278124286&(g^j))>>>1)+(g&j)>>>0}function _t(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function pt(g,j){return _t(g+(g-j+.5>>1))}function vt(g,j,O){return Math.abs(j-O)-Math.abs(g-O)}function $t(g,j,O,F,V,K,J){for(F=K[J-1],O=0;O<V;++O)K[J+O]=F=Me(g[j+O],F)}function ye(g,j,O,F,V){var K;for(K=0;K<O;++K){var J=g[j+K],ee=J>>8&255,ae=16711935&(ae=(ae=16711935&J)+((ee<<16)+ee));F[V+K]=(4278255360&J)+ae>>>0}}function Be(g,j){j.jd=255&g,j.hd=g>>8&255,j.ud=g>>16&255}function Je(g,j,O,F,V,K){var J;for(J=0;J<F;++J){var ee=j[O+J],ae=ee>>>8,se=ee,ge=255&(ge=(ge=ee>>>16)+((g.jd<<24>>24)*(ae<<24>>24)>>>5));se=255&(se=(se+=(g.hd<<24>>24)*(ae<<24>>24)>>>5)+((g.ud<<24>>24)*(ge<<24>>24)>>>5)),V[K+J]=(4278255360&ee)+(ge<<16)+se}}function Fe(g,j,O,F,V){P[j]=function(K,J,ee,ae,se,ge,_e,oe,ve){for(ae=_e;ae<oe;++ae)for(_e=0;_e<ve;++_e)se[ge++]=V(ee[F(K[J++])])},P[g]=function(K,J,ee,ae,se,ge,_e){var oe=8>>K.b,ve=K.Ea,Ne=K.K[0],ke=K.w;if(8>oe)for(K=(1<<K.b)-1,ke=(1<<oe)-1;J<ee;++J){var Ee,Ie=0;for(Ee=0;Ee<ve;++Ee)Ee&K||(Ie=F(ae[se++])),ge[_e++]=V(Ne[Ie&ke]),Ie>>=oe}else P["VP8LMapColor"+O](ae,se,Ne,ke,ge,_e,J,ee,ve)}}function Pt(g,j,O,F,V){for(O=j+O;j<O;){var K=g[j++];F[V++]=K>>16&255,F[V++]=K>>8&255,F[V++]=255&K}}function Ft(g,j,O,F,V){for(O=j+O;j<O;){var K=g[j++];F[V++]=K>>16&255,F[V++]=K>>8&255,F[V++]=255&K,F[V++]=K>>24&255}}function At(g,j,O,F,V){for(O=j+O;j<O;){var K=(J=g[j++])>>16&240|J>>12&15,J=240&J|J>>28&15;F[V++]=K,F[V++]=J}}function Ot(g,j,O,F,V){for(O=j+O;j<O;){var K=(J=g[j++])>>16&248|J>>13&7,J=J>>5&224|J>>3&31;F[V++]=K,F[V++]=J}}function xr(g,j,O,F,V){for(O=j+O;j<O;){var K=g[j++];F[V++]=255&K,F[V++]=K>>8&255,F[V++]=K>>16&255}}function ft(g,j,O,F,V,K){if(K==0)for(O=j+O;j<O;)ie(F,((K=g[j++])[0]>>24|K[1]>>8&65280|K[2]<<8&16711680|K[3]<<24)>>>0),V+=32;else n(F,V,g,j,O)}function ur(g,j){P[j][0]=P[g+"0"],P[j][1]=P[g+"1"],P[j][2]=P[g+"2"],P[j][3]=P[g+"3"],P[j][4]=P[g+"4"],P[j][5]=P[g+"5"],P[j][6]=P[g+"6"],P[j][7]=P[g+"7"],P[j][8]=P[g+"8"],P[j][9]=P[g+"9"],P[j][10]=P[g+"10"],P[j][11]=P[g+"11"],P[j][12]=P[g+"12"],P[j][13]=P[g+"13"],P[j][14]=P[g+"0"],P[j][15]=P[g+"0"]}function mt(g){return g==o1||g==l1||g==hg||g==c1}function wt(){this.eb=[],this.size=this.A=this.fb=0}function yr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function It(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new wt,this.f.kb=new yr,this.sd=null}function ht(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Gt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Se(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Ke(g,j){var O=g.T,F=j.ba.f.RGBA,V=F.eb,K=F.fb+g.ka*F.A,J=Ei[j.ba.S],ee=g.y,ae=g.O,se=g.f,ge=g.N,_e=g.ea,oe=g.W,ve=j.cc,Ne=j.dc,ke=j.Mc,Ee=j.Nc,Ie=g.ka,Re=g.ka+g.T,ze=g.U,$e=ze+1>>1;for(Ie==0?J(ee,ae,null,null,se,ge,_e,oe,se,ge,_e,oe,V,K,null,null,ze):(J(j.ec,j.fc,ee,ae,ve,Ne,ke,Ee,se,ge,_e,oe,V,K-F.A,V,K,ze),++O);Ie+2<Re;Ie+=2)ve=se,Ne=ge,ke=_e,Ee=oe,ge+=g.Rc,oe+=g.Rc,K+=2*F.A,J(ee,(ae+=2*g.fa)-g.fa,ee,ae,ve,Ne,ke,Ee,se,ge,_e,oe,V,K-F.A,V,K,ze);return ae+=g.fa,g.j+Re<g.o?(n(j.ec,j.fc,ee,ae,ze),n(j.cc,j.dc,se,ge,$e),n(j.Mc,j.Nc,_e,oe,$e),O--):1&Re||J(ee,ae,null,null,se,ge,_e,oe,se,ge,_e,oe,V,K+F.A,null,null,ze),O}function Jt(g,j,O){var F=g.F,V=[g.J];if(F!=null){var K=g.U,J=j.ba.S,ee=J==fg||J==hg;j=j.ba.f.RGBA;var ae=[0],se=g.ka;ae[0]=g.T,g.Kb&&(se==0?--ae[0]:(--se,V[0]-=g.width),g.j+g.ka+g.T==g.o&&(ae[0]=g.o-g.j-se));var ge=j.eb;se=j.fb+se*j.A,g=IS(F,V[0],g.width,K,ae,ge,se+(ee?0:3),j.A),t(O==ae),g&&mt(J)&&dh(ge,se,ee,K,ae,j.A)}return 0}function cn(g){var j=g.ma,O=j.ba.S,F=11>O,V=O==ug||O==dg||O==fg||O==s1||O==12||mt(O);if(j.memory=null,j.Ib=null,j.Jb=null,j.Nd=null,!nh(j.Oa,g,V?11:12))return 0;if(V&&mt(O)&&eh(),g.da)alert("todo:use_scaling");else{if(F){if(j.Ib=Se,g.Kb){if(O=g.U+1>>1,j.memory=s(g.U+2*O),j.memory==null)return 0;j.ec=j.memory,j.fc=0,j.cc=j.ec,j.dc=j.fc+g.U,j.Mc=j.cc,j.Nc=j.dc+O,j.Ib=Ke,eh()}}else alert("todo:EmitYUV");V&&(j.Jb=Jt,F&&Ki())}if(F&&!KS){for(g=0;256>g;++g)Z7[g]=89858*(g-128)+pg>>mg,tM[g]=-22014*(g-128)+pg,eM[g]=-45773*(g-128),Q7[g]=113618*(g-128)+pg>>mg;for(g=hh;g<f1;++g)j=76283*(g-16)+pg>>mg,rM[g-hh]=js(j,255),nM[g-hh]=js(j+8>>4,15);KS=1}return 1}function dt(g){var j=g.ma,O=g.U,F=g.T;return t(!(1&g.ka)),0>=O||0>=F?0:(O=j.Ib(g,j),j.Jb!=null&&j.Jb(g,j,O),j.Dc+=O,1)}function Ia(g){g.ma.memory=null}function La(g,j,O,F){return de(g,8)!=47?0:(j[0]=de(g,14)+1,O[0]=de(g,14)+1,F[0]=de(g,1),de(g,3)!=0?0:!g.h)}function pa(g,j){if(4>g)return g+1;var O=g-2>>1;return(2+(1&g)<<O)+de(j,O)+1}function ga(g,j){return 120<j?j-120:1<=(O=((O=$7[j-1])>>4)*g+(8-(15&O)))?O:1;var O}function Ar(g,j,O){var F=te(O),V=g[j+=255&F].g-8;return 0<V&&(q(O,O.u+8),F=te(O),j+=g[j].value,j+=F&(1<<V)-1),q(O,O.u+g[j].g),g[j].value}function Tn(g,j,O){return O.g+=g.g,O.value+=g.value<<j>>>0,t(8>=O.g),g.g}function Un(g,j,O){var F=g.xc;return t((j=F==0?0:g.vc[g.md*(O>>F)+(j>>F)])<g.Wb),g.Ya[j]}function ic(g,j,O,F){var V=g.ab,K=g.c*j,J=g.C;j=J+j;var ee=O,ae=F;for(F=g.Ta,O=g.Ua;0<V--;){var se=g.gc[V],ge=J,_e=j,oe=ee,ve=ae,Ne=(ae=F,ee=O,se.Ea);switch(t(ge<_e),t(_e<=se.nc),se.hc){case 2:Xr(oe,ve,(_e-ge)*Ne,ae,ee);break;case 0:var ke=ge,Ee=_e,Ie=ae,Re=ee,ze=(nt=se).Ea;ke==0&&(ih(oe,ve,null,null,1,Ie,Re),$t(oe,ve+1,0,0,ze-1,Ie,Re+1),ve+=ze,Re+=ze,++ke);for(var $e=1<<nt.b,lt=$e-1,et=je(ze,nt.b),Lt=nt.K,nt=nt.w+(ke>>nt.b)*et;ke<Ee;){var qt=Lt,vn=nt,Rt=1;for(Fu(oe,ve,Ie,Re-ze,1,Ie,Re);Rt<ze;){var at=(Rt&~lt)+$e;at>ze&&(at=ze),(0,oh[qt[vn++]>>8&15])(oe,ve+ +Rt,Ie,Re+Rt-ze,at-Rt,Ie,Re+Rt),Rt=at}ve+=ze,Re+=ze,++ke&lt||(nt+=et)}_e!=se.nc&&n(ae,ee-Ne,ae,ee+(_e-ge-1)*Ne,Ne);break;case 1:for(Ne=oe,Ee=ve,ze=(oe=se.Ea)-(Re=oe&~(Ie=(ve=1<<se.b)-1)),ke=je(oe,se.b),$e=se.K,se=se.w+(ge>>se.b)*ke;ge<_e;){for(lt=$e,et=se,Lt=new Ge,nt=Ee+Re,qt=Ee+oe;Ee<nt;)Be(lt[et++],Lt),lh(Lt,Ne,Ee,ve,ae,ee),Ee+=ve,ee+=ve;Ee<qt&&(Be(lt[et++],Lt),lh(Lt,Ne,Ee,ze,ae,ee),Ee+=ze,ee+=ze),++ge&Ie||(se+=ke)}break;case 3:if(oe==ae&&ve==ee&&0<se.b){for(Ee=ae,oe=Ne=ee+(_e-ge)*Ne-(Re=(_e-ge)*je(se.Ea,se.b)),ve=ae,Ie=ee,ke=[],Re=(ze=Re)-1;0<=Re;--Re)ke[Re]=ve[Ie+Re];for(Re=ze-1;0<=Re;--Re)Ee[oe+Re]=ke[Re];sg(se,ge,_e,ae,Ne,ae,ee)}else sg(se,ge,_e,oe,ve,ae,ee)}ee=F,ae=O}ae!=O&&n(F,O,ee,ae,K)}function Qo(g,j){var O=g.V,F=g.Ba+g.c*g.C,V=j-g.C;if(t(j<=g.l.o),t(16>=V),0<V){var K=g.l,J=g.Ta,ee=g.Ua,ae=K.width;if(ic(g,V,O,F),V=ee=[ee],t((O=g.C)<(F=j)),t(K.v<K.va),F>K.o&&(F=K.o),O<K.j){var se=K.j-O;O=K.j,V[0]+=se*ae}if(O>=F?O=0:(V[0]+=4*K.v,K.ka=O-K.j,K.U=K.va-K.v,K.T=F-O,O=1),O){if(ee=ee[0],11>(O=g.ca).S){var ge=O.f.RGBA,_e=(F=O.S,V=K.U,K=K.T,se=ge.eb,ge.A),oe=K;for(ge=ge.fb+g.Ma*ge.A;0<oe--;){var ve=J,Ne=ee,ke=V,Ee=se,Ie=ge;switch(F){case cg:ch(ve,Ne,ke,Ee,Ie);break;case ug:il(ve,Ne,ke,Ee,Ie);break;case o1:il(ve,Ne,ke,Ee,Ie),dh(Ee,Ie,0,ke,1,0);break;case BS:vc(ve,Ne,ke,Ee,Ie);break;case dg:ft(ve,Ne,ke,Ee,Ie,1);break;case l1:ft(ve,Ne,ke,Ee,Ie,1),dh(Ee,Ie,0,ke,1,0);break;case fg:ft(ve,Ne,ke,Ee,Ie,0);break;case hg:ft(ve,Ne,ke,Ee,Ie,0),dh(Ee,Ie,1,ke,1,0);break;case s1:sl(ve,Ne,ke,Ee,Ie);break;case c1:sl(ve,Ne,ke,Ee,Ie),OS(Ee,Ie,ke,1,0);break;case US:ol(ve,Ne,ke,Ee,Ie);break;default:t(0)}ee+=ae,ge+=_e}g.Ma+=K}else alert("todo:EmitRescaledRowsYUVA");t(g.Ma<=O.height)}}g.C=j,t(g.C<=g.i)}function Vi(g){var j;if(0<g.ua)return 0;for(j=0;j<g.Wb;++j){var O=g.Ya[j].G,F=g.Ya[j].H;if(0<O[1][F[1]+0].g||0<O[2][F[2]+0].g||0<O[3][F[3]+0].g)return 0}return 1}function ws(g,j,O,F,V,K){if(g.Z!=0){var J=g.qd,ee=g.rd;for(t(ul[g.Z]!=null);j<O;++j)ul[g.Z](J,ee,F,V,F,V,K),J=F,ee=V,V+=K;g.qd=J,g.rd=ee}}function Wi(g,j){var O=g.l.ma,F=O.Z==0||O.Z==1?g.l.j:g.C;if(F=g.C<F?F:g.C,t(j<=g.l.o),j>F){var V=g.l.width,K=O.ca,J=O.tb+V*F,ee=g.V,ae=g.Ba+g.c*F,se=g.gc;t(g.ab==1),t(se[0].hc==3),_s(se[0],F,j,ee,ae,K,J),ws(O,F,j,K,J,V)}g.C=g.Ma=j}function Gi(g,j,O,F,V,K,J){var ee=g.$/F,ae=g.$%F,se=g.m,ge=g.s,_e=O+g.$,oe=_e;V=O+F*V;var ve=O+F*K,Ne=280+ge.ua,ke=g.Pb?ee:16777216,Ee=0<ge.ua?ge.Wa:null,Ie=ge.wc,Re=_e<ve?Un(ge,ae,ee):null;t(g.C<K),t(ve<=V);var ze=!1;e:for(;;){for(;ze||_e<ve;){var $e=0;if(ee>=ke){var lt=_e-O;t((ke=g).Pb),ke.wd=ke.m,ke.xd=lt,0<ke.s.ua&&Te(ke.s.Wa,ke.s.vb),ke=ee+B7}if(ae&Ie||(Re=Un(ge,ae,ee)),t(Re!=null),Re.Qb&&(j[_e]=Re.qb,ze=!0),!ze)if(X(se),Re.jc){$e=se,lt=j;var et=_e,Lt=Re.pd[te($e)&yc-1];t(Re.jc),256>Lt.g?(q($e,$e.u+Lt.g),lt[et]=Lt.value,$e=0):(q($e,$e.u+Lt.g-256),t(256<=Lt.value),$e=Lt.value),$e==0&&(ze=!0)}else $e=Ar(Re.G[0],Re.H[0],se);if(se.h)break;if(ze||256>$e){if(!ze)if(Re.nd)j[_e]=(Re.qb|$e<<8)>>>0;else{if(X(se),ze=Ar(Re.G[1],Re.H[1],se),X(se),lt=Ar(Re.G[2],Re.H[2],se),et=Ar(Re.G[3],Re.H[3],se),se.h)break;j[_e]=(et<<24|ze<<16|$e<<8|lt)>>>0}if(ze=!1,++_e,++ae>=F&&(ae=0,++ee,J!=null&&ee<=K&&!(ee%16)&&J(g,ee),Ee!=null))for(;oe<_e;)$e=j[oe++],Ee.X[(506832829*$e&4294967295)>>>Ee.Mb]=$e}else if(280>$e){if($e=pa($e-256,se),lt=Ar(Re.G[4],Re.H[4],se),X(se),lt=ga(F,lt=pa(lt,se)),se.h)break;if(_e-O<lt||V-_e<$e)break e;for(et=0;et<$e;++et)j[_e+et]=j[_e+et-lt];for(_e+=$e,ae+=$e;ae>=F;)ae-=F,++ee,J!=null&&ee<=K&&!(ee%16)&&J(g,ee);if(t(_e<=V),ae&Ie&&(Re=Un(ge,ae,ee)),Ee!=null)for(;oe<_e;)$e=j[oe++],Ee.X[(506832829*$e&4294967295)>>>Ee.Mb]=$e}else{if(!($e<Ne))break e;for(ze=$e-280,t(Ee!=null);oe<_e;)$e=j[oe++],Ee.X[(506832829*$e&4294967295)>>>Ee.Mb]=$e;$e=_e,t(!(ze>>>(lt=Ee).Xa)),j[$e]=lt.X[ze],ze=!0}ze||t(se.h==ue(se))}if(g.Pb&&se.h&&_e<V)t(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Te(g.s.vb,g.s.Wa);else{if(se.h)break e;J!=null&&J(g,ee>K?K:ee),g.a=0,g.$=_e-O}return 1}return g.a=3,0}function bi(g){t(g!=null),g.vc=null,g.yc=null,g.Ya=null;var j=g.Wa;j!=null&&(j.X=null),g.vb=null,t(g!=null)}function sc(){var g=new Nt;return g==null?null:(g.a=0,g.xb=HS,ur("Predictor","VP8LPredictors"),ur("Predictor","VP8LPredictors_C"),ur("PredictorAdd","VP8LPredictorsAdd"),ur("PredictorAdd","VP8LPredictorsAdd_C"),Xr=ye,lh=Je,ch=Pt,il=Ft,sl=At,ol=Ot,vc=xr,P.VP8LMapColor32b=Es,P.VP8LMapColor8b=sh,g)}function Ns(g,j,O,F,V){var K=1,J=[g],ee=[j],ae=F.m,se=F.s,ge=null,_e=0;e:for(;;){if(O)for(;K&&de(ae,1);){var oe=J,ve=ee,Ne=F,ke=1,Ee=Ne.m,Ie=Ne.gc[Ne.ab],Re=de(Ee,2);if(Ne.Oc&1<<Re)K=0;else{switch(Ne.Oc|=1<<Re,Ie.hc=Re,Ie.Ea=oe[0],Ie.nc=ve[0],Ie.K=[null],++Ne.ab,t(4>=Ne.ab),Re){case 0:case 1:Ie.b=de(Ee,3)+2,ke=Ns(je(Ie.Ea,Ie.b),je(Ie.nc,Ie.b),0,Ne,Ie.K),Ie.K=Ie.K[0];break;case 3:var ze,$e=de(Ee,8)+1,lt=16<$e?0:4<$e?1:2<$e?2:3;if(oe[0]=je(Ie.Ea,lt),Ie.b=lt,ze=ke=Ns($e,1,0,Ne,Ie.K)){var et,Lt=$e,nt=Ie,qt=1<<(8>>nt.b),vn=s(qt);if(vn==null)ze=0;else{var Rt=nt.K[0],at=nt.w;for(vn[0]=nt.K[0][0],et=1;et<1*Lt;++et)vn[et]=Me(Rt[at+et],vn[et-1]);for(;et<4*qt;++et)vn[et]=0;nt.K[0]=null,nt.K[0]=vn,ze=1}}ke=ze;break;case 2:break;default:t(0)}K=ke}}if(J=J[0],ee=ee[0],K&&de(ae,1)&&!(K=1<=(_e=de(ae,4))&&11>=_e)){F.a=3;break e}var Ye;if(Ye=K)t:{var Zr,Tt,Ht,Er=F,Hn=J,ya=ee,Hr=_e,ea=O,va=Er.m,bn=Er.s,Kt=[null],ar=1,Vr=0,ir=F7[Hr];r:for(;;){if(ea&&de(va,1)){var Vn=de(va,3)+2,Ji=je(Hn,Vn),Qr=je(ya,Vn),Ra=Ji*Qr;if(!Ns(Ji,Qr,0,Er,Kt))break r;for(Kt=Kt[0],bn.xc=Vn,Zr=0;Zr<Ra;++Zr){var mr=Kt[Zr]>>8&65535;Kt[Zr]=mr,mr>=ar&&(ar=mr+1)}}if(va.h)break r;for(Tt=0;5>Tt;++Tt){var wn=zS[Tt];!Tt&&0<Hr&&(wn+=1<<Hr),Vr<wn&&(Vr=wn)}var Qa=o(ar*ir,$),ba=ar,ei=o(ba,M);if(ei==null)var ti=null;else t(65536>=ba),ti=ei;var Ma=s(Vr);if(ti==null||Ma==null||Qa==null){Er.a=1;break r}var ri=Qa;for(Zr=Ht=0;Zr<ar;++Zr){var br=ti[Zr],ni=br.G,Zi=br.H,wc=0,fo=1,Wn=0;for(Tt=0;5>Tt;++Tt){wn=zS[Tt],ni[Tt]=ri,Zi[Tt]=Ht,!Tt&&0<Hr&&(wn+=1<<Hr);a:{var xg,h1=wn,yg=Er,mh=Ma,sM=ri,oM=Ht,m1=0,dl=yg.m,lM=de(dl,1);if(i(mh,0,0,h1),lM){var cM=de(dl,1)+1,uM=de(dl,1),ZS=de(dl,uM==0?1:8);mh[ZS]=1,cM==2&&(mh[ZS=de(dl,8)]=1);var vg=1}else{var QS=s(19),eA=de(dl,4)+4;if(19<eA){yg.a=3;var bg=0;break a}for(xg=0;xg<eA;++xg)QS[D7[xg]]=de(dl,3);var p1=void 0,ph=void 0,tA=yg,dM=QS,wg=h1,rA=mh,g1=0,fl=tA.m,nA=8,aA=o(128,$);n:for(;I(aA,0,7,dM,19);){if(de(fl,1)){var fM=2+2*de(fl,3);if((p1=2+de(fl,fM))>wg)break n}else p1=wg;for(ph=0;ph<wg&&p1--;){X(fl);var iA=aA[0+(127&te(fl))];q(fl,fl.u+iA.g);var Uu=iA.value;if(16>Uu)rA[ph++]=Uu,Uu!=0&&(nA=Uu);else{var hM=Uu==16,sA=Uu-16,mM=R7[sA],oA=de(fl,L7[sA])+mM;if(ph+oA>wg)break n;for(var pM=hM?nA:0;0<oA--;)rA[ph++]=pM}}g1=1;break n}g1||(tA.a=3),vg=g1}(vg=vg&&!dl.h)&&(m1=I(sM,oM,8,mh,h1)),vg&&m1!=0?bg=m1:(yg.a=3,bg=0)}if(bg==0)break r;if(fo&&M7[Tt]==1&&(fo=ri[Ht].g==0),wc+=ri[Ht].g,Ht+=bg,3>=Tt){var gh,x1=Ma[0];for(gh=1;gh<wn;++gh)Ma[gh]>x1&&(x1=Ma[gh]);Wn+=x1}}if(br.nd=fo,br.Qb=0,fo&&(br.qb=(ni[3][Zi[3]+0].value<<24|ni[1][Zi[1]+0].value<<16|ni[2][Zi[2]+0].value)>>>0,wc==0&&256>ni[0][Zi[0]+0].value&&(br.Qb=1,br.qb+=ni[0][Zi[0]+0].value<<8)),br.jc=!br.Qb&&6>Wn,br.jc){var Ng,ho=br;for(Ng=0;Ng<yc;++Ng){var hl=Ng,ml=ho.pd[hl],jg=ho.G[0][ho.H[0]+hl];256<=jg.value?(ml.g=jg.g+256,ml.value=jg.value):(ml.g=0,ml.value=0,hl>>=Tn(jg,8,ml),hl>>=Tn(ho.G[1][ho.H[1]+hl],16,ml),hl>>=Tn(ho.G[2][ho.H[2]+hl],0,ml),Tn(ho.G[3][ho.H[3]+hl],24,ml))}}}bn.vc=Kt,bn.Wb=ar,bn.Ya=ti,bn.yc=Qa,Ye=1;break t}Ye=0}if(!(K=Ye)){F.a=3;break e}if(0<_e){if(se.ua=1<<_e,!Y(se.Wa,_e)){F.a=1,K=0;break e}}else se.ua=0;var y1=F,lA=J,gM=ee,v1=y1.s,b1=v1.xc;if(y1.c=lA,y1.i=gM,v1.md=je(lA,b1),v1.wc=b1==0?-1:(1<<b1)-1,O){F.xb=G7;break e}if((ge=s(J*ee))==null){F.a=1,K=0;break e}K=(K=Gi(F,ge,0,J,ee,ee,null))&&!ae.h;break e}return K?(V!=null?V[0]=ge:(t(ge==null),t(O)),F.$=0,O||bi(se)):bi(se),K}function oc(g,j){var O=g.c*g.i,F=O+j+16*j;return t(g.c<=j),g.V=s(F),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+O+j,1)}function Tu(g,j){var O=g.C,F=j-O,V=g.V,K=g.Ba+g.c*O;for(t(j<=g.l.o);0<F;){var J=16<F?16:F,ee=g.l.ma,ae=g.l.width,se=ae*J,ge=ee.ca,_e=ee.tb+ae*O,oe=g.Ta,ve=g.Ua;ic(g,J,V,K),LS(oe,ve,ge,_e,se),ws(ee,O,O+J,ge,_e,ae),F-=J,V+=J*g.c,O+=J}t(O==j),g.C=g.Ma=j}function Cu(){this.ub=this.yd=this.td=this.Rb=0}function ku(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function qv(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function qf(){this.Yb=function(){var g=[];return function j(O,F,V){for(var K=V[F],J=0;J<K&&(O.push(V.length>F+1?[]:0),!(V.length<F+1));J++)j(O[J],F+1,V)}(g,0,[3,11]),g}()}function zp(){this.jb=s(3),this.Wc=l([4,8],qf),this.Xc=l([4,17],qf)}function qp(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function wi(){this.ld=this.La=this.dd=this.tc=0}function Hf(){this.Na=this.la=0}function Hp(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Vf(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Vp(){this.uc=this.M=this.Nb=0,this.wa=Array(new wi),this.Y=0,this.ya=Array(new Vf),this.aa=0,this.l=new Ou}function Wp(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Gp(){this.cb=this.a=0,this.sc="",this.m=new B,this.Od=new Cu,this.Kc=new ku,this.ed=new qp,this.Qa=new qv,this.Ic=this.$c=this.Aa=0,this.D=new Vp,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,B),this.ia=0,this.pb=o(4,Hp),this.Pa=new zp,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Wp),this.Hd=0,this.rb=Array(new Hf),this.sb=0,this.wa=Array(new wi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Vf),this.L=this.aa=0,this.gd=l([4,2],wi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function js(g,j){return 0>g?0:g>j?j:g}function Ou(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Hv(){var g=new Gp;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,fh||(fh=Iu)),g}function un(g,j,O){return g.a==0&&(g.a=j,g.sc=O,g.cb=0),0}function Yp(g,j,O){return 3<=O&&g[j+0]==157&&g[j+1]==1&&g[j+2]==42}function Ss(g,j){if(g==null)return 0;if(g.a=0,g.sc="OK",j==null)return un(g,2,"null VP8Io passed to VP8GetHeaders()");var O=j.data,F=j.w,V=j.ha;if(4>V)return un(g,7,"Truncated header.");var K=O[F+0]|O[F+1]<<8|O[F+2]<<16,J=g.Od;if(J.Rb=!(1&K),J.td=K>>1&7,J.yd=K>>4&1,J.ub=K>>5,3<J.td)return un(g,3,"Incorrect keyframe parameters.");if(!J.yd)return un(g,4,"Frame not displayable.");F+=3,V-=3;var ee=g.Kc;if(J.Rb){if(7>V)return un(g,7,"cannot parse picture header");if(!Yp(O,F,V))return un(g,3,"Bad code word");ee.c=16383&(O[F+4]<<8|O[F+3]),ee.Td=O[F+4]>>6,ee.i=16383&(O[F+6]<<8|O[F+5]),ee.Ud=O[F+6]>>6,F+=7,V-=7,g.za=ee.c+15>>4,g.Ub=ee.i+15>>4,j.width=ee.c,j.height=ee.i,j.Da=0,j.j=0,j.v=0,j.va=j.width,j.o=j.height,j.da=0,j.ib=j.width,j.hb=j.height,j.U=j.width,j.T=j.height,i((K=g.Pa).jb,0,255,K.jb.length),t((K=g.Qa)!=null),K.Cb=0,K.Bb=0,K.Fb=1,i(K.Zb,0,0,K.Zb.length),i(K.Lb,0,0,K.Lb)}if(J.ub>V)return un(g,7,"bad partition length");z(K=g.m,O,F,J.ub),F+=J.ub,V-=J.ub,J.Rb&&(ee.Ld=ne(K),ee.Kd=ne(K)),ee=g.Qa;var ae,se=g.Pa;if(t(K!=null),t(ee!=null),ee.Cb=ne(K),ee.Cb){if(ee.Bb=ne(K),ne(K)){for(ee.Fb=ne(K),ae=0;4>ae;++ae)ee.Zb[ae]=ne(K)?R(K,7):0;for(ae=0;4>ae;++ae)ee.Lb[ae]=ne(K)?R(K,6):0}if(ee.Bb)for(ae=0;3>ae;++ae)se.jb[ae]=ne(K)?Z(K,8):255}else ee.Bb=0;if(K.Ka)return un(g,3,"cannot parse segment header");if((ee=g.ed).zd=ne(K),ee.Tb=Z(K,6),ee.wb=Z(K,3),ee.Pc=ne(K),ee.Pc&&ne(K)){for(se=0;4>se;++se)ne(K)&&(ee.vd[se]=R(K,6));for(se=0;4>se;++se)ne(K)&&(ee.od[se]=R(K,6))}if(g.L=ee.Tb==0?0:ee.zd?1:2,K.Ka)return un(g,3,"cannot parse filter header");var ge=V;if(V=ae=F,F=ae+ge,ee=ge,g.Xb=(1<<Z(g.m,2))-1,ge<3*(se=g.Xb))O=7;else{for(ae+=3*se,ee-=3*se,ge=0;ge<se;++ge){var _e=O[V+0]|O[V+1]<<8|O[V+2]<<16;_e>ee&&(_e=ee),z(g.Jc[+ge],O,ae,_e),ae+=_e,ee-=_e,V+=3}z(g.Jc[+se],O,ae,ee),O=ae<F?0:5}if(O!=0)return un(g,O,"cannot parse partitions");for(O=Z(ae=g.m,7),V=ne(ae)?R(ae,4):0,F=ne(ae)?R(ae,4):0,ee=ne(ae)?R(ae,4):0,se=ne(ae)?R(ae,4):0,ae=ne(ae)?R(ae,4):0,ge=g.Qa,_e=0;4>_e;++_e){if(ge.Cb){var oe=ge.Zb[_e];ge.Fb||(oe+=O)}else{if(0<_e){g.pb[_e]=g.pb[0];continue}oe=O}var ve=g.pb[_e];ve.Sc[0]=u1[js(oe+V,127)],ve.Sc[1]=d1[js(oe+0,127)],ve.Eb[0]=2*u1[js(oe+F,127)],ve.Eb[1]=101581*d1[js(oe+ee,127)]>>16,8>ve.Eb[1]&&(ve.Eb[1]=8),ve.Qc[0]=u1[js(oe+se,117)],ve.Qc[1]=d1[js(oe+ae,127)],ve.lc=oe+ae}if(!J.Rb)return un(g,4,"Not a key frame.");for(ne(K),J=g.Pa,O=0;4>O;++O){for(V=0;8>V;++V)for(F=0;3>F;++F)for(ee=0;11>ee;++ee)se=pe(K,V7[O][V][F][ee])?Z(K,8):q7[O][V][F][ee],J.Wc[O][V].Yb[F][ee]=se;for(V=0;17>V;++V)J.Xc[O][V]=J.Wc[O][W7[V]]}return g.kc=ne(K),g.kc&&(g.Bd=Z(K,8)),g.cb=1}function Iu(g,j,O,F,V,K,J){var ee=j[V].Yb[O];for(O=0;16>V;++V){if(!pe(g,ee[O+0]))return V;for(;!pe(g,ee[O+1]);)if(ee=j[++V].Yb[0],O=0,V==16)return 16;var ae=j[V+1].Yb;if(pe(g,ee[O+2])){var se=g,ge=0;if(pe(se,(oe=ee)[(_e=O)+3]))if(pe(se,oe[_e+6])){for(ee=0,_e=2*(ge=pe(se,oe[_e+8]))+(oe=pe(se,oe[_e+9+ge])),ge=0,oe=U7[_e];oe[ee];++ee)ge+=ge+pe(se,oe[ee]);ge+=3+(8<<_e)}else pe(se,oe[_e+7])?(ge=7+2*pe(se,165),ge+=pe(se,145)):ge=5+pe(se,159);else ge=pe(se,oe[_e+4])?3+pe(se,oe[_e+5]):2;ee=ae[2]}else ge=1,ee=ae[1];ae=J+z7[V],0>(se=g).b&&Q(se);var _e,oe=se.b,ve=(_e=se.Ca>>1)-(se.I>>oe)>>31;--se.b,se.Ca+=ve,se.Ca|=1,se.I-=(_e+1&ve)<<oe,K[ae]=((ge^ve)-ve)*F[(0<V)+0]}return 16}function Kp(g){var j=g.rb[g.sb-1];j.la=0,j.Na=0,i(g.zc,0,0,g.zc.length),g.ja=0}function Ni(g,j,O,F,V){V=g[j+O+32*F]+(V>>3),g[j+O+32*F]=-256&V?0>V?0:255:V}function gn(g,j,O,F,V,K){Ni(g,j,0,O,F+V),Ni(g,j,1,O,F+K),Ni(g,j,2,O,F-K),Ni(g,j,3,O,F-V)}function Zs(g){return(20091*g>>16)+g}function Xp(g,j,O,F){var V,K=0,J=s(16);for(V=0;4>V;++V){var ee=g[j+0]+g[j+8],ae=g[j+0]-g[j+8],se=(35468*g[j+4]>>16)-Zs(g[j+12]),ge=Zs(g[j+4])+(35468*g[j+12]>>16);J[K+0]=ee+ge,J[K+1]=ae+se,J[K+2]=ae-se,J[K+3]=ee-ge,K+=4,j++}for(V=K=0;4>V;++V)ee=(g=J[K+0]+4)+J[K+8],ae=g-J[K+8],se=(35468*J[K+4]>>16)-Zs(J[K+12]),Ni(O,F,0,0,ee+(ge=Zs(J[K+4])+(35468*J[K+12]>>16))),Ni(O,F,1,0,ae+se),Ni(O,F,2,0,ae-se),Ni(O,F,3,0,ee-ge),K++,F+=32}function Vv(g,j,O,F){var V=g[j+0]+4,K=35468*g[j+4]>>16,J=Zs(g[j+4]),ee=35468*g[j+1]>>16;gn(O,F,0,V+J,g=Zs(g[j+1]),ee),gn(O,F,1,V+K,g,ee),gn(O,F,2,V-K,g,ee),gn(O,F,3,V-J,g,ee)}function Wv(g,j,O,F,V){Xp(g,j,O,F),V&&Xp(g,j+16,O,F+4)}function As(g,j,O,F){bc(g,j+0,O,F,1),bc(g,j+32,O,F+128,1)}function Jp(g,j,O,F){var V;for(g=g[j+0]+4,V=0;4>V;++V)for(j=0;4>j;++j)Ni(O,F,j,V,g)}function Zp(g,j,O,F){g[j+0]&&er(g,j+0,O,F),g[j+16]&&er(g,j+16,O,F+4),g[j+32]&&er(g,j+32,O,F+128),g[j+48]&&er(g,j+48,O,F+128+4)}function Lu(g,j,O,F){var V,K=s(16);for(V=0;4>V;++V){var J=g[j+0+V]+g[j+12+V],ee=g[j+4+V]+g[j+8+V],ae=g[j+4+V]-g[j+8+V],se=g[j+0+V]-g[j+12+V];K[0+V]=J+ee,K[8+V]=J-ee,K[4+V]=se+ae,K[12+V]=se-ae}for(V=0;4>V;++V)J=(g=K[0+4*V]+3)+K[3+4*V],ee=K[1+4*V]+K[2+4*V],ae=K[1+4*V]-K[2+4*V],se=g-K[3+4*V],O[F+0]=J+ee>>3,O[F+16]=se+ae>>3,O[F+32]=J-ee>>3,O[F+48]=se-ae>>3,F+=64}function lc(g,j,O){var F,V=j-32,K=Za,J=255-g[V-1];for(F=0;F<O;++F){var ee,ae=K,se=J+g[j-1];for(ee=0;ee<O;++ee)g[j+ee]=ae[se+g[V+ee]];j+=32}}function Gv(g,j){lc(g,j,4)}function Yv(g,j){lc(g,j,8)}function Kv(g,j){lc(g,j,16)}function Wf(g,j){var O;for(O=0;16>O;++O)n(g,j+32*O,g,j-32,16)}function Qp(g,j){var O;for(O=16;0<O;--O)i(g,j,g[j-1],16),j+=32}function Yi(g,j,O){var F;for(F=0;16>F;++F)i(j,O+32*F,g,16)}function Xv(g,j){var O,F=16;for(O=0;16>O;++O)F+=g[j-1+32*O]+g[j+O-32];Yi(F>>5,g,j)}function cc(g,j){var O,F=8;for(O=0;16>O;++O)F+=g[j-1+32*O];Yi(F>>4,g,j)}function Gf(g,j){var O,F=8;for(O=0;16>O;++O)F+=g[j+O-32];Yi(F>>4,g,j)}function Jv(g,j){Yi(128,g,j)}function St(g,j,O){return g+2*j+O+2>>2}function Zv(g,j){var O,F=j-32;for(F=new Uint8Array([St(g[F-1],g[F+0],g[F+1]),St(g[F+0],g[F+1],g[F+2]),St(g[F+1],g[F+2],g[F+3]),St(g[F+2],g[F+3],g[F+4])]),O=0;4>O;++O)n(g,j+32*O,F,0,F.length)}function Qv(g,j){var O=g[j-1],F=g[j-1+32],V=g[j-1+64],K=g[j-1+96];ie(g,j+0,16843009*St(g[j-1-32],O,F)),ie(g,j+32,16843009*St(O,F,V)),ie(g,j+64,16843009*St(F,V,K)),ie(g,j+96,16843009*St(V,K,K))}function e1(g,j){var O,F=4;for(O=0;4>O;++O)F+=g[j+O-32]+g[j-1+32*O];for(F>>=3,O=0;4>O;++O)i(g,j+32*O,F,4)}function Qs(g,j){var O=g[j-1+0],F=g[j-1+32],V=g[j-1+64],K=g[j-1-32],J=g[j+0-32],ee=g[j+1-32],ae=g[j+2-32],se=g[j+3-32];g[j+0+96]=St(F,V,g[j-1+96]),g[j+1+96]=g[j+0+64]=St(O,F,V),g[j+2+96]=g[j+1+64]=g[j+0+32]=St(K,O,F),g[j+3+96]=g[j+2+64]=g[j+1+32]=g[j+0+0]=St(J,K,O),g[j+3+64]=g[j+2+32]=g[j+1+0]=St(ee,J,K),g[j+3+32]=g[j+2+0]=St(ae,ee,J),g[j+3+0]=St(se,ae,ee)}function eo(g,j){var O=g[j+1-32],F=g[j+2-32],V=g[j+3-32],K=g[j+4-32],J=g[j+5-32],ee=g[j+6-32],ae=g[j+7-32];g[j+0+0]=St(g[j+0-32],O,F),g[j+1+0]=g[j+0+32]=St(O,F,V),g[j+2+0]=g[j+1+32]=g[j+0+64]=St(F,V,K),g[j+3+0]=g[j+2+32]=g[j+1+64]=g[j+0+96]=St(V,K,J),g[j+3+32]=g[j+2+64]=g[j+1+96]=St(K,J,ee),g[j+3+64]=g[j+2+96]=St(J,ee,ae),g[j+3+96]=St(ee,ae,ae)}function t1(g,j){var O=g[j-1+0],F=g[j-1+32],V=g[j-1+64],K=g[j-1-32],J=g[j+0-32],ee=g[j+1-32],ae=g[j+2-32],se=g[j+3-32];g[j+0+0]=g[j+1+64]=K+J+1>>1,g[j+1+0]=g[j+2+64]=J+ee+1>>1,g[j+2+0]=g[j+3+64]=ee+ae+1>>1,g[j+3+0]=ae+se+1>>1,g[j+0+96]=St(V,F,O),g[j+0+64]=St(F,O,K),g[j+0+32]=g[j+1+96]=St(O,K,J),g[j+1+32]=g[j+2+96]=St(K,J,ee),g[j+2+32]=g[j+3+96]=St(J,ee,ae),g[j+3+32]=St(ee,ae,se)}function r1(g,j){var O=g[j+0-32],F=g[j+1-32],V=g[j+2-32],K=g[j+3-32],J=g[j+4-32],ee=g[j+5-32],ae=g[j+6-32],se=g[j+7-32];g[j+0+0]=O+F+1>>1,g[j+1+0]=g[j+0+64]=F+V+1>>1,g[j+2+0]=g[j+1+64]=V+K+1>>1,g[j+3+0]=g[j+2+64]=K+J+1>>1,g[j+0+32]=St(O,F,V),g[j+1+32]=g[j+0+96]=St(F,V,K),g[j+2+32]=g[j+1+96]=St(V,K,J),g[j+3+32]=g[j+2+96]=St(K,J,ee),g[j+3+64]=St(J,ee,ae),g[j+3+96]=St(ee,ae,se)}function Ru(g,j){var O=g[j-1+0],F=g[j-1+32],V=g[j-1+64],K=g[j-1+96];g[j+0+0]=O+F+1>>1,g[j+2+0]=g[j+0+32]=F+V+1>>1,g[j+2+32]=g[j+0+64]=V+K+1>>1,g[j+1+0]=St(O,F,V),g[j+3+0]=g[j+1+32]=St(F,V,K),g[j+3+32]=g[j+1+64]=St(V,K,K),g[j+3+64]=g[j+2+64]=g[j+0+96]=g[j+1+96]=g[j+2+96]=g[j+3+96]=K}function Yf(g,j){var O=g[j-1+0],F=g[j-1+32],V=g[j-1+64],K=g[j-1+96],J=g[j-1-32],ee=g[j+0-32],ae=g[j+1-32],se=g[j+2-32];g[j+0+0]=g[j+2+32]=O+J+1>>1,g[j+0+32]=g[j+2+64]=F+O+1>>1,g[j+0+64]=g[j+2+96]=V+F+1>>1,g[j+0+96]=K+V+1>>1,g[j+3+0]=St(ee,ae,se),g[j+2+0]=St(J,ee,ae),g[j+1+0]=g[j+3+32]=St(O,J,ee),g[j+1+32]=g[j+3+64]=St(F,O,J),g[j+1+64]=g[j+3+96]=St(V,F,O),g[j+1+96]=St(K,V,F)}function uc(g,j){var O;for(O=0;8>O;++O)n(g,j+32*O,g,j-32,8)}function n1(g,j){var O;for(O=0;8>O;++O)i(g,j,g[j-1],8),j+=32}function to(g,j,O){var F;for(F=0;8>F;++F)i(j,O+32*F,g,8)}function a1(g,j){var O,F=8;for(O=0;8>O;++O)F+=g[j+O-32]+g[j-1+32*O];to(F>>4,g,j)}function Kf(g,j){var O,F=4;for(O=0;8>O;++O)F+=g[j+O-32];to(F>>3,g,j)}function Xf(g,j){var O,F=4;for(O=0;8>O;++O)F+=g[j-1+32*O];to(F>>3,g,j)}function eg(g,j){to(128,g,j)}function ro(g,j,O){var F=g[j-O],V=g[j+0],K=3*(V-F)+i1[1020+g[j-2*O]-g[j+O]],J=lg[112+(K+4>>3)];g[j-O]=Za[255+F+lg[112+(K+3>>3)]],g[j+0]=Za[255+V-J]}function Jf(g,j,O,F){var V=g[j+0],K=g[j+O];return Ai[255+g[j-2*O]-g[j-O]]>F||Ai[255+K-V]>F}function Mu(g,j,O,F){return 4*Ai[255+g[j-O]-g[j+0]]+Ai[255+g[j-2*O]-g[j+O]]<=F}function Zf(g,j,O,F,V){var K=g[j-3*O],J=g[j-2*O],ee=g[j-O],ae=g[j+0],se=g[j+O],ge=g[j+2*O],_e=g[j+3*O];return 4*Ai[255+ee-ae]+Ai[255+J-se]>F?0:Ai[255+g[j-4*O]-K]<=V&&Ai[255+K-J]<=V&&Ai[255+J-ee]<=V&&Ai[255+_e-ge]<=V&&Ai[255+ge-se]<=V&&Ai[255+se-ae]<=V}function dc(g,j,O,F){var V=2*F+1;for(F=0;16>F;++F)Mu(g,j+F,O,V)&&ro(g,j+F,O)}function Qf(g,j,O,F){var V=2*F+1;for(F=0;16>F;++F)Mu(g,j+F*O,1,V)&&ro(g,j+F*O,1)}function tg(g,j,O,F){var V;for(V=3;0<V;--V)dc(g,j+=4*O,O,F)}function rg(g,j,O,F){var V;for(V=3;0<V;--V)Qf(g,j+=4,O,F)}function no(g,j,O,F,V,K,J,ee){for(K=2*K+1;0<V--;){if(Zf(g,j,O,K,J))if(Jf(g,j,O,ee))ro(g,j,O);else{var ae=g,se=j,ge=O,_e=ae[se-2*ge],oe=ae[se-ge],ve=ae[se+0],Ne=ae[se+ge],ke=ae[se+2*ge],Ee=27*(Re=i1[1020+3*(ve-oe)+i1[1020+_e-Ne]])+63>>7,Ie=18*Re+63>>7,Re=9*Re+63>>7;ae[se-3*ge]=Za[255+ae[se-3*ge]+Re],ae[se-2*ge]=Za[255+_e+Ie],ae[se-ge]=Za[255+oe+Ee],ae[se+0]=Za[255+ve-Ee],ae[se+ge]=Za[255+Ne-Ie],ae[se+2*ge]=Za[255+ke-Re]}j+=F}}function ao(g,j,O,F,V,K,J,ee){for(K=2*K+1;0<V--;){if(Zf(g,j,O,K,J))if(Jf(g,j,O,ee))ro(g,j,O);else{var ae=g,se=j,ge=O,_e=ae[se-ge],oe=ae[se+0],ve=ae[se+ge],Ne=lg[112+(4+(ke=3*(oe-_e))>>3)],ke=lg[112+(ke+3>>3)],Ee=Ne+1>>1;ae[se-2*ge]=Za[255+ae[se-2*ge]+Ee],ae[se-ge]=Za[255+_e+ke],ae[se+0]=Za[255+oe-Ne],ae[se+ge]=Za[255+ve-Ee]}j+=F}}function ng(g,j,O,F,V,K){no(g,j,O,1,16,F,V,K)}function fc(g,j,O,F,V,K){no(g,j,1,O,16,F,V,K)}function ag(g,j,O,F,V,K){var J;for(J=3;0<J;--J)ao(g,j+=4*O,O,1,16,F,V,K)}function T(g,j,O,F,V,K){var J;for(J=3;0<J;--J)ao(g,j+=4,1,O,16,F,V,K)}function H(g,j,O,F,V,K,J,ee){no(g,j,V,1,8,K,J,ee),no(O,F,V,1,8,K,J,ee)}function le(g,j,O,F,V,K,J,ee){no(g,j,1,V,8,K,J,ee),no(O,F,1,V,8,K,J,ee)}function he(g,j,O,F,V,K,J,ee){ao(g,j+4*V,V,1,8,K,J,ee),ao(O,F+4*V,V,1,8,K,J,ee)}function we(g,j,O,F,V,K,J,ee){ao(g,j+4,1,V,8,K,J,ee),ao(O,F+4,1,V,8,K,J,ee)}function Le(){this.ba=new It,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Gt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function De(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function st(){this.ua=0,this.Wa=new qe,this.vb=new qe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new M,this.yc=new $}function Nt(){this.xb=this.a=0,this.l=new Ou,this.ca=new It,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new st,this.ab=0,this.gc=o(4,rt),this.Oc=0}function Ct(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ou,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Yt(g,j,O,F,V,K,J){for(g=g==null?0:g[j+0],j=0;j<J;++j)V[K+j]=g+O[F+j]&255,g=V[K+j]}function Dr(g,j,O,F,V,K,J){var ee;if(g==null)Yt(null,null,O,F,V,K,J);else for(ee=0;ee<J;++ee)V[K+ee]=g[j+ee]+O[F+ee]&255}function dn(g,j,O,F,V,K,J){if(g==null)Yt(null,null,O,F,V,K,J);else{var ee,ae=g[j+0],se=ae,ge=ae;for(ee=0;ee<J;++ee)se=ge+(ae=g[j+ee])-se,ge=O[F+ee]+(-256&se?0>se?0:255:se)&255,se=ae,V[K+ee]=ge}}function vr(g,j,O,F){var V=j.width,K=j.o;if(t(g!=null&&j!=null),0>O||0>=F||O+F>K)return null;if(!g.Cc){if(g.ga==null){var J;if(g.ga=new Ct,(J=g.ga==null)||(J=j.width*j.o,t(g.Gb.length==0),g.Gb=s(J),g.Uc=0,g.Gb==null?J=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,J=1),J=!J),!J){J=g.ga;var ee=g.Fa,ae=g.P,se=g.qc,ge=g.mb,_e=g.nb,oe=ae+1,ve=se-1,Ne=J.l;if(t(ee!=null&&ge!=null&&j!=null),ul[0]=null,ul[1]=Yt,ul[2]=Dr,ul[3]=dn,J.ca=ge,J.tb=_e,J.c=j.width,J.i=j.height,t(0<J.c&&0<J.i),1>=se)j=0;else if(J.$a=3&ee[ae+0],J.Z=ee[ae+0]>>2&3,J.Lc=ee[ae+0]>>4&3,ae=ee[ae+0]>>6&3,0>J.$a||1<J.$a||4<=J.Z||1<J.Lc||ae)j=0;else if(Ne.put=dt,Ne.ac=cn,Ne.bc=Ia,Ne.ma=J,Ne.width=j.width,Ne.height=j.height,Ne.Da=j.Da,Ne.v=j.v,Ne.va=j.va,Ne.j=j.j,Ne.o=j.o,J.$a)e:{t(J.$a==1),j=sc();t:for(;;){if(j==null){j=0;break e}if(t(J!=null),J.mc=j,j.c=J.c,j.i=J.i,j.l=J.l,j.l.ma=J,j.l.width=J.c,j.l.height=J.i,j.a=0,U(j.m,ee,oe,ve),!Ns(J.c,J.i,1,j,null)||(j.ab==1&&j.gc[0].hc==3&&Vi(j.s)?(J.ic=1,ee=j.c*j.i,j.Ta=null,j.Ua=0,j.V=s(ee),j.Ba=0,j.V==null?(j.a=1,j=0):j=1):(J.ic=0,j=oc(j,J.c)),!j))break t;j=1;break e}J.mc=null,j=0}else j=ve>=J.c*J.i;J=!j}if(J)return null;g.ga.Lc!=1?g.Ga=0:F=K-O}t(g.ga!=null),t(O+F<=K);e:{if(j=(ee=g.ga).c,K=ee.l.o,ee.$a==0){if(oe=g.rc,ve=g.Vc,Ne=g.Fa,ae=g.P+1+O*j,se=g.mb,ge=g.nb+O*j,t(ae<=g.P+g.qc),ee.Z!=0)for(t(ul[ee.Z]!=null),J=0;J<F;++J)ul[ee.Z](oe,ve,Ne,ae,se,ge,j),oe=se,ve=ge,ge+=j,ae+=j;else for(J=0;J<F;++J)n(se,ge,Ne,ae,j),oe=se,ve=ge,ge+=j,ae+=j;g.rc=oe,g.Vc=ve}else{if(t(ee.mc!=null),j=O+F,t((J=ee.mc)!=null),t(j<=J.i),J.C>=j)j=1;else if(ee.ic||Ki(),ee.ic){ee=J.V,oe=J.Ba,ve=J.c;var ke=J.i,Ee=(Ne=1,ae=J.$/ve,se=J.$%ve,ge=J.m,_e=J.s,J.$),Ie=ve*ke,Re=ve*j,ze=_e.wc,$e=Ee<Re?Un(_e,se,ae):null;t(Ee<=Ie),t(j<=ke),t(Vi(_e));t:for(;;){for(;!ge.h&&Ee<Re;){if(se&ze||($e=Un(_e,se,ae)),t($e!=null),X(ge),256>(ke=Ar($e.G[0],$e.H[0],ge)))ee[oe+Ee]=ke,++Ee,++se>=ve&&(se=0,++ae<=j&&!(ae%16)&&Wi(J,ae));else{if(!(280>ke)){Ne=0;break t}ke=pa(ke-256,ge);var lt,et=Ar($e.G[4],$e.H[4],ge);if(X(ge),!(Ee>=(et=ga(ve,et=pa(et,ge)))&&Ie-Ee>=ke)){Ne=0;break t}for(lt=0;lt<ke;++lt)ee[oe+Ee+lt]=ee[oe+Ee+lt-et];for(Ee+=ke,se+=ke;se>=ve;)se-=ve,++ae<=j&&!(ae%16)&&Wi(J,ae);Ee<Re&&se&ze&&($e=Un(_e,se,ae))}t(ge.h==ue(ge))}Wi(J,ae>j?j:ae);break t}!Ne||ge.h&&Ee<Ie?(Ne=0,J.a=ge.h?5:3):J.$=Ee,j=Ne}else j=Gi(J,J.V,J.Ba,J.c,J.i,j,Tu);if(!j){F=0;break e}}O+F>=K&&(g.Cc=1),F=1}if(!F)return null;if(g.Cc&&((F=g.ga)!=null&&(F.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+O*V}function xn(g,j,O,F,V,K){for(;0<V--;){var J,ee=g,ae=j+(O?1:0),se=g,ge=j+(O?0:3);for(J=0;J<F;++J){var _e=se[ge+4*J];_e!=255&&(_e*=32897,ee[ae+4*J+0]=ee[ae+4*J+0]*_e>>23,ee[ae+4*J+1]=ee[ae+4*J+1]*_e>>23,ee[ae+4*J+2]=ee[ae+4*J+2]*_e>>23)}j+=K}}function fn(g,j,O,F,V){for(;0<F--;){var K;for(K=0;K<O;++K){var J=g[j+2*K+0],ee=15&(se=g[j+2*K+1]),ae=4369*ee,se=(240&se|se>>4)*ae>>16;g[j+2*K+0]=(240&J|J>>4)*ae>>16&240|(15&J|J<<4)*ae>>16>>4&15,g[j+2*K+1]=240&se|ee}j+=V}}function zn(g,j,O,F,V,K,J,ee){var ae,se,ge=255;for(se=0;se<V;++se){for(ae=0;ae<F;++ae){var _e=g[j+ae];K[J+4*ae]=_e,ge&=_e}j+=O,J+=ee}return ge!=255}function io(g,j,O,F,V){var K;for(K=0;K<V;++K)O[F+K]=g[j+K]>>8}function Ki(){dh=xn,OS=fn,IS=zn,LS=io}function so(g,j,O){P[g]=function(F,V,K,J,ee,ae,se,ge,_e,oe,ve,Ne,ke,Ee,Ie,Re,ze){var $e,lt=ze-1>>1,et=ee[ae+0]|se[ge+0]<<16,Lt=_e[oe+0]|ve[Ne+0]<<16;t(F!=null);var nt=3*et+Lt+131074>>2;for(j(F[V+0],255&nt,nt>>16,ke,Ee),K!=null&&(nt=3*Lt+et+131074>>2,j(K[J+0],255&nt,nt>>16,Ie,Re)),$e=1;$e<=lt;++$e){var qt=ee[ae+$e]|se[ge+$e]<<16,vn=_e[oe+$e]|ve[Ne+$e]<<16,Rt=et+qt+Lt+vn+524296,at=Rt+2*(qt+Lt)>>3;nt=at+et>>1,et=(Rt=Rt+2*(et+vn)>>3)+qt>>1,j(F[V+2*$e-1],255&nt,nt>>16,ke,Ee+(2*$e-1)*O),j(F[V+2*$e-0],255&et,et>>16,ke,Ee+(2*$e-0)*O),K!=null&&(nt=Rt+Lt>>1,et=at+vn>>1,j(K[J+2*$e-1],255&nt,nt>>16,Ie,Re+(2*$e-1)*O),j(K[J+2*$e+0],255&et,et>>16,Ie,Re+(2*$e+0)*O)),et=qt,Lt=vn}1&ze||(nt=3*et+Lt+131074>>2,j(F[V+ze-1],255&nt,nt>>16,ke,Ee+(ze-1)*O),K!=null&&(nt=3*Lt+et+131074>>2,j(K[J+ze-1],255&nt,nt>>16,Ie,Re+(ze-1)*O)))}}function eh(){Ei[cg]=Y7,Ei[ug]=VS,Ei[BS]=K7,Ei[dg]=WS,Ei[fg]=GS,Ei[s1]=YS,Ei[US]=X7,Ei[o1]=VS,Ei[l1]=WS,Ei[hg]=GS,Ei[c1]=YS}function Du(g){return g&-16384?0>g?0:255:g>>J7}function el(g,j){return Du((19077*g>>8)+(26149*j>>8)-14234)}function hc(g,j,O){return Du((19077*g>>8)-(6419*j>>8)-(13320*O>>8)+8708)}function mc(g,j){return Du((19077*g>>8)+(33050*j>>8)-17685)}function tl(g,j,O,F,V){F[V+0]=el(g,O),F[V+1]=hc(g,j,O),F[V+2]=mc(g,j)}function qn(g,j,O,F,V){F[V+0]=mc(g,j),F[V+1]=hc(g,j,O),F[V+2]=el(g,O)}function pc(g,j,O,F,V){var K=hc(g,j,O);j=K<<3&224|mc(g,j)>>3,F[V+0]=248&el(g,O)|K>>5,F[V+1]=j}function gc(g,j,O,F,V){var K=240&mc(g,j)|15;F[V+0]=240&el(g,O)|hc(g,j,O)>>4,F[V+1]=K}function th(g,j,O,F,V){F[V+0]=255,tl(g,j,O,F,V+1)}function rh(g,j,O,F,V){qn(g,j,O,F,V),F[V+3]=255}function xa(g,j,O,F,V){tl(g,j,O,F,V),F[V+3]=255}function oo(g,j,O){P[g]=function(F,V,K,J,ee,ae,se,ge,_e){for(var oe=ge+(-2&_e)*O;ge!=oe;)j(F[V+0],K[J+0],ee[ae+0],se,ge),j(F[V+1],K[J+0],ee[ae+0],se,ge+O),V+=2,++J,++ae,ge+=2*O;1&_e&&j(F[V+0],K[J+0],ee[ae+0],se,ge)}}function $u(g,j,O){return O==0?g==0?j==0?6:5:j==0?4:0:O}function ig(g,j,O,F,V){switch(g>>>30){case 3:bc(j,O,F,V,0);break;case 2:Si(j,O,F,V);break;case 1:er(j,O,F,V)}}function ji(g,j){var O,F,V=j.M,K=j.Nb,J=g.oc,ee=g.pc+40,ae=g.oc,se=g.pc+584,ge=g.oc,_e=g.pc+600;for(O=0;16>O;++O)J[ee+32*O-1]=129;for(O=0;8>O;++O)ae[se+32*O-1]=129,ge[_e+32*O-1]=129;for(0<V?J[ee-1-32]=ae[se-1-32]=ge[_e-1-32]=129:(i(J,ee-32-1,127,21),i(ae,se-32-1,127,9),i(ge,_e-32-1,127,9)),F=0;F<g.za;++F){var oe=j.ya[j.aa+F];if(0<F){for(O=-1;16>O;++O)n(J,ee+32*O-4,J,ee+32*O+12,4);for(O=-1;8>O;++O)n(ae,se+32*O-4,ae,se+32*O+4,4),n(ge,_e+32*O-4,ge,_e+32*O+4,4)}var ve=g.Gd,Ne=g.Hd+F,ke=oe.ad,Ee=oe.Hc;if(0<V&&(n(J,ee-32,ve[Ne].y,0,16),n(ae,se-32,ve[Ne].f,0,8),n(ge,_e-32,ve[Ne].ea,0,8)),oe.Za){var Ie=J,Re=ee-32+16;for(0<V&&(F>=g.za-1?i(Ie,Re,ve[Ne].y[15],4):n(Ie,Re,ve[Ne+1].y,0,4)),O=0;4>O;O++)Ie[Re+128+O]=Ie[Re+256+O]=Ie[Re+384+O]=Ie[Re+0+O];for(O=0;16>O;++O,Ee<<=2)Ie=J,Re=ee+XS[O],Xi[oe.Ob[O]](Ie,Re),ig(Ee,ke,16*+O,Ie,Re)}else if(Ie=$u(F,V,oe.Ob[0]),cl[Ie](J,ee),Ee!=0)for(O=0;16>O;++O,Ee<<=2)ig(Ee,ke,16*+O,J,ee+XS[O]);for(O=oe.Gc,Ie=$u(F,V,oe.Dd),uo[Ie](ae,se),uo[Ie](ge,_e),Ee=ke,Ie=ae,Re=se,255&(oe=0|O)&&(170&oe?Ps(Ee,256,Ie,Re):hr(Ee,256,Ie,Re)),oe=ge,Ee=_e,255&(O>>=8)&&(170&O?Ps(ke,320,oe,Ee):hr(ke,320,oe,Ee)),V<g.Ub-1&&(n(ve[Ne].y,0,J,ee+480,16),n(ve[Ne].f,0,ae,se+224,8),n(ve[Ne].ea,0,ge,_e+224,8)),O=8*K*g.B,ve=g.sa,Ne=g.ta+16*F+16*K*g.R,ke=g.qa,oe=g.ra+8*F+O,Ee=g.Ha,Ie=g.Ia+8*F+O,O=0;16>O;++O)n(ve,Ne+O*g.R,J,ee+32*O,16);for(O=0;8>O;++O)n(ke,oe+O*g.B,ae,se+32*O,8),n(Ee,Ie+O*g.B,ge,_e+32*O,8)}}function xc(g,j,O,F,V,K,J,ee,ae){var se=[0],ge=[0],_e=0,oe=ae!=null?ae.kd:0,ve=ae??new De;if(g==null||12>O)return 7;ve.data=g,ve.w=j,ve.ha=O,j=[j],O=[O],ve.gb=[ve.gb];e:{var Ne=j,ke=O,Ee=ve.gb;if(t(g!=null),t(ke!=null),t(Ee!=null),Ee[0]=0,12<=ke[0]&&!r(g,Ne[0],"RIFF")){if(r(g,Ne[0]+8,"WEBP")){Ee=3;break e}var Ie=Ae(g,Ne[0]+4);if(12>Ie||4294967286<Ie){Ee=3;break e}if(oe&&Ie>ke[0]-8){Ee=7;break e}Ee[0]=Ie,Ne[0]+=12,ke[0]-=12}Ee=0}if(Ee!=0)return Ee;for(Ie=0<ve.gb[0],O=O[0];;){e:{var Re=g;ke=j,Ee=O;var ze=se,$e=ge,lt=Ne=[0];if((nt=_e=[_e])[0]=0,8>Ee[0])Ee=7;else{if(!r(Re,ke[0],"VP8X")){if(Ae(Re,ke[0]+4)!=10){Ee=3;break e}if(18>Ee[0]){Ee=7;break e}var et=Ae(Re,ke[0]+8),Lt=1+fe(Re,ke[0]+12);if(2147483648<=Lt*(Re=1+fe(Re,ke[0]+15))){Ee=3;break e}lt!=null&&(lt[0]=et),ze!=null&&(ze[0]=Lt),$e!=null&&($e[0]=Re),ke[0]+=18,Ee[0]-=18,nt[0]=1}Ee=0}}if(_e=_e[0],Ne=Ne[0],Ee!=0)return Ee;if(ke=!!(2&Ne),!Ie&&_e)return 3;if(K!=null&&(K[0]=!!(16&Ne)),J!=null&&(J[0]=ke),ee!=null&&(ee[0]=0),J=se[0],Ne=ge[0],_e&&ke&&ae==null){Ee=0;break}if(4>O){Ee=7;break}if(Ie&&_e||!Ie&&!_e&&!r(g,j[0],"ALPH")){O=[O],ve.na=[ve.na],ve.P=[ve.P],ve.Sa=[ve.Sa];e:{et=g,Ee=j,Ie=O;var nt=ve.gb;ze=ve.na,$e=ve.P,lt=ve.Sa,Lt=22,t(et!=null),t(Ie!=null),Re=Ee[0];var qt=Ie[0];for(t(ze!=null),t(lt!=null),ze[0]=null,$e[0]=null,lt[0]=0;;){if(Ee[0]=Re,Ie[0]=qt,8>qt){Ee=7;break e}var vn=Ae(et,Re+4);if(4294967286<vn){Ee=3;break e}var Rt=8+vn+1&-2;if(Lt+=Rt,0<nt&&Lt>nt){Ee=3;break e}if(!r(et,Re,"VP8 ")||!r(et,Re,"VP8L")){Ee=0;break e}if(qt[0]<Rt){Ee=7;break e}r(et,Re,"ALPH")||(ze[0]=et,$e[0]=Re+8,lt[0]=vn),Re+=Rt,qt-=Rt}}if(O=O[0],ve.na=ve.na[0],ve.P=ve.P[0],ve.Sa=ve.Sa[0],Ee!=0)break}O=[O],ve.Ja=[ve.Ja],ve.xa=[ve.xa];e:if(nt=g,Ee=j,Ie=O,ze=ve.gb[0],$e=ve.Ja,lt=ve.xa,et=Ee[0],Re=!r(nt,et,"VP8 "),Lt=!r(nt,et,"VP8L"),t(nt!=null),t(Ie!=null),t($e!=null),t(lt!=null),8>Ie[0])Ee=7;else{if(Re||Lt){if(nt=Ae(nt,et+4),12<=ze&&nt>ze-12){Ee=3;break e}if(oe&&nt>Ie[0]-8){Ee=7;break e}$e[0]=nt,Ee[0]+=8,Ie[0]-=8,lt[0]=Lt}else lt[0]=5<=Ie[0]&&nt[et+0]==47&&!(nt[et+4]>>5),$e[0]=Ie[0];Ee=0}if(O=O[0],ve.Ja=ve.Ja[0],ve.xa=ve.xa[0],j=j[0],Ee!=0)break;if(4294967286<ve.Ja)return 3;if(ee==null||ke||(ee[0]=ve.xa?2:1),J=[J],Ne=[Ne],ve.xa){if(5>O){Ee=7;break}ee=J,oe=Ne,ke=K,g==null||5>O?g=0:5<=O&&g[j+0]==47&&!(g[j+4]>>5)?(Ie=[0],nt=[0],ze=[0],U($e=new G,g,j,O),La($e,Ie,nt,ze)?(ee!=null&&(ee[0]=Ie[0]),oe!=null&&(oe[0]=nt[0]),ke!=null&&(ke[0]=ze[0]),g=1):g=0):g=0}else{if(10>O){Ee=7;break}ee=Ne,g==null||10>O||!Yp(g,j+3,O-3)?g=0:(oe=g[j+0]|g[j+1]<<8|g[j+2]<<16,ke=16383&(g[j+7]<<8|g[j+6]),g=16383&(g[j+9]<<8|g[j+8]),1&oe||3<(oe>>1&7)||!(oe>>4&1)||oe>>5>=ve.Ja||!ke||!g?g=0:(J&&(J[0]=ke),ee&&(ee[0]=g),g=1))}if(!g||(J=J[0],Ne=Ne[0],_e&&(se[0]!=J||ge[0]!=Ne)))return 3;ae!=null&&(ae[0]=ve,ae.offset=j-ae.w,t(4294967286>j-ae.w),t(ae.offset==ae.ha-O));break}return Ee==0||Ee==7&&_e&&ae==null?(K!=null&&(K[0]|=ve.na!=null&&0<ve.na.length),F!=null&&(F[0]=J),V!=null&&(V[0]=Ne),0):Ee}function nh(g,j,O){var F=j.width,V=j.height,K=0,J=0,ee=F,ae=V;if(j.Da=g!=null&&0<g.Da,j.Da&&(ee=g.cd,ae=g.bd,K=g.v,J=g.j,11>O||(K&=-2,J&=-2),0>K||0>J||0>=ee||0>=ae||K+ee>F||J+ae>V))return 0;if(j.v=K,j.j=J,j.va=K+ee,j.o=J+ae,j.U=ee,j.T=ae,j.da=g!=null&&0<g.da,j.da){if(!be(ee,ae,O=[g.ib],K=[g.hb]))return 0;j.ib=O[0],j.hb=K[0]}return j.ob=g!=null&&g.ob,j.Kb=g==null||!g.Sd,j.da&&(j.ob=j.ib<3*F/4&&j.hb<3*V/4,j.Kb=0),1}function ah(g){if(g==null)return 2;if(11>g.S){var j=g.f.RGBA;j.fb+=(g.height-1)*j.A,j.A=-j.A}else j=g.f.kb,g=g.height,j.O+=(g-1)*j.fa,j.fa=-j.fa,j.N+=(g-1>>1)*j.Ab,j.Ab=-j.Ab,j.W+=(g-1>>1)*j.Db,j.Db=-j.Db,j.F!=null&&(j.J+=(g-1)*j.lb,j.lb=-j.lb);return 0}function rl(g,j,O,F){if(F==null||0>=g||0>=j)return 2;if(O!=null){if(O.Da){var V=O.cd,K=O.bd,J=-2&O.v,ee=-2&O.j;if(0>J||0>ee||0>=V||0>=K||J+V>g||ee+K>j)return 2;g=V,j=K}if(O.da){if(!be(g,j,V=[O.ib],K=[O.hb]))return 2;g=V[0],j=K[0]}}F.width=g,F.height=j;e:{var ae=F.width,se=F.height;if(g=F.S,0>=ae||0>=se||!(g>=cg&&13>g))g=2;else{if(0>=F.Rd&&F.sd==null){J=K=V=j=0;var ge=(ee=ae*JS[g])*se;if(11>g||(K=(se+1)/2*(j=(ae+1)/2),g==12&&(J=(V=ae)*se)),(se=s(ge+2*K+J))==null){g=1;break e}F.sd=se,11>g?((ae=F.f.RGBA).eb=se,ae.fb=0,ae.A=ee,ae.size=ge):((ae=F.f.kb).y=se,ae.O=0,ae.fa=ee,ae.Fd=ge,ae.f=se,ae.N=0+ge,ae.Ab=j,ae.Cd=K,ae.ea=se,ae.W=0+ge+K,ae.Db=j,ae.Ed=K,g==12&&(ae.F=se,ae.J=0+ge+2*K),ae.Tc=J,ae.lb=V)}if(j=1,V=F.S,K=F.width,J=F.height,V>=cg&&13>V)if(11>V)g=F.f.RGBA,j&=(ee=Math.abs(g.A))*(J-1)+K<=g.size,j&=ee>=K*JS[V],j&=g.eb!=null;else{g=F.f.kb,ee=(K+1)/2,ge=(J+1)/2,ae=Math.abs(g.fa),se=Math.abs(g.Ab);var _e=Math.abs(g.Db),oe=Math.abs(g.lb),ve=oe*(J-1)+K;j&=ae*(J-1)+K<=g.Fd,j&=se*(ge-1)+ee<=g.Cd,j=(j&=_e*(ge-1)+ee<=g.Ed)&ae>=K&se>=ee&_e>=ee,j&=g.y!=null,j&=g.f!=null,j&=g.ea!=null,V==12&&(j&=oe>=K,j&=ve<=g.Tc,j&=g.F!=null)}else j=0;g=j?0:2}}return g!=0||O!=null&&O.fd&&(g=ah(F)),g}var yc=64,Xa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ja=24,nl=32,lo=8,al=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ue("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(g){return g},P.Predictor2=function(g,j,O){return j[O+0]},P.Predictor3=function(g,j,O){return j[O+1]},P.Predictor4=function(g,j,O){return j[O-1]},P.Predictor5=function(g,j,O){return We(We(g,j[O+1]),j[O+0])},P.Predictor6=function(g,j,O){return We(g,j[O-1])},P.Predictor7=function(g,j,O){return We(g,j[O+0])},P.Predictor8=function(g,j,O){return We(j[O-1],j[O+0])},P.Predictor9=function(g,j,O){return We(j[O+0],j[O+1])},P.Predictor10=function(g,j,O){return We(We(g,j[O-1]),We(j[O+0],j[O+1]))},P.Predictor11=function(g,j,O){var F=j[O+0];return 0>=vt(F>>24&255,g>>24&255,(j=j[O-1])>>24&255)+vt(F>>16&255,g>>16&255,j>>16&255)+vt(F>>8&255,g>>8&255,j>>8&255)+vt(255&F,255&g,255&j)?F:g},P.Predictor12=function(g,j,O){var F=j[O+0];return(_t((g>>24&255)+(F>>24&255)-((j=j[O-1])>>24&255))<<24|_t((g>>16&255)+(F>>16&255)-(j>>16&255))<<16|_t((g>>8&255)+(F>>8&255)-(j>>8&255))<<8|_t((255&g)+(255&F)-(255&j)))>>>0},P.Predictor13=function(g,j,O){var F=j[O-1];return(pt((g=We(g,j[O+0]))>>24&255,F>>24&255)<<24|pt(g>>16&255,F>>16&255)<<16|pt(g>>8&255,F>>8&255)<<8|pt(255&g,255&F))>>>0};var ih=P.PredictorAdd0;P.PredictorAdd1=$t,Ue("Predictor2","PredictorAdd2"),Ue("Predictor3","PredictorAdd3"),Ue("Predictor4","PredictorAdd4"),Ue("Predictor5","PredictorAdd5"),Ue("Predictor6","PredictorAdd6"),Ue("Predictor7","PredictorAdd7"),Ue("Predictor8","PredictorAdd8"),Ue("Predictor9","PredictorAdd9"),Ue("Predictor10","PredictorAdd10"),Ue("Predictor11","PredictorAdd11"),Ue("Predictor12","PredictorAdd12"),Ue("Predictor13","PredictorAdd13");var Fu=P.PredictorAdd2;Fe("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),Fe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var Xr,sg=P.ColorIndexInverseTransform,Es=P.MapARGB,_s=P.VP8LColorIndexInverseTransformAlpha,sh=P.MapAlpha,oh=P.VP8LPredictorsAdd=[];oh.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var lh,ch,il,sl,ol,vc,ll,bc,Si,Ps,er,hr,Jr,yn,co,uh,Bu,og,ES,_S,PS,TS,CS,kS,dh,OS,IS,LS,RS=s(511),MS=s(2041),DS=s(225),$S=s(767),FS=0,i1=MS,lg=DS,Za=$S,Ai=RS,cg=0,ug=1,BS=2,dg=3,fg=4,s1=5,US=6,o1=7,l1=8,hg=9,c1=10,L7=[2,3,7],R7=[3,3,11],zS=[280,256,256,256,40],M7=[0,1,1,1,0],D7=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],$7=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],F7=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],B7=8,u1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],d1=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],fh=null,U7=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],z7=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],qS=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],q7=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],H7=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],V7=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],W7=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],cl=[],Xi=[],uo=[],G7=1,HS=2,ul=[],Ei=[];so("UpsampleRgbLinePair",tl,3),so("UpsampleBgrLinePair",qn,3),so("UpsampleRgbaLinePair",xa,4),so("UpsampleBgraLinePair",rh,4),so("UpsampleArgbLinePair",th,4),so("UpsampleRgba4444LinePair",gc,2),so("UpsampleRgb565LinePair",pc,2);var Y7=P.UpsampleRgbLinePair,K7=P.UpsampleBgrLinePair,VS=P.UpsampleRgbaLinePair,WS=P.UpsampleBgraLinePair,GS=P.UpsampleArgbLinePair,YS=P.UpsampleRgba4444LinePair,X7=P.UpsampleRgb565LinePair,mg=16,pg=1<<mg-1,hh=-227,f1=482,J7=6,KS=0,Z7=s(256),Q7=s(256),eM=s(256),tM=s(256),rM=s(f1-hh),nM=s(f1-hh);oo("YuvToRgbRow",tl,3),oo("YuvToBgrRow",qn,3),oo("YuvToRgbaRow",xa,4),oo("YuvToBgraRow",rh,4),oo("YuvToArgbRow",th,4),oo("YuvToRgba4444Row",gc,2),oo("YuvToRgb565Row",pc,2);var XS=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],gg=[0,2,8],aM=[8,7,6,4,4,2,2,2,1,1,1,1],iM=1;this.WebPDecodeRGBA=function(g,j,O,F,V){var K=ug,J=new Le,ee=new It;J.ba=ee,ee.S=K,ee.width=[ee.width],ee.height=[ee.height];var ae=ee.width,se=ee.height,ge=new ht;if(ge==null||g==null)var _e=2;else t(ge!=null),_e=xc(g,j,O,ge.width,ge.height,ge.Pd,ge.Qd,ge.format,null);if(_e!=0?ae=0:(ae!=null&&(ae[0]=ge.width[0]),se!=null&&(se[0]=ge.height[0]),ae=1),ae){ee.width=ee.width[0],ee.height=ee.height[0],F!=null&&(F[0]=ee.width),V!=null&&(V[0]=ee.height);e:{if(F=new Ou,(V=new De).data=g,V.w=j,V.ha=O,V.kd=1,j=[0],t(V!=null),((g=xc(V.data,V.w,V.ha,null,null,null,j,null,V))==0||g==7)&&j[0]&&(g=4),(j=g)==0){if(t(J!=null),F.data=V.data,F.w=V.w+V.offset,F.ha=V.ha-V.offset,F.put=dt,F.ac=cn,F.bc=Ia,F.ma=J,V.xa){if((g=sc())==null){J=1;break e}if(function(oe,ve){var Ne=[0],ke=[0],Ee=[0];t:for(;;){if(oe==null)return 0;if(ve==null)return oe.a=2,0;if(oe.l=ve,oe.a=0,U(oe.m,ve.data,ve.w,ve.ha),!La(oe.m,Ne,ke,Ee)){oe.a=3;break t}if(oe.xb=HS,ve.width=Ne[0],ve.height=ke[0],!Ns(Ne[0],ke[0],1,oe,null))break t;return 1}return t(oe.a!=0),0}(g,F)){if(F=(j=rl(F.width,F.height,J.Oa,J.ba))==0){t:{F=g;r:for(;;){if(F==null){F=0;break t}if(t(F.s.yc!=null),t(F.s.Ya!=null),t(0<F.s.Wb),t((O=F.l)!=null),t((V=O.ma)!=null),F.xb!=0){if(F.ca=V.ba,F.tb=V.tb,t(F.ca!=null),!nh(V.Oa,O,dg)){F.a=2;break r}if(!oc(F,O.width)||O.da)break r;if((O.da||mt(F.ca.S))&&Ki(),11>F.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),F.ca.f.kb.F!=null&&Ki()),F.Pb&&0<F.s.ua&&F.s.vb.X==null&&!Y(F.s.vb,F.s.Wa.Xa)){F.a=1;break r}F.xb=0}if(!Gi(F,F.V,F.Ba,F.c,F.i,O.o,Qo))break r;V.Dc=F.Ma,F=1;break t}t(F.a!=0),F=0}F=!F}F&&(j=g.a)}else j=g.a}else{if((g=new Hv)==null){J=1;break e}if(g.Fa=V.na,g.P=V.P,g.qc=V.Sa,Ss(g,F)){if((j=rl(F.width,F.height,J.Oa,J.ba))==0){if(g.Aa=0,O=J.Oa,t((V=g)!=null),O!=null){if(0<(ae=0>(ae=O.Md)?0:100<ae?255:255*ae/100)){for(se=ge=0;4>se;++se)12>(_e=V.pb[se]).lc&&(_e.ia=ae*aM[0>_e.lc?0:_e.lc]>>3),ge|=_e.ia;ge&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=O.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function(oe,ve){if(oe==null)return 0;if(ve==null)return un(oe,2,"NULL VP8Io parameter in VP8Decode().");if(!oe.cb&&!Ss(oe,ve))return 0;if(t(oe.cb),ve.ac==null||ve.ac(ve)){ve.ob&&(oe.L=0);var Ne=gg[oe.L];if(oe.L==2?(oe.yb=0,oe.zb=0):(oe.yb=ve.v-Ne>>4,oe.zb=ve.j-Ne>>4,0>oe.yb&&(oe.yb=0),0>oe.zb&&(oe.zb=0)),oe.Va=ve.o+15+Ne>>4,oe.Hb=ve.va+15+Ne>>4,oe.Hb>oe.za&&(oe.Hb=oe.za),oe.Va>oe.Ub&&(oe.Va=oe.Ub),0<oe.L){var ke=oe.ed;for(Ne=0;4>Ne;++Ne){var Ee;if(oe.Qa.Cb){var Ie=oe.Qa.Lb[Ne];oe.Qa.Fb||(Ie+=ke.Tb)}else Ie=ke.Tb;for(Ee=0;1>=Ee;++Ee){var Re=oe.gd[Ne][Ee],ze=Ie;if(ke.Pc&&(ze+=ke.vd[0],Ee&&(ze+=ke.od[0])),0<(ze=0>ze?0:63<ze?63:ze)){var $e=ze;0<ke.wb&&($e=4<ke.wb?$e>>2:$e>>1)>9-ke.wb&&($e=9-ke.wb),1>$e&&($e=1),Re.dd=$e,Re.tc=2*ze+$e,Re.ld=40<=ze?2:15<=ze?1:0}else Re.tc=0;Re.La=Ee}}}Ne=0}else un(oe,6,"Frame setup failed"),Ne=oe.a;if(Ne=Ne==0){if(Ne){oe.$c=0,0<oe.Aa||(oe.Ic=iM);t:{Ne=oe.Ic,ke=4*($e=oe.za);var lt=32*$e,et=$e+1,Lt=0<oe.L?$e*(0<oe.Aa?2:1):0,nt=(oe.Aa==2?2:1)*$e;if((Re=ke+832+(Ee=3*(16*Ne+gg[oe.L])/2*lt)+(Ie=oe.Fa!=null&&0<oe.Fa.length?oe.Kc.c*oe.Kc.i:0))!=Re)Ne=0;else{if(Re>oe.Vb){if(oe.Vb=0,oe.Ec=s(Re),oe.Fc=0,oe.Ec==null){Ne=un(oe,1,"no memory during frame initialization.");break t}oe.Vb=Re}Re=oe.Ec,ze=oe.Fc,oe.Ac=Re,oe.Bc=ze,ze+=ke,oe.Gd=o(lt,Wp),oe.Hd=0,oe.rb=o(et+1,Hf),oe.sb=1,oe.wa=Lt?o(Lt,wi):null,oe.Y=0,oe.D.Nb=0,oe.D.wa=oe.wa,oe.D.Y=oe.Y,0<oe.Aa&&(oe.D.Y+=$e),t(!0),oe.oc=Re,oe.pc=ze,ze+=832,oe.ya=o(nt,Vf),oe.aa=0,oe.D.ya=oe.ya,oe.D.aa=oe.aa,oe.Aa==2&&(oe.D.aa+=$e),oe.R=16*$e,oe.B=8*$e,$e=(lt=gg[oe.L])*oe.R,lt=lt/2*oe.B,oe.sa=Re,oe.ta=ze+$e,oe.qa=oe.sa,oe.ra=oe.ta+16*Ne*oe.R+lt,oe.Ha=oe.qa,oe.Ia=oe.ra+8*Ne*oe.B+lt,oe.$c=0,ze+=Ee,oe.mb=Ie?Re:null,oe.nb=Ie?ze:null,t(ze+Ie<=oe.Fc+oe.Vb),Kp(oe),i(oe.Ac,oe.Bc,0,ke),Ne=1}}if(Ne){if(ve.ka=0,ve.y=oe.sa,ve.O=oe.ta,ve.f=oe.qa,ve.N=oe.ra,ve.ea=oe.Ha,ve.Vd=oe.Ia,ve.fa=oe.R,ve.Rc=oe.B,ve.F=null,ve.J=0,!FS){for(Ne=-255;255>=Ne;++Ne)RS[255+Ne]=0>Ne?-Ne:Ne;for(Ne=-1020;1020>=Ne;++Ne)MS[1020+Ne]=-128>Ne?-128:127<Ne?127:Ne;for(Ne=-112;112>=Ne;++Ne)DS[112+Ne]=-16>Ne?-16:15<Ne?15:Ne;for(Ne=-255;510>=Ne;++Ne)$S[255+Ne]=0>Ne?0:255<Ne?255:Ne;FS=1}ll=Lu,bc=Wv,Ps=As,er=Jp,hr=Zp,Si=Vv,Jr=ng,yn=fc,co=H,uh=le,Bu=ag,og=T,ES=he,_S=we,PS=dc,TS=Qf,CS=tg,kS=rg,Xi[0]=e1,Xi[1]=Gv,Xi[2]=Zv,Xi[3]=Qv,Xi[4]=Qs,Xi[5]=t1,Xi[6]=eo,Xi[7]=r1,Xi[8]=Yf,Xi[9]=Ru,cl[0]=Xv,cl[1]=Kv,cl[2]=Wf,cl[3]=Qp,cl[4]=cc,cl[5]=Gf,cl[6]=Jv,uo[0]=a1,uo[1]=Yv,uo[2]=uc,uo[3]=n1,uo[4]=Xf,uo[5]=Kf,uo[6]=eg,Ne=1}else Ne=0}Ne&&(Ne=function(qt,vn){for(qt.M=0;qt.M<qt.Va;++qt.M){var Rt,at=qt.Jc[qt.M&qt.Xb],Ye=qt.m,Zr=qt;for(Rt=0;Rt<Zr.za;++Rt){var Tt=Ye,Ht=Zr,Er=Ht.Ac,Hn=Ht.Bc+4*Rt,ya=Ht.zc,Hr=Ht.ya[Ht.aa+Rt];if(Ht.Qa.Bb?Hr.$b=pe(Tt,Ht.Pa.jb[0])?2+pe(Tt,Ht.Pa.jb[2]):pe(Tt,Ht.Pa.jb[1]):Hr.$b=0,Ht.kc&&(Hr.Ad=pe(Tt,Ht.Bd)),Hr.Za=!pe(Tt,145)+0,Hr.Za){var ea=Hr.Ob,va=0;for(Ht=0;4>Ht;++Ht){var bn,Kt=ya[0+Ht];for(bn=0;4>bn;++bn){Kt=H7[Er[Hn+bn]][Kt];for(var ar=qS[pe(Tt,Kt[0])];0<ar;)ar=qS[2*ar+pe(Tt,Kt[ar])];Kt=-ar,Er[Hn+bn]=Kt}n(ea,va,Er,Hn,4),va+=4,ya[0+Ht]=Kt}}else Kt=pe(Tt,156)?pe(Tt,128)?1:3:pe(Tt,163)?2:0,Hr.Ob[0]=Kt,i(Er,Hn,Kt,4),i(ya,0,Kt,4);Hr.Dd=pe(Tt,142)?pe(Tt,114)?pe(Tt,183)?1:3:2:0}if(Zr.m.Ka)return un(qt,7,"Premature end-of-partition0 encountered.");for(;qt.ja<qt.za;++qt.ja){if(Zr=at,Tt=(Ye=qt).rb[Ye.sb-1],Er=Ye.rb[Ye.sb+Ye.ja],Rt=Ye.ya[Ye.aa+Ye.ja],Hn=Ye.kc?Rt.Ad:0)Tt.la=Er.la=0,Rt.Za||(Tt.Na=Er.Na=0),Rt.Hc=0,Rt.Gc=0,Rt.ia=0;else{var Vr,ir;if(Tt=Er,Er=Zr,Hn=Ye.Pa.Xc,ya=Ye.ya[Ye.aa+Ye.ja],Hr=Ye.pb[ya.$b],Ht=ya.ad,ea=0,va=Ye.rb[Ye.sb-1],Kt=bn=0,i(Ht,ea,0,384),ya.Za)var Vn=0,Ji=Hn[3];else{ar=s(16);var Qr=Tt.Na+va.Na;if(Qr=fh(Er,Hn[1],Qr,Hr.Eb,0,ar,0),Tt.Na=va.Na=(0<Qr)+0,1<Qr)ll(ar,0,Ht,ea);else{var Ra=ar[0]+3>>3;for(ar=0;256>ar;ar+=16)Ht[ea+ar]=Ra}Vn=1,Ji=Hn[0]}var mr=15&Tt.la,wn=15&va.la;for(ar=0;4>ar;++ar){var Qa=1&wn;for(Ra=ir=0;4>Ra;++Ra)mr=mr>>1|(Qa=(Qr=fh(Er,Ji,Qr=Qa+(1&mr),Hr.Sc,Vn,Ht,ea))>Vn)<<7,ir=ir<<2|(3<Qr?3:1<Qr?2:Ht[ea+0]!=0),ea+=16;mr>>=4,wn=wn>>1|Qa<<7,bn=(bn<<8|ir)>>>0}for(Ji=mr,Vn=wn>>4,Vr=0;4>Vr;Vr+=2){for(ir=0,mr=Tt.la>>4+Vr,wn=va.la>>4+Vr,ar=0;2>ar;++ar){for(Qa=1&wn,Ra=0;2>Ra;++Ra)Qr=Qa+(1&mr),mr=mr>>1|(Qa=0<(Qr=fh(Er,Hn[2],Qr,Hr.Qc,0,Ht,ea)))<<3,ir=ir<<2|(3<Qr?3:1<Qr?2:Ht[ea+0]!=0),ea+=16;mr>>=2,wn=wn>>1|Qa<<5}Kt|=ir<<4*Vr,Ji|=mr<<4<<Vr,Vn|=(240&wn)<<Vr}Tt.la=Ji,va.la=Vn,ya.Hc=bn,ya.Gc=Kt,ya.ia=43690&Kt?0:Hr.ia,Hn=!(bn|Kt)}if(0<Ye.L&&(Ye.wa[Ye.Y+Ye.ja]=Ye.gd[Rt.$b][Rt.Za],Ye.wa[Ye.Y+Ye.ja].La|=!Hn),Zr.Ka)return un(qt,7,"Premature end-of-file encountered.")}if(Kp(qt),Ye=vn,Zr=1,Rt=(at=qt).D,Tt=0<at.L&&at.M>=at.zb&&at.M<=at.Va,at.Aa==0)t:{if(Rt.M=at.M,Rt.uc=Tt,ji(at,Rt),Zr=1,Rt=(ir=at.D).Nb,Tt=(Kt=gg[at.L])*at.R,Er=Kt/2*at.B,ar=16*Rt*at.R,Ra=8*Rt*at.B,Hn=at.sa,ya=at.ta-Tt+ar,Hr=at.qa,Ht=at.ra-Er+Ra,ea=at.Ha,va=at.Ia-Er+Ra,wn=(mr=ir.M)==0,bn=mr>=at.Va-1,at.Aa==2&&ji(at,ir),ir.uc)for(Qa=(Qr=at).D.M,t(Qr.D.uc),ir=Qr.yb;ir<Qr.Hb;++ir){Vn=ir,Ji=Qa;var ba=(ei=(Wn=Qr).D).Nb;Vr=Wn.R;var ei=ei.wa[ei.Y+Vn],ti=Wn.sa,Ma=Wn.ta+16*ba*Vr+16*Vn,ri=ei.dd,br=ei.tc;if(br!=0)if(t(3<=br),Wn.L==1)0<Vn&&TS(ti,Ma,Vr,br+4),ei.La&&kS(ti,Ma,Vr,br),0<Ji&&PS(ti,Ma,Vr,br+4),ei.La&&CS(ti,Ma,Vr,br);else{var ni=Wn.B,Zi=Wn.qa,wc=Wn.ra+8*ba*ni+8*Vn,fo=Wn.Ha,Wn=Wn.Ia+8*ba*ni+8*Vn;ba=ei.ld,0<Vn&&(yn(ti,Ma,Vr,br+4,ri,ba),uh(Zi,wc,fo,Wn,ni,br+4,ri,ba)),ei.La&&(og(ti,Ma,Vr,br,ri,ba),_S(Zi,wc,fo,Wn,ni,br,ri,ba)),0<Ji&&(Jr(ti,Ma,Vr,br+4,ri,ba),co(Zi,wc,fo,Wn,ni,br+4,ri,ba)),ei.La&&(Bu(ti,Ma,Vr,br,ri,ba),ES(Zi,wc,fo,Wn,ni,br,ri,ba))}}if(at.ia&&alert("todo:DitherRow"),Ye.put!=null){if(ir=16*mr,mr=16*(mr+1),wn?(Ye.y=at.sa,Ye.O=at.ta+ar,Ye.f=at.qa,Ye.N=at.ra+Ra,Ye.ea=at.Ha,Ye.W=at.Ia+Ra):(ir-=Kt,Ye.y=Hn,Ye.O=ya,Ye.f=Hr,Ye.N=Ht,Ye.ea=ea,Ye.W=va),bn||(mr-=Kt),mr>Ye.o&&(mr=Ye.o),Ye.F=null,Ye.J=null,at.Fa!=null&&0<at.Fa.length&&ir<mr&&(Ye.J=vr(at,Ye,ir,mr-ir),Ye.F=at.mb,Ye.F==null&&Ye.F.length==0)){Zr=un(at,3,"Could not decode alpha data.");break t}ir<Ye.j&&(Kt=Ye.j-ir,ir=Ye.j,t(!(1&Kt)),Ye.O+=at.R*Kt,Ye.N+=at.B*(Kt>>1),Ye.W+=at.B*(Kt>>1),Ye.F!=null&&(Ye.J+=Ye.width*Kt)),ir<mr&&(Ye.O+=Ye.v,Ye.N+=Ye.v>>1,Ye.W+=Ye.v>>1,Ye.F!=null&&(Ye.J+=Ye.v),Ye.ka=ir-Ye.j,Ye.U=Ye.va-Ye.v,Ye.T=mr-ir,Zr=Ye.put(Ye))}Rt+1!=at.Ic||bn||(n(at.sa,at.ta-Tt,Hn,ya+16*at.R,Tt),n(at.qa,at.ra-Er,Hr,Ht+8*at.B,Er),n(at.Ha,at.Ia-Er,ea,va+8*at.B,Er))}if(!Zr)return un(qt,6,"Output aborted.")}return 1}(oe,ve)),ve.bc!=null&&ve.bc(ve),Ne&=1}return Ne?(oe.cb=0,Ne):0})(g,F)||(j=g.a)}}else j=g.a}j==0&&J.Oa!=null&&J.Oa.fd&&(j=ah(J.ba))}J=j}K=J!=0?null:11>K?ee.f.RGBA.eb:ee.f.kb.y}else K=null;return K};var JS=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(P,D){for(var A="",I=0;I<4;I++)A+=String.fromCharCode(P[D++]);return A}function d(P,D){return P[D+0]|P[D+1]<<8}function f(P,D){return(P[D+0]|P[D+1]<<8|P[D+2]<<16)>>>0}function m(P,D){return(P[D+0]|P[D+1]<<8|P[D+2]<<16|P[D+3]<<24)>>>0}new c;var h=[0],p=[0],y=[],v=new c,x=e,b=function(P,D){var A={},I=0,$=!1,_=0,M=0;if(A.frames=[],!function(B,G){for(var te=0;te<4;te++)if(B[G+te]!="RIFF".charCodeAt(te))return!0;return!1}(P,D)){for(m(P,D+=4),D+=8;D<P.length;){var z=u(P,D),Z=m(P,D+=4);D+=4;var R=Z+(1&Z);switch(z){case"VP8 ":case"VP8L":A.frames[I]===void 0&&(A.frames[I]={}),(de=A.frames[I]).src_off=$?M:D-8,de.src_size=_+Z+8,I++,$&&($=!1,_=0,M=0);break;case"VP8X":(de=A.header={}).feature_flags=P[D];var U=D+4;de.canvas_width=1+f(P,U),U+=3,de.canvas_height=1+f(P,U),U+=3;break;case"ALPH":$=!0,_=R+8,M=D-8;break;case"ANIM":(de=A.header).bgcolor=m(P,D),U=D+4,de.loop_count=d(P,U),U+=2;break;case"ANMF":var re,de;(de=A.frames[I]={}).offset_x=2*f(P,D),D+=3,de.offset_y=2*f(P,D),D+=3,de.width=1+f(P,D),D+=3,de.height=1+f(P,D),D+=3,de.duration=f(P,D),D+=3,re=P[D++],de.dispose=1&re,de.blend=re>>1&1}z!="ANMF"&&(D+=R)}return A}}(x,0);b.response=x,b.rgbaoutput=!0,b.dataurl=!1;var N=b.header?b.header:null,w=b.frames?b.frames:null;if(N){N.loop_counter=N.loop_count,h=[N.canvas_height],p=[N.canvas_width];for(var S=0;S<w.length&&w[S].blend!=0;S++);}var E=w[0],C=v.WebPDecodeRGBA(x,E.src_off,E.src_size,p,h);E.rgba=C,E.imgwidth=p[0],E.imgheight=h[0];for(var k=0;k<p[0]*h[0]*4;k++)y[k]=C[k];return this.width=p,this.height=h,this.data=y,this}(function(e){var t,r,n,i,s,o,l,c,u,d=function(B){return B=B||{},this.isStrokeTransparent=B.isStrokeTransparent||!1,this.strokeOpacity=B.strokeOpacity||1,this.strokeStyle=B.strokeStyle||"#000000",this.fillStyle=B.fillStyle||"#000000",this.isFillTransparent=B.isFillTransparent||!1,this.fillOpacity=B.fillOpacity||1,this.font=B.font||"10px sans-serif",this.textBaseline=B.textBaseline||"alphabetic",this.textAlign=B.textAlign||"left",this.lineWidth=B.lineWidth||1,this.lineJoin=B.lineJoin||"miter",this.lineCap=B.lineCap||"butt",this.path=B.path||[],this.transform=B.transform!==void 0?B.transform.clone():new c,this.globalCompositeOperation=B.globalCompositeOperation||"normal",this.globalAlpha=B.globalAlpha||1,this.clip_path=B.clip_path||[],this.currentPoint=B.currentPoint||new o,this.miterLimit=B.miterLimit||10,this.lastPoint=B.lastPoint||new o,this.lineDashOffset=B.lineDashOffset||0,this.lineDash=B.lineDash||[],this.margin=B.margin||[0,0,0,0],this.prevPageLastElemOffset=B.prevPageLastElemOffset||0,this.ignoreClearRect=typeof B.ignoreClearRect!="boolean"||B.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(B){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=B;Object.defineProperty(this,"pdf",{get:function(){return G}});var te=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return te},set:function(Y){te=!!Y}});var ue=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ue},set:function(Y){ue=!!Y}});var q=0;Object.defineProperty(this,"posX",{get:function(){return q},set:function(Y){isNaN(Y)||(q=Y)}});var X=0;Object.defineProperty(this,"posY",{get:function(){return X},set:function(Y){isNaN(Y)||(X=Y)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Y){var Te;typeof Y=="number"?Te=[Y,Y,Y,Y]:((Te=new Array(4))[0]=Y[0],Te[1]=Y.length>=2?Y[1]:Te[0],Te[2]=Y.length>=3?Y[2]:Te[0],Te[3]=Y.length>=4?Y[3]:Te[1]),u.margin=Te}});var Q=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Q},set:function(Y){Q=Y}});var ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return ne},set:function(Y){ne=Y}});var pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return pe},set:function(Y){pe=Y}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Y){Y instanceof d&&(u=Y)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Y){u.path=Y}});var ie=[];Object.defineProperty(this,"ctxStack",{get:function(){return ie},set:function(Y){ie=Y}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Y){var Te;Te=m(Y),this.ctx.fillStyle=Te.style,this.ctx.isFillTransparent=Te.a===0,this.ctx.fillOpacity=Te.a,this.pdf.setFillColor(Te.r,Te.g,Te.b,{a:Te.a}),this.pdf.setTextColor(Te.r,Te.g,Te.b,{a:Te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Y){var Te=m(Y);this.ctx.strokeStyle=Te.style,this.ctx.isStrokeTransparent=Te.a===0,this.ctx.strokeOpacity=Te.a,Te.a===0?this.pdf.setDrawColor(255,255,255):(Te.a,this.pdf.setDrawColor(Te.r,Te.g,Te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Y){["butt","round","square"].indexOf(Y)!==-1&&(this.ctx.lineCap=Y,this.pdf.setLineCap(Y))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Y){isNaN(Y)||(this.ctx.lineWidth=Y,this.pdf.setLineWidth(Y))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Y){["bevel","round","miter"].indexOf(Y)!==-1&&(this.ctx.lineJoin=Y,this.pdf.setLineJoin(Y))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Y){isNaN(Y)||(this.ctx.miterLimit=Y,this.pdf.setMiterLimit(Y))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Y){this.ctx.textBaseline=Y}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Y){["right","end","center","left","start"].indexOf(Y)!==-1&&(this.ctx.textAlign=Y)}});var W=null,fe=null,Ae=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ae},set:function(Y){W=null,fe=null,Ae=Y}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Y){var Te;if(this.ctx.font=Y,(Te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Y))!==null){var qe=Te[1];Te[2];var be=Te[3],je=Te[4];Te[5];var Me=Te[6],Ue=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(je)[2];je=Math.floor(Ue==="px"?parseFloat(je)*this.pdf.internal.scaleFactor:Ue==="em"?parseFloat(je)*this.pdf.getFontSize():parseFloat(je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(je);var Ge=function(Fe){var Pt,Ft,At=[],Ot=Fe.trim();if(Ot==="")return Xb;if(Ot in tT)return[tT[Ot]];for(;Ot!=="";){switch(Ft=null,Pt=(Ot=nT(Ot)).charAt(0)){case'"':case"'":Ft=$ye(Ot.substring(1),Pt);break;default:Ft=Fye(Ot)}if(Ft===null||(At.push(Ft[0]),(Ot=nT(Ft[1]))!==""&&Ot.charAt(0)!==","))return Xb;Ot=Ot.replace(/^,/,"")}return At}(Me);if(this.fontFaces){var We=function(Fe,Pt){var Ft=Fe.getFontList(),At=JSON.stringify(Ft);if(W===null||fe!==At){var Ot=function(xr){var ft=[];return Object.keys(xr).forEach(function(ur){xr[ur].forEach(function(mt){var wt=null;switch(mt){case"bold":wt={family:ur,weight:"bold"};break;case"italic":wt={family:ur,style:"italic"};break;case"bolditalic":wt={family:ur,weight:"bold",style:"italic"};break;case"":case"normal":wt={family:ur}}wt!==null&&(wt.ref={name:ur,style:mt},ft.push(wt))})}),ft}(Ft);W=function(xr){for(var ft={},ur=0;ur<xr.length;++ur){var mt=Kb(xr[ur]),wt=mt.family,yr=mt.stretch,It=mt.style,ht=mt.weight;ft[wt]=ft[wt]||{},ft[wt][yr]=ft[wt][yr]||{},ft[wt][yr][It]=ft[wt][yr][It]||{},ft[wt][yr][It][ht]=mt}return ft}(Ot.concat(Pt)),fe=At}return W}(this.pdf,this.fontFaces),_t=Ge.map(function(Fe){return{family:Fe,stretch:"normal",weight:be,style:qe}}),pt=function(Fe,Pt,Ft){for(var At=(Ft=Ft||{}).defaultFontFamily||"times",Ot=Object.assign({},Dye,Ft.genericFontFamilies||{}),xr=null,ft=null,ur=0;ur<Pt.length;++ur)if(Ot[(xr=Kb(Pt[ur])).family]&&(xr.family=Ot[xr.family]),Fe.hasOwnProperty(xr.family)){ft=Fe[xr.family];break}if(!(ft=ft||Fe[At]))throw new Error("Could not find a font-family for the rule '"+rT(xr)+"' and default family '"+At+"'.");if(ft=function(mt,wt){if(wt[mt])return wt[mt];var yr=ij[mt],It=yr<=ij.normal?-1:1,ht=eT(wt,S7,yr,It);if(!ht)throw new Error("Could not find a matching font-stretch value for "+mt);return ht}(xr.stretch,ft),ft=function(mt,wt){if(wt[mt])return wt[mt];for(var yr=j7[mt],It=0;It<yr.length;++It)if(wt[yr[It]])return wt[yr[It]];throw new Error("Could not find a matching font-style for "+mt)}(xr.style,ft),!(ft=function(mt,wt){if(wt[mt])return wt[mt];if(mt===400&&wt[500])return wt[500];if(mt===500&&wt[400])return wt[400];var yr=Mye[mt],It=eT(wt,A7,yr,mt<400?-1:1);if(!It)throw new Error("Could not find a matching font-weight for value "+mt);return It}(xr.weight,ft)))throw new Error("Failed to resolve a font for the rule '"+rT(xr)+"'.");return ft}(We,_t);this.pdf.setFont(pt.ref.name,pt.ref.style)}else{var vt="";(be==="bold"||parseInt(be,10)>=700||qe==="bold")&&(vt="bold"),qe==="italic"&&(vt+="italic"),vt.length===0&&(vt="normal");for(var $t="",ye={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Be=0;Be<Ge.length;Be++){if(this.pdf.internal.getFont(Ge[Be],vt,{noFallback:!0,disableWarning:!0})!==void 0){$t=Ge[Be];break}if(vt==="bolditalic"&&this.pdf.internal.getFont(Ge[Be],"bold",{noFallback:!0,disableWarning:!0})!==void 0)$t=Ge[Be],vt="bold";else if(this.pdf.internal.getFont(Ge[Be],"normal",{noFallback:!0,disableWarning:!0})!==void 0){$t=Ge[Be],vt="normal";break}}if($t===""){for(var Je=0;Je<Ge.length;Je++)if(ye[Ge[Je]]){$t=ye[Ge[Je]];break}}$t=$t===""?"Times":$t,this.pdf.setFont($t,vt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Y){this.ctx.globalCompositeOperation=Y}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Y){this.ctx.globalAlpha=Y}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Y){this.ctx.lineDashOffset=Y,de.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Y){this.ctx.lineDash=Y,de.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Y){this.ctx.ignoreClearRect=!!Y}})};f.prototype.setLineDash=function(B){this.lineDash=B},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){w.call(this,"fill",!1)},f.prototype.stroke=function(){w.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(B,G){if(isNaN(B)||isNaN(G))throw pr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var te=this.ctx.transform.applyToPoint(new o(B,G));this.path.push({type:"mt",x:te.x,y:te.y}),this.ctx.lastPoint=new o(B,G)},f.prototype.closePath=function(){var B=new o(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&sr(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){B=new o(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(B.x,B.y)},f.prototype.lineTo=function(B,G){if(isNaN(B)||isNaN(G))throw pr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var te=this.ctx.transform.applyToPoint(new o(B,G));this.path.push({type:"lt",x:te.x,y:te.y}),this.ctx.lastPoint=new o(te.x,te.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},f.prototype.quadraticCurveTo=function(B,G,te,ue){if(isNaN(te)||isNaN(ue)||isNaN(B)||isNaN(G))throw pr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var q=this.ctx.transform.applyToPoint(new o(te,ue)),X=this.ctx.transform.applyToPoint(new o(B,G));this.path.push({type:"qct",x1:X.x,y1:X.y,x:q.x,y:q.y}),this.ctx.lastPoint=new o(q.x,q.y)},f.prototype.bezierCurveTo=function(B,G,te,ue,q,X){if(isNaN(q)||isNaN(X)||isNaN(B)||isNaN(G)||isNaN(te)||isNaN(ue))throw pr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Q=this.ctx.transform.applyToPoint(new o(q,X)),ne=this.ctx.transform.applyToPoint(new o(B,G)),pe=this.ctx.transform.applyToPoint(new o(te,ue));this.path.push({type:"bct",x1:ne.x,y1:ne.y,x2:pe.x,y2:pe.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},f.prototype.arc=function(B,G,te,ue,q,X){if(isNaN(B)||isNaN(G)||isNaN(te)||isNaN(ue)||isNaN(q))throw pr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(X=!!X,!this.ctx.transform.isIdentity){var Q=this.ctx.transform.applyToPoint(new o(B,G));B=Q.x,G=Q.y;var ne=this.ctx.transform.applyToPoint(new o(0,te)),pe=this.ctx.transform.applyToPoint(new o(0,0));te=Math.sqrt(Math.pow(ne.x-pe.x,2)+Math.pow(ne.y-pe.y,2))}Math.abs(q-ue)>=2*Math.PI&&(ue=0,q=2*Math.PI),this.path.push({type:"arc",x:B,y:G,radius:te,startAngle:ue,endAngle:q,counterclockwise:X})},f.prototype.arcTo=function(B,G,te,ue,q){throw new Error("arcTo not implemented.")},f.prototype.rect=function(B,G,te,ue){if(isNaN(B)||isNaN(G)||isNaN(te)||isNaN(ue))throw pr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(B,G),this.lineTo(B+te,G),this.lineTo(B+te,G+ue),this.lineTo(B,G+ue),this.lineTo(B,G),this.lineTo(B+te,G),this.lineTo(B,G)},f.prototype.fillRect=function(B,G,te,ue){if(isNaN(B)||isNaN(G)||isNaN(te)||isNaN(ue))throw pr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var q={};this.lineCap!=="butt"&&(q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(B,G,te,ue),this.fill(),q.hasOwnProperty("lineCap")&&(this.lineCap=q.lineCap),q.hasOwnProperty("lineJoin")&&(this.lineJoin=q.lineJoin)}},f.prototype.strokeRect=function(B,G,te,ue){if(isNaN(B)||isNaN(G)||isNaN(te)||isNaN(ue))throw pr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(B,G,te,ue),this.stroke())},f.prototype.clearRect=function(B,G,te,ue){if(isNaN(B)||isNaN(G)||isNaN(te)||isNaN(ue))throw pr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(B,G,te,ue))},f.prototype.save=function(B){B=typeof B!="boolean"||B;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),B){this.ctx.fontSize=this.pdf.internal.getFontSize();var ue=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ue}},f.prototype.restore=function(B){B=typeof B!="boolean"||B;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("Q");this.pdf.setPage(G),B&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(B){var G,te,ue,q;if(B.isCanvasGradient===!0&&(B=B.getColor()),!B)return{r:0,g:0,b:0,a:0,style:B};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(B))G=0,te=0,ue=0,q=0;else{var X=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(B);if(X!==null)G=parseInt(X[1]),te=parseInt(X[2]),ue=parseInt(X[3]),q=1;else if((X=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(B))!==null)G=parseInt(X[1]),te=parseInt(X[2]),ue=parseInt(X[3]),q=parseFloat(X[4]);else{if(q=1,typeof B=="string"&&B.charAt(0)!=="#"){var Q=new g7(B);B=Q.ok?Q.toHex():"#000000"}B.length===4?(G=B.substring(1,2),G+=G,te=B.substring(2,3),te+=te,ue=B.substring(3,4),ue+=ue):(G=B.substring(1,3),te=B.substring(3,5),ue=B.substring(5,7)),G=parseInt(G,16),te=parseInt(te,16),ue=parseInt(ue,16)}}return{r:G,g:te,b:ue,a:q,style:B}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},p=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(B,G,te,ue){if(isNaN(G)||isNaN(te)||typeof B!="string")throw pr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ue=isNaN(ue)?void 0:ue,!h.call(this)){var q=R(this.ctx.transform.rotation),X=this.ctx.transform.scaleX;I.call(this,{text:B,x:G,y:te,scale:X,angle:q,align:this.textAlign,maxWidth:ue})}},f.prototype.strokeText=function(B,G,te,ue){if(isNaN(G)||isNaN(te)||typeof B!="string")throw pr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){ue=isNaN(ue)?void 0:ue;var q=R(this.ctx.transform.rotation),X=this.ctx.transform.scaleX;I.call(this,{text:B,x:G,y:te,scale:X,renderingMode:"stroke",angle:q,align:this.textAlign,maxWidth:ue})}},f.prototype.measureText=function(B){if(typeof B!="string")throw pr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,te=this.pdf.internal.scaleFactor,ue=G.internal.getFontSize(),q=G.getStringUnitWidth(B)*ue/G.internal.scaleFactor;return new function(X){var Q=(X=X||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Q}}),this}({width:q*=Math.round(96*te/72*1e4)/1e4})},f.prototype.scale=function(B,G){if(isNaN(B)||isNaN(G))throw pr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var te=new c(B,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(te)},f.prototype.rotate=function(B){if(isNaN(B))throw pr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new c(Math.cos(B),Math.sin(B),-Math.sin(B),Math.cos(B),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},f.prototype.translate=function(B,G){if(isNaN(B)||isNaN(G))throw pr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var te=new c(1,0,0,1,B,G);this.ctx.transform=this.ctx.transform.multiply(te)},f.prototype.transform=function(B,G,te,ue,q,X){if(isNaN(B)||isNaN(G)||isNaN(te)||isNaN(ue)||isNaN(q)||isNaN(X))throw pr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Q=new c(B,G,te,ue,q,X);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.setTransform=function(B,G,te,ue,q,X){B=isNaN(B)?1:B,G=isNaN(G)?0:G,te=isNaN(te)?0:te,ue=isNaN(ue)?1:ue,q=isNaN(q)?0:q,X=isNaN(X)?0:X,this.ctx.transform=new c(B,G,te,ue,q,X)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(B,G,te,ue,q,X,Q,ne,pe){var ie=this.pdf.getImageProperties(B),W=1,fe=1,Ae=1,Y=1;ue!==void 0&&ne!==void 0&&(Ae=ne/ue,Y=pe/q,W=ie.width/ue*ne/ue,fe=ie.height/q*pe/q),X===void 0&&(X=G,Q=te,G=0,te=0),ue!==void 0&&ne===void 0&&(ne=ue,pe=q),ue===void 0&&ne===void 0&&(ne=ie.width,pe=ie.height);var Te=this.ctx.transform.decompose(),qe=R(Te.rotate.shx),be=new c,je=(be=(be=(be=be.multiply(Te.translate)).multiply(Te.skew)).multiply(Te.scale)).applyToRectangle(new l(X-G*Ae,Q-te*Y,ue*W,q*fe));if(this.autoPaging){for(var Me,Ue=v.call(this,je),Ge=[],We=0;We<Ue.length;We+=1)Ge.indexOf(Ue[We])===-1&&Ge.push(Ue[We]);N(Ge);for(var _t=Ge[0],pt=Ge[Ge.length-1],vt=_t;vt<pt+1;vt++){this.pdf.setPage(vt);var $t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ye=vt===1?this.posY+this.margin[0]:this.margin[0],Be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Je=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Fe=vt===1?0:Be+(vt-2)*Je;if(this.ctx.clip_path.length!==0){var Pt=this.path;Me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Me,this.posX+this.margin[3],-Fe+ye+this.ctx.prevPageLastElemOffset),S.call(this,"fill",!0),this.path=Pt}var Ft=JSON.parse(JSON.stringify(je));Ft=b([Ft],this.posX+this.margin[3],-Fe+ye+this.ctx.prevPageLastElemOffset)[0];var At=(vt>_t||vt<pt)&&y.call(this);At&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$t,Je,null).clip().discardPath()),this.pdf.addImage(B,"JPEG",Ft.x,Ft.y,Ft.w,Ft.h,null,null,qe),At&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(B,"JPEG",je.x,je.y,je.w,je.h,null,null,qe)};var v=function(B,G,te){var ue=[];G=G||this.pdf.internal.pageSize.width,te=te||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var q=this.posY+this.ctx.prevPageLastElemOffset;switch(B.type){default:case"mt":case"lt":ue.push(Math.floor((B.y+q)/te)+1);break;case"arc":ue.push(Math.floor((B.y+q-B.radius)/te)+1),ue.push(Math.floor((B.y+q+B.radius)/te)+1);break;case"qct":var X=U(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x,B.y);ue.push(Math.floor((X.y+q)/te)+1),ue.push(Math.floor((X.y+X.h+q)/te)+1);break;case"bct":var Q=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x2,B.y2,B.x,B.y);ue.push(Math.floor((Q.y+q)/te)+1),ue.push(Math.floor((Q.y+Q.h+q)/te)+1);break;case"rect":ue.push(Math.floor((B.y+q)/te)+1),ue.push(Math.floor((B.y+B.h+q)/te)+1)}for(var ne=0;ne<ue.length;ne+=1)for(;this.pdf.internal.getNumberOfPages()<ue[ne];)x.call(this);return ue},x=function(){var B=this.fillStyle,G=this.strokeStyle,te=this.font,ue=this.lineCap,q=this.lineWidth,X=this.lineJoin;this.pdf.addPage(),this.fillStyle=B,this.strokeStyle=G,this.font=te,this.lineCap=ue,this.lineWidth=q,this.lineJoin=X},b=function(B,G,te){for(var ue=0;ue<B.length;ue++)switch(B[ue].type){case"bct":B[ue].x2+=G,B[ue].y2+=te;case"qct":B[ue].x1+=G,B[ue].y1+=te;default:B[ue].x+=G,B[ue].y+=te}return B},N=function(B){return B.sort(function(G,te){return G-te})},w=function(B,G){var te=this.fillStyle,ue=this.strokeStyle,q=this.lineCap,X=this.lineWidth,Q=Math.abs(X*this.ctx.transform.scaleX),ne=this.lineJoin;if(this.autoPaging){for(var pe,ie,W=JSON.parse(JSON.stringify(this.path)),fe=JSON.parse(JSON.stringify(this.path)),Ae=[],Y=0;Y<fe.length;Y++)if(fe[Y].x!==void 0)for(var Te=v.call(this,fe[Y]),qe=0;qe<Te.length;qe+=1)Ae.indexOf(Te[qe])===-1&&Ae.push(Te[qe]);for(var be=0;be<Ae.length;be++)for(;this.pdf.internal.getNumberOfPages()<Ae[be];)x.call(this);N(Ae);for(var je=Ae[0],Me=Ae[Ae.length-1],Ue=je;Ue<Me+1;Ue++){this.pdf.setPage(Ue),this.fillStyle=te,this.strokeStyle=ue,this.lineCap=q,this.lineWidth=Q,this.lineJoin=ne;var Ge=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],We=Ue===1?this.posY+this.margin[0]:this.margin[0],_t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],vt=Ue===1?0:_t+(Ue-2)*pt;if(this.ctx.clip_path.length!==0){var $t=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(pe,this.posX+this.margin[3],-vt+We+this.ctx.prevPageLastElemOffset),S.call(this,B,!0),this.path=$t}if(ie=JSON.parse(JSON.stringify(W)),this.path=b(ie,this.posX+this.margin[3],-vt+We+this.ctx.prevPageLastElemOffset),G===!1||Ue===0){var ye=(Ue>je||Ue<Me)&&y.call(this);ye&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,pt,null).clip().discardPath()),S.call(this,B,G),ye&&this.pdf.restoreGraphicsState()}this.lineWidth=X}this.path=W}else this.lineWidth=Q,S.call(this,B,G),this.lineWidth=X},S=function(B,G){if((B!=="stroke"||G||!p.call(this))&&(B==="stroke"||G||!h.call(this))){for(var te,ue,q=[],X=this.path,Q=0;Q<X.length;Q++){var ne=X[Q];switch(ne.type){case"begin":q.push({begin:!0});break;case"close":q.push({close:!0});break;case"mt":q.push({start:ne,deltas:[],abs:[]});break;case"lt":var pe=q.length;if(X[Q-1]&&!isNaN(X[Q-1].x)&&(te=[ne.x-X[Q-1].x,ne.y-X[Q-1].y],pe>0)){for(;pe>=0;pe--)if(q[pe-1].close!==!0&&q[pe-1].begin!==!0){q[pe-1].deltas.push(te),q[pe-1].abs.push(ne);break}}break;case"bct":te=[ne.x1-X[Q-1].x,ne.y1-X[Q-1].y,ne.x2-X[Q-1].x,ne.y2-X[Q-1].y,ne.x-X[Q-1].x,ne.y-X[Q-1].y],q[q.length-1].deltas.push(te);break;case"qct":var ie=X[Q-1].x+2/3*(ne.x1-X[Q-1].x),W=X[Q-1].y+2/3*(ne.y1-X[Q-1].y),fe=ne.x+2/3*(ne.x1-ne.x),Ae=ne.y+2/3*(ne.y1-ne.y),Y=ne.x,Te=ne.y;te=[ie-X[Q-1].x,W-X[Q-1].y,fe-X[Q-1].x,Ae-X[Q-1].y,Y-X[Q-1].x,Te-X[Q-1].y],q[q.length-1].deltas.push(te);break;case"arc":q.push({deltas:[],abs:[],arc:!0}),Array.isArray(q[q.length-1].abs)&&q[q.length-1].abs.push(ne)}}ue=G?null:B==="stroke"?"stroke":"fill";for(var qe=!1,be=0;be<q.length;be++)if(q[be].arc)for(var je=q[be].abs,Me=0;Me<je.length;Me++){var Ue=je[Me];Ue.type==="arc"?k.call(this,Ue.x,Ue.y,Ue.radius,Ue.startAngle,Ue.endAngle,Ue.counterclockwise,void 0,G,!qe):$.call(this,Ue.x,Ue.y),qe=!0}else if(q[be].close===!0)this.pdf.internal.out("h"),qe=!1;else if(q[be].begin!==!0){var Ge=q[be].start.x,We=q[be].start.y;_.call(this,q[be].deltas,Ge,We),qe=!0}ue&&P.call(this,ue),G&&D.call(this)}},E=function(B){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,te=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return B-te;case"top":return B+G-te;case"hanging":return B+G-2*te;case"middle":return B+G/2-te;default:return B}},C=function(B){return B+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var B=function(){};return B.colorStops=[],B.addColorStop=function(G,te){this.colorStops.push([G,te])},B.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},B.isCanvasGradient=!0,B},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(B,G,te,ue,q,X,Q,ne,pe){for(var ie=z.call(this,te,ue,q,X),W=0;W<ie.length;W++){var fe=ie[W];W===0&&(pe?A.call(this,fe.x1+B,fe.y1+G):$.call(this,fe.x1+B,fe.y1+G)),M.call(this,B,G,fe.x2,fe.y2,fe.x3,fe.y3,fe.x4,fe.y4)}ne?D.call(this):P.call(this,Q)},P=function(B){switch(B){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(B,G){this.pdf.internal.out(r(B)+" "+n(G)+" m")},I=function(B){var G;switch(B.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var te,ue,q,X=this.pdf.getTextDimensions(B.text),Q=E.call(this,B.y),ne=C.call(this,Q)-X.h,pe=this.ctx.transform.applyToPoint(new o(B.x,Q));if(this.autoPaging){var ie=this.ctx.transform.decompose(),W=new c;W=(W=(W=W.multiply(ie.translate)).multiply(ie.skew)).multiply(ie.scale);for(var fe=this.ctx.transform.applyToRectangle(new l(B.x,Q,X.w,X.h)),Ae=W.applyToRectangle(new l(B.x,ne,X.w,X.h)),Y=v.call(this,Ae),Te=[],qe=0;qe<Y.length;qe+=1)Te.indexOf(Y[qe])===-1&&Te.push(Y[qe]);N(Te);for(var be=Te[0],je=Te[Te.length-1],Me=be;Me<je+1;Me++){this.pdf.setPage(Me);var Ue=Me===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[2],_t=We-this.margin[0],pt=this.pdf.internal.pageSize.width-this.margin[1],vt=pt-this.margin[3],$t=Me===1?0:Ge+(Me-2)*_t;if(this.ctx.clip_path.length!==0){var ye=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(te,this.posX+this.margin[3],-1*$t+Ue),S.call(this,"fill",!0),this.path=ye}var Be=b([JSON.parse(JSON.stringify(Ae))],this.posX+this.margin[3],-$t+Ue+this.ctx.prevPageLastElemOffset)[0];B.scale>=.01&&(ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ue*B.scale),q=this.lineWidth,this.lineWidth=q*B.scale);var Je=this.autoPaging!=="text";if(Je||Be.y+Be.h<=We){if(Je||Be.y>=Ue&&Be.x<=pt){var Fe=Je?B.text:this.pdf.splitTextToSize(B.text,B.maxWidth||pt-Be.x)[0],Pt=b([JSON.parse(JSON.stringify(fe))],this.posX+this.margin[3],-$t+Ue+this.ctx.prevPageLastElemOffset)[0],Ft=Je&&(Me>be||Me<je)&&y.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vt,_t,null).clip().discardPath()),this.pdf.text(Fe,Pt.x,Pt.y,{angle:B.angle,align:G,renderingMode:B.renderingMode}),Ft&&this.pdf.restoreGraphicsState()}}else Be.y<We&&(this.ctx.prevPageLastElemOffset+=We-Be.y);B.scale>=.01&&(this.pdf.setFontSize(ue),this.lineWidth=q)}}else B.scale>=.01&&(ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ue*B.scale),q=this.lineWidth,this.lineWidth=q*B.scale),this.pdf.text(B.text,pe.x+this.posX,pe.y+this.posY,{angle:B.angle,align:G,renderingMode:B.renderingMode,maxWidth:B.maxWidth}),B.scale>=.01&&(this.pdf.setFontSize(ue),this.lineWidth=q)},$=function(B,G,te,ue){te=te||0,ue=ue||0,this.pdf.internal.out(r(B+te)+" "+n(G+ue)+" l")},_=function(B,G,te){return this.pdf.lines(B,G,te,null,null)},M=function(B,G,te,ue,q,X,Q,ne){this.pdf.internal.out([t(i(te+B)),t(s(ue+G)),t(i(q+B)),t(s(X+G)),t(i(Q+B)),t(s(ne+G)),"c"].join(" "))},z=function(B,G,te,ue){for(var q=2*Math.PI,X=Math.PI/2;G>te;)G-=q;var Q=Math.abs(te-G);Q<q&&ue&&(Q=q-Q);for(var ne=[],pe=ue?-1:1,ie=G;Q>1e-5;){var W=ie+pe*Math.min(Q,X);ne.push(Z.call(this,B,ie,W)),Q-=Math.abs(W-ie),ie=W}return ne},Z=function(B,G,te){var ue=(te-G)/2,q=B*Math.cos(ue),X=B*Math.sin(ue),Q=q,ne=-X,pe=Q*Q+ne*ne,ie=pe+Q*q+ne*X,W=4/3*(Math.sqrt(2*pe*ie)-ie)/(Q*X-ne*q),fe=Q-W*ne,Ae=ne+W*Q,Y=fe,Te=-Ae,qe=ue+G,be=Math.cos(qe),je=Math.sin(qe);return{x1:B*Math.cos(G),y1:B*Math.sin(G),x2:fe*be-Ae*je,y2:fe*je+Ae*be,x3:Y*be-Te*je,y3:Y*je+Te*be,x4:B*Math.cos(te),y4:B*Math.sin(te)}},R=function(B){return 180*B/Math.PI},U=function(B,G,te,ue,q,X){var Q=B+.5*(te-B),ne=G+.5*(ue-G),pe=q+.5*(te-q),ie=X+.5*(ue-X),W=Math.min(B,q,Q,pe),fe=Math.max(B,q,Q,pe),Ae=Math.min(G,X,ne,ie),Y=Math.max(G,X,ne,ie);return new l(W,Ae,fe-W,Y-Ae)},re=function(B,G,te,ue,q,X,Q,ne){var pe,ie,W,fe,Ae,Y,Te,qe,be,je,Me,Ue,Ge,We,_t=te-B,pt=ue-G,vt=q-te,$t=X-ue,ye=Q-q,Be=ne-X;for(ie=0;ie<41;ie++)be=(Te=(W=B+(pe=ie/40)*_t)+pe*((Ae=te+pe*vt)-W))+pe*(Ae+pe*(q+pe*ye-Ae)-Te),je=(qe=(fe=G+pe*pt)+pe*((Y=ue+pe*$t)-fe))+pe*(Y+pe*(X+pe*Be-Y)-qe),ie==0?(Me=be,Ue=je,Ge=be,We=je):(Me=Math.min(Me,be),Ue=Math.min(Ue,je),Ge=Math.max(Ge,be),We=Math.max(We,je));return new l(Math.round(Me),Math.round(Ue),Math.round(Ge-Me),Math.round(We-Ue))},de=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var B,G,te=(B=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:B,lineDashOffset:G}));this.prevLineDash!==te&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=te)}}})(ct.API),function(e){var t=function(o){var l,c,u,d,f,m,h,p,y,v;for(c=[],u=0,d=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;d>u;u+=4)(f=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(m=(f=((f=((f=((f=(f-(v=f%85))/85)-(y=f%85))/85)-(p=f%85))/85)-(h=f%85))/85)%85,c.push(m+33,h+33,p+33,y+33,v+33)):c.push(122);return function(x,b){for(var N=b;N>0;N--)x.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,u,d,f,m=String,h="length",p=255,y="charCodeAt",v="slice",x="replace";for(o[v](-2),o=o[v](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),u=[],d=0,f=(o+=l="uuuuu"[v](o[h]%5||5))[h];f>d;d+=5)c=52200625*(o[y](d)-33)+614125*(o[y](d+1)-33)+7225*(o[y](d+2)-33)+85*(o[y](d+3)-33)+(o[y](d+4)-33),u.push(p&c>>24,p&c>>16,p&c>>8,p&c);return function(b,N){for(var w=N;w>0;w--)b.pop()}(u,l[h]),m.fromCharCode.apply(m,u)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},s=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=ZN(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};e.processDataByFilters=function(o,l){var c=0,u=o||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(ct.API),function(e){e.loadFile=function(t,r,n){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,d){var f=new XMLHttpRequest,m=0,h=function(p){var y=p.length,v=[],x=String.fromCharCode;for(m=0;m<y;m+=1)v.push(x(255&p.charCodeAt(m)));return v.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(h(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)}(i,s,o)}catch{}return l}(t,r,n)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile}(ct.API),function(e){function t(){return(bt.html2canvas?Promise.resolve(bt.html2canvas):kb(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(bt.DOMPurify?Promise.resolve(bt.DOMPurify):kb(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=sr(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},s=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(l(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return(d=d.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var h=0;h<d.length;++h){var p=d[h],y=p.src.find(function(v){return v.format==="truetype"});y&&u.addFont(y.url,p.ref.name,p.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,u.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(m){return u.updateProgress(null,d),m}).then(d,f).then(function(m){return u.updateProgress(1),m})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:o.convert(Object.assign({},d),Promise.prototype),m=u.call(f,l,c);return o.convert(m,d.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,ct.getPageSize=function(l,c,u){if(sr(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var f,m=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var p,y=0,v=0;if(h.hasOwnProperty(m))y=h[m][1]/f,v=h[m][0]/f;else try{y=u[1],v=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",v>y&&(p=v,v=y,y=p);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",y>v&&(p=v,v=y,y=p)}return{width:v,height:y,unit:c,k:f,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Kb):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}}(ct.API),ct.API.addJS=function(e){return iT=e,this.internal.events.subscribe("postPutResources",function(){p0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(p0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),aT=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+iT+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){p0!==void 0&&aT!==void 0&&this.internal.out("/Names <</JavaScript "+p0+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(s=0;s<u;s++){var f=r.internal.newObject();d.push(f);var m=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<d.length;s++)r.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var o={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var o=n.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(ct.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,s,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(f){for(var m,h=256*f.charCodeAt(4)+f.charCodeAt(5),p=f.length,y={width:0,height:0,numcomponents:1},v=4;v<p;v+=2){if(v+=h,t.indexOf(f.charCodeAt(v+1))!==-1){m=256*f.charCodeAt(v+5)+f.charCodeAt(v+6),y={width:256*f.charCodeAt(v+7)+f.charCodeAt(v+8),height:m,numcomponents:f.charCodeAt(v+9)};break}h=256*f.charCodeAt(v+2)+f.charCodeAt(v+3)}return y}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:i}}return d}}(ct.API),ct.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,s=Nye(e,{checkCrc:!0}),o=s.width,l=s.height,c=s.channels,u=s.palette,d=s.depth;i=u&&c===1?function(k){for(var P=k.width,D=k.height,A=k.data,I=k.palette,$=k.depth,_=!1,M=[],z=[],Z=void 0,R=!1,U=0,re=0;re<I.length;re++){var de=c6(I[re],4),B=de[0],G=de[1],te=de[2],ue=de[3];M.push(B,G,te),ue!=null&&(ue===0?(U++,z.length<1&&z.push(re)):ue<255&&(R=!0))}if(R||U>1){_=!0,z=void 0;var q=P*D;Z=new Uint8Array(q);for(var X=new DataView(A.buffer),Q=0;Q<q;Q++){var ne=Jb(X,Q,$),pe=c6(I[ne],4)[3];Z[Q]=pe}}else U===0&&(z=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:_?8:void 0,colorBytes:A,alphaBytes:Z,needSMask:_,palette:M,mask:z}}(s):c===2||c===4?function(k){for(var P=k.data,D=k.width,A=k.height,I=k.channels,$=k.depth,_=I===2?"DeviceGray":"DeviceRGB",M=I-1,z=D*A,Z=M,R=z*Z,U=1*z,re=Math.ceil(R*$/8),de=Math.ceil(U*$/8),B=new Uint8Array(re),G=new Uint8Array(de),te=new DataView(P.buffer),ue=new DataView(B.buffer),q=new DataView(G.buffer),X=!1,Q=0;Q<z;Q++){for(var ne=Q*I,pe=0;pe<Z;pe++)mT(ue,Jb(te,ne+pe,$),Q*Z+pe,$);var ie=Jb(te,ne+Z,$);ie<(1<<$)-1&&(X=!0),mT(q,ie,1*Q,$)}return{colorSpace:_,colorsPerPixel:M,sMaskBitsPerComponent:X?$:void 0,colorBytes:B,alphaBytes:G,needSMask:X}}(s):function(k){var P=k.data,D=k.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:D,colorsPerPixel:D==="DeviceGray"?1:3,colorBytes:P instanceof Uint16Array?function(A){for(var I=A.length,$=new Uint8Array(2*I),_=new DataView($.buffer,$.byteOffset,$.byteLength),M=0;M<I;M++)_.setUint16(2*M,A[M],!1);return $}(P):P,needSMask:!1}}(s);var f,m,h,p=i,y=p.colorSpace,v=p.colorsPerPixel,x=p.sMaskBitsPerComponent,b=p.colorBytes,N=p.alphaBytes,w=p.needSMask,S=p.palette,E=p.mask,C=null;return n!==ct.API.image_compression.NONE&&typeof ZN=="function"?(C=function(k){var P;switch(k){case ct.API.image_compression.FAST:P=11;break;case ct.API.image_compression.MEDIUM:P=13;break;case ct.API.image_compression.SLOW:P=14;break;default:P=12}return P}(n),f=this.decode.FLATE_DECODE,m="/Predictor ".concat(C," /Colors ").concat(v," /BitsPerComponent ").concat(d," /Columns ").concat(o),e=cT(b,Math.ceil(o*v*d/8),v,d,n),w&&(h=cT(N,Math.ceil(o*x/8),1,x,n))):(f=void 0,m=void 0,e=b,w&&(h=N)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:e,index:t,filter:f,decodeParameters:m,transparency:E,palette:S,sMask:h,predictor:C,width:o,height:l,bitsPerComponent:d,sMaskBitsPerComponent:x,colorSpace:y}}},function(e){e.processGIF89A=function(t,r,n,i){var s=new qye(t),o=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new Zb(100).encode(u,100);return e.processJPEG.call(this,d,r,n,i)},e.processGIF87A=e.processGIF89A}(ct.API),ts.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ts.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){pr.log("bit decode error:"+r)}},ts.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},ts.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,l=s>>4,c=15&s,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},ts.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},ts.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&t)/t*255|0,c=(s>>10&t)/t*255|0,u=s>>15?255:0,d=n*this.width*4+4*i;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},ts.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,d=i*this.width*4+4*s;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},ts.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},ts.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=o}},ts.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var s=new ts(t,!1),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},u=new Zb(100).encode(c,100);return e.processJPEG.call(this,u,r,n,i)}}(ct.API),gT.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var s=new gT(t),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},u=new Zb(100).encode(c,100);return e.processJPEG.call(this,u,r,n,i)}}(ct.API),ct.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,c=0,u=0;u<i;u+=4){var d=n[u],f=n[u+1],m=n[u+2],h=n[u+3];s[l++]=d,s[l++]=f,s[l++]=m,o[c++]=h}var p=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:p,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ct.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ju=ct.API,g0=Ju.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:i.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,m=0,h=e.length,p=0,y=l[0]||c,v=[];for(r=0;r<h;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?v.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/s)||0)/1e3):(m=f&&sr(u[n])==="object"&&!isNaN(parseInt(u[n][p],10))?u[n][p]/d:0,v.push((l[n]||y)/c+m)),p=n;return v},sT=Ju.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Ju.processArabic&&(e=Ju.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:g0.apply(this,arguments).reduce(function(s,o){return s+o},0)},oT=function(e,t,r,n){for(var i=[],s=0,o=e.length,l=0;s!==o&&l+t[s]<r;)l+=t[s],s++;i.push(e.slice(0,s));var c=s;for(l=0;s!==o;)l+t[s]>n&&(i.push(e.slice(c,s)),l=0,c=s),l+=t[s],s++;return c!==s&&i.push(e.slice(c,s)),i},lT=function(e,t,r){r||(r={});var n,i,s,o,l,c,u,d=[],f=[d],m=r.textIndent||0,h=0,p=0,y=e.split(" "),v=g0.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?y[0].length+2:r.lineIndent||0){var x=Array(c).join(" "),b=[];y.map(function(w){(w=w.split(/\s*\n/)).length>1?b=b.concat(w.map(function(S,E){return(E&&S.length?`
`:"")+S})):b.push(w[0])}),y=b,c=sT.apply(this,[x,r])}for(s=0,o=y.length;s<o;s++){var N=0;if(n=y[s],c&&n[0]==`
`&&(n=n.substr(1),N=1),m+h+(p=(i=g0.apply(this,[n,r])).reduce(function(w,S){return w+S},0))>t||N){if(p>t){for(l=oT.apply(this,[n,i,t-(m+h),t]),d.push(l.shift()),d=[l.pop()];l.length;)f.push([l.shift()]);p=i.slice(n.length-(d[0]?d[0].length:0)).reduce(function(w,S){return w+S},0)}else d=[n];f.push(d),m=p+c,h=v}else d.push(n),m+=h+p,h=v}return u=c?function(w,S){return(S?x:"")+w.join(" ")}:function(w){return w.join(" ")},f.map(u)},Ju.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle),m="Unicode";return f.metadata[m]?{widths:f.metadata[m].widths||{0:1},kerning:f.metadata[m].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(lT.apply(this,[n[l],o,s]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[r[s]]=t[s],i[t[s]]=r[s];var o=function(m){return"0x"+parseInt(m,10).toString(16)},l=e.__fontmetrics__.compress=function(m){var h,p,y,v,x=["{"];for(var b in m){if(h=m[b],isNaN(parseInt(b,10))?p="'"+b+"'":(b=parseInt(b,10),p=(p=o(b).slice(2)).slice(0,-1)+i[p.slice(-1)]),typeof h=="number")h<0?(y=o(h).slice(3),v="-"):(y=o(h).slice(2),v=""),y=v+y.slice(0,-1)+i[y.slice(-1)];else{if(sr(h)!=="object")throw new Error("Don't know what to do with value type "+sr(h)+".");y=l(h)}x.push(p+y)}return x.push("}"),x.join("")},c=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,y,v,x={},b=1,N=x,w=[],S="",E="",C=m.length-1,k=1;k<C;k+=1)(v=m[k])=="'"?h?(y=h.join(""),h=void 0):h=[]:h?h.push(v):v=="{"?(w.push([N,y]),N={},y=void 0):v=="}"?((p=w.pop())[0][p[1]]=N,y=void 0,N=p[0]):v=="-"?b=-1:y===void 0?n.hasOwnProperty(v)?(S+=n[v],y=parseInt(S,16)*b,b=1,S=""):S+=v:n.hasOwnProperty(v)?(E+=n[v],N[y]=parseInt(E,16)*b,b=1,y=void 0,E=""):E+=v;return x},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var h=m.font,p=f.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var y=d.Unicode[h.postScriptName];y&&(h.metadata.Unicode.encoding=y,h.encoding=y.codePages[0])}])}(ct.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(D0(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(ct),ct.API.addSvgAsImage=function(e,t,r,n,i,s,o,l){if(isNaN(t)||isNaN(r))throw pr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw pr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=i;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(bt.canvg?Promise.resolve(bt.canvg):kb(()=>import("./index.es-CECNc3BV.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(u,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(d)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),t,r,n,i,o,l)})},ct.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},ct.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,f=0;function m(p,y){var v,x=!1;for(v=0;v<p.length;v+=1)p[v]===y&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=l.length;for(f=0;f<h;f+=1)r[l[f]].value=r[l[f]].defaultValue,r[l[f]].explicitSet=!1}if(sr(e)==="object"){for(i in e)if(s=e[i],m(l,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&m(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")c.push(String(s[u]-1));else if(s[u].length>1){for(d=0;d<s[u].length;d+=1)typeof s[u][d]!="number"&&(n=!1);n===!0&&c.push([s[u][0]-1,s[u][1]-1].join(" "))}r[i].value="["+c.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var p,y=[];for(p in r)r[p].explicitSet===!0&&(r[p].type==="name"?y.push("/"+p+" /"+r[p].value):y.push("/"+p+" "+r[p].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(ct.API),function(e){var t=e.API,r=t.pdfEscape16=function(s,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,m=s.length;f<m;++f){if(l=o.metadata.characterToGlyph(s.charCodeAt(f)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=s.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(s){var o,l,c,u,d,f,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,m=(l=Object.keys(s).sort(function(h,p){return h-p})).length;f<m;f++)o=l[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),h="",p=0;p<m.length;p++)h+=String.fromCharCode(m[p]);var y=u();d({data:h,addLength1:!0,objectId:y}),c("endobj");var v=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var x=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+td(l.fontName)),c("/FontFile2 "+y+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var b=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+td(l.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+td(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+b+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,m="",h=0;h<f.length;h++)m+=String.fromCharCode(f[h]);var p=u();d({data:m,addLength1:!0,objectId:p}),c("endobj");var y=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var v=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+p+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+td(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var x=0;x<l.metadata.hmtx.widths.length;x++)l.metadata.hmtx.widths[x]=parseInt(l.metadata.hmtx.widths[x]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+td(l.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,l=s.text||"",c=s.x,u=s.y,d=s.options||{},f=s.mutex||{},m=f.pdfEscape,h=f.activeFontKey,p=f.fonts,y=h,v="",x=0,b="",N=p[y].encoding;if(p[y].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:f};for(b=l,y=h,Array.isArray(l)&&(b=l[0]),x=0;x<b.length;x+=1)p[y].metadata.hasOwnProperty("cmap")&&(o=p[y].metadata.cmap.unicode.codeMap[b[x].charCodeAt(0)]),o||b[x].charCodeAt(0)<256&&p[y].metadata.hasOwnProperty("Unicode")?v+=b[x]:v+="";var w="";return parseInt(y.slice(1))<14||N==="WinAnsiEncoding"?w=m(v,y).split("").map(function(S){return S.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(w=r(v,p[y])),f.isHex=!0,{text:w,x:c,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(s){var o=s.text||"",l=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([i(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(i(Object.assign({},c,{text:o[u]})).text);s.text=l}else s.text=i(Object.assign({},c,{text:o})).text}])}(ct),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(ct.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,s,o,l,c,u,d,f=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,N=0;this.__bidiEngine__={};var w=function(A){var I=A.charCodeAt(),$=I>>8,_=y[$];return _!==void 0?f[256*_+(255&I)]:$===252||$===253?"AL":x.test($)?"L":$===8?"R":"N"},S=function(A){for(var I,$=0;$<A.length;$++){if((I=w(A.charAt($)))==="L")return!1;if(I==="R")return!0}return!1},E=function(A,I,$,_){var M,z,Z,R,U=I[_];switch(U){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"N":case"AN":break;case"EN":b&&(U="AN");break;case"AL":b=!0,U="R";break;case"WS":case"BN":U="N";break;case"CS":_<1||_+1>=I.length||(M=$[_-1])!=="EN"&&M!=="AN"||(z=I[_+1])!=="EN"&&z!=="AN"?U="N":b&&(z="AN"),U=z===M?z:"N";break;case"ES":U=(M=_>0?$[_-1]:"B")==="EN"&&_+1<I.length&&I[_+1]==="EN"?"EN":"N";break;case"ET":if(_>0&&$[_-1]==="EN"){U="EN";break}if(b){U="N";break}for(Z=_+1,R=I.length;Z<R&&I[Z]==="ET";)Z++;U=Z<R&&I[Z]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(R=I.length,Z=_+1;Z<R&&I[Z]==="NSM";)Z++;if(Z<R){var re=A[_],de=re>=1425&&re<=2303||re===64286;if(M=I[Z],de&&(M==="R"||M==="AL")){U="R";break}}}U=_<1||(M=I[_-1])==="B"?"N":$[_-1];break;case"B":b=!1,i=!0,U=N;break;case"S":s=!0,U="N"}return U},C=function(A,I,$){var _=A.split("");return $&&k(_,$,{hiLevel:N}),_.reverse(),I&&I.reverse(),_.join("")},k=function(A,I,$){var _,M,z,Z,R,U=-1,re=A.length,de=0,B=[],G=N?h:m,te=[];for(b=!1,i=!1,s=!1,M=0;M<re;M++)te[M]=w(A[M]);for(z=0;z<re;z++){if(R=de,B[z]=E(A,te,B,z),_=240&(de=G[R][p[B[z]]]),de&=15,I[z]=Z=G[de][5],_>0)if(_===16){for(M=U;M<z;M++)I[M]=1;U=-1}else U=-1;if(G[de][6])U===-1&&(U=z);else if(U>-1){for(M=U;M<z;M++)I[M]=Z;U=-1}te[z]==="B"&&(I[z]=0),$.hiLevel|=Z}s&&function(ue,q,X){for(var Q=0;Q<X;Q++)if(ue[Q]==="S"){q[Q]=N;for(var ne=Q-1;ne>=0&&ue[ne]==="WS";ne--)q[ne]=N}}(te,I,re)},P=function(A,I,$,_,M){if(!(M.hiLevel<A)){if(A===1&&N===1&&!i)return I.reverse(),void($&&$.reverse());for(var z,Z,R,U,re=I.length,de=0;de<re;){if(_[de]>=A){for(R=de+1;R<re&&_[R]>=A;)R++;for(U=de,Z=R-1;U<Z;U++,Z--)z=I[U],I[U]=I[Z],I[Z]=z,$&&(z=$[U],$[U]=$[Z],$[Z]=z);de=R}de++}}},D=function(A,I,$){var _=A.split(""),M={hiLevel:N};return $||($=[]),k(_,$,M),function(z,Z,R){if(R.hiLevel!==0&&d)for(var U,re=0;re<z.length;re++)Z[re]===1&&(U=v.indexOf(z[re]))>=0&&(z[re]=v[U+1])}(_,$,M),P(2,_,I,$,M),P(1,_,I,$,M),_.join("")};return this.__bidiEngine__.doBidiReorder=function(A,I,$){if(function(M,z){if(z)for(var Z=0;Z<M.length;Z++)z[Z]=Z;l===void 0&&(l=S(M)),u===void 0&&(u=S(M))}(A,I),o||!c||u)if(o&&c&&l^u)N=l?1:0,A=C(A,I,$);else if(!o&&c&&u)N=l?1:0,A=D(A,I,$),A=C(A,I);else if(!o||l||c||u){if(o&&!c&&l^u)A=C(A,I),l?(N=0,A=D(A,I,$)):(N=1,A=D(A,I,$),A=C(A,I));else if(o&&l&&!c&&u)N=1,A=D(A,I,$),A=C(A,I);else if(!o&&!c&&l^u){var _=d;l?(N=1,A=D(A,I,$),N=0,d=!1,A=D(A,I,$),d=_):(N=0,A=D(A,I,$),A=C(A,I),N=1,d=!1,A=D(A,I,$),d=_,A=C(A,I))}}else N=0,A=D(A,I,$);else N=l?1:0,A=D(A,I,$);return A},this.__bidiEngine__.setOptions=function(A){A&&(o=A.isInputVisual,c=A.isOutputVisual,l=A.isInputRtl,u=A.isOutputRtl,d=A.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([r.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([r.doBidiReorder(i[l])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(ct),ct.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Yl(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new ave(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Hye(this.contents),this.head=new Wye(this),this.name=new Jye(this),this.cmap=new _7(this),this.toUnicode={},this.hhea=new Gye(this),this.maxp=new Zye(this),this.hmtx=new Qye(this),this.post=new Kye(this),this.os2=new Yye(this),this.loca=new nve(this),this.glyf=new eve(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,s,o,l;for(o=0,s=0,l=(t=""+t).length;0<=l?s<l:s>l;s=0<=l?++s:--s)i=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var bs,Yl=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,s,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,s;for(s=[],n=0,i=t.length;n<i;n++)r=t[n],s.push(this.writeByte(r));return s},e}(),Hye=function(){var e;function t(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,s,o,l,c,u,d,f,m,h,p,y;for(y in h=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(h)/c),o=Math.floor(f/c),d=16*h-f,(i=new Yl).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(o),i.writeShort(d),s=16*h,u=i.pos+s,l=null,p=[],r)for(m=r[y],i.writeString(y),i.writeInt(e(m)),i.writeInt(u),i.writeInt(m.length),p=p.concat(m),y==="head"&&(l=u),u+=m.length;u%4;)p.push(0),u++;return i.write(p),n=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(n),i.data},e=function(r){var n,i,s,o;for(r=P7.call(r);r.length%4;)r.push(0);for(s=new Yl(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=s.readUInt32();return 4294967295&i},t}(),Vye={}.hasOwnProperty,Js=function(e,t){for(var r in t)Vye.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};bs=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Wye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Js(e,bs),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Yl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),xT=function(){function e(t,r){var n,i,s,o,l,c,u,d,f,m,h,p,y,v,x,b,N;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(h=t.readUInt16(),m=h/2,t.pos+=6,s=function(){var w,S;for(S=[],c=w=0;0<=m?w<m:w>m;c=0<=m?++w:--w)S.push(t.readUInt16());return S}(),t.pos+=2,y=function(){var w,S;for(S=[],c=w=0;0<=m?w<m:w>m;c=0<=m?++w:--w)S.push(t.readUInt16());return S}(),u=function(){var w,S;for(S=[],c=w=0;0<=m?w<m:w>m;c=0<=m?++w:--w)S.push(t.readUInt16());return S}(),d=function(){var w,S;for(S=[],c=w=0;0<=m?w<m:w>m;c=0<=m?++w:--w)S.push(t.readUInt16());return S}(),i=(this.length-t.pos+this.offset)/2,l=function(){var w,S;for(S=[],c=w=0;0<=i?w<i:w>i;c=0<=i?++w:--w)S.push(t.readUInt16());return S}(),c=x=0,N=s.length;x<N;c=++x)for(v=s[c],n=b=p=y[c];p<=v?b<=v:b>=v;n=p<=v?++b:--b)d[c]===0?o=n+u[c]:(o=l[d[c]/2+(n-p)-(m-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}t.pos=f}return e.encode=function(t,r){var n,i,s,o,l,c,u,d,f,m,h,p,y,v,x,b,N,w,S,E,C,k,P,D,A,I,$,_,M,z,Z,R,U,re,de,B,G,te,ue,q,X,Q,ne,pe,ie,W;switch(_=new Yl,o=Object.keys(t).sort(function(fe,Ae){return fe-Ae}),r){case"macroman":for(y=0,v=function(){var fe=[];for(p=0;p<256;++p)fe.push(0);return fe}(),b={0:0},s={},M=0,U=o.length;M<U;M++)b[ne=t[i=o[M]]]==null&&(b[ne]=++y),s[i]={old:t[i],new:b[t[i]]},v[i]=b[t[i]];return _.writeUInt16(1),_.writeUInt16(0),_.writeUInt32(12),_.writeUInt16(0),_.writeUInt16(262),_.writeUInt16(0),_.write(v),{charMap:s,subtable:_.data,maxGlyphID:y+1};case"unicode":for(I=[],f=[],N=0,b={},n={},x=u=null,z=0,re=o.length;z<re;z++)b[S=t[i=o[z]]]==null&&(b[S]=++N),n[i]={old:S,new:b[S]},l=b[S]-i,x!=null&&l===u||(x&&f.push(x),I.push(i),u=l),x=i;for(x&&f.push(x),f.push(65535),I.push(65535),D=2*(P=I.length),k=2*Math.pow(Math.log(P)/Math.LN2,2),m=Math.log(k/2)/Math.LN2,C=2*P-k,c=[],E=[],h=[],p=Z=0,de=I.length;Z<de;p=++Z){if(A=I[p],d=f[p],A===65535){c.push(0),E.push(0);break}if(A-($=n[A].new)>=32768)for(c.push(0),E.push(2*(h.length+P-p)),i=R=A;A<=d?R<=d:R>=d;i=A<=d?++R:--R)h.push(n[i].new);else c.push($-A),E.push(0)}for(_.writeUInt16(3),_.writeUInt16(1),_.writeUInt32(12),_.writeUInt16(4),_.writeUInt16(16+8*P+2*h.length),_.writeUInt16(0),_.writeUInt16(D),_.writeUInt16(k),_.writeUInt16(m),_.writeUInt16(C),X=0,B=f.length;X<B;X++)i=f[X],_.writeUInt16(i);for(_.writeUInt16(0),Q=0,G=I.length;Q<G;Q++)i=I[Q],_.writeUInt16(i);for(pe=0,te=c.length;pe<te;pe++)l=c[pe],_.writeUInt16(l);for(ie=0,ue=E.length;ie<ue;ie++)w=E[ie],_.writeUInt16(w);for(W=0,q=h.length;W<q;W++)y=h[W],_.writeUInt16(y);return{charMap:n,subtable:_.data,maxGlyphID:N+1}}},e}(),_7=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Js(e,bs),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new xT(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,i;return r==null&&(r="macroman"),n=xT.encode(t,r),(i=new Yl).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},e}(),Gye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Js(e,bs),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),Yye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Js(e,bs),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),Kye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Js(e,bs),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)r=t.readByte(),i.push(this.names.push(t.readString(r)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e}(),Xye=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Jye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Js(e,bs),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,i,s,o,l,c,u,d,f,m;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},s=d=0,f=n.length;d<f;s=++d)i=n[s],t.pos=i.offset,u=t.readString(i.length),o=new Xye(u,i),c[m=i.nameID]==null&&(c[m]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),Zye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Js(e,bs),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),Qye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Js(e,bs),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,i,s,o,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)d.push(t.readInt16());return d}(),this.widths=(function(){var u,d,f,m;for(m=[],u=0,d=(f=this.metrics).length;u<d;u++)s=f[u],m.push(s.advance);return m}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=i?o<i:o>i;r=0<=i?++o:--o)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),P7=[].slice,eve=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Js(e,bs),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,i,s,o,l,c,u,d,f;return t in this.cache?this.cache[t]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(t),(i=s.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,o=(l=new Yl(r.read(i))).readShort(),u=l.readShort(),f=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[t]=o===-1?new rve(l,u,f,c,d):new tve(l,o,u,f,c,d),this.cache[t]))},e.prototype.encode=function(t,r,n){var i,s,o,l,c;for(o=[],s=[],l=0,c=r.length;l<c;l++)i=t[r[l]],s.push(o.length),i&&(o=o.concat(i.encode(n)));return s.push(o.length),{table:o,offsets:s}},e}(),tve=function(){function e(t,r,n,i,s,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),rve=function(){function e(t,r,n,i,s){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Yl(P7.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),nve=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Js(e,bs),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(t.readUInt32());return s}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<n.length;++o)if(n[o]=i,s<r.length&&r[s]==o){++s,n[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},e}(),ave=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,s,o,l,c;for(i={},o=0,l=t.length;o<l;o++)i[s=t[o]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in c=this.glyphsFor(r))n=c[s],i[s]=n;return i},e.prototype.encode=function(t,r){var n,i,s,o,l,c,u,d,f,m,h,p,y,v,x;for(i in n=_7.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),h={0:0},x=n.charMap)h[(c=x[i]).old]=c.new;for(p in m=n.maxGlyphID,o)p in h||(h[p]=m++);return d=function(b){var N,w;for(N in w={},b)w[b[N]]=N;return w}(h),f=Object.keys(d).sort(function(b,N){return b-N}),y=function(){var b,N,w;for(w=[],b=0,N=f.length;b<N;b++)l=f[b],w.push(d[l]);return w}(),s=this.font.glyf.encode(o,y,h),u=this.font.loca.encode(s.offsets,y),v={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();ct.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,s,o;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)o=r[i],s.push("/"+i+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+r},t}();const rr=20,Gh=210,SS=Gh-rr*2,la=7,Is=12,ive=18,sve=12,T7=10,Ci=[30,64,175],Rd=[31,41,55],ki=[107,114,128];function yo(e,t,r){return e.setFillColor(Ci[0],Ci[1],Ci[2]),e.rect(rr,r-4,SS,4,"F"),e.setFontSize(sve),e.setFont("helvetica","bold"),e.setTextColor(255,255,255),e.text(t,rr+2,r-1),e.setFont("helvetica","normal"),e.setFontSize(T7),e.setTextColor(Rd[0],Rd[1],Rd[2]),r+la+4}function Gn(e,t,r,n){if(r==null||r==="")return n;e.setFont("helvetica","bold"),e.setFontSize(T7),e.setTextColor(ki[0],ki[1],ki[2]),e.text(`${t}:`,rr,n);const i=e.getTextWidth(`${t}: `);e.setFont("helvetica","normal"),e.setTextColor(Rd[0],Rd[1],Rd[2]);const s=e.splitTextToSize(r,SS-i);return e.text(s,rr+i,n),n+s.length*la+1}function ii(e,t,r=40){return t+r>277?(e.addPage(),rr+15):t}async function C7(e){const t=new ct({unit:"mm",format:"a4"}),{patient:r,medicalHistory:n=[],progress:i=[],cases:s=[],healthRecords:o=[],invoices:l=[],latestVitals:c}=e;let u=rr+8;try{const h=await zU();h&&(t.addImage(h,"PNG",rr,u,45,14),t.setFontSize(11),t.setFont("helvetica","bold"),t.setTextColor(Ci[0],Ci[1],Ci[2]),t.text("Teamwork Physio International",rr+45+6,u+4),t.setFontSize(8),t.setFont("helvetica","normal"),t.setTextColor(ki[0],ki[1],ki[2]),t.text("Healthcare & Rehabilitation Services",rr+45+6,u+9),u+=26)}catch(h){console.warn("Could not load logo for PDF:",h)}t.setFontSize(ive),t.setFont("helvetica","bold"),t.setTextColor(Ci[0],Ci[1],Ci[2]),t.text("PATIENT SUMMARY REPORT",rr,u),t.setDrawColor(Ci[0],Ci[1],Ci[2]),t.setLineWidth(.5),t.line(rr,u+2,rr+80,u+2),u+=la+4,t.setFontSize(8),t.setFont("helvetica","normal"),t.setTextColor(ki[0],ki[1],ki[2]);const d=new Date().toLocaleString("en-US",{dateStyle:"medium",timeStyle:"short"});if(t.text(`Generated: ${d} | Patient ID: ${r.id} | CONFIDENTIAL`,rr,u),u+=la+Is+2,u=yo(t,"Demographics",u),u=Gn(t,"Name",r.name,u),u=Gn(t,"Date of Birth",r.dateOfBirth?new Date(r.dateOfBirth).toLocaleDateString():"",u),u=Gn(t,"Status",r.status,u),u=Gn(t,"Condition",r.condition,u),u=Gn(t,"Email",r.email,u),u=Gn(t,"Phone",r.phone,u),u=Gn(t,"Address",r.address,u),u=Gn(t,"Admission Date",r.admissionDate?new Date(r.admissionDate).toLocaleDateString():"",u),u+=Is,u=ii(t,u),u=yo(t,"Care Team & Emergency",u),u=Gn(t,"Assigned Specialist",r.assignedSpecialistName??r.assignedDoctorName,u),u=Gn(t,"Assigned Therapist",r.assignedTherapistName,u),u=Gn(t,"Assigned Nurse",r.assignedNurseName,u),u=Gn(t,"Emergency Contact",r.emergencyContact?`${r.emergencyContact}${r.emergencyPhone?` (${r.emergencyPhone})`:""}`:"",u),u+=Is,u=ii(t,u),s.length>0&&(u=yo(t,"Cases",u),s.slice(0,10).forEach(h=>{u=ii(t,u,25),t.text(`${h.caseNumber}  ${h.status}  ${h.type}  Opened ${new Date(h.openedAt).toLocaleDateString()}`,rr,u),u+=la,h.diagnosis&&(t.text(`Dx: ${h.diagnosis}`,rr+5,u),u+=la),h.attending&&(t.text(`Attending: ${h.attending}  Visits: ${h.visitsCount}`,rr+5,u),u+=la),u+=2}),u+=Is),(c==null?void 0:c.recordType)==="vital"&&c.data){u=ii(t,u,50),u=yo(t,"Latest Vitals",u);const h=c.data,p=[];h.bloodPressure&&p.push(`BP: ${h.bloodPressure}`),h.heartRate!=null&&p.push(`HR: ${h.heartRate} bpm`),h.temperature!=null&&p.push(`Temp: ${h.temperature}F`),h.oxygenSaturation!=null&&p.push(`SpO2: ${h.oxygenSaturation}%`),h.weight!=null&&p.push(`Weight: ${h.weight} lbs`),h.bmi!=null&&p.push(`BMI: ${h.bmi}`),p.length>0&&(t.text(p.join("  |  "),rr,u),u+=la),t.text(`Recorded ${new Date(c.timestamp).toLocaleString()} by ${c.updatedByName}`,rr,u),u+=la+Is}if(n.length>0&&(u=ii(t,u,30),u=yo(t,"Medical History",u),n.slice(0,15).forEach(h=>{u=ii(t,u,20),t.text(`${new Date(h.date).toLocaleDateString()}  ${h.diagnosis}`,rr,u),u+=la,t.text(`Treatment: ${h.treatment}  Doctor: ${h.doctor}`,rr+5,u),u+=la+2}),u+=Is),i.length>0&&(u=ii(t,u,30),u=yo(t,"Progress Records",u),i.slice(-10).reverse().forEach(h=>{u=ii(t,u,15),t.text(`${new Date(h.date).toLocaleDateString()}  ${h.metric}: ${h.value} ${h.unit||""}`,rr,u),u+=la+1}),u+=Is),o.length>0&&(u=ii(t,u,30),u=yo(t,"Recent Health Records",u),o.slice(0,8).forEach(h=>{if(u=ii(t,u,18),t.text(`${h.recordType}  ${new Date(h.timestamp).toLocaleString()}  ${h.updatedByName}`,rr,u),u+=la,h.notes){const p=t.splitTextToSize(h.notes,SS-5);t.text(p,rr+5,u),u+=p.length*la}u+=2}),u+=Is),l.length>0){u=ii(t,u,50),u=yo(t,"Billing & Invoices",u);const h=l.filter(x=>x.status==="paid"),p=l.filter(x=>x.status!=="paid"),y=h.reduce((x,b)=>x+b.amount,0),v=p.reduce((x,b)=>x+b.amount,0);t.text(`Total Paid: $${y.toFixed(2)}  |  Total Outstanding: $${v.toFixed(2)}`,rr,u),u+=la+2,l.slice(0,8).forEach(x=>{u=ii(t,u,12),t.text(`${x.serviceName}  $${x.amount.toFixed(2)}  ${x.status}  Due ${new Date(x.dueDate).toLocaleDateString()}`,rr,u),u+=la}),u+=Is}(r.allergies||r.currentMedications||r.paymentType||r.insuranceProvider||r.referralSource)&&(u=ii(t,u,40),u=yo(t,"Additional Information",u),u=Gn(t,"Payment Type",r.paymentType,u),u=Gn(t,"Insurance",r.insuranceProvider?`${r.insuranceProvider}${r.insuranceNumber?` (${r.insuranceNumber})`:""}`:"",u),u=Gn(t,"Allergies",r.allergies,u),u=Gn(t,"Current Medications",r.currentMedications,u),u=Gn(t,"Referral Source",r.referralSource,u),u+=Is);const m=t.getNumberOfPages();for(let h=1;h<=m;h++){t.setPage(h),t.setDrawColor(200,200,200),t.setLineWidth(.3),t.line(rr,285,Gh-rr,285),t.setFontSize(7),t.setFont("helvetica","normal"),t.setTextColor(ki[0],ki[1],ki[2]);const p="Teamwork Physio International | Confidential Medical Document",y=`Page ${h} of ${m}`;t.text(p,rr,288),t.text(y,Gh-rr-t.getTextWidth(y),288),h===m&&(t.setFontSize(8),t.setTextColor(240,240,240),t.setFont("helvetica","bold"),t.text("CONFIDENTIAL",Gh/2,Gh/2,{align:"center",angle:45}))}return t}async function ove(e){const t=await C7(e),r=e.patient.name.replace(/[^a-z0-9]/gi,"_").slice(0,40);t.save(`Patient_Summary_${r}_${new Date().toISOString().slice(0,10)}.pdf`)}function lve(){var q,X,Q,ne,pe;const{id:e}=Ap(),{user:t}=fr(),{addNotification:r}=Mr(),[n,i]=L.useState(!1),s=(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="biller",[o,l]=L.useState(!1),[c,u]=L.useState(!1),[d,f]=L.useState(""),[m,h]=L.useState(""),[p,y]=L.useState(""),[v,x]=L.useState("ROUTINE"),b=(t==null?void 0:t.role)==="nurse"||(t==null?void 0:t.role)==="specialist"||(t==null?void 0:t.role)==="therapist"||(t==null?void 0:t.role)==="admin",N=(t==null?void 0:t.role)==="receptionist"||(t==null?void 0:t.role)==="biller"||(t==null?void 0:t.role)==="specialist"||(t==null?void 0:t.role)==="therapist"||(t==null?void 0:t.role)==="admin",{data:w,loading:S,error:E,refetch:C}=it(async()=>{if(!e)return null;const[ie,W,fe,Ae,Y]=await Promise.all([Mn.getPatient(e),Mn.getMedicalHistory(e),Mn.getProgressRecords(e),Mn.getPatientCases(e),di.getPatientHealthRecords(e)]);return{patient:ie,medicalHistory:W,progress:fe,cases:Ae,healthRecords:Y}},[e]),{data:k,loading:P}=it(()=>e?rs.getInvoices({patientId:e,limit:50}):Promise.resolve({invoices:[],pagination:void 0}),[e]),D=(k==null?void 0:k.invoices)??[],{data:A,refetch:I}=it(async()=>{if(!e)return{requests:[],pagination:{page:1,limit:20,total:0,totalPages:0}};const ie=await Vc.list({patientId:e,limit:50});return{requests:ie.requests??[],pagination:ie.pagination}},[e]),$=(A==null?void 0:A.requests)??[],_=ot(Vc.create.bind(Vc)),M=w==null?void 0:w.patient,z=L.useMemo(()=>{var ie;return(ie=w==null?void 0:w.progress)!=null&&ie.length?w.progress.map(W=>({date:new Date(W.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),value:W.value,fullDate:W.date,metric:W.metric,unit:W.unit})):[]},[w==null?void 0:w.progress]),Z=(q=w==null?void 0:w.progress)!=null&&q.length?w.progress[w.progress.length-1]:void 0,R=L.useMemo(()=>w!=null&&w.healthRecords?w.healthRecords.slice().sort((ie,W)=>new Date(W.timestamp).getTime()-new Date(ie.timestamp).getTime()).slice(0,6):[],[w==null?void 0:w.healthRecords]),U=L.useMemo(()=>{if(!(w!=null&&w.healthRecords))return null;const ie=w.healthRecords.filter(W=>W.recordType==="vital").sort((W,fe)=>new Date(fe.timestamp).getTime()-new Date(W.timestamp).getTime());return ie.length>0?ie[0]:null},[w==null?void 0:w.healthRecords]),re=ot(di.createHealthRecord.bind(di)),de=async ie=>{if(e)try{await re.mutate({...ie,patientId:e,recordType:"vital"}),r({title:"Vitals recorded",message:"Patient vitals have been recorded successfully.",type:"success",priority:"medium",category:"system",userId:"system"}),i(!1),await C()}catch(W){r({title:"Failed to record vitals",message:(W==null?void 0:W.message)||"Unable to record vitals. Please try again.",type:"error",priority:"high",category:"system",userId:"system"})}};if(S)return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary-500"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Loading patient profile..."})]})});if(E)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Unable to load patient profile"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:E.message??"Please try again later."}),a.jsx("button",{onClick:C,className:"mt-4 btn-primary",children:"Retry"})]});if(!M)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Patient not found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"The requested patient profile could not be found."}),a.jsx(Rn,{to:"/patients",className:"mt-4 btn-primary inline-block",children:"Back to Patients"})]});const B=async()=>{if(!(!M||!w)){l(!0);try{await ove({patient:M,medicalHistory:w.medicalHistory,progress:w.progress,cases:w.cases,healthRecords:w.healthRecords,invoices:D,latestVitals:U??void 0}),r({title:"PDF downloaded",message:"Patient summary has been downloaded.",type:"success",priority:"low",category:"system",userId:""})}catch(ie){r({title:"Download failed",message:ie instanceof Error?ie.message:"Could not generate PDF.",type:"error",priority:"medium",category:"system",userId:""})}finally{l(!1)}}},G=async()=>{if(!(!M||!w)){l(!0);try{const W=(await C7({patient:M,medicalHistory:w.medicalHistory,progress:w.progress,cases:w.cases,healthRecords:w.healthRecords,invoices:D,latestVitals:U??void 0})).output("blob"),fe=URL.createObjectURL(W),Ae=window.open(fe,"_blank");Ae?Ae.onload=()=>setTimeout(()=>URL.revokeObjectURL(fe),500):(URL.revokeObjectURL(fe),r({title:"Print",message:"Please allow pop-ups to open the PDF for printing, or use Download PDF.",type:"info",priority:"medium",category:"system",userId:""})),r({title:"PDF ready",message:"Patient summary opened in new tab. Use the browser print (Ctrl+P) to print.",type:"success",priority:"low",category:"system",userId:""})}catch(ie){r({title:"Print failed",message:ie instanceof Error?ie.message:"Could not generate PDF.",type:"error",priority:"medium",category:"system",userId:""})}finally{l(!1)}}},te=["CBC","Malaria RDT","Renal Function Test","Liver Function Test","CRP","Extended Electrolyte Panel","Fasting Blood Sugar","HbA1c","Lipid Profile","Thyroid Function Test","Urinalysis","Stool Analysis","Blood Culture","Widal Test"],ue=async ie=>{var fe,Ae;if(ie.preventDefault(),!e)return;const W=d==="Other"?m.trim():d;if(!W){r({title:"Validation",message:"Please select or enter a test.",type:"error",userId:"",priority:"medium",category:"system"});return}try{await _.mutate({patientId:e,investigationName:W,priority:v,notes:p||void 0}),r({title:"Lab request submitted",message:`${W} has been requested. Lab staff will process it; you will see status updates here.`,type:"success",userId:"",priority:"low",category:"system"}),u(!1),f(""),h(""),y(""),x("ROUTINE"),I()}catch(Y){const Te=((Ae=(fe=Y==null?void 0:Y.response)==null?void 0:fe.data)==null?void 0:Ae.message)??(Y==null?void 0:Y.message)??"Failed to submit lab request";r({title:"Request failed",message:String(Te),type:"error",userId:"",priority:"medium",category:"system"})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Rn,{to:"/patients",className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:a.jsx(Lm,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:M.name}),a.jsx("p",{className:"text-sm text-gray-600",children:"Patient Profile"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{type:"button",onClick:B,disabled:o,className:"inline-flex items-center gap-2 btn-outline py-2 px-4 text-sm",children:[a.jsx(Hd,{className:"h-4 w-4"}),o?"Preparing":"Download PDF"]}),a.jsxs("button",{type:"button",onClick:G,disabled:o,className:"inline-flex items-center gap-2 btn-primary py-2 px-4 text-sm",children:[a.jsx(uw,{className:"h-4 w-4"}),"Print"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"text-center",children:[M.avatar&&a.jsx("img",{src:M.avatar.startsWith("http")?M.avatar:Oa(M.avatar),alt:M.name,className:"h-24 w-24 rounded-full object-cover mx-auto mb-4",onError:ie=>{ie.target.style.display="none"}}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:M.name}),M.condition&&a.jsx("p",{className:"text-gray-600",children:M.condition}),a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium mt-2 ${M.status==="active"?"status-active":M.status==="discharged"?"status-inactive":"status-pending"}`,children:M.status})]}),a.jsxs("div",{className:"mt-6 space-y-4 text-sm text-gray-600",children:[M.email&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(zy,{className:"h-4 w-4 mr-3"}),M.email]}),M.phone&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(fs,{className:"h-4 w-4 mr-3"}),M.phone]}),M.dateOfBirth&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mt,{className:"h-4 w-4 mr-3"}),"DOB: ",new Date(M.dateOfBirth).toLocaleDateString()]}),M.address&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(su,{className:"h-4 w-4 mr-3"}),M.address]}),M.assignedDoctorName&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Kr,{className:"h-4 w-4 mr-3"}),"Doctor: ",M.assignedDoctorName]}),M.assignedNurseName&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Kr,{className:"h-4 w-4 mr-3"}),"Nurse: ",M.assignedNurseName]}),M.emergencyContact&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Kr,{className:"h-4 w-4 mr-3"}),"Emergency: ",M.emergencyContact,M.emergencyPhone&&` (${M.emergencyPhone})`]}),M.admissionDate&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mt,{className:"h-4 w-4 mr-3"}),"Admitted: ",new Date(M.admissionDate).toLocaleDateString()]})]})]})}),a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Cases"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[(w==null?void 0:w.cases.length)??0," records"]})]}),w!=null&&w.cases.length?a.jsx("div",{className:"space-y-3",children:w.cases.slice().sort((ie,W)=>new Date(W.openedAt).getTime()-new Date(ie.openedAt).getTime()).map(ie=>a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-gray-900",children:ie.caseNumber}),a.jsx("span",{className:`status-badge ${ie.status==="open"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:ie.status}),a.jsx("span",{className:`status-badge ${ie.type==="new"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:ie.type})]}),a.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Opened ",new Date(ie.openedAt).toLocaleString()]}),ie.closedAt&&a.jsxs("p",{className:"text-xs text-gray-500",children:["Closed ",new Date(ie.closedAt).toLocaleString()]}),ie.diagnosis&&a.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:[a.jsx("strong",{children:"Dx:"})," ",ie.diagnosis]}),ie.attending&&a.jsxs("p",{className:"text-sm text-gray-700",children:[a.jsx("strong",{children:"Attending:"})," ",ie.attending]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("p",{className:"text-xs text-gray-500",children:["Visits: ",ie.visitsCount]})})]},ie.id))}):a.jsx("p",{className:"text-sm text-gray-500",children:"No cases yet for this patient."})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Health Progress"}),a.jsx(Mi,{className:"h-5 w-5 text-primary-500"})]}),z.length?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"h-64",children:a.jsx(Vh,{width:"100%",height:"100%",children:a.jsxs(DR,{data:z,children:[a.jsx(um,{strokeDasharray:"3 3"}),a.jsx(Ro,{dataKey:"date"}),a.jsx(Mo,{}),a.jsx($a,{}),a.jsx(gu,{type:"monotone",dataKey:"value",stroke:"#0D6EFD",strokeWidth:2,dot:{fill:"#0D6EFD",strokeWidth:2,r:4}})]})})}),a.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Metric:"})," ",((X=z[0])==null?void 0:X.metric)||"Health Indicator"]}),Z&&a.jsxs("p",{children:[a.jsx("strong",{children:"Latest Value:"})," ",Z.value," ",Z.unit||""]})]})]}):a.jsx("p",{className:"text-sm text-gray-500",children:"No progress records available."})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Medical History"}),a.jsx(Aa,{className:"h-5 w-5 text-secondary-500"})]}),(Q=w==null?void 0:w.medicalHistory)!=null&&Q.length?a.jsx("div",{className:"space-y-4",children:w.medicalHistory.map(ie=>a.jsxs("div",{className:"border-l-4 border-primary-500 pl-4 py-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:ie.diagnosis}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date(ie.date).toLocaleDateString()})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:ie.treatment}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Doctor: ",ie.doctor]}),ie.notes&&a.jsx("p",{className:"text-xs text-gray-500 mt-1 italic",children:ie.notes})]},ie.id))}):a.jsx("p",{className:"text-sm text-gray-500",children:"No medical history on record."})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Progress"}),a.jsx(Rm,{className:"h-5 w-5 text-green-500"})]}),(ne=w==null?void 0:w.progress)!=null&&ne.length?a.jsx("div",{className:"space-y-3",children:w.progress.slice(-5).reverse().map(ie=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:ie.metric}),a.jsxs("span",{className:"text-sm text-gray-600",children:[ie.value," ",ie.unit]})]}),ie.notes&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ie.notes})]}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date(ie.date).toLocaleDateString()})]},ie.id))}):a.jsx("p",{className:"text-sm text-gray-500",children:"No recent progress records."})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center gap-2",children:[a.jsx(Ms,{className:"h-5 w-5 text-primary-500"}),"Lab Requests"]}),N&&a.jsxs("button",{type:"button",onClick:()=>u(!0),className:"btn-primary text-sm py-2 px-3 flex items-center gap-1",children:[a.jsx(zt,{className:"h-4 w-4"}),"Request Lab"]})]}),$.length===0?a.jsx("p",{className:"text-sm text-gray-500",children:"No lab requests for this patient."}):a.jsx("div",{className:"space-y-2",children:$.map(ie=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:ie.investigationName}),a.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:[new Date(ie.requestedAt).toLocaleDateString(),"  ",ie.requestedByName]}),ie.notes&&a.jsx("p",{className:"text-xs text-gray-500 mt-0.5 truncate max-w-md",children:ie.notes})]}),a.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${ie.status==="COMPLETED"?"bg-green-100 text-green-800":ie.status==="IN_PROGRESS"?"bg-blue-100 text-blue-800":ie.status==="CANCELLED"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:ie.status==="PENDING"?"Pending":ie.status==="IN_PROGRESS"?"In Progress":ie.status==="COMPLETED"?"Done":"Cancelled"})]},ie.id))})]}),U&&a.jsxs("div",{className:"card bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center gap-2",children:[a.jsx(Mi,{className:"h-5 w-5 text-blue-600"}),"Latest Vitals"]}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date(U.timestamp).toLocaleString()})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[U.data.bloodPressure&&a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(VF,{className:"h-4 w-4 text-blue-600"}),a.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Blood Pressure"})]}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:U.data.bloodPressure})]}),U.data.heartRate&&a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Yc,{className:"h-4 w-4 text-red-600"}),a.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Heart Rate"})]}),a.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[U.data.heartRate," bpm"]})]}),U.data.temperature&&a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(dw,{className:"h-4 w-4 text-orange-600"}),a.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Temperature"})]}),a.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[U.data.temperature,"F"]})]}),U.data.oxygenSaturation&&a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Mi,{className:"h-4 w-4 text-green-600"}),a.jsx("span",{className:"text-xs font-medium text-gray-600",children:"SpO2"})]}),a.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[U.data.oxygenSaturation,"%"]})]}),U.data.bmi&&a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Mi,{className:"h-4 w-4 text-purple-600"}),a.jsx("span",{className:"text-xs font-medium text-gray-600",children:"BMI"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:U.data.bmi}),U.data.bmiCategory&&a.jsx("span",{className:`text-xs px-2 py-1 rounded ${U.data.bmiCategory==="Normal weight"?"bg-green-100 text-green-800":U.data.bmiCategory==="Underweight"?"bg-yellow-100 text-yellow-800":U.data.bmiCategory==="Overweight"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:U.data.bmiCategory})]})]})]}),U.data.weight&&a.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:[a.jsx("strong",{children:"Weight:"})," ",U.data.weight," lbs",U.data.height&&` | Height: ${U.data.height} inches`]}),U.notes&&a.jsxs("div",{className:"mt-3 text-sm text-gray-700 bg-white rounded p-2 border border-blue-200",children:[a.jsx("strong",{children:"Notes:"})," ",U.notes]}),a.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["Recorded by ",U.updatedByName," (",U.updatedByRole,")"]})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Health Records"}),a.jsxs("div",{className:"flex items-center gap-2",children:[b&&a.jsxs("button",{onClick:()=>i(!0),className:"btn-primary text-sm flex items-center gap-2",children:[a.jsx(zt,{className:"h-4 w-4"}),"Record Vitals"]}),a.jsx(nr,{className:"h-5 w-5 text-primary-500"})]})]}),R.length?a.jsx("div",{className:"space-y-3",children:R.map(ie=>a.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium capitalize text-gray-900",children:ie.recordType}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date(ie.timestamp).toLocaleString()})]}),a.jsxs("p",{className:"text-xs text-gray-500 mb-1",children:["Updated by ",ie.updatedByName," (",ie.updatedByRole,")"]}),ie.recordType==="vital"&&ie.data&&a.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs",children:[ie.data.bloodPressure&&a.jsxs("span",{children:[a.jsx("strong",{children:"BP:"})," ",ie.data.bloodPressure]}),ie.data.heartRate&&a.jsxs("span",{children:[a.jsx("strong",{children:"HR:"})," ",ie.data.heartRate," bpm"]}),ie.data.temperature&&a.jsxs("span",{children:[a.jsx("strong",{children:"Temp:"})," ",ie.data.temperature,"F"]}),ie.data.oxygenSaturation&&a.jsxs("span",{children:[a.jsx("strong",{children:"SpO2:"})," ",ie.data.oxygenSaturation,"%"]})]}),ie.notes&&a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:ie.notes})]},ie.id))}):a.jsx("p",{className:"text-sm text-gray-500",children:"No recent health records for this patient."})]}),s&&a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Billing & Invoices"}),a.jsx(Fs,{className:"h-5 w-5 text-primary-500"})]}),P?a.jsx("p",{className:"text-sm text-gray-500",children:"Loading invoices..."}):D.length>0?a.jsxs("div",{className:"space-y-3",children:[D.map(ie=>a.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:ie.serviceName}),a.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${ie.status==="paid"?"bg-green-100 text-green-800":ie.status==="overdue"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:ie.status.toUpperCase()})]}),a.jsx("p",{className:"text-xs text-gray-600 mb-1",children:ie.description||"Service invoice"}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[a.jsxs("span",{children:["Date: ",new Date(ie.date).toLocaleDateString()]}),a.jsxs("span",{children:["Due: ",new Date(ie.dueDate).toLocaleDateString()]})]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:"flex items-center text-sm font-semibold text-gray-900",children:[a.jsx(Sa,{className:"h-4 w-4 mr-1"}),ie.amount.toFixed(2)]})})]})},ie.id)),a.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Outstanding:"}),a.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["$",D.filter(ie=>ie.status!=="paid").reduce((ie,W)=>ie+W.amount,0).toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Paid:"}),a.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["$",D.filter(ie=>ie.status==="paid").reduce((ie,W)=>ie+W.amount,0).toFixed(2)]})]})]})]}):a.jsx("p",{className:"text-sm text-gray-500",children:"No invoices found for this patient."})]}),s&&(M.allergies||M.currentMedications||M.paymentType||M.insuranceProvider||M.serviceIds||M.referralSource)&&a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Additional Information"}),a.jsx(Aa,{className:"h-5 w-5 text-secondary-500"})]}),a.jsxs("div",{className:"space-y-4",children:[M.paymentType&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Payment Type"}),a.jsx("p",{className:"text-sm text-gray-600 capitalize",children:((pe=M.paymentType)==null?void 0:pe.toLowerCase())||"Cash"})]}),M.insuranceProvider&&M.paymentType==="INSURANCE"&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Insurance Information"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"Provider:"})," ",M.insuranceProvider,M.insuranceNumber&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),a.jsx("strong",{children:"Policy Number:"})," ",M.insuranceNumber]})]})]}),M.serviceIds&&M.serviceIds.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Selected Services"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[M.serviceIds.length," service",M.serviceIds.length!==1?"s":""," selected"]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Check Billing section for service details and invoices"})]}),M.allergies&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Allergies"}),a.jsx("p",{className:"text-sm text-gray-600",children:M.allergies})]}),M.currentMedications&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Current Medications"}),a.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-line",children:M.currentMedications})]}),M.referralSource&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Referral Source"}),a.jsx("p",{className:"text-sm text-gray-600",children:M.referralSource})]})]})]})]})]}),b&&e&&a.jsx(YN,{isOpen:n,onClose:()=>i(!1),onSave:de,mode:"add",patientId:e}),c&&a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>u(!1)}),a.jsxs("div",{className:"relative w-full max-w-lg rounded-lg bg-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Lab Request Form"}),a.jsx("button",{type:"button",onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),a.jsxs("p",{className:"px-6 pt-2 text-sm text-gray-600",children:["Patient: ",a.jsx("strong",{children:M==null?void 0:M.name})]}),a.jsxs("form",{onSubmit:ue,className:"px-6 py-4 space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Test / Investigation ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:d,onChange:ie=>f(ie.target.value),className:"input-field",required:!0,children:[a.jsx("option",{value:"",children:"Select test or choose Other"}),te.map(ie=>a.jsx("option",{value:ie,children:ie},ie)),a.jsx("option",{value:"Other",children:"Other (specify below)"})]}),d==="Other"&&a.jsx("input",{type:"text",value:m,onChange:ie=>h(ie.target.value),placeholder:"Specify test/investigation name",className:"input-field mt-2",maxLength:200})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),a.jsxs("select",{value:v,onChange:ie=>x(ie.target.value),className:"input-field",children:[a.jsx("option",{value:"ROUTINE",children:"Routine"}),a.jsx("option",{value:"URGENT",children:"Urgent"}),a.jsx("option",{value:"STAT",children:"Stat"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason for request / Clinical notes"}),a.jsx("textarea",{value:p,onChange:ie=>y(ie.target.value),placeholder:"e.g. Pre-op workup, routine monitoring",className:"input-field resize-none",rows:3})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[a.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:_.loading,children:_.loading?"Submitting...":"Submit Lab Request"})]})]})]})]})})]})}function yT({isOpen:e,onClose:t,onSave:r,trainingClass:n,mode:i}){const[s,o]=L.useState({title:"",description:"",instructor:"",date:new Date().toISOString().split("T")[0],duration:2,maxParticipants:20,enrolledCount:0,status:"upcoming",category:"",location:""}),[l,c]=L.useState("09:00"),[u,d]=L.useState(!1),[f,m]=L.useState(null);L.useEffect(()=>{if(e)if(m(null),d(!1),n&&i==="edit"){const y=n.date?new Date(n.date):new Date,v=y.toISOString().split("T")[0],x=y.toTimeString().slice(0,5);o({title:n.title,description:n.description,instructor:n.instructor,date:v,duration:n.duration,maxParticipants:n.maxParticipants,enrolledCount:n.enrolledCount??0,status:n.status,category:n.category,location:n.location}),c(x)}else o({title:"",description:"",instructor:"",date:new Date().toISOString().split("T")[0],duration:2,maxParticipants:20,enrolledCount:0,status:"upcoming",category:"",location:""}),c("09:00")},[n,i,e]);const h=y=>{const{name:v,value:x}=y.target;["duration","maxParticipants","enrolledCount"].includes(v)?o(b=>({...b,[v]:Number(x)})):o(b=>({...b,[v]:x}))},p=async y=>{y.preventDefault(),d(!0),m(null);try{const[v,x]=l.split(":"),b=new Date(s.date);b.setHours(parseInt(v,10),parseInt(x,10),0,0),await r({...s,date:b.toISOString()}),d(!1)}catch(v){d(!1),m((v==null?void 0:v.message)??"Unable to save training class. Please try again.")}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:i==="add"?"Schedule New Training Class":"Edit Training Class"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Dt,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:p,className:"p-6 space-y-6",children:[f&&a.jsx("div",{className:"p-3 rounded bg-red-50 text-sm text-red-700 border border-red-200",children:f}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Class Title *"}),a.jsx("input",{type:"text",name:"title",value:s.title,onChange:h,required:!0,className:"input-field",placeholder:"Enter class title"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),a.jsx("textarea",{name:"description",value:s.description,onChange:h,required:!0,rows:3,className:"input-field",placeholder:"Enter class description"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instructor *"}),a.jsx("input",{type:"text",name:"instructor",value:s.instructor,onChange:h,required:!0,className:"input-field",placeholder:"Enter instructor name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),a.jsxs("select",{name:"category",value:s.category,onChange:h,required:!0,className:"input-field",children:[a.jsx("option",{value:"",children:"Select category"}),a.jsx("option",{value:"Clinical Psychology",children:"Clinical Psychology"}),a.jsx("option",{value:"Nutrition",children:"Nutrition"}),a.jsx("option",{value:"Critical Care",children:"Critical Care"}),a.jsx("option",{value:"BLS/ALS",children:"BLS/ALS"}),a.jsx("option",{value:"Geriatrics",children:"Geriatrics"}),a.jsx("option",{value:"Palliative Care",children:"Palliative Care"}),a.jsx("option",{value:"Maternal & Newborn Care",children:"Maternal & Newborn Care"}),a.jsx("option",{value:"General Nursing",children:"General Nursing"}),a.jsx("option",{value:"Physiotherapy",children:"Physiotherapy"}),a.jsx("option",{value:"Communication",children:"Communication"}),a.jsx("option",{value:"Safety",children:"Safety"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),a.jsx("input",{type:"date",name:"date",value:s.date,onChange:h,required:!0,className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Time *"}),a.jsx("input",{type:"time",value:l,onChange:y=>c(y.target.value),required:!0,className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (hours) *"}),a.jsx("input",{type:"number",name:"duration",value:s.duration,onChange:h,required:!0,min:"0.5",max:"8",step:"0.5",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Participants *"}),a.jsx("input",{type:"number",name:"maxParticipants",value:s.maxParticipants,onChange:h,required:!0,min:"1",max:"100",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enrolled Count"}),a.jsx("input",{type:"number",name:"enrolledCount",value:s.enrolledCount,onChange:h,min:"0",max:s.maxParticipants,className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),a.jsxs("select",{name:"status",value:s.status,onChange:h,required:!0,className:"input-field",children:[a.jsx("option",{value:"upcoming",children:"Upcoming"}),a.jsx("option",{value:"ongoing",children:"Ongoing"}),a.jsx("option",{value:"completed",children:"Completed"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),a.jsx("input",{type:"text",name:"location",value:s.location,onChange:h,required:!0,className:"input-field",placeholder:"Enter class location"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary disabled:opacity-50",disabled:u,children:u?"Saving...":i==="add"?"Schedule Class":"Update Class"})]})]})]})}):null}function cve({isOpen:e,onClose:t,trainingClass:r}){if(!e||!r)return null;const n=s=>{switch(s){case"upcoming":return"bg-blue-100 text-blue-800";case"ongoing":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},i=r.maxParticipants>0?Math.round(r.enrolledCount/r.maxParticipants*100):0;return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Class Details"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Dt,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r.title}),a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${n(r.status)}`,children:r.status.charAt(0).toUpperCase()+r.status.slice(1)})]}),a.jsx("p",{className:"text-gray-600 mt-2",children:r.description})]}),a.jsx("div",{children:a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-secondary-100 text-secondary-800",children:[a.jsx(qd,{className:"h-4 w-4 mr-2"}),r.category]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Kr,{className:"h-5 w-5 text-gray-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Instructor"}),a.jsx("p",{className:"text-base text-gray-900 mt-1",children:r.instructor})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Mt,{className:"h-5 w-5 text-gray-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Date"}),a.jsx("p",{className:"text-base text-gray-900 mt-1",children:r.date?new Date(r.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"Date TBD"})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(nr,{className:"h-5 w-5 text-gray-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Duration"}),a.jsxs("p",{className:"text-base text-gray-900 mt-1",children:[r.duration," hours"]})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(su,{className:"h-5 w-5 text-gray-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Location"}),a.jsx("p",{className:"text-base text-gray-900 mt-1",children:r.location})]})]})]}),a.jsxs("div",{className:"border-t pt-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Enrollment"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[r.enrolledCount," / ",r.maxParticipants," participants"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:`h-2.5 rounded-full ${i>=100?"bg-red-500":i>=80?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(i,100)}%`}})}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[i,"% capacity filled",i>=100&&" - Class is full"]})]}),a.jsxs("div",{className:"border-t pt-6",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Additional Information"}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Class ID:"})," ",r.id]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Status:"})," ",r.status==="upcoming"&&"This class is scheduled and open for enrollment.",r.status==="ongoing"&&"This class is currently in progress.",r.status==="completed"&&"This class has been completed."]})]})]})]}),a.jsx("div",{className:"flex justify-end space-x-3 p-6 border-t bg-gray-50",children:a.jsx("button",{onClick:t,className:"btn-outline",children:"Close"})})]})})}function vT({isOpen:e,onClose:t,onSave:r,exam:n,mode:i}){const[s,o]=L.useState({title:"",description:"",duration:60,passingScore:70,maxAttempts:3,status:"DRAFT",questions:[]}),[l,c]=L.useState(!1),[u,d]=L.useState(null),[f,m]=L.useState(null);L.useEffect(()=>{e&&(d(null),c(!1),m(null),o(n&&i==="edit"?{title:n.title,description:n.description??"",duration:n.duration,passingScore:n.passingScore,maxAttempts:n.maxAttempts,status:n.status,questions:n.questions??[]}:{title:"",description:"",duration:60,passingScore:70,maxAttempts:3,status:"DRAFT",questions:[]}))},[n,i,e]);const h=E=>{const{name:C,value:k}=E.target;["duration","passingScore","maxAttempts"].includes(C)?o(P=>({...P,[C]:Number(k)})):o(P=>({...P,[C]:k}))},p=()=>{const E={question:"",type:"MULTIPLE_CHOICE",options:["","","",""],correctAnswer:0,points:1,explanation:""};o(C=>({...C,questions:[...C.questions,E]})),m(s.questions.length)},y=(E,C)=>{o(k=>{const P=[...k.questions];return P[E]={...P[E],...C},{...k,questions:P}})},v=E=>{o(C=>({...C,questions:C.questions.filter((k,P)=>P!==E)})),f===E?m(null):f!==null&&f>E&&m(f-1)},x=(E,C)=>{C==="up"&&E===0||C==="down"&&E===s.questions.length-1||o(k=>{const P=[...k.questions],D=C==="up"?E-1:E+1;return[P[E],P[D]]=[P[D],P[E]],{...k,questions:P}})},b=E=>{y(E,{options:[...s.questions[E].options,""]})},N=(E,C,k)=>{const D=[...s.questions[E].options];D[C]=k,y(E,{options:D})},w=(E,C)=>{const k=s.questions[E];if(k.options.length<=2)return;const P=k.options.filter((D,A)=>A!==C);y(E,{options:P,correctAnswer:k.correctAnswer>=C?Math.max(0,k.correctAnswer-1):k.correctAnswer})},S=async E=>{if(E.preventDefault(),c(!0),d(null),!s.title.trim()){d("Exam title is required"),c(!1);return}if(s.questions.length===0){d("Exam must have at least one question"),c(!1);return}for(let C=0;C<s.questions.length;C++){const k=s.questions[C];if(!k.question.trim()){d(`Question ${C+1} text is required`),c(!1);return}if(k.options.length<2){d(`Question ${C+1} must have at least 2 options`),c(!1);return}if(k.options.some(P=>!P.trim())){d(`Question ${C+1} has empty options`),c(!1);return}if(k.correctAnswer<0||k.correctAnswer>=k.options.length){d(`Question ${C+1} has invalid correct answer`),c(!1);return}}try{await r(s),c(!1)}catch(C){c(!1),d((C==null?void 0:C.message)??"Unable to save exam. Please try again.")}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white z-10",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:i==="add"?"Create New Exam":"Edit Exam"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Dt,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:S,className:"p-6 space-y-6",children:[u&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:u}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Exam Title ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"title",value:s.title,onChange:h,className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{name:"status",value:s.status,onChange:h,className:"input-field",children:[a.jsx("option",{value:"DRAFT",children:"Draft"}),a.jsx("option",{value:"PUBLISHED",children:"Published"}),a.jsx("option",{value:"ARCHIVED",children:"Archived"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{name:"description",value:s.description,onChange:h,rows:3,className:"input-field"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Duration (minutes) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",name:"duration",value:s.duration,onChange:h,min:"1",className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Passing Score (%) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",name:"passingScore",value:s.passingScore,onChange:h,min:"0",max:"100",className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Max Attempts ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",name:"maxAttempts",value:s.maxAttempts,onChange:h,min:"1",className:"input-field",required:!0})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Questions (",s.questions.length,")"]}),a.jsxs("button",{type:"button",onClick:p,className:"btn-primary flex items-center gap-2",children:[a.jsx(zt,{className:"h-4 w-4"}),"Add Question"]})]}),s.questions.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500",children:'No questions added yet. Click "Add Question" to get started.'}):a.jsx("div",{className:"space-y-4",children:s.questions.map((E,C)=>a.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"font-medium text-gray-700",children:["Question ",C+1]}),a.jsx("button",{type:"button",onClick:()=>x(C,"up"),disabled:C===0,className:"text-gray-400 hover:text-gray-600 disabled:opacity-30",children:a.jsx(DF,{className:"h-4 w-4"})}),a.jsx("button",{type:"button",onClick:()=>x(C,"down"),disabled:C===s.questions.length-1,className:"text-gray-400 hover:text-gray-600 disabled:opacity-30",children:a.jsx(RF,{className:"h-4 w-4"})})]}),a.jsx("button",{type:"button",onClick:()=>v(C),className:"text-red-600 hover:text-red-800",children:a.jsx(zr,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Question Text ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{value:E.question,onChange:k=>y(C,{question:k.target.value}),rows:2,className:"input-field",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),a.jsxs("select",{value:E.type,onChange:k=>y(C,{type:k.target.value}),className:"input-field",children:[a.jsx("option",{value:"MULTIPLE_CHOICE",children:"Multiple Choice"}),a.jsx("option",{value:"TRUE_FALSE",children:"True/False"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Points"}),a.jsx("input",{type:"number",value:E.points??1,onChange:k=>y(C,{points:Number(k.target.value)}),min:"1",className:"input-field"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Options ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"space-y-2",children:[E.options.map((k,P)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:`correct-${C}`,checked:E.correctAnswer===P,onChange:()=>y(C,{correctAnswer:P}),className:"h-4 w-4"}),a.jsx("input",{type:"text",value:k,onChange:D=>N(C,P,D.target.value),placeholder:`Option ${P+1}`,className:"input-field flex-1",required:!0}),E.options.length>2&&a.jsx("button",{type:"button",onClick:()=>w(C,P),className:"text-red-600 hover:text-red-800",children:a.jsx(zr,{className:"h-4 w-4"})})]},P)),a.jsx("button",{type:"button",onClick:()=>b(C),className:"text-sm text-primary-600 hover:text-primary-800",children:"+ Add Option"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Explanation (optional)"}),a.jsx("textarea",{value:E.explanation??"",onChange:k=>y(C,{explanation:k.target.value}),rows:2,className:"input-field",placeholder:"Explain why this is the correct answer..."})]})]})]},C))})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:l,className:"btn-primary",children:l?"Saving...":i==="add"?"Create Exam":"Update Exam"})]})]})]})}):null}function k7({isOpen:e,certificate:t,onClose:r}){if(!e||!t)return null;const n=()=>{const i=`
      <html>
        <head>
          <title>Certificate - ${t.certificateNumber}</title>
          <style>
            * {
              margin: 0;
              padding: 0;
              box-sizing: border-box;
            }
            body { 
              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
              margin: 0; 
              padding: 0; 
              background: linear-gradient(135deg, #f0f9ff 0%, #e0e7ff 100%);
              min-height: 100vh;
              display: flex;
              align-items: center;
              justify-content: center;
            }
            .certificate {
              width: 900px;
              max-width: 95%;
              margin: 40px auto;
              padding: 60px 50px;
              background: linear-gradient(135deg, #ffffff 0%, #fafafa 100%);
              border: 16px solid #1e40af;
              box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(0, 0, 0, 0.05);
              position: relative;
            }
            .certificate::before {
              content: '';
              position: absolute;
              top: 20px;
              left: 20px;
              right: 20px;
              bottom: 20px;
              border: 2px solid #3b82f6;
              pointer-events: none;
            }
            .watermark {
              position: absolute;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%) rotate(-45deg);
              font-size: 120px;
              color: rgba(30, 64, 175, 0.05);
              font-weight: bold;
              z-index: 0;
              pointer-events: none;
              white-space: nowrap;
            }
            .certificate-content {
              position: relative;
              z-index: 1;
            }
            .header {
              text-align: center;
              margin-bottom: 40px;
              position: relative;
            }
            .header-logo {
              max-height: 70px;
              width: auto;
              margin: 0 auto 20px;
              display: block;
              filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
            }
            .title {
              font-size: 42px;
              font-weight: 700;
              letter-spacing: 3px;
              text-transform: uppercase;
              margin-bottom: 12px;
              color: #1e40af;
              text-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            }
            .subtitle {
              font-size: 20px;
              color: #3b82f6;
              letter-spacing: 4px;
              font-weight: 500;
            }
            .recipient {
              text-align: center;
              margin: 48px 0;
              padding: 32px 0;
              border-top: 3px solid #e5e7eb;
              border-bottom: 3px solid #e5e7eb;
            }
            .recipient-label {
              font-size: 16px;
              color: #6b7280;
              margin-bottom: 16px;
              font-style: italic;
            }
            .recipient-name {
              font-size: 36px;
              font-weight: 700;
              color: #111827;
              margin: 16px 0;
              letter-spacing: 1px;
            }
            .details {
              text-align: center;
              color: #374151;
              font-size: 16px;
              line-height: 1.8;
              margin: 32px 0;
            }
            .details strong {
              color: #1e40af;
              font-weight: 600;
            }
            .certificate-number {
              background: #f0f9ff;
              padding: 12px 24px;
              border-radius: 6px;
              display: inline-block;
              margin: 20px 0;
              border: 2px solid #bfdbfe;
            }
            .footer {
              display: flex;
              justify-content: space-between;
              margin-top: 48px;
              padding-top: 24px;
              border-top: 2px solid #e5e7eb;
            }
            .footer-left {
              text-align: left;
              color: #6b7280;
              font-size: 13px;
            }
            .signature {
              border-top: 3px solid #1e40af;
              padding-top: 12px;
              width: 45%;
              text-align: center;
            }
            .signature-name {
              font-weight: 600;
              color: #1e40af;
              font-size: 15px;
              margin-top: 8px;
            }
            .signature-title {
              font-size: 12px;
              color: #6b7280;
              margin-top: 4px;
            }
            @media (max-width: 900px) {
              .certificate {
                width: 100%;
                margin: 20px auto;
                padding: 40px 30px;
                border-width: 12px;
              }
              .title {
                font-size: 32px;
                letter-spacing: 2px;
              }
              .subtitle {
                font-size: 16px;
                letter-spacing: 2px;
              }
              .header-logo {
                max-height: 55px;
              }
              .recipient-name {
                font-size: 28px;
              }
            }
            @media (max-width: 600px) {
              .certificate {
                padding: 30px 20px;
                border-width: 10px;
              }
              .title {
                font-size: 24px;
                letter-spacing: 1px;
              }
              .subtitle {
                font-size: 14px;
                letter-spacing: 1px;
              }
              .header-logo {
                max-height: 45px;
              }
              .recipient-name {
                font-size: 24px;
              }
              .footer {
                flex-direction: column;
                gap: 20px;
              }
              .signature {
                width: 100%;
              }
            }
            @media print {
              body {
                background: white;
              }
              .certificate {
                box-shadow: none;
                border-width: 12px;
              }
              @page {
                margin: 1cm;
                size: letter;
              }
            }
          </style>
        </head>
        <body>
          <div class="certificate">
            <div class="watermark">CERTIFICATE</div>
            <div class="certificate-content">
              <div class="header">
                ${d5("header-logo")}
                <div class="title">Certificate of Achievement</div>
                <div class="subtitle">Teamwork Physio International</div>
              </div>
              <div class="details" style="font-size: 18px; margin-bottom: 8px;">This is to certify that</div>
              <div class="recipient">
                <div class="recipient-label">has successfully completed</div>
                <div class="recipient-name">${t.userName??"Candidate"}</div>
              </div>
              <div class="details">
                the requirements for<br/>
                <strong style="font-size: 20px;">${t.examTitle??"Training Examination"}</strong><br/>
                <span style="margin-top: 12px; display: inline-block;">with a score of <strong>${t.score}%</strong></span>
              </div>
              <div class="certificate-number">
                <strong>Certificate Number:</strong> ${t.certificateNumber}
              </div>
              <div class="footer">
                <div class="footer-left">
                  <div style="font-weight: 600; color: #374151; margin-bottom: 4px;">Date Issued</div>
                  <div>${new Date(t.issuedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}</div>
                </div>
                <div class="signature">
                  <div class="signature-name">${t.approvedByName??"Training Administrator"}</div>
                  <div class="signature-title">Authorized Signatory</div>
                </div>
              </div>
            </div>
          </div>
        </body>
      </html>
    `,s=window.open("","_blank","width=900,height=700");s&&(s.document.open(),s.document.write(i),s.document.close(),s.focus(),s.print(),s.close())};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm uppercase tracking-wider text-indigo-500 font-semibold",children:"Certificate Preview"}),a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:t.examTitle??"Training Exam"})]}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Dt,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 via-white to-purple-50 p-10 space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 text-indigo-700",children:[a.jsx(i5,{className:"h-6 w-6"}),a.jsx("span",{className:"tracking-[0.3em] uppercase text-sm font-semibold",children:"Teamwork Homecare"})]}),a.jsx("h2",{className:"text-4xl font-bold text-gray-900 mt-4",children:"Certificate of Excellence"}),a.jsx("p",{className:"text-lg text-gray-600 mt-2",children:"Awarded in recognition of outstanding performance"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm uppercase tracking-[0.5em] text-indigo-400",children:"Awarded to"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-3",children:t.userName??"Candidate"})]}),a.jsxs("div",{className:"text-center text-gray-700 leading-relaxed",children:[a.jsxs("p",{children:["For successfully completing the"," ",a.jsx("span",{className:"font-semibold text-indigo-700",children:t.examTitle??"training examination"})," ","with a score of"," ",a.jsxs("span",{className:"font-semibold text-indigo-700",children:[t.score,"%"]}),"."]}),a.jsxs("p",{className:"mt-2",children:["Certificate Number: ",t.certificateNumber]}),a.jsxs("p",{children:["Issued on ",new Date(t.issuedAt).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-indigo-100 text-sm text-gray-600",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Status"}),a.jsx("p",{className:"capitalize",children:t.status.toLowerCase()})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Approved By"}),a.jsx("p",{children:t.approvedByName??"Pending Approval"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t bg-white",children:[a.jsx("button",{onClick:r,className:"btn-outline",children:"Close"}),a.jsxs("button",{onClick:n,className:"btn-primary inline-flex items-center gap-2",children:[a.jsx(Hd,{className:"h-4 w-4"}),"Download / Print"]})]})]})})}function uve(){var Gt;const e=Af(),{user:t}=fr(),[r,n]=L.useState("classes"),[i,s]=L.useState(""),[o,l]=L.useState("all"),[c,u]=L.useState("all"),[d,f]=L.useState("PUBLISHED"),[m,h]=L.useState(!1),[p,y]=L.useState(!1),[v,x]=L.useState(!1),[b,N]=L.useState(!1),[w,S]=L.useState(!1),[E,C]=L.useState(null),[k,P]=L.useState(null),[D,A]=L.useState("PENDING"),[I,$]=L.useState(null),[_,M]=L.useState(!1),[z,Z]=L.useState(null),R=(t==null?void 0:t.role)==="admin",{data:U,loading:re,error:de,refetch:B}=it(()=>Da.getClasses(),[]),{data:G}=it(()=>Da.getExams(),[]),{data:te,loading:ue,error:q,refetch:X}=it(()=>wa.getExams({status:R?void 0:"PUBLISHED",limit:100}),[R]),{data:Q,loading:ne,error:pe,refetch:ie}=it(()=>wa.getAttempts({userId:R||t==null?void 0:t.id,examId:z||void 0,limit:100}),[R,t==null?void 0:t.id,z]),{data:W,loading:fe,error:Ae,refetch:Y}=it(()=>R?wa.getCertificates({limit:100}):Promise.resolve({certificates:[],pagination:void 0}),[R]),Te=(U==null?void 0:U.classes)??[];G==null||G.exams;const qe=(te==null?void 0:te.exams)??[],be=(Q==null?void 0:Q.attempts)??[],je=(W==null?void 0:W.certificates)??[],Me=ot(Da.createClass.bind(Da)),Ue=ot(Se=>Da.updateClass(Se.id,Se.data)),Ge=ot(Da.deleteClass.bind(Da)),We=ot(Da.enrollInClass.bind(Da)),_t=ot(wa.createExam.bind(wa)),pt=ot(Se=>wa.updateExam(Se.id,Se.data)),vt=ot(wa.deleteExam.bind(wa)),$t=ot(wa.approveCertificate.bind(wa)),ye=L.useMemo(()=>{if(!Te||Te.length===0)return[];const Se=(i||"").toLowerCase();return Te.filter(Ke=>{var Ia,La;const Jt=(((Ia=Ke.title)==null?void 0:Ia.toLowerCase())??"").includes(Se)||(((La=Ke.instructor)==null?void 0:La.toLowerCase())??"").includes(Se),cn=o==="all"||Ke.status===o,dt=c==="all"||Ke.category===c;return Jt&&cn&&dt})},[Te,i,o,c]),Be=L.useMemo(()=>Array.from(new Set(Te.map(Se=>Se.category))).filter(Boolean),[Te]),Je=async Se=>{try{if(!(t!=null&&t.id))throw new Error("You must be logged in to schedule a class");const Ke=new Date(Se.date),Jt=new Date(Ke);Jt.setHours(Jt.getHours()+(Se.duration||2));const cn={name:Se.title,description:Se.description,instructorId:t.id,instructorName:Se.instructor,startDate:Ke.toISOString(),endDate:Jt.toISOString(),capacity:Se.maxParticipants,category:Se.category,location:Se.location,duration:Se.duration,status:Se.status};await Me.mutate(cn),Ce.success(`${Se.title} has been scheduled successfully.`),h(!1),await B()}catch(Ke){throw Ce.error((Ke==null?void 0:Ke.message)??"Unable to schedule class. Please try again later."),Ke}},Fe=async Se=>{if(E)try{if(!(t!=null&&t.id))throw new Error("You must be logged in to update a class");const Ke=new Date(Se.date),Jt=new Date(Ke);Jt.setHours(Jt.getHours()+(Se.duration||2));const cn={name:Se.title,description:Se.description,instructorId:t.id,instructorName:Se.instructor,startDate:Ke.toISOString(),endDate:Jt.toISOString(),capacity:Se.maxParticipants,category:Se.category,location:Se.location,duration:Se.duration,status:Se.status};await Ue.mutate({id:E.id,data:cn}),Ce.success(`${Se.title} has been updated.`),y(!1),C(null),await B()}catch(Ke){throw Ce.error((Ke==null?void 0:Ke.message)??"Unable to update class. Please try again later."),Ke}},Pt=async(Se,Ke)=>{if(window.confirm(`Are you sure you want to delete the class "${Ke}"?`))try{await Ge.mutate(Se),Ce.success(`${Ke} has been deleted.`),await B()}catch(Jt){Ce.error((Jt==null?void 0:Jt.message)??"Unable to delete class. Please try again later.")}},Ft=async Se=>{try{await We.mutate(Se),Ce.success("You have been enrolled in the class."),await B()}catch(Ke){Ce.error((Ke==null?void 0:Ke.message)??"Unable to enroll. Please try again later.")}},At=Se=>{C(Se),x(!0)},Ot=Se=>{C(Se),y(!0)},xr=async Se=>{try{await _t.mutate(Se),Ce.success(`${Se.title} has been created successfully.`),N(!1),await X()}catch(Ke){throw Ce.error((Ke==null?void 0:Ke.message)??"Unable to create exam. Please try again later."),Ke}},ft=async Se=>{if(k)try{await pt.mutate({id:k.id,data:Se}),Ce.success(`${Se.title} has been updated.`),S(!1),P(null),await X()}catch(Ke){throw Ce.error((Ke==null?void 0:Ke.message)??"Unable to update exam. Please try again later."),Ke}},ur=async(Se,Ke)=>{if(window.confirm(`Are you sure you want to delete the exam "${Ke}"?`))try{await vt.mutate(Se),Ce.success(`${Ke} has been deleted.`),await X()}catch(Jt){Ce.error((Jt==null?void 0:Jt.message)??"Unable to delete exam. Please try again later.")}},mt=async Se=>{try{await $t.mutate(Se.id),Ce.success(`${Se.userName??"Candidate"} now has an approved certificate.`),await Promise.all([Y(),ie()])}catch(Ke){Ce.error((Ke==null?void 0:Ke.message)??"Unable to approve certificate. Please try again later.")}},wt=Se=>{$(Se),M(!!Se)},yr=Se=>{P(Se),S(!0)},It=L.useMemo(()=>{if(!qe||qe.length===0)return[];const Se=(i||"").toLowerCase();return qe.filter(Ke=>{var dt;const Jt=(((dt=Ke.title)==null?void 0:dt.toLowerCase())??"").includes(Se),cn=d==="all"||Ke.status===d;return Jt&&cn})},[qe,i,d]),ht=L.useMemo(()=>{if(!je||je.length===0)return[];const Se=(i||"").trim().toLowerCase();return je.filter(Ke=>{var pa,ga,Ar;const Jt=D==="all"||Ke.status===D;if(!Se)return Jt;const cn=((pa=Ke.userName)==null?void 0:pa.toLowerCase())??"",dt=((ga=Ke.examTitle)==null?void 0:ga.toLowerCase())??"",Ia=((Ar=Ke.certificateNumber)==null?void 0:Ar.toLowerCase())??"",La=cn.includes(Se)||dt.includes(Se)||Ia.includes(Se);return Jt&&La})},[je,D,i]);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Training & Examinations"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage training classes and certification exams"})]}),a.jsxs("div",{className:"mt-4 sm:mt-0 flex gap-2",children:[r==="classes"&&a.jsxs("button",{onClick:()=>h(!0),className:"btn-primary flex items-center",children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Schedule New Class"]}),r==="exams"&&R&&a.jsxs("button",{onClick:()=>N(!0),className:"btn-primary flex items-center",children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Create New Exam"]})]})]}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsx("button",{onClick:()=>n("classes"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="classes"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Training Classes"}),a.jsx("button",{onClick:()=>n("exams"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="exams"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Exams"}),a.jsx("button",{onClick:()=>n("attempts"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="attempts"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:R?"All Attempts":"My Attempts"}),R&&a.jsx("button",{onClick:()=>n("certificates"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="certificates"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Certificates"})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"relative",children:[a.jsx(Br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search classes...",value:i,onChange:Se=>s(Se.target.value),className:"input-field pl-10"})]})}),a.jsx("div",{children:a.jsxs("select",{value:o,onChange:Se=>l(Se.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"upcoming",children:"Upcoming"}),a.jsx("option",{value:"ongoing",children:"Ongoing"}),a.jsx("option",{value:"completed",children:"Completed"})]})}),a.jsx("div",{children:a.jsxs("select",{value:c,onChange:Se=>u(Se.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Categories"}),Be.map(Se=>a.jsx("option",{value:Se,children:Se},Se))]})})]})}),de&&a.jsxs("div",{className:"card text-sm text-red-500 flex items-center gap-2",children:[a.jsx(ha,{className:"h-4 w-4"})," Unable to load training classes. Please try again later."]}),r==="classes"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Training Classes"}),re?a.jsx("div",{className:"card text-sm text-gray-500",children:"Loading training classes..."}):a.jsx("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:ye.map(Se=>a.jsxs("div",{className:"card hover:shadow-lg transition-shadow duration-200",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:Se.title}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Se.description})]}),a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Se.status==="upcoming"?"bg-blue-100 text-blue-800":Se.status==="ongoing"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:Se.status})]}),a.jsxs("div",{className:"space-y-3 mb-4",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Ba,{className:"h-4 w-4 mr-2"}),"Instructor: ",Se.instructor]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Mt,{className:"h-4 w-4 mr-2"}),Se.date?new Date(Se.date).toLocaleDateString():"Date TBD"]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(nr,{className:"h-4 w-4 mr-2"}),Se.duration," hours"]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(su,{className:"h-4 w-4 mr-2"}),Se.location]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Ba,{className:"h-4 w-4 mr-2"}),Se.enrolledCount??0,"/",Se.maxParticipants," enrolled"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-secondary-100 text-secondary-800",children:Se.category}),a.jsxs("div",{className:"flex space-x-2",children:[Se.status==="upcoming"&&a.jsx("button",{className:"btn-secondary text-sm",onClick:()=>Ft(Se.id),children:"Enroll"}),a.jsxs("button",{onClick:()=>At(Se),className:"btn-outline text-sm text-blue-600 hover:text-blue-800",children:[a.jsx(Ln,{className:"h-3 w-3 inline mr-1"}),"View Details"]}),a.jsxs("button",{onClick:()=>Ot(Se),className:"btn-outline text-sm text-blue-600 hover:text-blue-800",children:[a.jsx(Fn,{className:"h-3 w-3 inline mr-1"}),"Edit"]}),a.jsxs("button",{onClick:()=>Pt(Se.id,Se.title),className:"btn-outline text-sm text-red-600 hover:text-red-800",children:[a.jsx(zr,{className:"h-3 w-3 inline mr-1"}),"Delete"]})]})]})]},Se.id))})]}),ye.length===0&&!re&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400",children:a.jsx(Br,{className:"h-12 w-12"})}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No classes found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your search or filter criteria."})]})]}),r==="exams"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"card mb-4",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"relative",children:[a.jsx(Br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search exams...",value:i,onChange:Se=>s(Se.target.value),className:"input-field pl-10"})]})}),R&&a.jsx("div",{children:a.jsxs("select",{value:d,onChange:Se=>f(Se.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"DRAFT",children:"Draft"}),a.jsx("option",{value:"PUBLISHED",children:"Published"}),a.jsx("option",{value:"ARCHIVED",children:"Archived"})]})})]})}),q&&a.jsxs("div",{className:"card text-sm text-red-500 flex items-center gap-2",children:[a.jsx(ha,{className:"h-4 w-4"})," Unable to load exams. Please try again later."]}),ue?a.jsx("div",{className:"card text-sm text-gray-500",children:"Loading exams..."}):a.jsx("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:It.map(Se=>{var Ke;return a.jsxs("div",{className:"card hover:shadow-lg transition-shadow duration-200",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:Se.title}),Se.description&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Se.description})]}),a.jsx(Jn,{className:"h-6 w-6 text-primary-500"})]}),a.jsxs("div",{className:"space-y-3 mb-4",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(nr,{className:"h-4 w-4 mr-2"}),"Duration: ",Se.duration," minutes"]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Passing Score: ",Se.passingScore,"%"]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(qd,{className:"h-4 w-4 mr-2"}),"Questions: ",((Ke=Se.questions)==null?void 0:Ke.length)??0]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Ba,{className:"h-4 w-4 mr-2"}),"Max Attempts: ",Se.maxAttempts]}),a.jsx("div",{className:"flex items-center",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Se.status==="PUBLISHED"?"bg-green-100 text-green-800":Se.status==="DRAFT"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:Se.status})})]}),a.jsx("div",{className:"flex items-center justify-between",children:R?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>yr(Se),className:"btn-outline text-sm text-blue-600 hover:text-blue-800",children:[a.jsx(Fn,{className:"h-3 w-3 inline mr-1"}),"Edit"]}),a.jsxs("button",{onClick:()=>ur(Se.id,Se.title),className:"btn-outline text-sm text-red-600 hover:text-red-800",children:[a.jsx(zr,{className:"h-3 w-3 inline mr-1"}),"Delete"]})]}),a.jsxs("button",{onClick:()=>{Z(Se.id),n("attempts")},className:"btn-outline text-sm",children:[a.jsx(Ln,{className:"h-3 w-3 inline mr-1"}),"View Attempts"]})]}):a.jsx(a.Fragment,{children:Se.status==="PUBLISHED"&&a.jsx("button",{onClick:()=>e(`/training/exam/${Se.id}/take`),className:"btn-primary text-sm",children:"Take Exam"})})})]},Se.id)})}),It.length===0&&!ue&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400",children:a.jsx(qd,{className:"h-12 w-12"})}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No exams found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:R?"Create your first exam to get started.":"No exams are available at this time."})]})]}),r==="attempts"&&a.jsxs(a.Fragment,{children:[z&&a.jsx("div",{className:"card mb-4 bg-blue-50 border-blue-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("span",{className:"text-sm text-blue-800",children:["Showing attempts for: ",a.jsx("strong",{children:((Gt=qe.find(Se=>Se.id===z))==null?void 0:Gt.title)??"Unknown Exam"})]})}),a.jsx("button",{onClick:()=>Z(null),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Clear Filter"})]})}),pe&&a.jsxs("div",{className:"card text-sm text-red-500 flex items-center gap-2",children:[a.jsx(ha,{className:"h-4 w-4"})," Unable to load attempts. Please try again later."]}),ne?a.jsx("div",{className:"card text-sm text-gray-500",children:"Loading attempts..."}):a.jsxs("div",{className:"card overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto max-h-[600px] overflow-y-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Exam"}),R&&a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Candidate"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Certificate"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:be.map(Se=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Se.examTitle??"Unknown Exam"})}),R&&a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:Se.userName??"Unknown"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Se.score!==void 0?`${Se.score}%`:"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Se.passed?"bg-green-100 text-green-800":Se.passed===!1?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:Se.passed===!0?"Passed":Se.passed===!1?"Failed":Se.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Se.submittedAt?new Date(Se.submittedAt).toLocaleDateString():"Not submitted"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Se.certificate?a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Se.certificate.status==="APPROVED"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:Se.certificate.status==="APPROVED"?"Approved":"Pending"}):a.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[a.jsxs("button",{onClick:()=>e(`/training/exam/${Se.examId}/result/${Se.id}`),className:"text-primary-600 hover:text-primary-800",children:[a.jsx(Ln,{className:"h-4 w-4 inline mr-1"}),"View"]}),Se.certificate&&a.jsxs("button",{onClick:()=>wt(Se.certificate??null),className:"ml-4 text-indigo-600 hover:text-indigo-800",children:[a.jsx(Ln,{className:"h-4 w-4 inline mr-1"}),"Certificate"]})]})]},Se.id))})]})}),be.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400",children:a.jsx(Aa,{className:"h-12 w-12"})}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No attempts found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:z?"No attempts found for this exam.":R?"No exam attempts have been recorded yet.":"You haven't taken any exams yet."})]})]})]}),r==="certificates"&&R&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"card mb-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx("div",{className:"md:col-span-2",children:a.jsxs("div",{className:"relative",children:[a.jsx(Br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search by candidate or exam...",value:i,onChange:Se=>s(Se.target.value),className:"input-field pl-10"})]})}),a.jsx("div",{children:a.jsxs("select",{value:D,onChange:Se=>A(Se.target.value==="all"?"all":Se.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"PENDING",children:"Pending Approval"}),a.jsx("option",{value:"APPROVED",children:"Approved"})]})})]})}),Ae&&a.jsxs("div",{className:"card text-sm text-red-500 flex items-center gap-2",children:[a.jsx(ha,{className:"h-4 w-4"})," Unable to load certificates. Please try again later."]}),fe?a.jsx("div",{className:"card text-sm text-gray-500",children:"Loading certificates..."}):a.jsxs("div",{className:"card overflow-hidden",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Candidate"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Exam"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Issued"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ht.map(Se=>a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Se.userName??"Unknown"}),a.jsxs("div",{className:"text-sm text-gray-500",children:["#",Se.certificateNumber]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:Se.examTitle??"Exam"})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[Se.score,"%"]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Se.status==="APPROVED"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:Se.status==="APPROVED"?"Approved":"Pending"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(Se.issuedAt).toLocaleDateString()}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm space-x-3",children:[a.jsxs("button",{onClick:()=>wt(Se),className:"text-primary-600 hover:text-primary-800",children:[a.jsx(Ln,{className:"h-4 w-4 inline mr-1"}),"View"]}),Se.status==="PENDING"&&a.jsxs("button",{onClick:()=>mt(Se),className:"text-green-600 hover:text-green-800",children:[a.jsx($n,{className:"h-4 w-4 inline mr-1"}),"Approve"]})]})]},Se.id))})]}),ht.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400",children:a.jsx(Jn,{className:"h-12 w-12"})}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No certificates found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Approved certificates will appear here."})]})]})]}),a.jsx(yT,{isOpen:m,onClose:()=>h(!1),onSave:Je,mode:"add"}),a.jsx(yT,{isOpen:p,onClose:()=>{y(!1),C(null)},onSave:Fe,trainingClass:E,mode:"edit"}),a.jsx(cve,{isOpen:v,onClose:()=>{x(!1),C(null)},trainingClass:E}),a.jsx(vT,{isOpen:b,onClose:()=>N(!1),onSave:xr,mode:"add"}),a.jsx(vT,{isOpen:w,onClose:()=>{S(!1),P(null)},onSave:ft,exam:k,mode:"edit"}),a.jsx(k7,{isOpen:_,certificate:I,onClose:()=>{M(!1),$(null)}})]})}function dve(){const{id:e}=Ap(),{addNotification:t}=Mr(),[r,n]=L.useState(0),[i,s]=L.useState([]),[o,l]=L.useState(!1),[c,u]=L.useState(null),{data:d,loading:f,error:m,refetch:h}=it(async()=>e?Da.getExam(e):null,[e]),p=ot(async P=>Da.submitExam(P.examId,{answers:(d==null?void 0:d.questions.map((D,A)=>({questionId:D.id,answer:P.answers[A]})))??[]}));L.useEffect(()=>{d&&(s(new Array(d.questions.length).fill(-1)),n(0),l(!1),u(null))},[d]);const y=P=>{s(D=>{const A=[...D];return A[r]=P,A})},v=()=>{d&&r<d.questions.length-1&&n(r+1)},x=()=>{r>0&&n(r-1)},b=L.useMemo(()=>{if(!d||i.length===0)return 0;let P=0;return d.questions.forEach((D,A)=>{i[A]===D.correctAnswer&&P++}),d.questions.length===0?0:Math.round(P/d.questions.length*100)},[d,i]),N=async()=>{if(!(!e||!d))try{const P=await p.mutate({examId:e,answers:i}),D=(P==null?void 0:P.score)??b,A=(P==null?void 0:P.passed)??D>=d.passingScore;u({score:D,passed:A}),l(!0),t({title:"Exam submitted",message:"Your responses have been recorded.",type:"success",userId:"system",priority:"medium",category:"training"})}catch(P){t({title:"Unable to submit exam",message:(P==null?void 0:P.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"})}};if(!e)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Exam not found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"The requested exam could not be found."}),a.jsx(Rn,{to:"/training",className:"mt-4 btn-primary inline-block",children:"Back to Training"})]});if(f)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Loading exam..."})]});if(m||!d)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ha,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Unable to load exam"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:(m==null?void 0:m.message)??"Please try again later."}),a.jsx("button",{onClick:h,className:"mt-4 btn-primary",children:"Retry"})]});const w=(c==null?void 0:c.score)??b,S=(c==null?void 0:c.passed)??w>=d.passingScore,E=d.questions[r],C=(r+1)/d.questions.length*100;if(o)return a.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Rn,{to:"/training",className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:a.jsx(Lm,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Exam Results"}),a.jsx("p",{className:"text-sm text-gray-600",children:d.title})]})]}),a.jsxs("div",{className:"card text-center",children:[a.jsxs("div",{className:"mb-6",children:[S?a.jsx($n,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}):a.jsx(Gl,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),a.jsx("h2",{className:`text-2xl font-bold ${S?"text-green-600":"text-red-600"}`,children:S?"Congratulations!":"Try Again"}),a.jsx("p",{className:"text-gray-600 mt-2",children:S?"You have passed the exam!":"You need to score higher to pass."})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[w,"%"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Your Score"})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[d.passingScore,"%"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Passing Score"})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:i.filter((P,D)=>P===d.questions[D].correctAnswer).length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Correct Answers"})]})]}),a.jsxs("div",{className:"flex space-x-4 justify-center",children:[a.jsx(Rn,{to:"/training",className:"btn-outline",children:"Back to Training"}),!S&&a.jsx("button",{onClick:()=>{l(!1),n(0),s(new Array(d.questions.length).fill(-1)),u(null)},className:"btn-primary",children:"Retake Exam"})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Question Review"}),a.jsx("div",{className:"space-y-6",children:d.questions.map((P,D)=>{const A=i[D],I=A===P.correctAnswer;return a.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[I?a.jsx($n,{className:"h-5 w-5 text-green-500 mt-1"}):a.jsx(Gl,{className:"h-5 w-5 text-red-500 mt-1"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:"font-medium text-gray-900 mb-2",children:["Question ",D+1,": ",P.question]}),a.jsx("div",{className:"space-y-2",children:P.options.map(($,_)=>{let M="p-2 rounded border ";return _===P.correctAnswer?M+="bg-green-50 border-green-200 text-green-800":_===A&&!I?M+="bg-red-50 border-red-200 text-red-800":M+="bg-gray-50 border-gray-200 text-gray-700",a.jsx("div",{className:M,children:$},_)})}),P.explanation&&a.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Explanation:"})," ",P.explanation]})})]})]})},P.id)})})]})]});const k=d.timeLimit;return a.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Rn,{to:"/training",className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:a.jsx(Lm,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:d.title}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Question ",r+1," of ",d.questions.length]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsx(nr,{className:"h-4 w-4"}),a.jsxs("span",{children:[k," minutes"]})]})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[a.jsx("span",{className:"text-gray-600",children:"Progress"}),a.jsxs("span",{className:"font-medium",children:[Math.round(C),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-primary-500 h-2 rounded-full transition-all duration-300",style:{width:`${C}%`}})})]}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-6",children:E.question}),a.jsx("div",{className:"space-y-3",children:E.options.map((P,D)=>a.jsx("button",{onClick:()=>y(D),className:`w-full text-left p-4 rounded-lg border-2 transition-colors duration-200 ${i[r]===D?"border-primary-500 bg-primary-50 text-primary-900":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:P},D))})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("button",{onClick:x,disabled:r===0,className:"btn-outline disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),a.jsx("div",{className:"flex space-x-2",children:r===d.questions.length-1?a.jsx("button",{onClick:N,className:"btn-primary",disabled:p.loading,children:p.loading?"Submitting...":"Submit Exam"}):a.jsx("button",{onClick:v,className:"btn-primary",children:"Next"})})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Question Navigation"}),a.jsx("div",{className:"grid grid-cols-5 sm:grid-cols-10 gap-2",children:d.questions.map((P,D)=>a.jsx("button",{onClick:()=>n(D),className:`p-2 text-sm rounded border ${D===r?"border-primary-500 bg-primary-50 text-primary-700":i[D]!==-1?"border-green-500 bg-green-50 text-green-700":"border-gray-200 hover:border-gray-300"}`,children:D+1},D))})]})]})}function fve(){const{id:e}=Ap(),t=Af(),{addNotification:r}=Mr(),{user:n}=fr(),[i,s]=L.useState(0),[o,l]=L.useState(new Map),[c,u]=L.useState(null),[d,f]=L.useState(null),[m,h]=L.useState(!1),[p,y]=L.useState("single"),{data:v,loading:x,error:b}=it(async()=>e?wa.getExam(e):null,[e]),N=ot(async R=>wa.startAttempt(R)),w=ot(async R=>wa.submitAttempt(R.attemptId,R.answers));L.useEffect(()=>{if(!v||!e||d)return;(async()=>{try{const U=await N.mutate(e);f(U),u(v.duration*60)}catch(U){r({title:"Unable to start exam",message:(U==null?void 0:U.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"})}})()},[v,e,d]),L.useEffect(()=>{if(c===null||c<=0||!d||!v)return;const R=setInterval(()=>{u(U=>U===null||U<=1?(P.current(),0):U-1)},1e3);return()=>clearInterval(R)},[c,d,v]);const S=(R,U)=>{l(re=>{const de=new Map(re);return de.set(R,U),de})},E=()=>{i<$-1&&s(R=>R+1)},C=()=>{i>0&&s(R=>R-1)},k=async()=>{if(!d||!v)return;const R=Array.from(o.entries()).map(([U,re])=>({questionId:U,selectedAnswer:re}));try{const U=await w.mutate({attemptId:d.id,answers:R});t(`/training/exam/${v.id}/result/${U.id}`)}catch(U){r({title:"Unable to submit exam",message:(U==null?void 0:U.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"})}},P=ce.useRef(k);P.current=k;const D=async()=>{if(!d||$===0)return;if(I.filter(U=>U.id&&!o.has(U.id)).length>0){h(!0);return}await k()},A=R=>{const U=Math.floor(R/60),re=R%60;return`${U.toString().padStart(2,"0")}:${re.toString().padStart(2,"0")}`},I=L.useMemo(()=>{if(!(v!=null&&v.questions))return[];if(d!=null&&d.questionOrder&&d.questionOrder.length>0){const R=new Map(v.questions.map(re=>[re.id,re])),U=d.questionOrder.map(re=>R.get(re)).filter(re=>!!re);if(U.length>0)return U}return v.questions},[v,d]),$=I.length,_=L.useMemo(()=>$===0?0:Math.round(o.size/$*100),[o.size,$]);if(!e)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Exam not found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"The requested exam could not be found."}),a.jsx("button",{onClick:()=>t("/training"),className:"mt-4 btn-primary",children:"Back to Training"})]});if(x||N.loading)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Loading exam..."})]});if(b||!v)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Unable to load exam"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:(b==null?void 0:b.message)??"Please try again later."}),a.jsx("button",{onClick:()=>t("/training"),className:"mt-4 btn-primary",children:"Back to Training"})]});if(!d)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Starting exam..."})]});if($===0)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Exam has no questions"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Please contact the administrator."}),a.jsx("button",{onClick:()=>t("/training"),className:"mt-4 btn-primary",children:"Back to Training"})]});const M=I[i],z=$-o.size,Z=(R,U,re=!1)=>{const de=R.id;return a.jsxs("div",{children:[a.jsxs("p",{className:`${re?"text-base":"text-lg"} font-medium text-gray-900 mb-3`,children:[U+1,". ",R.question]}),a.jsx("div",{className:"space-y-3",children:R.options.map((B,G)=>{const te=o.get(de)===G;return a.jsxs("label",{className:`flex items-center p-4 border-2 rounded-lg cursor-pointer transition-colors ${te?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("input",{type:"radio",name:`question-${de}`,checked:te,onChange:()=>S(de,G),className:"h-4 w-4 text-primary-600 mr-3"}),a.jsx("span",{className:"flex-1",children:B})]},G)})})]})};return a.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[a.jsxs("div",{className:"card mb-6",children:[a.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:v.title}),v.description&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:v.description})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>y(R=>R==="single"?"list":"single"),className:"btn-outline",children:p==="single"?"View All Questions":"View One Question"}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold",children:[a.jsx(nr,{className:"h-5 w-5"}),c!==null?A(c):"--:--"]}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Time Remaining"})]})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[a.jsx("span",{className:"text-gray-600",children:"Progress"}),a.jsxs("span",{className:"text-gray-600",children:[o.size," / ",$," answered"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-primary-500 h-2 rounded-full transition-all",style:{width:`${_}%`}})})]})]}),p==="single"?a.jsxs("div",{className:"card mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-lg font-semibold",children:["Question ",i+1," of ",$]}),z>0&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600",children:[a.jsx(ha,{className:"h-4 w-4"}),z," unanswered"]})]}),Z(M,i),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[a.jsx("button",{onClick:C,disabled:i===0,className:"btn-outline disabled:opacity-50",children:"Previous"}),a.jsx("div",{className:"flex gap-2 flex-wrap",children:I.map((R,U)=>a.jsx("button",{onClick:()=>s(U),className:`w-8 h-8 rounded text-sm ${U===i?"bg-primary-500 text-white":R.id&&o.has(R.id)?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:U+1},R.id))}),i<$-1?a.jsx("button",{onClick:E,className:"btn-primary",children:"Next"}):a.jsx("button",{onClick:D,disabled:w.loading,className:"btn-primary",children:w.loading?"Submitting...":"Submit Exam"})]})]}):a.jsxs("div",{className:"card mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"All Questions"}),z>0&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600",children:[a.jsx(ha,{className:"h-4 w-4"}),z," unanswered"]})]}),a.jsx("div",{className:"space-y-6",children:I.map((R,U)=>a.jsx("div",{className:"border-b pb-6 last:border-b-0 last:pb-0",children:Z(R,U,!0)},R.id))}),a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-6 border-t mt-6",children:[a.jsx("button",{onClick:()=>y("single"),className:"btn-outline",children:"Focus on One Question"}),a.jsx("button",{onClick:D,disabled:w.loading,className:"btn-primary",children:w.loading?"Submitting...":"Submit Exam"})]})]}),m&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Confirm Submission"}),a.jsxs("p",{className:"text-gray-600 mb-4",children:["You have ",z," unanswered question(s). Are you sure you want to submit the exam?"]}),a.jsxs("div",{className:"flex items-center justify-end gap-3",children:[a.jsx("button",{onClick:()=>h(!1),className:"btn-outline",children:"Cancel"}),a.jsx("button",{onClick:async()=>{h(!1),await k()},className:"btn-primary",children:"Submit Anyway"})]})]})})]})}function hve(){var m;const e=Ql(),t=Af(),{id:r}=Ap(),n=(m=e.state)==null?void 0:m.result,[i,s]=L.useState(!1),{data:o,loading:l}=it(async()=>n||(r?wa.getAttemptById(r):null),[r,n]);if(l)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Loading results..."})]});if(!o)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Results not found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Unable to load exam results."}),a.jsx("button",{onClick:()=>t("/training"),className:"mt-4 btn-primary",children:"Back to Training"})]});const c=o.score??0,u=o.passed??!1,d=o.timeSpent??0,f=o.certificate;return a.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[a.jsx("div",{className:"card mb-6",children:a.jsxs("div",{className:"text-center",children:[u?a.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4",children:a.jsx($n,{className:"h-10 w-10 text-green-600"})}):a.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 mb-4",children:a.jsx(Gl,{className:"h-10 w-10 text-red-600"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:o.examTitle??"Exam Results"}),a.jsxs("div",{className:"flex items-center justify-center gap-8 mt-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-4xl font-bold text-gray-900",children:[c,"%"]}),a.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Score"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold",children:[a.jsx(nr,{className:"h-5 w-5"}),d," min"]}),a.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Time Spent"})]})]}),a.jsx("div",{className:"mt-6",children:a.jsx("span",{className:`inline-flex items-center px-4 py-2 rounded-full text-sm font-medium ${u?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:u?a.jsxs(a.Fragment,{children:[a.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Passed"]}):a.jsxs(a.Fragment,{children:[a.jsx(Gl,{className:"h-4 w-4 mr-2"}),"Failed"]})})})]})}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Exam Details"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[a.jsx("span",{className:"text-gray-600",children:"Submitted At"}),a.jsx("span",{className:"font-medium",children:o.submittedAt?new Date(o.submittedAt).toLocaleString():"N/A"})]}),a.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[a.jsx("span",{className:"text-gray-600",children:"Status"}),a.jsx("span",{className:"font-medium capitalize",children:o.status.toLowerCase().replace("_"," ")})]}),o.userName&&a.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[a.jsx("span",{className:"text-gray-600",children:"Candidate"}),a.jsx("span",{className:"font-medium",children:o.userName})]})]})]}),u&&a.jsxs("div",{className:"card mt-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Certification"}),f?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Certificate Number"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:f.certificateNumber}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Issued ",new Date(f.issuedAt).toLocaleDateString()]})]}),a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${f.status==="APPROVED"?"bg-green-100 text-green-800":"bg-amber-100 text-amber-800"}`,children:f.status==="APPROVED"?"Approved":"Pending Approval"})]}),a.jsx("p",{className:"text-gray-600 mt-4",children:f.status==="APPROVED"?"Your certificate has been approved. You can download or print it anytime.":"Your certificate is pending administrator approval. You will be notified once it is ready to download."}),a.jsx("div",{className:"flex items-center gap-3 mt-4",children:a.jsx("button",{onClick:()=>s(!0),className:"btn-primary",children:f.status==="APPROVED"?"View Certificate":"Preview Certificate"})})]}):a.jsx("p",{className:"text-gray-600",children:"Your certificate is being generated. Please check back shortly to view its status."})]}),a.jsxs("div",{className:"mt-6 flex items-center justify-center gap-4",children:[a.jsxs("button",{onClick:()=>t("/training"),className:"btn-outline flex items-center gap-2",children:[a.jsx(Lm,{className:"h-4 w-4"}),"Back to Training"]}),a.jsx("button",{onClick:()=>t(`/training/exam/${o.examId}/take`),className:"btn-primary",children:"View Exam Details"})]}),a.jsx(k7,{isOpen:i,certificate:f??null,onClose:()=>s(!1)})]})}const mve=[{value:"scheduled",label:"Scheduled"},{value:"confirmed",label:"Confirmed"},{value:"in-progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"},{value:"rescheduled",label:"Rescheduled"},{value:"no-show",label:"No Show"}];function bT({isOpen:e,onClose:t,onSave:r,appointment:n,mode:i,patients:s,nurses:o,services:l,specialists:c,loading:u}){const[d,f]=L.useState(n?{patientId:n.patientId,nurseId:n.nurseId||void 0,serviceId:n.serviceId,specialistId:n.specialistId||void 0,date:n.date,time:n.time,duration:n.duration,status:n.status,notes:n.notes??""}:{patientId:"",nurseId:"",serviceId:"",specialistId:"",date:new Date().toISOString().split("T")[0],time:"",duration:60,status:"scheduled",notes:""}),[m,h]=L.useState(!1),[p,y]=L.useState(null);L.useEffect(()=>{e||(h(!1),y(null))},[e]),L.useEffect(()=>{n&&i==="edit"?f({patientId:n.patientId,nurseId:n.nurseId||void 0,serviceId:n.serviceId,specialistId:n.specialistId||void 0,date:n.date,time:n.time,duration:n.duration,status:n.status,notes:n.notes??""}):i==="add"&&f(S=>({...S,patientId:"",nurseId:"",serviceId:"",specialistId:"",date:new Date().toISOString().split("T")[0],time:"",duration:60,status:"scheduled",notes:""}))},[n,i]);const v=L.useMemo(()=>!!(u!=null&&u.patients||u!=null&&u.nurses||u!=null&&u.services||u!=null&&u.specialists),[u]),x=S=>{const{name:E,value:C}=S.target;f(k=>({...k,[E]:E==="duration"?Number(C):C}))},b=S=>{const{value:E}=S.target;f(C=>({...C,specialistId:E||void 0}))},N=S=>{const E=S.target.value,C=l.find(k=>k.id===E);f(k=>({...k,serviceId:E,duration:(C==null?void 0:C.duration)??k.duration}))},w=async S=>{var E;S.preventDefault(),h(!0),y(null);try{await r({...d,nurseId:d.nurseId||void 0,specialistId:d.specialistId||void 0,notes:(E=d.notes)!=null&&E.trim()?d.notes.trim():void 0}),t()}catch(C){y((C==null?void 0:C.message)??"Unable to save appointment. Please try again.")}finally{h(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:i==="add"?"Schedule New Appointment":"Edit Appointment"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Dt,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:w,className:"p-6 space-y-6",children:[p&&a.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:p}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient *"}),a.jsxs("select",{name:"patientId",value:d.patientId,onChange:x,required:!0,className:"input-field",disabled:v||m,children:[a.jsx("option",{value:"",children:"Select a patient"}),s.map(S=>a.jsxs("option",{value:S.id,children:[S.name," ",S.condition?`- ${S.condition}`:""]},S.id))]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned Nurse"}),a.jsxs("select",{name:"nurseId",value:d.nurseId??"",onChange:x,className:"input-field",disabled:v||m,children:[a.jsx("option",{value:"",children:"Select a nurse"}),o.map(S=>a.jsxs("option",{value:S.id,children:[S.name," - ",S.specialization]},S.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned Specialist"}),a.jsxs("select",{name:"specialistId",value:d.specialistId??"",onChange:b,className:"input-field",disabled:v||m,children:[a.jsx("option",{value:"",children:"Select a specialist"}),c.map(S=>a.jsxs("option",{value:S.id,children:[S.name," - ",S.specialization.replace(/-/g," ")]},S.id))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service *"}),a.jsxs("select",{name:"serviceId",value:d.serviceId,onChange:N,required:!0,className:"input-field",disabled:v||m,children:[a.jsx("option",{value:"",children:"Select a service"}),l.map(S=>a.jsxs("option",{value:S.id,children:[S.name," - $",(S.price??0).toFixed(2)," (",Math.round(S.duration/60),"h)"]},S.id))]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),a.jsx("input",{type:"date",name:"date",value:d.date,onChange:x,required:!0,className:"input-field",disabled:m})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time *"}),a.jsx("input",{type:"time",name:"time",value:d.time,onChange:x,required:!0,className:"input-field",disabled:m})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes) *"}),a.jsx("input",{type:"number",name:"duration",value:d.duration,onChange:x,required:!0,min:15,max:480,step:15,className:"input-field",disabled:m})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),a.jsx("select",{name:"status",value:d.status,onChange:x,required:!0,className:"input-field",disabled:m,children:mve.map(S=>a.jsx("option",{value:S.value,children:S.label},S.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),a.jsx("textarea",{name:"notes",value:d.notes??"",onChange:x,rows:4,className:"input-field",placeholder:"Enter any additional notes for this appointment",disabled:m})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-outline",disabled:m,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:m||v,children:m?"Saving...":i==="add"?"Schedule Appointment":"Update Appointment"})]})]})]})}):null}const pve={ACTIVE:"active",INACTIVE:"inactive",ON_LEAVE:"on-leave"},gve={active:"ACTIVE",inactive:"INACTIVE","on-leave":"ON_LEAVE"},O7={CLINICAL_PSYCHOLOGIST:"clinical-psychologist",NUTRITIONIST:"nutritionist",CRITICAL_CARE_NURSE:"critical-care-nurse",MEDICAL_DOCTOR:"medical-doctor",GERIATRICIAN:"geriatrician",PALLIATIVE_CARE_SPECIALIST:"palliative-care-specialist",SENIOR_MIDWIFE:"senior-midwife"},xve=Object.entries(O7).reduce((e,[t,r])=>(e[r]=t,e),{});function x0(e){var n,i;const t=(n=e.status)==null?void 0:n.toUpperCase(),r=(i=e.specialization)==null?void 0:i.toUpperCase();return{...e,status:pve[t]??"active",specialization:O7[r]??e.specialization,hireDate:e.hireDate?new Date(e.hireDate).toISOString().split("T")[0]:"",availability:e.availability??[]}}function wT(e){const t={...e};return e.username&&(t.username=e.username.trim().toLowerCase()),e.status&&(t.status=gve[e.status]),e.specialization&&(t.specialization=xve[e.specialization]??e.specialization),e.hireDate&&(t.hireDate=new Date(e.hireDate).toISOString()),t}class yve{async getSpecialists(t){const r=await me.get(xe.SPECIALISTS.BASE,{params:t});return{specialists:Array.isArray(r.data)?r.data.map(x0):[],pagination:r.pagination}}async getSpecialist(t){const r=await me.get(xe.SPECIALISTS.BY_ID(t));return x0(r.data)}async createSpecialist(t){const r=await me.post(xe.SPECIALISTS.BASE,wT(t));return x0(r.data)}async updateSpecialist(t,r){const n=await me.put(xe.SPECIALISTS.BY_ID(t),wT(r));return x0(n.data)}async deleteSpecialist(t){await me.delete(xe.SPECIALISTS.BY_ID(t))}}const Rc=new yve;function vve(e){const t=new Date(e.getFullYear(),e.getMonth(),1),r=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59);return{start:t.toISOString(),end:r.toISOString()}}function bve(){const{user:e}=fr(),[t,r]=L.useState(new Date),[n,i]=L.useState("month"),[s,o]=L.useState("all"),[l,c]=L.useState("all"),[u,d]=L.useState(!1),[f,m]=L.useState(!1),[h,p]=L.useState(null),{addNotification:y}=Mr(),v=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="specialist";e==null||e.role;const x=L.useMemo(()=>vve(t),[t]),{data:b,loading:N,error:w,refetch:S}=it(()=>Xn.getAppointments({nurseId:s!=="all"?s:void 0,dateFrom:x.start,dateTo:x.end,limit:200}),[s,x.start,x.end]),{data:E,loading:C}=it(()=>Mn.getPatients({limit:200}),[]),{data:k,loading:P}=it(()=>md.getNurses({page:1,limit:200}),[]),{data:D,loading:A}=it(()=>$s.getServices({limit:200}),[]),{data:I,loading:$}=it(()=>Rc.getSpecialists({limit:200}),[]),_=ot(Xn.createAppointment.bind(Xn)),M=ot(W=>Xn.updateAppointment(W.id,W.data)),z=ot(W=>Xn.deleteAppointment(W)),Z=L.useMemo(()=>((b==null?void 0:b.appointments)??[]).sort((fe,Ae)=>new Date(`${fe.date}T${fe.time}`).getTime()-new Date(`${Ae.date}T${Ae.time}`).getTime()),[b]),U=L.useMemo(()=>s==="all"&&l==="all"?Z:Z.filter(W=>{const fe=s==="all"||W.nurseId===s,Ae=l==="all"||W.specialistId===l;return fe&&Ae}),[Z,s,l]).filter(W=>{const fe=new Date(W.date);return fe.getMonth()===t.getMonth()&&fe.getFullYear()===t.getFullYear()}),re=U.reduce((W,fe)=>{const Ae=fe.date;return W[Ae]||(W[Ae]=[]),W[Ae].push(fe),W},{}),de=(E==null?void 0:E.patients)??[],B=(k==null?void 0:k.nurses)??[],G=(D==null?void 0:D.services)??[],te=(I==null?void 0:I.specialists)??[],ue=async W=>{try{await _.mutate(W),y({title:"Appointment Scheduled",message:"The appointment has been scheduled successfully.",type:"success",userId:"system",priority:"medium",category:"schedule"}),await S(),d(!1)}catch(fe){throw y({title:"Unable to Schedule Appointment",message:(fe==null?void 0:fe.message)??"Please review the details and try again.",type:"error",userId:"system",priority:"high",category:"system"}),fe}},q=async W=>{if(h)try{await M.mutate({id:h.id,data:W}),y({title:"Appointment Updated",message:"The appointment details have been updated.",type:"success",userId:"system",priority:"medium",category:"schedule"}),await S(),m(!1),p(null)}catch(fe){throw y({title:"Unable to Update Appointment",message:(fe==null?void 0:fe.message)??"Please review the details and try again.",type:"error",userId:"system",priority:"high",category:"system"}),fe}},X=async W=>{const fe=Z.find(Y=>Y.id===W);if(!fe)return;const Ae=`Cancel appointment for ${fe.patientName} on ${new Date(`${fe.date}T${fe.time}`).toLocaleString()}?`;if(window.confirm(Ae))try{await z.mutate(W),y({title:"Appointment Cancelled",message:`${fe.patientName}'s appointment has been removed from the schedule.`,type:"info",userId:"system",priority:"medium",category:"schedule"}),await S()}catch(Y){y({title:"Unable to Cancel Appointment",message:(Y==null?void 0:Y.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"})}},Q=W=>{p(W),m(!0)},ne=()=>{const W=t.getFullYear(),fe=t.getMonth(),Ae=new Date(W,fe,1),Y=new Date(Ae);Y.setDate(Y.getDate()-Ae.getDay());const Te=[],qe=new Date(Y);for(let be=0;be<42;be++)Te.push(new Date(qe)),qe.setDate(qe.getDate()+1);return Te},pe=L.useMemo(()=>ne(),[t]),ie=W=>{const[fe,Ae]=W.split(":"),Y=Number(fe),Te=Y>=12?"PM":"AM";return`${Y%12||12}:${Ae} ${Te}`};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Scheduling"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage appointments and schedules"})]}),a.jsxs("div",{className:"mt-4 sm:mt-0 flex space-x-2",children:[a.jsxs("button",{className:"btn-outline flex items-center",disabled:!0,children:[a.jsx(Uy,{className:"h-4 w-4 mr-2"}),"Filter"]}),v&&a.jsxs("button",{onClick:()=>d(!0),className:"btn-primary flex items-center",children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"New Appointment"]})]})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>{const W=new Date(t);W.setMonth(W.getMonth()-1),r(W)},className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100","aria-label":"Previous month",children:""}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900 min-w-0",children:t.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),a.jsx("button",{onClick:()=>{const W=new Date(t);W.setMonth(W.getMonth()+1),r(W)},className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100","aria-label":"Next month",children:""})]}),a.jsx("div",{className:"flex space-x-2",children:["month","week","day"].map(W=>a.jsx("button",{onClick:()=>i(W),className:`px-3 py-1 rounded-lg text-sm font-medium ${n===W?"bg-primary-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:W.charAt(0).toUpperCase()+W.slice(1)},W))}),a.jsxs("div",{className:"sm:ml-auto flex flex-col sm:flex-row gap-3",children:[a.jsxs("select",{value:s,onChange:W=>o(W.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Nurses"}),B.map(W=>a.jsx("option",{value:W.id,children:W.name},W.id))]}),a.jsxs("select",{value:l,onChange:W=>c(W.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Specialists"}),te.map(W=>a.jsx("option",{value:W.id,children:W.name},W.id))]})]})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"grid grid-cols-7 gap-px bg-gray-200",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(W=>a.jsx("div",{className:"bg-gray-50 px-3 py-2 text-sm font-medium text-gray-700 text-center",children:W},W)),pe.map((W,fe)=>{const Ae=W.getMonth()===t.getMonth(),Y=W.toDateString()===new Date().toDateString(),Te=W.toISOString().split("T")[0],qe=re[Te]||[];return a.jsxs("div",{className:`min-h-[120px] px-3 py-2 bg-white flex flex-col border border-gray-100 ${Ae?"":"bg-gray-50 text-gray-400"} ${Y?"ring-2 ring-primary-500":""}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:`text-sm font-medium ${Y?"text-primary-600":"text-gray-900"}`,children:W.getDate()}),a.jsxs("span",{className:"text-xs text-gray-400",children:[qe.length," appointments"]})]}),a.jsxs("div",{className:"mt-2 space-y-1",children:[qe.slice(0,3).map(be=>a.jsxs("button",{onClick:()=>v&&Q(be),className:`w-full text-left text-xs p-2 rounded-lg bg-primary-50 text-primary-700 ${v?"hover:bg-primary-100 cursor-pointer":"cursor-default opacity-75"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium",children:ie(be.time)}),a.jsx("span",{className:"text-[10px] uppercase",children:be.status})]}),a.jsxs("div",{className:"truncate flex items-center text-[11px] text-gray-600",children:[a.jsx(Kr,{className:"h-3 w-3 mr-1"}),be.patientName]})]},be.id)),qe.length>3&&a.jsxs("div",{className:"text-xs text-gray-500",children:["+",qe.length-3," more"]})]})]},fe)})]})}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[a.jsx(Mt,{className:"h-5 w-5 mr-2 text-primary-500"}),"Upcoming Appointments"]}),a.jsxs("div",{className:"flex space-x-2 text-sm text-gray-500",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-primary-500 mr-2"}),"Scheduled"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 mr-2"}),"Completed"]})]})]}),N?a.jsx("div",{className:"py-12 text-center text-sm text-gray-500",children:"Loading appointments..."}):w?a.jsx("div",{className:"py-12 text-center text-sm text-red-500",children:"Unable to load appointments. Please try again later."}):U.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Mt,{className:"h-12 w-12 mx-auto text-gray-300"}),a.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"No appointments scheduled for this period."})]}):a.jsx("div",{className:"space-y-3",children:U.map(W=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-primary-200 transition",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-primary-50 rounded-lg",children:a.jsx(nr,{className:"h-5 w-5 text-primary-500"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:W.patientName}),a.jsxs("div",{className:"flex flex-wrap items-center text-xs text-gray-500 gap-2",children:[a.jsx("span",{children:new Date(`${W.date}T${W.time}`).toLocaleString()}),a.jsx("span",{children:""}),a.jsx("span",{children:W.serviceName}),W.nurseName&&a.jsxs("span",{children:[" Nurse ",W.nurseName]}),W.specialistName&&a.jsxs("span",{children:[" Specialist ",W.specialistName]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${W.status==="completed"?"bg-green-50 text-green-700":W.status==="cancelled"?"bg-red-50 text-red-700":"bg-primary-50 text-primary-700"}`,children:W.status.charAt(0).toUpperCase()+W.status.slice(1)}),v&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>Q(W),className:"p-2 text-gray-400 hover:text-primary-500","aria-label":"Edit appointment",children:a.jsx(Fn,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>X(W.id),className:"p-2 text-gray-400 hover:text-red-500","aria-label":"Delete appointment",children:a.jsx(zr,{className:"h-4 w-4"})})]})]})]})},W.id))})]}),a.jsx(bT,{isOpen:u,onClose:()=>d(!1),onSave:ue,mode:"add",patients:de,nurses:B,services:G,loading:{patients:C,nurses:P,specialists:$,services:A},specialists:te}),a.jsx(bT,{isOpen:f,onClose:()=>{m(!1),p(null)},onSave:q,appointment:h??void 0,mode:"edit",patients:de,nurses:B,services:G,loading:{patients:C,nurses:P,specialists:$,services:A},specialists:te})]})}const wve=["Nursing","Physiotherapy","Palliative Care","Nutrition","Mental Health","Maternal Care"];function NT({isOpen:e,onClose:t,onSave:r,service:n,mode:i,categories:s}){const[o,l]=L.useState({name:"",description:"",category:"",price:0,duration:60,features:[],image:""}),[c,u]=L.useState(""),[d,f]=L.useState(!1),[m,h]=L.useState(null),p=L.useMemo(()=>{const N=new Set(wve);return s==null||s.forEach(w=>{w&&N.add(w)}),Array.from(N)},[s]);L.useEffect(()=>{e||(h(null),f(!1))},[e]),L.useEffect(()=>{i==="edit"&&n?l({name:n.name,description:n.description,category:n.category,price:n.price??0,duration:n.duration,features:n.features,image:n.image||""}):i==="add"&&l({name:"",description:"",category:"",price:0,duration:60,features:[],image:""})},[i,n,e]);const y=N=>{const{name:w,value:S}=N.target;l(E=>({...E,[w]:w==="price"||w==="duration"?Number(S)||0:S}))},v=()=>{const N=c.trim();N&&!o.features.includes(N)&&(l(w=>({...w,features:[...w.features,N]})),u(""))},x=N=>{l(w=>({...w,features:w.features.filter(S=>S!==N)}))},b=async N=>{N.preventDefault(),f(!0),h(null);try{await r({...o,features:o.features.map(w=>w.trim()).filter(Boolean),price:Number(o.price)||0,duration:Number(o.duration)||0}),t()}catch(w){h((w==null?void 0:w.message)??"Unable to save service. Please try again.")}finally{f(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:i==="add"?"Add New Service":"Edit Service"}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(Dt,{className:"h-5 w-5 text-gray-500"})})]}),a.jsxs("form",{onSubmit:b,className:"p-6 space-y-6",children:[m&&a.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:m}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[a.jsx(hx,{className:"h-5 w-5 mr-2 text-primary-600"}),"Basic Information"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Name *"}),a.jsx("input",{type:"text",name:"name",value:o.name,onChange:y,required:!0,className:"input-field",placeholder:"Enter service name",disabled:d})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),a.jsx("textarea",{name:"description",value:o.description,onChange:y,required:!0,rows:3,className:"input-field",placeholder:"Enter service description",disabled:d})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),a.jsxs("select",{name:"category",value:o.category,onChange:y,required:!0,className:"input-field",disabled:d,children:[a.jsx("option",{value:"",children:"Select category"}),p.map(N=>a.jsx("option",{value:N,children:N},N))]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[a.jsx(Sa,{className:"h-5 w-5 mr-2 text-primary-600"}),"Pricing & Duration"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (UGX) *"}),a.jsx("input",{type:"number",name:"price",value:o.price,onChange:y,required:!0,min:"0",step:"1",className:"input-field",placeholder:"Enter price in UGX",disabled:d})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes) *"}),a.jsx("input",{type:"number",name:"duration",value:o.duration,onChange:y,required:!0,min:"15",step:"15",className:"input-field",placeholder:"Enter duration",disabled:d})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[a.jsx(tB,{className:"h-5 w-5 mr-2 text-primary-600"}),"Service Features"]}),a.jsxs("div",{className:"flex",children:[a.jsx("input",{type:"text",value:c,onChange:N=>u(N.target.value),className:"input-field flex-1",placeholder:"Add a new feature",disabled:d}),a.jsxs("button",{type:"button",onClick:v,className:"ml-3 btn-outline whitespace-nowrap",disabled:d,children:[a.jsx(zt,{className:"h-4 w-4 mr-1"}),"Add Feature"]})]}),o.features.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:o.features.map(N=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-gray-100 text-gray-700",children:[N,a.jsx("button",{type:"button",onClick:()=>x(N),className:"ml-2 text-gray-400 hover:text-gray-600",disabled:d,children:a.jsx(zr,{className:"h-4 w-4"})})]},N))})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[a.jsx(hx,{className:"h-5 w-5 mr-2 text-primary-600"}),"Service Image"]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image URL"}),a.jsx("input",{type:"url",name:"image",value:o.image,onChange:y,className:"input-field",placeholder:"https://example.com/service-image.jpg",disabled:d})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-outline",disabled:d,children:"Cancel"}),a.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:d,children:[a.jsx(qy,{className:"h-4 w-4 mr-2"}),d?"Saving...":i==="add"?"Add Service":"Save Changes"]})]})]})]})}):null}function jT(e){if(!e)return"0 min";const t=Math.floor(e/60),r=e%60;return t&&r?`${t}h ${r}m`:t?`${t}h`:`${r}m`}function Nve(){const[e,t]=L.useState(""),[r,n]=L.useState("all"),[i,s]=L.useState(null),[o,l]=L.useState(!1),[c,u]=L.useState(!1),[d,f]=L.useState(null),{addNotification:m}=Mr(),{data:h,loading:p,error:y,refetch:v}=it(()=>$s.getServices({limit:200}),[]),x=(h==null?void 0:h.services)??[],b=L.useMemo(()=>Array.from(new Set(x.map(A=>A.category))).sort(),[x]),N=L.useMemo(()=>x.filter(A=>{const I=A.name.toLowerCase().includes(e.toLowerCase())||A.description.toLowerCase().includes(e.toLowerCase()),$=r==="all"||A.category===r;return I&&$}),[x,e,r]),w=ot($s.createService.bind($s)),S=ot(A=>$s.updateService(A.id,A.data)),E=ot(A=>$s.deleteService(A)),C=async A=>{try{await w.mutate(A),m({title:"Service Created",message:`${A.name} has been added successfully.`,type:"success",userId:"system",priority:"medium",category:"service"}),await v(),l(!1)}catch(I){throw m({title:"Unable to create service",message:(I==null?void 0:I.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"}),I}},k=async A=>{if(d)try{await S.mutate({id:d.id,data:A}),m({title:"Service Updated",message:`${A.name??d.name} has been updated.`,type:"success",userId:"system",priority:"medium",category:"service"}),await v(),u(!1),f(null)}catch(I){throw m({title:"Unable to update service",message:(I==null?void 0:I.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"}),I}},P=async(A,I)=>{if(window.confirm(`Are you sure you want to archive ${I}?`))try{await E.mutate(A),m({title:"Service Archived",message:`${I} is no longer available for new appointments.`,type:"info",userId:"system",priority:"medium",category:"service"}),await v()}catch($){m({title:"Unable to archive service",message:($==null?void 0:$.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"})}},D=A=>{f(A),u(!0)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Services & Packages"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Explore our comprehensive homecare services"})]}),a.jsx("div",{className:"mt-4 sm:mt-0",children:a.jsxs("button",{onClick:()=>l(!0),className:"btn-primary flex items-center",children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Add New Service"]})})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"relative",children:[a.jsx(Br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search services...",value:e,onChange:A=>t(A.target.value),className:"input-field pl-10"})]})}),a.jsx("div",{children:a.jsxs("select",{value:r,onChange:A=>n(A.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Categories"}),b.map(A=>a.jsx("option",{value:A,children:A},A))]})})]})}),p&&a.jsx("div",{className:"card text-center py-12 text-sm text-gray-500",children:"Loading services..."}),y&&!p&&a.jsx("div",{className:"card text-center py-12 text-sm text-red-500",children:"Unable to load services. Please try again later."}),!p&&!y&&a.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:N.map(A=>a.jsxs("div",{className:"card hover:shadow-lg transition-shadow duration-200",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:A.name}),a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-secondary-100 text-secondary-800",children:A.category})]}),a.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:A.description}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Sa,{className:"h-4 w-4 mr-1"}),typeof A.price=="number"?`${A.price.toLocaleString()} UGX`:""]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(nr,{className:"h-4 w-4 mr-1"}),jT(A.duration)]})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Ba,{className:"h-4 w-4 mr-1"}),A.features.length," features included"]})]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>s(A),className:"flex-1 inline-flex items-center justify-center gap-1.5 btn-outline py-1.5 px-3 text-sm",children:[a.jsx(Ln,{className:"h-3.5 w-3.5 shrink-0"}),a.jsx("span",{children:"View Details"})]}),a.jsx("button",{onClick:()=>D(A),className:"inline-flex items-center justify-center btn-secondary py-1.5 px-2.5 text-sm min-w-[2.25rem]",children:a.jsx(Fn,{className:"h-3.5 w-3.5"})}),a.jsx("button",{onClick:()=>P(A.id,A.name),className:"inline-flex items-center justify-center btn-outline text-red-600 hover:text-red-700 hover:bg-red-50 border-red-300 py-1.5 px-2.5 text-sm min-w-[2.25rem]",children:a.jsx(zr,{className:"h-3.5 w-3.5"})})]})]},A.id))}),i&&a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>s(null)}),a.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[a.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:i.name}),a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-secondary-100 text-secondary-800 mt-1",children:i.category})]}),a.jsx("button",{onClick:()=>s(null),className:"text-gray-400 hover:text-gray-600",children:a.jsx(Dt,{className:"h-6 w-6"})})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:i.description}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Sa,{className:"h-4 w-4 mr-2"}),typeof i.price=="number"?`${i.price.toLocaleString()} UGX`:""]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(nr,{className:"h-4 w-4 mr-2"}),jT(i.duration)]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Features Included:"}),a.jsx("ul",{className:"space-y-1",children:i.features.map((A,I)=>a.jsxs("li",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(nm,{className:"h-3 w-3 text-yellow-500 mr-2"}),A]},I))})]})]}),a.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[a.jsx("button",{className:"w-full btn-primary sm:ml-3 sm:w-auto",children:"Book This Service"}),a.jsx("button",{onClick:()=>s(null),className:"mt-3 w-full btn-outline sm:mt-0 sm:w-auto",children:"Close"})]})]})]})}),N.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400",children:a.jsx(Br,{className:"h-12 w-12"})}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No services found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your search or filter criteria."})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Service Categories"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:b.map(A=>{const I=x.filter(M=>M.category===A),$=I.map(M=>M.price).filter(M=>typeof M=="number"),_=$.length>0?Math.round($.reduce((M,z)=>M+z,0)/$.length):null;return a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:A}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[I.length," services"]}),a.jsx("p",{className:"text-sm text-gray-600",children:_!=null?`From ${_.toLocaleString()} UGX`:""})]},A)})})]}),a.jsx(NT,{isOpen:o,onClose:()=>l(!1),onSave:C,mode:"add",categories:b}),a.jsx(NT,{isOpen:c,onClose:()=>{u(!1),f(null)},onSave:k,service:d,mode:"edit",categories:b})]})}const ST=e=>({patientId:(e==null?void 0:e.patientId)||"",patientName:(e==null?void 0:e.patientName)||"",serviceId:(e==null?void 0:e.serviceId)||"",serviceName:(e==null?void 0:e.serviceName)||"",amount:(e==null?void 0:e.amount)||0,date:(e==null?void 0:e.date)||new Date().toISOString().split("T")[0],dueDate:(e==null?void 0:e.dueDate)||new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],status:(e==null?void 0:e.status)||"pending",description:(e==null?void 0:e.description)||""});function AT({isOpen:e,onClose:t,onSave:r,invoice:n,mode:i,patients:s,services:o}){const[l,c]=L.useState(ST(n)),[u,d]=L.useState(!1),[f,m]=L.useState(null);L.useEffect(()=>{e&&(d(!1),m(null),c(ST(n)))},[n,i,e]);const h=x=>{const{name:b,value:N}=x.target;c(w=>({...w,[b]:b==="amount"?Number(N):N}))},p=x=>{const b=x.target.value,N=s.find(w=>w.id===b);c(w=>({...w,patientId:b,patientName:(N==null?void 0:N.name)??""}))},y=x=>{const b=x.target.value,N=o.find(w=>w.id===b);c(w=>({...w,serviceId:b,serviceName:(N==null?void 0:N.name)??"",amount:(N==null?void 0:N.price)??w.amount}))},v=async x=>{x.preventDefault(),d(!0),m(null);try{await r({...l,amount:Number(l.amount)}),d(!1),t()}catch(b){d(!1),m((b==null?void 0:b.message)??"Unable to save invoice. Please try again.")}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:i==="add"?"Create New Invoice":"Edit Invoice"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Dt,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:v,className:"p-6 space-y-6",children:[f&&a.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded text-sm text-red-700",children:f}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient *"}),a.jsxs("select",{name:"patientId",value:l.patientId,onChange:p,required:!0,className:"input-field",children:[a.jsx("option",{value:"",children:"Select a patient"}),s.map(x=>a.jsxs("option",{value:x.id,children:[x.name," - ",x.condition]},x.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service *"}),a.jsxs("select",{name:"serviceId",value:l.serviceId,onChange:y,required:!0,className:"input-field",children:[a.jsx("option",{value:"",children:"Select a service"}),o.map(x=>a.jsxs("option",{value:x.id,children:[x.name," - $",x.price]},x.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount ($) *"}),a.jsx("input",{type:"number",name:"amount",value:l.amount,onChange:h,required:!0,min:"0",step:"0.01",className:"input-field",placeholder:"Enter invoice amount"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Invoice Date *"}),a.jsx("input",{type:"date",name:"date",value:l.date,onChange:h,required:!0,className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date *"}),a.jsx("input",{type:"date",name:"dueDate",value:l.dueDate,onChange:h,required:!0,className:"input-field"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),a.jsxs("select",{name:"status",value:l.status,onChange:h,required:!0,className:"input-field",children:[a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"paid",children:"Paid"}),a.jsx("option",{value:"overdue",children:"Overdue"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),a.jsx("textarea",{name:"description",value:l.description,onChange:h,required:!0,rows:4,className:"input-field",placeholder:"Enter invoice description and details"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:u,children:u?"Saving...":i==="add"?"Create Invoice":"Update Invoice"})]})]})]})}):null}const en=e=>`${Number(e).toLocaleString()} UGX`;function vo(e){const t=String(e);return t.includes(",")||t.includes('"')||t.includes(`
`)||t.includes("\r")?`"${t.replace(/"/g,'""')}"`:t}function ET(e,t){const r=URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download=t,n.click(),URL.revokeObjectURL(r)}function jve(){const{user:e}=fr(),t=(e==null?void 0:e.role)==="admin",[r,n]=L.useState(""),[i,s]=L.useState("unpaid"),[o,l]=L.useState(!1),[c,u]=L.useState("all"),[d,f]=L.useState("month"),[m,h]=L.useState(!1),[p,y]=L.useState(!1),[v,x]=L.useState(!1),[b,N]=L.useState(null),[w,S]=L.useState(!1),{addNotification:E}=Mr(),{data:C,loading:k,error:P,refetch:D}=it(()=>rs.getInvoices({limit:500,status:i,includeArchived:o}),[i,o]),{data:A,refetch:I}=it(()=>rs.getBillingSummary({period:d}),[d]),{data:$}=it(()=>Mn.getPatients({limit:200}),[]),{data:_}=it(()=>$s.getServices({limit:200}),[]),M=(C==null?void 0:C.invoices)??[],z=($==null?void 0:$.patients)??[],Z=(_==null?void 0:_.services)??[],R=A??null,U=ot(rs.createInvoice.bind(rs)),re=ot(be=>rs.updateInvoice(be.id,be.data)),de=ot(rs.archiveInvoice.bind(rs)),B=ot(rs.deleteInvoice.bind(rs)),G=L.useMemo(()=>M.filter(be=>{var Ue,Ge,We;const je=(((Ue=be.patientName)==null?void 0:Ue.toLowerCase())||"").includes(r.toLowerCase())||(((Ge=be.serviceName)==null?void 0:Ge.toLowerCase())||"").includes(r.toLowerCase())||(((We=be.id)==null?void 0:We.toLowerCase())||"").includes(r.toLowerCase());let Me=!0;if(c!=="all"){const _t=new Date(be.date),pt=new Date,vt=new Date(pt.getTime()-30*24*60*60*1e3);c==="last30"?Me=_t>=vt:c==="overdue"&&(Me=be.status==="overdue")}return je&&Me}),[M,r,c]),te=G.reduce((be,je)=>be+je.amount,0),ue=G.filter(be=>be.status==="paid").reduce((be,je)=>be+je.amount,0),q=G.filter(be=>be.status==="pending").reduce((be,je)=>be+je.amount,0),X=G.filter(be=>be.status==="overdue").reduce((be,je)=>be+je.amount,0),Q=async be=>{try{await U.mutate(be),Ce.success(`Invoice for ${be.patientName} has been created successfully.`),E({title:"Invoice created",message:`${be.patientName}'s invoice has been created.`,type:"success",userId:"system",priority:"medium",category:"system"}),h(!1),await D()}catch(je){throw Ce.error((je==null?void 0:je.message)??"Failed to create invoice. Please try again."),E({title:"Unable to create invoice",message:(je==null?void 0:je.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"}),je}},ne=async be=>{if(b)try{await re.mutate({id:b.id,data:be}),Ce.success(`Invoice for ${be.patientName} has been updated successfully.`),E({title:"Invoice updated",message:`${be.patientName}'s invoice has been updated.`,type:"success",userId:"system",priority:"medium",category:"system"}),y(!1),N(null),await D()}catch(je){throw Ce.error((je==null?void 0:je.message)??"Failed to update invoice. Please try again."),E({title:"Unable to update invoice",message:(je==null?void 0:je.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"}),je}},pe=async(be,je)=>{if(window.confirm(`Archive invoice for ${je}? It will be hidden from the default list.`))try{await de.mutate(be),Ce.success(`Invoice for ${je} has been archived.`),E({title:"Invoice archived",message:`Invoice for ${je} has been archived.`,type:"success",userId:"system",priority:"medium",category:"system"}),await D(),await I()}catch(Me){Ce.error((Me==null?void 0:Me.message)??"Failed to archive invoice.")}},ie=async(be,je)=>{if(window.confirm(`Permanently delete ${je}'s invoice? This cannot be undone.`))try{await B.mutate(be),Ce.success(`Invoice for ${je} has been deleted.`),E({title:"Invoice deleted",message:`Invoice for ${je} has been removed.`,type:"info",userId:"system",priority:"medium",category:"system"}),await D(),await I()}catch(Me){Ce.error((Me==null?void 0:Me.message)??"Failed to delete invoice.")}},W=be=>{N(be),x(!0)},fe=be=>{const je=window.open("","_blank");if(!je){Ce.error("Please allow popups to print invoices.");return}const Me=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Invoice ${be.id} - Teamwork Physio</title>
          <meta charset="UTF-8">
          <style>
            * {
              margin: 0;
              padding: 0;
              box-sizing: border-box;
            }
            body {
              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
              font-size: 14px;
              line-height: 1.6;
              color: #1a1a1a;
              background: #ffffff;
              max-width: 900px;
              margin: 0 auto;
              padding: 40px 30px;
            }
            .watermark {
              position: fixed;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%) rotate(-45deg);
              font-size: 120px;
              color: rgba(0, 0, 0, 0.03);
              font-weight: bold;
              z-index: 0;
              pointer-events: none;
              white-space: nowrap;
            }
            .content {
              position: relative;
              z-index: 1;
            }
            .header {
              border-bottom: 3px solid #1e40af;
              padding-bottom: 24px;
              margin-bottom: 32px;
              display: flex;
              flex-direction: column;
              gap: 20px;
            }
            .header-top {
              display: flex;
              align-items: flex-start;
              justify-content: space-between;
              width: 100%;
              flex-wrap: wrap;
              gap: 20px;
            }
            .header-left {
              flex: 1;
              min-width: 200px;
            }
            .header-logo {
              max-height: 70px;
              width: auto;
              margin-bottom: 12px;
            }
            .clinic-info {
              color: #4b5563;
              font-size: 13px;
              line-height: 1.8;
            }
            .clinic-info strong {
              color: #1e40af;
              font-size: 16px;
              display: block;
              margin-bottom: 4px;
            }
            .header-right {
              text-align: right;
              min-width: 200px;
            }
            .document-type {
              font-size: 32px;
              font-weight: 700;
              color: #1e40af;
              letter-spacing: 1px;
              margin-bottom: 8px;
            }
            .invoice-number {
              font-size: 14px;
              color: #6b7280;
              font-weight: 500;
            }
            .invoice-info {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 32px;
              margin-bottom: 36px;
              padding: 24px;
              background: #f9fafb;
              border-radius: 8px;
              border-left: 4px solid #1e40af;
            }
            .info-section h3 {
              font-size: 12px;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 12px;
              font-weight: 600;
            }
            .info-section p {
              margin: 6px 0;
              color: #1a1a1a;
              font-size: 14px;
            }
            .info-section strong {
              font-size: 16px;
              color: #111827;
              font-weight: 600;
            }
            .status-badge {
              display: inline-block;
              padding: 6px 14px;
              border-radius: 6px;
              font-weight: 600;
              font-size: 12px;
              text-transform: uppercase;
              letter-spacing: 0.5px;
            }
            .status-paid { background-color: #d1fae5; color: #065f46; }
            .status-pending { background-color: #fef3c7; color: #92400e; }
            .status-overdue { background-color: #fee2e2; color: #991b1b; }
            table {
              width: 100%;
              border-collapse: separate;
              border-spacing: 0;
              margin: 24px 0;
              background: #ffffff;
              border-radius: 8px;
              overflow: hidden;
              box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            }
            thead {
              background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
              color: #ffffff;
            }
            th {
              padding: 16px;
              text-align: left;
              font-weight: 600;
              font-size: 13px;
              text-transform: uppercase;
              letter-spacing: 0.5px;
            }
            th:first-child { padding-left: 20px; }
            th:last-child { padding-right: 20px; text-align: right; }
            tbody tr {
              border-bottom: 1px solid #e5e7eb;
              transition: background-color 0.2s;
            }
            tbody tr:last-child {
              border-bottom: none;
            }
            tbody tr:hover {
              background-color: #f9fafb;
            }
            td {
              padding: 16px;
              color: #374151;
              font-size: 14px;
            }
            td:first-child { padding-left: 20px; }
            td:last-child { 
              padding-right: 20px; 
              text-align: right;
              font-weight: 600;
              color: #1e40af;
            }
            .total-section {
              margin-top: 32px;
              padding: 24px;
              background: linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%);
              border-radius: 8px;
              border: 2px solid #e5e7eb;
            }
            .total-row {
              display: flex;
              justify-content: space-between;
              align-items: center;
              padding: 12px 0;
              border-bottom: 1px solid #e5e7eb;
            }
            .total-row:last-child {
              border-bottom: none;
              margin-top: 8px;
              padding-top: 16px;
            }
            .total-label {
              font-size: 16px;
              font-weight: 600;
              color: #374151;
              text-transform: uppercase;
              letter-spacing: 0.5px;
            }
            .total-amount {
              font-size: 28px;
              font-weight: 700;
              color: #1e40af;
            }
            .footer {
              margin-top: 48px;
              padding-top: 24px;
              border-top: 2px solid #e5e7eb;
              text-align: center;
              color: #6b7280;
              font-size: 12px;
            }
            .footer p {
              margin: 4px 0;
            }
            .footer strong {
              color: #374151;
            }
            .no-print {
              margin-top: 40px;
              text-align: center;
            }
            .print-button {
              padding: 12px 32px;
              background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
              color: white;
              border: none;
              border-radius: 8px;
              cursor: pointer;
              font-size: 15px;
              font-weight: 600;
              box-shadow: 0 4px 6px rgba(30, 64, 175, 0.3);
              transition: transform 0.2s, box-shadow 0.2s;
            }
            .print-button:hover {
              transform: translateY(-2px);
              box-shadow: 0 6px 12px rgba(30, 64, 175, 0.4);
            }
            @media (max-width: 768px) {
              body {
                padding: 24px 16px;
              }
              .header-top {
                flex-direction: column;
              }
              .header-right {
                text-align: left;
              }
              .invoice-info {
                grid-template-columns: 1fr;
                gap: 24px;
              }
              .document-type {
                font-size: 24px;
              }
            }
            @media print {
              body {
                padding: 20px;
                max-width: 100%;
              }
              .watermark {
                display: block;
              }
              .no-print {
                display: none;
              }
              .total-section {
                page-break-inside: avoid;
              }
              table {
                page-break-inside: avoid;
              }
              @page {
                margin: 1cm;
              }
            }
          </style>
        </head>
        <body>
          <div class="watermark">TEAMWORK PHYSIO</div>
          <div class="content">
            <div class="header">
              <div class="header-top">
                <div class="header-left">
                  ${d5("header-logo")}
                  <div class="clinic-info">
                    <strong>Teamwork Physio International</strong>
                    Healthcare & Rehabilitation Services
                  </div>
                </div>
                <div class="header-right">
                  <div class="document-type">INVOICE</div>
                  <div class="invoice-number">Invoice #${be.id}</div>
                </div>
              </div>
            </div>
            
            <div class="invoice-info">
              <div class="info-section">
                <h3>Bill To</h3>
                <p><strong>${be.patientName||"N/A"}</strong></p>
                <p style="margin-top: 8px; color: #6b7280;">Invoice Date: <strong style="color: #1a1a1a;">${new Date(be.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}</strong></p>
                <p style="color: #6b7280;">Due Date: <strong style="color: #1a1a1a;">${new Date(be.dueDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}</strong></p>
              </div>
              <div class="info-section">
                <h3>Payment Status</h3>
                <span class="status-badge status-${be.status}">${be.status}</span>
              </div>
            </div>
            
            <table>
              <thead>
                <tr>
                  <th>Description</th>
                  <th>Service</th>
                  <th>Amount</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>${be.description||"N/A"}</td>
                  <td>${be.serviceName||"N/A"}</td>
                  <td>${en(be.amount)}</td>
                </tr>
              </tbody>
            </table>
            
            <div class="total-section">
              <div class="total-row">
                <span class="total-label">Total Amount</span>
                <span class="total-amount">${en(be.amount)}</span>
              </div>
            </div>
            
            <div class="footer">
              <p><strong>Thank you for choosing Teamwork Physio International</strong></p>
              <p>This is an official invoice. Please retain for your records.</p>
              <p style="margin-top: 12px; font-size: 11px; color: #9ca3af;">Document generated on ${new Date().toLocaleString("en-US",{dateStyle:"full",timeStyle:"short"})}</p>
            </div>
            
            <div class="no-print">
              <button onclick="window.print()" class="print-button">Print Invoice</button>
            </div>
          </div>
        </body>
      </html>
    `;je.document.write(Me),je.document.close(),Ce.success("Invoice opened in new window. Use your browser's print function to save as PDF.")},Ae=()=>{const be=["Invoice ID","Patient","Service","Amount (UGX)","Date","Due Date","Status","Description"],je=G.map(We=>[vo(We.id),vo(We.patientName??""),vo(We.serviceName??""),vo(We.amount),vo(new Date(We.date).toLocaleDateString()),vo(new Date(We.dueDate).toLocaleDateString()),vo(We.status),vo(We.description??"")]),Me=[be.join(","),...je.map(We=>We.join(","))].join(`\r
`),Ue=new Blob(["\uFEFF"+Me],{type:"text/csv;charset=utf-8"}),Ge=new Date().toISOString().slice(0,10);ET(Ue,`invoices-${Ge}.csv`),Ce.success("Invoices exported to CSV.")},Y=()=>{if(!R){Ce.info("No summary data to export.");return}const Me=[["Billing Summary",d==="day"?"Today":d==="week"?"This Week":"This Month"],["Revenue",en(R.revenue)],["Revenue (payments count)",String(R.revenueCount)],["Total Invoiced",en(R.totalInvoiced)],["Total Pending",en(R.totalPending)],["Pending count",String(R.pendingCount)],["Total Overdue",en(R.totalOverdue)],["Overdue count",String(R.overdueCount)],["Paid in period",en(R.paidInPeriod)],["Paid count",String(R.paidCount)],["Profit",en(R.profit)]].map(We=>We.map(vo).join(",")).join(`\r
`),Ue=new Blob(["\uFEFF"+Me],{type:"text/csv;charset=utf-8"}),Ge=new Date().toISOString().slice(0,10);ET(Ue,`billing-summary-${d}-${Ge}.csv`),Ce.success("Summary exported to CSV.")},Te=be=>String(be).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),qe=()=>{const be=window.open("","_blank");if(!be){Ce.error("Please allow popups to export.");return}const je=G.map(Ue=>`
      <tr>
        <td>${Te(Ue.id)}</td>
        <td>${Te(Ue.patientName??"")}</td>
        <td>${Te(Ue.serviceName??"")}</td>
        <td>${en(Ue.amount)}</td>
        <td>${Te(new Date(Ue.date).toLocaleDateString())}</td>
        <td>${Te(new Date(Ue.dueDate).toLocaleDateString())}</td>
        <td>${Te(Ue.status)}</td>
      </tr>`).join(""),Me=`
      <!DOCTYPE html>
      <html>
        <head><title>Invoices Export</title>
          <style>
            body { font-family: Arial, sans-serif; padding: 20px; }
            table { width: 100%; border-collapse: collapse; margin-top: 16px; }
            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; font-size: 12px; }
            th { background: #f5f5f5; }
          </style>
        </head>
        <body>
          <h1>Invoices</h1>
          <p>Exported ${new Date().toLocaleString()}  ${G.length} record(s)</p>
          <table>
            <thead><tr>
              <th>Invoice ID</th><th>Patient</th><th>Service</th><th>Amount</th><th>Date</th><th>Due Date</th><th>Status</th>
            </tr></thead>
            <tbody>${je}</tbody>
          </table>
          <p class="no-print" style="margin-top: 20px;">
            <button onclick="window.print()" style="padding: 10px 20px; background: #2563eb; color: white; border: none; border-radius: 6px; cursor: pointer;">Print / Save as PDF</button>
          </p>
        </body>
      </html>`;be.document.write(Me),be.document.close(),Ce.success("Export opened in new window. Use Print to save as PDF.")};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Billing & Invoices"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage invoices and payment tracking"})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{type:"button",onClick:()=>S(be=>!be),onBlur:()=>setTimeout(()=>S(!1),150),className:"btn-outline flex items-center gap-2","aria-haspopup":"true","aria-expanded":w,children:[a.jsx(Hd,{className:"h-4 w-4"}),"Export",a.jsx("svg",{className:"h-4 w-4 opacity-70",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),w&&a.jsxs("div",{className:"absolute right-0 mt-1 w-56 rounded-lg border border-gray-200 bg-white py-1 shadow-lg z-20",children:[a.jsxs("button",{type:"button",onClick:()=>{S(!1),Ae()},className:"flex w-full items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 text-left",children:[a.jsx(HF,{className:"h-4 w-4 text-green-600 shrink-0"}),"Invoices to CSV"]}),a.jsxs("button",{type:"button",onClick:()=>{S(!1),Y()},className:"flex w-full items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 text-left",children:[a.jsx(lw,{className:"h-4 w-4 text-blue-600 shrink-0"}),"Summary to CSV"]}),a.jsxs("button",{type:"button",onClick:()=>{S(!1),qe()},className:"flex w-full items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 text-left",children:[a.jsx(uw,{className:"h-4 w-4 text-gray-600 shrink-0"}),"Print list (PDF)"]})]})]}),a.jsxs("button",{onClick:()=>h(!0),className:"btn-primary flex items-center",children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Create Invoice"]})]})]}),P&&a.jsxs("div",{className:"card text-sm text-red-500 flex items-center gap-2",children:[a.jsx(zo,{className:"h-4 w-4"})," Unable to load invoices. Please try again later."]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[a.jsx(lw,{className:"h-5 w-5 mr-2 text-primary-600"}),"Billing Reports"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Period:"}),a.jsxs("select",{value:d,onChange:be=>f(be.target.value),className:"input-field py-1.5 text-sm",children:[a.jsx("option",{value:"day",children:"Today"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4",children:[a.jsxs("div",{className:"p-3 rounded-lg bg-green-50 border border-green-100",children:[a.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Revenue"}),a.jsx("p",{className:"text-lg font-bold text-green-700",children:R?en(R.revenue):""}),a.jsxs("p",{className:"text-xs text-gray-500",children:[(R==null?void 0:R.revenueCount)??0," payments"]})]}),a.jsxs("div",{className:"p-3 rounded-lg bg-blue-50 border border-blue-100",children:[a.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Invoiced"}),a.jsx("p",{className:"text-lg font-bold text-blue-700",children:R?en(R.totalInvoiced):""})]}),a.jsxs("div",{className:"p-3 rounded-lg bg-yellow-50 border border-yellow-100",children:[a.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Pending"}),a.jsx("p",{className:"text-lg font-bold text-yellow-700",children:R?en(R.totalPending):""}),a.jsxs("p",{className:"text-xs text-gray-500",children:[(R==null?void 0:R.pendingCount)??0," invoices"]})]}),a.jsxs("div",{className:"p-3 rounded-lg bg-red-50 border border-red-100",children:[a.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Overdue"}),a.jsx("p",{className:"text-lg font-bold text-red-700",children:R?en(R.totalOverdue):""}),a.jsxs("p",{className:"text-xs text-gray-500",children:[(R==null?void 0:R.overdueCount)??0," invoices"]})]}),a.jsxs("div",{className:"p-3 rounded-lg bg-primary-50 border border-primary-100",children:[a.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Profit"}),a.jsx("p",{className:"text-lg font-bold text-primary-700",children:R?en(R.profit):""})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-blue-100",children:a.jsx(Sa,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total (this list)"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:en(te)})]})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-green-100",children:a.jsx(Sa,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Paid"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:en(ue)})]})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-yellow-100",children:a.jsx(Sa,{className:"h-6 w-6 text-yellow-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:en(q)})]})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-red-100",children:a.jsx(Sa,{className:"h-6 w-6 text-red-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:en(X)})]})]})})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"relative",children:[a.jsx(Br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search invoices...",value:r,onChange:be=>n(be.target.value),className:"input-field pl-10"})]})}),a.jsx("div",{children:a.jsxs("select",{value:i,onChange:be=>s(be.target.value),className:"input-field",children:[a.jsx("option",{value:"unpaid",children:"Unpaid (Pending + Overdue)"}),a.jsx("option",{value:"paid",children:"Paid only"}),a.jsx("option",{value:"all",children:"All statuses"})]})}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:o,onChange:be=>l(be.target.checked),className:"rounded border-gray-300 text-primary-600"}),"Include archived"]})}),a.jsx("div",{children:a.jsxs("select",{value:c,onChange:be=>u(be.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Time"}),a.jsx("option",{value:"last30",children:"Last 30 Days"}),a.jsx("option",{value:"overdue",children:"Overdue Only"})]})})]})}),k?a.jsx("div",{className:"card text-sm text-gray-500",children:"Loading invoices..."}):a.jsx("div",{className:"card",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Patient"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:G.map(be=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Aa,{className:"h-4 w-4 text-gray-400 mr-2"}),a.jsx("div",{className:"text-sm font-medium text-gray-900",children:be.id})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Kr,{className:"h-4 w-4 text-gray-400 mr-2"}),a.jsx("div",{className:"text-sm text-gray-900",children:be.patientName})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900",children:be.serviceName}),a.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:be.description})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:en(be.amount)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mt,{className:"h-4 w-4 text-gray-400 mr-2"}),a.jsx("div",{className:"text-sm text-gray-900",children:new Date(be.date).toLocaleDateString()})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mt,{className:"h-4 w-4 text-gray-400 mr-2"}),a.jsx("div",{className:"text-sm text-gray-900",children:new Date(be.dueDate).toLocaleDateString()})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`status-badge ${be.status==="paid"?"status-paid":be.status==="pending"?"status-pending":"status-overdue"}`,children:be.status})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[a.jsxs("button",{onClick:()=>W(be),className:"text-primary-600 hover:text-primary-900 mr-4",children:[a.jsx(Ln,{className:"h-4 w-4 inline mr-1"}),"View"]}),a.jsxs("button",{onClick:()=>fe(be),className:"text-secondary-600 hover:text-secondary-900 mr-4",children:[a.jsx(Hd,{className:"h-4 w-4 inline mr-1"}),"PDF"]}),a.jsxs("button",{onClick:()=>{N(be),y(!0)},className:"text-blue-600 hover:text-blue-800 mr-4",children:[a.jsx(Fn,{className:"h-4 w-4 inline mr-1"}),"Edit"]}),a.jsxs("button",{onClick:()=>pe(be.id,be.patientName),className:"text-amber-600 hover:text-amber-800",title:"Archive invoice",children:[a.jsx(LF,{className:"h-4 w-4 inline mr-1"}),"Archive"]}),t&&a.jsxs("button",{onClick:()=>ie(be.id,be.patientName),className:"text-red-600 hover:text-red-800 ml-2",title:"Permanently delete (admin only)",children:[a.jsx(zr,{className:"h-4 w-4 inline mr-1"}),"Delete"]})]})]},be.id))})]})})}),G.length===0&&!k&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400",children:a.jsx(Br,{className:"h-12 w-12"})}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No invoices found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your search or filter criteria."})]}),a.jsx(AT,{isOpen:m,onClose:()=>h(!1),onSave:Q,mode:"add",patients:z,services:Z}),a.jsx(AT,{isOpen:p,onClose:()=>{y(!1),N(null)},onSave:ne,invoice:b,mode:"edit",patients:z,services:Z}),v&&b&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsxs("div",{className:"w-full max-w-3xl max-h-[90vh] overflow-y-auto rounded-xl bg-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b px-6 py-4 sticky top-0 bg-white z-10",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Invoice Details"}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Invoice #",b.id]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{onClick:()=>fe(b),className:"btn-outline flex items-center",title:"Print/Download PDF",children:[a.jsx(uw,{className:"h-4 w-4 mr-2"}),"Print"]}),a.jsx("button",{type:"button",className:"rounded-full p-2 text-gray-400 transition hover:bg-gray-100 hover:text-gray-600",onClick:()=>{x(!1),N(null)},"aria-label":"Close",children:a.jsx(Dt,{className:"h-5 w-5"})})]})]}),a.jsxs("div",{className:"px-6 py-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Bill To"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:b.patientName}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Patient ID: ",b.patientId]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Invoice Information"}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:"text-sm text-gray-900",children:[a.jsx("span",{className:"font-medium",children:"Date:"})," ",new Date(b.date).toLocaleDateString()]}),a.jsxs("p",{className:"text-sm text-gray-900",children:[a.jsx("span",{className:"font-medium",children:"Due Date:"})," ",new Date(b.dueDate).toLocaleDateString()]}),a.jsxs("p",{className:"text-sm",children:[a.jsx("span",{className:"font-medium text-gray-900",children:"Status:"})," ",a.jsx("span",{className:`status-badge ${b.status==="paid"?"status-paid":b.status==="pending"?"status-pending":"status-overdue"}`,children:b.status})]})]})]})]}),a.jsxs("div",{className:"border-t pt-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-4",children:"Service Details"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:b.serviceName}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:b.description})]}),a.jsx("div",{className:"text-right",children:a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:en(b.amount)})})]})})]}),a.jsx("div",{className:"border-t pt-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total Amount"}),a.jsx("span",{className:"text-2xl font-bold text-gray-900",children:en(b.amount)})]})}),a.jsxs("div",{className:"border-t pt-4 flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>{x(!1),N(null)},className:"btn-outline",children:"Close"}),a.jsxs("button",{onClick:()=>{N(b),x(!1),y(!0)},className:"btn-primary flex items-center",children:[a.jsx(Fn,{className:"h-4 w-4 mr-2"}),"Edit Invoice"]})]})]})]})})]})}function Fh(e){if(!e)return{};if(e.data)return e.data;const{data:t,...r}=e;return r}class Sve{async getRevenueReport(t){const r=await me.get(xe.REPORTS.REVENUE,{params:t});return Fh(r.data)}async getAppointmentReport(t){const r=await me.get(xe.REPORTS.APPOINTMENTS,{params:t});return Fh(r.data)}async getPatientSatisfactionReport(t){const r=await me.get(xe.REPORTS.PATIENT_SATISFACTION,{params:t});return Fh(r.data)}async getNurseUtilizationReport(t){const r=await me.get(xe.REPORTS.NURSE_UTILIZATION,{params:t}),n=Fh(r.data);return Array.isArray(n)?n:[]}async getReportTemplates(){const t=await me.get(xe.REPORTS.TEMPLATES),r=Fh(t.data);return Array.isArray(r)?r:[]}}const Qb=new Sve;function AS(e){const t=new Date(e);return{label:`${t.toLocaleString("default",{month:"short"})} ${t.getFullYear()}`,timestamp:t.getTime()}}function Ave(e=[]){const t=new Map;return e.forEach(r=>{const n=r.dueDate??r.date??r.createdAt??new Date().toISOString(),{label:i,timestamp:s}=AS(n),o=t.get(i)??{outstanding:0,timestamp:s};o.outstanding+=r.amount,o.timestamp=s,t.set(i,o)}),t}function Eve(e=[]){const t=new Map;return e.forEach(r=>{const n=r.date??r.createdAt??new Date().toISOString(),{label:i,timestamp:s}=AS(n),o=t.get(i)??{revenue:0,timestamp:s};o.revenue+=r.amount,o.timestamp=s,t.set(i,o)}),t}function _ve(e=[],t=[],r=[]){const n=new Map,i=(s,o)=>{s.forEach(l=>{const c=l.createdAt??l.date??new Date().toISOString(),{label:u,timestamp:d}=AS(c),f=n.get(u)??{label:u,timestamp:d,patients:0,appointments:0,revenue:0};o(f,l),f.timestamp=d,n.set(u,f)})};return i(e,(s,o)=>{const l=typeof o._count=="number"?o._count:1;s.patients+=l}),i(t,(s,o)=>{const l=typeof o._count=="number"?o._count:1;s.appointments+=l}),i(r,(s,o)=>{var c;const l=((c=o._sum)==null?void 0:c.amount)??0;s.revenue+=l}),Array.from(n.values()).sort((s,o)=>s.timestamp-o.timestamp).slice(-6)}const _T=["#0D6EFD","#20B486","#6F42C1","#FD7E14","#DC3545","#20C997"];function Pve(){var D,A,I,$;const[e,t]=L.useState("last30"),{data:r,loading:n}=it(()=>Eo.getOverview(),[]),{data:i,loading:s}=it(()=>Eo.getTrends(),[]),{data:o,loading:l}=it(()=>Eo.getPerformance(),[]),{data:c,loading:u}=it(()=>Eo.getServicePopularity(),[]),{data:d,loading:f}=it(()=>Eo.getAppointmentAnalytics(),[]),{data:m,loading:h}=it(()=>Qb.getRevenueReport(),[]),{data:p,loading:y}=it(()=>Qb.getNurseUtilizationReport(),[]),{data:v,loading:x}=it(()=>Qb.getPatientSatisfactionReport(),[]),b=n||s||l||u||f||h||y||x,N=L.useMemo(()=>_ve((i==null?void 0:i.patients)??[],(i==null?void 0:i.appointments)??[],(i==null?void 0:i.revenue)??[]),[i]),w=L.useMemo(()=>{const _=Eve(m==null?void 0:m.payments),M=Ave(m==null?void 0:m.pendingInvoices),z=new Map;return _.forEach((Z,R)=>{z.set(R,{label:R,timestamp:Z.timestamp,revenue:Z.revenue,outstanding:0})}),M.forEach((Z,R)=>{const U=z.get(R);U?U.outstanding=Z.outstanding:z.set(R,{label:R,timestamp:Z.timestamp,revenue:0,outstanding:Z.outstanding})}),Array.from(z.values()).sort((Z,R)=>Z.timestamp-R.timestamp).slice(-6)},[m]),S=L.useMemo(()=>(c??[]).map((_,M)=>{var Z,R;const z=typeof _.count=="number"?_.count:((Z=_.count)==null?void 0:Z.serviceId)??0;return{name:((R=_.service)==null?void 0:R.name)??`Service ${M+1}`,value:z}}),[c]),E=L.useMemo(()=>((d==null?void 0:d.byStatus)??[]).map(_=>{var R;const z=(_.status??"unknown").toString().toLowerCase().split("-").map(U=>U.charAt(0).toUpperCase()+U.slice(1)).join(" "),Z=typeof _._count=="number"?_._count:((R=_._count)==null?void 0:R.status)??0;return{status:z,count:Z}}),[d]),C=L.useMemo(()=>(p??[]).filter(_=>_==null?void 0:_.nurse).sort((_,M)=>(M.appointmentCount??0)-(_.appointmentCount??0)).slice(0,3).map(_=>({name:_.nurse.name,appointments:_.appointmentCount,utilization:_.utilization})),[p]),k=L.useMemo(()=>(c??[]).map(_=>{var z,Z;const M=typeof _.count=="number"?_.count:((z=_.count)==null?void 0:z.serviceId)??0;return{name:((Z=_.service)==null?void 0:Z.name)??"Service",requests:M}}).sort((_,M)=>M.requests-_.requests).slice(0,3),[c]),P=L.useMemo(()=>{const _=[];return v!=null&&v.averageRating&&_.push(`Average patient satisfaction is ${v.averageRating.toFixed(1)}/5.`),o!=null&&o.completedRate&&_.push(`Appointment completion rate at ${o.completedRate.toFixed(0)}%.`),m!=null&&m.totalRevenue&&_.push(`Completed payments total $${m.totalRevenue.toLocaleString(void 0,{maximumFractionDigits:0})}.`),_},[v,o,m]);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports & Analytics"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Comprehensive insights into your homecare operations"})]}),a.jsxs("div",{className:"mt-4 sm:mt-0 flex space-x-2",children:[a.jsxs("select",{value:e,onChange:_=>t(_.target.value),className:"input-field",children:[a.jsx("option",{value:"last7",children:"Last 7 Days"}),a.jsx("option",{value:"last30",children:"Last 30 Days"}),a.jsx("option",{value:"last90",children:"Last 90 Days"}),a.jsx("option",{value:"lastyear",children:"Last Year"})]}),a.jsxs("button",{className:"btn-primary",children:[a.jsx(Hd,{className:"h-4 w-4 mr-2"}),"Export Report"]})]})]}),b&&a.jsxs("div",{className:"card flex items-center justify-center py-12 text-gray-500",children:[a.jsx(Ir,{className:"h-5 w-5 mr-2 animate-spin"}),"Loading analytics..."]}),!b&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-blue-100",children:a.jsx(Ba,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Patients"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:((D=r==null?void 0:r.totalPatients)==null?void 0:D.toLocaleString())??"0"})]})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-green-100",children:a.jsx(Mi,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Appointments"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:((A=r==null?void 0:r.totalAppointments)==null?void 0:A.toLocaleString())??"0"})]})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-purple-100",children:a.jsx(Rm,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Nurses"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:((I=r==null?void 0:r.totalNurses)==null?void 0:I.toLocaleString())??"0"})]})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-orange-100",children:a.jsx(Sa,{className:"h-6 w-6 text-orange-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),a.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",(($=r==null?void 0:r.totalRevenue)==null?void 0:$.toLocaleString())??"0"]})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Patients & Appointments Trend"}),a.jsx(Rm,{className:"h-5 w-5 text-primary-500"})]}),a.jsx("div",{className:"h-64",children:a.jsx(Vh,{width:"100%",height:"100%",children:a.jsxs(DR,{data:N,children:[a.jsx(um,{strokeDasharray:"3 3"}),a.jsx(Ro,{dataKey:"label"}),a.jsx(Mo,{}),a.jsx($a,{}),a.jsx(gu,{type:"monotone",dataKey:"patients",stroke:"#0D6EFD",strokeWidth:2,name:"New Patients"}),a.jsx(gu,{type:"monotone",dataKey:"appointments",stroke:"#20B486",strokeWidth:2,name:"Appointments"})]})})})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Revenue vs Outstanding"}),a.jsx(Sa,{className:"h-5 w-5 text-green-500"})]}),a.jsx("div",{className:"h-64",children:a.jsx(Vh,{width:"100%",height:"100%",children:a.jsxs(c0e,{data:w,children:[a.jsx(um,{strokeDasharray:"3 3"}),a.jsx(Ro,{dataKey:"label"}),a.jsx(Mo,{}),a.jsx($a,{formatter:_=>[`$${Number(_).toLocaleString()}`,""]}),a.jsx(Wo,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#20B486",fill:"#20B486",fillOpacity:.6,name:"Payments"}),a.jsx(Wo,{type:"monotone",dataKey:"outstanding",stackId:"2",stroke:"#DC3545",fill:"#DC3545",fillOpacity:.6,name:"Pending Invoices"})]})})})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Appointment Status Breakdown"}),a.jsx(Mt,{className:"h-5 w-5 text-blue-500"})]}),a.jsx("div",{className:"h-64",children:a.jsx(Vh,{width:"100%",height:"100%",children:a.jsxs(o0e,{data:E,children:[a.jsx(um,{strokeDasharray:"3 3"}),a.jsx(Ro,{dataKey:"status",interval:0,angle:-20,textAnchor:"end",height:80}),a.jsx(Mo,{}),a.jsx($a,{}),a.jsx(Eu,{dataKey:"count",fill:"#0D6EFD",name:"Appointments"})]})})})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Service Distribution"}),a.jsx(Mi,{className:"h-5 w-5 text-purple-500"})]}),a.jsx("div",{className:"h-64",children:a.jsx(Vh,{width:"100%",height:"100%",children:a.jsxs(l0e,{children:[a.jsx(Zo,{data:S,cx:"50%",cy:"50%",labelLine:!1,label:({name:_,percent:M})=>`${_} ${(M*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:S.map((_,M)=>a.jsx(xv,{fill:_T[M%_T.length]},`cell-${M}`))}),a.jsx($a,{})]})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Performing Nurses"}),a.jsxs("div",{className:"space-y-3",children:[C.map((_,M)=>{var z,Z;return a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:_.name}),a.jsxs("p",{className:"text-xs text-gray-600",children:[_.appointments," appointments"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[((Z=(z=_.utilization)==null?void 0:z.toFixed)==null?void 0:Z.call(z,0))??0,"%"]}),a.jsx("p",{className:"text-xs text-gray-600",children:"utilization"})]})]},M)}),C.length===0&&a.jsx("p",{className:"text-sm text-gray-500",children:"No nurse analytics available."})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Most Requested Services"}),a.jsxs("div",{className:"space-y-3",children:[k.map((_,M)=>a.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:_.name}),a.jsxs("p",{className:"text-xs text-gray-600",children:[_.requests," requests"]})]})},M)),k.length===0&&a.jsx("p",{className:"text-sm text-gray-500",children:"No service popularity data available."})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Key Insights"}),a.jsx("div",{className:"space-y-3",children:P.length>0?P.map((_,M)=>a.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm text-blue-800",children:_},M)):a.jsx("p",{className:"text-sm text-gray-500",children:"No insights available yet."})})]})]})]})]})}const Tve=[{value:"admin",label:"Administrator"},{value:"receptionist",label:"Receptionist"},{value:"doctor",label:"Doctor"},{value:"specialist",label:"Specialist"},{value:"nurse",label:"Nurse"},{value:"physiotherapist",label:"Physiotherapist"},{value:"clinical-psychologist",label:"Clinical Psychologist"},{value:"nutritionist",label:"Nutritionist"},{value:"critical-care-nurse",label:"Critical Care Nurse"},{value:"medical-doctor",label:"Medical Doctor"},{value:"geriatrician",label:"Geriatrician"},{value:"palliative-care-specialist",label:"Palliative Care Specialist"},{value:"senior-midwife",label:"Senior Midwife"},{value:"patient",label:"Patient"}],PT={username:"",name:"",email:"",password:"",role:"nurse",phone:"",department:"",doctorSpecialization:"",isActive:!0,avatar:""},Cve=[{value:"NEUROLOGIST",label:"Neurologist"},{value:"ORTHOPEDIST",label:"Orthopedist"},{value:"PHYSIOTHERAPIST",label:"Physiotherapist"}];function TT({isOpen:e,onClose:t,onSave:r,isSaving:n,user:i,title:s,description:o,hideRoleSelector:l=!1,defaultRole:c="nurse",showSpecialization:u=!1}){const d=!!i,[f,m]=L.useState({...PT,role:c}),[h,p]=L.useState(null),[y,v]=L.useState(null),[x,b]=L.useState(null),[N,w]=L.useState(!1),S=s||(d?"Edit User":"Add New User"),E=o||(d?"Update user information and password.":"Provision a new staff or patient account.");if(L.useEffect(()=>{if(e){if(i)if(m({username:i.username||"",name:i.name||"",email:i.email||"",password:"",role:i.role||"nurse",phone:i.phone||"",department:i.department||"",doctorSpecialization:"",isActive:i.isActive!==!1,avatar:i.avatar||""}),i.avatar){const A=i.avatar.startsWith("http")?i.avatar:Oa(i.avatar);b(A)}else b(null);else m({...PT,role:c}),b(null);v(null),p(null),w(!1)}},[e,i,c]),!e)return null;const C=A=>{const{name:I,value:$,type:_}=A.target,M=A.target.checked;m(z=>({...z,[I]:_==="checkbox"?M:$}))},k=async A=>{var _;const I=(_=A.target.files)==null?void 0:_[0];if(!I)return;if(!I.type.startsWith("image/")){p("Please select a valid image file");return}if(I.size>10*1024*1024){p("Image size must be less than 10MB");return}v(I),p(null);const $=new FileReader;$.onloadend=()=>{b($.result)},$.readAsDataURL(I),w(!0);try{const M=await me.uploadFile(xe.UPLOAD.IMAGE,I);if(M.success&&M.data){const Z=M.data.url||M.data.url;if(Z){const R=Z.startsWith("http")?Z.replace(/^https?:\/\/[^\/]+/,""):Z.startsWith("/")?Z:"/"+Z;m(de=>({...de,avatar:R}));const re=`${lu.API_ORIGIN}${R}`;b(re)}}}catch(M){p((M==null?void 0:M.message)||"Failed to upload image"),v(null),b(null)}finally{w(!1)}},P=()=>{v(null),b(null),m(A=>({...A,avatar:""}))},D=async A=>{var I,$,_;if(A.preventDefault(),p(null),!d&&!((I=f.username)!=null&&I.trim())){p("Username is required for new users.");return}if(!d&&(!f.password||f.password.length<8)){p("Password must be at least 8 characters long.");return}if(d&&f.password&&f.password.length<8){p("Password must be at least 8 characters long.");return}try{const M={name:f.name,email:f.email,phone:f.phone,department:f.department,isActive:f.isActive};($=f.username)!=null&&$.trim()&&(M.username=f.username.trim().toLowerCase()),u&&f.doctorSpecialization&&(M.doctorSpecialization=f.doctorSpecialization),f.avatar&&(M.avatar=f.avatar),d?f.password&&(M.password=f.password):(M.password=f.password,M.role=f.role,!M.username&&((_=f.username)!=null&&_.trim())&&(M.username=f.username.trim().toLowerCase())),await r(M),t()}catch(M){p((M==null?void 0:M.message)||"Unable to save user.")}};return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40",onClick:t}),a.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-lg mx-4 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"bg-primary-100 text-primary-600 rounded-lg h-10 w-10 flex items-center justify-center",children:a.jsx(s5,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:S}),a.jsx("p",{className:"text-sm text-gray-500",children:E})]})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-xl leading-none","aria-label":"Close modal",children:""})]}),h&&a.jsx("div",{className:"mb-4 p-3 rounded-md bg-red-50 border border-red-200 text-sm text-red-700",children:h}),a.jsxs("form",{className:"space-y-4",onSubmit:D,children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Username ",!d&&"*"]}),a.jsx("input",{type:"text",name:"username",value:f.username,onChange:C,placeholder:"e.g. jane.doe (used for login)",disabled:d,className:"input-field disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed"}),d&&a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Username cannot be changed after creation"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),a.jsx("input",{type:"text",name:"name",value:f.name,onChange:C,required:!0,className:"input-field",placeholder:"e.g. Sarah Johnson"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",name:"email",value:f.email,onChange:C,className:"input-field",placeholder:"user@teamworkhomecare.com"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[!l&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role *"}),a.jsx("select",{name:"role",value:f.role,onChange:C,required:!0,disabled:d||l,className:"input-field disabled:bg-gray-100 disabled:cursor-not-allowed",children:Tve.map(A=>a.jsx("option",{value:A.value,children:A.label},A.value))}),d&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Role cannot be changed"})]}),a.jsxs("div",{className:l?"md:col-span-2":"",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),a.jsx("input",{type:"text",name:"department",value:f.department,onChange:C,className:"input-field",placeholder:"e.g. Medical, Cardiology"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Picture"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[x?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:x,alt:"Avatar preview",className:"h-20 w-20 rounded-full object-cover border-2 border-gray-200"}),a.jsx("button",{type:"button",onClick:P,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:a.jsx(Dt,{className:"h-4 w-4"})})]}):a.jsx("div",{className:"h-20 w-20 rounded-full bg-gray-100 flex items-center justify-center border-2 border-dashed border-gray-300",children:a.jsx(Pp,{className:"h-8 w-8 text-gray-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("label",{className:"cursor-pointer",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:k,className:"hidden",disabled:N}),a.jsx("div",{className:"btn-outline flex items-center justify-center",children:N?a.jsxs(a.Fragment,{children:[a.jsx(Ir,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ef,{className:"h-4 w-4 mr-2"}),x?"Change Picture":"Upload Picture"]})})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG or GIF (max 10MB)"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specialization *"}),a.jsxs("select",{name:"doctorSpecialization",value:f.doctorSpecialization,onChange:C,required:u,className:"input-field",children:[a.jsx("option",{value:"",children:"Select specialization"}),Cve.map(A=>a.jsx("option",{value:A.value,children:A.label},A.value))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",name:"phone",value:f.phone,onChange:C,className:"input-field",placeholder:"+1-555-0100"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:d?"New Password (leave blank to keep current)":"Temporary Password *"}),a.jsx("input",{type:"password",name:"password",value:f.password,onChange:C,required:!d,minLength:8,className:"input-field",placeholder:d?"Leave blank to keep current password":"Minimum 8 characters"})]}),a.jsxs("div",{className:"flex items-center pt-6",children:[a.jsx("input",{type:"checkbox",name:"isActive",id:"isActive",checked:f.isActive,onChange:C,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-700",children:"Active"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[a.jsx("button",{type:"button",className:"btn-outline",onClick:t,disabled:n,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary flex items-center",disabled:n,children:n?a.jsxs(a.Fragment,{children:[a.jsx(Ir,{className:"h-4 w-4 mr-2 animate-spin"}),d?"Updating...":"Creating..."]}):d?s!=null&&s.toLowerCase().includes("doctor")?"Update Doctor":"Update User":s!=null&&s.toLowerCase().includes("doctor")?"Create Doctor":"Create User"})]})]})]})]})}function kve(){const{user:e}=fr(),[t]=K9(),r=t.get("role"),[n,i]=L.useState(!1),[s,o]=L.useState(!1),[l,c]=L.useState(null),[u,d]=L.useState(null),[f,m]=L.useState(""),[h,p]=L.useState(r?r.toLowerCase():"all"),[y,v]=L.useState("all");L.useEffect(()=>{r&&p(r.toLowerCase())},[r]);const N=(e==null?void 0:e.role)==="admin"||!(h==="specialist"||h==="nurse"),{addNotification:w}=Mr(),{data:S,loading:E,error:C,refetch:k}=it(()=>Qt.getUsers({role:h!=="all"?h.toUpperCase():void 0,limit:50}),[h]),P=ot(Qt.createUser.bind(Qt)),D=ot(({id:q,payload:X})=>Qt.updateUser(q,X)),A=ot(({id:q,isActive:X})=>Qt.updateUserStatus(q,X)),I=ot(Qt.deleteUser.bind(Qt)),$=(S==null?void 0:S.users)??[],_=L.useMemo(()=>{const q=f.trim().toLowerCase();return $.filter(X=>{var ie;const Q=!q||X.name.toLowerCase().includes(q)||((ie=X.email)==null?void 0:ie.toLowerCase().includes(q))||X.role.toLowerCase().includes(q),ne=h==="all"||X.role===h,pe=y==="all"||y==="active"&&X.isActive!==!1||y==="inactive"&&X.isActive===!1;return Q&&ne&&pe})},[$,f,h,y]),M=async q=>{var Q;if(!q.role)throw new Error("Role is required");const X={username:q.username??((Q=q.email)==null?void 0:Q.trim().split("@")[0])??q.name.replace(/\s+/g,"").toLowerCase()??"user",name:q.name,email:q.email,password:q.password,role:q.role,phone:q.phone,department:q.department};try{await P.mutate(X),Ce.success(`User ${X.name} has been created successfully`),w({title:"User created",message:`${X.name} has been provisioned.`,type:"success",priority:"medium",category:"system",userId:""}),await k()}catch(ne){throw Ce.error((ne==null?void 0:ne.message)||"Failed to create user"),ne}},z=q=>{c(q),o(!0)},Z=async q=>{if(l)try{const X={name:q.name,email:q.email,phone:q.phone,department:q.department};q.password&&q.password.trim()&&(X.password=q.password),await D.mutate({id:l.id,payload:X}),Ce.success(`User ${q.name} has been updated successfully`),w({title:"User updated",message:`${q.name}'s information has been updated.`,type:"success",priority:"medium",category:"system",userId:""}),o(!1),c(null),await k()}catch(X){throw Ce.error((X==null?void 0:X.message)||"Failed to update user"),X}},R=q=>{d(q)},U=async()=>{if(u)try{await I.mutate(u.id),Ce.success(`User ${u.name} has been permanently deleted`),w({title:"User deleted",message:`${u.name} has been permanently removed from the system.`,type:"success",priority:"medium",category:"system",userId:""}),d(null),await k()}catch(q){Ce.error((q==null?void 0:q.message)||"Failed to delete user")}},re=async(q,X)=>{await A.mutate({id:q.id,isActive:X}),w({title:"User status updated",message:`${q.name} is now ${X?"active":"inactive"}.`,type:"success",priority:"medium",category:"system",userId:""}),await k()},de=[{value:"all",label:"All Roles"},{value:"admin",label:"Administrator"},{value:"receptionist",label:"Receptionist"},{value:"doctor",label:"Doctor"},{value:"specialist",label:"Specialist"},{value:"nurse",label:"Nurse"}],B=()=>{const q=h;return q==="specialist"?"Specialists":q==="nurse"?"Nurses":q==="receptionist"?"Receptionists":q==="admin"?"Administrators":q==="therapist"?"Therapists":q==="biller"?"Billers":"User Management"},G=()=>{const q=h;return q==="specialist"?"Manage specialists and their specializations.":q==="nurse"?"Manage nurses and their assignments.":q==="receptionist"?"Manage receptionist staff.":q==="admin"?"Manage system administrators.":q==="therapist"?"Manage therapists and their specializations.":q==="biller"?"Manage billing staff.":"Provision and manage staff and patient access."},ue=h==="specialist"?Vd:i5;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center space-x-2",children:[a.jsx(ue,{className:"h-6 w-6 text-primary-500"}),a.jsx("span",{children:B()})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:G()})]}),N&&a.jsxs("button",{className:"btn-primary flex items-center",onClick:()=>i(!0),children:[a.jsx(s5,{className:"h-4 w-4 mr-2"}),"Add User"]})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{className:"relative w-full md:w-72",children:[a.jsx(Br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search users...",value:f,onChange:q=>m(q.target.value),className:"input-field pl-10"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Uy,{className:"h-4 w-4 text-gray-400"}),a.jsx("select",{className:"input-field",value:h,onChange:q=>p(q.target.value),children:de.map(q=>a.jsx("option",{value:q.value,children:q.label},q.value))}),a.jsxs("select",{className:"input-field",value:y,onChange:q=>v(q.target.value),children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})}),C&&a.jsx("div",{className:"card bg-red-50 border border-red-200 text-red-700",children:"Unable to load users. Please refresh or try again later."}),a.jsx("div",{className:"card overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx(Ir,{className:"h-5 w-5 mr-2 animate-spin"}),"Loading users..."]})})}):_.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:"No users match your current filters."})}):_.map(q=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-600 font-semibold",children:q.name.split(" ").map(X=>X[0]).join("").slice(0,2)}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.name}),a.jsx("div",{className:"text-xs text-gray-500 capitalize",children:q.role.replace(/-/g," ")})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:q.email}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 capitalize",children:q.role.replace(/-/g," ")}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:q.department??""}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:q.isActive!==!1?a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:"Active"}):a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600",children:"Inactive"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:N?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{className:"text-blue-600 hover:text-blue-800 flex items-center text-xs disabled:opacity-50",onClick:()=>z(q),disabled:D.loading,title:"Edit user",children:[a.jsx(Fn,{className:"h-4 w-4 mr-1"})," Edit"]}),a.jsxs("button",{className:"text-green-600 hover:text-green-800 flex items-center text-xs disabled:opacity-50",onClick:()=>re(q,!0),disabled:A.loading||q.isActive!==!1,title:"Activate user",children:[a.jsx($n,{className:"h-4 w-4 mr-1"})," Activate"]}),a.jsxs("button",{className:"text-yellow-600 hover:text-yellow-800 flex items-center text-xs disabled:opacity-50",onClick:()=>re(q,!1),disabled:A.loading||q.isActive===!1,title:"Deactivate user",children:[a.jsx(Gl,{className:"h-4 w-4 mr-1"})," Deactivate"]}),a.jsxs("button",{className:"text-red-600 hover:text-red-800 flex items-center text-xs disabled:opacity-50",onClick:()=>R(q),disabled:I.loading,title:"Delete user permanently",children:[a.jsx(zr,{className:"h-4 w-4 mr-1"})," Delete"]})]}):a.jsx("span",{className:"text-gray-400 text-xs",children:"View only"})})]},q.id))})]})})}),a.jsx(TT,{isOpen:n,onClose:()=>i(!1),onSave:M,isSaving:P.loading}),a.jsx(TT,{isOpen:s,onClose:()=>{o(!1),c(null)},onSave:Z,isSaving:D.loading,user:l}),u&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40",onClick:()=>d(null)}),a.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-md mx-4 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"bg-red-100 text-red-600 rounded-lg h-10 w-10 flex items-center justify-center",children:a.jsx(zr,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Delete User"}),a.jsx("p",{className:"text-sm text-gray-500",children:"This action cannot be undone"})]})]}),a.jsx("button",{onClick:()=>d(null),className:"text-gray-400 hover:text-gray-600 text-xl leading-none","aria-label":"Close modal",children:""})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("p",{className:"text-sm text-gray-700",children:["Are you sure you want to permanently delete ",a.jsx("strong",{children:u.name}),"?"]}),a.jsx("p",{className:"text-sm text-red-600 mt-2",children:"This will permanently remove the user and all associated data from the system."})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",className:"btn-outline",onClick:()=>d(null),disabled:I.loading,children:"Cancel"}),a.jsx("button",{type:"button",className:"btn-primary bg-red-600 hover:bg-red-700 text-white",onClick:U,disabled:I.loading,children:I.loading?a.jsxs(a.Fragment,{children:[a.jsx(Ir,{className:"h-4 w-4 mr-2 animate-spin"}),"Deleting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(zr,{className:"h-4 w-4 mr-2"}),"Delete Permanently"]})})]})]})]})]})}const Ove={ACTIVE:"active",INACTIVE:"inactive",ON_LEAVE:"on-leave"},Ive={active:"ACTIVE",inactive:"INACTIVE","on-leave":"ON_LEAVE"};function y0(e){var r;const t=(r=e.status)==null?void 0:r.toUpperCase();return{...e,status:Ove[t]??"active",hireDate:e.hireDate?new Date(e.hireDate).toISOString().split("T")[0]:""}}function CT(e){const t={...e};return e.username&&(t.username=e.username.trim().toLowerCase()),e.status&&(t.status=Ive[e.status]),e.hireDate&&(t.hireDate=new Date(e.hireDate).toISOString()),t}class Lve{async getTherapists(t){const r=await me.get(xe.THERAPISTS.BASE,{params:t});return{therapists:Array.isArray(r.data)?r.data.map(y0):[],pagination:r.pagination}}async getTherapist(t){const r=await me.get(xe.THERAPISTS.BY_ID(t));return y0(r.data)}async createTherapist(t){const r=await me.post(xe.THERAPISTS.BASE,CT(t));return y0(r.data)}async updateTherapist(t,r){const n=await me.put(xe.THERAPISTS.BY_ID(t),CT(r));return y0(n.data)}async deleteTherapist(t){await me.delete(xe.THERAPISTS.BY_ID(t))}}const Oc=new Lve;class Rve{async getSpecializations(t){const r=await me.get(xe.SPECIALIZATIONS.BASE,{params:t});return Array.isArray(r.data)?r.data:[]}async getSpecialization(t){return(await me.get(xe.SPECIALIZATIONS.BY_ID(t))).data}async createSpecialization(t){return(await me.post(xe.SPECIALIZATIONS.BASE,t)).data}async updateSpecialization(t,r){return(await me.put(xe.SPECIALIZATIONS.BY_ID(t),r)).data}async deleteSpecialization(t){await me.delete(xe.SPECIALIZATIONS.BY_ID(t))}}const jl=new Rve,e2={username:"",name:"",email:"",password:"",phone:"",specialization:"",licenseNumber:"",experience:0,certifications:[],hourlyRate:0,bio:"",hireDate:new Date().toISOString().split("T")[0],avatar:""};function kT({isOpen:e,onClose:t,onSave:r,therapist:n,mode:i,isSaving:s=!1}){const[o,l]=L.useState(e2),[c,u]=L.useState(null),[d,f]=L.useState(null),[m,h]=L.useState(null),[p,y]=L.useState(!1),[v,x]=L.useState(""),[b,N]=L.useState([]),[w,S]=L.useState(!0),E=i==="edit"&&n;L.useEffect(()=>{e&&(async()=>{try{S(!0);const _=await jl.getSpecializations({type:"THERAPIST"});N(_)}catch(_){console.error("Failed to load specializations:",_)}finally{S(!1)}})()},[e]),L.useEffect(()=>{if(!e){l(e2),u(null),f(null),h(null),y(!1);return}E&&n?(async()=>{try{const _=await Oc.getTherapist(n.id);if(l({username:_.username||"",name:_.name||"",email:_.email||"",password:"",phone:_.phone||"",specialization:_.specialization||"",licenseNumber:_.licenseNumber||"",experience:_.experience||0,certifications:_.certifications||[],hourlyRate:_.hourlyRate||0,bio:_.bio||"",hireDate:_.hireDate?new Date(_.hireDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],avatar:_.avatar||""}),_.avatar){const M=_.avatar.startsWith("http")?_.avatar:Oa(_.avatar);h(M)}}catch{l({username:n.username||"",name:n.name||"",email:n.email||"",password:"",phone:n.phone||"",specialization:n.specialization||n.therapistSpecialization||"",licenseNumber:n.licenseNumber||"",experience:n.experience||0,certifications:n.certifications||[],hourlyRate:n.hourlyRate||0,bio:n.bio||"",hireDate:n.hireDate?new Date(n.hireDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],avatar:n.avatar||""})}})():(l(e2),h(null))},[e,E,n]);const C=$=>{const{name:_,value:M,type:z}=$.target;l(Z=>({...Z,[_]:z==="checkbox"?$.target.checked:z==="number"?Number(M):M}))},k=()=>{v.trim()&&(l($=>({...$,certifications:[...$.certifications,v.trim()]})),x(""))},P=$=>{l(_=>({..._,certifications:_.certifications.filter((M,z)=>z!==$)}))},D=async $=>{var z;const _=(z=$.target.files)==null?void 0:z[0];if(!_)return;if(!_.type.startsWith("image/")){u("Please select a valid image file");return}if(_.size>10*1024*1024){u("Image size must be less than 10MB");return}f(_),u(null);const M=new FileReader;M.onloadend=()=>{h(M.result)},M.readAsDataURL(_),y(!0);try{const Z=await me.uploadFile(xe.UPLOAD.IMAGE,_);if(Z.success&&Z.data){const U=Z.data.url||Z.data.url;if(U){const re=U.startsWith("http")?U.replace(/^https?:\/\/[^\/]+/,""):U.startsWith("/")?U:"/"+U;l(de=>({...de,avatar:re}))}}}catch(Z){u((Z==null?void 0:Z.message)||"Failed to upload image"),f(null),h(null)}finally{y(!1)}},A=()=>{f(null),h(null),l($=>({...$,avatar:""}))},I=async $=>{var _;if($.preventDefault(),u(null),i==="add"&&!((_=o.username)!=null&&_.trim())){u("Username is required for new therapists.");return}if(i==="add"&&(!o.password||o.password.length<8)){u("Password must be at least 8 characters long.");return}if(i==="edit"&&o.password&&o.password.length<8){u("Password must be at least 8 characters long.");return}if(!o.name||!o.email){u("Name and email are required.");return}if(i==="add"&&!o.specialization){u("Therapist specialization is required.");return}if(i==="add"&&(!o.experience||o.experience<0)){u("Experience must be a valid number.");return}if(i==="add"&&(!o.hourlyRate||o.hourlyRate<=0)){u("Hourly rate must be greater than 0.");return}if(i==="add"&&!o.hireDate){u("Hire date is required.");return}try{await r(o),t()}catch(M){u((M==null?void 0:M.message)??"Unable to save therapist. Please try again.")}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"bg-primary-100 text-primary-600 rounded-lg h-10 w-10 flex items-center justify-center",children:a.jsx(s5,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:i==="add"?"Add New Therapist":"Edit Therapist"}),a.jsx("p",{className:"text-sm text-gray-500",children:i==="add"?"Create a new therapist account with login credentials":"Update therapist information"})]})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Dt,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:I,className:"p-6 space-y-6",children:[c&&a.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:c}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Basic Information"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username *"}),a.jsx("input",{type:"text",name:"username",value:o.username,onChange:C,required:i==="add",disabled:i==="edit",className:"input-field disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed",placeholder:"e.g. lisa.anderson (used for login)"}),i==="edit"&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Username cannot be changed after creation"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),a.jsx("input",{type:"text",name:"name",value:o.name,onChange:C,required:!0,className:"input-field",placeholder:"Enter full name",disabled:s})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",name:"email",value:o.email,onChange:C,className:"input-field",placeholder:"Enter email address",disabled:s||E}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will be used for login"})]}),i==="add"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),a.jsx("input",{type:"password",name:"password",value:o.password,onChange:C,required:i==="add",minLength:8,className:"input-field",placeholder:"Minimum 8 characters",disabled:s}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Provide this to the therapist for login"})]}),i==="edit"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password (optional)"}),a.jsx("input",{type:"password",name:"password",value:o.password,onChange:C,minLength:8,className:"input-field",placeholder:"Leave blank to keep current password",disabled:s}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only fill if you want to change the password"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:C,className:"input-field",placeholder:"Enter phone number",disabled:s})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Professional Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Therapist Specialization *"}),a.jsxs("select",{name:"specialization",value:o.specialization,onChange:C,required:i==="add",className:"input-field",disabled:s||w,children:[a.jsx("option",{value:"",children:"Select specialization"}),w?a.jsx("option",{disabled:!0,children:"Loading specializations..."}):b.map($=>a.jsx("option",{value:$.name.toUpperCase().replace(/\s+/g,"_"),children:$.name},$.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"License Number *"}),a.jsx("input",{type:"text",name:"licenseNumber",value:o.licenseNumber,onChange:C,required:i==="add",className:"input-field",placeholder:"Enter license number",disabled:s})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Years of Experience *"}),a.jsx("input",{type:"number",name:"experience",value:o.experience,onChange:C,required:i==="add",min:"0",className:"input-field",placeholder:"Enter years of experience",disabled:s})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hourly Rate ($) *"}),a.jsx("input",{type:"number",name:"hourlyRate",value:o.hourlyRate,onChange:C,required:i==="add",min:"0",step:"0.01",className:"input-field",placeholder:"Enter hourly rate",disabled:s})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hire Date *"}),a.jsx("input",{type:"date",name:"hireDate",value:o.hireDate,onChange:C,required:i==="add",className:"input-field",disabled:s})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Certifications"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:v,onChange:$=>x($.target.value),onKeyPress:$=>{$.key==="Enter"&&($.preventDefault(),k())},className:"input-field flex-1",placeholder:"Enter certification (e.g., APTA Certified)",disabled:s}),a.jsxs("button",{type:"button",onClick:k,className:"btn-outline flex items-center",disabled:s||!v.trim(),children:[a.jsx(zt,{className:"h-4 w-4 mr-1"}),"Add"]})]}),o.certifications.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:o.certifications.map(($,_)=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-primary-100 text-primary-800",children:[$,a.jsx("button",{type:"button",onClick:()=>P(_),className:"ml-2 text-primary-600 hover:text-primary-800",disabled:s,children:a.jsx(Dt,{className:"h-3 w-3"})})]},_))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio / Professional Summary"}),a.jsx("textarea",{name:"bio",value:o.bio,onChange:C,rows:4,className:"input-field",placeholder:"Enter professional bio or summary",disabled:s})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Picture"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[m?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:m,alt:"Avatar preview",className:"h-20 w-20 rounded-full object-cover border-2 border-gray-200"}),a.jsx("button",{type:"button",onClick:A,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:a.jsx(Dt,{className:"h-4 w-4"})})]}):a.jsx("div",{className:"h-20 w-20 rounded-full bg-gray-100 flex items-center justify-center border-2 border-dashed border-gray-300",children:a.jsx(Pp,{className:"h-8 w-8 text-gray-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("label",{className:"cursor-pointer",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:D,className:"hidden",disabled:p||s}),a.jsx("div",{className:"btn-outline flex items-center justify-center",children:p?a.jsxs(a.Fragment,{children:[a.jsx(Ir,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ef,{className:"h-4 w-4 mr-2"}),m?"Change Picture":"Upload Picture"]})})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG or GIF (max 10MB)"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-2 border-t",children:[a.jsx("button",{type:"button",className:"btn-outline",onClick:t,disabled:s,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary flex items-center",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(Ir,{className:"h-4 w-4 mr-2 animate-spin"}),i==="edit"?"Updating...":"Creating..."]}):i==="edit"?"Update Therapist":"Create Therapist"})]})]})]})}):null}function Mve(){const{user:e}=fr(),t=(e==null?void 0:e.role)==="admin",[r,n]=L.useState(""),[i,s]=L.useState("all"),[o,l]=L.useState(!1),[c,u]=L.useState(!1),[d,f]=L.useState(null),{addNotification:m}=Mr(),{data:h,loading:p,error:y,refetch:v}=it(()=>Oc.getTherapists({limit:200}),[]),x=(h==null?void 0:h.therapists)??[],b=ot(Oc.createTherapist.bind(Oc)),N=ot(({id:P,payload:D})=>Oc.updateTherapist(P,D)),w=ot(Oc.deleteTherapist.bind(Oc)),S=L.useMemo(()=>{const P=r.trim().toLowerCase();return x.filter(D=>{var $;const A=!P||D.name.toLowerCase().includes(P)||D.email.toLowerCase().includes(P)||D.specialization.toLowerCase().includes(P)||(($=D.licenseNumber)==null?void 0:$.toLowerCase().includes(P)),I=i==="all"||i==="active"&&D.status==="active"||i==="inactive"&&D.status==="inactive";return A&&I})},[x,r,i]),E=async P=>{var D,A;try{const I={username:P.username??((D=P.email)==null?void 0:D.trim().split("@")[0])??((A=P.name)==null?void 0:A.replace(/\s+/g,"").toLowerCase())??"therapist",name:P.name,email:P.email,password:P.password,phone:P.phone,specialization:P.specialization,licenseNumber:P.licenseNumber,experience:P.experience,certifications:P.certifications||[],hourlyRate:P.hourlyRate,bio:P.bio||"",hireDate:P.hireDate,avatar:P.avatar||""};await b.mutate(I),Ce.success(`Therapist ${P.name} has been created successfully`),m({title:"Therapist created",message:`${P.name} has been added to the team.`,type:"success",priority:"medium",category:"system",userId:"system"}),l(!1),await v()}catch(I){Ce.error((I==null?void 0:I.message)??"Failed to create therapist")}},C=async P=>{if(d)try{const D={name:P.name,phone:P.phone,specialization:P.specialization,licenseNumber:P.licenseNumber,experience:P.experience,certifications:P.certifications||[],hourlyRate:P.hourlyRate,bio:P.bio||"",hireDate:P.hireDate,avatar:P.avatar||""};await N.mutate({id:d.id,payload:D}),Ce.success(`Therapist ${P.name} has been updated`),m({title:"Therapist updated",message:`${P.name} details have been updated.`,type:"info",priority:"medium",category:"system",userId:"system"}),u(!1),f(null),await v()}catch(D){Ce.error((D==null?void 0:D.message)??"Failed to update therapist")}},k=async P=>{if(window.confirm("Are you sure you want to remove this therapist?"))try{await w.mutate(P),Ce.success("Therapist removed"),await v()}catch(D){Ce.error((D==null?void 0:D.message)??"Failed to remove therapist")}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Therapists"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Manage therapists and their availability."})]}),t&&a.jsxs("button",{onClick:()=>l(!0),className:"btn-primary inline-flex items-center gap-2",children:[a.jsx(zt,{className:"h-4 w-4"}),"Add Therapist"]})]}),a.jsxs("div",{className:"mt-4 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Br,{className:"pointer-events-none absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",value:r,onChange:P=>n(P.target.value),placeholder:"Search therapists...",className:"input-field pl-10"})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("select",{value:i,onChange:P=>s(P.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})})]})]}),a.jsx("div",{className:"card",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Specialization"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Phone"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),t&&a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:p?a.jsx("tr",{children:a.jsx("td",{colSpan:t?6:5,className:"px-6 py-8 text-center text-sm text-gray-500",children:"Loading therapists..."})}):y?a.jsx("tr",{children:a.jsx("td",{colSpan:t?6:5,className:"px-6 py-8 text-center text-sm text-red-500",children:y instanceof Error?y.message:String(y)})}):S.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:t?6:5,className:"px-6 py-8 text-center text-sm text-gray-500",children:"No therapists found."})}):S.map(P=>a.jsxs("tr",{children:[a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-50 flex items-center justify-center text-blue-600",children:a.jsx(Vd,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900",children:P.name}),a.jsx("div",{className:"text-xs text-gray-500",children:P.licenseNumber??""})]})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-700",children:P.email}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-700 capitalize",children:P.specialization??""}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-700",children:P.phone??""}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm",children:a.jsxs("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${P.status==="active"?"bg-green-50 text-green-700":P.status==="inactive"?"bg-gray-100 text-gray-600":"bg-yellow-50 text-yellow-700"}`,children:[a.jsx("span",{className:`mr-2 inline-block h-2 w-2 rounded-full ${P.status==="active"?"bg-green-500":P.status==="inactive"?"bg-gray-400":"bg-yellow-500"}`}),P.status==="active"?"Active":P.status==="inactive"?"Inactive":"On Leave"]})}),t&&a.jsxs("td",{className:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium space-x-2",children:[a.jsxs("button",{onClick:()=>{f(P),u(!0)},className:"text-secondary-600 hover:text-secondary-900 inline-flex items-center",children:[a.jsx(Fn,{className:"mr-1 h-4 w-4"}),"Edit"]}),a.jsxs("button",{onClick:()=>k(P.id),className:"text-red-600 hover:text-red-900 inline-flex items-center",children:[a.jsx(zr,{className:"mr-1 h-4 w-4"}),"Delete"]})]})]},P.id))})]})})}),t&&a.jsx(kT,{isOpen:o,onClose:()=>l(!1),onSave:E,mode:"add",isSaving:b.loading}),t&&d&&a.jsx(kT,{isOpen:c,onClose:()=>{u(!1),f(null)},onSave:C,therapist:d,mode:"edit",isSaving:N.loading})]})}const Dve=["08:00","09:00","10:00","11:00","13:00","14:00","15:00","16:00"],$ve={"Mental Health":["clinical-psychologist"],Nutrition:["nutritionist"],Nursing:["critical-care-nurse","medical-doctor"],"Palliative Care":["palliative-care-specialist"],"Maternal Care":["senior-midwife"],Physiotherapy:["medical-doctor"]};function Fve(){var U,re,de,B,G,te,ue;const[e,t]=L.useState(""),[r,n]=L.useState("home"),[i,s]=L.useState(""),[o,l]=L.useState(""),[c,u]=L.useState(""),[d,f]=L.useState(""),[m,h]=L.useState(""),[p,y]=L.useState(!1),[v,x]=L.useState(!1),{user:b}=fr(),{addNotification:N}=Mr(),{data:w,loading:S,error:E}=it(()=>$s.getServices({isActive:!0,limit:200}),[]),{data:C,loading:k}=it(()=>Rc.getSpecialists({limit:200,status:"active"}),[]),{data:P,loading:D}=it(()=>b!=null&&b.email?Mn.getPatients({query:b.email,limit:1}):Promise.resolve({patients:[]}),[b==null?void 0:b.email]),A=ot(Xn.createAppointment.bind(Xn)),I=(w==null?void 0:w.services)??[],$=((C==null?void 0:C.specialists)??[]).filter(q=>q.status==="active"),_=(U=P==null?void 0:P.patients)==null?void 0:U[0],M=()=>I.find(q=>q.id===e)??null,z=L.useMemo(()=>{const q=M();if(!q)return $;const X=$ve[q.category]??[];return X.length?$.filter(Q=>X.includes(Q.specialization)):$},[e,$]),Z=()=>{t(""),n("home"),s(""),l(""),u(""),f(""),h("")},R=async()=>{if(!_){N({title:"Patient profile required",message:"We could not locate a patient record for your account. Please contact support.",type:"error",userId:(b==null?void 0:b.id)??"system",priority:"high",category:"system"});return}const q=M();if(!q||!i||!o){N({title:"Missing details",message:"Please complete all required fields before booking.",type:"warning",userId:(b==null?void 0:b.id)??"system",priority:"medium",category:"system"});return}y(!0);try{const X={patientId:_.id,serviceId:q.id,specialistId:c||void 0,nurseId:void 0,date:i,time:o,duration:q.duration,notes:[`Visit type: ${r}`,r==="home"&&d?`Address: ${d}`:"",m?`Notes: ${m}`:""].filter(Boolean).join(" | ")};await A.mutate(X),N({title:"Appointment Confirmed",message:`${q.name} booked for ${i} at ${o}.`,type:"success",userId:(b==null?void 0:b.id)??"system",priority:"medium",category:"appointment"}),x(!0)}catch(X){N({title:"Unable to book appointment",message:(X==null?void 0:X.message)??"Please try again later.",type:"error",userId:(b==null?void 0:b.id)??"system",priority:"high",category:"system"})}finally{y(!1)}};if(v){const q=M(),X=(re=$.find(Q=>Q.id===c))==null?void 0:re.name;return a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx($n,{className:"h-16 w-16 text-green-500"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Appointment Booked Successfully!"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Your appointment has been confirmed. You will receive a confirmation email shortly."}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Appointment Details"}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Service:"})," ",q==null?void 0:q.name]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Date:"})," ",i]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Time:"})," ",o]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Type:"})," ",r]}),X&&a.jsxs("p",{children:[a.jsx("strong",{children:"Specialist:"})," ",X]})]})]}),a.jsx("button",{onClick:()=>{x(!1),Z()},className:"btn-primary",children:"Book Another Appointment"})]})})}return S||k||D?a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsx("div",{className:"card text-center py-12 text-sm text-gray-500",children:"Loading booking data"})}):E?a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsx("div",{className:"card text-center py-12 text-sm text-red-500",children:"Unable to load services. Please try again later."})}):_?a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Book an Appointment"}),a.jsx("p",{className:"text-gray-600",children:"Schedule your healthcare service with our qualified specialists"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"1. Select Service"}),a.jsx("div",{className:"space-y-3",children:I.map(q=>a.jsx("button",{onClick:()=>t(q.id),className:`w-full p-4 border-2 rounded-lg text-left transition-all duration-200 ${e===q.id?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:q.name}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:q.description}),a.jsxs("div",{className:"flex items-center mt-2 space-x-4 text-sm text-gray-500",children:[a.jsxs("span",{children:["$",(q.price??0).toFixed(2)]}),a.jsxs("span",{children:[q.duration," min"]})]})]})})},q.id))})]}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"2. Choose Visit Type"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:()=>n("home"),className:`w-full p-4 border-2 rounded-lg text-left transition-all duration-200 ${r==="home"?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(vO,{className:"h-6 w-6 text-primary-500 mr-3"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Home Visit"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Care provided at your location"})]})]})}),a.jsx("button",{onClick:()=>n("clinic"),className:`w-full p-4 border-2 rounded-lg text-left transition-all duration-200 ${r==="clinic"?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(su,{className:"h-6 w-6 text-primary-500 mr-3"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Clinic Visit"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Visit our medical facility"})]})]})}),a.jsx("button",{onClick:()=>n("telemedicine"),className:`w-full p-4 border-2 rounded-lg text-left transition-all duration-200 ${r==="telemedicine"?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(nB,{className:"h-6 w-6 text-primary-500 mr-3"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Telemedicine"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Remote consultation via video call"})]})]})})]})]}),e&&a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"3. Choose Specialist"}),a.jsx("div",{className:"space-y-3",children:z.map(q=>a.jsx("button",{onClick:()=>u(q.id),className:`w-full p-4 border-2 rounded-lg text-left transition-all duration-200 ${c===q.id?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-12 w-12 bg-primary-100 rounded-full flex items-center justify-center mr-4",children:a.jsx("span",{className:"text-primary-600 font-medium",children:q.name.split(" ").map(X=>X[0]).join("")})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:q.name}),a.jsx("p",{className:"text-sm text-gray-600 capitalize",children:q.specialization.replace("-"," ")}),a.jsxs("p",{className:"text-sm text-gray-500",children:[q.experience," years experience"]})]})]})},q.id))})]}),e&&a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"4. Select Date & Time"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),a.jsx("input",{type:"date",value:i,onChange:q=>s(q.target.value),min:new Date().toISOString().split("T")[0],className:"input-field"})]}),i&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:Dve.map(q=>a.jsx("button",{onClick:()=>l(q),className:`p-2 text-sm border rounded-lg transition-all duration-200 ${o===q?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 hover:border-gray-300"}`,children:q},q))})]})]}),r==="home"&&e&&a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"5. Address"}),a.jsx("textarea",{value:d,onChange:q=>f(q.target.value),placeholder:"Enter your full address...",className:"input-field h-24 resize-none"})]}),e&&a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"6. Additional Notes"}),a.jsx("textarea",{value:m,onChange:q=>h(q.target.value),placeholder:"Any specific requirements or notes...",className:"input-field h-24 resize-none"})]})]}),e&&i&&o&&a.jsx("div",{className:"mt-8",children:a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Booking Summary"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Service Details"}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Service:"})," ",(de=M())==null?void 0:de.name]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Date:"})," ",i]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Time:"})," ",o]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Duration:"})," ",(B=M())==null?void 0:B.duration," minutes"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Type:"})," ",r]}),c&&a.jsxs("p",{children:[a.jsx("strong",{children:"Specialist:"})," ",(G=z.find(q=>q.id===c))==null?void 0:G.name]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Payment"}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Service Fee:"})," $",(((te=M())==null?void 0:te.price)??0).toFixed(2)]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Total:"})," $",(((ue=M())==null?void 0:ue.price)??0).toFixed(2)]})]})]})]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Fs,{className:"h-4 w-4 mr-2"}),a.jsx("span",{children:"Payment will be processed after service completion"})]}),a.jsx("button",{onClick:R,disabled:p,className:"btn-primary flex items-center",children:p?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Booking..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Book Appointment"]})})]})]})})]}):a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"card text-center py-12",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No patient profile found"}),a.jsx("p",{className:"text-gray-600",children:"We couldn't locate a patient record for your account. Please contact support to create one before booking an appointment."})]})})}const t2=["scheduled","confirmed","in-progress","rescheduled"];function Bve(){var N;const[e,t]=L.useState("all"),{user:r}=fr(),{addNotification:n}=Mr(),{data:i,loading:s}=it(()=>r!=null&&r.email?Mn.getPatients({query:r.email,limit:1}):Promise.resolve({patients:[]}),[r==null?void 0:r.email]),o=((N=i==null?void 0:i.patients)==null?void 0:N[0])??null,{data:l,loading:c,error:u,refetch:d}=it(()=>o?Xn.getPatientAppointments(o.id,{limit:100}):Promise.resolve({appointments:[]}),[o==null?void 0:o.id]),f=ot(w=>Xn.cancelAppointment(w.id,w.reason)),m=(l==null?void 0:l.appointments)??[],h=L.useMemo(()=>{switch(e){case"upcoming":return m.filter(w=>t2.includes(w.status));case"completed":return m.filter(w=>w.status==="completed");case"cancelled":return m.filter(w=>w.status==="cancelled"||w.status==="no-show");default:return m}},[m,e]),p=w=>{switch(w){case"confirmed":case"in-progress":case"scheduled":return a.jsx(nr,{className:"h-5 w-5 text-yellow-500"});case"completed":return a.jsx($n,{className:"h-5 w-5 text-green-500"});case"cancelled":case"no-show":return a.jsx(Gl,{className:"h-5 w-5 text-red-500"});default:return a.jsx(zo,{className:"h-5 w-5 text-gray-500"})}},y=w=>{switch(w){case"completed":return"bg-blue-100 text-blue-800";case"cancelled":case"no-show":return"bg-red-100 text-red-800";case"confirmed":case"in-progress":case"scheduled":return"bg-yellow-100 text-yellow-800";case"rescheduled":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},v=w=>new Date(w).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),x=w=>new Date(`2000-01-01T${w}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),b=async w=>{if(window.confirm(`Cancel appointment for ${w.patientName} on ${v(w.date)}?`))try{await f.mutate({id:w.id,reason:"Cancelled by patient"}),n({title:"Appointment Cancelled",message:`${w.serviceName} has been cancelled.`,type:"info",userId:(r==null?void 0:r.id)??"system",priority:"medium",category:"appointment"}),await d()}catch(S){n({title:"Unable to cancel appointment",message:(S==null?void 0:S.message)??"Please try again later.",type:"error",userId:(r==null?void 0:r.id)??"system",priority:"high",category:"system"})}};return s||c?a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsx("div",{className:"card text-center py-12 text-sm text-gray-500",children:"Loading appointments"})}):o?u?a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsx("div",{className:"card text-center py-12 text-sm text-red-500",children:"Unable to load your appointments. Please try again later."})}):a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Appointments"}),a.jsx("p",{className:"text-gray-600",children:"Manage your scheduled healthcare appointments"})]}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:[{key:"all",label:"All Appointments",count:m.length},{key:"upcoming",label:"Upcoming",count:m.filter(w=>t2.includes(w.status)).length},{key:"completed",label:"Completed",count:m.filter(w=>w.status==="completed").length},{key:"cancelled",label:"Cancelled",count:m.filter(w=>["cancelled","no-show"].includes(w.status)).length}].map(w=>a.jsxs("button",{onClick:()=>t(w.key),className:`py-2 px-1 border-b-2 font-medium text-sm ${e===w.key?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[w.label,a.jsx("span",{className:`ml-2 py-0.5 px-2 rounded-full text-xs ${e===w.key?"bg-primary-100 text-primary-600":"bg-gray-100 text-gray-600"}`,children:w.count})]},w.key))})})}),a.jsx("div",{className:"space-y-4",children:h.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Mt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No appointments found"}),a.jsx("p",{className:"text-gray-600",children:"You don't have any appointments matching your current filter."})]}):h.map(w=>a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[p(w.status),a.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${y(w.status)}`,children:w.status.replace("-"," ").replace(/ \w/g,S=>S.toUpperCase())})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:w.serviceName}),a.jsx("p",{className:"text-sm text-gray-600",children:w.specialistName&&`Specialist: ${w.specialistName}`}),a.jsx("p",{className:"text-sm text-gray-600",children:w.nurseName&&`Nurse: ${w.nurseName}`})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[a.jsx(Mt,{className:"h-4 w-4 mr-2"}),v(w.date)]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(nr,{className:"h-4 w-4 mr-2"}),x(w.time)]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-1",children:[a.jsx("strong",{children:"Duration:"})," ",w.duration," minutes"]}),w.notes&&a.jsxs("div",{className:"text-sm text-gray-600 truncate",children:[a.jsx("strong",{children:"Notes:"})," ",w.notes]})]})]})]}),a.jsx("div",{className:"ml-4 flex flex-col space-y-2",children:t2.includes(w.status)&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{className:"btn-outline text-sm py-1 px-3",disabled:!0,children:[a.jsx(JF,{className:"h-3 w-3 mr-1"}),"Reschedule"]}),a.jsx("button",{className:"text-red-600 hover:text-red-700 text-sm py-1 px-3 border border-red-300 rounded hover:bg-red-50",onClick:()=>b(w),children:"Cancel"})]})})]})},w.id))}),a.jsx("div",{className:"mt-8 flex justify-center",children:a.jsxs("button",{className:"btn-primary",children:[a.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Book New Appointment"]})})]}):a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsxs("div",{className:"card text-center py-12",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No patient profile found"}),a.jsx("p",{className:"text-gray-600",children:"We couldn't locate a patient record associated with your account. Please contact support to continue."})]})})}function Uve(){var v;const[e,t]=L.useState("vitals"),{user:r}=fr(),n=r==null?void 0:r.id,{data:i,loading:s,error:o,refetch:l}=it(async()=>{if(!n)return null;const[x,b]=await Promise.all([di.getPatientHealthRecords(n),di.getMedications(n)]);return{records:x,medicationRecords:b}},[n]),c=(i==null?void 0:i.records)??[],u=(i==null?void 0:i.medicationRecords)??[],d=L.useMemo(()=>c.filter(x=>x.recordType==="vital").sort((x,b)=>new Date(b.timestamp).getTime()-new Date(x.timestamp).getTime()),[c]),f=L.useMemo(()=>c.filter(x=>x.recordType==="symptom").sort((x,b)=>new Date(b.timestamp).getTime()-new Date(x.timestamp).getTime()),[c]),m=((v=d[0])==null?void 0:v.data)??null,h=x=>new Date(x).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),p=x=>new Date(x).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),y=(x,b)=>{switch(x){case"bloodPressure":{const[N,w]=String(b).split("/").map(Number);return N<120&&w<80?{status:"normal",color:"text-green-600"}:N<140&&w<90?{status:"elevated",color:"text-yellow-600"}:{status:"high",color:"text-red-600"}}case"heartRate":return b>=60&&b<=100?{status:"normal",color:"text-green-600"}:{status:"abnormal",color:"text-red-600"};case"temperature":return b>=97.8&&b<=99.1?{status:"normal",color:"text-green-600"}:{status:"fever",color:"text-red-600"};default:return{status:"normal",color:"text-gray-600"}}};return n?s?a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsxs("div",{className:"card text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading health data"}),a.jsx("p",{className:"text-gray-600",children:"Please wait while we fetch your latest health updates."})]})}):o?a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsxs("div",{className:"card text-center py-12",children:[a.jsx(ha,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Unable to load health data"}),a.jsx("p",{className:"text-gray-600",children:o.message??"Please try again later."}),a.jsx("button",{className:"btn-primary mt-4",onClick:l,children:"Retry"})]})}):a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Health Monitoring"}),a.jsx("p",{className:"text-gray-600",children:"Track your vital signs, medications, and health symptoms"})]}),m&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:a.jsx(Yc,{className:"h-6 w-6 text-red-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Blood Pressure"}),a.jsx("p",{className:`text-lg font-semibold ${y("bloodPressure",m.bloodPressure).color}`,children:m.bloodPressure??""})]})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(Mi,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Heart Rate"}),a.jsx("p",{className:`text-lg font-semibold ${y("heartRate",m.heartRate).color}`,children:m.heartRate?`${m.heartRate} bpm`:""})]})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:a.jsx(dw,{className:"h-6 w-6 text-orange-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Temperature"}),a.jsx("p",{className:`text-lg font-semibold ${y("temperature",m.temperature).color}`,children:m.temperature?`${m.temperature}F`:""})]})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(P4,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Weight"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:m.weight?`${m.weight} lbs`:""})]})]})})]}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:[{key:"vitals",label:"Vital Signs",icon:Mi},{key:"medications",label:"Medications",icon:_4},{key:"symptoms",label:"Symptoms",icon:Yc}].map(x=>a.jsxs("button",{onClick:()=>t(x.key),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${e===x.key?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(x.icon,{className:"h-4 w-4 mr-2"}),x.label]},x.key))})})}),e==="vitals"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Vital Signs History"}),a.jsxs("button",{className:"btn-primary flex items-center",disabled:!0,children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Add Reading"]})]}),a.jsx("div",{className:"space-y-4",children:d.length?d.map(x=>a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Mt,{className:"h-4 w-4 text-gray-400 mr-2"}),a.jsxs("span",{className:"text-sm text-gray-600",children:[p(x.timestamp)," at ",h(x.timestamp)]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[x.data.bloodPressure&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Yc,{className:"h-4 w-4 text-red-500 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Blood Pressure"}),a.jsx("p",{className:"font-medium",children:x.data.bloodPressure})]})]}),x.data.heartRate&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mi,{className:"h-4 w-4 text-blue-500 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Heart Rate"}),a.jsxs("p",{className:"font-medium",children:[x.data.heartRate," bpm"]})]})]}),x.data.temperature&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(dw,{className:"h-4 w-4 text-orange-500 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Temperature"}),a.jsxs("p",{className:"font-medium",children:[x.data.temperature,"F"]})]})]}),x.data.weight&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(P4,{className:"h-4 w-4 text-green-500 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Weight"}),a.jsxs("p",{className:"font-medium",children:[x.data.weight," lbs"]})]})]})]}),x.notes&&a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:x.notes})]}),a.jsxs("span",{className:"text-xs text-gray-500",children:["Recorded by ",x.updatedByName]})]})},x.id)):a.jsx("p",{className:"text-sm text-gray-500",children:"No vital sign records available."})})]}),e==="medications"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Medication Schedule"}),a.jsxs("button",{className:"btn-primary flex items-center",disabled:!0,children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Add Medication"]})]}),a.jsx("div",{className:"space-y-4",children:u.length?u.map(x=>a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 rounded-lg bg-green-100",children:a.jsx(_4,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:x.data.medication??"Medication entry"}),a.jsx("p",{className:"text-sm text-gray-600",children:x.data.dosage?`${x.data.dosage}`:"Dosage not specified"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Logged ",p(x.timestamp)," at ",h(x.timestamp)]})]})]}),x.data.taken!==void 0&&a.jsx("span",{className:`text-sm font-medium ${x.data.taken?"text-green-600":"text-yellow-600"}`,children:x.data.taken?"Taken":"Pending"})]})},x.id)):a.jsx("p",{className:"text-sm text-gray-500",children:"No medication records available."})})]}),e==="symptoms"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Symptom Tracking"}),a.jsxs("button",{className:"btn-primary flex items-center",disabled:!0,children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Log Symptoms"]})]}),a.jsx("div",{className:"space-y-4",children:f.length?f.map(x=>{var b;return a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Mt,{className:"h-4 w-4 text-gray-400 mr-2"}),a.jsxs("span",{className:"text-sm text-gray-600",children:[p(x.timestamp)," at ",h(x.timestamp)]})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:(b=x.data.symptoms)==null?void 0:b.map((N,w)=>a.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-sm rounded-full",children:N},w))}),x.data.notes&&a.jsx("p",{className:"text-sm text-gray-600",children:x.data.notes}),x.notes&&a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[a.jsx("strong",{children:"Notes:"})," ",x.notes]})]}),a.jsxs("span",{className:"text-xs text-gray-500",children:["Recorded by ",x.updatedByName]})]})},x.id)}):a.jsx("p",{className:"text-sm text-gray-500",children:"No symptom records available."})})]})]}):a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsxs("div",{className:"card text-center py-12",children:[a.jsx(ha,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No patient selected"}),a.jsx("p",{className:"text-gray-600",children:"Log in as a patient to view health monitoring details."})]})})}class zve{async getFeedbacks(t){return(await me.get(xe.FEEDBACK.BASE,{params:t})).data}async getFeedback(t){var n;const r=await me.get(xe.FEEDBACK.BY_ID(t));return(n=r.data)!=null&&n.data?r.data.data:r.data}async getPatientFeedbacks(t,r){var i;const n=await me.get(xe.FEEDBACK.BY_PATIENT(t),{params:r});return"data"in n&&Array.isArray(n.data)?n.data:((i=n.data)==null?void 0:i.data)??[]}async getServiceFeedbacks(t,r){var i;const n=await me.get(xe.FEEDBACK.BY_SERVICE(t),{params:r});return"data"in n&&Array.isArray(n.data)?n.data:((i=n.data)==null?void 0:i.data)??[]}async submitFeedback(t){var n;const r=await me.post(xe.FEEDBACK.SUBMIT,t);return(n=r.data)!=null&&n.data?{success:r.data.success??!0,message:r.data.message,feedback:r.data.data}:r.data??{success:!0}}}const r2=new zve;function qve(){var M,z,Z;const[e,t]=L.useState("give"),[r,n]=L.useState(""),[i,s]=L.useState(0),[o,l]=L.useState(""),[c,u]=L.useState({professionalism:0,punctuality:0,communication:0,careQuality:0}),[d,f]=L.useState(!1),{user:m}=fr(),{addNotification:h}=Mr(),{data:p,loading:y,error:v}=it(()=>m!=null&&m.id?Xn.getPatientAppointments(m.id,{limit:100}):Promise.resolve({appointments:[]}),[m==null?void 0:m.id]),{data:x,loading:b,error:N,refetch:w}=it(()=>m!=null&&m.id?r2.getPatientFeedbacks(m.id):Promise.resolve([]),[m==null?void 0:m.id]),S=ot(r2.submitFeedback.bind(r2)),E=(p==null?void 0:p.appointments)??[],C=L.useMemo(()=>E.filter(R=>R.status==="completed"),[E]),k=(x??[]).slice().sort((R,U)=>new Date(U.date).getTime()-new Date(R.date).getTime()),P=R=>{s(R)},D=(R,U)=>{u(re=>({...re,[R]:U}))},A=()=>C.find(R=>R.id===r),I=R=>new Date(R).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),$=(R,U)=>a.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(re=>a.jsx("button",{type:"button",onClick:()=>U==null?void 0:U(re),className:`transition-colors duration-200 ${re<=R?"text-yellow-400":"text-gray-300"} ${U?"hover:text-yellow-400":""}`,disabled:!U,children:a.jsx(nm,{className:"h-6 w-6 fill-current"})},re))}),_=async()=>{if(!m||!r)return;const R=A();if(!R)return;const U={appointmentId:R.id,patientId:m.id,patientName:m.name,serviceId:R.serviceId,serviceName:R.serviceName,specialistId:R.specialistId,specialistName:R.specialistName,rating:i,comment:o,categories:c};try{await S.mutate(U),h({title:"Feedback submitted",message:"Thank you for sharing your experience.",type:"success",userId:m.id,priority:"medium",category:"feedback"}),f(!0),setTimeout(()=>{f(!1),n(""),s(0),l(""),u({professionalism:0,punctuality:0,communication:0,careQuality:0})},3e3),await w()}catch(re){h({title:"Feedback not submitted",message:(re==null?void 0:re.message)??"Please try again later.",type:"error",userId:m.id,priority:"high",category:"system"})}};return m?d?a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx($n,{className:"h-16 w-16 text-green-500"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Thank You!"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Your feedback has been submitted successfully. We appreciate your input and will use it to improve our services."}),a.jsx("button",{onClick:()=>f(!1),className:"btn-primary",children:"Submit Another Review"})]})}):a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Feedback & Ratings"}),a.jsx("p",{className:"text-gray-600",children:"Share your experience and help us improve our services"})]}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsxs("button",{onClick:()=>t("give"),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${e==="give"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(cw,{className:"h-4 w-4 mr-2"}),"Give Feedback"]}),a.jsxs("button",{onClick:()=>t("history"),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${e==="history"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(nm,{className:"h-4 w-4 mr-2"}),"My Reviews (",k.length,")"]})]})})}),e==="give"&&a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Rate Your Experience"}),v&&a.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded text-sm text-red-700 mb-4",children:"Unable to load appointments. Please try again later."}),y?a.jsx("div",{className:"text-sm text-gray-500",children:"Loading completed appointments..."}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Appointment to Review"}),a.jsxs("select",{value:r,onChange:R=>n(R.target.value),className:"input-field",children:[a.jsx("option",{value:"",children:"Choose an appointment..."}),C.map(R=>a.jsxs("option",{value:R.id,children:[R.serviceName," - ",I(R.date)]},R.id))]})]}),r&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Appointment Details"}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Service:"})," ",(M=A())==null?void 0:M.serviceName]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Date:"})," ",I(((z=A())==null?void 0:z.date)||"")]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Specialist:"})," ",((Z=A())==null?void 0:Z.specialistName)??""]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Overall Rating"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[$(i,P),a.jsx("span",{className:"text-sm text-gray-600",children:i>0&&(i===1?"Poor":i===2?"Fair":i===3?"Good":i===4?"Very Good":"Excellent")})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Rate Specific Aspects"}),a.jsx("div",{className:"space-y-4",children:[{key:"professionalism",label:"Professionalism"},{key:"punctuality",label:"Punctuality"},{key:"communication",label:"Communication"},{key:"careQuality",label:"Quality of Care"}].map(R=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:R.label}),$(c[R.key],U=>D(R.key,U))]},R.key))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Comments (Optional)"}),a.jsx("textarea",{value:o,onChange:R=>l(R.target.value),placeholder:"Tell us about your experience...",className:"input-field h-32 resize-none"})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:_,disabled:S.loading||i===0,className:"btn-primary flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:S.loading?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(QF,{className:"h-4 w-4 mr-2"}),"Submit Feedback"]})})})]}),!r&&a.jsx("p",{className:"text-sm text-gray-500",children:"Select a completed appointment to begin your review."})]})]}),e==="history"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"My Reviews"}),N&&a.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded text-sm text-red-700 mb-4",children:"Unable to load feedback history."}),b?a.jsx("div",{className:"text-sm text-gray-500",children:"Loading your reviews..."}):k.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(nm,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No reviews yet"}),a.jsx("p",{className:"text-gray-600",children:"You haven't submitted any feedback yet."})]}):a.jsx("div",{className:"space-y-4",children:k.map(R=>a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:R.serviceName}),a.jsxs("p",{className:"text-sm text-gray-600",children:["with ",R.specialistName??"","  ",I(R.date)]})]}),a.jsx("div",{className:"flex items-center",children:$(R.rating)})]}),R.comment&&a.jsx("p",{className:"text-gray-700 mb-4",children:R.comment}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Professionalism"}),a.jsx("div",{className:"flex justify-center",children:$(R.categories.professionalism)})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Punctuality"}),a.jsx("div",{className:"flex justify-center",children:$(R.categories.punctuality)})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Communication"}),a.jsx("div",{className:"flex justify-center",children:$(R.categories.communication)})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Quality of Care"}),a.jsx("div",{className:"flex justify-center",children:$(R.categories.careQuality)})]})]})]},R.id))})]})]}):a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsxs("div",{className:"card text-center py-12",children:[a.jsx(ha,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Please sign in"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"You need to be signed in as a patient to submit feedback."})]})})}function Hve(){const[e,t]=L.useState(new Date().toISOString().split("T")[0]),[r,n]=L.useState("day"),{user:i}=fr(),s=(i==null?void 0:i.role)??"nurse",o=L.useMemo(()=>async()=>{if(!i)return{appointments:[]};switch(s){case"nurse":return Xn.getNurseAppointments(i.id,{limit:200});case"specialist":return Xn.getSpecialistAppointments(i.id,{limit:200});default:return Xn.getAppointments({limit:200})}},[s,i]),{data:l,loading:c,error:u}=it(o,[o]),d=(l==null?void 0:l.appointments)??[],f=b=>d.filter(N=>N.date===b),m=b=>{switch(b){case"confirmed":case"in-progress":return"bg-green-100 text-green-800 border-green-200";case"scheduled":case"rescheduled":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"completed":return"bg-blue-100 text-blue-800 border-blue-200";case"cancelled":case"no-show":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},h=b=>{switch(b){case"confirmed":case"in-progress":case"completed":return a.jsx($n,{className:"h-4 w-4"});case"cancelled":case"no-show":return a.jsx(zo,{className:"h-4 w-4"});default:return a.jsx(nr,{className:"h-4 w-4"})}},p=b=>new Date(`2000-01-01T${b}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),y=b=>new Date(b).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),v=b=>{const N=new Date(b),w=[];for(let S=0;S<7;S++){const E=new Date(N);E.setDate(N.getDate()+S),w.push(E.toISOString().split("T")[0])}return w},x=f(e);return a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Schedule"}),a.jsx("p",{className:"text-gray-600",children:"Manage your appointments and patient visits"})]}),a.jsx("div",{className:"card mb-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),a.jsx("input",{type:"date",value:e,onChange:b=>t(b.target.value),className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"View"}),a.jsxs("select",{value:r,onChange:b=>n(b.target.value),className:"input-field",children:[a.jsx("option",{value:"day",children:"Day View"}),a.jsx("option",{value:"week",children:"Week View"})]})]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:x.length})," appointments on this date"]})})]})}),c&&a.jsxs("div",{className:"card text-center py-12",children:[a.jsx(Mt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4 animate-spin"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading schedule"}),a.jsx("p",{className:"text-gray-600",children:"Fetching your latest appointments..."})]}),u&&!c&&a.jsxs("div",{className:"card text-center py-12",children:[a.jsx(zo,{className:"h-12 w-12 text-red-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Unable to load schedule"}),a.jsx("p",{className:"text-gray-600",children:u.message??"Please try again later."})]}),!c&&!u&&a.jsx(a.Fragment,{children:r==="day"?a.jsxs("div",{children:[a.jsx("div",{className:"mb-4",children:a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:y(e)})}),x.length===0?a.jsxs("div",{className:"card text-center py-12",children:[a.jsx(Mt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No appointments scheduled"}),a.jsx("p",{className:"text-gray-600",children:"You have no appointments scheduled for this date."})]}):a.jsx("div",{className:"space-y-4",children:x.sort((b,N)=>b.time.localeCompare(N.time)).map(b=>a.jsx("div",{className:"card",children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsxs("div",{className:`flex items-center px-2 py-1 rounded-full text-xs font-medium border ${m(b.status)}`,children:[h(b.status),a.jsx("span",{className:"ml-1 capitalize",children:b.status})]}),a.jsxs("div",{className:"ml-4 flex items-center text-gray-500",children:[a.jsx(nr,{className:"h-4 w-4 mr-1"}),a.jsx("span",{className:"text-sm",children:p(b.time)})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:b.serviceName}),a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Patient: ",b.patientName||"Unassigned"]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(Kr,{className:"h-4 w-4 mr-1"}),a.jsxs("span",{children:["ID: ",b.patientId]})]}),b.nurseName&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Nurse: ",b.nurseName]}),b.specialistName&&a.jsxs("p",{className:"text-xs text-gray-500",children:["Specialist: ",b.specialistName]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"Duration:"})," ",b.duration," minutes"]}),b.notes&&a.jsx("div",{className:"text-xs text-gray-500",children:b.notes})]})]})]})})},b.id))})]}):a.jsxs("div",{children:[a.jsx("div",{className:"mb-4",children:a.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Week of ",y(e)]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v(e).map(b=>{const N=f(b);return a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:y(b)}),a.jsxs("p",{className:"text-xs text-gray-500",children:[N.length," appointments"]})]}),a.jsx(Mt,{className:"h-5 w-5 text-gray-400"})]}),N.length===0?a.jsx("p",{className:"text-sm text-gray-500",children:"No appointments scheduled."}):a.jsx("div",{className:"space-y-3",children:N.map(w=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.serviceName}),a.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${m(w.status)}`,children:w.status})]}),a.jsxs("div",{className:"text-xs text-gray-600",children:[p(w.time),"  ",w.patientName||"Unassigned"]})]},w.id))})]},b)})})]})})]})}const Ac={vital:"Vital Signs",medication:"Medication",symptom:"Symptoms",note:"Clinical Note",assessment:"Assessment",treatment:"Treatment"},Vve={vital:"bg-blue-100 text-blue-800",medication:"bg-green-100 text-green-800",symptom:"bg-red-100 text-red-800",note:"bg-gray-100 text-gray-800",assessment:"bg-purple-100 text-purple-800",treatment:"bg-yellow-100 text-yellow-800"};function Wve(){const[e,t]=L.useState("records"),[r,n]=L.useState(""),[i,s]=L.useState("all"),[o,l]=L.useState({patientId:"",recordType:"note",data:{},notes:""}),{user:c}=fr(),{addNotification:u}=Mr(),d=(c==null?void 0:c.role)==="admin",[f,m]=L.useState(null),[h,p]=L.useState(!1),{data:y,loading:v,error:x,refetch:b}=it(async()=>({records:(await di.getHealthRecords({limit:200})).records}),[]),N=(y==null?void 0:y.records)??[],w=L.useMemo(()=>{const _=r.toLowerCase();return N.filter(M=>{var U,re,de,B;const z=M.patientId.toLowerCase().includes(_)||M.patientName.toLowerCase().includes(_)||M.updatedByName.toLowerCase().includes(_)||((U=M.notes)==null?void 0:U.toLowerCase().includes(_))||((B=(de=(re=M.data)==null?void 0:re.notes)==null?void 0:de.toLowerCase)==null?void 0:B.call(de).includes(_??"")),Z=i==="all"||M.recordType===i,R=c?M.updatedBy===c.id||M.updatedByRole===c.role:!0;return z&&Z&&R})},[N,r,i,c]),S=ot(di.createHealthRecord.bind(di)),E=_=>new Date(_).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}),C=async _=>{_.preventDefault();try{await S.mutate({...o,data:{...o.data}}),u({title:"Record Added",message:"The clinical entry was saved successfully.",type:"success",userId:(c==null?void 0:c.id)??"system",priority:"medium",category:"health"}),l({patientId:"",recordType:"note",data:{},notes:""}),t("records"),await b()}catch(M){u({title:"Unable to save record",message:(M==null?void 0:M.message)??"Please verify the information and try again.",type:"error",userId:(c==null?void 0:c.id)??"system",priority:"high",category:"system"})}},k=_=>{switch(_.recordType){case"vital":return a.jsxs("div",{className:"space-y-1 text-sm",children:[_.data.bloodPressure&&a.jsxs("p",{children:[a.jsx("strong",{children:"Blood Pressure:"})," ",typeof _.data.bloodPressure=="object"&&_.data.bloodPressure!==null?`${_.data.bloodPressure.systolic??""}${_.data.bloodPressure.diastolic!=null?`/${_.data.bloodPressure.diastolic}`:""}`.trim():String(_.data.bloodPressure)]}),_.data.heartRate&&a.jsxs("p",{children:[a.jsx("strong",{children:"Heart Rate:"})," ",_.data.heartRate," bpm"]}),_.data.temperature&&a.jsxs("p",{children:[a.jsx("strong",{children:"Temperature:"})," ",_.data.temperature,"F"]}),_.data.weight&&a.jsxs("p",{children:[a.jsx("strong",{children:"Weight:"})," ",_.data.weight," lbs"]}),_.data.oxygenSaturation&&a.jsxs("p",{children:[a.jsx("strong",{children:"Oxygen Saturation:"})," ",_.data.oxygenSaturation,"%"]})]});case"medication":return a.jsxs("div",{className:"space-y-1 text-sm",children:[_.data.medication&&a.jsxs("p",{children:[a.jsx("strong",{children:"Medication:"})," ",_.data.medication]}),_.data.dosage&&a.jsxs("p",{children:[a.jsx("strong",{children:"Dosage:"})," ",_.data.dosage]}),_.data.taken!==void 0&&a.jsxs("p",{children:[a.jsx("strong",{children:"Taken:"})," ",_.data.taken?"Yes":"No"]})]});case"symptom":return a.jsx("div",{className:"space-y-1 text-sm",children:Array.isArray(_.data.symptoms)&&_.data.symptoms.length>0&&a.jsxs("div",{children:[a.jsx("strong",{children:"Symptoms:"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:_.data.symptoms.map((M,z)=>a.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full",children:M},z))})]})});default:return _.notes?a.jsx("p",{className:"text-sm text-gray-600",children:_.notes}):a.jsx("p",{className:"text-sm text-gray-500",children:"No additional details provided."})}},P=_=>{const M=[];switch(_.recordType){case"vital":{if(_.data.bloodPressure){const z=typeof _.data.bloodPressure=="object"&&_.data.bloodPressure!==null?`${_.data.bloodPressure.systolic??""}${_.data.bloodPressure.diastolic!=null?`/${_.data.bloodPressure.diastolic}`:""}`.trim():String(_.data.bloodPressure);M.push(`Blood Pressure: ${z}`)}_.data.heartRate&&M.push(`Heart Rate: ${_.data.heartRate} bpm`),_.data.temperature&&M.push(`Temperature: ${_.data.temperature}F`),_.data.weight&&M.push(`Weight: ${_.data.weight} lbs`),_.data.oxygenSaturation&&M.push(`Oxygen Saturation: ${_.data.oxygenSaturation}%`);break}case"medication":{_.data.medication&&M.push(`Medication: ${_.data.medication}`),_.data.dosage&&M.push(`Dosage: ${_.data.dosage}`),_.data.taken!==void 0&&M.push(`Taken: ${_.data.taken?"Yes":"No"}`);break}case"symptom":{Array.isArray(_.data.symptoms)&&_.data.symptoms.length>0&&M.push(`Symptoms: ${_.data.symptoms.join(", ")}`);break}}return M.length===0?"No additional structured data recorded.":M.join("<br />")},D=_=>{m(_),p(!0)},A=()=>{p(!1),m(null)},I=_=>{l({patientId:_.patientId,recordType:_.recordType,data:_.data??{},notes:_.notes??"",location:_.location}),t("new-entry")},$=_=>{const M=window.open("","_blank");if(!M)return;const z=`
      <h1>Clinical Record</h1>
      <p><strong>Patient:</strong> ${_.patientName}</p>
      <p><strong>Type:</strong> ${Ac[_.recordType]}</p>
      <p><strong>Recorded At:</strong> ${E(_.timestamp)}</p>
      <p><strong>Updated By:</strong> ${_.updatedByName??""} (${_.updatedByRole})</p>
      ${_.location?`<p><strong>Location:</strong> ${_.location}</p>`:""}
      <h2>Clinical Notes</h2>
      <p>${_.notes||"No additional notes"}</p>
      <h2>Clinical Data</h2>
      <p>${P(_)}</p>
    `;M.document.open(),M.document.write(`
      <html>
        <head>
          <title>Clinical Record - ${_.patientName}</title>
          <style>
            * {
              margin: 0;
              padding: 0;
              box-sizing: border-box;
            }
            body { 
              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
              font-size: 14px;
              line-height: 1.7;
              color: #1a1a1a;
              background: #ffffff;
              padding: 40px 30px;
              max-width: 1000px;
              margin: 0 auto;
            }
            .watermark {
              position: fixed;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%) rotate(-45deg);
              font-size: 100px;
              color: rgba(0, 0, 0, 0.03);
              font-weight: bold;
              z-index: 0;
              pointer-events: none;
              white-space: nowrap;
            }
            .content {
              position: relative;
              z-index: 1;
            }
            .header { 
              display: flex; 
              flex-direction: column; 
              gap: 20px; 
              margin-bottom: 32px; 
              padding-bottom: 24px; 
              border-bottom: 3px solid #1e40af; 
            }
            .header-top { 
              display: flex; 
              align-items: flex-start; 
              justify-content: space-between; 
              flex-wrap: wrap; 
              gap: 20px; 
            }
            .header-left {
              flex: 1;
            }
            .header-logo { 
              max-height: 65px; 
              width: auto; 
              flex-shrink: 0;
              margin-bottom: 10px;
            }
            .clinic-name {
              font-size: 18px;
              font-weight: 700;
              color: #1e40af;
              margin-bottom: 4px;
            }
            .clinic-subtitle {
              font-size: 12px;
              color: #6b7280;
            }
            .header-title { 
              flex: 1; 
              min-width: 200px;
              text-align: right;
            }
            h1 { 
              font-size: 28px; 
              font-weight: 700;
              color: #1e40af;
              margin: 0;
              letter-spacing: 0.5px;
            }
            .document-meta {
              font-size: 12px;
              color: #6b7280;
              margin-top: 8px;
            }
            h2 { 
              font-size: 16px; 
              font-weight: 600;
              margin-top: 24px; 
              margin-bottom: 12px;
              color: #1e40af;
              text-transform: uppercase;
              letter-spacing: 0.5px;
              padding-bottom: 6px;
              border-bottom: 2px solid #e5e7eb;
            }
            .record-section {
              background: #f9fafb;
              padding: 20px;
              border-radius: 8px;
              margin: 16px 0;
              border-left: 4px solid #1e40af;
            }
            p { 
              margin: 8px 0;
              color: #374151;
            }
            pre { 
              background: #f3f4f6; 
              padding: 16px; 
              border-radius: 6px; 
              font-size: 13px; 
              overflow-x: auto;
              border: 1px solid #e5e7eb;
              font-family: 'Courier New', monospace;
              line-height: 1.6;
            }
            .footer {
              margin-top: 48px;
              padding-top: 24px;
              border-top: 2px solid #e5e7eb;
              text-align: center;
              color: #6b7280;
              font-size: 12px;
            }
            .footer strong {
              color: #374151;
            }
            @media (max-width: 600px) {
              body {
                padding: 24px 16px;
              }
              .header-top { 
                flex-direction: column; 
                align-items: flex-start; 
              }
              .header-title { 
                width: 100%; 
                text-align: left;
              }
              h1 {
                font-size: 24px;
              }
            }
            @media print {
              body {
                padding: 20px;
              }
              .watermark {
                display: block;
              }
              @page {
                margin: 1.5cm;
              }
            }
          </style>
        </head>
        <body>
          <div class="watermark">CLINICAL RECORD</div>
          <div class="content">
            <div class="header">
              <div class="header-top">
                <div class="header-left">
                  ${d5("header-logo")}
                  <div class="clinic-name">Teamwork Physio International</div>
                  <div class="clinic-subtitle">Healthcare & Rehabilitation Services</div>
                </div>
                <div class="header-title">
                  <h1>CLINICAL RECORD</h1>
                  <div class="document-meta">Patient: ${_.patientName} | Record Type: ${_.recordType}</div>
                </div>
              </div>
            </div>
            <div class="record-section">
              ${z}
            </div>
            <div class="footer">
              <p><strong>Confidential Medical Document</strong></p>
              <p>This document contains protected health information and is intended for authorized healthcare use only.</p>
              <p style="margin-top: 12px; font-size: 11px; color: #9ca3af;">Generated on ${new Date().toLocaleString("en-US",{dateStyle:"full",timeStyle:"short"})}</p>
            </div>
          </div>
        </body>
      </html>
    `),M.document.close(),M.focus(),M.print()};return a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Clinical Documentation"}),a.jsx("p",{className:"text-gray-600",children:"Manage patient records and clinical notes"})]}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsxs("button",{onClick:()=>t("records"),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${e==="records"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(Aa,{className:"h-4 w-4 mr-2"}),"Patient Records (",w.length,")"]}),a.jsxs("button",{onClick:()=>t("new-entry"),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${e==="new-entry"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"New Entry"]})]})})}),e==="records"&&a.jsxs("div",{children:[a.jsx("div",{className:"card mb-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(Br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search records...",value:r,onChange:_=>n(_.target.value),className:"pl-10 input-field"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Uy,{className:"h-4 w-4 text-gray-400"}),a.jsxs("select",{value:i,onChange:_=>s(_.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Types"}),Object.keys(Ac).map(_=>a.jsx("option",{value:_,children:Ac[_]},_))]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{className:"btn-outline flex items-center",disabled:!0,children:[a.jsx(Hd,{className:"h-4 w-4 mr-2"}),"Export"]}),a.jsxs("button",{className:"btn-outline flex items-center",disabled:!0,children:[a.jsx(Ef,{className:"h-4 w-4 mr-2"}),"Import"]})]})]})}),v&&a.jsxs("div",{className:"card text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading clinical records"}),a.jsx("p",{className:"text-gray-600",children:"Please wait while we fetch the latest records."})]}),x&&!v&&a.jsxs("div",{className:"card text-center py-12",children:[a.jsx(ha,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Unable to load records"}),a.jsx("p",{className:"text-gray-600",children:x.message??"Please try again later."}),a.jsx("button",{className:"btn-primary mt-4",onClick:b,children:"Retry"})]}),!v&&!x&&a.jsx("div",{className:"space-y-4",children:w.length===0?a.jsxs("div",{className:"card text-center py-12",children:[a.jsx(Aa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No records found"}),a.jsx("p",{className:"text-gray-600",children:"No clinical records match your current search criteria."})]}):a.jsx("div",{className:"card overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Patient"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date/Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Updated By"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map(_=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.patientName})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Vve[_.recordType]}`,children:Ac[_.recordType]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E(_.timestamp)}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[_.updatedByName||_.updatedBy||"Unknown",a.jsx("div",{className:"text-xs text-gray-500 capitalize",children:_.updatedByRole})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 max-w-xs truncate",children:_.notes||""}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsxs("button",{onClick:()=>D(_),className:"btn-outline text-xs px-2 py-1",children:[a.jsx(Ln,{className:"h-3 w-3 mr-1 inline"}),"View"]}),d&&a.jsxs("button",{onClick:()=>I(_),className:"btn-outline text-xs px-2 py-1",children:[a.jsx(Aa,{className:"h-3 w-3 mr-1 inline"}),"Edit"]}),a.jsx("button",{onClick:()=>$(_),className:"btn-outline text-xs px-2 py-1",children:"Print / PDF"})]})})]},_.id))})]})})})]}),e==="new-entry"&&a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"New Clinical Entry"}),a.jsxs("form",{className:"space-y-6",onSubmit:C,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient ID"}),a.jsx("input",{type:"text",placeholder:"Enter patient ID...",value:o.patientId,onChange:_=>l(M=>({...M,patientId:_.target.value})),className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Entry Type"}),a.jsx("select",{className:"input-field",value:o.recordType,onChange:_=>l(M=>({...M,recordType:_.target.value})),children:Object.keys(Ac).map(_=>a.jsx("option",{value:_,children:Ac[_]},_))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Clinical Notes"}),a.jsx("textarea",{placeholder:"Enter clinical observations, assessments, and notes...",className:"input-field h-32 resize-none",value:o.notes??"",onChange:_=>l(M=>({...M,notes:_.target.value}))})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location (optional)"}),a.jsx("input",{type:"text",placeholder:"e.g. Home visit, Clinic",className:"input-field",value:o.location??"",onChange:_=>l(M=>({...M,location:_.target.value||void 0}))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Data (JSON)"}),a.jsx("textarea",{placeholder:'{ "bloodPressure": "120/80" }',className:"input-field h-24",value:JSON.stringify(o.data??{},null,2),onChange:_=>{try{const M=JSON.parse(_.target.value||"{}");l(z=>({...z,data:M}))}catch{}}})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",className:"btn-outline",onClick:()=>l({patientId:"",recordType:"note",data:{},notes:""}),children:"Cancel"}),a.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:S.loading,children:[a.jsx(qy,{className:"h-4 w-4 mr-2"}),S.loading?"Saving...":"Save Entry"]})]})]})]}),h&&f&&a.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30",onClick:A}),a.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-3xl w-full mx-4 p-6 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Record Details"}),a.jsx("button",{className:"text-gray-400 hover:text-gray-600",onClick:A,children:""})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-700",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Patient:"})," ",f.patientName," (",f.patientId,")"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Type:"})," ",Ac[f.recordType]]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Recorded At:"})," ",E(f.timestamp)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Updated By:"})," ",f.updatedByName??f.updatedBy," ","(",f.updatedByRole,")"]}),f.location&&a.jsxs("div",{children:[a.jsx("strong",{children:"Location:"})," ",f.location]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Clinical Details"}),k(f)]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Notes"}),a.jsx("p",{className:"text-sm text-gray-700",children:f.notes||"No additional notes"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Raw Data"}),a.jsx("pre",{className:"text-xs bg-gray-50 p-3 rounded border border-gray-100 overflow-x-auto",children:JSON.stringify(f.data??{},null,2)})]})]}),a.jsxs("div",{className:"mt-4 flex justify-end space-x-3",children:[a.jsx("button",{className:"btn-outline",onClick:()=>$(f),children:"Print / PDF"}),a.jsx("button",{className:"btn-primary",onClick:A,children:"Close"})]})]})]})]})}function Gve(e){if(!e)return{};if(typeof e=="string")try{return JSON.parse(e)}catch{return{message:e}}return typeof e=="object"?e:{}}function OT(e){if(!e)throw new Error("Invalid incident payload received from API");const t=Gve(e.details),r=e.user??{},n=(t.severity||t.level||e.severity||"medium").toString().toLowerCase(),s=["low","medium","high","critical"].includes(n)?n:"medium",o=(t.status||e.status||"open").toString().toLowerCase(),l=t.description||e.description||t.message||e.action||"Security incident reported",c=e.timestamp??e.createdAt??e.updatedAt??new Date().toISOString();return{id:e.id,type:(t.type||e.type||e.action||"security-incident").toString(),severity:s,status:["open","investigating","resolved","closed"].includes(o||"")?o:"open",description:l,action:e.action||"SECURITY_INCIDENT",userId:e.userId??t.userId,userName:r.name??t.userName??t.reportedBy,userEmail:r.email??t.userEmail,ipAddress:e.ipAddress??t.ipAddress,userAgent:e.userAgent??t.userAgent,timestamp:new Date(c).toISOString(),createdAt:e.createdAt?new Date(e.createdAt).toISOString():void 0,updatedAt:e.updatedAt?new Date(e.updatedAt).toISOString():void 0,metadata:t}}class Yve{async getIncidents(t){const r=await me.get(xe.SECURITY.INCIDENTS,{params:{page:t==null?void 0:t.page,limit:t==null?void 0:t.limit}});return{incidents:(Array.isArray(r.data)?r.data:Array.isArray(r.incidents)?r.incidents:[]).map(OT),pagination:r.pagination}}async reportIncident(t){const r=await me.post(xe.SECURITY.REPORT_INCIDENT,t),n=r.data??r;return OT(n)}}const IT=new Yve,Kve={searchTerm:"",severity:"all",status:"all"},LT={show:!1,type:"",severity:"medium",description:"",status:"open",metadata:{}};function Xve(e){if(!e)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return e}}function Jve(e){switch(e){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-orange-100 text-orange-800";case"critical":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}function Zve(e){switch(e){case"open":return"bg-red-100 text-red-800";case"investigating":return"bg-yellow-100 text-yellow-800";case"resolved":return"bg-green-100 text-green-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}}function Qve(){var S;const[e,t]=L.useState(Kve),[r,n]=L.useState(LT),{addNotification:i}=Mr(),{user:s}=fr(),o=(s==null?void 0:s.role)==="admin",{data:l,loading:c,error:u,refetch:d}=it(()=>o?IT.getIncidents({page:1,limit:50}):Promise.resolve({incidents:[],pagination:void 0}),[o]),f=ot(IT.reportIncident),m=(l==null?void 0:l.incidents)??[],h=L.useMemo(()=>{const E=e.searchTerm.trim().toLowerCase();return m.filter(C=>{var A;const k=e.severity==="all"||C.severity===e.severity,P=e.status==="all"||C.status===e.status,D=!E||[C.type,C.description,C.action,C.userName,C.userEmail,(A=C.metadata)==null?void 0:A.message].filter(Boolean).some(I=>I.toString().toLowerCase().includes(E));return k&&P&&D})},[e,m]),p=h.filter(E=>E.severity==="high"||E.severity==="critical").length,y=h.filter(E=>E.status==="investigating").length,v=h.filter(E=>E.status==="resolved").length,x=(E,C)=>{t(k=>({...k,[E]:C}))},b=E=>{n(C=>({...LT,show:E}))},N=(E,C)=>{n(k=>({...k,[E]:C,show:!0}))},w=async E=>{E.preventDefault();try{await f.mutate({type:r.type,severity:r.severity,description:r.description,status:r.status,metadata:r.metadata}),i({title:"Incident reported",message:"The security team has been notified.",type:"success",priority:"high",category:"system",userId:""}),b(!1),await d()}catch(C){i({title:"Unable to submit incident",message:(C==null?void 0:C.message)||"We could not file this incident. Please try again.",type:"error",priority:"high",category:"system",userId:""})}};return a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Security Incidents"}),a.jsx("p",{className:"text-gray-600",children:"Track and manage security-related events, breaches, and investigations"}),!o&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"You can report incidents, but only administrators can view the full incident log."})]}),a.jsxs("button",{className:"btn-primary flex items-center",onClick:()=>b(!0),children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Report Incident"]})]})}),u&&o&&a.jsx("div",{className:"card bg-red-50 border border-red-200 text-red-700 mb-6",children:"We could not load incidents. Please refresh the page or try again later."}),a.jsx("div",{className:"card mb-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[a.jsxs("div",{className:"flex items-center space-x-4 w-full sm:w-auto",children:[a.jsxs("div",{className:"relative flex-1 sm:flex-initial sm:w-72",children:[a.jsx(Br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search incidents...",value:e.searchTerm,onChange:E=>x("searchTerm",E.target.value),className:"pl-10 input-field"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Uy,{className:"h-4 w-4 text-gray-400"}),a.jsxs("select",{value:e.severity,onChange:E=>x("severity",E.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Severity"}),a.jsx("option",{value:"low",children:"Low"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"high",children:"High"}),a.jsx("option",{value:"critical",children:"Critical"})]}),a.jsxs("select",{value:e.status,onChange:E=>x("status",E.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"open",children:"Open"}),a.jsx("option",{value:"investigating",children:"Investigating"}),a.jsx("option",{value:"resolved",children:"Resolved"}),a.jsx("option",{value:"closed",children:"Closed"})]})]})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:h.length})," incidents match your filters"]})]})}),a.jsxs("div",{className:"space-y-4",children:[c&&a.jsxs("div",{className:"card flex justify-center items-center py-12 text-gray-500",children:[a.jsx(Ir,{className:"h-5 w-5 mr-2 animate-spin"}),"Loading incidents..."]}),!c&&h.length===0&&a.jsxs("div",{className:"card text-center py-12",children:[a.jsx(ha,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No incidents found"}),a.jsx("p",{className:"text-gray-600",children:"There are no incidents that match your current filters."})]}),h.map(E=>{var C;return a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(ha,{className:"h-5 w-5 text-red-500 mr-2"}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Jve(E.severity)}`,children:E.severity.charAt(0).toUpperCase()+E.severity.slice(1)}),a.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${Zve(E.status)}`,children:(E.status??"open").charAt(0).toUpperCase()+(E.status??"open").slice(1)}),a.jsx("span",{className:"ml-4 text-sm text-gray-500",children:Xve(E.timestamp)})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:E.type.replace(/[-_]/g," ").replace(/\b\w/g,k=>k.toUpperCase())}),a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Action: ",E.action]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Reported by:"," ",E.userName||E.userEmail||E.userId||"System"]}),E.ipAddress&&a.jsxs("p",{className:"text-sm text-gray-600",children:["IP: ",E.ipAddress]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Description"}),a.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-line",children:E.description}),((C=E.metadata)==null?void 0:C.details)&&a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Details: ",JSON.stringify(E.metadata.details)]})]})]})]}),a.jsx("div",{className:"ml-4 flex flex-col space-y-2",children:a.jsxs("button",{className:"btn-outline text-sm py-1 px-3",disabled:!0,children:[a.jsx(Ln,{className:"h-3 w-3 mr-1"}),"View Log"]})})]})},E.id)})]}),a.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-red-600",children:p}),a.jsx("div",{className:"text-sm text-gray-600",children:"High/Critical Priority"})]}),a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:y}),a.jsx("div",{className:"text-sm text-gray-600",children:"Under Investigation"})]}),a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:v}),a.jsx("div",{className:"text-sm text-gray-600",children:"Resolved"})]}),a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-600",children:h.length}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Total (",((S=l==null?void 0:l.pagination)==null?void 0:S.total)??m.length,")"]})]})]}),r.show&&a.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30",onClick:()=>b(!1)}),a.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-lg w-full mx-4 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Report Security Incident"}),a.jsx("button",{className:"text-gray-400 hover:text-gray-600",onClick:()=>b(!1),children:""})]}),a.jsxs("form",{className:"space-y-4",onSubmit:w,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Incident Type"}),a.jsx("input",{type:"text",className:"input-field",placeholder:"e.g., Unauthorized Access",value:r.type,onChange:E=>N("type",E.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Severity"}),a.jsxs("select",{className:"input-field",value:r.severity,onChange:E=>N("severity",E.target.value),required:!0,children:[a.jsx("option",{value:"low",children:"Low"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"high",children:"High"}),a.jsx("option",{value:"critical",children:"Critical"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{className:"input-field h-24 resize-none",placeholder:"Provide details about the incident...",value:r.description,onChange:E=>N("description",E.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),a.jsxs("select",{className:"input-field",value:r.status,onChange:E=>N("status",E.target.value),children:[a.jsx("option",{value:"open",children:"Open"}),a.jsx("option",{value:"investigating",children:"Investigating"}),a.jsx("option",{value:"resolved",children:"Resolved"}),a.jsx("option",{value:"closed",children:"Closed"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",className:"btn-outline",onClick:()=>b(!1),children:"Cancel"}),a.jsxs("button",{type:"submit",className:"btn-primary",disabled:f.loading,children:[f.loading?a.jsx(Ir,{className:"h-4 w-4 mr-2 inline animate-spin"}):null,"Submit Incident"]})]})]})]})]})]})}function RT({isOpen:e,onClose:t,onSave:r,specialist:n,mode:i}){const[s,o]=L.useState({username:"",name:"",email:"",password:"",phone:"",licenseNumber:"",specialization:"clinical-psychologist",experience:0,certifications:[],hourlyRate:0,bio:"",hireDate:new Date().toISOString().split("T")[0],avatar:"",status:"active"}),[l,c]=L.useState(""),[u,d]=L.useState(!1),[f,m]=L.useState(null),[h,p]=L.useState(null),[y,v]=L.useState(null),[x,b]=L.useState(!1),[N,w]=L.useState([]),[S,E]=L.useState(!0),C=i==="edit"&&n;L.useEffect(()=>{e&&(async()=>{try{E(!0);const M=await jl.getSpecializations({type:"SPECIALIST"});w(M)}catch(M){console.error("Failed to load specializations:",M)}finally{E(!1)}})()},[e]),L.useEffect(()=>{e||(d(!1),m(null),p(null),v(null),b(!1))},[e]),L.useEffect(()=>{if(C&&n)if(o({username:n.username??"",name:n.name,email:n.email,password:"",phone:n.phone,licenseNumber:n.licenseNumber,specialization:n.specialization,experience:n.experience,certifications:n.certifications,hourlyRate:n.hourlyRate,bio:n.bio??"",hireDate:n.hireDate?new Date(n.hireDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],avatar:n.avatar??"",status:n.status}),n.avatar){const _=n.avatar.startsWith("http")?n.avatar:Oa(n.avatar);v(_)}else v(null);else i==="add"&&(o({username:"",name:"",email:"",password:"",phone:"",licenseNumber:"",specialization:"clinical-psychologist",experience:0,certifications:[],hourlyRate:0,bio:"",hireDate:new Date().toISOString().split("T")[0],avatar:"",status:"active"}),v(null))},[C,n,i,e]);const k=_=>{const{name:M,value:z}=_.target;o(Z=>({...Z,[M]:["experience","hourlyRate"].includes(M)?Number(z)||0:z}))},P=()=>{const _=l.trim();_&&!s.certifications.includes(_)&&(o(M=>({...M,certifications:[...M.certifications,_]})),c(""))},D=_=>{o(M=>({...M,certifications:M.certifications.filter(z=>z!==_)}))},A=async _=>{var Z;const M=(Z=_.target.files)==null?void 0:Z[0];if(!M)return;if(!M.type.startsWith("image/")){m("Please select a valid image file");return}if(M.size>10*1024*1024){m("Image size must be less than 10MB");return}p(M),m(null);const z=new FileReader;z.onloadend=()=>{v(z.result)},z.readAsDataURL(M),b(!0);try{const R=await me.uploadFile(xe.UPLOAD.IMAGE,M);if(R.success&&R.data){const re=R.data.url||R.data.url;if(re){const de=re.startsWith("http")?re.replace(/^https?:\/\/[^\/]+/,""):re.startsWith("/")?re:"/"+re;o(te=>({...te,avatar:de}));const G=`${lu.API_ORIGIN}${de}`;v(G)}}}catch(R){m((R==null?void 0:R.message)||"Failed to upload image"),p(null),v(null)}finally{b(!1)}},I=()=>{p(null),v(null),o(_=>({..._,avatar:""}))},$=async _=>{var M;if(_.preventDefault(),d(!0),m(null),i==="add"&&!((M=s.username)!=null&&M.trim())){m("Username is required for new specialists."),d(!1);return}if(i==="add"&&(!s.password||s.password.length<8)){m("Password must be at least 8 characters long."),d(!1);return}if(i==="edit"&&s.password&&s.password.length<8){m("Password must be at least 8 characters long."),d(!1);return}try{await r({...s,certifications:s.certifications.map(z=>z.trim()).filter(Boolean),experience:Number(s.experience)||0,hourlyRate:Number(s.hourlyRate)||0}),t()}catch(z){m((z==null?void 0:z.message)??"Unable to save specialist. Please try again.")}finally{d(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:i==="add"?"Add New Specialist":"Edit Specialist"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Dt,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:$,className:"p-6 space-y-6",children:[f&&a.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:f}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Basic Information"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username *"}),a.jsx("input",{type:"text",name:"username",value:s.username,onChange:k,required:i==="add",disabled:i==="edit"||u,className:"input-field disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed",placeholder:"e.g. dr.smith (used for login)"}),i==="edit"&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Username cannot be changed after creation"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),a.jsx("input",{type:"text",name:"name",value:s.name,onChange:k,required:!0,className:"input-field",placeholder:"Enter full name",disabled:u})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",name:"email",value:s.email,onChange:k,className:"input-field",placeholder:"Enter email address",disabled:u})]}),i==="add"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),a.jsx("input",{type:"password",name:"password",value:s.password,onChange:k,required:i==="add",minLength:8,className:"input-field",placeholder:"Minimum 8 characters",disabled:u}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Provide this to the specialist for login"})]}),i==="edit"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password (optional)"}),a.jsx("input",{type:"password",name:"password",value:s.password,onChange:k,minLength:8,className:"input-field",placeholder:"Leave blank to keep current password",disabled:u}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only fill if you want to change the password"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),a.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:k,required:!0,className:"input-field",placeholder:"Enter phone number",disabled:u})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"License Number *"}),a.jsx("input",{type:"text",name:"licenseNumber",value:s.licenseNumber,onChange:k,required:!0,className:"input-field",placeholder:"Enter license number",disabled:u})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specialization *"}),a.jsxs("select",{name:"specialization",value:s.specialization,onChange:k,required:!0,className:"input-field",disabled:u||S,children:[a.jsx("option",{value:"",children:"Select specialization"}),S?a.jsx("option",{disabled:!0,children:"Loading specializations..."}):N.map(_=>a.jsx("option",{value:_.name.toUpperCase().replace(/\s+/g,"_"),children:_.name},_.id))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Picture"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[y?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:y,alt:"Avatar preview",className:"h-20 w-20 rounded-full object-cover border-2 border-gray-200"}),a.jsx("button",{type:"button",onClick:I,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:a.jsx(Dt,{className:"h-4 w-4"})})]}):a.jsx("div",{className:"h-20 w-20 rounded-full bg-gray-100 flex items-center justify-center border-2 border-dashed border-gray-300",children:a.jsx(Pp,{className:"h-8 w-8 text-gray-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("label",{className:"cursor-pointer",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:A,className:"hidden",disabled:x||u}),a.jsx("div",{className:"btn-outline flex items-center justify-center",children:x?a.jsxs(a.Fragment,{children:[a.jsx(Ir,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ef,{className:"h-4 w-4 mr-2"}),y?"Change Picture":"Upload Picture"]})})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG or GIF (max 10MB)"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),a.jsx("textarea",{name:"bio",value:s.bio,onChange:k,rows:3,className:"input-field",placeholder:"Enter specialist bio",disabled:u})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Certifications"}),a.jsxs("div",{className:"space-y-3",children:[s.certifications.map((_,M)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsx("span",{className:"text-sm text-gray-900",children:_}),a.jsx("button",{type:"button",onClick:()=>D(_),className:"text-red-600 hover:text-red-800",disabled:u,children:a.jsx(zr,{className:"h-4 w-4"})})]},M)),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",value:l,onChange:_=>c(_.target.value),className:"input-field flex-1",placeholder:"Enter certification name",disabled:u}),a.jsxs("button",{type:"button",onClick:P,className:"btn-secondary flex items-center",disabled:u,children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Add"]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Professional Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Years of Experience *"}),a.jsx("input",{type:"number",name:"experience",value:s.experience,onChange:k,min:0,max:50,required:!0,className:"input-field",placeholder:"Enter years of experience",disabled:u})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hourly Rate *"}),a.jsx("input",{type:"number",name:"hourlyRate",value:s.hourlyRate,onChange:k,min:0,step:"0.01",required:!0,className:"input-field",placeholder:"Enter hourly rate",disabled:u})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Employment Details"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),a.jsxs("select",{name:"status",value:s.status,onChange:k,required:!0,className:"input-field",disabled:u,children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"}),a.jsx("option",{value:"on-leave",children:"On Leave"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hire Date *"}),a.jsx("input",{type:"date",name:"hireDate",value:s.hireDate,onChange:k,required:!0,className:"input-field",disabled:u})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-outline",disabled:u,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:u,children:u?"Saving...":i==="add"?"Add Specialist":"Save Changes"})]})]})]})}):null}const e1e=e=>e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),t1e=e=>{switch(e){case"clinical-psychologist":return"bg-purple-100 text-purple-800";case"nutritionist":return"bg-green-100 text-green-800";case"critical-care-nurse":return"bg-red-100 text-red-800";case"medical-doctor":return"bg-blue-100 text-blue-800";case"geriatrician":return"bg-indigo-100 text-indigo-800";case"palliative-care-specialist":return"bg-gray-100 text-gray-800";case"senior-midwife":return"bg-rose-100 text-rose-800";default:return"bg-gray-100 text-gray-800"}},r1e=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"on-leave":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};function n1e({isOpen:e,onClose:t,specialist:r}){if(!e||!r)return null;const n=s=>`${(s==null?void 0:s.filter(l=>l.isAvailable).length)||0} days/week`,i=r.avatar?r.avatar.startsWith("http")?r.avatar:Oa(r.avatar):null;return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Specialist Details"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Dt,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-start space-x-4 pb-6 border-b border-gray-200",children:[i?a.jsx("img",{src:i,alt:r.name,className:"h-20 w-20 rounded-full object-cover border-2 border-gray-200"}):a.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-primary-100 text-xl font-semibold text-primary-700",children:r.name.split(" ").map(s=>s[0]).join("").slice(0,2).toUpperCase()}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r.name}),a.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${t1e(r.specialization)}`,children:e1e(r.specialization)}),a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${r1e(r.status)}`,children:r.status.charAt(0).toUpperCase()+r.status.slice(1)})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(zy,{className:"h-5 w-5 text-gray-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),a.jsx("p",{className:"font-semibold text-gray-900",children:r.email})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(fs,{className:"h-5 w-5 text-gray-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),a.jsx("p",{className:"font-semibold text-gray-900",children:r.phone||""})]})]})]}),a.jsxs("div",{className:"rounded-lg bg-gray-50 p-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Professional Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Jn,{className:"h-5 w-5 text-gray-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"License Number"}),a.jsx("p",{className:"font-semibold text-gray-900",children:r.licenseNumber||""})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(yO,{className:"h-5 w-5 text-gray-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Experience"}),a.jsxs("p",{className:"font-semibold text-gray-900",children:[r.experience," years"]})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Sa,{className:"h-5 w-5 text-gray-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Hourly Rate"}),a.jsxs("p",{className:"font-semibold text-gray-900",children:["$",r.hourlyRate,"/hr"]})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Mt,{className:"h-5 w-5 text-gray-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Hire Date"}),a.jsx("p",{className:"font-semibold text-gray-900",children:new Date(r.hireDate).toLocaleDateString()})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(nr,{className:"h-5 w-5 text-gray-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Availability"}),a.jsx("p",{className:"font-semibold text-gray-900",children:n(r.availability)})]})]})]})]}),r.certifications&&r.certifications.length>0&&a.jsxs("div",{className:"rounded-lg border border-gray-200 p-4",children:[a.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[a.jsx(Jn,{className:"h-5 w-5 text-gray-400"}),a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Certifications"})]}),a.jsx("ul",{className:"space-y-2",children:r.certifications.map((s,o)=>a.jsxs("li",{className:"flex items-center text-gray-700",children:[a.jsx("span",{className:"mr-2 text-primary-600",children:""}),s]},o))})]}),r.bio&&a.jsxs("div",{className:"rounded-lg bg-blue-50 p-4",children:[a.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[a.jsx(Aa,{className:"h-5 w-5 text-blue-600"}),a.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"Bio"})]}),a.jsx("p",{className:"text-sm text-blue-800 whitespace-pre-wrap",children:r.bio})]})]}),a.jsx("div",{className:"flex justify-end gap-3 border-t border-gray-200 px-6 py-4",children:a.jsx("button",{onClick:t,className:"btn-primary",children:"Close"})})]})})}function a1e(){const{user:e}=fr(),t=(e==null?void 0:e.role)==="admin",[r,n]=L.useState(""),[i,s]=L.useState("all"),[o,l]=L.useState("all"),[c,u]=L.useState(!1),[d,f]=L.useState(!1),[m,h]=L.useState(!1),[p,y]=L.useState(null),{addNotification:v}=Mr(),{data:x,loading:b,error:N,refetch:w}=it(()=>Rc.getSpecialists({limit:200}),[]),S=(x==null?void 0:x.specialists)??[],E=L.useMemo(()=>S.filter(U=>{const re=U.name.toLowerCase().includes(r.toLowerCase())||U.specialization.toLowerCase().includes(r.toLowerCase())||U.email.toLowerCase().includes(r.toLowerCase()),de=i==="all"||U.specialization===i,B=o==="all"||U.status===o;return re&&de&&B}),[S,r,i,o]),C=ot(Rc.createSpecialist.bind(Rc)),k=ot(U=>Rc.updateSpecialist(U.id,U.data)),P=ot(U=>Rc.deleteSpecialist(U)),D=async U=>{var re,de;try{await C.mutate(U),Ce.success(`Specialist ${U.name} has been added successfully`),v({title:"Specialist Added",message:`${U.name} has been added to the roster.`,type:"success",userId:"system",priority:"medium",category:"specialist"}),await w(),u(!1)}catch(B){const G=((de=(re=B==null?void 0:B.response)==null?void 0:re.data)==null?void 0:de.message)||(B==null?void 0:B.message)||"Failed to add specialist";throw Ce.error(G),v({title:"Unable to add specialist",message:G,type:"error",userId:"system",priority:"high",category:"system"}),B}},A=async U=>{var re,de;if(p)try{await k.mutate({id:p.id,data:U}),Ce.success(`Specialist ${U.name??p.name} has been updated successfully`),v({title:"Specialist Updated",message:`${U.name??p.name} has been updated.`,type:"success",userId:"system",priority:"medium",category:"specialist"}),await w(),f(!1),y(null)}catch(B){const G=((de=(re=B==null?void 0:B.response)==null?void 0:re.data)==null?void 0:de.message)||(B==null?void 0:B.message)||"Failed to update specialist";throw Ce.error(G),v({title:"Unable to update specialist",message:G,type:"error",userId:"system",priority:"high",category:"system"}),B}},I=async(U,re)=>{var de,B;if(window.confirm(`Mark ${re} as inactive?`))try{await P.mutate(U),Ce.success(`Specialist ${re} has been marked as inactive`),v({title:"Specialist Updated",message:`${re} is now marked as inactive.`,type:"info",userId:"system",priority:"medium",category:"specialist"}),await w()}catch(G){const te=((B=(de=G==null?void 0:G.response)==null?void 0:de.data)==null?void 0:B.message)||(G==null?void 0:G.message)||"Failed to update specialist";Ce.error(te),v({title:"Unable to update specialist",message:te,type:"error",userId:"system",priority:"high",category:"system"})}},$=U=>{y(U),f(!0)},_=U=>{y(U),h(!0)},M=U=>{switch(U){case"clinical-psychologist":return"bg-purple-100 text-purple-800";case"nutritionist":return"bg-green-100 text-green-800";case"critical-care-nurse":return"bg-red-100 text-red-800";case"medical-doctor":return"bg-blue-100 text-blue-800";case"geriatrician":return"bg-indigo-100 text-indigo-800";case"palliative-care-specialist":return"bg-gray-100 text-gray-800";case"senior-midwife":return"bg-rose-100 text-rose-800";default:return"bg-gray-100 text-gray-800"}},z=U=>{switch(U){case"active":return"status-active";case"inactive":return"status-inactive";case"on-leave":return"bg-yellow-100 text-yellow-800";default:return"status-inactive"}},Z=U=>U.split("-").map(re=>re.charAt(0).toUpperCase()+re.slice(1)).join(" "),R=U=>`${(U==null?void 0:U.filter(de=>de.isAvailable).length)||0} days/week`;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center space-x-2",children:[a.jsx(Jn,{className:"h-6 w-6 text-primary-500"}),a.jsx("span",{children:"Specialists"})]}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage healthcare specialists and their availability."})]}),t&&a.jsx("div",{className:"mt-4 sm:mt-0",children:a.jsxs("button",{onClick:()=>u(!0),className:"btn-primary flex items-center",children:[a.jsx(zt,{className:"mr-2 h-4 w-4"}),"Add Specialist"]})})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Br,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search specialists...",value:r,onChange:U=>n(U.target.value),className:"input-field pl-10"})]})}),a.jsx("div",{className:"sm:w-48",children:a.jsxs("select",{value:i,onChange:U=>s(U.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Specializations"}),a.jsx("option",{value:"clinical-psychologist",children:"Clinical Psychologist"}),a.jsx("option",{value:"nutritionist",children:"Nutritionist"}),a.jsx("option",{value:"critical-care-nurse",children:"Critical Care Nurse"}),a.jsx("option",{value:"medical-doctor",children:"Medical Doctor"}),a.jsx("option",{value:"geriatrician",children:"Geriatrician"}),a.jsx("option",{value:"palliative-care-specialist",children:"Palliative Care Specialist"}),a.jsx("option",{value:"senior-midwife",children:"Senior Midwife"})]})}),a.jsx("div",{className:"sm:w-48",children:a.jsxs("select",{value:o,onChange:U=>l(U.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"}),a.jsx("option",{value:"on-leave",children:"On Leave"})]})})]})}),N&&a.jsx("div",{className:"card bg-red-50 border border-red-200 text-red-700",children:"Unable to load specialists. Please refresh or try again later."}),a.jsx("div",{className:"card",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Specialist"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Specialization"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Contact"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Experience"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Hourly Rate"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Availability"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:b?a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"px-6 py-10 text-center text-sm text-gray-500",children:"Loading specialists..."})}):E.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"px-6 py-10 text-center text-sm text-gray-500",children:"No specialists match your filters yet."})}):E.map(U=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[U.avatar?a.jsx("img",{src:U.avatar.startsWith("http")?U.avatar:Oa(U.avatar),alt:U.name,className:"h-10 w-10 rounded-full object-cover"}):a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary-100 text-sm font-semibold text-primary-700",children:U.name.split(" ").map(re=>re[0]).join("").slice(0,2).toUpperCase()}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:U.name}),a.jsx("div",{className:"text-sm text-gray-500",children:U.email})]})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${M(U.specialization)}`,children:Z(U.specialization)})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900",children:U.phone?a.jsxs("div",{className:"flex items-center",children:[a.jsx(fs,{className:"mr-2 h-4 w-4 text-gray-400"}),U.phone]}):a.jsx("span",{className:"text-gray-400",children:"No phone"})})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Jn,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsxs("div",{className:"text-sm text-gray-900",children:[U.experience," years"]})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(nm,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsxs("div",{className:"text-sm text-gray-900",children:["$",U.hourlyRate,"/hr"]})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(nr,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm text-gray-900",children:R(U.availability)})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`status-badge ${z(U.status)}`,children:U.status.charAt(0).toUpperCase()+U.status.slice(1)})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:()=>_(U),className:"text-primary-600 hover:text-primary-900",title:"View specialist details",children:[a.jsx(Ln,{className:"mr-1 inline h-4 w-4"}),"View"]}),t&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>$(U),className:"text-secondary-600 hover:text-secondary-900",children:[a.jsx(Fn,{className:"mr-1 inline h-4 w-4"}),"Edit"]}),a.jsxs("button",{onClick:()=>I(U.id,U.name),className:"text-red-600 hover:text-red-900",children:[a.jsx(zr,{className:"mr-1 inline h-4 w-4"}),"Delete"]})]})]})})]},U.id))})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-primary-600",children:S.filter(U=>U.status==="active").length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Active Specialists"})]}),a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:S.filter(U=>U.specialization==="clinical-psychologist").length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Psychologists"})]}),a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:S.filter(U=>U.specialization==="nutritionist").length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Nutritionists"})]})]}),a.jsx(RT,{isOpen:c,onClose:()=>u(!1),onSave:D,mode:"add"}),a.jsx(RT,{isOpen:d,onClose:()=>{f(!1),y(null)},onSave:A,specialist:p,mode:"edit"}),a.jsx(n1e,{isOpen:m,onClose:()=>{h(!1),y(null)},specialist:p})]})}function Zu(e){if(!e)return{};if(e.settings)return e.settings;const{settings:t,...r}=e;return r}class i1e{async getSystemSettings(){const t=await me.get(xe.SETTINGS.SYSTEM);return Zu(t.data)}async updateSystemSettings(t){const r=await me.put(xe.SETTINGS.SYSTEM,t);return Zu(r.data)}async getNotificationSettings(){const t=await me.get(xe.SETTINGS.NOTIFICATIONS);return Zu(t.data)}async updateNotificationSettings(t){const r=await me.put(xe.SETTINGS.NOTIFICATIONS,t);return Zu(r.data)}async getReminderSettings(){const t=await me.get(xe.SETTINGS.REMINDERS);return Zu(t.data)}async updateReminderSettings(t){const r=await me.put(xe.SETTINGS.REMINDERS,t);return Zu(r.data)}}const So=new i1e,s1e={firstName:"",lastName:"",email:"",phone:"",department:""},MT={currentPassword:"",newPassword:"",confirmPassword:""},n2={emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,appointmentReminders:!0,paymentReminders:!0},o1e={siteName:"Teamwork Homecare",siteEmail:"support@homecare.com",sitePhone:"+1-555-0101",maintenanceMode:!1,registrationEnabled:!0,emailVerificationRequired:!0,passwordMinLength:8,sessionTimeout:3600};function l1e(){const[e,t]=L.useState("profile"),{user:r,updateProfile:n,changePassword:i}=fr(),{addNotification:s}=Mr(),[o,l]=L.useState(s1e),[c,u]=L.useState(MT),[d,f]=L.useState(n2),[m,h]=L.useState(o1e),[p,y]=L.useState(!1),[v,x]=L.useState(!1),[b,N]=L.useState(!1),[w,S]=L.useState(!1),{data:E,loading:C,error:k,refetch:P}=it(()=>So.getNotificationSettings(),[]),{data:D,loading:A,error:I,refetch:$}=it(()=>So.getSystemSettings(),[]),_=ot(So.updateNotificationSettings.bind(So)),M=ot(So.updateSystemSettings.bind(So));L.useEffect(()=>{if(r){const[q,...X]=r.name.split(" ");l({firstName:q??"",lastName:X.join(" "),email:r.email??"",phone:r.phone??"",department:r.department??""})}},[r]),L.useEffect(()=>{if(E!=null&&E.notifications){f({...n2,...E.notifications});return}E&&f({...n2,...E})},[E]),L.useEffect(()=>{D&&h(q=>({...q,...D}))},[D]);const z=(q,X)=>{l(Q=>({...Q,[q]:X}))},Z=q=>{f(X=>({...X,[q]:!X[q]}))},R=(q,X)=>{h(Q=>({...Q,[q]:X}))},U=async q=>{if(q.preventDefault(),!!r){y(!0);try{const X=`${o.firstName} ${o.lastName}`.trim()||r.name;await n({name:X,email:o.email,phone:o.phone,department:o.department}),s({title:"Profile updated",message:"Your profile information was saved successfully.",type:"success",priority:"medium",category:"system",userId:r.id})}catch(X){s({title:"Profile update failed",message:(X==null?void 0:X.message)||"We could not update your profile. Please try again.",type:"error",priority:"high",category:"system",userId:(r==null?void 0:r.id)??""})}finally{y(!1)}}},re=async q=>{if(q.preventDefault(),c.newPassword!==c.confirmPassword){s({title:"Password mismatch",message:"Please make sure the new passwords match.",type:"warning",priority:"medium",category:"system",userId:(r==null?void 0:r.id)??""});return}x(!0);try{await i(c.currentPassword,c.newPassword),s({title:"Password updated",message:"Your password has been updated securely.",type:"success",priority:"medium",category:"system",userId:(r==null?void 0:r.id)??""}),u(MT)}catch(X){s({title:"Password update failed",message:(X==null?void 0:X.message)||"Unable to change password. Please verify your current password.",type:"error",priority:"high",category:"system",userId:(r==null?void 0:r.id)??""})}finally{x(!1)}},de=async q=>{q.preventDefault(),N(!0);try{const X=await _.mutate(d);f(X),s({title:"Notification preferences saved",message:"We will use your preferences for future alerts.",type:"success",priority:"medium",category:"system",userId:(r==null?void 0:r.id)??""}),await P()}catch(X){s({title:"Unable to save preferences",message:(X==null?void 0:X.message)||"Please try again later.",type:"error",priority:"high",category:"system",userId:(r==null?void 0:r.id)??""})}finally{N(!1)}},B=async q=>{q.preventDefault(),S(!0);try{const X={passwordMinLength:m.passwordMinLength,sessionTimeout:m.sessionTimeout,emailVerificationRequired:m.emailVerificationRequired},Q=await M.mutate(X);h(ne=>({...ne,...Q})),s({title:"Security policies updated",message:"Password and session policies have been refreshed.",type:"success",priority:"medium",category:"system",userId:(r==null?void 0:r.id)??""}),await $()}catch(X){s({title:"Unable to update security settings",message:(X==null?void 0:X.message)||"Please try again later.",type:"error",priority:"high",category:"system",userId:(r==null?void 0:r.id)??""})}finally{S(!1)}},G=async q=>{q.preventDefault(),S(!0);try{const X={siteName:m.siteName,siteEmail:m.siteEmail,sitePhone:m.sitePhone,maintenanceMode:m.maintenanceMode,registrationEnabled:m.registrationEnabled},Q=await M.mutate(X);h(ne=>({...ne,...Q})),s({title:"System settings saved",message:"Core system preferences were updated successfully.",type:"success",priority:"medium",category:"system",userId:(r==null?void 0:r.id)??""}),await $()}catch(X){s({title:"Unable to save system settings",message:(X==null?void 0:X.message)||"Please try again later.",type:"error",priority:"high",category:"system",userId:(r==null?void 0:r.id)??""})}finally{S(!1)}},te=A||M.loading,ue=C||_.loading;return a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),a.jsx("p",{className:"text-gray-600",children:"Manage your account and system preferences"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsx("nav",{className:"space-y-1",children:[{key:"profile",label:"Profile",icon:Kr},{key:"notifications",label:"Notifications",icon:Ao},{key:"security",label:"Security",icon:i5},{key:"system",label:"System",icon:zF},{key:"specializations",label:"Specializations",icon:WF,adminOnly:!0}].filter(q=>!q.adminOnly||(r==null?void 0:r.role)==="admin").map(q=>a.jsxs("button",{onClick:()=>t(q.key),className:`w-full flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 ${e===q.key?"bg-primary-50 text-primary-700 border-r-2 border-primary-500":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[a.jsx(q.icon,{className:"h-4 w-4 mr-3"}),q.label]},q.key))})}),a.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[e==="profile"&&a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Profile Settings"}),a.jsxs("form",{className:"space-y-6",onSubmit:U,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),a.jsx("input",{type:"text",className:"input-field",value:o.firstName,onChange:q=>z("firstName",q.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),a.jsx("input",{type:"text",className:"input-field",value:o.lastName,onChange:q=>z("lastName",q.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),a.jsx("input",{type:"email",className:"input-field",value:o.email,onChange:q=>z("email",q.target.value),required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),a.jsx("input",{type:"tel",className:"input-field",value:o.phone??"",onChange:q=>z("phone",q.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),a.jsx("input",{type:"text",className:"input-field",value:o.department??"",onChange:q=>z("department",q.target.value)})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{className:"btn-primary",disabled:p,children:[p?a.jsx(Ir,{className:"h-4 w-4 mr-2 inline animate-spin"}):null,"Save Changes"]})})]})]}),e==="notifications"&&a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Notification Preferences"}),k&&a.jsx("div",{className:"p-4 mb-4 text-sm text-red-700 bg-red-50 border border-red-200 rounded-md",children:"Unable to load your notification preferences right now."}),a.jsxs("form",{className:"space-y-6",onSubmit:de,children:[ue?a.jsxs("div",{className:"flex items-center justify-center py-8 text-gray-500",children:[a.jsx(Ir,{className:"h-5 w-5 mr-2 animate-spin"})," Loading preferences..."]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Email Notifications"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Receive notifications via email."})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:!!d.emailNotifications,onChange:()=>Z("emailNotifications")}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"SMS Notifications"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Receive alerts via SMS."})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:!!d.smsNotifications,onChange:()=>Z("smsNotifications")}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Push Notifications"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Enable in-app push notifications."})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:!!d.pushNotifications,onChange:()=>Z("pushNotifications")}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Appointment Reminders"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Get reminded about upcoming appointments."})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:!!d.appointmentReminders,onChange:()=>Z("appointmentReminders")}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Payment Reminders"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Stay on top of invoice due dates."})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:!!d.paymentReminders,onChange:()=>Z("paymentReminders")}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{className:"btn-primary",disabled:b||ue,children:[b?a.jsx(Ir,{className:"h-4 w-4 mr-2 inline animate-spin"}):null,"Save Preferences"]})})]})]}),e==="security"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Security Settings"}),a.jsxs("form",{className:"space-y-6",onSubmit:re,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),a.jsx("input",{type:"password",className:"input-field",value:c.currentPassword,onChange:q=>u(X=>({...X,currentPassword:q.target.value})),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),a.jsx("input",{type:"password",className:"input-field",value:c.newPassword,onChange:q=>u(X=>({...X,newPassword:q.target.value})),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),a.jsx("input",{type:"password",className:"input-field",value:c.confirmPassword,onChange:q=>u(X=>({...X,confirmPassword:q.target.value})),required:!0})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{className:"btn-primary",disabled:v,children:[v?a.jsx(Ir,{className:"h-4 w-4 mr-2 inline animate-spin"}):null,"Update Password"]})})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Password & Session Policies"}),I&&a.jsx("div",{className:"p-4 mb-4 text-sm text-red-700 bg-red-50 border border-red-200 rounded-md",children:"Unable to load security-related system settings."}),te?a.jsxs("div",{className:"flex items-center justify-center py-8 text-gray-500",children:[a.jsx(Ir,{className:"h-5 w-5 mr-2 animate-spin"})," Loading security policies..."]}):a.jsxs("form",{className:"space-y-6",onSubmit:B,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password Minimum Length"}),a.jsx("input",{type:"number",min:4,className:"input-field",value:m.passwordMinLength??8,onChange:q=>R("passwordMinLength",Number(q.target.value)||8),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Timeout (seconds)"}),a.jsx("input",{type:"number",min:300,className:"input-field",value:m.sessionTimeout??3600,onChange:q=>R("sessionTimeout",Number(q.target.value)||3600),required:!0})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Require email verification"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Users must verify their email before accessing the system."})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:!!m.emailVerificationRequired,onChange:()=>R("emailVerificationRequired",!m.emailVerificationRequired)}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{className:"btn-primary",disabled:w||te,children:[w?a.jsx(Ir,{className:"h-4 w-4 mr-2 inline animate-spin"}):null,"Save Security Policies"]})})]})]})]}),e==="system"&&a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"System Settings"}),I&&a.jsx("div",{className:"p-4 mb-4 text-sm text-red-700 bg-red-50 border border-red-200 rounded-md",children:"Unable to load core system settings."}),te?a.jsxs("div",{className:"flex items-center justify-center py-8 text-gray-500",children:[a.jsx(Ir,{className:"h-5 w-5 mr-2 animate-spin"})," Loading system settings..."]}):a.jsxs("form",{className:"space-y-6",onSubmit:G,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Site Name"}),a.jsx("input",{type:"text",className:"input-field",value:m.siteName??"",onChange:q=>R("siteName",q.target.value),required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Support Email"}),a.jsx("input",{type:"email",className:"input-field",value:m.siteEmail??"",onChange:q=>R("siteEmail",q.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Support Phone"}),a.jsx("input",{type:"tel",className:"input-field",value:m.sitePhone??"",onChange:q=>R("sitePhone",q.target.value),required:!0})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Maintenance Mode"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Temporarily disable non-admin access while maintenance is performed."})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:!!m.maintenanceMode,onChange:()=>R("maintenanceMode",!m.maintenanceMode)}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Allow New Registrations"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Control whether new users can sign up."})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:!!m.registrationEnabled,onChange:()=>R("registrationEnabled",!m.registrationEnabled)}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{className:"btn-primary",disabled:w||te,children:[w?a.jsx(Ir,{className:"h-4 w-4 mr-2 inline animate-spin"}):null,"Save Settings"]})})]})]}),e==="specializations"&&(r==null?void 0:r.role)==="admin"&&a.jsx(c1e,{})]})]})]})}function c1e(){const[e,t]=L.useState("all"),[r,n]=L.useState(!1),[i,s]=L.useState(null),[o,l]=L.useState({name:"",type:"SPECIALIST",description:"",isActive:!0,displayOrder:0}),{data:c,loading:u,error:d,refetch:f}=it(()=>jl.getSpecializations({type:e!=="all"?e:void 0,includeInactive:!0}),[e]),m=ot(jl.createSpecialization.bind(jl)),h=ot(({id:w,data:S})=>jl.updateSpecialization(w,S)),p=ot(jl.deleteSpecialization.bind(jl)),y=L.useMemo(()=>c?e==="all"?c:c.filter(w=>w.type===e):[],[c,e]),v=()=>{l({name:"",type:"SPECIALIST",description:"",isActive:!0,displayOrder:0}),s(null),n(!0)},x=w=>{l({name:w.name,type:w.type,description:w.description||"",isActive:w.isActive,displayOrder:w.displayOrder}),s(w),n(!0)},b=async()=>{try{i?(await h.mutate({id:i.id,data:o}),Ce.success("Specialization updated successfully")):(await m.mutate(o),Ce.success("Specialization created successfully")),n(!1),s(null),await f()}catch(w){Ce.error((w==null?void 0:w.message)||"Failed to save specialization")}},N=async w=>{if(window.confirm("Are you sure you want to delete this specialization?"))try{await p.mutate(w),Ce.success("Specialization deleted successfully"),await f()}catch(S){Ce.error((S==null?void 0:S.message)||"Failed to delete specialization")}};return a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Specializations Management"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage specializations for Specialists and Therapists"})]}),a.jsxs("button",{onClick:v,className:"btn-primary inline-flex items-center",children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Add Specialization"]})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>t("all"),className:`px-4 py-2 rounded-lg text-sm font-medium ${e==="all"?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All"}),a.jsx("button",{onClick:()=>t("SPECIALIST"),className:`px-4 py-2 rounded-lg text-sm font-medium ${e==="SPECIALIST"?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Specialists"}),a.jsx("button",{onClick:()=>t("THERAPIST"),className:`px-4 py-2 rounded-lg text-sm font-medium ${e==="THERAPIST"?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Therapists"})]})}),u?a.jsxs("div",{className:"flex items-center justify-center py-8 text-gray-500",children:[a.jsx(Ir,{className:"h-5 w-5 mr-2 animate-spin"})," Loading specializations..."]}):d?a.jsx("div",{className:"p-4 text-sm text-red-700 bg-red-50 border border-red-200 rounded-md",children:"Failed to load specializations"}):a.jsx("div",{className:"space-y-2",children:y.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500",children:'No specializations found. Click "Add Specialization" to create one.'}):y.map(w=>a.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:w.name}),a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${w.type==="SPECIALIST"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:w.type}),!w.isActive&&a.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded bg-gray-100 text-gray-600",children:"Inactive"})]}),w.description&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:w.description}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Order: ",w.displayOrder]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>x(w),className:"p-2 text-secondary-600 hover:bg-secondary-50 rounded",title:"Edit",children:a.jsx(Fn,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>N(w.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Delete",children:a.jsx(zr,{className:"h-4 w-4"})})]})]},w.id))}),r&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:i?"Edit Specialization":"Add Specialization"}),a.jsx("button",{onClick:()=>{n(!1),s(null)},className:"text-gray-400 hover:text-gray-600",children:a.jsx(Dt,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),a.jsx("input",{type:"text",value:o.name,onChange:w=>l({...o,name:w.target.value}),className:"input-field",placeholder:"e.g., Physiotherapy",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type *"}),a.jsxs("select",{value:o.type,onChange:w=>l({...o,type:w.target.value}),className:"input-field",required:!0,children:[a.jsx("option",{value:"SPECIALIST",children:"Specialist"}),a.jsx("option",{value:"THERAPIST",children:"Therapist"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{value:o.description,onChange:w=>l({...o,description:w.target.value}),className:"input-field",rows:3,placeholder:"Optional description"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Order"}),a.jsx("input",{type:"number",value:o.displayOrder,onChange:w=>l({...o,displayOrder:Number(w.target.value)}),className:"input-field",min:"0"})]}),a.jsx("div",{className:"flex items-center pt-6",children:a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:o.isActive,onChange:w=>l({...o,isActive:w.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Active"})]})})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx("button",{onClick:()=>{n(!1),s(null)},className:"btn-outline",children:"Cancel"}),a.jsx("button",{onClick:b,className:"btn-primary",disabled:!o.name||m.loading||h.loading,children:m.loading||h.loading?a.jsxs(a.Fragment,{children:[a.jsx(Ir,{className:"h-4 w-4 mr-2 inline animate-spin"}),"Saving..."]}):"Save"})]})]})]})})]})}const v0={patientId:"",patientName:"",patientPhone:"",type:"appointment",title:"",message:"",scheduledTime:new Date().toISOString().slice(0,16),method:"sms",priority:"medium",maxAttempts:3};function u1e(){const[e,t]=L.useState("reminders"),[r,n]=L.useState("all"),[i,s]=L.useState("all"),[o,l]=L.useState(""),[c,u]=L.useState(!1),[d,f]=L.useState(v0),[m,h]=L.useState([]),[p,y]=L.useState(!1),{addNotification:v}=Mr(),{data:x,loading:b,error:N,refetch:w}=it(()=>yl.getReminders({limit:200}),[]),{data:S,loading:E,error:C,refetch:k}=it(()=>So.getReminderSettings(),[]),P=ot(yl.sendReminder.bind(yl)),D=ot(yl.cancelReminder.bind(yl)),A=ot(yl.createReminder.bind(yl)),I=ot(So.updateReminderSettings.bind(So)),$=L.useMemo(()=>(x==null?void 0:x.reminders)??[],[x]),_=S;L.useEffect(()=>{c&&(async()=>{y(!0);try{const{patients:Q}=await Mn.getPatients({limit:200,status:"active"});h(Q)}catch(Q){console.error("Failed to load patients",Q)}finally{y(!1)}})()},[c]);const M=X=>{switch(X){case"sent":case"delivered":return a.jsx($n,{className:"h-4 w-4 text-green-500"});case"failed":return a.jsx(Gl,{className:"h-4 w-4 text-red-500"});case"pending":return a.jsx(nr,{className:"h-4 w-4 text-yellow-500"});default:return a.jsx(zo,{className:"h-4 w-4 text-gray-500"})}},z=X=>{switch(X){case"sent":case"delivered":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},Z=X=>{switch(X){case"urgent":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},R=X=>{switch(X){case"sms":return a.jsx(cw,{className:"h-4 w-4"});case"call":return a.jsx(fs,{className:"h-4 w-4"});case"both":return a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(cw,{className:"h-3 w-3"}),a.jsx(fs,{className:"h-3 w-3"})]});default:return a.jsx(Ao,{className:"h-4 w-4"})}},U=X=>new Date(X).toLocaleString(),re=$.filter(X=>{const Q=r==="all"||X.status===r,ne=i==="all"||X.type===i,pe=X.patientName.toLowerCase().includes(o.toLowerCase())||X.title.toLowerCase().includes(o.toLowerCase());return Q&&ne&&pe}),de=async X=>{try{await P.mutate(X.id),v({title:"Reminder Sent",message:`Reminder "${X.title}" has been queued again.`,type:"success",userId:"system",priority:"medium",category:"general"}),await w()}catch(Q){v({title:"Unable to send reminder",message:(Q==null?void 0:Q.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"})}},B=async X=>{if(window.confirm(`Cancel reminder "${X.title}" for ${X.patientName}?`))try{await D.mutate(X.id),v({title:"Reminder Cancelled",message:`${X.title} has been cancelled.`,type:"info",userId:"system",priority:"medium",category:"general"}),await w()}catch(Q){v({title:"Unable to cancel reminder",message:(Q==null?void 0:Q.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"})}},G=async X=>{X.preventDefault();try{const Q={...d,scheduledTime:new Date(d.scheduledTime).toISOString()};await A.mutate(Q),v({title:"Reminder Scheduled",message:`Reminder "${Q.title}" has been created successfully.`,type:"success",userId:"system",priority:"medium",category:"general"}),u(!1),f(v0),await w()}catch(Q){v({title:"Unable to create reminder",message:(Q==null?void 0:Q.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"})}},te=async(X,Q)=>{if(!(!_||!_[X]))try{await I.mutate({[X]:{..._[X],enabled:Q}}),await k(),v({title:"Reminder settings updated",message:"Changes saved successfully.",type:"success",userId:"system",priority:"medium",category:"system"})}catch(ne){v({title:"Unable to update settings",message:(ne==null?void 0:ne.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"})}},ue=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search reminders...",value:o,onChange:X=>l(X.target.value),className:"input-field pl-10"})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("select",{value:r,onChange:X=>n(X.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"sent",children:"Sent"}),a.jsx("option",{value:"delivered",children:"Delivered"}),a.jsx("option",{value:"failed",children:"Failed"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]}),a.jsxs("select",{value:i,onChange:X=>s(X.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Types"}),a.jsx("option",{value:"appointment",children:"Appointment"}),a.jsx("option",{value:"medication",children:"Medication"}),a.jsx("option",{value:"health-check",children:"Health Check"}),a.jsx("option",{value:"follow-up",children:"Follow-up"})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{className:"btn-primary flex items-center",onClick:()=>u(!0),children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"New Reminder"]})}),b&&a.jsx("div",{className:"card text-sm text-gray-500",children:"Loading reminders..."}),N&&a.jsx("div",{className:"card text-sm text-red-500",children:"Unable to load reminders. Please try again later."}),!b&&!N&&re.length===0&&a.jsx("div",{className:"card text-center py-12 text-sm text-gray-500",children:"No reminders match your filters."}),a.jsx("div",{className:"space-y-4",children:re.map(X=>a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[M(X.status),a.jsx("h3",{className:"font-semibold text-lg",children:X.title}),a.jsx("span",{className:`status-badge ${z(X.status)}`,children:X.status}),a.jsx("span",{className:`status-badge ${Z(X.priority)}`,children:X.priority})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(Kr,{className:"h-4 w-4"}),a.jsx("span",{children:X.patientName})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(fs,{className:"h-4 w-4"}),a.jsx("span",{children:X.patientPhone})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(Mt,{className:"h-4 w-4"}),a.jsx("span",{children:U(X.scheduledTime)})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[R(X.method),a.jsx("span",{className:"capitalize",children:X.method})]})]}),a.jsx("p",{className:"text-gray-700 mb-3",children:X.message}),X.response&&a.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mb-3",children:a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"Response:"})," ",X.response]})}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[a.jsxs("span",{children:["Attempts: ",X.attempts,"/",X.maxAttempts]}),X.lastAttempt&&a.jsxs("span",{children:["Last attempt: ",U(X.lastAttempt)]})]})]}),a.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[X.status==="failed"&&a.jsx("button",{onClick:()=>de(X),className:"btn-primary text-sm",children:"Resend"}),X.status==="pending"&&a.jsx("button",{onClick:()=>B(X),className:"btn-outline text-sm text-red-600 hover:text-red-800",children:"Cancel"})]})]})},X.id))})]}),q=()=>{var X,Q,ne,pe,ie,W,fe,Ae,Y,Te,qe,be,je;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Reminder Settings"}),a.jsxs("button",{className:"btn-primary",disabled:!0,children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Add Settings"]})]}),C&&a.jsx("div",{className:"card text-sm text-red-500",children:"Unable to load reminder settings. Please try again later."}),E&&a.jsx("div",{className:"card text-sm text-gray-500",children:"Loading reminder settings..."}),!E&&!C&&_&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Appointment Reminders"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Enabled"}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:((X=_.appointmentReminders)==null?void 0:X.enabled)??!1,onChange:Me=>te("appointmentReminders",Me.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Advance Time"}),a.jsxs("span",{className:"text-sm font-medium",children:[((Q=_.appointmentReminders)==null?void 0:Q.advanceTime)??0," minutes"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Phone Number"}),a.jsx("span",{className:"text-sm font-medium",children:((ne=_.appointmentReminders)==null?void 0:ne.phoneNumber)??"N/A"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Methods"}),a.jsx("div",{className:"flex gap-1",children:(((pe=_.appointmentReminders)==null?void 0:pe.methods)??[]).map(Me=>a.jsx("span",{className:"status-badge bg-blue-100 text-blue-800 text-xs",children:Me.toUpperCase()},Me))})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Medication Reminders"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Enabled"}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:((ie=_.medicationReminders)==null?void 0:ie.enabled)??!1,onChange:Me=>te("medicationReminders",Me.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Advance Time"}),a.jsxs("span",{className:"text-sm font-medium",children:[((W=_.medicationReminders)==null?void 0:W.advanceTime)??0," minutes"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Phone Number"}),a.jsx("span",{className:"text-sm font-medium",children:((fe=_.medicationReminders)==null?void 0:fe.phoneNumber)??"N/A"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Methods"}),a.jsx("div",{className:"flex gap-1",children:(((Ae=_.medicationReminders)==null?void 0:Ae.methods)??[]).map(Me=>a.jsx("span",{className:"status-badge bg-green-100 text-green-800 text-xs",children:Me.toUpperCase()},Me))})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Health Check Reminders"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Enabled"}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:((Y=_.healthCheckReminders)==null?void 0:Y.enabled)??!1,onChange:Me=>te("healthCheckReminders",Me.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Frequency"}),a.jsx("span",{className:"text-sm font-medium capitalize",children:((Te=_.healthCheckReminders)==null?void 0:Te.frequency)??"N/A"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Time"}),a.jsx("span",{className:"text-sm font-medium",children:((qe=_.healthCheckReminders)==null?void 0:qe.time)??"N/A"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Methods"}),a.jsx("div",{className:"flex gap-1",children:(((be=_.healthCheckReminders)==null?void 0:be.methods)??[]).map(Me=>a.jsx("span",{className:"status-badge bg-purple-100 text-purple-800 text-xs",children:Me.toUpperCase()},Me))})]})]})]}),(je=_.emergencyContacts)!=null&&je.length?a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Emergency Contacts"}),a.jsx("div",{className:"space-y-2",children:_.emergencyContacts.map((Me,Ue)=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-sm",children:Me.name}),a.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",Me.relationship,")"]})]}),a.jsx("span",{className:"text-sm font-medium",children:Me.phone})]},Ue))})]}):null]})]})};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Phone Reminders"}),a.jsx("p",{className:"text-gray-600",children:"Manage appointment and medication reminders via phone calls and SMS"})]}),a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsxs("button",{onClick:()=>t("reminders"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="reminders"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Reminders (",$.length,")"]}),a.jsx("button",{onClick:()=>t("settings"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="settings"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Settings"})]})}),e==="reminders"?ue():q(),c&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Create Reminder"}),a.jsx("button",{onClick:()=>{u(!1),f(v0)},className:"text-gray-400 hover:text-gray-600",children:a.jsx(Gl,{className:"h-5 w-5"})})]}),a.jsxs("form",{onSubmit:G,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Patient"}),p?a.jsx("div",{className:"input-field text-gray-500",children:"Loading patients..."}):a.jsxs("select",{value:d.patientId,onChange:X=>{const Q=m.find(ne=>ne.id===X.target.value);f(ne=>({...ne,patientId:X.target.value,patientName:(Q==null?void 0:Q.name)||"",patientPhone:(Q==null?void 0:Q.phone)||""}))},className:"input-field",required:!0,children:[a.jsx("option",{value:"",children:"Select a patient"}),m.map(X=>a.jsxs("option",{value:X.id,children:[X.name," ",X.email?`(${X.email})`:""]},X.id))]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Phone"}),a.jsx("input",{type:"tel",value:d.patientPhone,onChange:X=>f(Q=>({...Q,patientPhone:X.target.value})),className:"input-field",placeholder:"Auto-filled from patient selection"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Type"}),a.jsxs("select",{value:d.type,onChange:X=>f(Q=>({...Q,type:X.target.value})),className:"input-field",required:!0,children:[a.jsx("option",{value:"appointment",children:"Appointment"}),a.jsx("option",{value:"medication",children:"Medication"}),a.jsx("option",{value:"health-check",children:"Health Check"}),a.jsx("option",{value:"follow-up",children:"Follow-up"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Title"}),a.jsx("input",{type:"text",value:d.title,onChange:X=>f(Q=>({...Q,title:X.target.value})),className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Message"}),a.jsx("textarea",{value:d.message,onChange:X=>f(Q=>({...Q,message:X.target.value})),className:"input-field",rows:4,required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Scheduled Time"}),a.jsx("input",{type:"datetime-local",value:d.scheduledTime,onChange:X=>f(Q=>({...Q,scheduledTime:X.target.value})),className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Method"}),a.jsxs("select",{value:d.method,onChange:X=>f(Q=>({...Q,method:X.target.value})),className:"input-field",required:!0,children:[a.jsx("option",{value:"sms",children:"SMS"}),a.jsx("option",{value:"call",children:"Call"}),a.jsx("option",{value:"both",children:"Both"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Priority"}),a.jsxs("select",{value:d.priority,onChange:X=>f(Q=>({...Q,priority:X.target.value})),className:"input-field",required:!0,children:[a.jsx("option",{value:"urgent",children:"Urgent"}),a.jsx("option",{value:"high",children:"High"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"low",children:"Low"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Max Attempts"}),a.jsx("input",{type:"number",min:1,max:5,value:d.maxAttempts??3,onChange:X=>f(Q=>({...Q,maxAttempts:Number(X.target.value)})),className:"input-field"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",className:"btn-outline",onClick:()=>{u(!1),f(v0)},children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:A.loading,children:A.loading?"Creating...":"Create Reminder"})]})]})]})})]})}const d1e={PENDING:"pending",COLLECTED:"collected",IN_TRANSIT:"in-transit",RECEIVED:"received",PROCESSING:"processing",COMPLETED:"completed",CANCELLED:"cancelled"},f1e={ROUTINE:"routine",URGENT:"urgent",STAT:"stat"},h1e={BLOOD:"blood",URINE:"urine",STOOL:"stool",SPUTUM:"sputum",TISSUE:"tissue",SWAB:"swab",OTHER:"other"},m1e={NORMAL:"normal",ABNORMAL:"abnormal",CRITICAL:"critical",PENDING:"pending"};function I7(e){var t;return{...e,status:m1e[(t=e.status)==null?void 0:t.toUpperCase()]??"pending",reportedDate:e.reportedDate?new Date(e.reportedDate).toISOString():e.reportedDate,verifiedDate:e.verifiedDate?new Date(e.verifiedDate).toISOString():e.verifiedDate}}function a2(e){var t,r,n,i;return{...e,patientName:e.patientName??((t=e.patient)==null?void 0:t.name)??"Unknown Patient",sampleType:h1e[(r=e.sampleType)==null?void 0:r.toUpperCase()]??"other",status:d1e[(n=e.status)==null?void 0:n.toUpperCase()]??"pending",priority:f1e[(i=e.priority)==null?void 0:i.toUpperCase()]??"routine",results:e.results?e.results.map(I7):[],collectionDate:e.collectionDate?new Date(e.collectionDate).toISOString():e.collectionDate,createdAt:e.createdAt?new Date(e.createdAt).toISOString():e.createdAt,updatedAt:e.updatedAt?new Date(e.updatedAt).toISOString():e.updatedAt}}class p1e{async getLabSamples(t){const r=await me.get(xe.LAB.SAMPLES,{params:t});return Array.isArray(r.data)?r.data.map(a2):[]}async getLabResults(t){const r=await me.get(xe.LAB.RESULTS,{params:t});return Array.isArray(r.data)?r.data.map(I7):[]}async collectSample(t){var n;const r=await me.post(xe.LAB.COLLECT,t);return a2(((n=r.data)==null?void 0:n.data)||r.data)}async updateLabSample(t,r){var i;const n=await me.put(xe.LAB.SAMPLE_BY_ID(t),r);return a2(((i=n.data)==null?void 0:i.data)||n.data)}async deleteLabSample(t){await me.delete(xe.LAB.SAMPLE_BY_ID(t))}}const i2=new p1e,g1e={DOCTOR:"doctor",NURSE:"nurse",SPECIALIST:"specialist"},x1e={SPECIALIST:"specialist",LAB:"lab",IMAGING:"imaging",THERAPY:"therapy",OTHER:"other"},y1e={CONSULTATION:"consultation",LAB_WORK:"lab-work",IMAGING:"imaging",THERAPY:"therapy",SURGERY:"surgery",FOLLOW_UP:"follow-up"},v1e={ROUTINE:"routine",URGENT:"urgent",EMERGENCY:"emergency"},b1e={PENDING:"pending",SENT:"sent",ACCEPTED:"accepted",SCHEDULED:"scheduled",COMPLETED:"completed",CANCELLED:"cancelled",DECLINED:"declined"};function Qu(e){var t,r,n,i,s,o;return{...e,patientName:e.patientName??((t=e.patient)==null?void 0:t.name)??"Unknown Patient",referredByRole:g1e[(r=e.referredByRole)==null?void 0:r.toUpperCase()]??"doctor",referredToRole:x1e[(n=e.referredToRole)==null?void 0:n.toUpperCase()]??"other",referralType:y1e[(i=e.referralType)==null?void 0:i.toUpperCase()]??"consultation",urgency:v1e[(s=e.urgency)==null?void 0:s.toUpperCase()]??"routine",status:b1e[(o=e.status)==null?void 0:o.toUpperCase()]??"pending",referralDate:e.referralDate?new Date(e.referralDate).toISOString():e.referralDate,appointmentDate:e.appointmentDate?new Date(e.appointmentDate).toISOString():e.appointmentDate,followUpDate:e.followUpDate?new Date(e.followUpDate).toISOString():e.followUpDate,createdAt:e.createdAt?new Date(e.createdAt).toISOString():e.createdAt,updatedAt:e.updatedAt?new Date(e.updatedAt).toISOString():e.updatedAt}}class w1e{async getReferrals(t){const r=await me.get(xe.REFERRALS.BASE,{params:t});return Array.isArray(r.data)?r.data.map(Qu):[]}async getReferralsByPatient(t){const r=await me.get(xe.REFERRALS.BY_PATIENT(t));return Array.isArray(r.data)?r.data.map(Qu):[]}async sendReferral(t){var n;const r=await me.post(xe.REFERRALS.SEND,t);return Qu(((n=r.data)==null?void 0:n.data)||r.data)}async updateReferral(t,r){var i;const n=await me.put(xe.REFERRALS.BY_ID(t),r);return Qu(((i=n.data)==null?void 0:i.data)||n.data)}async acceptReferral(t){var n;const r=await me.patch(xe.REFERRALS.ACCEPT(t));return Qu(((n=r.data)==null?void 0:n.data)||r.data)}async declineReferral(t){var n;const r=await me.patch(xe.REFERRALS.DECLINE(t));return Qu(((n=r.data)==null?void 0:n.data)||r.data)}async deleteReferral(t){await me.delete(xe.REFERRALS.BY_ID(t))}}const Bh=new w1e;function N1e({isOpen:e,onClose:t,record:r}){if(!e||!r)return null;const n=s=>s?new Date(s).toLocaleString():"",i=(s,o)=>{if(o==null||o==="")return null;let l;if(s==="bloodPressure"&&typeof o=="object"&&!Array.isArray(o)){const u=o;u.systolic!==void 0&&u.diastolic!==void 0?l=`${u.systolic}/${u.diastolic} mmHg`:u.systolic!==void 0?l=`Systolic: ${u.systolic} mmHg`:u.diastolic!==void 0?l=`Diastolic: ${u.diastolic} mmHg`:l=JSON.stringify(o,null,2)}else typeof o=="object"&&!Array.isArray(o)?l=JSON.stringify(o,null,2):Array.isArray(o)?l=o.join(", "):typeof o=="boolean"?l=o?"Yes":"No":l=String(o);const c=s.replace(/([A-Z])/g," $1").replace(/^./,u=>u.toUpperCase()).trim();return a.jsxs("div",{className:"flex flex-col gap-1 border-b border-gray-100 py-2 last:border-0",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600",children:c}),a.jsx("span",{className:"text-sm text-gray-900",children:l})]},s)};return a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),a.jsxs("div",{className:"relative w-full max-w-3xl rounded-lg bg-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Health Record Details"}),a.jsx("button",{onClick:t,className:"rounded-lg p-1 text-gray-400 hover:bg-gray-100 hover:text-gray-600",children:a.jsx(Dt,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"max-h-[calc(100vh-200px)] overflow-y-auto px-6 py-4",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Kr,{className:"h-5 w-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Patient"}),a.jsx("p",{className:"font-medium text-gray-900",children:r.patientName})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Mt,{className:"h-5 w-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Date & Time"}),a.jsx("p",{className:"font-medium text-gray-900",children:n(r.timestamp)})]})]}),r.location&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(su,{className:"h-5 w-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Location"}),a.jsx("p",{className:"font-medium text-gray-900",children:r.location})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[r.verified?a.jsx($n,{className:"h-5 w-5 text-green-500"}):a.jsx(nr,{className:"h-5 w-5 text-yellow-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),a.jsx("p",{className:"font-medium text-gray-900",children:r.verified?"Verified":"Pending Verification"})]})]})]}),a.jsx("div",{className:"rounded-lg bg-gray-50 p-4",children:a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Record Type"}),a.jsx("p",{className:"mt-1 font-medium text-gray-900 capitalize",children:r.recordType})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Updated By"}),a.jsxs("p",{className:"mt-1 font-medium text-gray-900",children:[r.updatedByName," (",r.updatedByRole,")"]})]}),r.verified&&r.verifiedAt&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Verified At"}),a.jsx("p",{className:"mt-1 font-medium text-gray-900",children:n(r.verifiedAt)})]})]})}),a.jsxs("div",{className:"rounded-lg border border-gray-200 p-4",children:[a.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[a.jsx(Aa,{className:"h-5 w-5 text-gray-400"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Record Data"})]}),a.jsx("div",{className:"space-y-2",children:Object.entries(r.data||{}).map(([s,o])=>i(s,o))})]}),r.notes&&a.jsxs("div",{className:"rounded-lg bg-blue-50 p-4",children:[a.jsx("h3",{className:"mb-2 text-sm font-medium text-blue-900",children:"Notes"}),a.jsx("p",{className:"text-sm text-blue-800",children:r.notes})]})]})}),a.jsx("div",{className:"flex justify-end gap-3 border-t border-gray-200 px-6 py-4",children:a.jsx("button",{onClick:t,className:"btn-outline",children:"Close"})})]})]})})}const DT={vital:"Vital",medication:"Medication",symptom:"Symptom",note:"Note",assessment:"Assessment",treatment:"Treatment"},j1e={vital:"bg-green-100 text-green-800",medication:"bg-blue-100 text-blue-800",symptom:"bg-yellow-100 text-yellow-800",note:"bg-gray-100 text-gray-800",assessment:"bg-purple-100 text-purple-800",treatment:"bg-red-100 text-red-800"};function S1e(){const[e,t]=L.useState("records"),[r,n]=L.useState([]),[i,s]=L.useState(!1),[o,l]=L.useState(null),[c,u]=L.useState([]),[d,f]=L.useState(!1),[m,h]=L.useState(null),[p,y]=L.useState([]),[v,x]=L.useState(!1),[b,N]=L.useState(null),[w,S]=L.useState(!1),[E,C]=L.useState(null),[k,P]=L.useState(null),[D,A]=L.useState(!1),[I,$]=L.useState(!1),[_,M]=L.useState([]),[z,Z]=L.useState(!1),[R,U]=L.useState("all"),[re,de]=L.useState("all"),[B,G]=L.useState("all"),[te,ue]=L.useState(""),{addNotification:q}=Mr(),{user:X}=fr(),Q=(X==null?void 0:X.role)==="admin",ne=async()=>{s(!0),l(null);try{const{records:ye}=await di.getHealthRecords({limit:50});n(ye)}catch(ye){console.error("Failed to load health records",ye),l((ye==null?void 0:ye.message)??"Unable to load health records.")}finally{s(!1)}},pe=async()=>{f(!0),h(null);try{const ye=await i2.getLabSamples({limit:20});u(ye)}catch(ye){console.error("Failed to load lab samples",ye),h((ye==null?void 0:ye.message)??"Unable to load lab samples.")}finally{f(!1)}},ie=async()=>{x(!0),N(null);try{const ye=await Bh.getReferrals({limit:20});y(ye)}catch(ye){console.error("Failed to load referrals",ye),N((ye==null?void 0:ye.message)??"Unable to load referrals.")}finally{x(!1)}};L.useEffect(()=>{ne(),pe(),ie()},[]),L.useEffect(()=>{(D||I)&&(async()=>{Z(!0);try{const{patients:Be}=await Mn.getPatients({limit:200,status:"active"});M(Be)}catch(Be){console.error("Failed to load patients",Be)}finally{Z(!1)}})()},[D,I]);const W=L.useMemo(()=>r.filter(ye=>{var Ft,At;const Be=R==="all"||ye.recordType===R,Je=re==="all"||ye.updatedByRole===re,Fe=B==="all"||B==="verified"&&ye.verified||B==="unverified"&&!ye.verified,Pt=((Ft=ye.patientName)==null?void 0:Ft.toLowerCase().includes(te.toLowerCase()))||((At=ye.updatedByName)==null?void 0:At.toLowerCase().includes(te.toLowerCase()));return Be&&Je&&Fe&&Pt}),[r,R,re,B,te]),fe=async ye=>{try{const{recordId:Be,...Je}=ye;await di.createHealthRecord(Je),q({title:"Health record added",message:"A new health record has been added successfully.",type:"success",priority:"medium",userId:"system",category:"system"}),await ne()}catch(Be){throw q({title:"Unable to add record",message:Be instanceof Error?Be.message:"Please try again later.",type:"error",priority:"high",userId:"system",category:"system"}),Be}},Ae=async ye=>{if(ye.recordId)try{await di.updateHealthRecord(ye.recordId,{recordType:ye.recordType,data:ye.data,location:ye.location,notes:ye.notes}),q({title:"Health record updated",message:"The health record has been updated.",type:"success",priority:"medium",userId:"system",category:"system"}),await ne()}catch(Be){throw q({title:"Unable to update record",message:Be instanceof Error?Be.message:"Please try again later.",type:"error",priority:"high",userId:"system",category:"system"}),Be}},Y=async ye=>{if(window.confirm("Delete this health record?"))try{await di.deleteHealthRecord(ye.id),q({title:"Health record removed",message:"The health record has been deleted.",type:"info",priority:"medium",userId:"system",category:"system"}),await ne()}catch(Be){q({title:"Unable to delete record",message:Be instanceof Error?Be.message:"Please try again later.",type:"error",priority:"high",userId:"system",category:"system"})}},Te=async ye=>{const Be={verified:!0};try{await di.verifyRecord(ye.id,Be),q({title:"Health record verified",message:"The record has been marked as verified.",type:"success",priority:"medium",userId:"system",category:"system"}),await ne()}catch(Je){q({title:"Unable to verify record",message:Je instanceof Error?Je.message:"Please try again later.",type:"error",priority:"high",userId:"system",category:"system"})}},qe=async ye=>{var Be,Je;try{await i2.collectSample(ye),Ce.success("Lab sample collected successfully"),q({title:"Lab sample collected",message:"The lab sample has been recorded successfully.",type:"success",priority:"medium",userId:"system",category:"system"}),await pe(),A(!1)}catch(Fe){const Pt=((Je=(Be=Fe==null?void 0:Fe.response)==null?void 0:Be.data)==null?void 0:Je.message)||(Fe==null?void 0:Fe.message)||"Failed to collect lab sample";throw Ce.error(Pt),q({title:"Unable to collect lab sample",message:Pt,type:"error",priority:"high",userId:"system",category:"system"}),Fe}},be=async ye=>{var Be,Je;try{await Bh.sendReferral(ye),Ce.success("Referral sent successfully"),q({title:"Referral sent",message:"The referral has been sent successfully.",type:"success",priority:"medium",userId:"system",category:"system"}),await ie(),$(!1)}catch(Fe){const Pt=((Je=(Be=Fe==null?void 0:Fe.response)==null?void 0:Be.data)==null?void 0:Je.message)||(Fe==null?void 0:Fe.message)||"Failed to send referral";throw Ce.error(Pt),q({title:"Unable to send referral",message:Pt,type:"error",priority:"high",userId:"system",category:"system"}),Fe}},je=ye=>{alert(`Lab Sample Details:

Patient: ${ye.patientName}
Test: ${ye.testName} (${ye.testCode})
Type: ${ye.sampleType}
Status: ${ye.status}
Priority: ${ye.priority}
Collection Date: ${new Date(ye.collectionDate).toLocaleDateString()} ${ye.collectionTime}
Location: ${ye.collectionLocation||"N/A"}`)},Me=ye=>{alert("Edit functionality will be implemented with a modal")},Ue=async ye=>{var Be,Je;if(window.confirm("Delete this lab sample?"))try{await i2.deleteLabSample(ye.id),Ce.success("Lab sample deleted successfully"),q({title:"Lab sample deleted",message:"The lab sample has been deleted.",type:"info",priority:"medium",userId:"system",category:"system"}),await pe()}catch(Fe){const Pt=((Je=(Be=Fe==null?void 0:Fe.response)==null?void 0:Be.data)==null?void 0:Je.message)||(Fe==null?void 0:Fe.message)||"Failed to delete lab sample";Ce.error(Pt),q({title:"Unable to delete lab sample",message:Pt,type:"error",priority:"high",userId:"system",category:"system"})}},Ge=ye=>{alert(`Referral Details:

Patient: ${ye.patientName}
Type: ${ye.referralType}
Referred By: ${ye.referredByName} (${ye.referredByRole})
Referred To: ${ye.referredToName} (${ye.referredToRole})
Reason: ${ye.reason}
Status: ${ye.status}
Urgency: ${ye.urgency}`)},We=ye=>{alert("Edit functionality will be implemented with a modal")},_t=async ye=>{var Be,Je;try{await Bh.acceptReferral(ye.id),Ce.success("Referral accepted successfully"),q({title:"Referral accepted",message:"The referral has been accepted.",type:"success",priority:"medium",userId:"system",category:"system"}),await ie()}catch(Fe){const Pt=((Je=(Be=Fe==null?void 0:Fe.response)==null?void 0:Be.data)==null?void 0:Je.message)||(Fe==null?void 0:Fe.message)||"Failed to accept referral";Ce.error(Pt),q({title:"Unable to accept referral",message:Pt,type:"error",priority:"high",userId:"system",category:"system"})}},pt=async ye=>{var Be,Je;if(window.confirm("Decline this referral?"))try{await Bh.declineReferral(ye.id),Ce.success("Referral declined successfully"),q({title:"Referral declined",message:"The referral has been declined.",type:"info",priority:"medium",userId:"system",category:"system"}),await ie()}catch(Fe){const Pt=((Je=(Be=Fe==null?void 0:Fe.response)==null?void 0:Be.data)==null?void 0:Je.message)||(Fe==null?void 0:Fe.message)||"Failed to decline referral";Ce.error(Pt),q({title:"Unable to decline referral",message:Pt,type:"error",priority:"high",userId:"system",category:"system"})}},vt=async ye=>{var Be,Je;if(window.confirm("Delete this referral?"))try{await Bh.deleteReferral(ye.id),Ce.success("Referral deleted successfully"),q({title:"Referral deleted",message:"The referral has been deleted.",type:"info",priority:"medium",userId:"system",category:"system"}),await ie()}catch(Fe){const Pt=((Je=(Be=Fe==null?void 0:Fe.response)==null?void 0:Be.data)==null?void 0:Je.message)||(Fe==null?void 0:Fe.message)||"Failed to delete referral";Ce.error(Pt),q({title:"Unable to delete referral",message:Pt,type:"error",priority:"high",userId:"system",category:"system"})}},$t=ye=>{switch(ye){case"patient":return a.jsx(Kr,{className:"h-4 w-4 text-blue-500"});case"nurse":return a.jsx(Vd,{className:"h-4 w-4 text-green-500"});case"doctor":return a.jsx(Yc,{className:"h-4 w-4 text-red-500"});case"caregiver":return a.jsx(Kr,{className:"h-4 w-4 text-purple-500"});case"specialist":return a.jsx(Mi,{className:"h-4 w-4 text-orange-500"});default:return a.jsx(Kr,{className:"h-4 w-4 text-gray-500"})}};return a.jsxs("div",{className:"space-y-6 p-6",children:[a.jsxs("header",{className:"flex flex-col gap-3 border-b border-gray-200 pb-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Clinical Documentation"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Comprehensive patient health records, assessments, lab samples, and clinical referrals."})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{className:"btn-outline text-sm",onClick:ne,disabled:i,children:"Refresh"}),e==="records"&&a.jsxs("button",{className:"btn-primary flex items-center",onClick:()=>S(!0),children:[a.jsx(zt,{className:"mr-2 h-4 w-4"}),"Add record"]})]})]}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:[a.jsxs("button",{onClick:()=>t("records"),className:`whitespace-nowrap border-b-2 px-1 py-2 text-sm font-medium ${e==="records"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,children:["Health records (",r.length,")"]}),a.jsxs("button",{onClick:()=>t("labs"),className:`whitespace-nowrap border-b-2 px-1 py-2 text-sm font-medium ${e==="labs"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,children:["Lab samples (",c.length,")"]}),a.jsxs("button",{onClick:()=>t("referrals"),className:`whitespace-nowrap border-b-2 px-1 py-2 text-sm font-medium ${e==="referrals"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,children:["Referrals (",p.length,")"]})]})}),e==="records"&&a.jsxs("section",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"relative",children:[a.jsx(Br,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",value:te,onChange:ye=>ue(ye.target.value),placeholder:"Search by patient or author...",className:"input-field pl-10"})]})}),a.jsxs("select",{className:"input-field",value:R,onChange:ye=>U(ye.target.value),children:[a.jsx("option",{value:"all",children:"All record types"}),Object.entries(DT).map(([ye,Be])=>a.jsx("option",{value:ye,children:Be},ye))]}),a.jsxs("select",{className:"input-field",value:B,onChange:ye=>G(ye.target.value),children:[a.jsx("option",{value:"all",children:"All statuses"}),a.jsx("option",{value:"verified",children:"Verified"}),a.jsx("option",{value:"unverified",children:"Unverified"})]})]}),i?a.jsx("div",{className:"rounded-lg border border-dashed border-gray-200 p-10 text-center text-sm text-gray-500",children:"Loading health records..."}):o?a.jsx("div",{className:"rounded-lg border border-dashed border-red-200 bg-red-50 p-10 text-center text-sm text-red-600",children:o}):W.length===0?a.jsx("div",{className:"rounded-lg border border-dashed border-gray-200 p-10 text-center text-sm text-gray-500",children:"No records match your filters."}):a.jsx("div",{className:"card",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Patient"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Record Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Updated By"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Date & Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Location"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:W.map(ye=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Kr,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm font-medium text-gray-900",children:ye.patientName})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`status-badge ${j1e[ye.recordType]??"bg-gray-100 text-gray-800"}`,children:DT[ye.recordType]??ye.recordType})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[$t(ye.updatedByRole),a.jsxs("div",{className:"ml-2",children:[a.jsx("div",{className:"text-sm text-gray-900",children:ye.updatedByName}),a.jsx("div",{className:"text-xs text-gray-500 capitalize",children:ye.updatedByRole})]})]})}),a.jsxs("td",{className:"whitespace-nowrap px-6 py-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mt,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm text-gray-900",children:new Date(ye.timestamp).toLocaleDateString()})]}),a.jsx("div",{className:"text-xs text-gray-500",children:new Date(ye.timestamp).toLocaleTimeString()})]}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:ye.location?a.jsxs("div",{className:"flex items-center",children:[a.jsx(su,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm text-gray-900",children:ye.location})]}):a.jsx("span",{className:"text-sm text-gray-400",children:""})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:ye.verified?a.jsxs("span",{className:"inline-flex items-center rounded-full bg-green-100 px-2 py-1 text-xs font-medium text-green-700",children:[a.jsx($n,{className:"mr-1 h-3 w-3"}),"Verified"]}):a.jsxs("span",{className:"inline-flex items-center rounded-full bg-yellow-100 px-2 py-1 text-xs font-medium text-yellow-700",children:[a.jsx(nr,{className:"mr-1 h-3 w-3"}),"Pending"]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:()=>P(ye),className:"text-primary-600 hover:text-primary-900",children:[a.jsx(Ln,{className:"mr-1 inline h-4 w-4"}),"View"]}),Q&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>C(ye),className:"text-secondary-600 hover:text-secondary-900",children:[a.jsx(Fn,{className:"mr-1 inline h-4 w-4"}),"Edit"]}),!ye.verified&&a.jsxs("button",{onClick:()=>Te(ye),className:"text-green-600 hover:text-green-900",children:[a.jsx($n,{className:"mr-1 inline h-4 w-4"}),"Verify"]}),a.jsxs("button",{onClick:()=>Y(ye),className:"text-red-600 hover:text-red-900",children:[a.jsx(zr,{className:"mr-1 inline h-4 w-4"}),"Delete"]})]})]})})]},ye.id))})]})})})]}),e==="labs"&&a.jsxs("section",{className:"space-y-4",children:[a.jsx("div",{className:"flex justify-end mb-4",children:a.jsxs("button",{onClick:()=>A(!0),className:"btn-primary flex items-center",children:[a.jsx(zt,{className:"mr-2 h-4 w-4"}),"Add Lab Sample"]})}),d?a.jsx("div",{className:"rounded-lg border border-dashed border-gray-200 p-10 text-center text-sm text-gray-500",children:"Loading lab samples..."}):m?a.jsx("div",{className:"rounded-lg border border-dashed border-red-200 bg-red-50 p-10 text-center text-sm text-red-600",children:m}):c.length===0?a.jsx("div",{className:"rounded-lg border border-dashed border-gray-200 p-10 text-center text-sm text-gray-500",children:"No lab samples available."}):a.jsx("div",{className:"card",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Patient"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Test Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Test Code"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Sample Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Collection Date & Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Location"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Priority"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:c.map(ye=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Kr,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm font-medium text-gray-900",children:ye.patientName})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ms,{className:"mr-2 h-4 w-4 text-blue-500"}),a.jsx("div",{className:"text-sm text-gray-900",children:ye.testName})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-900",children:ye.testCode}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:"status-badge bg-gray-100 text-gray-800 capitalize",children:ye.sampleType})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mt,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-900",children:new Date(ye.collectionDate).toLocaleDateString()}),a.jsx("div",{className:"text-xs text-gray-500",children:ye.collectionTime})]})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:ye.collectionLocation?a.jsxs("div",{className:"flex items-center",children:[a.jsx(su,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm text-gray-900",children:ye.collectionLocation})]}):a.jsx("span",{className:"text-sm text-gray-400",children:""})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`status-badge ${ye.priority==="urgent"?"bg-orange-100 text-orange-800":ye.priority==="stat"?"bg-red-100 text-red-800":"bg-purple-100 text-purple-800"} capitalize`,children:ye.priority})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${ye.status==="completed"?"bg-green-100 text-green-700":ye.status==="cancelled"?"bg-red-100 text-red-700":ye.status==="processing"||ye.status==="in-transit"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"} capitalize`,children:ye.status.replace("-"," ")})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:()=>je(ye),className:"text-primary-600 hover:text-primary-900",children:[a.jsx(Ln,{className:"mr-1 inline h-4 w-4"}),"View"]}),a.jsxs("button",{onClick:()=>Me(),className:"text-secondary-600 hover:text-secondary-900",children:[a.jsx(Fn,{className:"mr-1 inline h-4 w-4"}),"Edit"]}),a.jsxs("button",{onClick:()=>Ue(ye),className:"text-red-600 hover:text-red-900",children:[a.jsx(zr,{className:"mr-1 inline h-4 w-4"}),"Delete"]})]})})]},ye.id))})]})})})]}),e==="referrals"&&a.jsxs("section",{className:"space-y-4",children:[a.jsx("div",{className:"flex justify-end mb-4",children:a.jsxs("button",{onClick:()=>$(!0),className:"btn-primary flex items-center",children:[a.jsx(zt,{className:"mr-2 h-4 w-4"}),"Add Referral"]})}),v?a.jsx("div",{className:"rounded-lg border border-dashed border-gray-200 p-10 text-center text-sm text-gray-500",children:"Loading referrals..."}):b?a.jsx("div",{className:"rounded-lg border border-dashed border-red-200 bg-red-50 p-10 text-center text-sm text-red-600",children:b}):p.length===0?a.jsx("div",{className:"rounded-lg border border-dashed border-gray-200 p-10 text-center text-sm text-gray-500",children:"No referrals recorded."}):a.jsx("div",{className:"card",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Patient"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Referral Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Referred By"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Referred To"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Referral Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Urgency"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:p.map(ye=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Kr,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm font-medium text-gray-900",children:ye.patientName})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(MF,{className:"mr-2 h-4 w-4 text-green-500"}),a.jsx("span",{className:"text-sm text-gray-900 capitalize",children:ye.referralType.replace("-"," ")})]})}),a.jsxs("td",{className:"whitespace-nowrap px-6 py-4",children:[a.jsx("div",{className:"text-sm text-gray-900",children:ye.referredByName}),a.jsx("div",{className:"text-xs text-gray-500 capitalize",children:ye.referredByRole})]}),a.jsxs("td",{className:"whitespace-nowrap px-6 py-4",children:[a.jsx("div",{className:"text-sm text-gray-900",children:ye.referredToName}),a.jsx("div",{className:"text-xs text-gray-500 capitalize",children:ye.referredToRole})]}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:ye.referralDate?a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mt,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm text-gray-900",children:new Date(ye.referralDate).toLocaleDateString()})]}):a.jsx("span",{className:"text-sm text-gray-400",children:""})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`status-badge ${ye.urgency==="emergency"?"bg-red-100 text-red-800":ye.urgency==="urgent"?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"} capitalize`,children:ye.urgency})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${ye.status==="completed"?"bg-green-100 text-green-700":ye.status==="cancelled"||ye.status==="declined"?"bg-red-100 text-red-700":ye.status==="accepted"||ye.status==="scheduled"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"} capitalize`,children:ye.status.replace("-"," ")})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:()=>Ge(ye),className:"text-primary-600 hover:text-primary-900",children:[a.jsx(Ln,{className:"mr-1 inline h-4 w-4"}),"View"]}),a.jsxs("button",{onClick:()=>We(),className:"text-secondary-600 hover:text-secondary-900",children:[a.jsx(Fn,{className:"mr-1 inline h-4 w-4"}),"Edit"]}),ye.status==="pending"||ye.status==="sent"?a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>_t(ye),className:"text-green-600 hover:text-green-900",children:[a.jsx($n,{className:"mr-1 inline h-4 w-4"}),"Accept"]}),a.jsxs("button",{onClick:()=>pt(ye),className:"text-orange-600 hover:text-orange-900",children:[a.jsx(Dt,{className:"mr-1 inline h-4 w-4"}),"Decline"]})]}):null,a.jsxs("button",{onClick:()=>vt(ye),className:"text-red-600 hover:text-red-900",children:[a.jsx(zr,{className:"mr-1 inline h-4 w-4"}),"Delete"]})]})})]},ye.id))})]})})})]}),a.jsx(YN,{isOpen:w,onClose:()=>S(!1),onSave:fe,mode:"add"}),a.jsx(YN,{isOpen:!!E,onClose:()=>C(null),onSave:Ae,record:E??void 0,mode:"edit"}),a.jsx(N1e,{isOpen:!!k,onClose:()=>P(null),record:k}),D&&a.jsx(A1e,{isOpen:D,onClose:()=>A(!1),onSave:qe,patients:_,loadingPatients:z,currentUser:X}),I&&a.jsx(E1e,{isOpen:I,onClose:()=>$(!1),onSave:be,patients:_,loadingPatients:z,currentUser:X})]})}function A1e({isOpen:e,onClose:t,onSave:r,patients:n,loadingPatients:i,currentUser:s}){const[o,l]=L.useState({patientId:"",sampleType:"BLOOD",testName:"",testCode:"",collectionDate:new Date().toISOString().split("T")[0],collectionTime:new Date().toTimeString().slice(0,5),collectedBy:(s==null?void 0:s.id)||"",collectionLocation:"",priority:"ROUTINE",instructions:"",fastingRequired:!1,fastingHours:void 0,specialInstructions:"",labName:"",notes:""}),[c,u]=L.useState(!1),[d,f]=L.useState(null);if(L.useEffect(()=>{e||(l({patientId:"",sampleType:"BLOOD",testName:"",testCode:"",collectionDate:new Date().toISOString().split("T")[0],collectionTime:new Date().toTimeString().slice(0,5),collectedBy:(s==null?void 0:s.id)||"",collectionLocation:"",priority:"ROUTINE",instructions:"",fastingRequired:!1,fastingHours:void 0,specialInstructions:"",labName:"",notes:""}),f(null))},[e,s]),!e)return null;const m=async h=>{h.preventDefault(),u(!0),f(null);try{await r(o)}catch{}finally{u(!1)}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsxs("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-xl bg-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b px-6 py-4 sticky top-0 bg-white z-10",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Collect Lab Sample"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Record a new lab sample collection"})]}),a.jsx("button",{type:"button",className:"rounded-full p-2 text-gray-400 transition hover:bg-gray-100 hover:text-gray-600",onClick:t,"aria-label":"Close",children:a.jsx(Dt,{className:"h-5 w-5"})})]}),a.jsxs("form",{onSubmit:m,className:"space-y-6 px-6 py-6",children:[d&&a.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:d}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient *"}),a.jsxs("select",{value:o.patientId,onChange:h=>l({...o,patientId:h.target.value}),required:!0,className:"input-field",disabled:c||i,children:[a.jsx("option",{value:"",children:"Select patient"}),n.map(h=>a.jsx("option",{value:h.id,children:h.name},h.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sample Type *"}),a.jsxs("select",{value:o.sampleType,onChange:h=>l({...o,sampleType:h.target.value}),required:!0,className:"input-field",disabled:c,children:[a.jsx("option",{value:"BLOOD",children:"Blood"}),a.jsx("option",{value:"URINE",children:"Urine"}),a.jsx("option",{value:"STOOL",children:"Stool"}),a.jsx("option",{value:"SPUTUM",children:"Sputum"}),a.jsx("option",{value:"TISSUE",children:"Tissue"}),a.jsx("option",{value:"SWAB",children:"Swab"}),a.jsx("option",{value:"OTHER",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Test Name *"}),a.jsx("input",{type:"text",value:o.testName,onChange:h=>l({...o,testName:h.target.value}),required:!0,className:"input-field",placeholder:"e.g., Complete Blood Count",disabled:c})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Test Code *"}),a.jsx("input",{type:"text",value:o.testCode,onChange:h=>l({...o,testCode:h.target.value}),required:!0,className:"input-field",placeholder:"e.g., CBC-001",disabled:c})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Collection Date *"}),a.jsx("input",{type:"date",value:o.collectionDate,onChange:h=>l({...o,collectionDate:h.target.value}),required:!0,className:"input-field",disabled:c})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Collection Time *"}),a.jsx("input",{type:"time",value:o.collectionTime,onChange:h=>l({...o,collectionTime:h.target.value}),required:!0,className:"input-field",disabled:c})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Collection Location *"}),a.jsx("input",{type:"text",value:o.collectionLocation,onChange:h=>l({...o,collectionLocation:h.target.value}),required:!0,className:"input-field",placeholder:"e.g., Home, Clinic",disabled:c})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),a.jsxs("select",{value:o.priority,onChange:h=>l({...o,priority:h.target.value}),className:"input-field",disabled:c,children:[a.jsx("option",{value:"ROUTINE",children:"Routine"}),a.jsx("option",{value:"URGENT",children:"Urgent"}),a.jsx("option",{value:"STAT",children:"Stat"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instructions *"}),a.jsx("textarea",{value:o.instructions,onChange:h=>l({...o,instructions:h.target.value}),required:!0,rows:3,className:"input-field",placeholder:"Collection instructions...",disabled:c})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"fastingRequired",checked:o.fastingRequired,onChange:h=>l({...o,fastingRequired:h.target.checked}),className:"mr-2",disabled:c}),a.jsx("label",{htmlFor:"fastingRequired",className:"text-sm text-gray-700",children:"Fasting Required"})]}),o.fastingRequired&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fasting Hours"}),a.jsx("input",{type:"number",value:o.fastingHours||"",onChange:h=>l({...o,fastingHours:h.target.value?Number(h.target.value):void 0}),className:"input-field",placeholder:"Hours",min:0,disabled:c})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions"}),a.jsx("textarea",{value:o.specialInstructions,onChange:h=>l({...o,specialInstructions:h.target.value}),rows:2,className:"input-field",placeholder:"Any special handling instructions...",disabled:c})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lab Name"}),a.jsx("input",{type:"text",value:o.labName,onChange:h=>l({...o,labName:h.target.value}),className:"input-field",placeholder:"Lab facility name",disabled:c})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),a.jsx("textarea",{value:o.notes,onChange:h=>l({...o,notes:h.target.value}),rows:2,className:"input-field",placeholder:"Additional notes...",disabled:c})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-outline",disabled:c,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:c,children:c?"Saving...":"Collect Sample"})]})]})]})})}function E1e({isOpen:e,onClose:t,onSave:r,patients:n,loadingPatients:i,currentUser:s}){const o=p=>{if(!p)return"DOCTOR";const y=p.toUpperCase();return y==="DOCTOR"||y==="NURSE"||y==="SPECIALIST"?y:p==="doctor"?"DOCTOR":p==="nurse"?"NURSE":p==="specialist"?"SPECIALIST":"DOCTOR"},[l,c]=L.useState({patientId:"",referredBy:(s==null?void 0:s.id)||"",referredByName:(s==null?void 0:s.name)||"",referredByRole:o(s==null?void 0:s.role),referredTo:"",referredToName:"",referredToRole:"SPECIALIST",referralType:"CONSULTATION",reason:"",urgency:"ROUTINE",followUpRequired:!1}),[u,d]=L.useState(!1),[f,m]=L.useState(null);if(L.useEffect(()=>{e||(c({patientId:"",referredBy:(s==null?void 0:s.id)||"",referredByName:(s==null?void 0:s.name)||"",referredByRole:o(s==null?void 0:s.role),referredTo:"",referredToName:"",referredToRole:"SPECIALIST",referralType:"CONSULTATION",reason:"",urgency:"ROUTINE",followUpRequired:!1}),m(null))},[e,s]),!e)return null;const h=async p=>{p.preventDefault(),d(!0),m(null);try{await r(l)}catch{}finally{d(!1)}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsxs("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-xl bg-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b px-6 py-4 sticky top-0 bg-white z-10",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Send Referral"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Create a new patient referral"})]}),a.jsx("button",{type:"button",className:"rounded-full p-2 text-gray-400 transition hover:bg-gray-100 hover:text-gray-600",onClick:t,"aria-label":"Close",children:a.jsx(Dt,{className:"h-5 w-5"})})]}),a.jsxs("form",{onSubmit:h,className:"space-y-6 px-6 py-6",children:[f&&a.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:f}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient *"}),a.jsxs("select",{value:l.patientId,onChange:p=>c({...l,patientId:p.target.value}),required:!0,className:"input-field",disabled:u||i,children:[a.jsx("option",{value:"",children:"Select patient"}),n.map(p=>a.jsx("option",{value:p.id,children:p.name},p.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Referral Type *"}),a.jsxs("select",{value:l.referralType,onChange:p=>c({...l,referralType:p.target.value}),required:!0,className:"input-field",disabled:u,children:[a.jsx("option",{value:"CONSULTATION",children:"Consultation"}),a.jsx("option",{value:"LAB_WORK",children:"Lab Work"}),a.jsx("option",{value:"IMAGING",children:"Imaging"}),a.jsx("option",{value:"THERAPY",children:"Therapy"}),a.jsx("option",{value:"SURGERY",children:"Surgery"}),a.jsx("option",{value:"FOLLOW_UP",children:"Follow-up"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Referred By Role *"}),a.jsxs("select",{value:l.referredByRole,onChange:p=>c({...l,referredByRole:p.target.value}),required:!0,className:"input-field",disabled:u,children:[a.jsx("option",{value:"DOCTOR",children:"Doctor"}),a.jsx("option",{value:"NURSE",children:"Nurse"}),a.jsx("option",{value:"SPECIALIST",children:"Specialist"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Referred To Role *"}),a.jsxs("select",{value:l.referredToRole,onChange:p=>c({...l,referredToRole:p.target.value}),required:!0,className:"input-field",disabled:u,children:[a.jsx("option",{value:"SPECIALIST",children:"Specialist"}),a.jsx("option",{value:"LAB",children:"Lab"}),a.jsx("option",{value:"IMAGING",children:"Imaging"}),a.jsx("option",{value:"THERAPY",children:"Therapy"}),a.jsx("option",{value:"OTHER",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Referred To Name *"}),a.jsx("input",{type:"text",value:l.referredToName,onChange:p=>c({...l,referredToName:p.target.value}),required:!0,className:"input-field",placeholder:"Name of provider/facility",disabled:u})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Referred To ID"}),a.jsx("input",{type:"text",value:l.referredTo,onChange:p=>c({...l,referredTo:p.target.value}),className:"input-field",placeholder:"Provider ID (optional)",disabled:u})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Urgency"}),a.jsxs("select",{value:l.urgency,onChange:p=>c({...l,urgency:p.target.value}),className:"input-field",disabled:u,children:[a.jsx("option",{value:"ROUTINE",children:"Routine"}),a.jsx("option",{value:"URGENT",children:"Urgent"}),a.jsx("option",{value:"EMERGENCY",children:"Emergency"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for Referral *"}),a.jsx("textarea",{value:l.reason,onChange:p=>c({...l,reason:p.target.value}),required:!0,rows:3,className:"input-field",placeholder:"Describe the reason for this referral...",disabled:u})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Appointment Date"}),a.jsx("input",{type:"date",value:l.appointmentDate||"",onChange:p=>c({...l,appointmentDate:p.target.value||void 0}),className:"input-field",disabled:u})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Appointment Time"}),a.jsx("input",{type:"time",value:l.appointmentTime||"",onChange:p=>c({...l,appointmentTime:p.target.value||void 0}),className:"input-field",disabled:u})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),a.jsx("input",{type:"text",value:l.location||"",onChange:p=>c({...l,location:p.target.value||void 0}),className:"input-field",placeholder:"Facility location",disabled:u})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Info"}),a.jsx("input",{type:"text",value:l.contactInfo||"",onChange:p=>c({...l,contactInfo:p.target.value||void 0}),className:"input-field",placeholder:"Phone or email",disabled:u})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specialty"}),a.jsx("input",{type:"text",value:l.specialty||"",onChange:p=>c({...l,specialty:p.target.value||void 0}),className:"input-field",placeholder:"e.g., Cardiology, Neurology",disabled:u})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"followUpRequired",checked:l.followUpRequired,onChange:p=>c({...l,followUpRequired:p.target.checked}),className:"mr-2",disabled:u}),a.jsx("label",{htmlFor:"followUpRequired",className:"text-sm text-gray-700",children:"Follow-up Required"})]}),l.followUpRequired&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Follow-up Date"}),a.jsx("input",{type:"date",value:l.followUpDate||"",onChange:p=>c({...l,followUpDate:p.target.value||void 0}),className:"input-field",disabled:u})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),a.jsx("textarea",{value:l.notes||"",onChange:p=>c({...l,notes:p.target.value||void 0}),rows:2,className:"input-field",placeholder:"Additional notes...",disabled:u})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-outline",disabled:u,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:u,children:u?"Sending...":"Send Referral"})]})]})]})})}function _1e(){const[e,t]=L.useState(""),[r,n]=L.useState("all"),{data:i,loading:s}=it(()=>Mn.getPatients({limit:500}),[]),{data:o,loading:l}=it(()=>$s.getServices({limit:500}),[]),{data:c,loading:u}=it(()=>rs.getInvoices({limit:500,status:"all"}),[]),[d,f]=L.useState(null),m=(i==null?void 0:i.patients)??[],h=(o==null?void 0:o.services)??[],p=(c==null?void 0:c.invoices)??[],y=L.useMemo(()=>m.filter(N=>p.some(w=>w.patientId===N.id)).map(N=>{const w=p.filter(A=>A.patientId===N.id),S=w.reduce((A,I)=>A+Number(I.amount),0),E=w.filter(A=>A.status==="paid").reduce((A,I)=>A+Number(I.amount),0),C=S-E,k=N.serviceIds||[],P=h.filter(A=>k.includes(A.id)),D=w.filter(A=>(A.serviceName||A.description||"").toLowerCase().includes("consultation")).reduce((A,I)=>A+Number(I.amount),0);return{patient:N,services:P,assignmentFeeUgx:D,totalAmount:S,paidAmount:E,pendingAmount:C,invoices:w}}),[m,h,p]),v=L.useMemo(()=>y.filter(N=>{var E;const w=N.patient.name.toLowerCase().includes(e.toLowerCase())||((E=N.patient.email)==null?void 0:E.toLowerCase().includes(e.toLowerCase()))||N.patient.phone.toLowerCase().includes(e.toLowerCase());let S=!0;return r==="pending"?S=N.pendingAmount>0:r==="paid"?S=N.pendingAmount===0&&N.totalAmount>0:r==="overdue"&&(S=N.invoices.some(C=>C.status==="overdue")),w&&S}),[y,e,r]),x=L.useMemo(()=>{const N=y.length,w=y.reduce((k,P)=>k+P.totalAmount,0),S=y.reduce((k,P)=>k+P.paidAmount,0),E=y.reduce((k,P)=>k+P.pendingAmount,0),C=y.filter(k=>k.invoices.some(P=>P.status==="overdue")).length;return{totalPatients:N,totalRevenue:w,totalPaid:S,totalPending:E,overdueCount:C}},[y]);return s||l||u?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Biller Dashboard"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage patient bills: services and consultation fees (specialist/therapist assignments)"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[a.jsx("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Patients"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:x.totalPatients})]}),a.jsx("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(Ba,{className:"h-6 w-6 text-blue-600"})})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:[x.totalRevenue.toLocaleString()," UGX"]})]}),a.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx(Sa,{className:"h-6 w-6 text-green-600"})})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Paid Amount"}),a.jsxs("p",{className:"text-2xl font-bold text-green-600 mt-1",children:[x.totalPaid.toLocaleString()," UGX"]})]}),a.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx($n,{className:"h-6 w-6 text-green-600"})})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Amount"}),a.jsxs("p",{className:"text-2xl font-bold text-yellow-600 mt-1",children:[x.totalPending.toLocaleString()," UGX"]})]}),a.jsx("div",{className:"h-12 w-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:a.jsx(nr,{className:"h-6 w-6 text-yellow-600"})})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue Bills"}),a.jsx("p",{className:"text-2xl font-bold text-red-600 mt-1",children:x.overdueCount})]}),a.jsx("div",{className:"h-12 w-12 bg-red-100 rounded-lg flex items-center justify-center",children:a.jsx(zo,{className:"h-6 w-6 text-red-600"})})]})})]}),a.jsx("div",{className:"bg-white rounded-lg shadow p-4 border border-gray-200",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search patients by name, email, or phone...",value:e,onChange:N=>t(N.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),a.jsx("div",{className:"md:w-48",children:a.jsxs("select",{value:r,onChange:N=>n(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"paid",children:"Paid"}),a.jsx("option",{value:"overdue",children:"Overdue"})]})})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200 overflow-hidden",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Patient Bills"}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[v.length," ",v.length===1?"patient":"patients"," found"]})]}),v.length===0?a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(Aa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 font-medium",children:"No patient bills found"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e||r!=="all"?"Try adjusting your search or filter criteria":"Patients with invoices (consultation or services) will appear here"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-10",children:" "}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Patient"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice lines"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paid"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pending"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(N=>{const w=N.invoices.some(C=>C.status==="overdue"),S=N.pendingAmount===0&&N.totalAmount>0;N.pendingAmount>0;const E=d===N.patient.id;return a.jsxs(L.Fragment,{children:[a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-2 py-4 whitespace-nowrap",children:a.jsx("button",{type:"button",onClick:()=>f(C=>C===N.patient.id?null:N.patient.id),className:"p-1 rounded hover:bg-gray-100 text-gray-500","aria-label":E?"Collapse details":"Expand invoice details",children:E?a.jsx(FF,{className:"h-5 w-5"}):a.jsx(BF,{className:"h-5 w-5"})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.patient.name}),a.jsx("div",{className:"text-sm text-gray-500",children:N.patient.email}),a.jsx("div",{className:"text-xs text-gray-400",children:N.patient.phone})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"text-sm text-gray-900",children:[N.invoices.length," ",N.invoices.length===1?"line":"lines",N.assignmentFeeUgx>0&&a.jsxs("span",{className:"text-xs text-gray-600 block mt-0.5",children:["(incl. ",N.assignmentFeeUgx.toLocaleString()," UGX consultation)"]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[N.totalAmount.toLocaleString()," UGX"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm text-green-600 font-medium",children:[N.paidAmount.toLocaleString()," UGX"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm text-yellow-600 font-medium",children:[N.pendingAmount.toLocaleString()," UGX"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${w?"bg-red-100 text-red-800":S?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:w?"Overdue":S?"Paid":"Pending"})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[a.jsx(Rn,{to:`/patients/${N.patient.id}`,className:"text-primary-600 hover:text-primary-900 mr-4",children:a.jsx(Ln,{className:"h-5 w-5 inline"})}),a.jsx(Rn,{to:"/billing",className:"text-primary-600 hover:text-primary-900",children:a.jsx(Fs,{className:"h-5 w-5 inline"})})]})]}),E&&a.jsx("tr",{className:"bg-gray-50",children:a.jsxs("td",{colSpan:8,className:"px-6 py-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Invoice details"}),a.jsxs("table",{className:"min-w-full text-sm border border-gray-200 rounded-lg overflow-hidden",children:[a.jsx("thead",{className:"bg-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-600",children:"Description"}),a.jsx("th",{className:"px-4 py-2 text-right font-medium text-gray-600",children:"Amount (UGX)"}),a.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-600",children:"Status"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:N.invoices.map(C=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 text-gray-900",children:C.description||C.serviceName||""}),a.jsx("td",{className:"px-4 py-2 text-right font-medium",children:Number(C.amount).toLocaleString()}),a.jsx("td",{className:"px-4 py-2",children:a.jsx("span",{className:`inline-flex px-2 py-0.5 rounded text-xs ${C.status==="paid"?"bg-green-100 text-green-800":C.status==="overdue"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:C.status})})]},C.id))}),a.jsx("tfoot",{className:"bg-gray-100 font-semibold",children:a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 text-gray-700",children:"Total"}),a.jsxs("td",{className:"px-4 py-2 text-right",children:[N.totalAmount.toLocaleString()," UGX"]}),a.jsx("td",{})]})})]})]})},`${N.patient.id}-details`)]},N.patient.id)})})]})})]})]})}function $T({isOpen:e,onClose:t,onSave:r,biller:n,mode:i}){const[s,o]=L.useState({username:"",name:"",email:"",password:"",phone:"",department:"Finance",isActive:!0}),[l,c]=L.useState(!1),[u,d]=L.useState(null),f=i==="edit"&&n;L.useEffect(()=>{e||(c(!1),d(null))},[e]),L.useEffect(()=>{o(f&&n?{username:n.username||"",name:n.name||"",email:n.email||"",password:"",phone:n.phone||"",department:n.department||"Finance",isActive:n.isActive??!0}:{username:"",name:"",email:"",password:"",phone:"",department:"Finance",isActive:!0})},[f,n,e]);const m=async h=>{if(h.preventDefault(),d(null),!s.username.trim()){d("Username is required");return}if(!s.name.trim()){d("Name is required");return}if(!f&&!s.password.trim()){d("Password is required for new billers");return}c(!0);try{const p={username:s.username.trim().toLowerCase(),name:s.name.trim(),email:s.email.trim()||void 0,phone:s.phone.trim()||void 0,department:s.department.trim()||void 0,isActive:s.isActive,role:"biller"};f?s.password.trim()&&(p.password=s.password):p.password=s.password,await r(p)}catch(p){d((p==null?void 0:p.message)||"Failed to save biller")}finally{c(!1)}};return e?a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t}),a.jsxs("div",{className:"relative w-full max-w-2xl rounded-lg bg-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f?"Edit Biller":"Add New Biller"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Dt,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:m,children:[a.jsxs("div",{className:"px-6 py-4 space-y-4",children:[u&&a.jsx("div",{className:"rounded-md bg-red-50 p-4 text-sm text-red-700",children:u}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Username ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:s.username,onChange:h=>o({...s,username:h.target.value}),placeholder:"e.g. john.doe (used for login)",className:"input-field disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed",required:!0,disabled:i==="edit"}),i==="edit"&&a.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Username cannot be changed after creation"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Full Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:s.name,onChange:h=>o({...s,name:h.target.value}),placeholder:"Enter full name (e.g., John Doe)",className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",value:s.email,onChange:h=>o({...s,email:h.target.value}),placeholder:"biller@example.com",className:"input-field disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed",disabled:i==="edit"}),i==="edit"&&a.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Email cannot be changed after creation"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Password ",!f&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"password",value:s.password,onChange:h=>o({...s,password:h.target.value}),placeholder:f?"Enter new password (leave blank to keep current)":"Enter password (minimum 8 characters)",className:"input-field",required:!f}),f?a.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Leave blank to keep current password"}):a.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Password must be at least 8 characters long"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",value:s.phone,onChange:h=>o({...s,phone:h.target.value}),placeholder:"+1234567890 (optional)",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Department"}),a.jsx("input",{type:"text",value:s.department,onChange:h=>o({...s,department:h.target.value}),placeholder:"Finance (default)",className:"input-field"})]}),a.jsxs("div",{className:"flex items-center pt-2",children:[a.jsx("input",{type:"checkbox",id:"isActive",checked:s.isActive,onChange:h=>o({...s,isActive:h.target.checked}),className:"h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-2 focus:ring-primary-500"}),a.jsx("label",{htmlFor:"isActive",className:"ml-2 text-sm font-medium text-gray-900",children:"Active Status"}),a.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(Biller can log in and access the system)"})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-200 px-6 py-4",children:[a.jsx("button",{type:"button",onClick:t,className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",disabled:l,children:"Cancel"}),a.jsx("button",{type:"submit",className:"rounded-md bg-primary-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50",disabled:l,children:l?"Saving...":f?"Update Biller":"Add Biller"})]})]})]})]})}):null}const P1e=e=>e?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800";function T1e({isOpen:e,onClose:t,biller:r}){if(!e||!r)return null;const n=r.avatar?r.avatar.startsWith("http")?r.avatar:Oa(r.avatar):null;return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Biller Details"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Dt,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-start space-x-4 pb-6 border-b border-gray-200",children:[n?a.jsx("img",{src:n,alt:r.name,className:"h-20 w-20 rounded-full object-cover border-2 border-gray-200"}):a.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-primary-100 text-xl font-semibold text-primary-700",children:r.name.split(" ").map(i=>i[0]).join("").slice(0,2).toUpperCase()}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r.name}),a.jsx("div",{className:"mt-2",children:a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${P1e(r.isActive??!0)}`,children:r.isActive?"Active":"Inactive"})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(zy,{className:"h-5 w-5 text-gray-400 mt-0.5 shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),a.jsx("p",{className:"font-medium text-gray-900",children:r.email})]})]}),r.username&&a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Kr,{className:"h-5 w-5 text-gray-400 mt-0.5 shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Username"}),a.jsx("p",{className:"font-medium text-gray-900",children:r.username})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(fs,{className:"h-5 w-5 text-gray-400 mt-0.5 shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),a.jsx("p",{className:"font-medium text-gray-900",children:r.phone||""})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(yO,{className:"h-5 w-5 text-gray-400 mt-0.5 shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Department"}),a.jsx("p",{className:"font-medium text-gray-900",children:r.department||""})]})]}),r.employeeId&&a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Fs,{className:"h-5 w-5 text-gray-400 mt-0.5 shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Employee ID"}),a.jsx("p",{className:"font-medium text-gray-900",children:r.employeeId})]})]}),r.createdAt&&a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Mt,{className:"h-5 w-5 text-gray-400 mt-0.5 shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Joined"}),a.jsx("p",{className:"font-medium text-gray-900",children:new Date(r.createdAt).toLocaleDateString()})]})]})]})]}),a.jsx("div",{className:"flex justify-end border-t border-gray-200 px-6 py-4",children:a.jsx("button",{onClick:t,className:"btn-primary",children:"Close"})})]})})}function C1e(){const{user:e}=fr(),t=(e==null?void 0:e.role)==="admin",[r,n]=L.useState(""),[i,s]=L.useState("all"),[o,l]=L.useState(!1),[c,u]=L.useState(!1),[d,f]=L.useState(!1),[m,h]=L.useState(null),{addNotification:p}=Mr(),y=_=>{h(_),f(!0)},{data:v,loading:x,error:b,refetch:N}=it(()=>Qt.getUsers({role:"biller",limit:200}),[]),w=(v==null?void 0:v.users)??[],S=L.useMemo(()=>w.filter(_=>{var Z;const M=_.name.toLowerCase().includes(r.toLowerCase())||((Z=_.email)==null?void 0:Z.toLowerCase().includes(r.toLowerCase()))||_.phone&&_.phone.toLowerCase().includes(r.toLowerCase()),z=i==="all"||i==="active"&&_.isActive||i==="inactive"&&!_.isActive;return M&&z}),[w,r,i]),E=ot(Qt.createUser.bind(Qt)),C=ot(_=>Qt.updateUser(_.id,_.data)),k=ot(_=>Qt.deleteUser(_)),P=async _=>{var M,z,Z;try{const R={..._,role:"biller",username:(_.username??((M=_.email)==null?void 0:M.trim().split("@")[0])??_.name.replace(/\s+/g,"").toLowerCase())||"biller"};await E.mutate(R),Ce.success(`Biller ${_.name} has been added successfully`),p({title:"Biller Added",message:`${_.name} has been added to the system.`,type:"success",userId:"system",priority:"medium",category:"system"}),await N(),l(!1)}catch(R){const U=((Z=(z=R==null?void 0:R.response)==null?void 0:z.data)==null?void 0:Z.message)||(R==null?void 0:R.message)||"Failed to add biller";throw Ce.error(U),p({title:"Unable to add biller",message:U,type:"error",userId:"system",priority:"high",category:"system"}),R}},D=async _=>{var M,z;if(m)try{await C.mutate({id:m.id,data:_}),Ce.success(`Biller ${_.name??m.name} has been updated successfully`),p({title:"Biller Updated",message:`${_.name??m.name} has been updated.`,type:"success",userId:"system",priority:"medium",category:"system"}),await N(),u(!1),h(null)}catch(Z){const R=((z=(M=Z==null?void 0:Z.response)==null?void 0:M.data)==null?void 0:z.message)||(Z==null?void 0:Z.message)||"Failed to update biller";throw Ce.error(R),p({title:"Unable to update biller",message:R,type:"error",userId:"system",priority:"high",category:"system"}),Z}},A=async(_,M)=>{var z,Z;if(window.confirm(`Are you sure you want to deactivate ${M}?`))try{await k.mutate(_),Ce.success(`Biller ${M} has been deactivated`),p({title:"Biller Deactivated",message:`${M} is now deactivated.`,type:"info",userId:"system",priority:"medium",category:"system"}),await N()}catch(R){const U=((Z=(z=R==null?void 0:R.response)==null?void 0:z.data)==null?void 0:Z.message)||(R==null?void 0:R.message)||"Failed to deactivate biller";Ce.error(U),p({title:"Unable to deactivate biller",message:U,type:"error",userId:"system",priority:"high",category:"system"})}},I=_=>{h(_),u(!0)},$=_=>_?"status-active":"status-inactive";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center space-x-2",children:[a.jsx(Fs,{className:"h-6 w-6 text-primary-500"}),a.jsx("span",{children:"Billers"})]}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage finance and billing staff."})]}),t&&a.jsx("div",{className:"mt-4 sm:mt-0",children:a.jsxs("button",{onClick:()=>l(!0),className:"btn-primary flex items-center",children:[a.jsx(zt,{className:"mr-2 h-4 w-4"}),"Add Biller"]})})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Br,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search billers...",value:r,onChange:_=>n(_.target.value),className:"input-field pl-10"})]})}),a.jsx("div",{className:"sm:w-48",children:a.jsxs("select",{value:i,onChange:_=>s(_.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})})]})}),b&&a.jsx("div",{className:"card bg-red-50 border border-red-200 text-red-700",children:"Unable to load billers. Please refresh or try again later."}),a.jsx("div",{className:"card",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Biller"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Contact"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Department"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:x?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-sm text-gray-500",children:"Loading billers..."})}):S.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-sm text-gray-500",children:"No billers match your filters yet."})}):S.map(_=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[_.avatar?a.jsx("img",{src:_.avatar.startsWith("http")?_.avatar:Oa(_.avatar),alt:_.name,className:"h-10 w-10 rounded-full object-cover"}):a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary-100 text-sm font-semibold text-primary-700",children:_.name.split(" ").map(M=>M[0]).join("").slice(0,2).toUpperCase()}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.name}),a.jsx("div",{className:"text-sm text-gray-500",children:_.email})]})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900",children:_.phone?a.jsxs("div",{className:"flex items-center",children:[a.jsx(fs,{className:"mr-2 h-4 w-4 text-gray-400"}),_.phone]}):a.jsx("span",{className:"text-gray-400",children:"No phone"})})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900",children:_.department||a.jsx("span",{className:"text-gray-400",children:"No department"})})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`status-badge ${$(_.isActive)}`,children:_.isActive?"Active":"Inactive"})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:()=>y(_),className:"text-primary-600 hover:text-primary-900",title:"View biller details",children:[a.jsx(Ln,{className:"mr-1 inline h-4 w-4"}),"View details"]}),t&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>I(_),className:"text-secondary-600 hover:text-secondary-900",children:[a.jsx(Fn,{className:"mr-1 inline h-4 w-4"}),"Edit"]}),a.jsxs("button",{onClick:()=>A(_.id,_.name),className:"text-red-600 hover:text-red-900",children:[a.jsx(zr,{className:"mr-1 inline h-4 w-4"}),"Delete"]})]})]})})]},_.id))})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-primary-600",children:w.filter(_=>_.isActive).length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Active Billers"})]}),a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-600",children:w.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Billers"})]})]}),a.jsx($T,{isOpen:o,onClose:()=>l(!1),onSave:P,mode:"add"}),a.jsx($T,{isOpen:c,onClose:()=>{u(!1),h(null)},onSave:D,biller:m,mode:"edit"}),a.jsx(T1e,{isOpen:d,onClose:()=>{f(!1),h(null)},biller:m})]})}function k1e(){const{user:e}=fr(),t=(e==null?void 0:e.role)==="biller"||(e==null?void 0:e.role)==="admin",[r,n]=L.useState(null);if(!t)return a.jsx(a5,{to:"/dashboard",replace:!0});const{data:i,loading:s,refetch:o}=it(()=>Qt.getUsers({role:"specialist",limit:200}),[]),{data:l,loading:c,refetch:u}=it(()=>Qt.getUsers({role:"therapist",limit:200}),[]),d=(i==null?void 0:i.users)??[],f=(l==null?void 0:l.users)??[],m=ot(y=>Qt.updateUser(y.id,{consultationFee:y.consultationFee})),h=async(y,v)=>{var b,N;const x=v.trim()===""?null:Math.max(0,Math.floor(Number(v)));if(v.trim()!==""&&(x==null||Number.isNaN(x)||x<0)){Ce.error("Please enter a valid number (0 or greater)");return}n(y.id);try{await m.mutate({id:y.id,consultationFee:x}),Ce.success(`Consultation fee for ${y.name} updated`),await Promise.all([o(),u()])}catch(w){const S=((N=(b=w==null?void 0:w.response)==null?void 0:b.data)==null?void 0:N.message)||(w==null?void 0:w.message)||"Failed to update fee";Ce.error(S)}finally{n(null)}},p=s||c;return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Consultation rates"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Set consultation fees (UGX) for specialists and therapists. These appear on the biller dashboard when a patient is assigned."})]}),p?a.jsx("div",{className:"flex items-center justify-center h-48",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200 overflow-hidden",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center gap-2",children:[a.jsx(Vd,{className:"h-5 w-5 text-primary-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Specialists"})]}),a.jsx("div",{className:"divide-y divide-gray-200",children:d.length===0?a.jsx("div",{className:"px-6 py-8 text-center text-gray-500",children:"No specialists found."}):d.map(y=>a.jsx(FT,{user:y,saving:r===y.id,onSave:h},y.id))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200 overflow-hidden",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center gap-2",children:[a.jsx(Yc,{className:"h-5 w-5 text-primary-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Therapists"})]}),a.jsx("div",{className:"divide-y divide-gray-200",children:f.length===0?a.jsx("div",{className:"px-6 py-8 text-center text-gray-500",children:"No therapists found."}):f.map(y=>a.jsx(FT,{user:y,saving:r===y.id,onSave:h},y.id))})]})]})]})}function FT({user:e,saving:t,onSave:r}){const n=e.consultationFee!=null?String(e.consultationFee):"",[i,s]=L.useState(n);L.useEffect(()=>{s(e.consultationFee!=null?String(e.consultationFee):"")},[e.id,e.consultationFee]);const o=i!==n;return a.jsxs("div",{className:"px-6 py-4 flex flex-wrap items-center gap-4",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name}),e.specialistSpecialization||e.therapistSpecialization?a.jsx("div",{className:"text-xs text-gray-500",children:e.specialistSpecialization||e.therapistSpecialization}):null]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center rounded-lg border border-gray-300 bg-gray-50 px-3 py-1.5",children:[a.jsx(Sa,{className:"h-4 w-4 text-gray-400 mr-1"}),a.jsx("input",{type:"number",min:0,step:1,placeholder:"0",value:i,onChange:l=>s(l.target.value),className:"w-28 bg-transparent border-0 p-0 text-sm text-gray-900 focus:ring-0"}),a.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"UGX"})]}),a.jsxs("button",{type:"button",disabled:t||!o,onClick:()=>r(e,i),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-primary-600 text-white text-sm font-medium hover:bg-primary-700 disabled:opacity-50 disabled:pointer-events-none",children:[t?a.jsx(Ir,{className:"h-4 w-4 animate-spin"}):a.jsx(qy,{className:"h-4 w-4"}),"Save"]})]})]})}function BT({isOpen:e,onClose:t,onSave:r,receptionist:n,mode:i}){const[s,o]=L.useState({username:"",name:"",email:"",password:"",phone:"",department:"Reception",isActive:!0}),[l,c]=L.useState(!1),[u,d]=L.useState(null),f=i==="edit"&&n;L.useEffect(()=>{e||(c(!1),d(null))},[e]),L.useEffect(()=>{o(f&&n?{username:n.username||"",name:n.name||"",email:n.email||"",password:"",phone:n.phone||"",department:n.department||"Reception",isActive:n.isActive??!0}:{username:"",name:"",email:"",password:"",phone:"",department:"Reception",isActive:!0})},[f,n,e]);const m=async h=>{if(h.preventDefault(),d(null),!s.username.trim()){d("Username is required");return}if(!s.name.trim()){d("Name is required");return}if(!f&&!s.password.trim()){d("Password is required for new receptionists");return}c(!0);try{const p={username:s.username.trim().toLowerCase(),name:s.name.trim(),email:s.email.trim()||void 0,phone:s.phone.trim()||void 0,department:s.department.trim()||void 0,isActive:s.isActive,role:"receptionist"};f?s.password.trim()&&(p.password=s.password):p.password=s.password,await r(p)}catch(p){d(p instanceof Error?p.message:"Failed to save receptionist")}finally{c(!1)}};return e?a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t}),a.jsxs("div",{className:"relative w-full max-w-2xl rounded-lg bg-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f?"Edit Receptionist":"Add New Receptionist"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Dt,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:m,children:[a.jsxs("div",{className:"px-6 py-4 space-y-4",children:[u&&a.jsx("div",{className:"rounded-md bg-red-50 p-4 text-sm text-red-700",children:u}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Username ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:s.username,onChange:h=>o({...s,username:h.target.value}),placeholder:"e.g. jane.smith (used for login)",className:"input-field disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed",required:!0,disabled:i==="edit"}),i==="edit"&&a.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Username cannot be changed after creation"}),i!=="edit"&&a.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Letters, numbers, dots, hyphens, underscores only"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Full Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:s.name,onChange:h=>o({...s,name:h.target.value}),placeholder:"Enter full name (e.g., Jane Smith)",className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",value:s.email,onChange:h=>o({...s,email:h.target.value}),placeholder:"receptionist@example.com",className:"input-field disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed",disabled:i==="edit"}),i==="edit"&&a.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Email cannot be changed after creation"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Password ",!f&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"password",value:s.password,onChange:h=>o({...s,password:h.target.value}),placeholder:f?"Enter new password (leave blank to keep current)":"Enter password (minimum 8 characters)",className:"input-field",required:!f}),f?a.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Leave blank to keep current password"}):a.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Password must be at least 8 characters long"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",value:s.phone,onChange:h=>o({...s,phone:h.target.value}),placeholder:"+1234567890 (optional)",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Department"}),a.jsx("input",{type:"text",value:s.department,onChange:h=>o({...s,department:h.target.value}),placeholder:"Reception (default)",className:"input-field"})]}),a.jsxs("div",{className:"flex items-center pt-2",children:[a.jsx("input",{type:"checkbox",id:"isActive",checked:s.isActive,onChange:h=>o({...s,isActive:h.target.checked}),className:"h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-2 focus:ring-primary-500"}),a.jsx("label",{htmlFor:"isActive",className:"ml-2 text-sm font-medium text-gray-900",children:"Active Status"}),a.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(Receptionist can log in and access the system)"})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-200 px-6 py-4",children:[a.jsx("button",{type:"button",onClick:t,className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",disabled:l,children:"Cancel"}),a.jsx("button",{type:"submit",className:"rounded-md bg-primary-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50",disabled:l,children:l?"Saving...":f?"Update Receptionist":"Add Receptionist"})]})]})]})]})}):null}function O1e(){const{user:e}=fr(),t=(e==null?void 0:e.role)==="admin",[r,n]=L.useState(""),[i,s]=L.useState("all"),[o,l]=L.useState(!1),[c,u]=L.useState(!1),[d,f]=L.useState(null),{addNotification:m}=Mr(),{data:h,loading:p,error:y,refetch:v}=it(()=>Qt.getUsers({role:"receptionist",limit:200}),[]),x=(h==null?void 0:h.users)??[],b=L.useMemo(()=>x.filter(A=>{var _;const I=A.name.toLowerCase().includes(r.toLowerCase())||((_=A.email)==null?void 0:_.toLowerCase().includes(r.toLowerCase()))||A.phone&&A.phone.toLowerCase().includes(r.toLowerCase()),$=i==="all"||i==="active"&&A.isActive||i==="inactive"&&!A.isActive;return I&&$}),[x,r,i]),N=ot(Qt.createUser.bind(Qt)),w=ot(A=>Qt.updateUser(A.id,A.data)),S=ot(A=>Qt.deleteUser(A)),E=async A=>{var I,$,_;try{const M={...A,role:"receptionist",username:(A.username??((I=A.email)==null?void 0:I.trim().split("@")[0])??A.name.replace(/\s+/g,"").toLowerCase())||"receptionist"};await N.mutate(M),Ce.success(`Receptionist ${A.name} has been added successfully`),m({title:"Receptionist Added",message:`${A.name} has been added to the system.`,type:"success",userId:"system",priority:"medium",category:"system"}),await v(),l(!1)}catch(M){const z=((_=($=M==null?void 0:M.response)==null?void 0:$.data)==null?void 0:_.message)||(M==null?void 0:M.message)||"Failed to add receptionist";throw Ce.error(z),m({title:"Unable to add receptionist",message:z,type:"error",userId:"system",priority:"high",category:"system"}),M}},C=async A=>{var I,$;if(d)try{await w.mutate({id:d.id,data:A}),Ce.success(`Receptionist ${A.name??d.name} has been updated successfully`),m({title:"Receptionist Updated",message:`${A.name??d.name} has been updated.`,type:"success",userId:"system",priority:"medium",category:"system"}),await v(),u(!1),f(null)}catch(_){const M=(($=(I=_==null?void 0:_.response)==null?void 0:I.data)==null?void 0:$.message)||(_==null?void 0:_.message)||"Failed to update receptionist";throw Ce.error(M),m({title:"Unable to update receptionist",message:M,type:"error",userId:"system",priority:"high",category:"system"}),_}},k=async(A,I)=>{var $,_;if(window.confirm(`Are you sure you want to deactivate ${I}?`))try{await S.mutate(A),Ce.success(`Receptionist ${I} has been deactivated`),m({title:"Receptionist Deactivated",message:`${I} is now deactivated.`,type:"info",userId:"system",priority:"medium",category:"system"}),await v()}catch(M){const z=((_=($=M==null?void 0:M.response)==null?void 0:$.data)==null?void 0:_.message)||(M==null?void 0:M.message)||"Failed to deactivate receptionist";Ce.error(z),m({title:"Unable to deactivate receptionist",message:z,type:"error",userId:"system",priority:"high",category:"system"})}},P=A=>{f(A),u(!0)},D=A=>A?"status-active":"status-inactive";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center space-x-2",children:[a.jsx(UF,{className:"h-6 w-6 text-primary-500"}),a.jsx("span",{children:"Receptionists"})]}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage front-desk and patient registration staff."})]}),t&&a.jsx("div",{className:"mt-4 sm:mt-0",children:a.jsxs("button",{onClick:()=>l(!0),className:"btn-primary flex items-center",children:[a.jsx(zt,{className:"mr-2 h-4 w-4"}),"Add Receptionist"]})})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Br,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search receptionists...",value:r,onChange:A=>n(A.target.value),className:"input-field pl-10"})]})}),a.jsx("div",{className:"sm:w-48",children:a.jsxs("select",{value:i,onChange:A=>s(A.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})})]})}),y&&a.jsx("div",{className:"card bg-red-50 border border-red-200 text-red-700",children:"Unable to load receptionists. Please refresh or try again later."}),a.jsx("div",{className:"card",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Receptionist"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Contact"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Department"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:p?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-sm text-gray-500",children:"Loading receptionists..."})}):b.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-sm text-gray-500",children:"No receptionists match your filters yet."})}):b.map(A=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[A.avatar?a.jsx("img",{src:A.avatar.startsWith("http")?A.avatar:Oa(A.avatar),alt:A.name,className:"h-10 w-10 rounded-full object-cover"}):a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary-100 text-sm font-semibold text-primary-700",children:A.name.split(" ").map(I=>I[0]).join("").slice(0,2).toUpperCase()}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.name}),a.jsx("div",{className:"text-sm text-gray-500",children:A.email})]})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900",children:A.phone?a.jsxs("div",{className:"flex items-center",children:[a.jsx(fs,{className:"mr-2 h-4 w-4 text-gray-400"}),A.phone]}):a.jsx("span",{className:"text-gray-400",children:"No phone"})})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900",children:A.department||a.jsx("span",{className:"text-gray-400",children:"No department"})})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`status-badge ${D(A.isActive)}`,children:A.isActive?"Active":"Inactive"})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium",children:a.jsx("div",{className:"flex items-center space-x-3",children:t&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>P(A),className:"text-secondary-600 hover:text-secondary-900",children:[a.jsx(Fn,{className:"mr-1 inline h-4 w-4"}),"Edit"]}),a.jsxs("button",{onClick:()=>k(A.id,A.name),className:"text-red-600 hover:text-red-900",children:[a.jsx(zr,{className:"mr-1 inline h-4 w-4"}),"Delete"]})]})})})]},A.id))})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-primary-600",children:x.filter(A=>A.isActive).length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Active Receptionists"})]}),a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-600",children:x.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Receptionists"})]})]}),a.jsx(BT,{isOpen:o,onClose:()=>l(!1),onSave:E,mode:"add"}),a.jsx(BT,{isOpen:c,onClose:()=>{u(!1),f(null)},onSave:C,receptionist:d,mode:"edit"})]})}function UT({isOpen:e,onClose:t,onSave:r,labAttendant:n,mode:i}){const[s,o]=L.useState({username:"",name:"",email:"",password:"",phone:"",department:"Laboratory",isActive:!0}),[l,c]=L.useState(!1),[u,d]=L.useState(null),f=i==="edit"&&n;L.useEffect(()=>{e||(c(!1),d(null))},[e]),L.useEffect(()=>{o(f&&n?{username:n.username||"",name:n.name||"",email:n.email||"",password:"",phone:n.phone||"",department:n.department||"Laboratory",isActive:n.isActive??!0}:{username:"",name:"",email:"",password:"",phone:"",department:"Laboratory",isActive:!0})},[f,n,e]);const m=async h=>{if(h.preventDefault(),d(null),!s.username.trim()){d("Username is required");return}if(!s.name.trim()){d("Name is required");return}if(!f&&!s.password.trim()){d("Password is required for new lab attendants");return}c(!0);try{const p={username:s.username.trim().toLowerCase(),name:s.name.trim(),email:s.email.trim()||void 0,phone:s.phone.trim()||void 0,department:s.department.trim()||void 0,isActive:s.isActive,role:"lab_attendant"};f?s.password.trim()&&(p.password=s.password):p.password=s.password,await r(p)}catch(p){d(p instanceof Error?p.message:"Failed to save lab attendant")}finally{c(!1)}};return e?a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t}),a.jsxs("div",{className:"relative w-full max-w-2xl rounded-lg bg-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f?"Edit Lab Attendant":"Add New Lab Attendant"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Dt,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:m,children:[a.jsxs("div",{className:"px-6 py-4 space-y-4",children:[u&&a.jsx("div",{className:"rounded-md bg-red-50 p-4 text-sm text-red-700",children:u}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Username ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:s.username,onChange:h=>o({...s,username:h.target.value}),placeholder:"e.g. lab.john (used for login)",className:"input-field disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed",required:!0,disabled:i==="edit"}),i==="edit"&&a.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Username cannot be changed after creation"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Full Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:s.name,onChange:h=>o({...s,name:h.target.value}),placeholder:"Enter full name",className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",value:s.email,onChange:h=>o({...s,email:h.target.value}),placeholder:"lab@example.com",className:"input-field disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed",disabled:i==="edit"}),i==="edit"&&a.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Email cannot be changed after creation"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Password ",!f&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"password",value:s.password,onChange:h=>o({...s,password:h.target.value}),placeholder:f?"Leave blank to keep current":"Minimum 8 characters",className:"input-field",required:!f})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",value:s.phone,onChange:h=>o({...s,phone:h.target.value}),placeholder:"+1234567890",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Department"}),a.jsx("input",{type:"text",value:s.department,onChange:h=>o({...s,department:h.target.value}),placeholder:"Laboratory",className:"input-field"})]}),a.jsxs("div",{className:"flex items-center pt-2",children:[a.jsx("input",{type:"checkbox",id:"isActive",checked:s.isActive,onChange:h=>o({...s,isActive:h.target.checked}),className:"h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-2 focus:ring-primary-500"}),a.jsx("label",{htmlFor:"isActive",className:"ml-2 text-sm font-medium text-gray-900",children:"Active Status"})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-200 px-6 py-4",children:[a.jsx("button",{type:"button",onClick:t,className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",disabled:l,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:l,children:l?"Saving...":f?"Update Lab Attendant":"Add Lab Attendant"})]})]})]})]})}):null}function I1e(){const{user:e}=fr(),t=(e==null?void 0:e.role)==="admin",[r,n]=L.useState(""),[i,s]=L.useState("all"),[o,l]=L.useState(!1),[c,u]=L.useState(!1),[d,f]=L.useState(null),{addNotification:m}=Mr(),{data:h,loading:p,error:y,refetch:v}=it(()=>Qt.getUsers({role:"lab_attendant",limit:200}),[]),x=(h==null?void 0:h.users)??[],b=L.useMemo(()=>x.filter(A=>{var _;const I=A.name.toLowerCase().includes(r.toLowerCase())||((_=A.email)==null?void 0:_.toLowerCase().includes(r.toLowerCase()))||A.phone&&A.phone.toLowerCase().includes(r.toLowerCase()),$=i==="all"||i==="active"&&A.isActive||i==="inactive"&&!A.isActive;return I&&$}),[x,r,i]),N=ot(Qt.createUser.bind(Qt)),w=ot(A=>Qt.updateUser(A.id,A.data)),S=ot(A=>Qt.deleteUser(A)),E=async A=>{var I,$,_;try{const M={...A,username:(A.username??((I=A.email)==null?void 0:I.trim().split("@")[0])??A.name.replace(/\s+/g,"").toLowerCase())||"lab_attendant",role:"lab_attendant"};await N.mutate(M),Ce.success(`Lab attendant ${A.name} has been added successfully`),m({title:"Lab Attendant Added",message:`${A.name} has been added to the system.`,type:"success",userId:"system",priority:"medium",category:"system"}),await v(),l(!1)}catch(M){const z=((_=($=M==null?void 0:M.response)==null?void 0:$.data)==null?void 0:_.message)||(M==null?void 0:M.message)||"Failed to add lab attendant";throw Ce.error(z),m({title:"Unable to add lab attendant",message:z,type:"error",userId:"system",priority:"high",category:"system"}),M}},C=async A=>{var I,$;if(d)try{await w.mutate({id:d.id,data:A}),Ce.success(`Lab attendant ${A.name??d.name} has been updated successfully`),m({title:"Lab Attendant Updated",message:`${A.name??d.name} has been updated.`,type:"success",userId:"system",priority:"medium",category:"system"}),await v(),u(!1),f(null)}catch(_){const M=(($=(I=_==null?void 0:_.response)==null?void 0:I.data)==null?void 0:$.message)||(_==null?void 0:_.message)||"Failed to update lab attendant";throw Ce.error(M),m({title:"Unable to update lab attendant",message:M,type:"error",userId:"system",priority:"high",category:"system"}),_}},k=async(A,I)=>{var $,_;if(window.confirm(`Are you sure you want to deactivate ${I}?`))try{await S.mutate(A),Ce.success(`Lab attendant ${I} has been deactivated`),m({title:"Lab Attendant Deactivated",message:`${I} is now deactivated.`,type:"info",userId:"system",priority:"medium",category:"system"}),await v()}catch(M){const z=((_=($=M==null?void 0:M.response)==null?void 0:$.data)==null?void 0:_.message)||(M==null?void 0:M.message)||"Failed to deactivate lab attendant";Ce.error(z),m({title:"Unable to deactivate lab attendant",message:z,type:"error",userId:"system",priority:"high",category:"system"})}},P=A=>{f(A),u(!0)},D=A=>A?"status-active":"status-inactive";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center space-x-2",children:[a.jsx(Ms,{className:"h-6 w-6 text-primary-500"}),a.jsx("span",{children:"Lab Attendants"})]}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage lab staff who handle investigations and record lab details."})]}),t&&a.jsx("div",{className:"mt-4 sm:mt-0",children:a.jsxs("button",{onClick:()=>l(!0),className:"btn-primary flex items-center",children:[a.jsx(zt,{className:"mr-2 h-4 w-4"}),"Add Lab Attendant"]})})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Br,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search lab attendants...",value:r,onChange:A=>n(A.target.value),className:"input-field pl-10"})]})}),a.jsx("div",{className:"sm:w-48",children:a.jsxs("select",{value:i,onChange:A=>s(A.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})})]})}),y&&a.jsx("div",{className:"card bg-red-50 border border-red-200 text-red-700",children:"Unable to load lab attendants. Please refresh or try again later."}),a.jsx("div",{className:"card",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Lab Attendant"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Contact"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Department"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:p?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-sm text-gray-500",children:"Loading lab attendants..."})}):b.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-sm text-gray-500",children:"No lab attendants match your filters yet."})}):b.map(A=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[A.avatar?a.jsx("img",{src:A.avatar.startsWith("http")?A.avatar:Oa(A.avatar),alt:A.name,className:"h-10 w-10 rounded-full object-cover"}):a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary-100 text-sm font-semibold text-primary-700",children:A.name.split(" ").map(I=>I[0]).join("").slice(0,2).toUpperCase()}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.name}),a.jsx("div",{className:"text-sm text-gray-500",children:A.email})]})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900",children:A.phone?a.jsxs("div",{className:"flex items-center",children:[a.jsx(fs,{className:"mr-2 h-4 w-4 text-gray-400"}),A.phone]}):a.jsx("span",{className:"text-gray-400",children:"No phone"})})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900",children:A.department||a.jsx("span",{className:"text-gray-400",children:"No department"})})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`status-badge ${D(A.isActive)}`,children:A.isActive?"Active":"Inactive"})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium",children:a.jsx("div",{className:"flex items-center space-x-3",children:t&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>P(A),className:"text-secondary-600 hover:text-secondary-900",children:[a.jsx(Fn,{className:"mr-1 inline h-4 w-4"}),"Edit"]}),a.jsxs("button",{onClick:()=>k(A.id,A.name),className:"text-red-600 hover:text-red-900",children:[a.jsx(zr,{className:"mr-1 inline h-4 w-4"}),"Delete"]})]})})})]},A.id))})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-primary-600",children:x.filter(A=>A.isActive).length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Active Lab Attendants"})]}),a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-600",children:x.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Lab Attendants"})]})]}),a.jsx(UT,{isOpen:o,onClose:()=>l(!1),onSave:E,mode:"add"}),a.jsx(UT,{isOpen:c,onClose:()=>{u(!1),f(null)},onSave:C,labAttendant:d,mode:"edit"})]})}const L1e=["CBC","Malaria RDT","Renal Function Test","Liver Function Test","CRP","Extended Electrolyte Panel","Fasting Blood Sugar","HbA1c","Lipid Profile","Thyroid Function Test","Urinalysis","Stool Analysis","Blood Culture","Widal Test","Other"],s2={PENDING:"Pending",IN_PROGRESS:"In Progress",COMPLETED:"Completed",CANCELLED:"Cancelled"},R1e={PENDING:"bg-yellow-100 text-yellow-800",IN_PROGRESS:"bg-blue-100 text-blue-800",COMPLETED:"bg-green-100 text-green-800",CANCELLED:"bg-gray-100 text-gray-800"};function M1e(){const{user:e}=fr(),{addNotification:t}=Mr(),r=(e==null?void 0:e.role)==="receptionist"||(e==null?void 0:e.role)==="biller"||(e==null?void 0:e.role)==="specialist"||(e==null?void 0:e.role)==="therapist"||(e==null?void 0:e.role)==="admin",n=(e==null?void 0:e.role)==="lab_attendant"||(e==null?void 0:e.role)==="admin",i=(e==null?void 0:e.role)==="lab_attendant"||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="specialist"||(e==null?void 0:e.role)==="therapist",[s,o]=L.useState(""),[l,c]=L.useState("all"),[u,d]=L.useState(!1),[f,m]=L.useState(""),[h,p]=L.useState(""),[y,v]=L.useState(""),[x,b]=L.useState(""),[N,w]=L.useState("ROUTINE"),{data:S,loading:E,refetch:C}=it(()=>Vc.list({limit:100}),[]),{data:k,loading:P}=it(()=>Mn.getPatients({limit:200,page:1}),[]),D=(k==null?void 0:k.patients)??[],A=(S==null?void 0:S.requests)??[],I=ot(Vc.create.bind(Vc)),$=ot(R=>Vc.update(R.id,R.data)),_=L.useMemo(()=>A.filter(R=>{var de;const U=R.investigationName.toLowerCase().includes(s.toLowerCase())||((de=R.patient)==null?void 0:de.name)&&R.patient.name.toLowerCase().includes(s.toLowerCase())||R.requestedByName.toLowerCase().includes(s.toLowerCase()),re=l==="all"||R.status===l;return U&&re}),[A,s,l]),M=A.filter(R=>R.status==="PENDING").length,z=async R=>{var re,de;R.preventDefault();const U=h==="Other"?y.trim():h;if(!U){t({title:"Validation",message:"Please select or enter an investigation.",type:"error",userId:"",priority:"medium",category:"system"});return}if(!f){t({title:"Validation",message:"Please select a patient.",type:"error",userId:"",priority:"medium",category:"system"});return}try{await I.mutate({patientId:f,investigationName:U,priority:N,notes:x||void 0}),t({title:"Investigation requested",message:`${U} has been requested for the patient.`,type:"success",userId:"",priority:"low",category:"system"}),d(!1),m(""),p(""),v(""),b(""),w("ROUTINE"),C()}catch(B){const G=((de=(re=B==null?void 0:B.response)==null?void 0:re.data)==null?void 0:de.message)??(B==null?void 0:B.message)??"Failed to submit request";t({title:"Request failed",message:String(G),type:"error",userId:"",priority:"medium",category:"system"})}},Z=async(R,U)=>{var re,de;try{await $.mutate({id:R,data:{status:U}}),t({title:"Status updated",message:`Request marked as ${s2[U]}.`,type:"success",userId:"",priority:"low",category:"system"}),C()}catch(B){const G=((de=(re=B==null?void 0:B.response)==null?void 0:re.data)==null?void 0:de.message)??(B==null?void 0:B.message)??"Failed to update";t({title:"Update failed",message:String(G),type:"error",userId:"",priority:"medium",category:"system"})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Lab Requests"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:r&&n?"Submit lab requests for patients and manage them (collect samples, record results).":r?"Submit lab requests for patients. Lab staff will process requests and record results; you will see status updates only.":"Manage lab requests: collect samples and record lab results."})]}),r&&a.jsx("div",{className:"mt-4 sm:mt-0",children:a.jsxs("button",{type:"button",onClick:()=>d(!0),className:"btn-primary flex items-center gap-2",children:[a.jsx(zt,{className:"h-4 w-4"}),"New Lab Request"]})})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Br,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search by investigation, patient, or requester...",value:s,onChange:R=>o(R.target.value),className:"input-field pl-10"})]})}),a.jsx("div",{className:"sm:w-48",children:a.jsxs("select",{value:l,onChange:R=>c(R.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All statuses"}),Object.entries(s2).map(([R,U])=>a.jsx("option",{value:R,children:U},R))]})})]})}),M>0&&n&&a.jsxs("div",{className:"card bg-amber-50 border border-amber-200 flex items-center gap-3",children:[a.jsx(zo,{className:"h-5 w-5 text-amber-600 shrink-0"}),a.jsxs("span",{className:"text-sm text-amber-800",children:[a.jsx("strong",{children:M})," investigation request",M!==1?"s":""," pending. Go to"," ",a.jsx(Rn,{to:"/health-records",className:"underline font-medium",children:"Health Records  Lab samples"})," ","to collect samples and record results."]})]}),a.jsx("div",{className:"card",children:E?a.jsx("div",{className:"py-10 text-center text-sm text-gray-500",children:"Loading investigation requests..."}):_.length===0?a.jsxs("div",{className:"py-10 text-center text-sm text-gray-500",children:["No investigation requests match your filters.",r&&' Use "Request Investigation" to add one.']}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Investigation"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Patient"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Requested by"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),n&&a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:_.map(R=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"whitespace-nowrap px-6 py-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.investigationName}),R.notes&&a.jsx("div",{className:"text-xs text-gray-500 mt-0.5 truncate max-w-xs",children:R.notes})]}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:R.patient?a.jsxs(Rn,{to:`/patients/${R.patientId}`,className:"text-primary-600 hover:text-primary-900 flex items-center gap-1",children:[a.jsx(Kr,{className:"h-4 w-4"}),R.patient.name]}):a.jsx("span",{className:"text-gray-400",children:""})}),a.jsxs("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-600",children:[R.requestedByName," (",R.requestedByRole,")"]}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(nr,{className:"h-4 w-4 text-gray-400"}),new Date(R.requestedAt).toLocaleString()]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${R1e[R.status]??"bg-gray-100 text-gray-800"}`,children:s2[R.status]??R.status})}),n&&a.jsxs("td",{className:"whitespace-nowrap px-6 py-4 text-sm",children:[R.status==="PENDING"&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>Z(R.id,"IN_PROGRESS"),className:"text-blue-600 hover:text-blue-800",children:"Mark In Progress"}),a.jsxs("button",{type:"button",onClick:()=>Z(R.id,"COMPLETED"),className:"text-green-600 hover:text-green-800 flex items-center gap-1",children:[a.jsx($n,{className:"h-4 w-4"}),"Mark Completed"]})]}),R.status==="IN_PROGRESS"&&a.jsxs("button",{type:"button",onClick:()=>Z(R.id,"COMPLETED"),className:"text-green-600 hover:text-green-800 flex items-center gap-1",children:[a.jsx($n,{className:"h-4 w-4"}),"Mark Completed"]}),(R.status==="PENDING"||R.status==="IN_PROGRESS")&&i?a.jsx(Rn,{to:"/health-records",className:"ml-2 text-primary-600 hover:text-primary-900 text-xs",children:"Collect sample "}):null]})]},R.id))})]})})}),u&&a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>d(!1)}),a.jsxs("div",{className:"relative w-full max-w-lg rounded-lg bg-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Lab Request Form"}),a.jsx("button",{type:"button",onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),a.jsxs("form",{onSubmit:z,className:"px-6 py-4 space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Patient ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:f,onChange:R=>m(R.target.value),className:"input-field",required:!0,disabled:P,children:[a.jsx("option",{value:"",children:P?"Loading patients...":D.length===0?"No patients in system":"Select patient"}),D.map(R=>a.jsx("option",{value:R.id,children:R.name},R.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Test / Investigation ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:h,onChange:R=>p(R.target.value),className:"input-field",required:!0,children:[a.jsx("option",{value:"",children:"Select test or choose Other"}),L1e.filter(R=>R!=="Other").map(R=>a.jsx("option",{value:R,children:R},R)),a.jsx("option",{value:"Other",children:"Other (specify below)"})]}),h==="Other"&&a.jsx("input",{type:"text",value:y,onChange:R=>v(R.target.value),placeholder:"Specify test/investigation name",className:"input-field mt-2",maxLength:200})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),a.jsxs("select",{value:N,onChange:R=>w(R.target.value),className:"input-field",children:[a.jsx("option",{value:"ROUTINE",children:"Routine"}),a.jsx("option",{value:"URGENT",children:"Urgent"}),a.jsx("option",{value:"STAT",children:"Stat"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason for request / Clinical notes"}),a.jsx("textarea",{value:x,onChange:R=>b(R.target.value),placeholder:"e.g. Pre-op workup, routine monitoring, clinical indication",className:"input-field resize-none",rows:3})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[a.jsx("button",{type:"button",onClick:()=>d(!1),className:"btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:I.loading,children:I.loading?"Submitting...":"Submit Lab Request"})]})]})]})]})})]})}function D1e(){const{user:e,isAuthenticated:t,isLoading:r}=fr();return r?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):!t||!e?a.jsx(QU,{}):a.jsx(V9,{children:a.jsx(HU,{user:e,children:a.jsxs(D9,{children:[a.jsx(Wt,{path:"/",element:a.jsx(a5,{to:"/dashboard",replace:!0})}),a.jsx(Wt,{path:"/dashboard",element:a.jsx(sz,{})}),a.jsx(Wt,{path:"/biller-dashboard",element:a.jsx(_1e,{})}),a.jsx(Wt,{path:"/book-appointment",element:a.jsx(Fve,{})}),a.jsx(Wt,{path:"/my-appointments",element:a.jsx(Bve,{})}),a.jsx(Wt,{path:"/health-monitoring",element:a.jsx(Uve,{})}),a.jsx(Wt,{path:"/feedback",element:a.jsx(qve,{})}),a.jsx(Wt,{path:"/my-schedule",element:a.jsx(Hve,{})}),a.jsx(Wt,{path:"/documentation",element:a.jsx(Wve,{})}),a.jsx(Wt,{path:"/incidents",element:a.jsx(Qve,{})}),a.jsx(Wt,{path:"/nurses",element:a.jsx(uz,{})}),a.jsx(Wt,{path:"/nurses/:id",element:a.jsx(dz,{})}),a.jsx(Wt,{path:"/users",element:a.jsx(kve,{})}),a.jsx(Wt,{path:"/specialists",element:a.jsx(a1e,{})}),a.jsx(Wt,{path:"/therapists",element:a.jsx(Mve,{})}),a.jsx(Wt,{path:"/billers",element:a.jsx(C1e,{})}),a.jsx(Wt,{path:"/consultation-rates",element:a.jsx(k1e,{})}),a.jsx(Wt,{path:"/receptionists",element:a.jsx(O1e,{})}),a.jsx(Wt,{path:"/lab-attendants",element:a.jsx(I1e,{})}),a.jsx(Wt,{path:"/investigations",element:a.jsx(M1e,{})}),a.jsx(Wt,{path:"/health-records",element:a.jsx(S1e,{})}),a.jsx(Wt,{path:"/phone-reminders",element:a.jsx(u1e,{})}),a.jsx(Wt,{path:"/scheduling",element:a.jsx(bve,{})}),a.jsx(Wt,{path:"/services",element:a.jsx(Nve,{})}),a.jsx(Wt,{path:"/training",element:a.jsx(uve,{})}),a.jsx(Wt,{path:"/training/exam/:id",element:a.jsx(dve,{})}),a.jsx(Wt,{path:"/training/exam/:id/take",element:a.jsx(fve,{})}),a.jsx(Wt,{path:"/training/exam/:id/result/:attemptId?",element:a.jsx(hve,{})}),a.jsx(Wt,{path:"/billing",element:a.jsx(jve,{})}),a.jsx(Wt,{path:"/reports",element:a.jsx(Pve,{})}),a.jsx(Wt,{path:"/settings",element:a.jsx(l1e,{})}),a.jsx(Wt,{path:"/patients",element:a.jsx(wz,{})}),a.jsx(Wt,{path:"/patients/:id",element:a.jsx(lve,{})})]})})})}function $1e(){return a.jsx(VU,{children:a.jsx(MU,{children:a.jsxs(UU,{children:[a.jsx(D1e,{}),a.jsx(CF,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})})})}o2.createRoot(document.getElementById("root")).render(a.jsx(ce.StrictMode,{children:a.jsx($1e,{})}));export{sr as _,Sg as c,lr as g};
