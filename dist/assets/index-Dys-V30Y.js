var u7=Object.defineProperty;var d7=(e,t,r)=>t in e?u7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Vt=(e,t,r)=>d7(e,typeof t!="symbol"?t+"":t,r);function f7(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var v0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function or(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var RC={exports:{}},gy={},MC={exports:{}},Ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp=Symbol.for("react.element"),h7=Symbol.for("react.portal"),m7=Symbol.for("react.fragment"),p7=Symbol.for("react.strict_mode"),g7=Symbol.for("react.profiler"),x7=Symbol.for("react.provider"),y7=Symbol.for("react.context"),v7=Symbol.for("react.forward_ref"),b7=Symbol.for("react.suspense"),w7=Symbol.for("react.memo"),N7=Symbol.for("react.lazy"),rA=Symbol.iterator;function j7(e){return e===null||typeof e!="object"?null:(e=rA&&e[rA]||e["@@iterator"],typeof e=="function"?e:null)}var DC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$C=Object.assign,FC={};function xf(e,t,r){this.props=e,this.context=t,this.refs=FC,this.updater=r||DC}xf.prototype.isReactComponent={};xf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function BC(){}BC.prototype=xf.prototype;function tj(e,t,r){this.props=e,this.context=t,this.refs=FC,this.updater=r||DC}var rj=tj.prototype=new BC;rj.constructor=tj;$C(rj,xf.prototype);rj.isPureReactComponent=!0;var nA=Array.isArray,UC=Object.prototype.hasOwnProperty,nj={current:null},zC={key:!0,ref:!0,__self:!0,__source:!0};function qC(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)UC.call(t,n)&&!zC.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:pp,type:e,key:i,ref:o,props:s,_owner:nj.current}}function S7(e,t){return{$$typeof:pp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function aj(e){return typeof e=="object"&&e!==null&&e.$$typeof===pp}function A7(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var aA=/\/+/g;function g1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?A7(""+e.key):t.toString(36)}function pg(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case pp:case h7:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+g1(o,0):n,nA(s)?(r="",e!=null&&(r=e.replace(aA,"$&/")+"/"),pg(s,t,r,"",function(u){return u})):s!=null&&(aj(s)&&(s=S7(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(aA,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",nA(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+g1(i,l);o+=pg(i,t,r,c,s)}else if(c=j7(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+g1(i,l++),o+=pg(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function b0(e,t,r){if(e==null)return e;var n=[],s=0;return pg(e,n,"","",function(i){return t.call(r,i,s++)}),n}function _7(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ta={current:null},gg={transition:null},E7={ReactCurrentDispatcher:Ta,ReactCurrentBatchConfig:gg,ReactCurrentOwner:nj};function HC(){throw Error("act(...) is not supported in production builds of React.")}Ut.Children={map:b0,forEach:function(e,t,r){b0(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return b0(e,function(){t++}),t},toArray:function(e){return b0(e,function(t){return t})||[]},only:function(e){if(!aj(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ut.Component=xf;Ut.Fragment=m7;Ut.Profiler=g7;Ut.PureComponent=tj;Ut.StrictMode=p7;Ut.Suspense=b7;Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E7;Ut.act=HC;Ut.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=$C({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=nj.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)UC.call(t,c)&&!zC.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:pp,type:e.type,key:s,ref:i,props:n,_owner:o}};Ut.createContext=function(e){return e={$$typeof:y7,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:x7,_context:e},e.Consumer=e};Ut.createElement=qC;Ut.createFactory=function(e){var t=qC.bind(null,e);return t.type=e,t};Ut.createRef=function(){return{current:null}};Ut.forwardRef=function(e){return{$$typeof:v7,render:e}};Ut.isValidElement=aj;Ut.lazy=function(e){return{$$typeof:N7,_payload:{_status:-1,_result:e},_init:_7}};Ut.memo=function(e,t){return{$$typeof:w7,type:e,compare:t===void 0?null:t}};Ut.startTransition=function(e){var t=gg.transition;gg.transition={};try{e()}finally{gg.transition=t}};Ut.unstable_act=HC;Ut.useCallback=function(e,t){return Ta.current.useCallback(e,t)};Ut.useContext=function(e){return Ta.current.useContext(e)};Ut.useDebugValue=function(){};Ut.useDeferredValue=function(e){return Ta.current.useDeferredValue(e)};Ut.useEffect=function(e,t){return Ta.current.useEffect(e,t)};Ut.useId=function(){return Ta.current.useId()};Ut.useImperativeHandle=function(e,t,r){return Ta.current.useImperativeHandle(e,t,r)};Ut.useInsertionEffect=function(e,t){return Ta.current.useInsertionEffect(e,t)};Ut.useLayoutEffect=function(e,t){return Ta.current.useLayoutEffect(e,t)};Ut.useMemo=function(e,t){return Ta.current.useMemo(e,t)};Ut.useReducer=function(e,t,r){return Ta.current.useReducer(e,t,r)};Ut.useRef=function(e){return Ta.current.useRef(e)};Ut.useState=function(e){return Ta.current.useState(e)};Ut.useSyncExternalStore=function(e,t,r){return Ta.current.useSyncExternalStore(e,t,r)};Ut.useTransition=function(){return Ta.current.useTransition()};Ut.version="18.3.1";MC.exports=Ut;var L=MC.exports;const ce=or(L),P7=f7({__proto__:null,default:ce},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C7=L,T7=Symbol.for("react.element"),k7=Symbol.for("react.fragment"),O7=Object.prototype.hasOwnProperty,I7=C7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,L7={key:!0,ref:!0,__self:!0,__source:!0};function VC(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)O7.call(t,n)&&!L7.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:T7,type:e,key:i,ref:o,props:s,_owner:I7.current}}gy.Fragment=k7;gy.jsx=VC;gy.jsxs=VC;RC.exports=gy;var a=RC.exports,r2={},WC={exports:{}},ys={},GC={exports:{}},YC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,U){var re=R.length;R.push(U);e:for(;0<re;){var de=re-1>>>1,B=R[de];if(0<s(B,U))R[de]=U,R[re]=B,re=de;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var U=R[0],re=R.pop();if(re!==U){R[0]=re;e:for(var de=0,B=R.length,G=B>>>1;de<G;){var te=2*(de+1)-1,ue=R[te],q=te+1,X=R[q];if(0>s(ue,re))q<B&&0>s(X,ue)?(R[de]=X,R[q]=re,de=q):(R[de]=ue,R[te]=re,de=te);else if(q<B&&0>s(X,re))R[de]=X,R[q]=re,de=q;else break e}}return U}function s(R,U){var re=R.sortIndex-U.sortIndex;return re!==0?re:R.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,h=!1,p=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(R){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=R)n(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=r(u)}}function w(R){if(y=!1,N(R),!p)if(r(c)!==null)p=!0,z(S);else{var U=r(u);U!==null&&Z(w,U.startTime-R)}}function S(R,U){p=!1,y&&(y=!1,x(k),k=-1),h=!0;var re=m;try{for(N(U),f=r(c);f!==null&&(!(f.expirationTime>U)||R&&!A());){var de=f.callback;if(typeof de=="function"){f.callback=null,m=f.priorityLevel;var B=de(f.expirationTime<=U);U=e.unstable_now(),typeof B=="function"?f.callback=B:f===r(c)&&n(c),N(U)}else n(c);f=r(c)}if(f!==null)var G=!0;else{var te=r(u);te!==null&&Z(w,te.startTime-U),G=!1}return G}finally{f=null,m=re,h=!1}}var _=!1,T=null,k=-1,P=5,D=-1;function A(){return!(e.unstable_now()-D<P)}function I(){if(T!==null){var R=e.unstable_now();D=R;var U=!0;try{U=T(!0,R)}finally{U?$():(_=!1,T=null)}}else _=!1}var $;if(typeof b=="function")$=function(){b(I)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,M=E.port2;E.port1.onmessage=I,$=function(){M.postMessage(null)}}else $=function(){v(I,0)};function z(R){T=R,_||(_=!0,$())}function Z(R,U){k=v(function(){R(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,z(S))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(R){switch(m){case 1:case 2:case 3:var U=3;break;default:U=m}var re=m;m=U;try{return R()}finally{m=re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,U){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var re=m;m=R;try{return U()}finally{m=re}},e.unstable_scheduleCallback=function(R,U,re){var de=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?de+re:de):re=de,R){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=re+B,R={id:d++,callback:U,priorityLevel:R,startTime:re,expirationTime:B,sortIndex:-1},re>de?(R.sortIndex=re,t(u,R),r(c)===null&&R===r(u)&&(y?(x(k),k=-1):y=!0,Z(w,re-de))):(R.sortIndex=B,t(c,R),p||h||(p=!0,z(S))),R},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(R){var U=m;return function(){var re=m;m=U;try{return R.apply(this,arguments)}finally{m=re}}}})(YC);GC.exports=YC;var R7=GC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M7=L,xs=R7;function Ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var KC=new Set,um={};function xu(e,t){Id(e,t),Id(e+"Capture",t)}function Id(e,t){for(um[e]=t,e=0;e<t.length;e++)KC.add(t[e])}var Ro=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),n2=Object.prototype.hasOwnProperty,D7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sA={},iA={};function $7(e){return n2.call(iA,e)?!0:n2.call(sA,e)?!1:D7.test(e)?iA[e]=!0:(sA[e]=!0,!1)}function F7(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function B7(e,t,r,n){if(t===null||typeof t>"u"||F7(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ka(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Qn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qn[e]=new ka(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qn[t]=new ka(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qn[e]=new ka(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qn[e]=new ka(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qn[e]=new ka(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qn[e]=new ka(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qn[e]=new ka(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qn[e]=new ka(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qn[e]=new ka(e,5,!1,e.toLowerCase(),null,!1,!1)});var sj=/[\-:]([a-z])/g;function ij(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sj,ij);Qn[t]=new ka(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sj,ij);Qn[t]=new ka(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sj,ij);Qn[t]=new ka(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qn[e]=new ka(e,1,!1,e.toLowerCase(),null,!1,!1)});Qn.xlinkHref=new ka("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qn[e]=new ka(e,1,!1,e.toLowerCase(),null,!0,!0)});function oj(e,t,r,n){var s=Qn.hasOwnProperty(t)?Qn[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(B7(t,r,s,n)&&(r=null),n||s===null?$7(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Vo=M7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w0=Symbol.for("react.element"),ed=Symbol.for("react.portal"),td=Symbol.for("react.fragment"),lj=Symbol.for("react.strict_mode"),a2=Symbol.for("react.profiler"),XC=Symbol.for("react.provider"),JC=Symbol.for("react.context"),cj=Symbol.for("react.forward_ref"),s2=Symbol.for("react.suspense"),i2=Symbol.for("react.suspense_list"),uj=Symbol.for("react.memo"),yl=Symbol.for("react.lazy"),ZC=Symbol.for("react.offscreen"),oA=Symbol.iterator;function mh(e){return e===null||typeof e!="object"?null:(e=oA&&e[oA]||e["@@iterator"],typeof e=="function"?e:null)}var zr=Object.assign,x1;function $h(e){if(x1===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);x1=t&&t[1]||""}return`
`+x1+e}var y1=!1;function v1(e,t){if(!e||y1)return"";y1=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{y1=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?$h(e):""}function U7(e){switch(e.tag){case 5:return $h(e.type);case 16:return $h("Lazy");case 13:return $h("Suspense");case 19:return $h("SuspenseList");case 0:case 2:case 15:return e=v1(e.type,!1),e;case 11:return e=v1(e.type.render,!1),e;case 1:return e=v1(e.type,!0),e;default:return""}}function o2(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case td:return"Fragment";case ed:return"Portal";case a2:return"Profiler";case lj:return"StrictMode";case s2:return"Suspense";case i2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case JC:return(e.displayName||"Context")+".Consumer";case XC:return(e._context.displayName||"Context")+".Provider";case cj:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case uj:return t=e.displayName||null,t!==null?t:o2(e.type)||"Memo";case yl:t=e._payload,e=e._init;try{return o2(e(t))}catch{}}return null}function z7(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return o2(t);case 8:return t===lj?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ql(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function QC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function q7(e){var t=QC(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function N0(e){e._valueTracker||(e._valueTracker=q7(e))}function eT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=QC(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Dg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function l2(e,t){var r=t.checked;return zr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function lA(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ql(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function tT(e,t){t=t.checked,t!=null&&oj(e,"checked",t,!1)}function c2(e,t){tT(e,t);var r=ql(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?u2(e,t.type,r):t.hasOwnProperty("defaultValue")&&u2(e,t.type,ql(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cA(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function u2(e,t,r){(t!=="number"||Dg(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Fh=Array.isArray;function vd(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ql(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function d2(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ve(91));return zr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function uA(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ve(92));if(Fh(r)){if(1<r.length)throw Error(Ve(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ql(r)}}function rT(e,t){var r=ql(t.value),n=ql(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function dA(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function nT(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function f2(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?nT(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var j0,aT=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(j0=j0||document.createElement("div"),j0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=j0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function dm(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Hh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},H7=["Webkit","ms","Moz","O"];Object.keys(Hh).forEach(function(e){H7.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hh[t]=Hh[e]})});function sT(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Hh.hasOwnProperty(e)&&Hh[e]?(""+t).trim():t+"px"}function iT(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=sT(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var V7=zr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function h2(e,t){if(t){if(V7[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ve(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ve(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ve(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ve(62))}}function m2(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var p2=null;function dj(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var g2=null,bd=null,wd=null;function fA(e){if(e=yp(e)){if(typeof g2!="function")throw Error(Ve(280));var t=e.stateNode;t&&(t=wy(t),g2(e.stateNode,e.type,t))}}function oT(e){bd?wd?wd.push(e):wd=[e]:bd=e}function lT(){if(bd){var e=bd,t=wd;if(wd=bd=null,fA(e),t)for(e=0;e<t.length;e++)fA(t[e])}}function cT(e,t){return e(t)}function uT(){}var b1=!1;function dT(e,t,r){if(b1)return e(t,r);b1=!0;try{return cT(e,t,r)}finally{b1=!1,(bd!==null||wd!==null)&&(uT(),lT())}}function fm(e,t){var r=e.stateNode;if(r===null)return null;var n=wy(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ve(231,t,typeof r));return r}var x2=!1;if(Ro)try{var ph={};Object.defineProperty(ph,"passive",{get:function(){x2=!0}}),window.addEventListener("test",ph,ph),window.removeEventListener("test",ph,ph)}catch{x2=!1}function W7(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Vh=!1,$g=null,Fg=!1,y2=null,G7={onError:function(e){Vh=!0,$g=e}};function Y7(e,t,r,n,s,i,o,l,c){Vh=!1,$g=null,W7.apply(G7,arguments)}function K7(e,t,r,n,s,i,o,l,c){if(Y7.apply(this,arguments),Vh){if(Vh){var u=$g;Vh=!1,$g=null}else throw Error(Ve(198));Fg||(Fg=!0,y2=u)}}function yu(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function fT(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hA(e){if(yu(e)!==e)throw Error(Ve(188))}function X7(e){var t=e.alternate;if(!t){if(t=yu(e),t===null)throw Error(Ve(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return hA(s),e;if(i===n)return hA(s),t;i=i.sibling}throw Error(Ve(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(Ve(189))}}if(r.alternate!==n)throw Error(Ve(190))}if(r.tag!==3)throw Error(Ve(188));return r.stateNode.current===r?e:t}function hT(e){return e=X7(e),e!==null?mT(e):null}function mT(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=mT(e);if(t!==null)return t;e=e.sibling}return null}var pT=xs.unstable_scheduleCallback,mA=xs.unstable_cancelCallback,J7=xs.unstable_shouldYield,Z7=xs.unstable_requestPaint,tn=xs.unstable_now,Q7=xs.unstable_getCurrentPriorityLevel,fj=xs.unstable_ImmediatePriority,gT=xs.unstable_UserBlockingPriority,Bg=xs.unstable_NormalPriority,eD=xs.unstable_LowPriority,xT=xs.unstable_IdlePriority,xy=null,Ui=null;function tD(e){if(Ui&&typeof Ui.onCommitFiberRoot=="function")try{Ui.onCommitFiberRoot(xy,e,void 0,(e.current.flags&128)===128)}catch{}}var li=Math.clz32?Math.clz32:aD,rD=Math.log,nD=Math.LN2;function aD(e){return e>>>=0,e===0?32:31-(rD(e)/nD|0)|0}var S0=64,A0=4194304;function Bh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ug(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Bh(l):(i&=o,i!==0&&(n=Bh(i)))}else o=r&~s,o!==0?n=Bh(o):i!==0&&(n=Bh(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-li(t),s=1<<r,n|=e[r],t&=~s;return n}function sD(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iD(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-li(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=sD(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function v2(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yT(){var e=S0;return S0<<=1,!(S0&4194240)&&(S0=64),e}function w1(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function gp(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-li(t),e[t]=r}function oD(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-li(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function hj(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-li(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ir=0;function vT(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bT,mj,wT,NT,jT,b2=!1,_0=[],Il=null,Ll=null,Rl=null,hm=new Map,mm=new Map,Nl=[],lD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pA(e,t){switch(e){case"focusin":case"focusout":Il=null;break;case"dragenter":case"dragleave":Ll=null;break;case"mouseover":case"mouseout":Rl=null;break;case"pointerover":case"pointerout":hm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mm.delete(t.pointerId)}}function gh(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=yp(t),t!==null&&mj(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function cD(e,t,r,n,s){switch(t){case"focusin":return Il=gh(Il,e,t,r,n,s),!0;case"dragenter":return Ll=gh(Ll,e,t,r,n,s),!0;case"mouseover":return Rl=gh(Rl,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return hm.set(i,gh(hm.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,mm.set(i,gh(mm.get(i)||null,e,t,r,n,s)),!0}return!1}function ST(e){var t=Lc(e.target);if(t!==null){var r=yu(t);if(r!==null){if(t=r.tag,t===13){if(t=fT(r),t!==null){e.blockedOn=t,jT(e.priority,function(){wT(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=w2(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);p2=n,r.target.dispatchEvent(n),p2=null}else return t=yp(r),t!==null&&mj(t),e.blockedOn=r,!1;t.shift()}return!0}function gA(e,t,r){xg(e)&&r.delete(t)}function uD(){b2=!1,Il!==null&&xg(Il)&&(Il=null),Ll!==null&&xg(Ll)&&(Ll=null),Rl!==null&&xg(Rl)&&(Rl=null),hm.forEach(gA),mm.forEach(gA)}function xh(e,t){e.blockedOn===t&&(e.blockedOn=null,b2||(b2=!0,xs.unstable_scheduleCallback(xs.unstable_NormalPriority,uD)))}function pm(e){function t(s){return xh(s,e)}if(0<_0.length){xh(_0[0],e);for(var r=1;r<_0.length;r++){var n=_0[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Il!==null&&xh(Il,e),Ll!==null&&xh(Ll,e),Rl!==null&&xh(Rl,e),hm.forEach(t),mm.forEach(t),r=0;r<Nl.length;r++)n=Nl[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Nl.length&&(r=Nl[0],r.blockedOn===null);)ST(r),r.blockedOn===null&&Nl.shift()}var Nd=Vo.ReactCurrentBatchConfig,zg=!0;function dD(e,t,r,n){var s=ir,i=Nd.transition;Nd.transition=null;try{ir=1,pj(e,t,r,n)}finally{ir=s,Nd.transition=i}}function fD(e,t,r,n){var s=ir,i=Nd.transition;Nd.transition=null;try{ir=4,pj(e,t,r,n)}finally{ir=s,Nd.transition=i}}function pj(e,t,r,n){if(zg){var s=w2(e,t,r,n);if(s===null)k1(e,t,n,qg,r),pA(e,n);else if(cD(s,e,t,r,n))n.stopPropagation();else if(pA(e,n),t&4&&-1<lD.indexOf(e)){for(;s!==null;){var i=yp(s);if(i!==null&&bT(i),i=w2(e,t,r,n),i===null&&k1(e,t,n,qg,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else k1(e,t,n,null,r)}}var qg=null;function w2(e,t,r,n){if(qg=null,e=dj(n),e=Lc(e),e!==null)if(t=yu(e),t===null)e=null;else if(r=t.tag,r===13){if(e=fT(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qg=e,null}function AT(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Q7()){case fj:return 1;case gT:return 4;case Bg:case eD:return 16;case xT:return 536870912;default:return 16}default:return 16}}var El=null,gj=null,yg=null;function _T(){if(yg)return yg;var e,t=gj,r=t.length,n,s="value"in El?El.value:El.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return yg=s.slice(e,1<n?1-n:void 0)}function vg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function E0(){return!0}function xA(){return!1}function vs(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?E0:xA,this.isPropagationStopped=xA,this}return zr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=E0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=E0)},persist:function(){},isPersistent:E0}),t}var yf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xj=vs(yf),xp=zr({},yf,{view:0,detail:0}),hD=vs(xp),N1,j1,yh,yy=zr({},xp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yj,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yh&&(yh&&e.type==="mousemove"?(N1=e.screenX-yh.screenX,j1=e.screenY-yh.screenY):j1=N1=0,yh=e),N1)},movementY:function(e){return"movementY"in e?e.movementY:j1}}),yA=vs(yy),mD=zr({},yy,{dataTransfer:0}),pD=vs(mD),gD=zr({},xp,{relatedTarget:0}),S1=vs(gD),xD=zr({},yf,{animationName:0,elapsedTime:0,pseudoElement:0}),yD=vs(xD),vD=zr({},yf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bD=vs(vD),wD=zr({},yf,{data:0}),vA=vs(wD),ND={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=SD[e])?!!t[e]:!1}function yj(){return AD}var _D=zr({},xp,{key:function(e){if(e.key){var t=ND[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yj,charCode:function(e){return e.type==="keypress"?vg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ED=vs(_D),PD=zr({},yy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bA=vs(PD),CD=zr({},xp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yj}),TD=vs(CD),kD=zr({},yf,{propertyName:0,elapsedTime:0,pseudoElement:0}),OD=vs(kD),ID=zr({},yy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),LD=vs(ID),RD=[9,13,27,32],vj=Ro&&"CompositionEvent"in window,Wh=null;Ro&&"documentMode"in document&&(Wh=document.documentMode);var MD=Ro&&"TextEvent"in window&&!Wh,ET=Ro&&(!vj||Wh&&8<Wh&&11>=Wh),wA=" ",NA=!1;function PT(e,t){switch(e){case"keyup":return RD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CT(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rd=!1;function DD(e,t){switch(e){case"compositionend":return CT(t);case"keypress":return t.which!==32?null:(NA=!0,wA);case"textInput":return e=t.data,e===wA&&NA?null:e;default:return null}}function $D(e,t){if(rd)return e==="compositionend"||!vj&&PT(e,t)?(e=_T(),yg=gj=El=null,rd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ET&&t.locale!=="ko"?null:t.data;default:return null}}var FD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!FD[e.type]:t==="textarea"}function TT(e,t,r,n){oT(n),t=Hg(t,"onChange"),0<t.length&&(r=new xj("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Gh=null,gm=null;function BD(e){UT(e,0)}function vy(e){var t=sd(e);if(eT(t))return e}function UD(e,t){if(e==="change")return t}var kT=!1;if(Ro){var A1;if(Ro){var _1="oninput"in document;if(!_1){var SA=document.createElement("div");SA.setAttribute("oninput","return;"),_1=typeof SA.oninput=="function"}A1=_1}else A1=!1;kT=A1&&(!document.documentMode||9<document.documentMode)}function AA(){Gh&&(Gh.detachEvent("onpropertychange",OT),gm=Gh=null)}function OT(e){if(e.propertyName==="value"&&vy(gm)){var t=[];TT(t,gm,e,dj(e)),dT(BD,t)}}function zD(e,t,r){e==="focusin"?(AA(),Gh=t,gm=r,Gh.attachEvent("onpropertychange",OT)):e==="focusout"&&AA()}function qD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vy(gm)}function HD(e,t){if(e==="click")return vy(t)}function VD(e,t){if(e==="input"||e==="change")return vy(t)}function WD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fi=typeof Object.is=="function"?Object.is:WD;function xm(e,t){if(fi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!n2.call(t,s)||!fi(e[s],t[s]))return!1}return!0}function _A(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function EA(e,t){var r=_A(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_A(r)}}function IT(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?IT(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function LT(){for(var e=window,t=Dg();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Dg(e.document)}return t}function bj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function GD(e){var t=LT(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&IT(r.ownerDocument.documentElement,r)){if(n!==null&&bj(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=EA(r,i);var o=EA(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var YD=Ro&&"documentMode"in document&&11>=document.documentMode,nd=null,N2=null,Yh=null,j2=!1;function PA(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;j2||nd==null||nd!==Dg(n)||(n=nd,"selectionStart"in n&&bj(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Yh&&xm(Yh,n)||(Yh=n,n=Hg(N2,"onSelect"),0<n.length&&(t=new xj("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=nd)))}function P0(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ad={animationend:P0("Animation","AnimationEnd"),animationiteration:P0("Animation","AnimationIteration"),animationstart:P0("Animation","AnimationStart"),transitionend:P0("Transition","TransitionEnd")},E1={},RT={};Ro&&(RT=document.createElement("div").style,"AnimationEvent"in window||(delete ad.animationend.animation,delete ad.animationiteration.animation,delete ad.animationstart.animation),"TransitionEvent"in window||delete ad.transitionend.transition);function by(e){if(E1[e])return E1[e];if(!ad[e])return e;var t=ad[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in RT)return E1[e]=t[r];return e}var MT=by("animationend"),DT=by("animationiteration"),$T=by("animationstart"),FT=by("transitionend"),BT=new Map,CA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gl(e,t){BT.set(e,t),xu(t,[e])}for(var P1=0;P1<CA.length;P1++){var C1=CA[P1],KD=C1.toLowerCase(),XD=C1[0].toUpperCase()+C1.slice(1);Gl(KD,"on"+XD)}Gl(MT,"onAnimationEnd");Gl(DT,"onAnimationIteration");Gl($T,"onAnimationStart");Gl("dblclick","onDoubleClick");Gl("focusin","onFocus");Gl("focusout","onBlur");Gl(FT,"onTransitionEnd");Id("onMouseEnter",["mouseout","mouseover"]);Id("onMouseLeave",["mouseout","mouseover"]);Id("onPointerEnter",["pointerout","pointerover"]);Id("onPointerLeave",["pointerout","pointerover"]);xu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xu("onBeforeInput",["compositionend","keypress","textInput","paste"]);xu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uh));function TA(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,K7(n,t,void 0,e),e.currentTarget=null}function UT(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;TA(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;TA(s,l,u),i=c}}}if(Fg)throw e=y2,Fg=!1,y2=null,e}function _r(e,t){var r=t[P2];r===void 0&&(r=t[P2]=new Set);var n=e+"__bubble";r.has(n)||(zT(t,e,2,!1),r.add(n))}function T1(e,t,r){var n=0;t&&(n|=4),zT(r,e,n,t)}var C0="_reactListening"+Math.random().toString(36).slice(2);function ym(e){if(!e[C0]){e[C0]=!0,KC.forEach(function(r){r!=="selectionchange"&&(JD.has(r)||T1(r,!1,e),T1(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[C0]||(t[C0]=!0,T1("selectionchange",!1,t))}}function zT(e,t,r,n){switch(AT(t)){case 1:var s=dD;break;case 4:s=fD;break;default:s=pj}r=s.bind(null,t,r,e),s=void 0,!x2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function k1(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Lc(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}dT(function(){var u=i,d=dj(r),f=[];e:{var m=BT.get(e);if(m!==void 0){var h=xj,p=e;switch(e){case"keypress":if(vg(r)===0)break e;case"keydown":case"keyup":h=ED;break;case"focusin":p="focus",h=S1;break;case"focusout":p="blur",h=S1;break;case"beforeblur":case"afterblur":h=S1;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=yA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=pD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=TD;break;case MT:case DT:case $T:h=yD;break;case FT:h=OD;break;case"scroll":h=hD;break;case"wheel":h=LD;break;case"copy":case"cut":case"paste":h=bD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=bA}var y=(t&4)!==0,v=!y&&e==="scroll",x=y?m!==null?m+"Capture":null:m;y=[];for(var b=u,N;b!==null;){N=b;var w=N.stateNode;if(N.tag===5&&w!==null&&(N=w,x!==null&&(w=fm(b,x),w!=null&&y.push(vm(b,w,N)))),v)break;b=b.return}0<y.length&&(m=new h(m,p,null,r,d),f.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&r!==p2&&(p=r.relatedTarget||r.fromElement)&&(Lc(p)||p[Mo]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(p=r.relatedTarget||r.toElement,h=u,p=p?Lc(p):null,p!==null&&(v=yu(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(y=yA,w="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(y=bA,w="onPointerLeave",x="onPointerEnter",b="pointer"),v=h==null?m:sd(h),N=p==null?m:sd(p),m=new y(w,b+"leave",h,r,d),m.target=v,m.relatedTarget=N,w=null,Lc(d)===u&&(y=new y(x,b+"enter",p,r,d),y.target=N,y.relatedTarget=v,w=y),v=w,h&&p)t:{for(y=h,x=p,b=0,N=y;N;N=Bu(N))b++;for(N=0,w=x;w;w=Bu(w))N++;for(;0<b-N;)y=Bu(y),b--;for(;0<N-b;)x=Bu(x),N--;for(;b--;){if(y===x||x!==null&&y===x.alternate)break t;y=Bu(y),x=Bu(x)}y=null}else y=null;h!==null&&kA(f,m,h,y,!1),p!==null&&v!==null&&kA(f,v,p,y,!0)}}e:{if(m=u?sd(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var S=UD;else if(jA(m))if(kT)S=VD;else{S=qD;var _=zD}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=HD);if(S&&(S=S(e,u))){TT(f,S,r,d);break e}_&&_(e,m,u),e==="focusout"&&(_=m._wrapperState)&&_.controlled&&m.type==="number"&&u2(m,"number",m.value)}switch(_=u?sd(u):window,e){case"focusin":(jA(_)||_.contentEditable==="true")&&(nd=_,N2=u,Yh=null);break;case"focusout":Yh=N2=nd=null;break;case"mousedown":j2=!0;break;case"contextmenu":case"mouseup":case"dragend":j2=!1,PA(f,r,d);break;case"selectionchange":if(YD)break;case"keydown":case"keyup":PA(f,r,d)}var T;if(vj)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else rd?PT(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(ET&&r.locale!=="ko"&&(rd||k!=="onCompositionStart"?k==="onCompositionEnd"&&rd&&(T=_T()):(El=d,gj="value"in El?El.value:El.textContent,rd=!0)),_=Hg(u,k),0<_.length&&(k=new vA(k,e,null,r,d),f.push({event:k,listeners:_}),T?k.data=T:(T=CT(r),T!==null&&(k.data=T)))),(T=MD?DD(e,r):$D(e,r))&&(u=Hg(u,"onBeforeInput"),0<u.length&&(d=new vA("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=T))}UT(f,t)})}function vm(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Hg(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=fm(e,r),i!=null&&n.unshift(vm(e,i,s)),i=fm(e,t),i!=null&&n.push(vm(e,i,s))),e=e.return}return n}function Bu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kA(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=fm(r,i),c!=null&&o.unshift(vm(r,c,l))):s||(c=fm(r,i),c!=null&&o.push(vm(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var ZD=/\r\n?/g,QD=/\u0000|\uFFFD/g;function OA(e){return(typeof e=="string"?e:""+e).replace(ZD,`
`).replace(QD,"")}function T0(e,t,r){if(t=OA(t),OA(e)!==t&&r)throw Error(Ve(425))}function Vg(){}var S2=null,A2=null;function _2(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var E2=typeof setTimeout=="function"?setTimeout:void 0,e$=typeof clearTimeout=="function"?clearTimeout:void 0,IA=typeof Promise=="function"?Promise:void 0,t$=typeof queueMicrotask=="function"?queueMicrotask:typeof IA<"u"?function(e){return IA.resolve(null).then(e).catch(r$)}:E2;function r$(e){setTimeout(function(){throw e})}function O1(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),pm(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);pm(t)}function Ml(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function LA(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var vf=Math.random().toString(36).slice(2),Ri="__reactFiber$"+vf,bm="__reactProps$"+vf,Mo="__reactContainer$"+vf,P2="__reactEvents$"+vf,n$="__reactListeners$"+vf,a$="__reactHandles$"+vf;function Lc(e){var t=e[Ri];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Mo]||r[Ri]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=LA(e);e!==null;){if(r=e[Ri])return r;e=LA(e)}return t}e=r,r=e.parentNode}return null}function yp(e){return e=e[Ri]||e[Mo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function sd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ve(33))}function wy(e){return e[bm]||null}var C2=[],id=-1;function Yl(e){return{current:e}}function Tr(e){0>id||(e.current=C2[id],C2[id]=null,id--)}function Nr(e,t){id++,C2[id]=e.current,e.current=t}var Hl={},ma=Yl(Hl),Ha=Yl(!1),Zc=Hl;function Ld(e,t){var r=e.type.contextTypes;if(!r)return Hl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Va(e){return e=e.childContextTypes,e!=null}function Wg(){Tr(Ha),Tr(ma)}function RA(e,t,r){if(ma.current!==Hl)throw Error(Ve(168));Nr(ma,t),Nr(Ha,r)}function qT(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Ve(108,z7(e)||"Unknown",s));return zr({},r,n)}function Gg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hl,Zc=ma.current,Nr(ma,e),Nr(Ha,Ha.current),!0}function MA(e,t,r){var n=e.stateNode;if(!n)throw Error(Ve(169));r?(e=qT(e,t,Zc),n.__reactInternalMemoizedMergedChildContext=e,Tr(Ha),Tr(ma),Nr(ma,e)):Tr(Ha),Nr(Ha,r)}var bo=null,Ny=!1,I1=!1;function HT(e){bo===null?bo=[e]:bo.push(e)}function s$(e){Ny=!0,HT(e)}function Kl(){if(!I1&&bo!==null){I1=!0;var e=0,t=ir;try{var r=bo;for(ir=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}bo=null,Ny=!1}catch(s){throw bo!==null&&(bo=bo.slice(e+1)),pT(fj,Kl),s}finally{ir=t,I1=!1}}return null}var od=[],ld=0,Yg=null,Kg=0,Ts=[],ks=0,Qc=null,Ao=1,_o="";function Sc(e,t){od[ld++]=Kg,od[ld++]=Yg,Yg=e,Kg=t}function VT(e,t,r){Ts[ks++]=Ao,Ts[ks++]=_o,Ts[ks++]=Qc,Qc=e;var n=Ao;e=_o;var s=32-li(n)-1;n&=~(1<<s),r+=1;var i=32-li(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Ao=1<<32-li(t)+s|r<<s|n,_o=i+e}else Ao=1<<i|r<<s|n,_o=e}function wj(e){e.return!==null&&(Sc(e,1),VT(e,1,0))}function Nj(e){for(;e===Yg;)Yg=od[--ld],od[ld]=null,Kg=od[--ld],od[ld]=null;for(;e===Qc;)Qc=Ts[--ks],Ts[ks]=null,_o=Ts[--ks],Ts[ks]=null,Ao=Ts[--ks],Ts[ks]=null}var ms=null,fs=null,Ir=!1,si=null;function WT(e,t){var r=Is(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function DA(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ms=e,fs=Ml(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ms=e,fs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Qc!==null?{id:Ao,overflow:_o}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Is(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ms=e,fs=null,!0):!1;default:return!1}}function T2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function k2(e){if(Ir){var t=fs;if(t){var r=t;if(!DA(e,t)){if(T2(e))throw Error(Ve(418));t=Ml(r.nextSibling);var n=ms;t&&DA(e,t)?WT(n,r):(e.flags=e.flags&-4097|2,Ir=!1,ms=e)}}else{if(T2(e))throw Error(Ve(418));e.flags=e.flags&-4097|2,Ir=!1,ms=e}}}function $A(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ms=e}function k0(e){if(e!==ms)return!1;if(!Ir)return $A(e),Ir=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_2(e.type,e.memoizedProps)),t&&(t=fs)){if(T2(e))throw GT(),Error(Ve(418));for(;t;)WT(e,t),t=Ml(t.nextSibling)}if($A(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ve(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){fs=Ml(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}fs=null}}else fs=ms?Ml(e.stateNode.nextSibling):null;return!0}function GT(){for(var e=fs;e;)e=Ml(e.nextSibling)}function Rd(){fs=ms=null,Ir=!1}function jj(e){si===null?si=[e]:si.push(e)}var i$=Vo.ReactCurrentBatchConfig;function vh(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ve(309));var n=r.stateNode}if(!n)throw Error(Ve(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ve(284));if(!r._owner)throw Error(Ve(290,e))}return e}function O0(e,t){throw e=Object.prototype.toString.call(t),Error(Ve(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function FA(e){var t=e._init;return t(e._payload)}function YT(e){function t(x,b){if(e){var N=x.deletions;N===null?(x.deletions=[b],x.flags|=16):N.push(b)}}function r(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function s(x,b){return x=Bl(x,b),x.index=0,x.sibling=null,x}function i(x,b,N){return x.index=N,e?(N=x.alternate,N!==null?(N=N.index,N<b?(x.flags|=2,b):N):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,b,N,w){return b===null||b.tag!==6?(b=B1(N,x.mode,w),b.return=x,b):(b=s(b,N),b.return=x,b)}function c(x,b,N,w){var S=N.type;return S===td?d(x,b,N.props.children,w,N.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===yl&&FA(S)===b.type)?(w=s(b,N.props),w.ref=vh(x,b,N),w.return=x,w):(w=_g(N.type,N.key,N.props,null,x.mode,w),w.ref=vh(x,b,N),w.return=x,w)}function u(x,b,N,w){return b===null||b.tag!==4||b.stateNode.containerInfo!==N.containerInfo||b.stateNode.implementation!==N.implementation?(b=U1(N,x.mode,w),b.return=x,b):(b=s(b,N.children||[]),b.return=x,b)}function d(x,b,N,w,S){return b===null||b.tag!==7?(b=Vc(N,x.mode,w,S),b.return=x,b):(b=s(b,N),b.return=x,b)}function f(x,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return b=B1(""+b,x.mode,N),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case w0:return N=_g(b.type,b.key,b.props,null,x.mode,N),N.ref=vh(x,null,b),N.return=x,N;case ed:return b=U1(b,x.mode,N),b.return=x,b;case yl:var w=b._init;return f(x,w(b._payload),N)}if(Fh(b)||mh(b))return b=Vc(b,x.mode,N,null),b.return=x,b;O0(x,b)}return null}function m(x,b,N,w){var S=b!==null?b.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return S!==null?null:l(x,b,""+N,w);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case w0:return N.key===S?c(x,b,N,w):null;case ed:return N.key===S?u(x,b,N,w):null;case yl:return S=N._init,m(x,b,S(N._payload),w)}if(Fh(N)||mh(N))return S!==null?null:d(x,b,N,w,null);O0(x,N)}return null}function h(x,b,N,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return x=x.get(N)||null,l(b,x,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case w0:return x=x.get(w.key===null?N:w.key)||null,c(b,x,w,S);case ed:return x=x.get(w.key===null?N:w.key)||null,u(b,x,w,S);case yl:var _=w._init;return h(x,b,N,_(w._payload),S)}if(Fh(w)||mh(w))return x=x.get(N)||null,d(b,x,w,S,null);O0(b,w)}return null}function p(x,b,N,w){for(var S=null,_=null,T=b,k=b=0,P=null;T!==null&&k<N.length;k++){T.index>k?(P=T,T=null):P=T.sibling;var D=m(x,T,N[k],w);if(D===null){T===null&&(T=P);break}e&&T&&D.alternate===null&&t(x,T),b=i(D,b,k),_===null?S=D:_.sibling=D,_=D,T=P}if(k===N.length)return r(x,T),Ir&&Sc(x,k),S;if(T===null){for(;k<N.length;k++)T=f(x,N[k],w),T!==null&&(b=i(T,b,k),_===null?S=T:_.sibling=T,_=T);return Ir&&Sc(x,k),S}for(T=n(x,T);k<N.length;k++)P=h(T,x,k,N[k],w),P!==null&&(e&&P.alternate!==null&&T.delete(P.key===null?k:P.key),b=i(P,b,k),_===null?S=P:_.sibling=P,_=P);return e&&T.forEach(function(A){return t(x,A)}),Ir&&Sc(x,k),S}function y(x,b,N,w){var S=mh(N);if(typeof S!="function")throw Error(Ve(150));if(N=S.call(N),N==null)throw Error(Ve(151));for(var _=S=null,T=b,k=b=0,P=null,D=N.next();T!==null&&!D.done;k++,D=N.next()){T.index>k?(P=T,T=null):P=T.sibling;var A=m(x,T,D.value,w);if(A===null){T===null&&(T=P);break}e&&T&&A.alternate===null&&t(x,T),b=i(A,b,k),_===null?S=A:_.sibling=A,_=A,T=P}if(D.done)return r(x,T),Ir&&Sc(x,k),S;if(T===null){for(;!D.done;k++,D=N.next())D=f(x,D.value,w),D!==null&&(b=i(D,b,k),_===null?S=D:_.sibling=D,_=D);return Ir&&Sc(x,k),S}for(T=n(x,T);!D.done;k++,D=N.next())D=h(T,x,k,D.value,w),D!==null&&(e&&D.alternate!==null&&T.delete(D.key===null?k:D.key),b=i(D,b,k),_===null?S=D:_.sibling=D,_=D);return e&&T.forEach(function(I){return t(x,I)}),Ir&&Sc(x,k),S}function v(x,b,N,w){if(typeof N=="object"&&N!==null&&N.type===td&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case w0:e:{for(var S=N.key,_=b;_!==null;){if(_.key===S){if(S=N.type,S===td){if(_.tag===7){r(x,_.sibling),b=s(_,N.props.children),b.return=x,x=b;break e}}else if(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===yl&&FA(S)===_.type){r(x,_.sibling),b=s(_,N.props),b.ref=vh(x,_,N),b.return=x,x=b;break e}r(x,_);break}else t(x,_);_=_.sibling}N.type===td?(b=Vc(N.props.children,x.mode,w,N.key),b.return=x,x=b):(w=_g(N.type,N.key,N.props,null,x.mode,w),w.ref=vh(x,b,N),w.return=x,x=w)}return o(x);case ed:e:{for(_=N.key;b!==null;){if(b.key===_)if(b.tag===4&&b.stateNode.containerInfo===N.containerInfo&&b.stateNode.implementation===N.implementation){r(x,b.sibling),b=s(b,N.children||[]),b.return=x,x=b;break e}else{r(x,b);break}else t(x,b);b=b.sibling}b=U1(N,x.mode,w),b.return=x,x=b}return o(x);case yl:return _=N._init,v(x,b,_(N._payload),w)}if(Fh(N))return p(x,b,N,w);if(mh(N))return y(x,b,N,w);O0(x,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,b!==null&&b.tag===6?(r(x,b.sibling),b=s(b,N),b.return=x,x=b):(r(x,b),b=B1(N,x.mode,w),b.return=x,x=b),o(x)):r(x,b)}return v}var Md=YT(!0),KT=YT(!1),Xg=Yl(null),Jg=null,cd=null,Sj=null;function Aj(){Sj=cd=Jg=null}function _j(e){var t=Xg.current;Tr(Xg),e._currentValue=t}function O2(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function jd(e,t){Jg=e,Sj=cd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(za=!0),e.firstContext=null)}function Ds(e){var t=e._currentValue;if(Sj!==e)if(e={context:e,memoizedValue:t,next:null},cd===null){if(Jg===null)throw Error(Ve(308));cd=e,Jg.dependencies={lanes:0,firstContext:e}}else cd=cd.next=e;return t}var Rc=null;function Ej(e){Rc===null?Rc=[e]:Rc.push(e)}function XT(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Ej(t)):(r.next=s.next,s.next=r),t.interleaved=r,Do(e,n)}function Do(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var vl=!1;function Pj(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JT(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function To(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Dl(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Xt&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Do(e,r)}return s=n.interleaved,s===null?(t.next=t,Ej(n)):(t.next=s.next,s.next=t),n.interleaved=t,Do(e,r)}function bg(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,hj(e,r)}}function BA(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Zg(e,t,r,n){var s=e.updateQueue;vl=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var m=l.lane,h=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,y=l;switch(m=t,h=r,y.tag){case 1:if(p=y.payload,typeof p=="function"){f=p.call(h,f,m);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,m=typeof p=="function"?p.call(h,f,m):p,m==null)break e;f=zr({},f,m);break e;case 2:vl=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else h={eventTime:h,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,c=f):d=d.next=h,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);tu|=o,e.lanes=o,e.memoizedState=f}}function UA(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Ve(191,s));s.call(n)}}}var vp={},zi=Yl(vp),wm=Yl(vp),Nm=Yl(vp);function Mc(e){if(e===vp)throw Error(Ve(174));return e}function Cj(e,t){switch(Nr(Nm,t),Nr(wm,e),Nr(zi,vp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:f2(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=f2(t,e)}Tr(zi),Nr(zi,t)}function Dd(){Tr(zi),Tr(wm),Tr(Nm)}function ZT(e){Mc(Nm.current);var t=Mc(zi.current),r=f2(t,e.type);t!==r&&(Nr(wm,e),Nr(zi,r))}function Tj(e){wm.current===e&&(Tr(zi),Tr(wm))}var $r=Yl(0);function Qg(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var L1=[];function kj(){for(var e=0;e<L1.length;e++)L1[e]._workInProgressVersionPrimary=null;L1.length=0}var wg=Vo.ReactCurrentDispatcher,R1=Vo.ReactCurrentBatchConfig,eu=0,Br=null,Sn=null,kn=null,ex=!1,Kh=!1,jm=0,o$=0;function ta(){throw Error(Ve(321))}function Oj(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!fi(e[r],t[r]))return!1;return!0}function Ij(e,t,r,n,s,i){if(eu=i,Br=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wg.current=e===null||e.memoizedState===null?d$:f$,e=r(n,s),Kh){i=0;do{if(Kh=!1,jm=0,25<=i)throw Error(Ve(301));i+=1,kn=Sn=null,t.updateQueue=null,wg.current=h$,e=r(n,s)}while(Kh)}if(wg.current=tx,t=Sn!==null&&Sn.next!==null,eu=0,kn=Sn=Br=null,ex=!1,t)throw Error(Ve(300));return e}function Lj(){var e=jm!==0;return jm=0,e}function Ii(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?Br.memoizedState=kn=e:kn=kn.next=e,kn}function $s(){if(Sn===null){var e=Br.alternate;e=e!==null?e.memoizedState:null}else e=Sn.next;var t=kn===null?Br.memoizedState:kn.next;if(t!==null)kn=t,Sn=e;else{if(e===null)throw Error(Ve(310));Sn=e,e={memoizedState:Sn.memoizedState,baseState:Sn.baseState,baseQueue:Sn.baseQueue,queue:Sn.queue,next:null},kn===null?Br.memoizedState=kn=e:kn=kn.next=e}return kn}function Sm(e,t){return typeof t=="function"?t(e):t}function M1(e){var t=$s(),r=t.queue;if(r===null)throw Error(Ve(311));r.lastRenderedReducer=e;var n=Sn,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((eu&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Br.lanes|=d,tu|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,fi(n,t.memoizedState)||(za=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Br.lanes|=i,tu|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function D1(e){var t=$s(),r=t.queue;if(r===null)throw Error(Ve(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);fi(i,t.memoizedState)||(za=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function QT(){}function ek(e,t){var r=Br,n=$s(),s=t(),i=!fi(n.memoizedState,s);if(i&&(n.memoizedState=s,za=!0),n=n.queue,Rj(nk.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||kn!==null&&kn.memoizedState.tag&1){if(r.flags|=2048,Am(9,rk.bind(null,r,n,s,t),void 0,null),Dn===null)throw Error(Ve(349));eu&30||tk(r,t,s)}return s}function tk(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Br.updateQueue,t===null?(t={lastEffect:null,stores:null},Br.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function rk(e,t,r,n){t.value=r,t.getSnapshot=n,ak(t)&&sk(e)}function nk(e,t,r){return r(function(){ak(t)&&sk(e)})}function ak(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!fi(e,r)}catch{return!0}}function sk(e){var t=Do(e,1);t!==null&&ci(t,e,1,-1)}function zA(e){var t=Ii();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sm,lastRenderedState:e},t.queue=e,e=e.dispatch=u$.bind(null,Br,e),[t.memoizedState,e]}function Am(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Br.updateQueue,t===null?(t={lastEffect:null,stores:null},Br.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ik(){return $s().memoizedState}function Ng(e,t,r,n){var s=Ii();Br.flags|=e,s.memoizedState=Am(1|t,r,void 0,n===void 0?null:n)}function jy(e,t,r,n){var s=$s();n=n===void 0?null:n;var i=void 0;if(Sn!==null){var o=Sn.memoizedState;if(i=o.destroy,n!==null&&Oj(n,o.deps)){s.memoizedState=Am(t,r,i,n);return}}Br.flags|=e,s.memoizedState=Am(1|t,r,i,n)}function qA(e,t){return Ng(8390656,8,e,t)}function Rj(e,t){return jy(2048,8,e,t)}function ok(e,t){return jy(4,2,e,t)}function lk(e,t){return jy(4,4,e,t)}function ck(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function uk(e,t,r){return r=r!=null?r.concat([e]):null,jy(4,4,ck.bind(null,t,e),r)}function Mj(){}function dk(e,t){var r=$s();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Oj(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function fk(e,t){var r=$s();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Oj(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function hk(e,t,r){return eu&21?(fi(r,t)||(r=yT(),Br.lanes|=r,tu|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,za=!0),e.memoizedState=r)}function l$(e,t){var r=ir;ir=r!==0&&4>r?r:4,e(!0);var n=R1.transition;R1.transition={};try{e(!1),t()}finally{ir=r,R1.transition=n}}function mk(){return $s().memoizedState}function c$(e,t,r){var n=Fl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},pk(e))gk(t,r);else if(r=XT(e,t,r,n),r!==null){var s=Ca();ci(r,e,n,s),xk(r,t,n)}}function u$(e,t,r){var n=Fl(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(pk(e))gk(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,fi(l,o)){var c=t.interleaved;c===null?(s.next=s,Ej(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=XT(e,t,s,n),r!==null&&(s=Ca(),ci(r,e,n,s),xk(r,t,n))}}function pk(e){var t=e.alternate;return e===Br||t!==null&&t===Br}function gk(e,t){Kh=ex=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function xk(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,hj(e,r)}}var tx={readContext:Ds,useCallback:ta,useContext:ta,useEffect:ta,useImperativeHandle:ta,useInsertionEffect:ta,useLayoutEffect:ta,useMemo:ta,useReducer:ta,useRef:ta,useState:ta,useDebugValue:ta,useDeferredValue:ta,useTransition:ta,useMutableSource:ta,useSyncExternalStore:ta,useId:ta,unstable_isNewReconciler:!1},d$={readContext:Ds,useCallback:function(e,t){return Ii().memoizedState=[e,t===void 0?null:t],e},useContext:Ds,useEffect:qA,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ng(4194308,4,ck.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ng(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ng(4,2,e,t)},useMemo:function(e,t){var r=Ii();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ii();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=c$.bind(null,Br,e),[n.memoizedState,e]},useRef:function(e){var t=Ii();return e={current:e},t.memoizedState=e},useState:zA,useDebugValue:Mj,useDeferredValue:function(e){return Ii().memoizedState=e},useTransition:function(){var e=zA(!1),t=e[0];return e=l$.bind(null,e[1]),Ii().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Br,s=Ii();if(Ir){if(r===void 0)throw Error(Ve(407));r=r()}else{if(r=t(),Dn===null)throw Error(Ve(349));eu&30||tk(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,qA(nk.bind(null,n,i,e),[e]),n.flags|=2048,Am(9,rk.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Ii(),t=Dn.identifierPrefix;if(Ir){var r=_o,n=Ao;r=(n&~(1<<32-li(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=jm++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=o$++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},f$={readContext:Ds,useCallback:dk,useContext:Ds,useEffect:Rj,useImperativeHandle:uk,useInsertionEffect:ok,useLayoutEffect:lk,useMemo:fk,useReducer:M1,useRef:ik,useState:function(){return M1(Sm)},useDebugValue:Mj,useDeferredValue:function(e){var t=$s();return hk(t,Sn.memoizedState,e)},useTransition:function(){var e=M1(Sm)[0],t=$s().memoizedState;return[e,t]},useMutableSource:QT,useSyncExternalStore:ek,useId:mk,unstable_isNewReconciler:!1},h$={readContext:Ds,useCallback:dk,useContext:Ds,useEffect:Rj,useImperativeHandle:uk,useInsertionEffect:ok,useLayoutEffect:lk,useMemo:fk,useReducer:D1,useRef:ik,useState:function(){return D1(Sm)},useDebugValue:Mj,useDeferredValue:function(e){var t=$s();return Sn===null?t.memoizedState=e:hk(t,Sn.memoizedState,e)},useTransition:function(){var e=D1(Sm)[0],t=$s().memoizedState;return[e,t]},useMutableSource:QT,useSyncExternalStore:ek,useId:mk,unstable_isNewReconciler:!1};function ti(e,t){if(e&&e.defaultProps){t=zr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function I2(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:zr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Sy={isMounted:function(e){return(e=e._reactInternals)?yu(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ca(),s=Fl(e),i=To(n,s);i.payload=t,r!=null&&(i.callback=r),t=Dl(e,i,s),t!==null&&(ci(t,e,s,n),bg(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ca(),s=Fl(e),i=To(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Dl(e,i,s),t!==null&&(ci(t,e,s,n),bg(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ca(),n=Fl(e),s=To(r,n);s.tag=2,t!=null&&(s.callback=t),t=Dl(e,s,n),t!==null&&(ci(t,e,n,r),bg(t,e,n))}};function HA(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!xm(r,n)||!xm(s,i):!0}function yk(e,t,r){var n=!1,s=Hl,i=t.contextType;return typeof i=="object"&&i!==null?i=Ds(i):(s=Va(t)?Zc:ma.current,n=t.contextTypes,i=(n=n!=null)?Ld(e,s):Hl),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Sy,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function VA(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Sy.enqueueReplaceState(t,t.state,null)}function L2(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Pj(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ds(i):(i=Va(t)?Zc:ma.current,s.context=Ld(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(I2(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Sy.enqueueReplaceState(s,s.state,null),Zg(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function $d(e,t){try{var r="",n=t;do r+=U7(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function $1(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function R2(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var m$=typeof WeakMap=="function"?WeakMap:Map;function vk(e,t,r){r=To(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){nx||(nx=!0,V2=n),R2(e,t)},r}function bk(e,t,r){r=To(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){R2(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){R2(e,t),typeof n!="function"&&($l===null?$l=new Set([this]):$l.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function WA(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new m$;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=P$.bind(null,e,t,r),t.then(e,e))}function GA(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function YA(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=To(-1,1),t.tag=2,Dl(r,t,1))),r.lanes|=1),e)}var p$=Vo.ReactCurrentOwner,za=!1;function Na(e,t,r,n){t.child=e===null?KT(t,null,r,n):Md(t,e.child,r,n)}function KA(e,t,r,n,s){r=r.render;var i=t.ref;return jd(t,s),n=Ij(e,t,r,n,i,s),r=Lj(),e!==null&&!za?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,$o(e,t,s)):(Ir&&r&&wj(t),t.flags|=1,Na(e,t,n,s),t.child)}function XA(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Hj(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,wk(e,t,i,n,s)):(e=_g(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:xm,r(o,n)&&e.ref===t.ref)return $o(e,t,s)}return t.flags|=1,e=Bl(i,n),e.ref=t.ref,e.return=t,t.child=e}function wk(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(xm(i,n)&&e.ref===t.ref)if(za=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(za=!0);else return t.lanes=e.lanes,$o(e,t,s)}return M2(e,t,r,n,s)}function Nk(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nr(dd,ls),ls|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Nr(dd,ls),ls|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Nr(dd,ls),ls|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Nr(dd,ls),ls|=n;return Na(e,t,s,r),t.child}function jk(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function M2(e,t,r,n,s){var i=Va(r)?Zc:ma.current;return i=Ld(t,i),jd(t,s),r=Ij(e,t,r,n,i,s),n=Lj(),e!==null&&!za?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,$o(e,t,s)):(Ir&&n&&wj(t),t.flags|=1,Na(e,t,r,s),t.child)}function JA(e,t,r,n,s){if(Va(r)){var i=!0;Gg(t)}else i=!1;if(jd(t,s),t.stateNode===null)jg(e,t),yk(t,r,n),L2(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ds(u):(u=Va(r)?Zc:ma.current,u=Ld(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&VA(t,o,n,u),vl=!1;var m=t.memoizedState;o.state=m,Zg(t,n,o,s),c=t.memoizedState,l!==n||m!==c||Ha.current||vl?(typeof d=="function"&&(I2(t,r,d,n),c=t.memoizedState),(l=vl||HA(t,r,l,n,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,JT(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ti(t.type,l),o.props=u,f=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ds(c):(c=Va(r)?Zc:ma.current,c=Ld(t,c));var h=r.getDerivedStateFromProps;(d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&VA(t,o,n,c),vl=!1,m=t.memoizedState,o.state=m,Zg(t,n,o,s);var p=t.memoizedState;l!==f||m!==p||Ha.current||vl?(typeof h=="function"&&(I2(t,r,h,n),p=t.memoizedState),(u=vl||HA(t,r,u,n,m,p,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return D2(e,t,r,n,i,s)}function D2(e,t,r,n,s,i){jk(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&MA(t,r,!1),$o(e,t,i);n=t.stateNode,p$.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Md(t,e.child,null,i),t.child=Md(t,null,l,i)):Na(e,t,l,i),t.memoizedState=n.state,s&&MA(t,r,!0),t.child}function Sk(e){var t=e.stateNode;t.pendingContext?RA(e,t.pendingContext,t.pendingContext!==t.context):t.context&&RA(e,t.context,!1),Cj(e,t.containerInfo)}function ZA(e,t,r,n,s){return Rd(),jj(s),t.flags|=256,Na(e,t,r,n),t.child}var $2={dehydrated:null,treeContext:null,retryLane:0};function F2(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ak(e,t,r){var n=t.pendingProps,s=$r.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Nr($r,s&1),e===null)return k2(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ey(o,n,0,null),e=Vc(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=F2(r),t.memoizedState=$2,e):Dj(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return g$(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Bl(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Bl(l,i):(i=Vc(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?F2(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=$2,n}return i=e.child,e=i.sibling,n=Bl(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Dj(e,t){return t=Ey({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function I0(e,t,r,n){return n!==null&&jj(n),Md(t,e.child,null,r),e=Dj(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function g$(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=$1(Error(Ve(422))),I0(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Ey({mode:"visible",children:n.children},s,0,null),i=Vc(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Md(t,e.child,null,o),t.child.memoizedState=F2(o),t.memoizedState=$2,i);if(!(t.mode&1))return I0(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Ve(419)),n=$1(i,n,void 0),I0(e,t,o,n)}if(l=(o&e.childLanes)!==0,za||l){if(n=Dn,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Do(e,s),ci(n,e,s,-1))}return qj(),n=$1(Error(Ve(421))),I0(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=C$.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,fs=Ml(s.nextSibling),ms=t,Ir=!0,si=null,e!==null&&(Ts[ks++]=Ao,Ts[ks++]=_o,Ts[ks++]=Qc,Ao=e.id,_o=e.overflow,Qc=t),t=Dj(t,n.children),t.flags|=4096,t)}function QA(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),O2(e.return,t,r)}function F1(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function _k(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Na(e,t,n.children,r),n=$r.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&QA(e,r,t);else if(e.tag===19)QA(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Nr($r,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Qg(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),F1(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Qg(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}F1(t,!0,r,null,i);break;case"together":F1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function jg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $o(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),tu|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ve(153));if(t.child!==null){for(e=t.child,r=Bl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Bl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function x$(e,t,r){switch(t.tag){case 3:Sk(t),Rd();break;case 5:ZT(t);break;case 1:Va(t.type)&&Gg(t);break;case 4:Cj(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Nr(Xg,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Nr($r,$r.current&1),t.flags|=128,null):r&t.child.childLanes?Ak(e,t,r):(Nr($r,$r.current&1),e=$o(e,t,r),e!==null?e.sibling:null);Nr($r,$r.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return _k(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Nr($r,$r.current),n)break;return null;case 22:case 23:return t.lanes=0,Nk(e,t,r)}return $o(e,t,r)}var Ek,B2,Pk,Ck;Ek=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};B2=function(){};Pk=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Mc(zi.current);var i=null;switch(r){case"input":s=l2(e,s),n=l2(e,n),i=[];break;case"select":s=zr({},s,{value:void 0}),n=zr({},n,{value:void 0}),i=[];break;case"textarea":s=d2(e,s),n=d2(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Vg)}h2(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(um.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(um.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&_r("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Ck=function(e,t,r,n){r!==n&&(t.flags|=4)};function bh(e,t){if(!Ir)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ra(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function y$(e,t,r){var n=t.pendingProps;switch(Nj(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ra(t),null;case 1:return Va(t.type)&&Wg(),ra(t),null;case 3:return n=t.stateNode,Dd(),Tr(Ha),Tr(ma),kj(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(k0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,si!==null&&(Y2(si),si=null))),B2(e,t),ra(t),null;case 5:Tj(t);var s=Mc(Nm.current);if(r=t.type,e!==null&&t.stateNode!=null)Pk(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ve(166));return ra(t),null}if(e=Mc(zi.current),k0(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ri]=t,n[bm]=i,e=(t.mode&1)!==0,r){case"dialog":_r("cancel",n),_r("close",n);break;case"iframe":case"object":case"embed":_r("load",n);break;case"video":case"audio":for(s=0;s<Uh.length;s++)_r(Uh[s],n);break;case"source":_r("error",n);break;case"img":case"image":case"link":_r("error",n),_r("load",n);break;case"details":_r("toggle",n);break;case"input":lA(n,i),_r("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},_r("invalid",n);break;case"textarea":uA(n,i),_r("invalid",n)}h2(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&T0(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&T0(n.textContent,l,e),s=["children",""+l]):um.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&_r("scroll",n)}switch(r){case"input":N0(n),cA(n,i,!0);break;case"textarea":N0(n),dA(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Vg)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nT(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ri]=t,e[bm]=n,Ek(e,t,!1,!1),t.stateNode=e;e:{switch(o=m2(r,n),r){case"dialog":_r("cancel",e),_r("close",e),s=n;break;case"iframe":case"object":case"embed":_r("load",e),s=n;break;case"video":case"audio":for(s=0;s<Uh.length;s++)_r(Uh[s],e);s=n;break;case"source":_r("error",e),s=n;break;case"img":case"image":case"link":_r("error",e),_r("load",e),s=n;break;case"details":_r("toggle",e),s=n;break;case"input":lA(e,n),s=l2(e,n),_r("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=zr({},n,{value:void 0}),_r("invalid",e);break;case"textarea":uA(e,n),s=d2(e,n),_r("invalid",e);break;default:s=n}h2(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?iT(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&aT(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&dm(e,c):typeof c=="number"&&dm(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(um.hasOwnProperty(i)?c!=null&&i==="onScroll"&&_r("scroll",e):c!=null&&oj(e,i,c,o))}switch(r){case"input":N0(e),cA(e,n,!1);break;case"textarea":N0(e),dA(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ql(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?vd(e,!!n.multiple,i,!1):n.defaultValue!=null&&vd(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Vg)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ra(t),null;case 6:if(e&&t.stateNode!=null)Ck(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ve(166));if(r=Mc(Nm.current),Mc(zi.current),k0(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ri]=t,(i=n.nodeValue!==r)&&(e=ms,e!==null))switch(e.tag){case 3:T0(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&T0(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ri]=t,t.stateNode=n}return ra(t),null;case 13:if(Tr($r),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ir&&fs!==null&&t.mode&1&&!(t.flags&128))GT(),Rd(),t.flags|=98560,i=!1;else if(i=k0(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Ve(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ve(317));i[Ri]=t}else Rd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ra(t),i=!1}else si!==null&&(Y2(si),si=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||$r.current&1?_n===0&&(_n=3):qj())),t.updateQueue!==null&&(t.flags|=4),ra(t),null);case 4:return Dd(),B2(e,t),e===null&&ym(t.stateNode.containerInfo),ra(t),null;case 10:return _j(t.type._context),ra(t),null;case 17:return Va(t.type)&&Wg(),ra(t),null;case 19:if(Tr($r),i=t.memoizedState,i===null)return ra(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)bh(i,!1);else{if(_n!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Qg(e),o!==null){for(t.flags|=128,bh(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Nr($r,$r.current&1|2),t.child}e=e.sibling}i.tail!==null&&tn()>Fd&&(t.flags|=128,n=!0,bh(i,!1),t.lanes=4194304)}else{if(!n)if(e=Qg(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),bh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ir)return ra(t),null}else 2*tn()-i.renderingStartTime>Fd&&r!==1073741824&&(t.flags|=128,n=!0,bh(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=tn(),t.sibling=null,r=$r.current,Nr($r,n?r&1|2:r&1),t):(ra(t),null);case 22:case 23:return zj(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ls&1073741824&&(ra(t),t.subtreeFlags&6&&(t.flags|=8192)):ra(t),null;case 24:return null;case 25:return null}throw Error(Ve(156,t.tag))}function v$(e,t){switch(Nj(t),t.tag){case 1:return Va(t.type)&&Wg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Dd(),Tr(Ha),Tr(ma),kj(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Tj(t),null;case 13:if(Tr($r),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ve(340));Rd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Tr($r),null;case 4:return Dd(),null;case 10:return _j(t.type._context),null;case 22:case 23:return zj(),null;case 24:return null;default:return null}}var L0=!1,ua=!1,b$=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function ud(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Wr(e,t,n)}else r.current=null}function U2(e,t,r){try{r()}catch(n){Wr(e,t,n)}}var e4=!1;function w$(e,t){if(S2=zg,e=LT(),bj(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var h;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===e)break t;if(m===r&&++u===s&&(l=o),m===i&&++d===n&&(c=o),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(A2={focusedElem:e,selectionRange:r},zg=!1,Ze=t;Ze!==null;)if(t=Ze,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ze=e;else for(;Ze!==null;){t=Ze;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,v=p.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?y:ti(t.type,y),v);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ve(163))}}catch(w){Wr(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Ze=e;break}Ze=t.return}return p=e4,e4=!1,p}function Xh(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&U2(t,r,i)}s=s.next}while(s!==n)}}function Ay(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function z2(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Tk(e){var t=e.alternate;t!==null&&(e.alternate=null,Tk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ri],delete t[bm],delete t[P2],delete t[n$],delete t[a$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kk(e){return e.tag===5||e.tag===3||e.tag===4}function t4(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kk(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function q2(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Vg));else if(n!==4&&(e=e.child,e!==null))for(q2(e,t,r),e=e.sibling;e!==null;)q2(e,t,r),e=e.sibling}function H2(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(H2(e,t,r),e=e.sibling;e!==null;)H2(e,t,r),e=e.sibling}var Kn=null,ri=!1;function hl(e,t,r){for(r=r.child;r!==null;)Ok(e,t,r),r=r.sibling}function Ok(e,t,r){if(Ui&&typeof Ui.onCommitFiberUnmount=="function")try{Ui.onCommitFiberUnmount(xy,r)}catch{}switch(r.tag){case 5:ua||ud(r,t);case 6:var n=Kn,s=ri;Kn=null,hl(e,t,r),Kn=n,ri=s,Kn!==null&&(ri?(e=Kn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Kn.removeChild(r.stateNode));break;case 18:Kn!==null&&(ri?(e=Kn,r=r.stateNode,e.nodeType===8?O1(e.parentNode,r):e.nodeType===1&&O1(e,r),pm(e)):O1(Kn,r.stateNode));break;case 4:n=Kn,s=ri,Kn=r.stateNode.containerInfo,ri=!0,hl(e,t,r),Kn=n,ri=s;break;case 0:case 11:case 14:case 15:if(!ua&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&U2(r,t,o),s=s.next}while(s!==n)}hl(e,t,r);break;case 1:if(!ua&&(ud(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Wr(r,t,l)}hl(e,t,r);break;case 21:hl(e,t,r);break;case 22:r.mode&1?(ua=(n=ua)||r.memoizedState!==null,hl(e,t,r),ua=n):hl(e,t,r);break;default:hl(e,t,r)}}function r4(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new b$),t.forEach(function(n){var s=T$.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Js(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Kn=l.stateNode,ri=!1;break e;case 3:Kn=l.stateNode.containerInfo,ri=!0;break e;case 4:Kn=l.stateNode.containerInfo,ri=!0;break e}l=l.return}if(Kn===null)throw Error(Ve(160));Ok(i,o,s),Kn=null,ri=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Wr(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ik(t,e),t=t.sibling}function Ik(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Js(t,e),Ei(e),n&4){try{Xh(3,e,e.return),Ay(3,e)}catch(y){Wr(e,e.return,y)}try{Xh(5,e,e.return)}catch(y){Wr(e,e.return,y)}}break;case 1:Js(t,e),Ei(e),n&512&&r!==null&&ud(r,r.return);break;case 5:if(Js(t,e),Ei(e),n&512&&r!==null&&ud(r,r.return),e.flags&32){var s=e.stateNode;try{dm(s,"")}catch(y){Wr(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&tT(s,i),m2(l,o);var u=m2(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?iT(s,f):d==="dangerouslySetInnerHTML"?aT(s,f):d==="children"?dm(s,f):oj(s,d,f,u)}switch(l){case"input":c2(s,i);break;case"textarea":rT(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?vd(s,!!i.multiple,h,!1):m!==!!i.multiple&&(i.defaultValue!=null?vd(s,!!i.multiple,i.defaultValue,!0):vd(s,!!i.multiple,i.multiple?[]:"",!1))}s[bm]=i}catch(y){Wr(e,e.return,y)}}break;case 6:if(Js(t,e),Ei(e),n&4){if(e.stateNode===null)throw Error(Ve(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){Wr(e,e.return,y)}}break;case 3:if(Js(t,e),Ei(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{pm(t.containerInfo)}catch(y){Wr(e,e.return,y)}break;case 4:Js(t,e),Ei(e);break;case 13:Js(t,e),Ei(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Bj=tn())),n&4&&r4(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ua=(u=ua)||d,Js(t,e),ua=u):Js(t,e),Ei(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ze=e,d=e.child;d!==null;){for(f=Ze=d;Ze!==null;){switch(m=Ze,h=m.child,m.tag){case 0:case 11:case 14:case 15:Xh(4,m,m.return);break;case 1:ud(m,m.return);var p=m.stateNode;if(typeof p.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(y){Wr(n,r,y)}}break;case 5:ud(m,m.return);break;case 22:if(m.memoizedState!==null){a4(f);continue}}h!==null?(h.return=m,Ze=h):a4(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=sT("display",o))}catch(y){Wr(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Wr(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Js(t,e),Ei(e),n&4&&r4(e);break;case 21:break;default:Js(t,e),Ei(e)}}function Ei(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(kk(r)){var n=r;break e}r=r.return}throw Error(Ve(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(dm(s,""),n.flags&=-33);var i=t4(e);H2(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=t4(e);q2(e,l,o);break;default:throw Error(Ve(161))}}catch(c){Wr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function N$(e,t,r){Ze=e,Lk(e)}function Lk(e,t,r){for(var n=(e.mode&1)!==0;Ze!==null;){var s=Ze,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||L0;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||ua;l=L0;var u=ua;if(L0=o,(ua=c)&&!u)for(Ze=s;Ze!==null;)o=Ze,c=o.child,o.tag===22&&o.memoizedState!==null?s4(s):c!==null?(c.return=o,Ze=c):s4(s);for(;i!==null;)Ze=i,Lk(i),i=i.sibling;Ze=s,L0=l,ua=u}n4(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Ze=i):n4(e)}}function n4(e){for(;Ze!==null;){var t=Ze;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ua||Ay(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ua)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ti(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&UA(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}UA(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&pm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ve(163))}ua||t.flags&512&&z2(t)}catch(m){Wr(t,t.return,m)}}if(t===e){Ze=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ze=r;break}Ze=t.return}}function a4(e){for(;Ze!==null;){var t=Ze;if(t===e){Ze=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ze=r;break}Ze=t.return}}function s4(e){for(;Ze!==null;){var t=Ze;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ay(4,t)}catch(c){Wr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Wr(t,s,c)}}var i=t.return;try{z2(t)}catch(c){Wr(t,i,c)}break;case 5:var o=t.return;try{z2(t)}catch(c){Wr(t,o,c)}}}catch(c){Wr(t,t.return,c)}if(t===e){Ze=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ze=l;break}Ze=t.return}}var j$=Math.ceil,rx=Vo.ReactCurrentDispatcher,$j=Vo.ReactCurrentOwner,Ms=Vo.ReactCurrentBatchConfig,Xt=0,Dn=null,mn=null,Zn=0,ls=0,dd=Yl(0),_n=0,_m=null,tu=0,_y=0,Fj=0,Jh=null,Ba=null,Bj=0,Fd=1/0,yo=null,nx=!1,V2=null,$l=null,R0=!1,Pl=null,ax=0,Zh=0,W2=null,Sg=-1,Ag=0;function Ca(){return Xt&6?tn():Sg!==-1?Sg:Sg=tn()}function Fl(e){return e.mode&1?Xt&2&&Zn!==0?Zn&-Zn:i$.transition!==null?(Ag===0&&(Ag=yT()),Ag):(e=ir,e!==0||(e=window.event,e=e===void 0?16:AT(e.type)),e):1}function ci(e,t,r,n){if(50<Zh)throw Zh=0,W2=null,Error(Ve(185));gp(e,r,n),(!(Xt&2)||e!==Dn)&&(e===Dn&&(!(Xt&2)&&(_y|=r),_n===4&&jl(e,Zn)),Wa(e,n),r===1&&Xt===0&&!(t.mode&1)&&(Fd=tn()+500,Ny&&Kl()))}function Wa(e,t){var r=e.callbackNode;iD(e,t);var n=Ug(e,e===Dn?Zn:0);if(n===0)r!==null&&mA(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&mA(r),t===1)e.tag===0?s$(i4.bind(null,e)):HT(i4.bind(null,e)),t$(function(){!(Xt&6)&&Kl()}),r=null;else{switch(vT(n)){case 1:r=fj;break;case 4:r=gT;break;case 16:r=Bg;break;case 536870912:r=xT;break;default:r=Bg}r=zk(r,Rk.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Rk(e,t){if(Sg=-1,Ag=0,Xt&6)throw Error(Ve(327));var r=e.callbackNode;if(Sd()&&e.callbackNode!==r)return null;var n=Ug(e,e===Dn?Zn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=sx(e,n);else{t=n;var s=Xt;Xt|=2;var i=Dk();(Dn!==e||Zn!==t)&&(yo=null,Fd=tn()+500,Hc(e,t));do try{_$();break}catch(l){Mk(e,l)}while(!0);Aj(),rx.current=i,Xt=s,mn!==null?t=0:(Dn=null,Zn=0,t=_n)}if(t!==0){if(t===2&&(s=v2(e),s!==0&&(n=s,t=G2(e,s))),t===1)throw r=_m,Hc(e,0),jl(e,n),Wa(e,tn()),r;if(t===6)jl(e,n);else{if(s=e.current.alternate,!(n&30)&&!S$(s)&&(t=sx(e,n),t===2&&(i=v2(e),i!==0&&(n=i,t=G2(e,i))),t===1))throw r=_m,Hc(e,0),jl(e,n),Wa(e,tn()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Ve(345));case 2:Ac(e,Ba,yo);break;case 3:if(jl(e,n),(n&130023424)===n&&(t=Bj+500-tn(),10<t)){if(Ug(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ca(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=E2(Ac.bind(null,e,Ba,yo),t);break}Ac(e,Ba,yo);break;case 4:if(jl(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-li(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=tn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*j$(n/1960))-n,10<n){e.timeoutHandle=E2(Ac.bind(null,e,Ba,yo),n);break}Ac(e,Ba,yo);break;case 5:Ac(e,Ba,yo);break;default:throw Error(Ve(329))}}}return Wa(e,tn()),e.callbackNode===r?Rk.bind(null,e):null}function G2(e,t){var r=Jh;return e.current.memoizedState.isDehydrated&&(Hc(e,t).flags|=256),e=sx(e,t),e!==2&&(t=Ba,Ba=r,t!==null&&Y2(t)),e}function Y2(e){Ba===null?Ba=e:Ba.push.apply(Ba,e)}function S$(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!fi(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jl(e,t){for(t&=~Fj,t&=~_y,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-li(t),n=1<<r;e[r]=-1,t&=~n}}function i4(e){if(Xt&6)throw Error(Ve(327));Sd();var t=Ug(e,0);if(!(t&1))return Wa(e,tn()),null;var r=sx(e,t);if(e.tag!==0&&r===2){var n=v2(e);n!==0&&(t=n,r=G2(e,n))}if(r===1)throw r=_m,Hc(e,0),jl(e,t),Wa(e,tn()),r;if(r===6)throw Error(Ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ac(e,Ba,yo),Wa(e,tn()),null}function Uj(e,t){var r=Xt;Xt|=1;try{return e(t)}finally{Xt=r,Xt===0&&(Fd=tn()+500,Ny&&Kl())}}function ru(e){Pl!==null&&Pl.tag===0&&!(Xt&6)&&Sd();var t=Xt;Xt|=1;var r=Ms.transition,n=ir;try{if(Ms.transition=null,ir=1,e)return e()}finally{ir=n,Ms.transition=r,Xt=t,!(Xt&6)&&Kl()}}function zj(){ls=dd.current,Tr(dd)}function Hc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,e$(r)),mn!==null)for(r=mn.return;r!==null;){var n=r;switch(Nj(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Wg();break;case 3:Dd(),Tr(Ha),Tr(ma),kj();break;case 5:Tj(n);break;case 4:Dd();break;case 13:Tr($r);break;case 19:Tr($r);break;case 10:_j(n.type._context);break;case 22:case 23:zj()}r=r.return}if(Dn=e,mn=e=Bl(e.current,null),Zn=ls=t,_n=0,_m=null,Fj=_y=tu=0,Ba=Jh=null,Rc!==null){for(t=0;t<Rc.length;t++)if(r=Rc[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Rc=null}return e}function Mk(e,t){do{var r=mn;try{if(Aj(),wg.current=tx,ex){for(var n=Br.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ex=!1}if(eu=0,kn=Sn=Br=null,Kh=!1,jm=0,$j.current=null,r===null||r.return===null){_n=1,_m=t,mn=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Zn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=GA(o);if(h!==null){h.flags&=-257,YA(h,o,l,i,t),h.mode&1&&WA(i,u,t),t=h,c=u;var p=t.updateQueue;if(p===null){var y=new Set;y.add(c),t.updateQueue=y}else p.add(c);break e}else{if(!(t&1)){WA(i,u,t),qj();break e}c=Error(Ve(426))}}else if(Ir&&l.mode&1){var v=GA(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),YA(v,o,l,i,t),jj($d(c,l));break e}}i=c=$d(c,l),_n!==4&&(_n=2),Jh===null?Jh=[i]:Jh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=vk(i,c,t);BA(i,x);break e;case 1:l=c;var b=i.type,N=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&($l===null||!$l.has(N)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=bk(i,l,t);BA(i,w);break e}}i=i.return}while(i!==null)}Fk(r)}catch(S){t=S,mn===r&&r!==null&&(mn=r=r.return);continue}break}while(!0)}function Dk(){var e=rx.current;return rx.current=tx,e===null?tx:e}function qj(){(_n===0||_n===3||_n===2)&&(_n=4),Dn===null||!(tu&268435455)&&!(_y&268435455)||jl(Dn,Zn)}function sx(e,t){var r=Xt;Xt|=2;var n=Dk();(Dn!==e||Zn!==t)&&(yo=null,Hc(e,t));do try{A$();break}catch(s){Mk(e,s)}while(!0);if(Aj(),Xt=r,rx.current=n,mn!==null)throw Error(Ve(261));return Dn=null,Zn=0,_n}function A$(){for(;mn!==null;)$k(mn)}function _$(){for(;mn!==null&&!J7();)$k(mn)}function $k(e){var t=Uk(e.alternate,e,ls);e.memoizedProps=e.pendingProps,t===null?Fk(e):mn=t,$j.current=null}function Fk(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=v$(r,t),r!==null){r.flags&=32767,mn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_n=6,mn=null;return}}else if(r=y$(r,t,ls),r!==null){mn=r;return}if(t=t.sibling,t!==null){mn=t;return}mn=t=e}while(t!==null);_n===0&&(_n=5)}function Ac(e,t,r){var n=ir,s=Ms.transition;try{Ms.transition=null,ir=1,E$(e,t,r,n)}finally{Ms.transition=s,ir=n}return null}function E$(e,t,r,n){do Sd();while(Pl!==null);if(Xt&6)throw Error(Ve(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ve(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(oD(e,i),e===Dn&&(mn=Dn=null,Zn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||R0||(R0=!0,zk(Bg,function(){return Sd(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ms.transition,Ms.transition=null;var o=ir;ir=1;var l=Xt;Xt|=4,$j.current=null,w$(e,r),Ik(r,e),GD(A2),zg=!!S2,A2=S2=null,e.current=r,N$(r),Z7(),Xt=l,ir=o,Ms.transition=i}else e.current=r;if(R0&&(R0=!1,Pl=e,ax=s),i=e.pendingLanes,i===0&&($l=null),tD(r.stateNode),Wa(e,tn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(nx)throw nx=!1,e=V2,V2=null,e;return ax&1&&e.tag!==0&&Sd(),i=e.pendingLanes,i&1?e===W2?Zh++:(Zh=0,W2=e):Zh=0,Kl(),null}function Sd(){if(Pl!==null){var e=vT(ax),t=Ms.transition,r=ir;try{if(Ms.transition=null,ir=16>e?16:e,Pl===null)var n=!1;else{if(e=Pl,Pl=null,ax=0,Xt&6)throw Error(Ve(331));var s=Xt;for(Xt|=4,Ze=e.current;Ze!==null;){var i=Ze,o=i.child;if(Ze.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ze=u;Ze!==null;){var d=Ze;switch(d.tag){case 0:case 11:case 15:Xh(8,d,i)}var f=d.child;if(f!==null)f.return=d,Ze=f;else for(;Ze!==null;){d=Ze;var m=d.sibling,h=d.return;if(Tk(d),d===u){Ze=null;break}if(m!==null){m.return=h,Ze=m;break}Ze=h}}}var p=i.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}Ze=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ze=o;else e:for(;Ze!==null;){if(i=Ze,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xh(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Ze=x;break e}Ze=i.return}}var b=e.current;for(Ze=b;Ze!==null;){o=Ze;var N=o.child;if(o.subtreeFlags&2064&&N!==null)N.return=o,Ze=N;else e:for(o=b;Ze!==null;){if(l=Ze,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ay(9,l)}}catch(S){Wr(l,l.return,S)}if(l===o){Ze=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,Ze=w;break e}Ze=l.return}}if(Xt=s,Kl(),Ui&&typeof Ui.onPostCommitFiberRoot=="function")try{Ui.onPostCommitFiberRoot(xy,e)}catch{}n=!0}return n}finally{ir=r,Ms.transition=t}}return!1}function o4(e,t,r){t=$d(r,t),t=vk(e,t,1),e=Dl(e,t,1),t=Ca(),e!==null&&(gp(e,1,t),Wa(e,t))}function Wr(e,t,r){if(e.tag===3)o4(e,e,r);else for(;t!==null;){if(t.tag===3){o4(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&($l===null||!$l.has(n))){e=$d(r,e),e=bk(t,e,1),t=Dl(t,e,1),e=Ca(),t!==null&&(gp(t,1,e),Wa(t,e));break}}t=t.return}}function P$(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ca(),e.pingedLanes|=e.suspendedLanes&r,Dn===e&&(Zn&r)===r&&(_n===4||_n===3&&(Zn&130023424)===Zn&&500>tn()-Bj?Hc(e,0):Fj|=r),Wa(e,t)}function Bk(e,t){t===0&&(e.mode&1?(t=A0,A0<<=1,!(A0&130023424)&&(A0=4194304)):t=1);var r=Ca();e=Do(e,t),e!==null&&(gp(e,t,r),Wa(e,r))}function C$(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Bk(e,r)}function T$(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ve(314))}n!==null&&n.delete(t),Bk(e,r)}var Uk;Uk=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ha.current)za=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return za=!1,x$(e,t,r);za=!!(e.flags&131072)}else za=!1,Ir&&t.flags&1048576&&VT(t,Kg,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;jg(e,t),e=t.pendingProps;var s=Ld(t,ma.current);jd(t,r),s=Ij(null,t,n,e,s,r);var i=Lj();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Va(n)?(i=!0,Gg(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Pj(t),s.updater=Sy,t.stateNode=s,s._reactInternals=t,L2(t,n,e,r),t=D2(null,t,n,!0,i,r)):(t.tag=0,Ir&&i&&wj(t),Na(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(jg(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=O$(n),e=ti(n,e),s){case 0:t=M2(null,t,n,e,r);break e;case 1:t=JA(null,t,n,e,r);break e;case 11:t=KA(null,t,n,e,r);break e;case 14:t=XA(null,t,n,ti(n.type,e),r);break e}throw Error(Ve(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ti(n,s),M2(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ti(n,s),JA(e,t,n,s,r);case 3:e:{if(Sk(t),e===null)throw Error(Ve(387));n=t.pendingProps,i=t.memoizedState,s=i.element,JT(e,t),Zg(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=$d(Error(Ve(423)),t),t=ZA(e,t,n,r,s);break e}else if(n!==s){s=$d(Error(Ve(424)),t),t=ZA(e,t,n,r,s);break e}else for(fs=Ml(t.stateNode.containerInfo.firstChild),ms=t,Ir=!0,si=null,r=KT(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Rd(),n===s){t=$o(e,t,r);break e}Na(e,t,n,r)}t=t.child}return t;case 5:return ZT(t),e===null&&k2(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,_2(n,s)?o=null:i!==null&&_2(n,i)&&(t.flags|=32),jk(e,t),Na(e,t,o,r),t.child;case 6:return e===null&&k2(t),null;case 13:return Ak(e,t,r);case 4:return Cj(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Md(t,null,n,r):Na(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ti(n,s),KA(e,t,n,s,r);case 7:return Na(e,t,t.pendingProps,r),t.child;case 8:return Na(e,t,t.pendingProps.children,r),t.child;case 12:return Na(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Nr(Xg,n._currentValue),n._currentValue=o,i!==null)if(fi(i.value,o)){if(i.children===s.children&&!Ha.current){t=$o(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=To(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),O2(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Ve(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),O2(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Na(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,jd(t,r),s=Ds(s),n=n(s),t.flags|=1,Na(e,t,n,r),t.child;case 14:return n=t.type,s=ti(n,t.pendingProps),s=ti(n.type,s),XA(e,t,n,s,r);case 15:return wk(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ti(n,s),jg(e,t),t.tag=1,Va(n)?(e=!0,Gg(t)):e=!1,jd(t,r),yk(t,n,s),L2(t,n,s,r),D2(null,t,n,!0,e,r);case 19:return _k(e,t,r);case 22:return Nk(e,t,r)}throw Error(Ve(156,t.tag))};function zk(e,t){return pT(e,t)}function k$(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Is(e,t,r,n){return new k$(e,t,r,n)}function Hj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function O$(e){if(typeof e=="function")return Hj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===cj)return 11;if(e===uj)return 14}return 2}function Bl(e,t){var r=e.alternate;return r===null?(r=Is(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function _g(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Hj(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case td:return Vc(r.children,s,i,t);case lj:o=8,s|=8;break;case a2:return e=Is(12,r,t,s|2),e.elementType=a2,e.lanes=i,e;case s2:return e=Is(13,r,t,s),e.elementType=s2,e.lanes=i,e;case i2:return e=Is(19,r,t,s),e.elementType=i2,e.lanes=i,e;case ZC:return Ey(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case XC:o=10;break e;case JC:o=9;break e;case cj:o=11;break e;case uj:o=14;break e;case yl:o=16,n=null;break e}throw Error(Ve(130,e==null?e:typeof e,""))}return t=Is(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Vc(e,t,r,n){return e=Is(7,e,n,t),e.lanes=r,e}function Ey(e,t,r,n){return e=Is(22,e,n,t),e.elementType=ZC,e.lanes=r,e.stateNode={isHidden:!1},e}function B1(e,t,r){return e=Is(6,e,null,t),e.lanes=r,e}function U1(e,t,r){return t=Is(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function I$(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=w1(0),this.expirationTimes=w1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=w1(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Vj(e,t,r,n,s,i,o,l,c){return e=new I$(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Is(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pj(i),e}function L$(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ed,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function qk(e){if(!e)return Hl;e=e._reactInternals;e:{if(yu(e)!==e||e.tag!==1)throw Error(Ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Va(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ve(171))}if(e.tag===1){var r=e.type;if(Va(r))return qT(e,r,t)}return t}function Hk(e,t,r,n,s,i,o,l,c){return e=Vj(r,n,!0,e,s,i,o,l,c),e.context=qk(null),r=e.current,n=Ca(),s=Fl(r),i=To(n,s),i.callback=t??null,Dl(r,i,s),e.current.lanes=s,gp(e,s,n),Wa(e,n),e}function Py(e,t,r,n){var s=t.current,i=Ca(),o=Fl(s);return r=qk(r),t.context===null?t.context=r:t.pendingContext=r,t=To(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Dl(s,t,o),e!==null&&(ci(e,s,o,i),bg(e,s,o)),o}function ix(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function l4(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Wj(e,t){l4(e,t),(e=e.alternate)&&l4(e,t)}function R$(){return null}var Vk=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gj(e){this._internalRoot=e}Cy.prototype.render=Gj.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ve(409));Py(e,t,null,null)};Cy.prototype.unmount=Gj.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ru(function(){Py(null,e,null,null)}),t[Mo]=null}};function Cy(e){this._internalRoot=e}Cy.prototype.unstable_scheduleHydration=function(e){if(e){var t=NT();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Nl.length&&t!==0&&t<Nl[r].priority;r++);Nl.splice(r,0,e),r===0&&ST(e)}};function Yj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ty(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function c4(){}function M$(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=ix(o);i.call(u)}}var o=Hk(t,n,e,0,null,!1,!1,"",c4);return e._reactRootContainer=o,e[Mo]=o.current,ym(e.nodeType===8?e.parentNode:e),ru(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=ix(c);l.call(u)}}var c=Vj(e,0,!1,null,null,!1,!1,"",c4);return e._reactRootContainer=c,e[Mo]=c.current,ym(e.nodeType===8?e.parentNode:e),ru(function(){Py(t,c,r,n)}),c}function ky(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=ix(o);l.call(c)}}Py(t,o,e,s)}else o=M$(r,t,e,s,n);return ix(o)}bT=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Bh(t.pendingLanes);r!==0&&(hj(t,r|1),Wa(t,tn()),!(Xt&6)&&(Fd=tn()+500,Kl()))}break;case 13:ru(function(){var n=Do(e,1);if(n!==null){var s=Ca();ci(n,e,1,s)}}),Wj(e,1)}};mj=function(e){if(e.tag===13){var t=Do(e,134217728);if(t!==null){var r=Ca();ci(t,e,134217728,r)}Wj(e,134217728)}};wT=function(e){if(e.tag===13){var t=Fl(e),r=Do(e,t);if(r!==null){var n=Ca();ci(r,e,t,n)}Wj(e,t)}};NT=function(){return ir};jT=function(e,t){var r=ir;try{return ir=e,t()}finally{ir=r}};g2=function(e,t,r){switch(t){case"input":if(c2(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=wy(n);if(!s)throw Error(Ve(90));eT(n),c2(n,s)}}}break;case"textarea":rT(e,r);break;case"select":t=r.value,t!=null&&vd(e,!!r.multiple,t,!1)}};cT=Uj;uT=ru;var D$={usingClientEntryPoint:!1,Events:[yp,sd,wy,oT,lT,Uj]},wh={findFiberByHostInstance:Lc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$$={bundleType:wh.bundleType,version:wh.version,rendererPackageName:wh.rendererPackageName,rendererConfig:wh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hT(e),e===null?null:e.stateNode},findFiberByHostInstance:wh.findFiberByHostInstance||R$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var M0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!M0.isDisabled&&M0.supportsFiber)try{xy=M0.inject($$),Ui=M0}catch{}}ys.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D$;ys.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yj(t))throw Error(Ve(200));return L$(e,t,null,r)};ys.createRoot=function(e,t){if(!Yj(e))throw Error(Ve(299));var r=!1,n="",s=Vk;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Vj(e,1,!1,null,null,r,!1,n,s),e[Mo]=t.current,ym(e.nodeType===8?e.parentNode:e),new Gj(t)};ys.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ve(188)):(e=Object.keys(e).join(","),Error(Ve(268,e)));return e=hT(t),e=e===null?null:e.stateNode,e};ys.flushSync=function(e){return ru(e)};ys.hydrate=function(e,t,r){if(!Ty(t))throw Error(Ve(200));return ky(null,e,t,!0,r)};ys.hydrateRoot=function(e,t,r){if(!Yj(e))throw Error(Ve(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Vk;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Hk(t,null,e,1,r??null,s,!1,i,o),e[Mo]=t.current,ym(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Cy(t)};ys.render=function(e,t,r){if(!Ty(t))throw Error(Ve(200));return ky(null,e,t,!1,r)};ys.unmountComponentAtNode=function(e){if(!Ty(e))throw Error(Ve(40));return e._reactRootContainer?(ru(function(){ky(null,null,e,!1,function(){e._reactRootContainer=null,e[Mo]=null})}),!0):!1};ys.unstable_batchedUpdates=Uj;ys.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ty(r))throw Error(Ve(200));if(e==null||e._reactInternals===void 0)throw Error(Ve(38));return ky(e,t,r,!1,n)};ys.version="18.3.1-next-f1338f8080-20240426";function Wk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wk)}catch(e){console.error(e)}}Wk(),WC.exports=ys;var F$=WC.exports,u4=F$;r2.createRoot=u4.createRoot,r2.hydrateRoot=u4.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Em(){return Em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Em.apply(this,arguments)}var Cl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Cl||(Cl={}));const d4="popstate";function B$(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return K2("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:ox(s)}return z$(t,r,null,e)}function on(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Gk(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function U$(){return Math.random().toString(36).substr(2,8)}function f4(e,t){return{usr:e.state,key:e.key,idx:t}}function K2(e,t,r,n){return r===void 0&&(r=null),Em({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?bf(t):t,{state:r,key:t&&t.key||n||U$()})}function ox(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function bf(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function z$(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Cl.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Em({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Cl.Pop;let v=d(),x=v==null?null:v-u;u=v,c&&c({action:l,location:y.location,delta:x})}function m(v,x){l=Cl.Push;let b=K2(y.location,v,x);u=d()+1;let N=f4(b,u),w=y.createHref(b);try{o.pushState(N,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(w)}i&&c&&c({action:l,location:y.location,delta:1})}function h(v,x){l=Cl.Replace;let b=K2(y.location,v,x);u=d();let N=f4(b,u),w=y.createHref(b);o.replaceState(N,"",w),i&&c&&c({action:l,location:y.location,delta:0})}function p(v){let x=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof v=="string"?v:ox(v);return b=b.replace(/ $/,"%20"),on(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let y={get action(){return l},get location(){return e(s,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(d4,f),c=v,()=>{s.removeEventListener(d4,f),c=null}},createHref(v){return t(s,v)},createURL:p,encodeLocation(v){let x=p(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:h,go(v){return o.go(v)}};return y}var h4;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(h4||(h4={}));function q$(e,t,r){return r===void 0&&(r="/"),H$(e,t,r)}function H$(e,t,r,n){let s=typeof t=="string"?bf(t):t,i=Kj(s.pathname||"/",r);if(i==null)return null;let o=Yk(e);V$(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=n9(i);l=e9(o[c],u)}return l}function Yk(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(on(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Ul([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(on(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Yk(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Z$(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of Kk(i.path))s(i,o,c)}),t}function Kk(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Kk(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function V$(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Q$(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const W$=/^:[\w-]+$/,G$=3,Y$=2,K$=1,X$=10,J$=-2,m4=e=>e==="*";function Z$(e,t){let r=e.split("/"),n=r.length;return r.some(m4)&&(n+=J$),t&&(n+=Y$),r.filter(s=>!m4(s)).reduce((s,i)=>s+(W$.test(i)?G$:i===""?K$:X$),n)}function Q$(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function e9(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=t9({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Ul([i,f.pathname]),pathnameBase:o9(Ul([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Ul([i,f.pathnameBase]))}return o}function t9(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=r9(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:h}=d;if(m==="*"){let y=l[f]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const p=l[f];return h&&!p?u[m]=void 0:u[m]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function r9(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Gk(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function n9(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Gk(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Kj(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function a9(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?bf(e):e;return{pathname:r?r.startsWith("/")?r:s9(r,t):t,search:l9(n),hash:c9(s)}}function s9(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function z1(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function i9(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Xj(e,t){let r=i9(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Jj(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=bf(e):(s=Em({},e),on(!s.pathname||!s.pathname.includes("?"),z1("?","pathname","search",s)),on(!s.pathname||!s.pathname.includes("#"),z1("#","pathname","hash",s)),on(!s.search||!s.search.includes("#"),z1("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=a9(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ul=e=>e.join("/").replace(/\/\/+/g,"/"),o9=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),l9=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,c9=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function u9(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Xk=["post","put","patch","delete"];new Set(Xk);const d9=["get",...Xk];new Set(d9);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pm(){return Pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pm.apply(this,arguments)}const Zj=L.createContext(null),f9=L.createContext(null),Xl=L.createContext(null),Oy=L.createContext(null),Wo=L.createContext({outlet:null,matches:[],isDataRoute:!1}),Jk=L.createContext(null);function h9(e,t){let{relative:r}=t===void 0?{}:t;wf()||on(!1);let{basename:n,navigator:s}=L.useContext(Xl),{hash:i,pathname:o,search:l}=Qk(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Ul([n,o])),s.createHref({pathname:c,search:l,hash:i})}function wf(){return L.useContext(Oy)!=null}function Jl(){return wf()||on(!1),L.useContext(Oy).location}function Zk(e){L.useContext(Xl).static||L.useLayoutEffect(e)}function Nf(){let{isDataRoute:e}=L.useContext(Wo);return e?_9():m9()}function m9(){wf()||on(!1);let e=L.useContext(Zj),{basename:t,future:r,navigator:n}=L.useContext(Xl),{matches:s}=L.useContext(Wo),{pathname:i}=Jl(),o=JSON.stringify(Xj(s,r.v7_relativeSplatPath)),l=L.useRef(!1);return Zk(()=>{l.current=!0}),L.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=Jj(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ul([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}function bp(){let{matches:e}=L.useContext(Wo),t=e[e.length-1];return t?t.params:{}}function Qk(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=L.useContext(Xl),{matches:s}=L.useContext(Wo),{pathname:i}=Jl(),o=JSON.stringify(Xj(s,n.v7_relativeSplatPath));return L.useMemo(()=>Jj(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function p9(e,t){return g9(e,t)}function g9(e,t,r,n){wf()||on(!1);let{navigator:s}=L.useContext(Xl),{matches:i}=L.useContext(Wo),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Jl(),d;if(t){var f;let v=typeof t=="string"?bf(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||on(!1),d=v}else d=u;let m=d.pathname||"/",h=m;if(c!=="/"){let v=c.replace(/^\//,"").split("/");h="/"+m.replace(/^\//,"").split("/").slice(v.length).join("/")}let p=q$(e,{pathname:h}),y=w9(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Ul([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Ul([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&y?L.createElement(Oy.Provider,{value:{location:Pm({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Cl.Pop}},y):y}function x9(){let e=A9(),t=u9(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),r?L.createElement("pre",{style:s},r):null,null)}const y9=L.createElement(x9,null);class v9 extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?L.createElement(Wo.Provider,{value:this.props.routeContext},L.createElement(Jk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function b9(e){let{routeContext:t,match:r,children:n}=e,s=L.useContext(Zj);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),L.createElement(Wo.Provider,{value:t},n)}function w9(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||on(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:h}=r,p=f.route.loader&&m[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||p){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let h,p=!1,y=null,v=null;r&&(h=l&&f.route.id?l[f.route.id]:void 0,y=f.route.errorElement||y9,c&&(u<0&&m===0?(E9("route-fallback"),p=!0,v=null):u===m&&(p=!0,v=f.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,m+1)),b=()=>{let N;return h?N=y:p?N=v:f.route.Component?N=L.createElement(f.route.Component,null):f.route.element?N=f.route.element:N=d,L.createElement(b9,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:N})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?L.createElement(v9,{location:r.location,revalidation:r.revalidation,component:y,error:h,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var eO=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(eO||{}),tO=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(tO||{});function N9(e){let t=L.useContext(Zj);return t||on(!1),t}function j9(e){let t=L.useContext(f9);return t||on(!1),t}function S9(e){let t=L.useContext(Wo);return t||on(!1),t}function rO(e){let t=S9(),r=t.matches[t.matches.length-1];return r.route.id||on(!1),r.route.id}function A9(){var e;let t=L.useContext(Jk),r=j9(),n=rO();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function _9(){let{router:e}=N9(eO.UseNavigateStable),t=rO(tO.UseNavigateStable),r=L.useRef(!1);return Zk(()=>{r.current=!0}),L.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Pm({fromRouteId:t},i)))},[e,t])}const p4={};function E9(e,t,r){p4[e]||(p4[e]=!0)}function P9(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Qj(e){let{to:t,replace:r,state:n,relative:s}=e;wf()||on(!1);let{future:i,static:o}=L.useContext(Xl),{matches:l}=L.useContext(Wo),{pathname:c}=Jl(),u=Nf(),d=Jj(t,Xj(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return L.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function Wt(e){on(!1)}function C9(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Cl.Pop,navigator:i,static:o=!1,future:l}=e;wf()&&on(!1);let c=t.replace(/^\/*/,"/"),u=L.useMemo(()=>({basename:c,navigator:i,static:o,future:Pm({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=bf(n));let{pathname:d="/",search:f="",hash:m="",state:h=null,key:p="default"}=n,y=L.useMemo(()=>{let v=Kj(d,c);return v==null?null:{location:{pathname:v,search:f,hash:m,state:h,key:p},navigationType:s}},[c,d,f,m,h,p,s]);return y==null?null:L.createElement(Xl.Provider,{value:u},L.createElement(Oy.Provider,{children:r,value:y}))}function T9(e){let{children:t,location:r}=e;return p9(X2(t),r)}new Promise(()=>{});function X2(e,t){t===void 0&&(t=[]);let r=[];return L.Children.forEach(e,(n,s)=>{if(!L.isValidElement(n))return;let i=[...t,s];if(n.type===L.Fragment){r.push.apply(r,X2(n.props.children,i));return}n.type!==Wt&&on(!1),!n.props.index||!n.props.children||on(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=X2(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function J2(){return J2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J2.apply(this,arguments)}function k9(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function O9(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function I9(e,t){return e.button===0&&(!t||t==="_self")&&!O9(e)}function Z2(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function L9(e,t){let r=Z2(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const R9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],M9="6";try{window.__reactRouterVersion=M9}catch{}const D9="startTransition",g4=P7[D9];function $9(e){let{basename:t,children:r,future:n,window:s}=e,i=L.useRef();i.current==null&&(i.current=B$({window:s,v5Compat:!0}));let o=i.current,[l,c]=L.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=L.useCallback(f=>{u&&g4?g4(()=>c(f)):c(f)},[c,u]);return L.useLayoutEffect(()=>o.listen(d),[o,d]),L.useEffect(()=>P9(n),[n]),L.createElement(C9,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const F9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",B9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rn=L.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,m=k9(t,R9),{basename:h}=L.useContext(Xl),p,y=!1;if(typeof u=="string"&&B9.test(u)&&(p=u,F9))try{let N=new URL(window.location.href),w=u.startsWith("//")?new URL(N.protocol+u):new URL(u),S=Kj(w.pathname,h);w.origin===N.origin&&S!=null?u=S+w.search+w.hash:y=!0}catch{}let v=h9(u,{relative:s}),x=U9(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function b(N){n&&n(N),N.defaultPrevented||x(N)}return L.createElement("a",J2({},m,{href:p||v,onClick:y||i?n:b,ref:r,target:c}))});var x4;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(x4||(x4={}));var y4;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(y4||(y4={}));function U9(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Nf(),u=Jl(),d=Qk(e,{relative:o});return L.useCallback(f=>{if(I9(f,r)){f.preventDefault();let m=n!==void 0?n:ox(u)===ox(d);c(e,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}function z9(e){let t=L.useRef(Z2(e)),r=L.useRef(!1),n=Jl(),s=L.useMemo(()=>L9(n.search,r.current?null:t.current),[n.search]),i=Nf(),o=L.useCallback((l,c)=>{const u=Z2(typeof l=="function"?l(s):l);r.current=!0,i("?"+u,c)},[i,s]);return[s,o]}function nO(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=nO(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function yt(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=nO(e))&&(n&&(n+=" "),n+=t);return n}function q9(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}q9(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var wp=e=>typeof e=="number"&&!isNaN(e),nu=e=>typeof e=="string",Fo=e=>typeof e=="function",H9=e=>nu(e)||wp(e),Q2=e=>nu(e)||Fo(e)?e:null,V9=(e,t)=>e===!1||wp(e)&&e>0?e:t,ew=e=>L.isValidElement(e)||nu(e)||Fo(e)||wp(e);function W9(e,t,r=300){let{scrollHeight:n,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=n+"px",s.transition=`all ${r}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,r)})})}function G9({enter:e,exit:t,appendPosition:r=!1,collapse:n=!0,collapseDuration:s=300}){return function({children:i,position:o,preventExitTransition:l,done:c,nodeRef:u,isIn:d,playToast:f}){let m=r?`${e}--${o}`:e,h=r?`${t}--${o}`:t,p=L.useRef(0);return L.useLayoutEffect(()=>{let y=u.current,v=m.split(" "),x=b=>{b.target===u.current&&(f(),y.removeEventListener("animationend",x),y.removeEventListener("animationcancel",x),p.current===0&&b.type!=="animationcancel"&&y.classList.remove(...v))};y.classList.add(...v),y.addEventListener("animationend",x),y.addEventListener("animationcancel",x)},[]),L.useEffect(()=>{let y=u.current,v=()=>{y.removeEventListener("animationend",v),n?W9(y,c,s):c()};d||(l?v():(p.current=1,y.className+=` ${h}`,y.addEventListener("animationend",v)))},[d]),ce.createElement(ce.Fragment,null,i)}}function v4(e,t){return{content:aO(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function aO(e,t,r=!1){return L.isValidElement(e)&&!nu(e.type)?L.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):Fo(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):e}function Y9({closeToast:e,theme:t,ariaLabel:r="close"}){return ce.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:n=>{n.stopPropagation(),e(!0)},"aria-label":r},ce.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ce.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function K9({delay:e,isRunning:t,closeToast:r,type:n="default",hide:s,className:i,controlledProgress:o,progress:l,rtl:c,isIn:u,theme:d}){let f=s||o&&l===0,m={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};o&&(m.transform=`scaleX(${l})`);let h=yt("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":c}),p=Fo(i)?i({rtl:c,type:n,defaultClassName:h}):yt(h,i),y={[o&&l>=1?"onTransitionEnd":"onAnimationEnd"]:o&&l<1?null:()=>{u&&r()}};return ce.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},ce.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${n}`}),ce.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:p,style:m,...y}))}var X9=1,sO=()=>`${X9++}`;function J9(e,t,r){let n=1,s=0,i=[],o=[],l=t,c=new Map,u=new Set,d=b=>(u.add(b),()=>u.delete(b)),f=()=>{o=Array.from(c.values()),u.forEach(b=>b())},m=({containerId:b,toastId:N,updateId:w})=>{let S=b?b!==e:e!==1,_=c.has(N)&&w==null;return S||_},h=(b,N)=>{c.forEach(w=>{var S;(N==null||N===w.props.toastId)&&((S=w.toggle)==null||S.call(w,b))})},p=b=>{var N,w;(w=(N=b.props)==null?void 0:N.onClose)==null||w.call(N,b.removalReason),b.isActive=!1},y=b=>{if(b==null)c.forEach(p);else{let N=c.get(b);N&&p(N)}f()},v=()=>{s-=i.length,i=[]},x=b=>{var N,w;let{toastId:S,updateId:_}=b.props,T=_==null;b.staleId&&c.delete(b.staleId),b.isActive=!0,c.set(S,b),f(),r(v4(b,T?"added":"updated")),T&&((w=(N=b.props).onOpen)==null||w.call(N))};return{id:e,props:l,observe:d,toggle:h,removeToast:y,toasts:c,clearQueue:v,buildToast:(b,N)=>{if(m(N))return;let{toastId:w,updateId:S,data:_,staleId:T,delay:k}=N,P=S==null;P&&s++;let D={...l,style:l.toastStyle,key:n++,...Object.fromEntries(Object.entries(N).filter(([I,$])=>$!=null)),toastId:w,updateId:S,data:_,isIn:!1,className:Q2(N.className||l.toastClassName),progressClassName:Q2(N.progressClassName||l.progressClassName),autoClose:N.isLoading?!1:V9(N.autoClose,l.autoClose),closeToast(I){c.get(w).removalReason=I,y(w)},deleteToast(){let I=c.get(w);if(I!=null){if(r(v4(I,"removed")),c.delete(w),s--,s<0&&(s=0),i.length>0){x(i.shift());return}f()}}};D.closeButton=l.closeButton,N.closeButton===!1||ew(N.closeButton)?D.closeButton=N.closeButton:N.closeButton===!0&&(D.closeButton=ew(l.closeButton)?l.closeButton:!0);let A={content:b,props:D,staleId:T};l.limit&&l.limit>0&&s>l.limit&&P?i.push(A):wp(k)?setTimeout(()=>{x(A)},k):x(A)},setProps(b){l=b},setToggle:(b,N)=>{let w=c.get(b);w&&(w.toggle=N)},isToastActive:b=>{var N;return(N=c.get(b))==null?void 0:N.isActive},getSnapshot:()=>o}}var ja=new Map,Cm=[],tw=new Set,Z9=e=>tw.forEach(t=>t(e)),iO=()=>ja.size>0;function Q9(){Cm.forEach(e=>lO(e.content,e.options)),Cm=[]}var eF=(e,{containerId:t})=>{var r;return(r=ja.get(t||1))==null?void 0:r.toasts.get(e)};function oO(e,t){var r;if(t)return!!((r=ja.get(t))!=null&&r.isToastActive(e));let n=!1;return ja.forEach(s=>{s.isToastActive(e)&&(n=!0)}),n}function tF(e){if(!iO()){Cm=Cm.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||H9(e))ja.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=ja.get(e.containerId);t?t.removeToast(e.id):ja.forEach(r=>{r.removeToast(e.id)})}}var rF=(e={})=>{ja.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function lO(e,t){ew(e)&&(iO()||Cm.push({content:e,options:t}),ja.forEach(r=>{r.buildToast(e,t)}))}function nF(e){var t;(t=ja.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function cO(e,t){ja.forEach(r=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===r.id)&&r.toggle(e,t==null?void 0:t.id)})}function aF(e){let t=e.containerId||1;return{subscribe(r){let n=J9(t,e,Z9);ja.set(t,n);let s=n.observe(r);return Q9(),()=>{s(),ja.delete(t)}},setProps(r){var n;(n=ja.get(t))==null||n.setProps(r)},getSnapshot(){var r;return(r=ja.get(t))==null?void 0:r.getSnapshot()}}}function sF(e){return tw.add(e),()=>{tw.delete(e)}}function iF(e){return e&&(nu(e.toastId)||wp(e.toastId))?e.toastId:sO()}function Np(e,t){return lO(e,t),t.toastId}function Iy(e,t){return{...t,type:t&&t.type||e,toastId:iF(t)}}function Ly(e){return(t,r)=>Np(t,Iy(e,r))}function Te(e,t){return Np(e,Iy("default",t))}Te.loading=(e,t)=>Np(e,Iy("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function oF(e,{pending:t,error:r,success:n},s){let i;t&&(i=nu(t)?Te.loading(t,s):Te.loading(t.render,{...s,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,f)=>{if(d==null){Te.dismiss(i);return}let m={type:u,...o,...s,data:f},h=nu(d)?{render:d}:d;return i?Te.update(i,{...m,...h}):Te(h.render,{...m,...h}),f},c=Fo(e)?e():e;return c.then(u=>l("success",n,u)).catch(u=>l("error",r,u)),c}Te.promise=oF;Te.success=Ly("success");Te.info=Ly("info");Te.error=Ly("error");Te.warning=Ly("warning");Te.warn=Te.warning;Te.dark=(e,t)=>Np(e,Iy("default",{theme:"dark",...t}));function lF(e){tF(e)}Te.dismiss=lF;Te.clearWaitingQueue=rF;Te.isActive=oO;Te.update=(e,t={})=>{let r=eF(e,t);if(r){let{props:n,content:s}=r,i={delay:100,...n,...t,toastId:t.toastId||e,updateId:sO()};i.toastId!==e&&(i.staleId=e);let o=i.render||s;delete i.render,Np(o,i)}};Te.done=e=>{Te.update(e,{progress:1})};Te.onChange=sF;Te.play=e=>cO(!0,e);Te.pause=e=>cO(!1,e);function cF(e){var t;let{subscribe:r,getSnapshot:n,setProps:s}=L.useRef(aF(e)).current;s(e);let i=(t=L.useSyncExternalStore(r,n,n))==null?void 0:t.slice();function o(l){if(!i)return[];let c=new Map;return e.newestOnTop&&i.reverse(),i.forEach(u=>{let{position:d}=u.props;c.has(d)||c.set(d,[]),c.get(d).push(u)}),Array.from(c,u=>l(u[0],u[1]))}return{getToastToRender:o,isToastActive:oO,count:i==null?void 0:i.length}}function uF(e){let[t,r]=L.useState(!1),[n,s]=L.useState(!1),i=L.useRef(null),o=L.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:f}=e;nF({id:e.toastId,containerId:e.containerId,fn:r}),L.useEffect(()=>{if(e.pauseOnFocusLoss)return m(),()=>{h()}},[e.pauseOnFocusLoss]);function m(){document.hasFocus()||x(),window.addEventListener("focus",v),window.addEventListener("blur",x)}function h(){window.removeEventListener("focus",v),window.removeEventListener("blur",x)}function p(T){if(e.draggable===!0||e.draggable===T.pointerType){b();let k=i.current;o.canCloseOnClick=!0,o.canDrag=!0,k.style.transition="none",e.draggableDirection==="x"?(o.start=T.clientX,o.removalDistance=k.offsetWidth*(e.draggablePercent/100)):(o.start=T.clientY,o.removalDistance=k.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function y(T){let{top:k,bottom:P,left:D,right:A}=i.current.getBoundingClientRect();T.nativeEvent.type!=="touchend"&&e.pauseOnHover&&T.clientX>=D&&T.clientX<=A&&T.clientY>=k&&T.clientY<=P?x():v()}function v(){r(!0)}function x(){r(!1)}function b(){o.didMove=!1,document.addEventListener("pointermove",w),document.addEventListener("pointerup",S)}function N(){document.removeEventListener("pointermove",w),document.removeEventListener("pointerup",S)}function w(T){let k=i.current;if(o.canDrag&&k){o.didMove=!0,t&&x(),e.draggableDirection==="x"?o.delta=T.clientX-o.start:o.delta=T.clientY-o.start,o.start!==T.clientX&&(o.canCloseOnClick=!1);let P=e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;k.style.transform=`translate3d(${P},0)`,k.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function S(){N();let T=i.current;if(o.canDrag&&o.didMove&&T){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){s(!0),e.closeToast(!0),e.collapseAll();return}T.style.transition="transform 0.2s, opacity 0.2s",T.style.removeProperty("transform"),T.style.removeProperty("opacity")}}let _={onPointerDown:p,onPointerUp:y};return l&&c&&(_.onMouseEnter=x,e.stacked||(_.onMouseLeave=v)),f&&(_.onClick=T=>{d&&d(T),o.canCloseOnClick&&u(!0)}),{playToast:v,pauseToast:x,isRunning:t,preventExitTransition:n,toastRef:i,eventHandlers:_}}var dF=typeof window<"u"?L.useLayoutEffect:L.useEffect,Ry=({theme:e,type:t,isLoading:r,...n})=>ce.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...n});function fF(e){return ce.createElement(Ry,{...e},ce.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function hF(e){return ce.createElement(Ry,{...e},ce.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function mF(e){return ce.createElement(Ry,{...e},ce.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function pF(e){return ce.createElement(Ry,{...e},ce.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function gF(){return ce.createElement("div",{className:"Toastify__spinner"})}var rw={info:hF,warning:fF,success:mF,error:pF,spinner:gF},xF=e=>e in rw;function yF({theme:e,type:t,isLoading:r,icon:n}){let s=null,i={theme:e,type:t};return n===!1||(Fo(n)?s=n({...i,isLoading:r}):L.isValidElement(n)?s=L.cloneElement(n,i):r?s=rw.spinner():xF(t)&&(s=rw[t](i))),s}var vF=e=>{let{isRunning:t,preventExitTransition:r,toastRef:n,eventHandlers:s,playToast:i}=uF(e),{closeButton:o,children:l,autoClose:c,onClick:u,type:d,hideProgressBar:f,closeToast:m,transition:h,position:p,className:y,style:v,progressClassName:x,updateId:b,role:N,progress:w,rtl:S,toastId:_,deleteToast:T,isIn:k,isLoading:P,closeOnClick:D,theme:A,ariaLabel:I}=e,$=yt("Toastify__toast",`Toastify__toast-theme--${A}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":S},{"Toastify__toast--close-on-click":D}),E=Fo(y)?y({rtl:S,position:p,type:d,defaultClassName:$}):yt($,y),M=yF(e),z=!!w||!c,Z={closeToast:m,type:d,theme:A},R=null;return o===!1||(Fo(o)?R=o(Z):L.isValidElement(o)?R=L.cloneElement(o,Z):R=Y9(Z)),ce.createElement(h,{isIn:k,done:T,position:p,preventExitTransition:r,nodeRef:n,playToast:i},ce.createElement("div",{id:_,tabIndex:0,onClick:u,"data-in":k,className:E,...s,style:v,ref:n,...k&&{role:N,"aria-label":I}},M!=null&&ce.createElement("div",{className:yt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!P})},M),aO(l,e,!t),R,!e.customProgressBar&&ce.createElement(K9,{...b&&!z?{key:`p-${b}`}:{},rtl:S,theme:A,delay:c,isRunning:t,isIn:k,closeToast:m,hide:f,type:d,className:x,controlledProgress:z,progress:w||0})))},bF=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),wF=G9(bF("bounce",!0)),NF={position:"top-right",transition:wF,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function jF(e){let t={...NF,...e},r=e.stacked,[n,s]=L.useState(!0),i=L.useRef(null),{getToastToRender:o,isToastActive:l,count:c}=cF(t),{className:u,style:d,rtl:f,containerId:m,hotKeys:h}=t;function p(v){let x=yt("Toastify__toast-container",`Toastify__toast-container--${v}`,{"Toastify__toast-container--rtl":f});return Fo(u)?u({position:v,rtl:f,defaultClassName:x}):yt(x,Q2(u))}function y(){r&&(s(!0),Te.play())}return dF(()=>{var v;if(r){let x=i.current.querySelectorAll('[data-in="true"]'),b=12,N=(v=t.position)==null?void 0:v.includes("top"),w=0,S=0;Array.from(x).reverse().forEach((_,T)=>{let k=_;k.classList.add("Toastify__toast--stacked"),T>0&&(k.dataset.collapsed=`${n}`),k.dataset.pos||(k.dataset.pos=N?"top":"bot");let P=w*(n?.2:1)+(n?0:b*T);k.style.setProperty("--y",`${N?P:P*-1}px`),k.style.setProperty("--g",`${b}`),k.style.setProperty("--s",`${1-(n?S:0)}`),w+=k.offsetHeight,S+=.025})}},[n,c,r]),L.useEffect(()=>{function v(x){var b;let N=i.current;h(x)&&((b=N.querySelector('[tabIndex="0"]'))==null||b.focus(),s(!1),Te.pause()),x.key==="Escape"&&(document.activeElement===N||N!=null&&N.contains(document.activeElement))&&(s(!0),Te.play())}return document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[h]),ce.createElement("section",{ref:i,className:"Toastify",id:m,onMouseEnter:()=>{r&&(s(!1),Te.pause())},onMouseLeave:y,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((v,x)=>{let b=x.length?{...d}:{...d,pointerEvents:"none"};return ce.createElement("div",{tabIndex:-1,className:p(v),"data-stacked":r,style:b,key:`c-${v}`},x.map(({content:N,props:w})=>ce.createElement(vF,{...w,stacked:r,collapseAll:y,isIn:l(w.toastId,w.containerId),key:`t-${w.key}`},N)))}))}/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uO=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=L.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>L.createElement("svg",{ref:c,...AF,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:uO("lucide",s),...l},[...o.map(([u,d])=>L.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=(e,t)=>{const r=L.forwardRef(({className:n,...s},i)=>L.createElement(_F,{ref:i,iconNode:t,className:uO(`lucide-${SF(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=Xe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=Xe("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=Xe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=Xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=Xe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=Xe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=Xe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=Xe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=Xe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=Xe("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=Xe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=Xe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=Xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=Xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=Xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=Xe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=Xe("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=Xe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=Xe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=Xe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=Xe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=Xe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=Xe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=Xe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=Xe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=Xe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=Xe("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=Xe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=Xe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=Xe("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=Xe("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=Xe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=Xe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=Xe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=Xe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=Xe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=Xe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=Xe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=Xe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=Xe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=Xe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=Xe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=Xe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=Xe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=Xe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=Xe("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=Xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=Xe("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=Xe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=Xe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=Xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=Xe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=Xe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=Xe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=Xe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=Xe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=Xe("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"10lez9"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6a6 6 0 0 0 6-6v-4",key:"ce9bce"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=Xe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=Xe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=Xe("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=Xe("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=Xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=Xe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=Xe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=Xe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=Xe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=Xe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=Xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=Xe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=Xe("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=Xe("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=Xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function hO(e,t){return function(){return e.apply(t,arguments)}}const{toString:JF}=Object.prototype,{getPrototypeOf:r5}=Object,{iterator:Fy,toStringTag:mO}=Symbol,By=(e=>t=>{const r=JF.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),pi=e=>(e=e.toLowerCase(),t=>By(t)===e),Uy=e=>t=>typeof t===e,{isArray:Sf}=Array,qd=Uy("undefined");function Sp(e){return e!==null&&!qd(e)&&e.constructor!==null&&!qd(e.constructor)&&Ga(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const pO=pi("ArrayBuffer");function ZF(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&pO(e.buffer),t}const QF=Uy("string"),Ga=Uy("function"),gO=Uy("number"),Ap=e=>e!==null&&typeof e=="object",eB=e=>e===!0||e===!1,Eg=e=>{if(By(e)!=="object")return!1;const t=r5(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(mO in e)&&!(Fy in e)},tB=e=>{if(!Ap(e)||Sp(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},rB=pi("Date"),nB=pi("File"),aB=pi("Blob"),sB=pi("FileList"),iB=e=>Ap(e)&&Ga(e.pipe),oB=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ga(e.append)&&((t=By(e))==="formdata"||t==="object"&&Ga(e.toString)&&e.toString()==="[object FormData]"))},lB=pi("URLSearchParams"),[cB,uB,dB,fB]=["ReadableStream","Request","Response","Headers"].map(pi),hB=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _p(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Sf(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(Sp(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function xO(e,t){if(Sp(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const Dc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,yO=e=>!qd(e)&&e!==Dc;function ow(){const{caseless:e,skipUndefined:t}=yO(this)&&this||{},r={},n=(s,i)=>{const o=e&&xO(r,i)||i;Eg(r[o])&&Eg(s)?r[o]=ow(r[o],s):Eg(s)?r[o]=ow({},s):Sf(s)?r[o]=s.slice():(!t||!qd(s))&&(r[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&_p(arguments[s],n);return r}const mB=(e,t,r,{allOwnKeys:n}={})=>(_p(t,(s,i)=>{r&&Ga(s)?e[i]=hO(s,r):e[i]=s},{allOwnKeys:n}),e),pB=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),gB=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},xB=(e,t,r,n)=>{let s,i,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&r5(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},yB=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},vB=e=>{if(!e)return null;if(Sf(e))return e;let t=e.length;if(!gO(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},bB=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&r5(Uint8Array)),wB=(e,t)=>{const n=(e&&e[Fy]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},NB=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},jB=pi("HTMLFormElement"),SB=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),N4=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),AB=pi("RegExp"),vO=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};_p(r,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(n[i]=o||s)}),Object.defineProperties(e,n)},_B=e=>{vO(e,(t,r)=>{if(Ga(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Ga(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},EB=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return Sf(e)?n(e):n(String(e).split(t)),r},PB=()=>{},CB=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function TB(e){return!!(e&&Ga(e.append)&&e[mO]==="FormData"&&e[Fy])}const kB=e=>{const t=new Array(10),r=(n,s)=>{if(Ap(n)){if(t.indexOf(n)>=0)return;if(Sp(n))return n;if(!("toJSON"in n)){t[s]=n;const i=Sf(n)?[]:{};return _p(n,(o,l)=>{const c=r(o,s+1);!qd(c)&&(i[l]=c)}),t[s]=void 0,i}}return n};return r(e,0)},OB=pi("AsyncFunction"),IB=e=>e&&(Ap(e)||Ga(e))&&Ga(e.then)&&Ga(e.catch),bO=((e,t)=>e?setImmediate:t?((r,n)=>(Dc.addEventListener("message",({source:s,data:i})=>{s===Dc&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Dc.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ga(Dc.postMessage)),LB=typeof queueMicrotask<"u"?queueMicrotask.bind(Dc):typeof process<"u"&&process.nextTick||bO,RB=e=>e!=null&&Ga(e[Fy]),Pe={isArray:Sf,isArrayBuffer:pO,isBuffer:Sp,isFormData:oB,isArrayBufferView:ZF,isString:QF,isNumber:gO,isBoolean:eB,isObject:Ap,isPlainObject:Eg,isEmptyObject:tB,isReadableStream:cB,isRequest:uB,isResponse:dB,isHeaders:fB,isUndefined:qd,isDate:rB,isFile:nB,isBlob:aB,isRegExp:AB,isFunction:Ga,isStream:iB,isURLSearchParams:lB,isTypedArray:bB,isFileList:sB,forEach:_p,merge:ow,extend:mB,trim:hB,stripBOM:pB,inherits:gB,toFlatObject:xB,kindOf:By,kindOfTest:pi,endsWith:yB,toArray:vB,forEachEntry:wB,matchAll:NB,isHTMLForm:jB,hasOwnProperty:N4,hasOwnProp:N4,reduceDescriptors:vO,freezeMethods:_B,toObjectSet:EB,toCamelCase:SB,noop:PB,toFiniteNumber:CB,findKey:xO,global:Dc,isContextDefined:yO,isSpecCompliantForm:TB,toJSONObject:kB,isAsyncFn:OB,isThenable:IB,setImmediate:bO,asap:LB,isIterable:RB};function kt(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}Pe.inherits(kt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pe.toJSONObject(this.config),code:this.code,status:this.status}}});const wO=kt.prototype,NO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{NO[e]={value:e}});Object.defineProperties(kt,NO);Object.defineProperty(wO,"isAxiosError",{value:!0});kt.from=(e,t,r,n,s,i)=>{const o=Object.create(wO);Pe.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return kt.call(o,l,c,r,n,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const MB=null;function lw(e){return Pe.isPlainObject(e)||Pe.isArray(e)}function jO(e){return Pe.endsWith(e,"[]")?e.slice(0,-2):e}function j4(e,t,r){return e?e.concat(t).map(function(s,i){return s=jO(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function DB(e){return Pe.isArray(e)&&!e.some(lw)}const $B=Pe.toFlatObject(Pe,{},null,function(t){return/^is[A-Z]/.test(t)});function zy(e,t,r){if(!Pe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Pe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,v){return!Pe.isUndefined(v[y])});const n=r.metaTokens,s=r.visitor||d,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Pe.isSpecCompliantForm(t);if(!Pe.isFunction(s))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(Pe.isDate(p))return p.toISOString();if(Pe.isBoolean(p))return p.toString();if(!c&&Pe.isBlob(p))throw new kt("Blob is not supported. Use a Buffer instead.");return Pe.isArrayBuffer(p)||Pe.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,y,v){let x=p;if(p&&!v&&typeof p=="object"){if(Pe.endsWith(y,"{}"))y=n?y:y.slice(0,-2),p=JSON.stringify(p);else if(Pe.isArray(p)&&DB(p)||(Pe.isFileList(p)||Pe.endsWith(y,"[]"))&&(x=Pe.toArray(p)))return y=jO(y),x.forEach(function(N,w){!(Pe.isUndefined(N)||N===null)&&t.append(o===!0?j4([y],w,i):o===null?y:y+"[]",u(N))}),!1}return lw(p)?!0:(t.append(j4(v,y,i),u(p)),!1)}const f=[],m=Object.assign($B,{defaultVisitor:d,convertValue:u,isVisitable:lw});function h(p,y){if(!Pe.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(p),Pe.forEach(p,function(x,b){(!(Pe.isUndefined(x)||x===null)&&s.call(t,x,Pe.isString(b)?b.trim():b,y,m))===!0&&h(x,y?y.concat(b):[b])}),f.pop()}}if(!Pe.isObject(e))throw new TypeError("data must be an object");return h(e),t}function S4(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function n5(e,t){this._pairs=[],e&&zy(e,this,t)}const SO=n5.prototype;SO.append=function(t,r){this._pairs.push([t,r])};SO.toString=function(t){const r=t?function(n){return t.call(this,n,S4)}:S4;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function FB(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function AO(e,t,r){if(!t)return e;const n=r&&r.encode||FB;Pe.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=Pe.isURLSearchParams(t)?t.toString():new n5(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class A4{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Pe.forEach(this.handlers,function(n){n!==null&&t(n)})}}const _O={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},BB=typeof URLSearchParams<"u"?URLSearchParams:n5,UB=typeof FormData<"u"?FormData:null,zB=typeof Blob<"u"?Blob:null,qB={isBrowser:!0,classes:{URLSearchParams:BB,FormData:UB,Blob:zB},protocols:["http","https","file","blob","url","data"]},a5=typeof window<"u"&&typeof document<"u",cw=typeof navigator=="object"&&navigator||void 0,HB=a5&&(!cw||["ReactNative","NativeScript","NS"].indexOf(cw.product)<0),VB=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",WB=a5&&window.location.href||"http://localhost",GB=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:a5,hasStandardBrowserEnv:HB,hasStandardBrowserWebWorkerEnv:VB,navigator:cw,origin:WB},Symbol.toStringTag,{value:"Module"})),fa={...GB,...qB};function YB(e,t){return zy(e,new fa.classes.URLSearchParams,{visitor:function(r,n,s,i){return fa.isNode&&Pe.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function KB(e){return Pe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function XB(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function EO(e){function t(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&Pe.isArray(s)?s.length:o,c?(Pe.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!Pe.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],i)&&Pe.isArray(s[o])&&(s[o]=XB(s[o])),!l)}if(Pe.isFormData(e)&&Pe.isFunction(e.entries)){const r={};return Pe.forEachEntry(e,(n,s)=>{t(KB(n),s,r,0)}),r}return null}function JB(e,t,r){if(Pe.isString(e))try{return(t||JSON.parse)(e),Pe.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Ep={transitional:_O,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=Pe.isObject(t);if(i&&Pe.isHTMLForm(t)&&(t=new FormData(t)),Pe.isFormData(t))return s?JSON.stringify(EO(t)):t;if(Pe.isArrayBuffer(t)||Pe.isBuffer(t)||Pe.isStream(t)||Pe.isFile(t)||Pe.isBlob(t)||Pe.isReadableStream(t))return t;if(Pe.isArrayBufferView(t))return t.buffer;if(Pe.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return YB(t,this.formSerializer).toString();if((l=Pe.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return zy(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),JB(t)):t}],transformResponse:[function(t){const r=this.transitional||Ep.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(Pe.isResponse(t)||Pe.isReadableStream(t))return t;if(t&&Pe.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?kt.from(l,kt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fa.classes.FormData,Blob:fa.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pe.forEach(["delete","get","head","post","put","patch"],e=>{Ep.headers[e]={}});const ZB=Pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),QB=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&ZB[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},_4=Symbol("internals");function Nh(e){return e&&String(e).trim().toLowerCase()}function Pg(e){return e===!1||e==null?e:Pe.isArray(e)?e.map(Pg):String(e)}function eU(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const tU=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function q1(e,t,r,n,s){if(Pe.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!Pe.isString(t)){if(Pe.isString(n))return t.indexOf(n)!==-1;if(Pe.isRegExp(n))return n.test(t)}}function rU(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function nU(e,t){const r=Pe.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,o){return this[n].call(this,t,s,i,o)},configurable:!0})})}let Ya=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(l,c,u){const d=Nh(c);if(!d)throw new Error("header name must be a non-empty string");const f=Pe.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=Pg(l))}const o=(l,c)=>Pe.forEach(l,(u,d)=>i(u,d,c));if(Pe.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(Pe.isString(t)&&(t=t.trim())&&!tU(t))o(QB(t),r);else if(Pe.isObject(t)&&Pe.isIterable(t)){let l={},c,u;for(const d of t){if(!Pe.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?Pe.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=Nh(t),t){const n=Pe.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return eU(s);if(Pe.isFunction(r))return r.call(this,s,n);if(Pe.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Nh(t),t){const n=Pe.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||q1(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(o){if(o=Nh(o),o){const l=Pe.findKey(n,o);l&&(!r||q1(n,n[l],l,r))&&(delete n[l],s=!0)}}return Pe.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||q1(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return Pe.forEach(this,(s,i)=>{const o=Pe.findKey(n,i);if(o){r[o]=Pg(s),delete r[i];return}const l=t?rU(i):String(i).trim();l!==i&&delete r[i],r[l]=Pg(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Pe.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&Pe.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[_4]=this[_4]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=Nh(o);n[l]||(nU(s,o),n[l]=!0)}return Pe.isArray(t)?t.forEach(i):i(t),this}};Ya.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Pe.reduceDescriptors(Ya.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Pe.freezeMethods(Ya);function H1(e,t){const r=this||Ep,n=t||r,s=Ya.from(n.headers);let i=n.data;return Pe.forEach(e,function(l){i=l.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function PO(e){return!!(e&&e.__CANCEL__)}function Af(e,t,r){kt.call(this,e??"canceled",kt.ERR_CANCELED,t,r),this.name="CanceledError"}Pe.inherits(Af,kt,{__CANCEL__:!0});function CO(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new kt("Request failed with status code "+r.status,[kt.ERR_BAD_REQUEST,kt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function aU(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function sU(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[i];o||(o=u),r[s]=c,n[s]=u;let f=i,m=0;for(;f!==s;)m+=r[f++],f=f%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const h=d&&u-d;return h?Math.round(m*1e3/h):void 0}}function iU(e,t){let r=0,n=1e3/t,s,i;const o=(u,d=Date.now())=>{r=d,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?o(u,d):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},n-f)))},()=>s&&o(s)]}const cx=(e,t,r=3)=>{let n=0;const s=sU(50,250);return iU(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-n,u=s(c),d=o<=l;n=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},E4=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},P4=e=>(...t)=>Pe.asap(()=>e(...t)),oU=fa.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,fa.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(fa.origin),fa.navigator&&/(msie|trident)/i.test(fa.navigator.userAgent)):()=>!0,lU=fa.hasStandardBrowserEnv?{write(e,t,r,n,s,i){const o=[e+"="+encodeURIComponent(t)];Pe.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),Pe.isString(n)&&o.push("path="+n),Pe.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function cU(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function uU(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function TO(e,t,r){let n=!cU(t);return e&&(n||r==!1)?uU(e,t):t}const C4=e=>e instanceof Ya?{...e}:e;function su(e,t){t=t||{};const r={};function n(u,d,f,m){return Pe.isPlainObject(u)&&Pe.isPlainObject(d)?Pe.merge.call({caseless:m},u,d):Pe.isPlainObject(d)?Pe.merge({},d):Pe.isArray(d)?d.slice():d}function s(u,d,f,m){if(Pe.isUndefined(d)){if(!Pe.isUndefined(u))return n(void 0,u,f,m)}else return n(u,d,f,m)}function i(u,d){if(!Pe.isUndefined(d))return n(void 0,d)}function o(u,d){if(Pe.isUndefined(d)){if(!Pe.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,f)=>s(C4(u),C4(d),f,!0)};return Pe.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||s,m=f(e[d],t[d],d);Pe.isUndefined(m)&&f!==l||(r[d]=m)}),r}const kO=e=>{const t=su({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=Ya.from(o),t.url=AO(TO(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Pe.isFormData(r)){if(fa.hasStandardBrowserEnv||fa.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Pe.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&o.set(d,f)})}}if(fa.hasStandardBrowserEnv&&(n&&Pe.isFunction(n)&&(n=n(t)),n||n!==!1&&oU(t.url))){const c=s&&i&&lU.read(i);c&&o.set(s,c)}return t},dU=typeof XMLHttpRequest<"u",fU=dU&&function(e){return new Promise(function(r,n){const s=kO(e);let i=s.data;const o=Ya.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,f,m,h,p;function y(){h&&h(),p&&p(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function x(){if(!v)return;const N=Ya.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:N,config:e,request:v};CO(function(T){r(T),y()},function(T){n(T),y()},S),v=null}"onloadend"in v?v.onloadend=x:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(x)},v.onabort=function(){v&&(n(new kt("Request aborted",kt.ECONNABORTED,e,v)),v=null)},v.onerror=function(w){const S=w&&w.message?w.message:"Network Error",_=new kt(S,kt.ERR_NETWORK,e,v);_.event=w||null,n(_),v=null},v.ontimeout=function(){let w=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const S=s.transitional||_O;s.timeoutErrorMessage&&(w=s.timeoutErrorMessage),n(new kt(w,S.clarifyTimeoutError?kt.ETIMEDOUT:kt.ECONNABORTED,e,v)),v=null},i===void 0&&o.setContentType(null),"setRequestHeader"in v&&Pe.forEach(o.toJSON(),function(w,S){v.setRequestHeader(S,w)}),Pe.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),l&&l!=="json"&&(v.responseType=s.responseType),u&&([m,p]=cx(u,!0),v.addEventListener("progress",m)),c&&v.upload&&([f,h]=cx(c),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",h)),(s.cancelToken||s.signal)&&(d=N=>{v&&(n(!N||N.type?new Af(null,e,v):N),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const b=aU(s.url);if(b&&fa.protocols.indexOf(b)===-1){n(new kt("Unsupported protocol "+b+":",kt.ERR_BAD_REQUEST,e));return}v.send(i||null)})},hU=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof kt?d:new Af(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new kt(`timeout ${t} of ms exceeded`,kt.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>Pe.asap(l),c}},mU=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},pU=async function*(e,t){for await(const r of gU(e))yield*mU(r,t)},gU=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},T4=(e,t,r,n)=>{const s=pU(e,t);let i=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let m=i+=f;r(m)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},k4=64*1024,{isFunction:D0}=Pe,xU=(({Request:e,Response:t})=>({Request:e,Response:t}))(Pe.global),{ReadableStream:O4,TextEncoder:I4}=Pe.global,L4=(e,...t)=>{try{return!!e(...t)}catch{return!1}},yU=e=>{e=Pe.merge.call({skipUndefined:!0},xU,e);const{fetch:t,Request:r,Response:n}=e,s=t?D0(t):typeof fetch=="function",i=D0(r),o=D0(n);if(!s)return!1;const l=s&&D0(O4),c=s&&(typeof I4=="function"?(p=>y=>p.encode(y))(new I4):async p=>new Uint8Array(await new r(p).arrayBuffer())),u=i&&l&&L4(()=>{let p=!1;const y=new r(fa.origin,{body:new O4,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!y}),d=o&&l&&L4(()=>Pe.isReadableStream(new n("").body)),f={stream:d&&(p=>p.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!f[p]&&(f[p]=(y,v)=>{let x=y&&y[p];if(x)return x.call(y);throw new kt(`Response type '${p}' is not supported`,kt.ERR_NOT_SUPPORT,v)})});const m=async p=>{if(p==null)return 0;if(Pe.isBlob(p))return p.size;if(Pe.isSpecCompliantForm(p))return(await new r(fa.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(Pe.isArrayBufferView(p)||Pe.isArrayBuffer(p))return p.byteLength;if(Pe.isURLSearchParams(p)&&(p=p+""),Pe.isString(p))return(await c(p)).byteLength},h=async(p,y)=>{const v=Pe.toFiniteNumber(p.getContentLength());return v??m(y)};return async p=>{let{url:y,method:v,data:x,signal:b,cancelToken:N,timeout:w,onDownloadProgress:S,onUploadProgress:_,responseType:T,headers:k,withCredentials:P="same-origin",fetchOptions:D}=kO(p),A=t||fetch;T=T?(T+"").toLowerCase():"text";let I=hU([b,N&&N.toAbortSignal()],w),$=null;const E=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let M;try{if(_&&u&&v!=="get"&&v!=="head"&&(M=await h(k,x))!==0){let de=new r(y,{method:"POST",body:x,duplex:"half"}),B;if(Pe.isFormData(x)&&(B=de.headers.get("content-type"))&&k.setContentType(B),de.body){const[G,te]=E4(M,cx(P4(_)));x=T4(de.body,k4,G,te)}}Pe.isString(P)||(P=P?"include":"omit");const z=i&&"credentials"in r.prototype,Z={...D,signal:I,method:v.toUpperCase(),headers:k.normalize().toJSON(),body:x,duplex:"half",credentials:z?P:void 0};$=i&&new r(y,Z);let R=await(i?A($,D):A(y,Z));const U=d&&(T==="stream"||T==="response");if(d&&(S||U&&E)){const de={};["status","statusText","headers"].forEach(ue=>{de[ue]=R[ue]});const B=Pe.toFiniteNumber(R.headers.get("content-length")),[G,te]=S&&E4(B,cx(P4(S),!0))||[];R=new n(T4(R.body,k4,G,()=>{te&&te(),E&&E()}),de)}T=T||"text";let re=await f[Pe.findKey(f,T)||"text"](R,p);return!U&&E&&E(),await new Promise((de,B)=>{CO(de,B,{data:re,headers:Ya.from(R.headers),status:R.status,statusText:R.statusText,config:p,request:$})})}catch(z){throw E&&E(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new kt("Network Error",kt.ERR_NETWORK,p,$),{cause:z.cause||z}):kt.from(z,z&&z.code,p,$)}}},vU=new Map,OO=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:s}=t,i=[n,s,r];let o=i.length,l=o,c,u,d=vU;for(;l--;)c=i[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:yU(t)),d=u;return u};OO();const uw={http:MB,xhr:fU,fetch:{get:OO}};Pe.forEach(uw,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const R4=e=>`- ${e}`,bU=e=>Pe.isFunction(e)||e===null||e===!1,IO={getAdapter:(e,t)=>{e=Pe.isArray(e)?e:[e];const{length:r}=e;let n,s;const i={};for(let o=0;o<r;o++){n=e[o];let l;if(s=n,!bU(n)&&(s=uw[(l=String(n)).toLowerCase()],s===void 0))throw new kt(`Unknown adapter '${l}'`);if(s&&(Pe.isFunction(s)||(s=s.get(t))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(R4).join(`
`):" "+R4(o[0]):"as no adapter specified";throw new kt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:uw};function V1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Af(null,e)}function M4(e){return V1(e),e.headers=Ya.from(e.headers),e.data=H1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),IO.getAdapter(e.adapter||Ep.adapter,e)(e).then(function(n){return V1(e),n.data=H1.call(e,e.transformResponse,n),n.headers=Ya.from(n.headers),n},function(n){return PO(n)||(V1(e),n&&n.response&&(n.response.data=H1.call(e,e.transformResponse,n.response),n.response.headers=Ya.from(n.response.headers))),Promise.reject(n)})}const LO="1.12.2",qy={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{qy[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const D4={};qy.transitional=function(t,r,n){function s(i,o){return"[Axios v"+LO+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new kt(s(o," has been removed"+(r?" in "+r:"")),kt.ERR_DEPRECATED);return r&&!D4[o]&&(D4[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};qy.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function wU(e,t,r){if(typeof e!="object")throw new kt("options must be an object",kt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new kt("option "+i+" must be "+c,kt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new kt("Unknown option "+i,kt.ERR_BAD_OPTION)}}const Cg={assertOptions:wU,validators:qy},Pi=Cg.validators;let Gc=class{constructor(t){this.defaults=t||{},this.interceptors={request:new A4,response:new A4}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=su(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&Cg.assertOptions(n,{silentJSONParsing:Pi.transitional(Pi.boolean),forcedJSONParsing:Pi.transitional(Pi.boolean),clarifyTimeoutError:Pi.transitional(Pi.boolean)},!1),s!=null&&(Pe.isFunction(s)?r.paramsSerializer={serialize:s}:Cg.assertOptions(s,{encode:Pi.function,serialize:Pi.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Cg.assertOptions(r,{baseUrl:Pi.spelling("baseURL"),withXsrfToken:Pi.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&Pe.merge(i.common,i[r.method]);i&&Pe.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),r.headers=Ya.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(c=c&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,f=0,m;if(!c){const p=[M4.bind(this),void 0];for(p.unshift(...l),p.push(...u),m=p.length,d=Promise.resolve(r);f<m;)d=d.then(p[f++],p[f++]);return d}m=l.length;let h=r;for(;f<m;){const p=l[f++],y=l[f++];try{h=p(h)}catch(v){y.call(this,v);break}}try{d=M4.call(this,h)}catch(p){return Promise.reject(p)}for(f=0,m=u.length;f<m;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=su(this.defaults,t);const r=TO(t.baseURL,t.url,t.allowAbsoluteUrls);return AO(r,t.params,t.paramsSerializer)}};Pe.forEach(["delete","get","head","options"],function(t){Gc.prototype[t]=function(r,n){return this.request(su(n||{},{method:t,url:r,data:(n||{}).data}))}});Pe.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(su(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Gc.prototype[t]=r(),Gc.prototype[t+"Form"]=r(!0)});let NU=class RO{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new Af(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new RO(function(s){t=s}),cancel:t}}};function jU(e){return function(r){return e.apply(null,r)}}function SU(e){return Pe.isObject(e)&&e.isAxiosError===!0}const dw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(dw).forEach(([e,t])=>{dw[t]=e});function MO(e){const t=new Gc(e),r=hO(Gc.prototype.request,t);return Pe.extend(r,Gc.prototype,t,{allOwnKeys:!0}),Pe.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return MO(su(e,s))},r}const ln=MO(Ep);ln.Axios=Gc;ln.CanceledError=Af;ln.CancelToken=NU;ln.isCancel=PO;ln.VERSION=LO;ln.toFormData=zy;ln.AxiosError=kt;ln.Cancel=ln.CanceledError;ln.all=function(t){return Promise.all(t)};ln.spread=jU;ln.isAxiosError=SU;ln.mergeConfig=su;ln.AxiosHeaders=Ya;ln.formToJSON=e=>EO(Pe.isHTMLForm(e)?new FormData(e):e);ln.getAdapter=IO.getAdapter;ln.HttpStatusCode=dw;ln.default=ln;const{Axios:M1e,AxiosError:D1e,CanceledError:$1e,isCancel:F1e,CancelToken:B1e,VERSION:U1e,all:z1e,Cancel:q1e,isAxiosError:H1e,spread:V1e,toFormData:W1e,AxiosHeaders:G1e,HttpStatusCode:Y1e,formToJSON:K1e,getAdapter:X1e,mergeConfig:J1e}=ln,AU="http://3.89.141.154:3007/api",$4=AU,_U="http://3.89.141.154:3007",iu={BASE_URL:$4,API_ORIGIN:$4.replace(/\/api\/?$/,"")||_U,TIMEOUT:1e4,RETRY_ATTEMPTS:3,RETRY_DELAY:1e3};function Oa(e){if(!e)return"";const t=e.startsWith("/")?e:`/${e}`;return`${iu.API_ORIGIN}${t}`}const xe={AUTH:{LOGIN:"/v1/auth/login",LOGOUT:"/v1/auth/logout",REFRESH:"/v1/auth/refresh",REGISTER:"/v1/auth/register",FORGOT_PASSWORD:"/v1/auth/forgot-password",RESET_PASSWORD:"/v1/auth/reset-password",VERIFY_EMAIL:"/v1/auth/verify-email",CHANGE_PASSWORD:"/v1/auth/change-password",RESEND_VERIFICATION:"/v1/auth/resend-verification",ENABLE_2FA:"/v1/auth/2fa/enable",VERIFY_2FA:"/v1/auth/2fa/verify",GET_PROFILE:"/v1/auth/me",UPDATE_PROFILE:"/v1/auth/profile",CHECK_STATUS:"/v1/auth/status",SESSIONS:"/v1/auth/sessions",REVOKE_SESSION:e=>`/v1/auth/sessions/${e}`,REVOKE_ALL_SESSIONS:"/v1/auth/sessions",HEALTH:"/v1/auth/health"},USERS:{BASE:"/v1/users",BY_ID:e=>`/v1/users/${e}`,SEARCH:"/v1/users/search",MEDICAL_STAFF:"/v1/users/medical-staff",UPDATE_STATUS:e=>`/v1/users/${e}/status`,PROFILE:"/v1/users/profile",UPDATE_PROFILE:"/v1/users/profile",UPLOAD_AVATAR:"/v1/users/avatar"},PATIENTS:{BASE:"/v1/patients",BY_ID:e=>`/v1/patients/${e}`,SEARCH:"/v1/patients/search",REGISTER:"/v1/patients",DASHBOARD:e=>`/v1/patients/${e}/dashboard`,TIMELINE:e=>`/v1/patients/${e}/timeline`,MERGE:e=>`/v1/patients/${e}/merge`,MEDICAL_HISTORY:e=>`/v1/patients/${e}/medical-history`,PROGRESS:e=>`/v1/patients/${e}/progress`,CASES:e=>`/v1/patients/${e}/cases`},NURSES:{BASE:"/v1/nurses",BY_ID:e=>`/v1/nurses/${e}`,SCHEDULE:e=>`/v1/nurses/${e}/schedule`,CERTIFICATIONS:e=>`/v1/nurses/${e}/certifications`,ASSIGNMENTS:e=>`/v1/nurses/${e}/assignments`},SPECIALISTS:{BASE:"/v1/specialists",BY_ID:e=>`/v1/specialists/${e}`,AVAILABILITY:e=>`/v1/specialists/${e}/availability`,SPECIALIZATIONS:"/v1/specialists/specializations"},THERAPISTS:{BASE:"/v1/therapists",BY_ID:e=>`/v1/therapists/${e}`},SPECIALIZATIONS:{BASE:"/v1/specializations",BY_ID:e=>`/v1/specializations/${e}`},APPOINTMENTS:{BASE:"/v1/appointments",BY_ID:e=>`/v1/appointments/${e}`,BY_PATIENT:e=>`/v1/appointments/patient/${e}`,BY_NURSE:e=>`/v1/appointments/nurse/${e}`,BY_SPECIALIST:e=>`/v1/appointments/specialist/${e}`,AVAILABLE_SLOTS:"/v1/appointments/available-slots",CHECK_CONFLICTS:"/v1/appointments/check-conflicts",CALENDAR:e=>`/v1/appointments/calendar/${e}`,SEARCH:"/v1/appointments/search",CANCEL:e=>`/v1/appointments/${e}/cancel`,RESCHEDULE:e=>`/v1/appointments/${e}/reschedule`,COMPLETE:e=>`/v1/appointments/${e}/complete`,START:e=>`/v1/appointments/${e}/start`,NO_SHOW:e=>`/v1/appointments/${e}/no-show`,NOTES:e=>`/v1/appointments/${e}/notes`},SERVICES:{BASE:"/v1/services",BY_ID:e=>`/v1/services/${e}`,CATEGORIES:"/v1/services/categories",TYPES:"/v1/services/types"},HEALTH_RECORDS:{BASE:"/v1/health-records",BY_ID:e=>`/v1/health-records/${e}`,BY_PATIENT:e=>`/v1/health-records/patient/${e}`,VITALS:e=>`/v1/health-records/patient/${e}/vitals`,MEDICATIONS:e=>`/v1/health-records/patient/${e}/medications`,SYMPTOMS:e=>`/v1/health-records/patient/${e}/symptoms`,VERIFY:e=>`/v1/health-records/${e}/verify`,EXPORT:e=>`/v1/health-records/patient/${e}/export`},BILLING:{INVOICES:"/v1/billing/invoices",INVOICE_BY_ID:e=>`/v1/billing/invoices/${e}`,ARCHIVE_INVOICE:e=>`/v1/billing/invoices/${e}/archive`,PAYMENTS:"/v1/billing/payments",PAYMENT_BY_ID:e=>`/v1/billing/payments/${e}`,PROCESS_PAYMENT:"/v1/billing/process-payment",GENERATE_INVOICE:"/v1/billing/generate-invoice",REVENUE_REPORT:"/v1/billing/reports/revenue",OUTSTANDING_REPORT:"/v1/billing/reports/outstanding",SUMMARY:"/v1/billing/reports/summary"},PHYSIOTHERAPY:{ASSESSMENTS:"/v1/physiotherapy/assessments",ASSESSMENT_BY_ID:e=>`/v1/physiotherapy/assessments/${e}`,TREATMENT_PLANS:"/v1/physiotherapy/treatment-plans",TREATMENT_PLAN_BY_ID:e=>`/v1/physiotherapy/treatment-plans/${e}`,SESSIONS:"/v1/physiotherapy/sessions",SESSION_BY_ID:e=>`/v1/physiotherapy/sessions/${e}`,EXERCISES:"/v1/physiotherapy/exercises",MODALITIES:"/v1/physiotherapy/modalities"},TRAINING:{CLASSES:"/v1/training/classes",CLASS_BY_ID:e=>`/v1/training/classes/${e}`,ENROLL:e=>`/v1/training/classes/${e}/enroll`,EXAMS:"/v1/training/exams",EXAM_BY_ID:e=>`/v1/training/exams/${e}`,SUBMIT_EXAM:e=>`/v1/training/exams/${e}/submit`,CERTIFICATIONS:"/v1/training/certifications",CERTIFICATION_BY_ID:e=>`/v1/training/certifications/${e}`,EXAMS_V2:"/v1/training/exams-v2",EXAM_V2_BY_ID:e=>`/v1/training/exams-v2/${e}`,START_EXAM:e=>`/v1/training/exams-v2/${e}/start`,ATTEMPTS:"/v1/training/attempts",ATTEMPT_BY_ID:e=>`/v1/training/attempts/${e}`,SUBMIT_ATTEMPT:e=>`/v1/training/attempts/${e}/submit`,CERTIFICATES_V2:"/v1/training/certificates",CERTIFICATE_V2_BY_ID:e=>`/v1/training/certificates/${e}`,CERTIFICATES_MINE:"/v1/training/certificates/mine",APPROVE_CERTIFICATE:e=>`/v1/training/certificates/${e}/approve`},NOTIFICATIONS:{BASE:"/v1/notifications",BY_ID:e=>`/v1/notifications/${e}`,MARK_READ:e=>`/v1/notifications/${e}/read`,MARK_ALL_READ:"/v1/notifications/mark-all-read",PREFERENCES:"/v1/notifications/preferences",UNREAD_COUNT:"/v1/notifications/unread-count",TEST:"/v1/notifications/test",HISTORY:"/v1/notifications/history",BULK_READ:"/v1/notifications/bulk-read",BULK_DELETE:"/v1/notifications/bulk-delete"},PHONE_REMINDERS:{BASE:"/v1/phone-reminders",BY_ID:e=>`/v1/phone-reminders/${e}`,SEND:e=>`/v1/phone-reminders/${e}/send`,CANCEL:e=>`/v1/phone-reminders/${e}/cancel`,TEMPLATES:"/v1/phone-reminders/templates"},COMMUNICATION:{MESSAGES:"/v1/communication/messages",MESSAGE_BY_ID:e=>`/v1/communication/messages/${e}`,SEND_MESSAGE:"/v1/communication/send",CONVERSATIONS:"/v1/communication/conversations",CONVERSATION_BY_ID:e=>`/v1/communication/conversations/${e}`},REPORTS:{BASE:"/v1/reports",CUSTOM:"/v1/reports/custom",SCHEDULE:"/v1/reports/schedule",TEMPLATES:"/v1/reports/templates",APPOINTMENTS:"/v1/reports/appointments",REVENUE:"/v1/reports/revenue",PATIENT_SATISFACTION:"/v1/reports/patient-satisfaction",NURSE_UTILIZATION:"/v1/reports/nurse-utilization",EXPORT:e=>`/v1/reports/export/${e}`},ANALYTICS:{DASHBOARD:"/v1/analytics/dashboard",OVERVIEW:"/v1/analytics/overview",TRENDS:"/v1/analytics/trends",PERFORMANCE:"/v1/analytics/performance",APPOINTMENTS:"/v1/analytics/appointments",REVENUE:"/v1/analytics/revenue",PATIENTS:"/v1/analytics/patients",NURSES:"/v1/analytics/nurses",SERVICE_POPULARITY:"/v1/analytics/service-popularity"},FEEDBACK:{BASE:"/v1/feedback",BY_ID:e=>`/v1/feedback/${e}`,BY_PATIENT:e=>`/v1/feedback/patient/${e}`,BY_SERVICE:e=>`/v1/feedback/service/${e}`,SUBMIT:"/v1/feedback/submit"},LAB:{SAMPLES:"/v1/lab/samples",SAMPLE_BY_ID:e=>`/v1/lab/samples/${e}`,RESULTS:"/v1/lab/results",RESULT_BY_ID:e=>`/v1/lab/results/${e}`,COLLECT:"/v1/lab/collect",UPDATE_STATUS:e=>`/v1/lab/samples/${e}/status`},INVESTIGATION_REQUESTS:{BASE:"/v1/investigation-requests",BY_ID:e=>`/v1/investigation-requests/${e}`},REFERRALS:{BASE:"/v1/referrals",BY_ID:e=>`/v1/referrals/${e}`,BY_PATIENT:e=>`/v1/referrals/patient/${e}`,SEND:"/v1/referrals/send",ACCEPT:e=>`/v1/referrals/${e}/accept`,DECLINE:e=>`/v1/referrals/${e}/decline`},UPLOAD:{AVATAR:"/v1/upload/avatar",DOCUMENT:"/v1/upload/document",IMAGE:"/v1/upload/image",DELETE:e=>`/v1/upload/${e}`},SETTINGS:{SYSTEM:"/v1/settings/system",NOTIFICATIONS:"/v1/settings/notifications",REMINDERS:"/v1/settings/reminders",BACKUP:"/v1/settings/backup",RESTORE:"/v1/settings/restore"},SYSTEM:{HEALTH:"/v1/health",HEALTH_DETAILED:"/v1/health/detailed",METRICS:"/v1/metrics",STATUS:"/v1/status",AUDIT_LOGS:"/v1/audit/logs",USER_ACTIVITIES:e=>`/v1/audit/activities${e?`/${e}`:""}`,LOGIN_ATTEMPTS:"/v1/audit/login-attempts",EXPORT_AUDIT:"/v1/audit/export",APP_CONFIG:"/v1/config/app",FEATURE_FLAGS:"/v1/config/features",DATA_BACKUP:"/v1/data/backup",DATA_RESTORE:"/v1/data/restore",DATA_EXPORT:"/v1/data/export",DATA_IMPORT:"/v1/data/import",DATA_CLEANUP:"/v1/data/cleanup"},SECURITY:{POLICIES:"/v1/security/policies",INCIDENTS:"/v1/security/incidents",REPORT_INCIDENT:"/v1/security/incidents",COMPLIANCE_AUDIT:"/v1/compliance/audit",DATA_REQUESTS:"/v1/privacy/data-requests",DATA_EXPORT:e=>`/v1/privacy/data-export${e?`/${e}`:""}`,DATA_DELETE:e=>`/v1/privacy/data-delete${e?`/${e}`:""}`},MOBILE:{CONFIG:"/v1/mobile/config",PUSH_TOKEN:"/v1/mobile/push-token",OFFLINE_SYNC:"/v1/mobile/offline-sync"},INTEGRATIONS:{AVAILABLE:"/v1/integrations/available",CONNECT:"/v1/integrations/connect",WEBHOOK:e=>`/v1/integrations/webhook${e?`/${e}`:""}`}},Ci={AUTH:{LOGIN:"/v1/auth/login",LOGOUT:"/v1/auth/logout",REFRESH:"/v1/auth/refresh",REGISTER:"/v1/auth/register",FORGOT_PASSWORD:"/v1/auth/forgot-password",RESET_PASSWORD:"/v1/auth/reset-password",VERIFY_EMAIL:"/v1/auth/verify-email",CHANGE_PASSWORD:"/v1/auth/change-password",ME:"/v1/auth/me"},USERS:{BASE:"/v1/users",BY_ID:e=>`/v1/users/${e}`,PROFILE:"/v1/users/profile",AVATAR:"/v1/users/avatar",SEARCH:"/v1/users/search"},PATIENTS:{BASE:"/v1/patients",BY_ID:e=>`/v1/patients/${e}`,SEARCH:"/v1/patients/search",MEDICAL_HISTORY:e=>`/v1/patients/${e}/medical-history`,PROGRESS:e=>`/v1/patients/${e}/progress`,CASES:e=>`/v1/patients/${e}/cases`},NURSES:{BASE:"/v1/nurses",BY_ID:e=>`/v1/nurses/${e}`,SCHEDULE:e=>`/v1/nurses/${e}/schedule`,CERTIFICATIONS:e=>`/v1/nurses/${e}/certifications`,ASSIGNMENTS:e=>`/v1/nurses/${e}/assignments`,SEARCH:"/v1/nurses/search"},SPECIALISTS:{BASE:"/v1/specialists",BY_ID:e=>`/v1/specialists/${e}`,AVAILABILITY:e=>`/v1/specialists/${e}/availability`,SPECIALIZATIONS:"/v1/specialists/specializations",SEARCH:"/v1/specialists/search"},APPOINTMENTS:{BASE:"/v1/appointments",BY_ID:e=>`/v1/appointments/${e}`,PATIENT:e=>`/v1/appointments/patient/${e}`,NURSE:e=>`/v1/appointments/nurse/${e}`,AVAILABLE_SLOTS:"/v1/appointments/available-slots",CANCEL:e=>`/v1/appointments/${e}/cancel`,RESCHEDULE:e=>`/v1/appointments/${e}/reschedule`,COMPLETE:e=>`/v1/appointments/${e}/complete`,START:e=>`/v1/appointments/${e}/start`},SERVICES:{BASE:"/v1/services",BY_ID:e=>`/v1/services/${e}`,CATEGORIES:"/v1/services/categories",TYPES:"/v1/services/types",SEARCH:"/v1/services/search"},HEALTH_RECORDS:{BASE:"/v1/health-records",BY_ID:e=>`/v1/health-records/${e}`,PATIENT:e=>`/v1/health-records/patient/${e}`,VITALS:e=>`/v1/health-records/patient/${e}/vitals`,MEDICATIONS:e=>`/v1/health-records/patient/${e}/medications`,SYMPTOMS:e=>`/v1/health-records/patient/${e}/symptoms`,VERIFY:e=>`/v1/health-records/${e}/verify`,EXPORT:e=>`/v1/health-records/patient/${e}/export`},BILLING:{INVOICES:"/v1/billing/invoices",INVOICE_BY_ID:e=>`/v1/billing/invoices/${e}`,GENERATE_INVOICE:"/v1/billing/generate-invoice",PAYMENTS:"/v1/billing/payments",PAYMENT_BY_ID:e=>`/v1/billing/payments/${e}`,PROCESS_PAYMENT:"/v1/billing/process-payment",REVENUE_REPORTS:"/v1/billing/reports/revenue",OUTSTANDING_REPORTS:"/v1/billing/reports/outstanding"},NOTIFICATIONS:{BASE:"/v1/notifications",BY_ID:e=>`/v1/notifications/${e}`,MARK_READ:e=>`/v1/notifications/${e}/read`,MARK_ALL_READ:"/v1/notifications/mark-all-read",UNREAD_COUNT:"/v1/notifications/unread-count",PREFERENCES:"/v1/notifications/preferences",TEST:"/v1/notifications/test",HISTORY:"/v1/notifications/history",BULK_READ:"/v1/notifications/bulk-read",BULK_DELETE:"/v1/notifications/bulk-delete"},UPLOAD:{AVATAR:"/v1/upload/avatar",DOCUMENT:"/v1/upload/document",IMAGE:"/v1/upload/image",BY_ID:e=>`/v1/upload/${e}`}};class Al extends Error{constructor(t,r,n){super(r),this.status=t,this.message=r,this.errors=n,this.name="ApiError"}}class EU{constructor(){Vt(this,"client");Vt(this,"token",null);Vt(this,"refreshTokenValue",null);this.client=ln.create({baseURL:iu.BASE_URL,timeout:iu.TIMEOUT,headers:{"Content-Type":"application/json"}}),this.setupInterceptors(),this.loadTokens()}isAuthEndpoint(t){return t?[Ci.AUTH.LOGIN,Ci.AUTH.REFRESH,Ci.AUTH.LOGOUT,Ci.AUTH.REGISTER,Ci.AUTH.FORGOT_PASSWORD,Ci.AUTH.RESET_PASSWORD,Ci.AUTH.VERIFY_EMAIL].some(n=>t.includes(n)):!1}setupInterceptors(){this.client.interceptors.request.use(t=>(this.token&&(t.headers.Authorization=`Bearer ${this.token}`),t),t=>Promise.reject(t)),this.client.interceptors.response.use(t=>t,async t=>{var n;const r=t.config;if(((n=t.response)==null?void 0:n.status)===401&&r&&!r._retry&&!this.isAuthEndpoint(r.url)){r._retry=!0;try{return await this.refreshToken(),this.client(r)}catch(s){return this.logout(),Promise.reject(s)}}return Promise.reject(this.handleError(t))})}handleError(t){var r,n,s;if(t.response){const{status:i,data:o}=t.response,c=(o==null?void 0:o.message)||(typeof(o==null?void 0:o.error)=="string"?o.error:(r=o==null?void 0:o.error)==null?void 0:r.message)||((n=o==null?void 0:o.errors)==null?void 0:n[0])||"An error occurred",u=Array.isArray(o==null?void 0:o.errors)?o.errors:typeof(o==null?void 0:o.error)=="object"&&Array.isArray((s=o.error)==null?void 0:s.details)?o.error.details:void 0;return new Al(i,c,u)}else return t.request?new Al(0,"Network error - please check your connection"):new Al(0,t.message||"An unexpected error occurred")}loadTokens(){this.token=localStorage.getItem("auth_token"),this.refreshTokenValue=localStorage.getItem("refresh_token")}saveToken(t){this.token=t,localStorage.setItem("auth_token",t)}saveRefreshToken(t){this.refreshTokenValue=t,localStorage.setItem("refresh_token",t)}removeToken(){this.token=null,localStorage.removeItem("auth_token")}removeRefreshToken(){this.refreshTokenValue=null,localStorage.removeItem("refresh_token")}setTokens(t){t!=null&&t.accessToken?this.saveToken(t.accessToken):this.removeToken(),t!=null&&t.refreshToken?this.saveRefreshToken(t.refreshToken):(t==null?void 0:t.refreshToken)===null&&this.removeRefreshToken()}clearTokens(){this.removeToken(),this.removeRefreshToken()}async login(t){const r=await this.client.post(Ci.AUTH.LOGIN,t);if(!r.data.success){let n="Login failed. Please check your credentials.";throw r.data.message?n=r.data.message:r.data.error?typeof r.data.error=="string"?n=r.data.error:r.data.error.message&&(n=r.data.error.message):r.data.errors&&Array.isArray(r.data.errors)&&r.data.errors.length>0&&(n=r.data.errors[0]),new Al(r.status||400,n,Array.isArray(r.data.errors)?r.data.errors:void 0)}return r.data.success&&r.data.data&&this.setTokens({accessToken:r.data.data.accessToken,refreshToken:r.data.data.refreshToken}),r.data}async logout(){try{await this.client.post(Ci.AUTH.LOGOUT)}finally{this.clearTokens()}}async refreshToken(){if(!this.refreshTokenValue)throw new Al(401,"Session expired. Please log in again.");const t=await this.client.post(Ci.AUTH.REFRESH,{refreshToken:this.refreshTokenValue});return t.data.success&&t.data.data&&this.setTokens({accessToken:t.data.data.accessToken,refreshToken:t.data.data.refreshToken??void 0}),t.data}async get(t,r){return(await this.client.get(t,r)).data}async post(t,r,n){return(await this.client.post(t,r,n)).data}async put(t,r,n){return(await this.client.put(t,r,n)).data}async patch(t,r,n){return(await this.client.patch(t,r,n)).data}async delete(t,r){return(await this.client.delete(t,r)).data}async uploadFile(t,r,n){const s=new FormData;return s.append("file",r),(await this.client.post(t,s,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:o=>{if(n&&o.total){const l=Math.round(o.loaded*100/o.total);n(l)}}})).data}isAuthenticated(){return!!this.token}getToken(){return this.token}}const me=new EU;class PU{async getNotifications(t){const r=await me.get(xe.NOTIFICATIONS.BASE,{params:t});return r.success&&Array.isArray(r.data)&&r.pagination?{data:r.data,pagination:r.pagination}:r.data||r}async getNotification(t){return(await me.get(xe.NOTIFICATIONS.BY_ID(t))).data}async createNotification(t){return(await me.post(xe.NOTIFICATIONS.BASE,t)).data}async markAsRead(t){return(await me.patch(xe.NOTIFICATIONS.MARK_READ(t))).data}async markAllAsRead(){await me.patch(xe.NOTIFICATIONS.MARK_ALL_READ)}async deleteNotification(t){await me.delete(xe.NOTIFICATIONS.BY_ID(t))}async getUnreadCount(){return(await me.get(`${xe.NOTIFICATIONS.BASE}/unread-count`)).data.count}async getPreferences(){return(await me.get(xe.NOTIFICATIONS.PREFERENCES)).data}async updatePreferences(t){return(await me.put(xe.NOTIFICATIONS.PREFERENCES,t)).data}async sendTestNotification(t,r){await me.post(`${xe.NOTIFICATIONS.BASE}/test`,{type:t,phoneNumber:r})}async getNotificationHistory(t,r=50){return(await me.get(`${xe.NOTIFICATIONS.BASE}/history`,{params:{userId:t,limit:r}})).data}async bulkMarkAsRead(t){await me.patch(`${xe.NOTIFICATIONS.BASE}/bulk-read`,{notificationIds:t})}async bulkDelete(t){await me.delete(`${xe.NOTIFICATIONS.BASE}/bulk-delete`,{data:{notificationIds:t}})}}const ii=new PU,s5=L.createContext(void 0),Rr=()=>{const e=L.useContext(s5);if(!e)throw new Error("useNotifications must be used within a NotificationProvider");return e},W1=e=>({...e,id:e.id||e._id||"",date:e.date||e.createdAt||new Date().toISOString(),read:e.read??e.isRead??!1,title:e.title||"",message:e.message||"",type:(e.type||"info").toLowerCase(),priority:e.priority||"medium",category:e.category||"general",userId:e.userId||"",phoneNotification:e.phoneNotification??!1}),CU=({children:e})=>{const[t,r]=L.useState([]),[n,s]=L.useState(!0);L.useEffect(()=>{let f=!0;return(async()=>{try{const h=await ii.getNotifications({limit:50});let p=[];Array.isArray(h)?p=h:h&&typeof h=="object"&&(Array.isArray(h.data)?p=h.data:h.data&&typeof h.data=="object"&&Array.isArray(h.data.data)?p=h.data.data:h.success&&Array.isArray(h.data)&&(p=h.data)),f&&r(p.map(W1))}catch(h){console.error("Failed to load notifications",h),f&&r([])}finally{f&&s(!1)}})(),()=>{f=!1}},[]);const i=L.useCallback(async(f,m)=>{const h=(m==null?void 0:m.persist)??!0,p=`notif-${Date.now()}-${Math.random().toString(36).slice(2)}`,y=W1({id:p,date:new Date().toISOString(),read:!1,...f});if(r(v=>[y,...v]),h)try{const v={title:f.title,message:f.message,type:f.type,priority:f.priority,category:f.category,userId:f.userId,phoneNotification:f.phoneNotification},x=await ii.createNotification(v);r(b=>b.map(N=>N.id===p?W1(x):N))}catch(v){console.error("Failed to persist notification",v)}!h&&(f.type==="success"||f.type==="info")&&setTimeout(()=>{r(v=>v.filter(x=>x.id!==p))},5e3)},[]),o=L.useCallback(async f=>{r(m=>m.filter(h=>h.id!==f));try{await ii.deleteNotification(f)}catch(m){console.error("Failed to delete notification",m)}},[]),l=L.useCallback(async f=>{r(m=>m.map(h=>h.id===f?{...h,read:!0}:h));try{await ii.markAsRead(f)}catch(m){console.error("Failed to mark notification as read",m)}},[]),c=L.useCallback(async()=>{r(f=>f.map(m=>({...m,read:!0})));try{await ii.markAllAsRead()}catch(f){console.error("Failed to mark notifications as read",f)}},[]),u=t.filter(f=>!f.read).length,d={notifications:t,addNotification:i,removeNotification:o,markAsRead:l,markAllAsRead:c,unreadCount:u,isLoading:n};return a.jsx(s5.Provider,{value:d,children:e})};function TU(){const{notifications:e,removeNotification:t,markAsRead:r,markAllAsRead:n,unreadCount:s,isLoading:i}=Rr(),[o,l]=L.useState(!1),[c,u]=L.useState(!1);L.useEffect(()=>{o&&(u(!0),ii.getNotifications({limit:50}).then(h=>{Array.isArray(h)||(Array.isArray(h.data)||h&&typeof h=="object"&&Array.isArray(h.data))&&h.data}).catch(h=>{console.error("Failed to refresh notifications",h)}).finally(()=>{u(!1)}))},[o]);const d=h=>{switch(String(h||"info").toLowerCase()){case"success":case"SUCCESS":return a.jsx($n,{className:"h-5 w-5 text-green-500"});case"error":case"ERROR":return a.jsx(Bo,{className:"h-5 w-5 text-red-500"});case"warning":case"WARNING":return a.jsx(ha,{className:"h-5 w-5 text-yellow-500"});default:return a.jsx(BF,{className:"h-5 w-5 text-blue-500"})}},f=h=>{switch(String(h||"info").toLowerCase()){case"success":case"SUCCESS":return"border-l-green-500 bg-green-50";case"error":case"ERROR":return"border-l-red-500 bg-red-50";case"warning":case"WARNING":return"border-l-yellow-500 bg-yellow-50";default:return"border-l-blue-500 bg-blue-50"}},m=h=>{const p=new Date(h),v=Math.floor((new Date().getTime()-p.getTime())/(1e3*60));return v<1?"Just now":v<60?`${v}m ago`:v<1440?`${Math.floor(v/60)}h ago`:p.toLocaleDateString()};return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>l(!o),className:"relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[a.jsx(jo,{className:"h-6 w-6"}),s>0&&a.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:s>9?"9+":s})]}),o&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>l(!1)}),a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-96 bg-white rounded-lg shadow-xl border border-gray-200 z-50 max-h-96 overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[s>0&&a.jsxs("button",{onClick:n,className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:[a.jsx(kF,{className:"h-4 w-4 mr-1"}),"Mark all read"]}),a.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(Dt,{className:"h-5 w-5"})})]})]})}),a.jsx("div",{className:"max-h-80 overflow-y-auto",children:i?a.jsxs("div",{className:"p-6 flex items-center justify-center text-gray-500",children:[a.jsx(Or,{className:"h-5 w-5 mr-2 animate-spin"})," Loading notifications..."]}):e.length===0?a.jsxs("div",{className:"p-8 text-center text-gray-500",children:[a.jsx(jo,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No notifications yet"})]}):a.jsx("div",{className:"divide-y divide-gray-200",children:e.map(h=>a.jsx("div",{className:`p-4 border-l-4 ${f(h.type)} ${h.read?"bg-opacity-50":"bg-opacity-100"}`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:d(h.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:`text-sm font-medium ${h.read?"text-gray-600":"text-gray-900"}`,children:h.title}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-xs text-gray-500",children:m(h.date||new Date().toISOString())}),a.jsx("button",{onClick:()=>t(h.id),className:"text-gray-400 hover:text-gray-600",title:"Delete notification",children:a.jsx(Dt,{className:"h-4 w-4"})})]})]}),a.jsx("p",{className:`text-sm mt-1 ${h.read?"text-gray-500":"text-gray-700"}`,children:h.message}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[h.category&&a.jsx("span",{className:"text-xs text-gray-400 capitalize",children:h.category.toLowerCase().replace("_"," ")}),!h.read&&a.jsx("button",{onClick:()=>r(h.id),className:"text-xs text-blue-600 hover:text-blue-800",children:"Mark as read"})]})]})]})},h.id))})})]})]})]})}class kU{async getSessions(){var r,n;return((n=(r=(await me.get(xe.AUTH.SESSIONS)).data)==null?void 0:r.data)==null?void 0:n.sessions)||[]}async revokeSession(t){await me.delete(xe.AUTH.REVOKE_SESSION(t))}async revokeAllSessions(){await me.delete(xe.AUTH.REVOKE_ALL_SESSIONS)}getCurrentSessionInfo(){const t=localStorage.getItem("auth_token");if(!t)return null;try{const r=JSON.parse(atob(t.split(".")[1]));return{id:r.sessionId||"current",deviceInfo:navigator.userAgent,isActive:!0,createdAt:new Date(r.iat*1e3).toISOString(),lastActiveAt:new Date().toISOString()}}catch{return null}}formatDeviceInfo(t){if(t.deviceInfo){const r=t.deviceInfo;if(r.includes("Mobile"))return"Mobile Device";if(r.includes("Tablet"))return"Tablet";if(r.includes("Windows"))return"Windows PC";if(r.includes("Mac"))return"Mac";if(r.includes("Linux"))return"Linux PC"}return"Unknown Device"}isCurrentSession(t){const r=this.getCurrentSessionInfo();return(r==null?void 0:r.id)===t.id}}const G1=new kU,OU=["admin","receptionist","specialist","nurse","biller"],F4={ADMIN:"admin",RECEPTIONIST:"receptionist",SPECIALIST:"specialist",NURSE:"nurse",BILLER:"biller"};class IU{async login(t){const r=await me.login(t);return this.normalizeAuthPayload(r),r}async register(t){const r=await me.post(xe.AUTH.REGISTER,t);return r.success&&r.data&&me.setTokens({accessToken:r.data.accessToken,refreshToken:r.data.refreshToken}),this.normalizeAuthPayload(r),r}async logout(){await me.logout()}async refreshToken(){return me.refreshToken()}async forgotPassword(t){await me.post(xe.AUTH.FORGOT_PASSWORD,t)}async resetPassword(t){await me.post(xe.AUTH.RESET_PASSWORD,t)}async changePassword(t,r){await me.post(xe.AUTH.CHANGE_PASSWORD,{currentPassword:t,newPassword:r})}async verifyEmail(t){await me.post(xe.AUTH.VERIFY_EMAIL,{token:t})}async resendVerification(){await me.post(xe.AUTH.RESEND_VERIFICATION)}async getProfile(){var r;const t=await me.get(xe.AUTH.GET_PROFILE);if((r=t.data)!=null&&r.user)return this.normalizeUser(t.data.user);throw new Error("Unable to fetch user profile")}async updateProfile(t){var n;const r=await me.put(xe.AUTH.UPDATE_PROFILE,t);if((n=r.data)!=null&&n.user)return this.normalizeUser(r.data.user);throw new Error("Unable to update profile")}async checkStatus(){try{const t=await me.get(xe.AUTH.CHECK_STATUS);if(t.data){const r=t.data.user?this.normalizeUser(t.data.user):void 0;return{...t.data,user:r}}return{isAuthenticated:!1}}catch{return{isAuthenticated:!1}}}async getSessions(){return G1.getSessions()}async revokeSession(t){return G1.revokeSession(t)}async revokeAllSessions(){return G1.revokeAllSessions()}isAuthenticated(){return me.isAuthenticated()}getCurrentUser(){const t=localStorage.getItem("current_user");if(!t)return null;try{const r=JSON.parse(t);return this.normalizeUser(r)}catch{return this.clearCurrentUser(),null}}setCurrentUser(t){const r=this.normalizeUser(t);localStorage.setItem("current_user",JSON.stringify(r))}clearCurrentUser(){localStorage.removeItem("current_user")}normalizeAuthPayload(t){var r;(r=t.data)!=null&&r.user&&(t.data={...t.data,user:this.normalizeUser(t.data.user)})}normalizeUser(t){const r=this.normalizeRole(t.role??t.roleCode??""),n=t.roleCode??this.mapRoleToCode(r);return{...t,role:r,roleCode:n}}normalizeRole(t){if(!t)return"admin";const r=t.trim().toUpperCase().replace(/[\s-]+/g,"_"),n=F4[r];if(n)return n;const s=t.trim().toLowerCase();return OU.includes(s),s}mapRoleToCode(t){const r=Object.entries(F4).find(([,n])=>n===t);return r?r[0]:t.toUpperCase().replace(/-/g,"_")}}const Dr=new IU,DO=L.createContext(void 0),dr=()=>{const e=L.useContext(DO);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},LU=({children:e})=>{const[t,r]=L.useState(null),[n,s]=L.useState(!0),i=L.useContext(s5),o=(i==null?void 0:i.addNotification)||(w=>{console.warn("NotificationProvider not available, using toast notifications only")}),l=L.useCallback(async({silent:w,skipServer:S}={})=>{const _=Dr.getCurrentUser();try{S||await Dr.logout()}catch(T){console.error("Error logging out:",T)}finally{me.clearTokens(),Dr.clearCurrentUser(),_&&!w&&o({title:"Signed Out",message:"You have been logged out. See you soon!",type:"info",priority:"low",userId:_.id,category:"system"}),r(null)}},[o]),c=L.useCallback(async()=>{await l()},[l]),u=L.useCallback(async()=>{try{const w=await Dr.checkStatus();if(w.isAuthenticated&&w.user){Dr.setCurrentUser(w.user),r(w.user);return}if((await Dr.refreshToken()).success){const _=await Dr.getProfile();Dr.setCurrentUser(_),r(_);return}await l({silent:!0,skipServer:!0})}catch(w){throw console.error("Error refreshing user:",w),await l({silent:!0,skipServer:!0}),w}},[l]);L.useEffect(()=>{let w=!0;return(async()=>{s(!0);try{if(!Dr.isAuthenticated()){me.clearTokens(),Dr.clearCurrentUser(),w&&r(null);return}const _=Dr.getCurrentUser();if(_){w&&r(_);return}await u()}catch(_){console.error("Auth initialization error:",_),await l({silent:!0,skipServer:!0})}finally{w&&s(!1)}})(),()=>{w=!1}},[u,l]);const N={user:t,isAuthenticated:!!t,isLoading:n,login:async w=>{try{s(!0);const S=await Dr.login(w);if(S.success&&S.data){Dr.setCurrentUser(S.data.user),r(S.data.user);const _=S.message||`Welcome back, ${S.data.user.name}!`;Te.success(_),o({title:"Login Successful",message:_,type:"success",priority:"medium",userId:S.data.user.id,category:"system"})}else{let _="Login failed. Please check your credentials.";throw S.message?_=S.message:S.error?typeof S.error=="string"?_=S.error:S.error.message&&(_=S.error.message):S.errors&&Array.isArray(S.errors)&&S.errors.length>0&&(_=S.errors[0]),new Error(_)}}catch(S){throw S}finally{s(!1)}},register:async w=>{try{s(!0);const S=await Dr.register(w);S.success&&S.data&&(Dr.setCurrentUser(S.data.user),r(S.data.user),o({title:"Registration Complete",message:S.message||"Your account has been created successfully.",type:"success",priority:"medium",userId:S.data.user.id,category:"system"}))}catch(S){throw S}finally{s(!1)}},logout:c,refreshUser:u,updateProfile:async w=>{try{const S=await Dr.updateProfile(w);r(S),Dr.setCurrentUser(S)}catch(S){throw console.error("Error updating profile:",S),S}},changePassword:async(w,S)=>{try{await Dr.changePassword(w,S)}catch(_){throw console.error("Error changing password:",_),_}},verifyEmail:async w=>{try{await Dr.verifyEmail(w)}catch(S){throw console.error("Error verifying email:",S),S}},resendVerification:async()=>{try{await Dr.resendVerification()}catch(w){throw console.error("Error resending verification:",w),w}},getSessions:async()=>{try{return await Dr.getSessions()}catch(w){throw console.error("Error getting sessions:",w),w}},revokeSession:async w=>{try{await Dr.revokeSession(w)}catch(S){throw console.error("Error revoking session:",S),S}},revokeAllSessions:async()=>{try{await Dr.revokeAllSessions()}catch(w){throw console.error("Error revoking all sessions:",w),w}}};return a.jsx(DO.Provider,{value:N,children:e})},RU=e=>{const t=[{name:"Dashboard",href:"/dashboard",icon:UF}],r=[...t,{name:"Patients",href:"/patients",icon:Ua},{name:"Lab Requests",href:"/investigations",icon:Li},{name:"Appointments",href:"/scheduling?view=appointments",icon:Mt},{name:"Specialists",href:"/specialists",icon:Ls},{name:"Therapists",href:"/therapists",icon:zd},{name:"Billers",href:"/billers",icon:Di}],n=[...t,{name:"My Schedule",href:"/my-schedule",icon:Mt},{name:"Patients",href:"/patients",icon:Sl},{name:"Investigations",href:"/investigations",icon:Li},{name:"Clinical Documentation",href:"/health-records",icon:Aa},{name:"Schedule Session",href:"/scheduling",icon:Mt}],s=[...t,{name:"My Schedule",href:"/my-schedule",icon:Mt},{name:"Patients",href:"/patients",icon:Sl},{name:"Investigations",href:"/investigations",icon:Li},{name:"Clinical Documentation",href:"/health-records",icon:Aa},{name:"Schedule Session",href:"/scheduling",icon:Mt}],i=[...t,{name:"Patients",href:"/patients",icon:Sl}],o=[...t,{name:"Patients",href:"/patients",icon:Sl},{name:"Receptionists",href:"/receptionists",icon:Ua},{name:"Specialists",href:"/specialists",icon:Ls},{name:"Therapists",href:"/therapists",icon:zd},{name:"Nurses",href:"/nurses",icon:Wc},{name:"Lab Attendants",href:"/lab-attendants",icon:Li},{name:"Billers",href:"/billers",icon:Di},{name:"Consultation rates",href:"/consultation-rates",icon:Sa},{name:"Scheduling",href:"/scheduling",icon:Mt},{name:"Services",href:"/services",icon:lx},{name:"Investigations",href:"/investigations",icon:Li},{name:"Clinical Documentation",href:"/health-records",icon:Aa},{name:"Billing",href:"/billing",icon:Di},{name:"Reports & Analytics",href:"/reports",icon:nw},{name:"Training & Exams",href:"/training",icon:Bd},{name:"Settings",href:"/settings",icon:GF}],l=[...t,{name:"Patients",href:"/patients",icon:Sl},{name:"Lab Requests",href:"/investigations",icon:Li},{name:"Services",href:"/services",icon:lx},{name:"Consultation rates",href:"/consultation-rates",icon:Sa},{name:"Billing",href:"/billing",icon:Di}],c=[...t,{name:"Investigations",href:"/investigations",icon:Li},{name:"Health Records & Lab",href:"/health-records",icon:Aa}];switch(e){case"receptionist":return r;case"doctor":return n;case"specialist":return s;case"nurse":return i;case"admin":return o;case"biller":return l;case"lab_attendant":return c;default:return t}};function MU({children:e,user:t}){const{logout:r}=dr(),[n,s]=L.useState(!1),i=Jl(),o=RU(t.role);return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsxs("div",{className:`fixed inset-0 z-50 lg:hidden ${n?"block":"hidden"}`,children:[a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>s(!1)}),a.jsxs("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white",children:[a.jsxs("div",{className:"flex h-16 items-center justify-between px-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-8 w-8 bg-primary-500 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-sm",children:"TH"})}),a.jsx("span",{className:"ml-2 text-lg font-semibold text-gray-900",children:"Physiotherapy Center"})]}),a.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(Dt,{className:"h-6 w-6"})})]}),a.jsx("nav",{className:"flex-1 px-4 py-4 space-y-1",children:o.map(l=>{const c=i.pathname===l.href;return a.jsxs(Rn,{to:l.href,className:`sidebar-item ${c?"sidebar-item-active":"sidebar-item-inactive"}`,onClick:()=>s(!1),children:[a.jsx(l.icon,{className:"mr-3 h-5 w-5"}),l.name]},l.name)})})]})]}),a.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:a.jsxs("div",{className:"flex flex-col flex-grow bg-white border-r border-gray-200",children:[a.jsxs("div",{className:"flex h-16 items-center px-4",children:[a.jsx("div",{className:"h-8 w-8 bg-primary-500 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-sm",children:"TH"})}),a.jsx("span",{className:"ml-2 text-lg font-semibold text-gray-900",children:"Physiotherapy Center"})]}),a.jsx("nav",{className:"flex-1 px-4 py-4 space-y-1",children:o.map(l=>{const c=i.pathname===l.href;return a.jsxs(Rn,{to:l.href,className:`sidebar-item ${c?"sidebar-item-active":"sidebar-item-inactive"}`,children:[a.jsx(l.icon,{className:"mr-3 h-5 w-5"}),l.name]},l.name)})})]})}),a.jsxs("div",{className:"lg:pl-64",children:[a.jsxs("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:[a.jsx("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-700 lg:hidden",onClick:()=>s(!0),children:a.jsx(qF,{className:"h-6 w-6"})}),a.jsxs("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[a.jsxs("div",{className:"relative flex flex-1 items-center",children:[a.jsx(Fr,{className:"pointer-events-none absolute inset-y-0 left-0 h-full w-5 text-gray-400 ml-3"}),a.jsx("input",{type:"text",placeholder:"Search...",className:"block h-10 w-full rounded-lg border-0 py-1.5 pl-10 pr-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-primary-500 sm:text-sm sm:leading-6"})]}),a.jsxs("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[a.jsx(TU,{}),a.jsxs("div",{className:"flex items-center gap-x-2",children:[a.jsx("div",{className:"h-8 w-8 bg-primary-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-medium text-sm",children:t.name.split(" ").map(l=>l[0]).join("")})}),a.jsxs("div",{className:"hidden lg:block",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.name}),a.jsx("p",{className:"text-xs text-gray-500 capitalize",children:t.role})]}),a.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600",title:"Logout",children:a.jsx(zF,{className:"h-5 w-5"})})]})]})]})]}),a.jsx("main",{className:"py-6",children:a.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:e})})]})]})}class DU extends L.Component{constructor(r){super(r);Vt(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})});Vt(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("ErrorBoundary caught an error:",r,n),this.setState({error:r,errorInfo:n})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(ha,{className:"mx-auto h-12 w-12 text-red-500"}),a.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Oops! Something went wrong"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"We're sorry, but something unexpected happened. Please try again."})]}),a.jsxs("div",{className:"mt-8 space-y-4",children:[a.jsxs("button",{onClick:this.handleRetry,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[a.jsx(VF,{className:"h-4 w-4 mr-2"}),"Try Again"]}),a.jsxs("button",{onClick:this.handleGoHome,className:"group relative w-full flex justify-center py-2 px-4 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[a.jsx(fO,{className:"h-4 w-4 mr-2"}),"Go Home"]})]}),!1]})}):this.props.children}}const $U={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"};function FU({size:e="md",text:t,className:r=""}){return a.jsx("div",{className:`flex items-center justify-center ${r}`,children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(Or,{className:`animate-spin text-primary-600 ${$U[e]}`}),t&&a.jsx("p",{className:"text-sm text-gray-600",children:t})]})})}function fw({label:e,error:t,required:r=!1,children:n,className:s=""}){return a.jsxs("div",{className:`space-y-1 ${s}`,children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[e,r&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n,t&&a.jsxs("div",{className:"flex items-center space-x-1 text-sm text-red-600",children:[a.jsx(Bo,{className:"h-4 w-4"}),a.jsx("span",{children:t})]})]})}function B4({error:e,label:t,required:r=!1,className:n="",...s}){const i=`input-field ${e?"border-red-300 focus:ring-red-500 focus:border-red-500":""} ${n}`,o=a.jsx("input",{className:i,...s});return t?a.jsx(fw,{label:t,error:e,required:r,children:o}):o}function BU(e,t){return t.required&&(!e||e.toString().trim()==="")?t.message||"This field is required":e&&t.minLength&&e.toString().length<t.minLength?t.message||`Minimum length is ${t.minLength} characters`:e&&t.maxLength&&e.toString().length>t.maxLength?t.message||`Maximum length is ${t.maxLength} characters`:e&&t.pattern&&!t.pattern.test(e.toString())?t.message||"Invalid format":e&&t.custom?t.custom(e):null}function UU(e,t){const r={};return Object.keys(t).forEach(n=>{const s=t[n],i=e[n],o=BU(i,s);o&&(r[n]=o)}),r}function zU(e){return e instanceof Al||e instanceof Error?e.message:typeof e=="string"?e:"An unexpected error occurred"}function qU(e){if(e instanceof Al){const t=e.message;switch(e.status){case 400:return{title:"Invalid Request",message:t||"Please check your input and try again.",type:"error"};case 401:return{title:"Authentication Required",message:t||"Please log in to continue.",type:"warning"};case 403:return{title:"Access Denied",message:"You do not have permission to perform this action.",type:"error"};case 404:return{title:"Not Found",message:t||"The requested resource was not found.",type:"error"};case 409:return{title:"Conflict",message:t||"This action conflicts with existing data.",type:"warning"};case 422:return{title:"Validation Error",message:t||"Please check your input and try again.",type:"error"};case 429:return{title:"Too Many Requests",message:t||"Please wait a moment before trying again.",type:"warning"};case 500:return{title:"Server Error",message:"Something went wrong on our end. Please try again later.",type:"error"};case 503:return{title:"Service Unavailable",message:"The service is temporarily unavailable. Please try again later.",type:"warning"};default:return{title:"Error",message:e.message||"An unexpected error occurred.",type:"error"}}}return e instanceof Error?{title:"Error",message:e.message,type:"error"}:{title:"Error",message:"An unexpected error occurred.",type:"error"}}function HU(e,t){const r=zU(e),n=`[${t}] ${r}`;console.error(n,e)}function U4(e,t){return HU(e,t),qU(e)}function VU(){const{login:e,isLoading:t}=dr(),[r,n]=L.useState({username:"",password:""}),[s,i]=L.useState({}),[o,l]=L.useState(!1),c=d=>{const{name:f,value:m}=d.target;n(h=>({...h,[f]:m})),s[f]&&i(h=>({...h,[f]:""}))},u=async d=>{d.preventDefault();const m=UU(r,{username:{required:!0,message:"Username is required"},password:{required:!0,message:"Password is required"}});if(Object.keys(m).length>0){i(m);const h=Object.values(m)[0];h&&Te.error(h);return}try{await e({username:r.username,password:r.password})}catch(h){let p="Login failed. Please check your credentials.";h instanceof Al?p=U4(h,"Login").message:h instanceof Error?p=h.message:typeof h=="string"?p=h:p=U4(h,"Login").message,Te.error(p)}};return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[a.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Physiotherapy Center"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in to your account"})]})}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:a.jsxs("form",{className:"space-y-6",onSubmit:u,children:[a.jsx(fw,{label:"Username",error:s.username,required:!0,children:a.jsx(B4,{type:"text",name:"username",value:r.username,onChange:c,placeholder:"Enter your username",error:s.username,autoComplete:"username"})}),a.jsx(fw,{label:"Password",error:s.password,required:!0,children:a.jsxs("div",{className:"relative",children:[a.jsx(B4,{type:o?"text":"password",name:"password",value:r.password,onChange:c,placeholder:"Enter your password",error:s.password}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>l(!o),children:o?a.jsx(MF,{className:"h-5 w-5 text-gray-400"}):a.jsx(Ln,{className:"h-5 w-5 text-gray-400"})})]})}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:t,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:t?a.jsx(FU,{size:"sm",text:"Signing in..."}):"Sign in"})})]})})})]})}class WU{async getDashboardAnalytics(){var r;const t=await me.get(xe.ANALYTICS.DASHBOARD);return(r=t.data)!=null&&r.data?t.data.data:t.data}async getOverview(){var r;const t=await me.get(xe.ANALYTICS.OVERVIEW);return((r=t.data)==null?void 0:r.data)??t.data}async getTrends(){var r;const t=await me.get(xe.ANALYTICS.TRENDS);return((r=t.data)==null?void 0:r.data)??t.data}async getPerformance(){var r;const t=await me.get(xe.ANALYTICS.PERFORMANCE);return((r=t.data)==null?void 0:r.data)??t.data}async getServicePopularity(){var r;const t=await me.get(xe.ANALYTICS.SERVICE_POPULARITY);return((r=t.data)==null?void 0:r.data)??t.data}async getAppointmentAnalytics(t){var n;const r=await me.get(xe.ANALYTICS.APPOINTMENTS,{params:t});return((n=r.data)==null?void 0:n.data)??r.data}}const So=new WU,$O={SCHEDULED:"scheduled",CONFIRMED:"confirmed",IN_PROGRESS:"in-progress",COMPLETED:"completed",CANCELLED:"cancelled",RESCHEDULED:"rescheduled",NO_SHOW:"no-show"},hw=Object.entries($O).reduce((e,[t,r])=>(e[r]=t,e),{}),$0=e=>typeof e=="number"?Math.min(Math.max(e,1),100):e;function na(e){var n,s,i,o,l;const t=(n=e.status)==null?void 0:n.toUpperCase(),r=$O[t]??"scheduled";return{id:e.id,patientId:e.patientId,patientName:((s=e.patient)==null?void 0:s.name)??"",nurseId:e.nurseId??"",nurseName:((i=e.nurse)==null?void 0:i.name)??"",specialistId:e.specialistId??void 0,specialistName:((o=e.specialist)==null?void 0:o.name)??void 0,serviceId:e.serviceId,serviceName:((l=e.service)==null?void 0:l.name)??"",date:e.date?new Date(e.date).toISOString().split("T")[0]:"",time:e.time,duration:e.duration,status:r,notes:e.notes??void 0}}function Y1(e,t=!1){const r={...e};return t&&"status"in r&&delete r.status,e.date&&(r.date=new Date(e.date).toISOString()),!t&&e.status&&(r.status=hw[e.status]??e.status),r}class GU{async getAppointments(t){const r=await me.get(xe.APPOINTMENTS.BASE,{params:{patientId:t==null?void 0:t.patientId,nurseId:t==null?void 0:t.nurseId,specialistId:t==null?void 0:t.specialistId,status:t!=null&&t.status?hw[t.status]:void 0,startDate:t==null?void 0:t.dateFrom,endDate:t==null?void 0:t.dateTo,page:t==null?void 0:t.page,limit:$0(t==null?void 0:t.limit)}});return{appointments:Array.isArray(r.data)?r.data.map(na):[],pagination:r.pagination}}async getAppointment(t){const r=await me.get(xe.APPOINTMENTS.BY_ID(t));return na(r.data)}async createAppointment(t){const r=await me.post(xe.APPOINTMENTS.BASE,Y1(t,!0));return na(r.data)}async updateAppointment(t,r){const n=await me.put(xe.APPOINTMENTS.BY_ID(t),Y1(r,!1));return na(n.data)}async deleteAppointment(t){await me.delete(xe.APPOINTMENTS.BY_ID(t))}async getPatientAppointments(t,r){const n=await me.get(xe.APPOINTMENTS.BY_PATIENT(t),{params:r&&{...r,limit:$0(r.limit)}});return{appointments:Array.isArray(n.data)?n.data.map(na):[],pagination:n.pagination}}async getNurseAppointments(t,r){const n=await me.get(xe.APPOINTMENTS.BY_NURSE(t),{params:r&&{...r,limit:$0(r.limit)}});return{appointments:Array.isArray(n.data)?n.data.map(na):[],pagination:n.pagination}}async getSpecialistAppointments(t,r){const n=await me.get(xe.APPOINTMENTS.BY_SPECIALIST(t),{params:r&&{...r,limit:$0(r.limit)}});return{appointments:Array.isArray(n.data)?n.data.map(na):[],pagination:n.pagination}}async getCalendar(t,r){const n=await me.get(xe.APPOINTMENTS.CALENDAR(t),{params:r});return Array.isArray(n.data)?n.data.map(na):[]}async searchAppointments(t){const r=await me.get(xe.APPOINTMENTS.SEARCH,{params:{...t,status:t.status?hw[t.status]:void 0}});return Array.isArray(r.data)?r.data.map(na):[]}async checkConflicts(t){const r=await me.post(xe.APPOINTMENTS.CHECK_CONFLICTS,{...Y1(t)});return Array.isArray(r.data)?r.data.map(na):[]}async getAvailableSlots(t,r){const n=await me.get(xe.APPOINTMENTS.AVAILABLE_SLOTS,{params:{nurseId:t,date:r}});return Array.isArray(n.data)?n.data:[]}async cancelAppointment(t,r){const n=await me.patch(xe.APPOINTMENTS.CANCEL(t),{reason:r});return na(n.data)}async rescheduleAppointment(t,r){const n=await me.patch(xe.APPOINTMENTS.RESCHEDULE(t),{date:new Date(r.date).toISOString(),time:r.time,reason:r.reason});return na(n.data)}async markAsCompleted(t,r){const n=await me.patch(`${xe.APPOINTMENTS.BY_ID(t)}/complete`,{notes:r});return na(n.data)}async markAsInProgress(t){const r=await me.patch(`${xe.APPOINTMENTS.BY_ID(t)}/start`,{});return na(r.data)}async markAsNoShow(t,r){const n=await me.patch(xe.APPOINTMENTS.NO_SHOW(t),{notes:r});return na(n.data)}async addAppointmentNotes(t,r){const n=await me.post(xe.APPOINTMENTS.NOTES(t),{notes:r});return na(n.data)}}const Xn=new GU;function F0(e){return{...e,scheduledTime:e.scheduledTime?new Date(e.scheduledTime).toISOString():e.scheduledTime,createdAt:e.createdAt?new Date(e.createdAt).toISOString():e.createdAt,updatedAt:e.updatedAt?new Date(e.updatedAt).toISOString():e.updatedAt,lastAttempt:e.lastAttempt?new Date(e.lastAttempt).toISOString():e.lastAttempt}}class YU{async getReminders(t){const r=await me.get(xe.PHONE_REMINDERS.BASE,{params:t});return{reminders:Array.isArray(r.data)?r.data.map(F0):[],pagination:r.pagination}}async getReminder(t){const r=await me.get(xe.PHONE_REMINDERS.BY_ID(t));return F0(r.data)}async getTemplates(){const t=await me.get(xe.PHONE_REMINDERS.TEMPLATES);return Array.isArray(t.data)?t.data:[]}async createReminder(t){const r=await me.post(xe.PHONE_REMINDERS.BASE,t);return F0(r.data)}async updateReminder(t,r){const n=await me.put(xe.PHONE_REMINDERS.BY_ID(t),r);return F0(n.data)}async deleteReminder(t){await me.delete(xe.PHONE_REMINDERS.BY_ID(t))}async sendReminder(t){return(await me.post(xe.PHONE_REMINDERS.SEND(t))).data}async cancelReminder(t){return(await me.post(xe.PHONE_REMINDERS.CANCEL(t))).data}}const gl=new YU;function B0(e){const t=r=>r==="scheduled"||r==="upcoming"?"upcoming":r==="ongoing"||r==="in-progress"?"ongoing":r==="completed"||r==="finished"?"completed":"upcoming";return{id:e.id,title:e.name||e.title||"",description:e.description||"",instructor:e.instructorName||e.instructor||"",date:e.startDate||e.date||"",duration:e.duration||0,maxParticipants:e.capacity||e.maxParticipants||0,enrolledCount:e.enrolledCount||0,status:t(e.status||"upcoming"),category:e.category||"",location:e.location||""}}class KU{async getClasses(t){const r=await me.get(xe.TRAINING.CLASSES,{params:t});return{classes:(Array.isArray(r.data)?r.data:[]).map(B0),pagination:r.pagination}}async getClass(t){const r=await me.get(xe.TRAINING.CLASS_BY_ID(t));return B0(r.data)}async createClass(t){const r=await me.post(xe.TRAINING.CLASSES,t);return B0(r.data)}async updateClass(t,r){const n=await me.put(xe.TRAINING.CLASS_BY_ID(t),r);return B0(n.data)}async deleteClass(t){await me.delete(xe.TRAINING.CLASS_BY_ID(t))}async enrollInClass(t,r){return(await me.post(xe.TRAINING.ENROLL(t),r)).data??{success:!0}}async getExams(t){const r=await me.get(xe.TRAINING.EXAMS,{params:t});return{exams:Array.isArray(r.data)?r.data:[],pagination:r.pagination}}async getExam(t){return(await me.get(xe.TRAINING.EXAM_BY_ID(t))).data}async createExam(t){return(await me.post(xe.TRAINING.EXAMS,t)).data}async updateExam(t,r){return(await me.put(xe.TRAINING.EXAM_BY_ID(t),r)).data}async deleteExam(t){await me.delete(xe.TRAINING.EXAM_BY_ID(t))}async submitExam(t,r){return(await me.post(xe.TRAINING.SUBMIT_EXAM(t),r)).data}async getCertifications(t){const r=await me.get(xe.TRAINING.CERTIFICATIONS,{params:t});return{certifications:Array.isArray(r.data)?r.data:[],pagination:r.pagination}}async getCertification(t){return(await me.get(xe.TRAINING.CERTIFICATION_BY_ID(t))).data}async createCertification(t){return(await me.post(xe.TRAINING.CERTIFICATIONS,t)).data}async updateCertification(t,r){return(await me.put(xe.TRAINING.CERTIFICATION_BY_ID(t),r)).data}async deleteCertification(t){await me.delete(xe.TRAINING.CERTIFICATION_BY_ID(t))}}const $a=new KU,K1=e=>typeof e=="number"?Math.min(Math.max(e,1),100):e;class XU{async getExams(t){const r={...t,limit:K1(t==null?void 0:t.limit)},n=await me.get(xe.TRAINING.EXAMS_V2,{params:r});return{exams:Array.isArray(n.data)?n.data:[],pagination:n.pagination}}async getExam(t,r=!1){return(await me.get(xe.TRAINING.EXAM_V2_BY_ID(t),{params:r?{includeAnswers:"true"}:{}})).data}async createExam(t){return(await me.post(xe.TRAINING.EXAMS_V2,t)).data}async updateExam(t,r){return(await me.put(xe.TRAINING.EXAM_V2_BY_ID(t),r)).data}async deleteExam(t){await me.delete(xe.TRAINING.EXAM_V2_BY_ID(t))}async startAttempt(t){return(await me.post(xe.TRAINING.START_EXAM(t),{})).data}async submitAttempt(t,r){return(await me.post(xe.TRAINING.SUBMIT_ATTEMPT(t),{answers:r})).data}async getAttempts(t){const r={...t,limit:K1(t==null?void 0:t.limit)},n=await me.get(xe.TRAINING.ATTEMPTS,{params:r});return{attempts:Array.isArray(n.data)?n.data:[],pagination:n.pagination}}async getAttemptById(t){return(await me.get(xe.TRAINING.ATTEMPT_BY_ID(t))).data}async getCertificates(t){const r={...t,limit:K1(t==null?void 0:t.limit)},n=await me.get(xe.TRAINING.CERTIFICATES_V2,{params:r});return{certificates:Array.isArray(n.data)?n.data:[],pagination:n.pagination}}async getMyCertificates(t){const r=await me.get(xe.TRAINING.CERTIFICATES_MINE,{params:t?{status:t}:void 0});return Array.isArray(r.data)?r.data:[]}async getCertificate(t){return(await me.get(xe.TRAINING.CERTIFICATE_V2_BY_ID(t))).data}async approveCertificate(t){return(await me.post(xe.TRAINING.APPROVE_CERTIFICATE(t),{})).data}}const wa=new XU,JU={success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",error:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"};function ZU(){var u;const{user:e}=dr(),t=((u=e==null?void 0:e.role)==null?void 0:u.toLowerCase())??"admin",[r,n]=L.useState({stats:[],sections:[]}),[s,i]=L.useState(!0),[o,l]=L.useState(null);if(t==="biller")return a.jsx(Qj,{to:"/biller-dashboard",replace:!0});L.useEffect(()=>{let d=!1;async function f(){if(e){i(!0),l(null);try{const m=new Date().toISOString().split("T")[0];if(t==="biller"){d||(n({stats:[],sections:[]}),i(!1));return}if(t==="nurse"){const[k,P,D,A]=await Promise.all([Xn.getNurseAppointments(e.id,{limit:50}),ii.getNotifications({limit:10}),$a.getClasses({limit:5}),wa.getMyCertificates()]),I=k.appointments,$=I.filter(re=>re.date===m),E=new Set(I.map(re=>re.patientId)),M=P.data??[],z=A??[],Z=z.filter(re=>re.status==="APPROVED"),R=[{name:"Today's Appointments",value:$.length,icon:Mt,color:"text-blue-600",bgColor:"bg-blue-100"},{name:"Patients Assigned",value:E.size,icon:Sl,color:"text-green-600",bgColor:"bg-green-100"},{name:"Upcoming Visits",value:I.filter(re=>re.date>=m).length,icon:rr,color:"text-purple-600",bgColor:"bg-purple-100"},{name:"Training Sessions",value:D.classes.length,icon:Jn,color:"text-orange-600",bgColor:"bg-orange-100"},{name:"Certificates Earned",value:Z.length,icon:Jn,color:"text-indigo-600",bgColor:"bg-indigo-100"}],U=[{title:"Today's Schedule",icon:rr,items:$.slice(0,5).map(re=>({id:re.id,primary:re.serviceName,secondary:`${re.time}  ${re.patientName}`,meta:re.status,statusLabel:re.status,statusTone:re.status==="confirmed"?"success":re.status==="cancelled"?"error":"warning"})),emptyText:"No appointments scheduled today."},{title:"Latest Notifications",icon:jo,items:M.slice(0,5).map(re=>({id:re.id,primary:re.title,secondary:re.message,meta:new Date(re.date??Date.now()).toLocaleString(),statusLabel:re.type,statusTone:"info"})),emptyText:"No notifications."},{title:"Training Opportunities",icon:Jn,items:D.classes.map(re=>({id:re.id,primary:re.title,secondary:new Date(re.date).toLocaleDateString(),meta:re.instructor})),emptyText:"No upcoming classes."},{title:"Professional Certificates",icon:Jn,items:z.slice(0,5).map(re=>({id:re.id,primary:re.examTitle??"Training Exam",secondary:`Issued ${new Date(re.issuedAt).toLocaleDateString()}`,meta:re.certificateNumber,statusLabel:re.status==="APPROVED"?"Approved":"Pending Approval",statusTone:re.status==="APPROVED"?"success":"warning"})),emptyText:"No certificates yet. Complete exams to earn certificates."}];d||n({stats:R,sections:U});return}if(t==="receptionist"){const[k,P,D]=await Promise.allSettled([So.getDashboardAnalytics(),Xn.getAppointments({limit:10}),ii.getNotifications({limit:5})]),A=k.status==="fulfilled"?k.value:{totalPatients:0,totalAppointments:0,todayAppointments:0,pendingInvoices:0,upcomingAppointments:[]},I=P.status==="fulfilled"?P.value:{appointments:[]},$=D.status==="fulfilled"?D.value:{data:[]},E=[{name:"Total Patients",value:A.totalPatients??A.activePatients??0,icon:Ua,color:"text-blue-600",bgColor:"bg-blue-100"},{name:"Active Patients",value:A.activePatients??A.totalPatients??0,icon:Sl,color:"text-indigo-600",bgColor:"bg-indigo-100"},{name:"Today's Appointments",value:A.todayAppointments??0,icon:Mt,color:"text-purple-600",bgColor:"bg-purple-100"},{name:"Total Appointments",value:A.totalAppointments??0,icon:rr,color:"text-green-600",bgColor:"bg-green-100"}],M=[{title:"Upcoming Appointments",icon:rr,items:(A.upcomingAppointments??[]).slice(0,5).map(z=>{var Z,R;return{id:z.id,primary:((Z=z.service)==null?void 0:Z.name)??"Appointment",secondary:`${((R=z.patient)==null?void 0:R.name)??"Unknown"}  ${new Date(z.date).toLocaleDateString()}`,meta:z.status,statusLabel:z.status,statusTone:z.status==="CANCELLED"?"error":z.status==="CONFIRMED"?"success":"warning"}}),emptyText:"No upcoming appointments."},{title:"Recent Appointments",icon:Mt,items:I.appointments.slice(0,5).map(z=>({id:z.id,primary:z.serviceName??"Appointment",secondary:`${z.patientName??"Unknown"}  ${z.date??""} ${z.time??""}`,meta:z.status,statusLabel:z.status,statusTone:z.status==="cancelled"?"error":z.status==="confirmed"?"success":"warning"})),emptyText:"No recent appointments."},{title:"Announcements",icon:jo,items:($.data??[]).slice(0,5).map(z=>({id:z.id,primary:z.title,secondary:z.message,meta:new Date(z.date??Date.now()).toLocaleString()})),emptyText:"No announcements available."}];d||n({stats:E,sections:M});return}if(t==="doctor"){const[k,P]=await Promise.allSettled([So.getDashboardAnalytics(),ii.getNotifications({limit:5})]),D=k.status==="fulfilled"?k.value:{assignedPatients:0,totalAppointments:0,todayAppointments:0,pendingReferrals:0,recentPatients:[]},A=P.status==="fulfilled"?P.value:{data:[]},I=[{name:"Assigned Patients",value:D.assignedPatients??0,icon:Ua,color:"text-blue-600",bgColor:"bg-blue-100"},{name:"Today's Appointments",value:D.todayAppointments??0,icon:Mt,color:"text-purple-600",bgColor:"bg-purple-100"},{name:"Total Appointments",value:D.totalAppointments??0,icon:rr,color:"text-green-600",bgColor:"bg-green-100"},{name:"Pending Referrals",value:D.pendingReferrals??0,icon:Aa,color:"text-orange-600",bgColor:"bg-orange-100"}],$=[{title:"Recent Patients",icon:Ua,items:(D.recentPatients??[]).slice(0,5).map(E=>({id:E.id,primary:E.name,secondary:E.condition??"No condition specified",meta:E.status,statusLabel:E.status,statusTone:E.status==="ACTIVE"?"success":"info"})),emptyText:"No patients assigned."},{title:"Announcements",icon:jo,items:(A.data??[]).slice(0,5).map(E=>({id:E.id,primary:E.title,secondary:E.message,meta:new Date(E.date??Date.now()).toLocaleString()})),emptyText:"No announcements available."}];d||n({stats:I,sections:$});return}if(t==="specialist"){const[k,P]=await Promise.allSettled([So.getDashboardAnalytics(),ii.getNotifications({limit:5})]),D=k.status==="fulfilled"?k.value:{assignedPatients:0,totalAppointments:0,todayAppointments:0,readyForDischarge:0,recentPatients:[]},A=P.status==="fulfilled"?P.value:{data:[]},I=[{name:"Assigned Patients",value:D.assignedPatients??0,icon:Ua,color:"text-blue-600",bgColor:"bg-blue-100"},{name:"Today's Appointments",value:D.todayAppointments??0,icon:Mt,color:"text-purple-600",bgColor:"bg-purple-100"},{name:"Total Appointments",value:D.totalAppointments??0,icon:rr,color:"text-green-600",bgColor:"bg-green-100"},{name:"Ready for Discharge",value:D.readyForDischarge??0,icon:KF,color:"text-orange-600",bgColor:"bg-orange-100"}],$=[{title:"Recent Patients",icon:Ua,items:(D.recentPatients??[]).slice(0,5).map(E=>({id:E.id,primary:E.name,secondary:E.condition??"No condition specified",meta:E.status,statusLabel:E.status,statusTone:E.status==="ACTIVE"?"success":"info"})),emptyText:"No patients referred."},{title:"Announcements",icon:jo,items:(A.data??[]).slice(0,5).map(E=>({id:E.id,primary:E.title,secondary:E.message,meta:new Date(E.date??Date.now()).toLocaleString()})),emptyText:"No announcements available."}];d||n({stats:I,sections:$});return}const[h,p,y,v]=await Promise.allSettled([So.getDashboardAnalytics(),Xn.getAppointments({limit:10}),gl.getReminders({limit:10}),ii.getNotifications({limit:5})]),x=h.status==="fulfilled"?h.value:{totalPatients:0,totalAppointments:0,totalNurses:0,totalRevenue:0,recentAppointments:[]},b=p.status==="fulfilled"?p.value:{appointments:[]},N=y.status==="fulfilled"?y.value:{reminders:[]},S=(v.status==="fulfilled"?v.value:{data:[]}).data??[],_=[{name:"Total Patients",value:x.totalPatients??0,icon:Ua,color:"text-blue-600",bgColor:"bg-blue-100"},{name:"Total Appointments",value:x.totalAppointments??0,icon:Mt,color:"text-purple-600",bgColor:"bg-purple-100"},{name:"Active Nurses",value:x.totalNurses??0,icon:Sl,color:"text-green-600",bgColor:"bg-green-100"},{name:"Total Revenue",value:`$${(x.totalRevenue??0).toLocaleString()}`,icon:Di,color:"text-orange-600",bgColor:"bg-orange-100"}],T=[{title:"Recent Appointments",icon:Mt,items:(x.recentAppointments??[]).slice(0,5).map(k=>{var P,D;return{id:k.id,primary:((P=k.service)==null?void 0:P.name)??"Appointment",secondary:`${((D=k.patient)==null?void 0:D.name)??"Unknown patient"}  ${new Date(k.date).toLocaleDateString()}`,meta:k.status,statusLabel:k.status,statusTone:k.status==="CANCELLED"?"error":"info"}}),emptyText:"No recent appointments."},{title:"Upcoming Appointments",icon:rr,items:b.appointments.slice(0,5).map(k=>({id:k.id,primary:k.serviceName,secondary:`${k.patientName}  ${k.date} ${k.time}`,meta:k.status,statusLabel:k.status,statusTone:k.status==="cancelled"?"error":k.status==="confirmed"?"success":"warning"})),emptyText:"No upcoming appointments."},{title:"Latest Reminders",icon:jo,items:N.reminders.slice(0,5).map(k=>({id:k.id,primary:k.title,secondary:`${k.patientName}  ${new Date(k.scheduledTime).toLocaleString()}`,meta:k.status,statusLabel:k.priority,statusTone:k.priority==="urgent"?"error":k.priority==="high"?"warning":"info"})),emptyText:"No reminders scheduled."},{title:"Announcements",icon:km,items:S.slice(0,5).map(k=>({id:k.id,primary:k.title,secondary:k.message,meta:new Date(k.date??Date.now()).toLocaleString()})),emptyText:"No announcements available."}];d||n({stats:_,sections:T})}catch(m){d||l((m==null?void 0:m.message)??"Something went wrong while loading the dashboard.")}finally{d||i(!1)}}}return f(),()=>{d=!0}},[t,e]);const c=L.useMemo(()=>{switch(t){case"nurse":return{title:"Nurse Dashboard",subtitle:"Manage your patients and schedule"};case"receptionist":return{title:"Receptionist Dashboard",subtitle:"Manage patients, appointments, and billing"};case"doctor":return{title:"Doctor Dashboard",subtitle:"Review patients and manage referrals"};case"specialist":return{title:"Specialist Dashboard",subtitle:"Treat patients and prepare for discharge"};case"biller":return{title:"Biller Dashboard",subtitle:"Manage patient bills and payments"};default:return{title:"Admin Dashboard",subtitle:"Monitor system performance and operations"}}},[t]);return s?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:c.title}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:c.subtitle})]}),a.jsx("div",{className:"card text-sm text-gray-500",children:"Loading dashboard data..."})]}):o?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:c.title}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:c.subtitle})]}),a.jsx("div",{className:"card text-sm text-red-500",children:o})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:c.title}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:c.subtitle})]}),a.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:r.stats.map(d=>a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`flex-shrink-0 p-3 rounded-lg ${d.bgColor}`,children:a.jsx(d.icon,{className:`h-6 w-6 ${d.color}`})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:d.name}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:d.value})]})]})},d.name))}),a.jsx("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:r.sections.map(d=>a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:d.title}),a.jsx(d.icon,{className:"h-5 w-5 text-primary-500"})]}),d.items.length===0?a.jsx("p",{className:"text-sm text-gray-500",children:d.emptyText??"No data available."}):a.jsx("div",{className:"space-y-3",children:d.items.map(f=>a.jsxs("div",{className:"flex items-start justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:f.primary}),f.secondary&&a.jsx("p",{className:"text-xs text-gray-600 truncate",children:f.secondary}),f.meta&&a.jsx("p",{className:"text-xs text-gray-500 truncate",children:f.meta})]}),f.statusLabel&&f.statusTone&&a.jsx("span",{className:`ml-3 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${JU[f.statusTone]}`,children:f.statusLabel})]},f.id))})]})},d.title))})]})}const X1={username:"",name:"",email:"",password:"",phone:"",licenseNumber:"",specialization:"",experience:0,certifications:[],status:"active",hireDate:new Date().toISOString().split("T")[0],avatar:""};function z4({isOpen:e,onClose:t,onSave:r,nurse:n,mode:s}){const[i,o]=L.useState(X1),[l,c]=L.useState(""),[u,d]=L.useState(!1),[f,m]=L.useState(null),[h,p]=L.useState(null),[y,v]=L.useState(null),[x,b]=L.useState(!1);if(L.useEffect(()=>{if(!e){o(X1),c(""),m(null),d(!1),p(null),v(null),b(!1);return}if(s==="edit"&&n)if(o({username:n.username??"",name:n.name,email:n.email,password:"",phone:n.phone,licenseNumber:n.licenseNumber,specialization:n.specialization,experience:n.experience,certifications:n.certifications,status:n.status,hireDate:n.hireDate?new Date(n.hireDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],avatar:n.avatar??""}),n.avatar){const P=n.avatar.startsWith("http")?n.avatar:Oa(n.avatar);v(P)}else v(null);else o(X1),v(null)},[e,s,n]),!e)return null;const N=P=>{const{name:D,value:A}=P.target;o(I=>({...I,[D]:D==="experience"?Number.isNaN(Number(A))?0:parseInt(A,10):A}))},w=()=>{const P=l.trim();!P||i.certifications.includes(P)||(o(D=>({...D,certifications:[...D.certifications,P]})),c(""))},S=P=>{o(D=>({...D,certifications:D.certifications.filter(A=>A!==P)}))},_=async P=>{var I;const D=(I=P.target.files)==null?void 0:I[0];if(!D)return;if(!D.type.startsWith("image/")){m("Please select a valid image file");return}if(D.size>10*1024*1024){m("Image size must be less than 10MB");return}p(D),m(null);const A=new FileReader;A.onloadend=()=>{v(A.result)},A.readAsDataURL(D),b(!0);try{const $=await me.uploadFile(xe.UPLOAD.IMAGE,D);if($.success&&$.data){const M=$.data.url||$.data.url;if(M){const z=M.startsWith("http")?M.replace(/^https?:\/\/[^\/]+/,""):M.startsWith("/")?M:"/"+M;o(U=>({...U,avatar:z}));const R=`${iu.API_ORIGIN}${z}`;v(R)}}}catch($){m(($==null?void 0:$.message)||"Failed to upload image"),p(null),v(null)}finally{b(!1)}},T=()=>{p(null),v(null),o(P=>({...P,avatar:""}))},k=async P=>{var D;if(P.preventDefault(),d(!0),m(null),s==="add"&&!((D=i.username)!=null&&D.trim())){m("Username is required for new nurses."),d(!1);return}if(s==="add"&&(!i.password||i.password.length<8)){m("Password must be at least 8 characters long."),d(!1);return}if(s==="edit"&&i.password&&i.password.length<8){m("Password must be at least 8 characters long."),d(!1);return}try{await r(i),t()}catch(A){m((A==null?void 0:A.message)??"Unable to save nurse. Please try again.")}finally{d(!1)}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsxs("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-xl bg-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-5",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s==="add"?"Add Nurse":"Edit Nurse"}),a.jsx("p",{className:"text-sm text-gray-500",children:s==="add"?"Create a new nurse profile":"Update the nurse details"})]}),a.jsx("button",{onClick:t,className:"rounded-lg p-2 transition-colors hover:bg-gray-100","aria-label":"Close modal",children:a.jsx(Dt,{className:"h-5 w-5 text-gray-500"})})]}),a.jsxs("form",{onSubmit:k,className:"space-y-6 px-6 py-6",children:[f&&a.jsx("div",{className:"rounded-md border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:f}),a.jsxs("section",{className:"space-y-4",children:[a.jsxs("h3",{className:"flex items-center text-lg font-medium text-gray-900",children:[a.jsx(Yr,{className:"mr-2 h-5 w-5 text-primary-600"}),"Personal Information"]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Username",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"username",value:i.username,onChange:N,required:s==="add",disabled:s==="edit",className:"input-field mt-1 disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed",placeholder:"e.g. sarah.johnson (used for login)"}),s==="edit"&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Username cannot be changed after creation"})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Full name",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",value:i.name,onChange:N,required:!0,className:"input-field mt-1",placeholder:"Sarah Johnson"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsx("input",{type:"email",name:"email",value:i.email,onChange:N,className:"input-field mt-1",placeholder:"sarah@example.com"})]}),s==="add"&&a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Password",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"password",name:"password",value:i.password,onChange:N,required:!0,minLength:8,className:"input-field mt-1",placeholder:"Minimum 8 characters"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Provide this to the nurse for login"})]}),s==="edit"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"New Password (optional)"}),a.jsx("input",{type:"password",name:"password",value:i.password,onChange:N,minLength:8,className:"input-field mt-1",placeholder:"Leave blank to keep current password"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only fill if you want to change the password"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Phone number",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:N,required:!0,className:"input-field mt-1",placeholder:"+1 (555) 123-4567"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["License number",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"licenseNumber",value:i.licenseNumber,onChange:N,required:!0,className:"input-field mt-1",placeholder:"RN-001234"})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsxs("h3",{className:"flex items-center text-lg font-medium text-gray-900",children:[a.jsx(Jn,{className:"mr-2 h-5 w-5 text-primary-600"}),"Professional Information"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Specialization",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"specialization",value:i.specialization,onChange:N,required:!0,className:"input-field mt-1",children:[a.jsx("option",{value:"",children:"Select specialization"}),a.jsx("option",{value:"General Nursing",children:"General Nursing"}),a.jsx("option",{value:"Critical Care",children:"Critical Care"}),a.jsx("option",{value:"Pediatric Nursing",children:"Pediatric Nursing"}),a.jsx("option",{value:"Geriatric Nursing",children:"Geriatric Nursing"}),a.jsx("option",{value:"Mental Health",children:"Mental Health"}),a.jsx("option",{value:"Home Health",children:"Home Health"}),a.jsx("option",{value:"Wound Care",children:"Wound Care"}),a.jsx("option",{value:"Palliative Care",children:"Palliative Care"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Years of experience",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",name:"experience",value:i.experience,onChange:N,min:0,max:50,required:!0,className:"input-field mt-1",placeholder:"5"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Status",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"status",value:i.status,onChange:N,required:!0,className:"input-field mt-1",children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"}),a.jsx("option",{value:"on-leave",children:"On leave"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Hire date",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",name:"hireDate",value:i.hireDate,onChange:N,required:!0,className:"input-field mt-1"})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsxs("h3",{className:"flex items-center text-lg font-medium text-gray-900",children:[a.jsx(Jn,{className:"mr-2 h-5 w-5 text-primary-600"}),"Certifications"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:l,onChange:P=>c(P.target.value),className:"input-field flex-1",placeholder:"Add certification",onKeyDown:P=>{P.key==="Enter"&&(P.preventDefault(),w())}}),a.jsx("button",{type:"button",onClick:w,className:"btn-primary",children:"Add"})]}),i.certifications.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:i.certifications.map(P=>a.jsxs("span",{className:"inline-flex items-center rounded-full bg-primary-100 px-3 py-1 text-sm text-primary-800",children:[P,a.jsx("button",{type:"button",onClick:()=>S(P),className:"ml-2 text-primary-600 hover:text-primary-800",children:a.jsx(Dt,{className:"h-3 w-3"})})]},P))})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsxs("h3",{className:"flex items-center text-lg font-medium text-gray-900",children:[a.jsx(Yr,{className:"mr-2 h-5 w-5 text-primary-600"}),"Profile picture"]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Picture"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[y?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:y,alt:"Avatar preview",className:"h-20 w-20 rounded-full object-cover border-2 border-gray-200"}),a.jsx("button",{type:"button",onClick:T,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:a.jsx(Dt,{className:"h-4 w-4"})})]}):a.jsx("div",{className:"h-20 w-20 rounded-full bg-gray-100 flex items-center justify-center border-2 border-dashed border-gray-300",children:a.jsx(jp,{className:"h-8 w-8 text-gray-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("label",{className:"cursor-pointer",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:_,className:"hidden",disabled:x}),a.jsx("div",{className:"btn-outline flex items-center justify-center",children:x?a.jsxs(a.Fragment,{children:[a.jsx(Or,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(jf,{className:"h-4 w-4 mr-2"}),y?"Change Picture":"Upload Picture"]})})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG or GIF (max 10MB)"})]})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-4 border-t border-gray-200 pt-6",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-outline",disabled:u,children:"Cancel"}),a.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:u,children:[a.jsx($y,{className:"mr-2 h-4 w-4"}),u?"Saving...":s==="add"?"Add Nurse":"Update Nurse"]})]})]})]})})}const QU={ACTIVE:"active",INACTIVE:"inactive",ON_LEAVE:"on-leave"},ez={active:"ACTIVE",inactive:"INACTIVE","on-leave":"ON_LEAVE"};function U0(e){return{...e,status:e.status?QU[e.status.toUpperCase()]??"active":"active",hireDate:new Date(e.hireDate).toISOString().split("T")[0]}}function q4(e){const t={...e};return e.username&&(t.username=e.username.trim().toLowerCase()),e.status&&(t.status=ez[e.status]??e.status),e.hireDate&&(t.hireDate=new Date(e.hireDate).toISOString()),t}class tz{async getNurses(t){const r=await me.get(xe.NURSES.BASE,{params:t});return{nurses:Array.isArray(r.data)?r.data.map(U0):[],pagination:r.pagination}}async getNurse(t){const r=await me.get(xe.NURSES.BY_ID(t));return U0(r.data)}async createNurse(t){const r=q4(t),n=await me.post(xe.NURSES.BASE,r);return U0(n.data)}async updateNurse(t,r){const n=q4(r),s=await me.put(xe.NURSES.BY_ID(t),n);return U0(s.data)}async deleteNurse(t){await me.delete(xe.NURSES.BY_ID(t))}}const fd=new tz;function rz(){const{user:e}=dr(),t=(e==null?void 0:e.role)==="admin",[r,n]=L.useState(""),[s,i]=L.useState("all"),[o,l]=L.useState([]),[c,u]=L.useState(!1),[d,f]=L.useState(!1),[m,h]=L.useState(null),[p,y]=L.useState(!1),[v,x]=L.useState(null),{addNotification:b}=Rr(),N=async()=>{y(!0),x(null);try{const{nurses:P}=await fd.getNurses({page:1,limit:50});l(P)}catch(P){console.error("Failed to load nurses",P),x((P==null?void 0:P.message)??"Unable to load nurses right now.")}finally{y(!1)}};L.useEffect(()=>{N()},[]);const w=L.useMemo(()=>o.filter(P=>{const D=P.name.toLowerCase().includes(r.toLowerCase())||P.specialization.toLowerCase().includes(r.toLowerCase()),A=s==="all"||P.status===s;return D&&A}),[o,r,s]),S=async P=>{try{await fd.createNurse(P),Te.success(`Nurse ${P.name} has been added successfully`),b({title:"Nurse added",message:`${P.name} has been added to the team.`,type:"success",priority:"medium",userId:"system",category:"system"}),await N()}catch(D){const A=D instanceof Error?D.message:"Failed to add nurse";throw Te.error(A),b({title:"Unable to add nurse",message:A,type:"error",priority:"high",userId:"system",category:"system"}),D}},_=async P=>{if(m)try{await fd.updateNurse(m.id,P),Te.success(`Nurse ${P.name} has been updated successfully`),b({title:"Nurse updated",message:`${P.name}'s profile has been updated.`,type:"success",priority:"medium",userId:"system",category:"system"}),await N()}catch(D){const A=D instanceof Error?D.message:"Failed to update nurse";throw Te.error(A),b({title:"Unable to update nurse",message:A,type:"error",priority:"high",userId:"system",category:"system"}),D}finally{h(null)}},T=async P=>{const D=o.find(I=>I.id===P),A=D?`Deactivate ${D.name}? They will be marked inactive.`:"Deactivate this nurse?";if(window.confirm(A))try{await fd.deleteNurse(P),Te.success(D?`Nurse ${D.name} has been deactivated`:"Nurse has been deactivated"),b({title:"Nurse deactivated",message:D?`${D.name} is now marked as inactive.`:"Nurse has been marked inactive.",type:"info",priority:"medium",userId:"system",category:"system"}),await N()}catch(I){const $=I instanceof Error?I.message:"Failed to deactivate nurse";Te.error($),b({title:"Unable to deactivate nurse",message:$,type:"error",priority:"high",userId:"system",category:"system"})}},k=P=>{h(P),f(!0)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Nurses"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage nursing staff assignments and certifications."})]}),t&&a.jsx("div",{className:"mt-4 sm:mt-0",children:a.jsxs("button",{onClick:()=>u(!0),className:"btn-primary flex items-center",children:[a.jsx(zt,{className:"mr-2 h-4 w-4"}),"Add Nurse"]})})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Fr,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search nurses...",value:r,onChange:P=>n(P.target.value),className:"input-field pl-10"})]})}),a.jsx("div",{className:"sm:w-48",children:a.jsxs("select",{value:s,onChange:P=>i(P.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"}),a.jsx("option",{value:"on-leave",children:"On Leave"})]})})]})}),a.jsx("div",{className:"card",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Nurse"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Specialization"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"License Number"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Experience"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:p?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-sm text-gray-500",children:"Loading nurses..."})}):v?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-sm text-red-500",children:v})}):w.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-sm text-gray-500",children:"No nurses match your filters yet."})}):w.map(P=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[P.avatar?a.jsx("img",{src:P.avatar.startsWith("http")?P.avatar:Oa(P.avatar),alt:P.name,className:"h-10 w-10 rounded-full object-cover"}):a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-secondary-100 text-sm font-semibold text-secondary-700",children:P.name.split(" ").map(D=>D[0]).join("").slice(0,2).toUpperCase()}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name}),a.jsx("div",{className:"text-sm text-gray-500",children:P.email})]})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900",children:P.specialization})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Jn,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm text-gray-900",children:P.licenseNumber})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"text-sm text-gray-900",children:[P.experience," ",P.experience===1?"year":"years"]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`status-badge ${P.status==="active"?"status-active":P.status==="on-leave"?"status-pending":"status-inactive"}`,children:P.status.replace("-"," ")})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(Rn,{to:`/nurses/${P.id}`,className:"text-primary-600 hover:text-primary-900",children:[a.jsx(Ln,{className:"mr-1 inline h-4 w-4"}),"View"]}),t&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>k(P),className:"text-secondary-600 hover:text-secondary-900",children:[a.jsx(Fn,{className:"mr-1 inline h-4 w-4"}),"Edit"]}),a.jsxs("button",{onClick:()=>T(P.id),className:"text-red-600 hover:text-red-900",children:[a.jsx(Ur,{className:"mr-1 inline h-4 w-4"}),"Delete"]})]})]})})]},P.id))})]})})}),a.jsx(z4,{isOpen:c,onClose:()=>u(!1),onSave:S,mode:"add"}),a.jsx(z4,{isOpen:d,onClose:()=>{f(!1),h(null)},onSave:_,nurse:m??void 0,mode:"edit"})]})}function st(e,t=[]){const[r,n]=L.useState(null),[s,i]=L.useState(!0),[o,l]=L.useState(null),c=L.useCallback(async()=>{try{i(!0),l(null);const u=await e();n(u)}catch(u){l(u)}finally{i(!1)}},t);return L.useEffect(()=>{c()},[c]),{data:r,loading:s,error:o,refetch:c}}function ot(e){const[t,r]=L.useState(null),[n,s]=L.useState(!1),[i,o]=L.useState(null),l=L.useCallback(async u=>{try{s(!0),o(null);const d=await e(u);return r(d),d}catch(d){throw o(d),d}finally{s(!1)}},[e]),c=L.useCallback(()=>{r(null),o(null),s(!1)},[]);return{data:t,loading:n,error:i,mutate:l,reset:c}}function nz(){const{id:e}=bp(),{data:t,loading:r,error:n,refetch:s}=st(async()=>{if(!e)return null;const[d,f,m,h]=await Promise.all([fd.getNurse(e),Xn.getNurseAppointments(e,{limit:200}),$a.getClasses({limit:25}),$a.getExams({limit:10})]);return{nurse:d,appointments:f.appointments,classes:m.classes,exams:h.exams}},[e]),i=t==null?void 0:t.nurse,o=new Date().toISOString().split("T")[0],l=L.useMemo(()=>((t==null?void 0:t.appointments)??[]).filter(d=>d.date===o),[t==null?void 0:t.appointments,o]),c=L.useMemo(()=>((t==null?void 0:t.appointments)??[]).filter(d=>d.date>=o).sort((d,f)=>(d.date+d.time).localeCompare(f.date+f.time)).slice(0,5),[t==null?void 0:t.appointments,o]),u=L.useMemo(()=>{if(!i)return[];const d=(t==null?void 0:t.classes)??[],f=d.filter(p=>{var y,v;return((y=p.instructor)==null?void 0:y.toLowerCase())===i.name.toLowerCase()||((v=p.category)==null?void 0:v.toLowerCase().includes(i.specialization.toLowerCase()))}),m=d.slice().sort((p,y)=>new Date(p.date).getTime()-new Date(y.date).getTime());return(f.length?f:m).slice(0,3)},[t==null?void 0:t.classes,i]);return e?r?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Loading nurse profile..."})]}):n||!i?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ha,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Unable to load nurse profile"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:(n==null?void 0:n.message)??"Please try again later."}),a.jsx("button",{onClick:s,className:"mt-4 btn-primary",children:"Retry"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Rn,{to:"/nurses",className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:a.jsx(Tm,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:i.name}),a.jsx("p",{className:"text-sm text-gray-600",children:"Nurse Profile"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"text-center",children:[i.avatar&&a.jsx("img",{src:i.avatar.startsWith("http")?i.avatar:Oa(i.avatar),alt:i.name,className:"h-24 w-24 rounded-full object-cover mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:i.name}),a.jsx("p",{className:"text-gray-600",children:i.specialization}),a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium mt-2 ${i.status==="active"?"status-active":i.status==="on-leave"?"status-pending":"status-inactive"}`,children:i.status.replace("-"," ")})]}),a.jsxs("div",{className:"mt-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Dy,{className:"h-4 w-4 mr-3"}),i.email]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(ui,{className:"h-4 w-4 mr-3"}),i.phone]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Jn,{className:"h-4 w-4 mr-3"}),"License: ",i.licenseNumber]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Mt,{className:"h-4 w-4 mr-3"}),"Hired: ",new Date(i.hireDate).toLocaleDateString()]})]}),a.jsx("div",{className:"mt-6",children:a.jsx("button",{className:"w-full btn-primary",disabled:!0,children:"Edit Profile"})})]})}),a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Certification Progress"}),a.jsx(km,{className:"h-5 w-5 text-primary-500"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[a.jsx("span",{className:"text-gray-600",children:"Overall Progress"}),a.jsxs("span",{className:"font-medium",children:[i.certificationProgress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:a.jsx("div",{className:"bg-primary-500 h-3 rounded-full transition-all duration-300",style:{width:`${i.certificationProgress}%`}})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Current Certifications"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:i.certifications.length?i.certifications.map((d,f)=>a.jsxs("div",{className:"flex items-center p-3 bg-green-50 rounded-lg",children:[a.jsx(Jn,{className:"h-5 w-5 text-green-600 mr-3"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:d})]},f)):a.jsx("p",{className:"text-sm text-gray-500",children:"No certifications on file."})})]}),a.jsx("div",{className:"mt-6 flex items-center gap-2",children:a.jsxs("button",{className:"btn-secondary",disabled:!0,children:[a.jsx(Bd,{className:"h-4 w-4 mr-2"}),"Take Exam"]})})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Upcoming Schedule"}),a.jsx(rr,{className:"h-5 w-5 text-secondary-500"})]}),c.length?a.jsx("div",{className:"space-y-3",children:c.map(d=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:d.serviceName}),a.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[d.patientName,"  ",new Date(d.date).toLocaleDateString()," at ",d.time]})]}),a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${d.status==="confirmed"?"bg-green-100 text-green-800":d.status==="scheduled"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:d.status})]},d.id))}):a.jsx("p",{className:"text-sm text-gray-500",children:"No upcoming appointments scheduled."})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Upcoming Training"}),a.jsx(rr,{className:"h-5 w-5 text-secondary-500"})]}),u.length?a.jsx("div",{className:"space-y-3",children:u.map(d=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:d.title}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:d.description}),a.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-500",children:[a.jsx(Mt,{className:"h-3 w-3 mr-1"}),d.date?new Date(d.date).toLocaleDateString():"Date TBD"]})]}),a.jsx("div",{className:"ml-4",children:a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-primary-100 text-primary-800",children:d.status})})]},d.id))}):a.jsx("p",{className:"text-sm text-gray-500",children:"No upcoming training sessions found."}),a.jsx("div",{className:"mt-4",children:a.jsx(Rn,{to:"/training",className:"btn-outline",children:"View Training Portal"})})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Performance Metrics"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:i.experience}),a.jsx("div",{className:"text-sm text-gray-600",children:"Years Experience"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Visits Today"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:(t==null?void 0:t.appointments.length)??0}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Visits Scheduled"})]})]})]}),t!=null&&t.exams.length?a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Upcoming Exams"}),a.jsx(Bd,{className:"h-5 w-5 text-primary-500"})]}),a.jsx("div",{className:"space-y-3",children:t.exams.slice(0,3).map(d=>a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:d.title}),a.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Passing Score: ",d.passingScore,"%  Questions: ",d.questions.length]})]},d.id))})]}):null]})]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Nurse not found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"The requested nurse profile could not be found."}),a.jsx(Rn,{to:"/nurses",className:"mt-4 btn-primary inline-block",children:"Back to Nurses"})]})}const J1={name:"",email:"",phone:"",dateOfBirth:"",address:"",city:"",state:"",zipCode:"",condition:"",assignedSpecialistId:"",assignedTherapistId:"",serviceIds:[],status:"active",avatar:"",emergencyContact:"",emergencyPhone:"",allergies:"",paymentType:"CASH",insuranceProvider:"",insuranceNumber:"",referralSource:""};function H4({isOpen:e,onClose:t,onSave:r,patient:n,mode:s,specialists:i,therapists:o,services:l=[]}){const[c,u]=L.useState(J1),[d,f]=L.useState(!1),[m,h]=L.useState(null),[p,y]=L.useState(null),[v,x]=L.useState(null),[b,N]=L.useState(!1);if(L.useEffect(()=>{var k,P;if(!e){u(J1),f(!1),h(null),y(null),x(null);return}if(n&&s==="edit"){const D=((k=n.address)==null?void 0:k.split(", "))||[],A=D[0]||n.address||"",I=D[1]||"",$=((P=D[2])==null?void 0:P.split(" "))||[],E=$[0]||"",M=$[1]||"";if(u({name:n.name,email:n.email??"",phone:n.phone,dateOfBirth:n.dateOfBirth?new Date(n.dateOfBirth).toISOString().split("T")[0]:"",address:A,city:I,state:E,zipCode:M,condition:n.condition,assignedSpecialistId:n.assignedSpecialistId??"",assignedTherapistId:n.assignedTherapistId??"",serviceIds:n.serviceIds??[],status:n.status??"active",avatar:n.avatar??"",emergencyContact:n.emergencyContact??"",emergencyPhone:n.emergencyPhone??"",allergies:n.allergies??"",paymentType:n.paymentType==="INSURANCE"?"INSURANCE":"CASH",insuranceProvider:n.insuranceProvider??"",insuranceNumber:n.insuranceNumber??"",referralSource:n.referralSource??""}),n.avatar){const z=n.avatar.startsWith("http")?n.avatar:Oa(n.avatar);x(z)}else x(null)}else u({...J1,dateOfBirth:"",status:"active"})},[e,n,s]),!e)return null;const w=k=>{const{name:P,value:D}=k.target;u(A=>{const I={...A,[P]:D};return P==="paymentType"&&D==="CASH"&&(I.insuranceProvider="",I.insuranceNumber=""),I})},S=k=>{u(P=>{const D=P.serviceIds??[],A=D.includes(k)?D.filter(I=>I!==k):[...D,k];return{...P,serviceIds:A}})},_=async k=>{var A;const P=(A=k.target.files)==null?void 0:A[0];if(!P)return;if(!P.type.startsWith("image/")){h("Please select a valid image file");return}if(P.size>10*1024*1024){h("Image size must be less than 10MB");return}y(P),h(null);const D=new FileReader;D.onloadend=()=>{x(D.result)},D.readAsDataURL(P),N(!0);try{const I=await me.uploadFile(xe.UPLOAD.IMAGE,P);if(I.success&&I.data){const E=I.data.url||I.data.url;if(E){const M=E.startsWith("http")?E.replace(/^https?:\/\/[^\/]+/,""):E.startsWith("/")?E:"/"+E;u(R=>({...R,avatar:M}));const Z=`${iu.API_ORIGIN}${M}`;x(Z)}}}catch(I){h((I==null?void 0:I.message)||"Failed to upload image"),y(null),x(null)}finally{N(!1)}},T=async k=>{k.preventDefault(),f(!0),h(null);try{const P=[c.address,c.city,c.state,c.zipCode].filter(Boolean).join(", "),D={...c,address:P||c.address};await r(D),t()}catch(P){h((P==null?void 0:P.message)??"Unable to save patient. Please try again.")}finally{f(!1)}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsxs("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-xl bg-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b px-6 py-4 sticky top-0 bg-white z-10",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s==="add"?"Register New Patient":"Update Patient Details"}),a.jsx("p",{className:"text-sm text-gray-500",children:s==="add"?"Complete patient registration form":"Edit patient profile and assignment details"})]}),a.jsx("button",{type:"button",className:"rounded-full p-2 text-gray-400 transition hover:bg-gray-100 hover:text-gray-600",onClick:t,"aria-label":"Close",children:a.jsx(Dt,{className:"h-5 w-5"})})]}),a.jsxs("form",{onSubmit:T,className:"space-y-6 px-6 py-6",children:[m&&a.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:m}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Personal Information"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Required information about the patient"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Full Name",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",value:c.name,onChange:w,required:!0,className:"input-field mt-1",placeholder:"Jane Doe"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email Address"}),a.jsx("input",{type:"email",name:"email",value:c.email,onChange:w,className:"input-field mt-1",placeholder:"jane@example.com"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Phone Number",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"tel",name:"phone",value:c.phone,onChange:w,required:!0,className:"input-field mt-1",placeholder:"+1 (555) 123-4567"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Date of Birth",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",name:"dateOfBirth",value:c.dateOfBirth,onChange:w,required:!0,className:"input-field mt-1"})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Address Information"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Patient's residential address"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Street Address",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"address",value:c.address,onChange:w,required:!0,className:"input-field mt-1",placeholder:"123 Main Street"})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),a.jsx("input",{type:"text",name:"city",value:c.city,onChange:w,className:"input-field mt-1",placeholder:"City"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"State"}),a.jsx("input",{type:"text",name:"state",value:c.state,onChange:w,className:"input-field mt-1",placeholder:"State"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ZIP Code"}),a.jsx("input",{type:"text",name:"zipCode",value:c.zipCode,onChange:w,className:"input-field mt-1",placeholder:"12345"})]})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Next of Kin Contact"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Next of kin contact information"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Next of Kin Name"}),a.jsx("input",{type:"text",name:"emergencyContact",value:c.emergencyContact,onChange:w,className:"input-field mt-1",placeholder:"Contact name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Next of Kin Phone"}),a.jsx("input",{type:"tel",name:"emergencyPhone",value:c.emergencyPhone,onChange:w,className:"input-field mt-1",placeholder:"+1 (555) 123-4567"})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Payment & Insurance Information"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Payment method and insurance details"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Payment Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"paymentType",value:c.paymentType||"CASH",onChange:w,className:"input-field mt-1",required:!0,children:[a.jsx("option",{value:"CASH",children:"Cash"}),a.jsx("option",{value:"INSURANCE",children:"Insurance"})]})]}),c.paymentType==="INSURANCE"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Insurance Provider ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"insuranceProvider",value:c.insuranceProvider,onChange:w,className:"input-field mt-1",placeholder:"Insurance company name",required:c.paymentType==="INSURANCE"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Insurance Number ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"insuranceNumber",value:c.insuranceNumber,onChange:w,className:"input-field mt-1",placeholder:"Policy number",required:c.paymentType==="INSURANCE"})]})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Assignment & Care Details"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Optionally assign patient to a specialist and/or therapist. Consultation fee invoices are created automatically when assigned."}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Assigned Specialist ",a.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),a.jsxs("select",{name:"assignedSpecialistId",value:c.assignedSpecialistId??"",onChange:w,className:"input-field mt-1",children:[a.jsx("option",{value:"",children:"Select specialist"}),i&&i.length>0?i.map(k=>a.jsxs("option",{value:k.id,children:[k.name,k.specialization?` (${k.specialization})`:""]},k.id)):a.jsx("option",{value:"",disabled:!0,children:"No specialists available"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Assigned Therapist ",a.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),a.jsxs("select",{name:"assignedTherapistId",value:c.assignedTherapistId??"",onChange:w,className:"input-field mt-1",children:[a.jsx("option",{value:"",children:"Select therapist"}),o&&o.length>0?o.map(k=>a.jsxs("option",{value:k.id,children:[k.name,k.specialization?` (${k.specialization})`:""]},k.id)):a.jsx("option",{value:"",disabled:!0,children:"No therapists available"})]})]})]}),l.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Services ",a.jsx("span",{className:"text-gray-500 font-normal",children:"(optional)"})]}),a.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Select services for this patient. Billing is managed by the biller."}),a.jsx("div",{className:"flex flex-wrap gap-3",children:l.map(k=>a.jsxs("label",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-gray-200 hover:bg-gray-50 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:(c.serviceIds??[]).includes(k.id),onChange:()=>S(k.id),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),a.jsx("span",{className:"text-sm text-gray-900",children:k.name})]},k.id))})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 mt-4",children:[s==="edit"&&a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Status",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"status",value:c.status,onChange:w,required:!0,className:"input-field mt-1",children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"discharged",children:"Discharged"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Referral Source"}),a.jsx("input",{type:"text",name:"referralSource",value:c.referralSource,onChange:w,className:"input-field mt-1",placeholder:"How did patient find us?"})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient Photo"}),a.jsxs("div",{className:"flex items-center gap-4",children:[v?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:v,alt:"Avatar preview",className:"h-20 w-20 rounded-full object-cover border-2 border-gray-300"}),a.jsx("button",{type:"button",onClick:()=>{y(null),x(null),u(k=>({...k,avatar:""}))},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:a.jsx(Dt,{className:"h-3 w-3"})})]}):a.jsx("div",{className:"h-20 w-20 rounded-full bg-gray-100 border-2 border-dashed border-gray-300 flex items-center justify-center",children:a.jsx(jp,{className:"h-8 w-8 text-gray-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("label",{className:"cursor-pointer",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:_,disabled:b,className:"hidden"}),a.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(jf,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:b?"Uploading...":"Upload Photo"})]})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG or GIF (max 10MB)"})]})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 border-t pt-6 sticky bottom-0 bg-white",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-outline",disabled:d,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:d,children:d?"Saving...":s==="add"?"Register Patient":"Update Patient"})]})]})]})})}const az={ACTIVE:"active",DISCHARGED:"discharged",PENDING:"pending"},sz={active:"ACTIVE",discharged:"DISCHARGED",pending:"PENDING"};function jh(e){var n,s,i,o,l,c;const t=e.medicalHistoryNotes??"",r=e.medicalHistory??[];return{...e,status:e.status?az[e.status.toUpperCase()]??"active":"active",medicalHistory:r,medicalHistoryText:t,progress:e.progress??[],assignedSpecialistId:((n=e.assignedSpecialist)==null?void 0:n.id)??e.assignedSpecialistId,assignedSpecialistName:(s=e.assignedSpecialist)==null?void 0:s.name,assignedTherapistId:((i=e.assignedTherapist)==null?void 0:i.id)??e.assignedTherapistId,assignedTherapistName:(o=e.assignedTherapist)==null?void 0:o.name,assignedDoctorId:((l=e.assignedSpecialist)==null?void 0:l.id)??e.assignedSpecialistId,assignedNurseId:void 0,referredSpecialistId:((c=e.assignedTherapist)==null?void 0:c.id)??e.assignedTherapistId}}function V4(e){const t={...e};return e.status&&(t.status=sz[e.status]??e.status),e.dateOfBirth&&(t.dateOfBirth=new Date(e.dateOfBirth).toISOString()),e.medicalHistory!==void 0&&(t.medicalHistory=e.medicalHistory),t}class iz{async getPatients(t){const r=await me.get(xe.PATIENTS.BASE,{params:t});return{patients:Array.isArray(r.data)?r.data.map(jh):[],pagination:r.pagination}}async getPatient(t){const r=await me.get(xe.PATIENTS.BY_ID(t));return jh(r.data)}async createPatient(t){const r=V4(t),n=await me.post(xe.PATIENTS.REGISTER,r);return jh(n.data)}async updatePatient(t,r){const n=V4(r),s=await me.put(xe.PATIENTS.BY_ID(t),n);return jh(s.data)}async deletePatient(t){await me.delete(xe.PATIENTS.BY_ID(t))}async searchPatients(t){const r=await me.get(xe.PATIENTS.SEARCH,{params:{query:t}});return Array.isArray(r.data)?r.data.map(jh):[]}async getMedicalHistory(t){return(await me.get(xe.PATIENTS.MEDICAL_HISTORY(t))).data??[]}async addMedicalRecord(t,r){return(await me.post(xe.PATIENTS.MEDICAL_HISTORY(t),r)).data}async updateMedicalRecord(t,r,n){return(await me.put(`${xe.PATIENTS.MEDICAL_HISTORY(t)}/${r}`,n)).data}async deleteMedicalRecord(t,r){await me.delete(`${xe.PATIENTS.MEDICAL_HISTORY(t)}/${r}`)}async getProgressRecords(t){return(await me.get(xe.PATIENTS.PROGRESS(t))).data??[]}async addProgressRecord(t,r){return(await me.post(xe.PATIENTS.PROGRESS(t),r)).data}async updateProgressRecord(t,r,n){return(await me.put(`${xe.PATIENTS.PROGRESS(t)}/${r}`,n)).data}async deleteProgressRecord(t,r){await me.delete(`${xe.PATIENTS.PROGRESS(t)}/${r}`)}async getPatientCases(t){return(await me.get(xe.PATIENTS.CASES(t))).data??[]}async getPatientDashboard(t){return(await me.get(xe.PATIENTS.DASHBOARD(t))).data??{}}async getPatientTimeline(t){const r=await me.get(xe.PATIENTS.TIMELINE(t));return Array.isArray(r.data)?r.data:[]}async createPatientCase(t,r){return(await me.post(xe.PATIENTS.CASES(t),r)).data}async updatePatientCase(t,r,n){return(await me.put(`${xe.PATIENTS.CASES(t)}/${r}`,n)).data}async closePatientCase(t,r){return(await me.patch(`${xe.PATIENTS.CASES(t)}/${r}/close`)).data}}const Mn=new iz,oz=["admin","receptionist","specialist","therapist","nurse","biller","lab_attendant"];function lz(e){if(!e)return"admin";const t=e.trim().toLowerCase().replace(/\s+/g,"-"),r=oz.find(i=>i===t);if(r)return r;const n=e.trim().toUpperCase().replace(/[\s-]+/g,"_");return{ADMIN:"admin",RECEPTIONIST:"receptionist",SPECIALIST:"specialist",THERAPIST:"therapist",NURSE:"nurse",BILLER:"biller",LAB_ATTENDANT:"lab_attendant"}[n]??"admin"}function cz(e){return{admin:"ADMIN",receptionist:"RECEPTIONIST",specialist:"SPECIALIST",therapist:"THERAPIST",nurse:"NURSE",biller:"BILLER",lab_attendant:"LAB_ATTENDANT"}[e]??"ADMIN"}function Uu(e){if(!e)throw new Error("Invalid user payload received from API");const t=lz(e.role??e.roleCode);return{id:e.id,username:e.username,name:e.name??`${e.firstName??""} ${e.lastName??""}`.trim(),email:e.email,role:t,roleCode:e.roleCode,specialistSpecialization:e.specialistSpecialization??e.doctorSpecialization,therapistSpecialization:e.therapistSpecialization,avatar:e.avatar,phone:e.phone??e.phoneNumber,department:e.department,employeeId:e.employeeId,licenseNumber:e.licenseNumber,isActive:e.isActive??!0,createdAt:e.createdAt,updatedAt:e.updatedAt,consultationFee:e.consultationFee!=null?e.consultationFee:void 0}}class uz{async getUsers(t){const r=await me.get(xe.USERS.BASE,{params:t});return{users:(Array.isArray(r.data)?r.data:Array.isArray(r.users)?r.users:[]).map(Uu),pagination:r.pagination}}async getMedicalStaff(t){const r=await me.get(xe.USERS.MEDICAL_STAFF,{params:t});return{users:(Array.isArray(r.data)?r.data:Array.isArray(r.users)?r.users:[]).map(Uu),pagination:r.pagination}}async getUser(t){const r=await me.get(xe.USERS.BY_ID(t)),n=r.data??r;return Uu(n)}async createUser(t){var s;const r=await me.post(xe.USERS.BASE,{...t,username:((s=t.username)==null?void 0:s.trim().toLowerCase())??t.username,role:cz(t.role)}),n=r.data??r;return Uu(n)}async updateUser(t,r){const n=await me.put(xe.USERS.BY_ID(t),r),s=n.data??n;return Uu(s)}async updateUserStatus(t,r){const n=await me.patch(xe.USERS.UPDATE_STATUS(t),{isActive:r}),s=n.data??n;return Uu(s)}async deleteUser(t){await me.delete(xe.USERS.BY_ID(t))}async searchUsers(t){return this.getUsers(t)}}const Qt=new uz,FO={NURSING:"Nursing",PHYSIOTHERAPY:"Physiotherapy",PALLIATIVE:"Palliative Care",NUTRITION:"Nutrition",MENTAL_HEALTH:"Mental Health",MATERNAL_CARE:"Maternal Care"},dz=Object.entries(FO).reduce((e,[t,r])=>(e[r]=t,e),{});function z0(e){var r;const t=(r=e.category)==null?void 0:r.toUpperCase();return{...e,category:FO[t]??e.category,features:e.features??[]}}function W4(e){const t={...e};return e.category&&(t.category=dz[e.category]??e.category),e.features&&(t.features=e.features),t}class fz{async getServices(t){const r={...t,limit:typeof(t==null?void 0:t.limit)=="number"?Math.min(Math.max(t.limit,1),100):t==null?void 0:t.limit},n=await me.get(xe.SERVICES.BASE,{params:r});return{services:Array.isArray(n.data)?n.data.map(z0):[],pagination:n.pagination}}async getService(t){const r=await me.get(xe.SERVICES.BY_ID(t));return z0(r.data)}async createService(t){const r=await me.post(xe.SERVICES.BASE,W4(t));return z0(r.data)}async updateService(t,r){const n=await me.put(xe.SERVICES.BY_ID(t),W4(r));return z0(n.data)}async deleteService(t){await me.delete(xe.SERVICES.BY_ID(t))}}const Mi=new fz;function hz(){const[e,t]=L.useState(""),[r,n]=L.useState("all"),[s,i]=L.useState(!1),[o,l]=L.useState(!1),[c,u]=L.useState(null),[d,f]=L.useState([]),[m,h]=L.useState(!1),[p,y]=L.useState(null),[v,x]=L.useState([]),[b,N]=L.useState([]),[w,S]=L.useState([]),{user:_}=dr(),{addNotification:T}=Rr(),k=(_==null?void 0:_.role)==="admin"||(_==null?void 0:_.role)==="receptionist",P=(_==null?void 0:_.role)==="admin"||(_==null?void 0:_.role)==="receptionist",D=(_==null?void 0:_.role)==="admin",{data:A,loading:I}=st(()=>Mi.getServices({limit:500}),[]),$=(A==null?void 0:A.services)??[],E=L.useMemo(()=>{const Q=new Map;return $.forEach(ne=>Q.set(ne.id,ne)),Q},[$]),M=L.useMemo(()=>{const Q=new Map;return v.forEach(ne=>Q.set(ne.id,ne.name)),Q},[v]),z=L.useMemo(()=>{const Q=new Map;return b.forEach(ne=>Q.set(ne.id,ne.name)),Q},[b]),Z=L.useMemo(()=>{const Q=new Map;return w.forEach(ne=>Q.set(ne.id,ne.name)),Q},[w]),R=Q=>!Q.serviceIds||Q.serviceIds.length===0?[]:Q.serviceIds.map(ne=>E.get(ne)).filter(ne=>ne!==void 0),U=async()=>{try{const{users:Q}=await Qt.getMedicalStaff({role:"SPECIALIST",limit:500});N(Q.map(ne=>{const pe=se=>{if(se)return se.split("_").map(W=>W.charAt(0)+W.slice(1).toLowerCase()).join(" ")};return{id:ne.id,name:ne.name,specialization:pe(ne.therapistSpecialization)}}))}catch(Q){console.error("Failed to load therapists",Q);try{const{users:ne}=await Qt.getUsers({limit:500}),pe=ne.filter(se=>se.role==="therapist");N(pe.map(se=>{const W=fe=>{if(fe)return fe.split("_").map(Ae=>Ae.charAt(0)+Ae.slice(1).toLowerCase()).join(" ")};return{id:se.id,name:se.name,specialization:W(se.therapistSpecialization)}}))}catch(ne){console.error("Fallback load failed",ne),N([])}}},re=async()=>{try{const{users:Q}=await Qt.getMedicalStaff({role:"SPECIALIST",limit:500});x(Q.map(ne=>{const pe=se=>{if(se)return se.split("_").map(W=>W.charAt(0)+W.slice(1).toLowerCase()).join(" ")};return{id:ne.id,name:ne.name,specialization:pe(ne.specialistSpecialization)}}))}catch(Q){console.error("Failed to load specialists",Q);try{const{users:ne}=await Qt.getUsers({limit:500}),pe=ne.filter(se=>se.role==="specialist");x(pe.map(se=>{const W=fe=>{if(fe)return fe.split("_").map(Ae=>Ae.charAt(0)+Ae.slice(1).toLowerCase()).join(" ")};return{id:se.id,name:se.name,specialization:W(se.specialistSpecialization)}}))}catch(ne){console.error("Fallback load failed",ne),x([])}}},de=async()=>{h(!0),y(null);try{const{patients:Q}=await Mn.getPatients({query:e||void 0,status:r!=="all"?r:void 0});f(Q)}catch(Q){console.error("Failed to load patients",Q),y((Q==null?void 0:Q.message)??"Unable to load patient records.")}finally{h(!1)}},B=async()=>{try{const{users:Q}=await Qt.getMedicalStaff({role:"NURSE",limit:500});S(Q.map(ne=>({id:ne.id,name:ne.name})))}catch(Q){console.error("Failed to load nurses",Q);try{const{users:ne}=await Qt.getUsers({limit:500}),pe=ne.filter(se=>se.role==="nurse");S(pe.map(se=>({id:se.id,name:se.name})))}catch(ne){console.error("Fallback load failed",ne),S([])}}};L.useEffect(()=>{re(),U(),B()},[]),L.useEffect(()=>{de()},[r,e]);const G=L.useMemo(()=>d.filter(Q=>{var fe,Ae,Y,Ce,qe,be,je;Q.assignedNurseId?(fe=Z.get(Q.assignedNurseId))==null||fe.toLowerCase():(Ae=Q.assignedNurseName)==null||Ae.toLowerCase();const ne=Q.assignedSpecialistId?(Y=M.get(Q.assignedSpecialistId))==null?void 0:Y.toLowerCase():(Ce=Q.assignedSpecialistName)==null?void 0:Ce.toLowerCase(),pe=Q.assignedTherapistId?(qe=z.get(Q.assignedTherapistId))==null?void 0:qe.toLowerCase():(be=Q.assignedTherapistName)==null?void 0:be.toLowerCase(),se=Q.name.toLowerCase().includes(e.toLowerCase())||((je=Q.email)==null?void 0:je.toLowerCase().includes(e.toLowerCase()))||((ne==null?void 0:ne.includes(e.toLowerCase()))??!1)||((pe==null?void 0:pe.includes(e.toLowerCase()))??!1)||R(Q).some(Me=>Me.name.toLowerCase().includes(e.toLowerCase())),W=r==="all"||Q.status===r;return se&&W}),[d,e,r,M,z,E]),te=async Q=>{try{await Mn.createPatient(Q),Te.success(`Patient ${Q.name} has been created successfully`),T&&T({title:"Patient created",message:`${Q.name} has been added.`,type:"success",priority:"medium",userId:"system",category:"system"}),await de()}catch(ne){const pe=ne instanceof Error?ne.message:"Failed to create patient";throw Te.error(pe),T&&T({title:"Unable to create patient",message:pe,type:"error",priority:"high",userId:"system",category:"system"}),ne}},ue=async Q=>{if(c)try{await Mn.updatePatient(c.id,Q),Te.success(`Patient ${Q.name} has been updated successfully`),T({title:"Patient updated",message:`${Q.name} has been updated.`,type:"success",priority:"medium",userId:"system",category:"system"}),await de()}catch(ne){const pe=ne instanceof Error?ne.message:"Failed to update patient";throw Te.error(pe),T({title:"Unable to update patient",message:pe,type:"error",priority:"high",userId:"system",category:"system"}),ne}finally{u(null)}},q=async Q=>{const ne=d.find(se=>se.id===Q),pe=ne?`Archive ${ne.name}? They will no longer appear in active lists.`:"Archive this patient?";if(window.confirm(pe))try{await Mn.deletePatient(Q),Te.success(ne?`Patient ${ne.name} has been archived`:"Patient archived successfully"),T&&T({title:"Patient archived",message:ne?`${ne.name} has been marked as discharged.`:"Patient archived successfully.",type:"info",priority:"medium",userId:"system",category:"system"}),await de()}catch(se){const W=se instanceof Error?se.message:"Failed to archive patient";Te.error(W),T&&T({title:"Archive failed",message:se instanceof Error?se.message:"Unable to archive patient.",type:"error",priority:"high",userId:"system",category:"system"})}},X=Q=>{u(Q),l(!0)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Patients"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage patient information and live care details."})]}),k&&a.jsx("div",{className:"mt-4 sm:mt-0",children:a.jsxs("button",{onClick:()=>i(!0),className:"btn-primary flex items-center",children:[a.jsx(zt,{className:"mr-2 h-4 w-4"}),"Add Patient"]})})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"relative",children:[a.jsx(Fr,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search patients...",value:e,onChange:Q=>t(Q.target.value),className:"input-field pl-10"})]})}),a.jsx("div",{children:a.jsxs("select",{value:r,onChange:Q=>n(Q.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"discharged",children:"Discharged"}),a.jsx("option",{value:"pending",children:"Pending"})]})}),a.jsx("div",{})]})}),a.jsx("div",{className:"card",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Patient"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Services"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Assigned Specialist"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Assigned Therapist"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Admission Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:m?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-10 text-center text-sm text-gray-500",children:"Loading patients..."})}):p?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-10 text-center text-sm text-red-500",children:p})}):G.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-10 text-center text-sm text-gray-500",children:"No patients match your filters yet."})}):G.map(Q=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[Q.avatar?a.jsx("img",{src:Q.avatar.startsWith("http")?Q.avatar:Oa(Q.avatar),alt:Q.name,className:"h-10 w-10 rounded-full object-cover"}):a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary-100 text-sm font-semibold text-primary-600",children:Q.name.split(" ").map(ne=>ne[0]).join("").slice(0,2).toUpperCase()}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Q.name}),a.jsx("div",{className:"text-sm text-gray-500",children:Q.email})]})]})}),a.jsx("td",{className:"px-6 py-4",children:I?a.jsx("div",{className:"text-sm text-gray-500",children:"Loading..."}):(()=>{const ne=R(Q);return ne.length===0?a.jsx("div",{className:"text-sm text-gray-400",children:"No services"}):a.jsxs("div",{className:"flex flex-wrap gap-1",children:[ne.slice(0,2).map(pe=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-50 text-blue-700 border border-blue-200",children:pe.name},pe.id)),ne.length>2&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-600 border border-gray-200",children:["+",ne.length-2," more"]})]})})()}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Yr,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm text-gray-900",children:Q.assignedSpecialistId?M.get(Q.assignedSpecialistId)??Q.assignedSpecialistName??"Unassigned":"Unassigned"})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Yr,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm text-gray-900",children:Q.assignedTherapistId?z.get(Q.assignedTherapistId)??Q.assignedTherapistName??"Unassigned":"Unassigned"})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mt,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm text-gray-900",children:Q.admissionDate?new Date(Q.admissionDate).toLocaleDateString():""})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`status-badge ${Q.status==="active"?"status-active":Q.status==="discharged"?"status-inactive":"status-pending"}`,children:Q.status})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(Rn,{to:`/patients/${Q.id}`,className:"text-primary-600 hover:text-primary-900 inline-flex items-center",children:[a.jsx(Ln,{className:"mr-1 h-4 w-4"}),"View"]}),P&&a.jsxs("button",{onClick:()=>X(Q),className:"text-secondary-600 hover:text-secondary-900 inline-flex items-center",type:"button",children:[a.jsx(Fn,{className:"mr-1 h-4 w-4"}),"Edit"]}),D&&a.jsxs("button",{onClick:()=>q(Q.id),className:"text-red-600 hover:text-red-900 inline-flex items-center",type:"button",children:[a.jsx(Ur,{className:"mr-1 h-4 w-4"}),"Archive"]})]})})]},Q.id))})]})})}),a.jsx(H4,{isOpen:s,onClose:()=>i(!1),onSave:te,mode:"add",specialists:v,therapists:b,services:$.map(Q=>({id:Q.id,name:Q.name}))}),a.jsx(H4,{isOpen:o,onClose:()=>{l(!1),u(null)},onSave:ue,patient:c??void 0,mode:"edit",specialists:v,therapists:b,services:$.map(Q=>({id:Q.id,name:Q.name}))})]})}var mz=Array.isArray,Ka=mz,pz=typeof v0=="object"&&v0&&v0.Object===Object&&v0,BO=pz,gz=BO,xz=typeof self=="object"&&self&&self.Object===Object&&self,yz=gz||xz||Function("return this")(),Gi=yz,vz=Gi,bz=vz.Symbol,Pp=bz,G4=Pp,UO=Object.prototype,wz=UO.hasOwnProperty,Nz=UO.toString,Sh=G4?G4.toStringTag:void 0;function jz(e){var t=wz.call(e,Sh),r=e[Sh];try{e[Sh]=void 0;var n=!0}catch{}var s=Nz.call(e);return n&&(t?e[Sh]=r:delete e[Sh]),s}var Sz=jz,Az=Object.prototype,_z=Az.toString;function Ez(e){return _z.call(e)}var Pz=Ez,Y4=Pp,Cz=Sz,Tz=Pz,kz="[object Null]",Oz="[object Undefined]",K4=Y4?Y4.toStringTag:void 0;function Iz(e){return e==null?e===void 0?Oz:kz:K4&&K4 in Object(e)?Cz(e):Tz(e)}var Go=Iz;function Lz(e){return e!=null&&typeof e=="object"}var Yo=Lz,Rz=Go,Mz=Yo,Dz="[object Symbol]";function $z(e){return typeof e=="symbol"||Mz(e)&&Rz(e)==Dz}var _f=$z,Fz=Ka,Bz=_f,Uz=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zz=/^\w*$/;function qz(e,t){if(Fz(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Bz(e)?!0:zz.test(e)||!Uz.test(e)||t!=null&&e in Object(t)}var i5=qz;function Hz(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Zl=Hz;const Ef=or(Zl);var Vz=Go,Wz=Zl,Gz="[object AsyncFunction]",Yz="[object Function]",Kz="[object GeneratorFunction]",Xz="[object Proxy]";function Jz(e){if(!Wz(e))return!1;var t=Vz(e);return t==Yz||t==Kz||t==Gz||t==Xz}var o5=Jz;const xt=or(o5);var Zz=Gi,Qz=Zz["__core-js_shared__"],eq=Qz,Z1=eq,X4=function(){var e=/[^.]+$/.exec(Z1&&Z1.keys&&Z1.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function tq(e){return!!X4&&X4 in e}var rq=tq,nq=Function.prototype,aq=nq.toString;function sq(e){if(e!=null){try{return aq.call(e)}catch{}try{return e+""}catch{}}return""}var zO=sq,iq=o5,oq=rq,lq=Zl,cq=zO,uq=/[\\^$.*+?()[\]{}|]/g,dq=/^\[object .+?Constructor\]$/,fq=Function.prototype,hq=Object.prototype,mq=fq.toString,pq=hq.hasOwnProperty,gq=RegExp("^"+mq.call(pq).replace(uq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xq(e){if(!lq(e)||oq(e))return!1;var t=iq(e)?gq:dq;return t.test(cq(e))}var yq=xq;function vq(e,t){return e==null?void 0:e[t]}var bq=vq,wq=yq,Nq=bq;function jq(e,t){var r=Nq(e,t);return wq(r)?r:void 0}var vu=jq,Sq=vu,Aq=Sq(Object,"create"),Hy=Aq,J4=Hy;function _q(){this.__data__=J4?J4(null):{},this.size=0}var Eq=_q;function Pq(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Cq=Pq,Tq=Hy,kq="__lodash_hash_undefined__",Oq=Object.prototype,Iq=Oq.hasOwnProperty;function Lq(e){var t=this.__data__;if(Tq){var r=t[e];return r===kq?void 0:r}return Iq.call(t,e)?t[e]:void 0}var Rq=Lq,Mq=Hy,Dq=Object.prototype,$q=Dq.hasOwnProperty;function Fq(e){var t=this.__data__;return Mq?t[e]!==void 0:$q.call(t,e)}var Bq=Fq,Uq=Hy,zq="__lodash_hash_undefined__";function qq(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Uq&&t===void 0?zq:t,this}var Hq=qq,Vq=Eq,Wq=Cq,Gq=Rq,Yq=Bq,Kq=Hq;function Pf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Pf.prototype.clear=Vq;Pf.prototype.delete=Wq;Pf.prototype.get=Gq;Pf.prototype.has=Yq;Pf.prototype.set=Kq;var Xq=Pf;function Jq(){this.__data__=[],this.size=0}var Zq=Jq;function Qq(e,t){return e===t||e!==e&&t!==t}var l5=Qq,eH=l5;function tH(e,t){for(var r=e.length;r--;)if(eH(e[r][0],t))return r;return-1}var Vy=tH,rH=Vy,nH=Array.prototype,aH=nH.splice;function sH(e){var t=this.__data__,r=rH(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():aH.call(t,r,1),--this.size,!0}var iH=sH,oH=Vy;function lH(e){var t=this.__data__,r=oH(t,e);return r<0?void 0:t[r][1]}var cH=lH,uH=Vy;function dH(e){return uH(this.__data__,e)>-1}var fH=dH,hH=Vy;function mH(e,t){var r=this.__data__,n=hH(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var pH=mH,gH=Zq,xH=iH,yH=cH,vH=fH,bH=pH;function Cf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Cf.prototype.clear=gH;Cf.prototype.delete=xH;Cf.prototype.get=yH;Cf.prototype.has=vH;Cf.prototype.set=bH;var Wy=Cf,wH=vu,NH=Gi,jH=wH(NH,"Map"),c5=jH,Z4=Xq,SH=Wy,AH=c5;function _H(){this.size=0,this.__data__={hash:new Z4,map:new(AH||SH),string:new Z4}}var EH=_H;function PH(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var CH=PH,TH=CH;function kH(e,t){var r=e.__data__;return TH(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Gy=kH,OH=Gy;function IH(e){var t=OH(this,e).delete(e);return this.size-=t?1:0,t}var LH=IH,RH=Gy;function MH(e){return RH(this,e).get(e)}var DH=MH,$H=Gy;function FH(e){return $H(this,e).has(e)}var BH=FH,UH=Gy;function zH(e,t){var r=UH(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var qH=zH,HH=EH,VH=LH,WH=DH,GH=BH,YH=qH;function Tf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Tf.prototype.clear=HH;Tf.prototype.delete=VH;Tf.prototype.get=WH;Tf.prototype.has=GH;Tf.prototype.set=YH;var u5=Tf,qO=u5,KH="Expected a function";function d5(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(KH);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(d5.Cache||qO),r}d5.Cache=qO;var HO=d5;const XH=or(HO);var JH=HO,ZH=500;function QH(e){var t=JH(e,function(n){return r.size===ZH&&r.clear(),n}),r=t.cache;return t}var eV=QH,tV=eV,rV=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nV=/\\(\\)?/g,aV=tV(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(rV,function(r,n,s,i){t.push(s?i.replace(nV,"$1"):n||r)}),t}),sV=aV;function iV(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var f5=iV,Q4=Pp,oV=f5,lV=Ka,cV=_f,e3=Q4?Q4.prototype:void 0,t3=e3?e3.toString:void 0;function VO(e){if(typeof e=="string")return e;if(lV(e))return oV(e,VO)+"";if(cV(e))return t3?t3.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var uV=VO,dV=uV;function fV(e){return e==null?"":dV(e)}var WO=fV,hV=Ka,mV=i5,pV=sV,gV=WO;function xV(e,t){return hV(e)?e:mV(e,t)?[e]:pV(gV(e))}var GO=xV,yV=_f;function vV(e){if(typeof e=="string"||yV(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Yy=vV,bV=GO,wV=Yy;function NV(e,t){t=bV(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[wV(t[r++])];return r&&r==n?e:void 0}var h5=NV,jV=h5;function SV(e,t,r){var n=e==null?void 0:jV(e,t);return n===void 0?r:n}var YO=SV;const ps=or(YO);function AV(e){return e==null}var _V=AV;const jt=or(_V);var EV=Go,PV=Ka,CV=Yo,TV="[object String]";function kV(e){return typeof e=="string"||!PV(e)&&CV(e)&&EV(e)==TV}var OV=kV;const ou=or(OV);var KO={exports:{}},lr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m5=Symbol.for("react.element"),p5=Symbol.for("react.portal"),Ky=Symbol.for("react.fragment"),Xy=Symbol.for("react.strict_mode"),Jy=Symbol.for("react.profiler"),Zy=Symbol.for("react.provider"),Qy=Symbol.for("react.context"),IV=Symbol.for("react.server_context"),ev=Symbol.for("react.forward_ref"),tv=Symbol.for("react.suspense"),rv=Symbol.for("react.suspense_list"),nv=Symbol.for("react.memo"),av=Symbol.for("react.lazy"),LV=Symbol.for("react.offscreen"),XO;XO=Symbol.for("react.module.reference");function Us(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case m5:switch(e=e.type,e){case Ky:case Jy:case Xy:case tv:case rv:return e;default:switch(e=e&&e.$$typeof,e){case IV:case Qy:case ev:case av:case nv:case Zy:return e;default:return t}}case p5:return t}}}lr.ContextConsumer=Qy;lr.ContextProvider=Zy;lr.Element=m5;lr.ForwardRef=ev;lr.Fragment=Ky;lr.Lazy=av;lr.Memo=nv;lr.Portal=p5;lr.Profiler=Jy;lr.StrictMode=Xy;lr.Suspense=tv;lr.SuspenseList=rv;lr.isAsyncMode=function(){return!1};lr.isConcurrentMode=function(){return!1};lr.isContextConsumer=function(e){return Us(e)===Qy};lr.isContextProvider=function(e){return Us(e)===Zy};lr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===m5};lr.isForwardRef=function(e){return Us(e)===ev};lr.isFragment=function(e){return Us(e)===Ky};lr.isLazy=function(e){return Us(e)===av};lr.isMemo=function(e){return Us(e)===nv};lr.isPortal=function(e){return Us(e)===p5};lr.isProfiler=function(e){return Us(e)===Jy};lr.isStrictMode=function(e){return Us(e)===Xy};lr.isSuspense=function(e){return Us(e)===tv};lr.isSuspenseList=function(e){return Us(e)===rv};lr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ky||e===Jy||e===Xy||e===tv||e===rv||e===LV||typeof e=="object"&&e!==null&&(e.$$typeof===av||e.$$typeof===nv||e.$$typeof===Zy||e.$$typeof===Qy||e.$$typeof===ev||e.$$typeof===XO||e.getModuleId!==void 0)};lr.typeOf=Us;KO.exports=lr;var RV=KO.exports,MV=Go,DV=Yo,$V="[object Number]";function FV(e){return typeof e=="number"||DV(e)&&MV(e)==$V}var JO=FV;const BV=or(JO);var UV=JO;function zV(e){return UV(e)&&e!=+e}var qV=zV;const kf=or(qV);var _a=function(t){return t===0?0:t>0?1:-1},$c=function(t){return ou(t)&&t.indexOf("%")===t.length-1},He=function(t){return BV(t)&&!kf(t)},HV=function(t){return jt(t)},En=function(t){return He(t)||ou(t)},VV=0,bu=function(t){var r=++VV;return"".concat(t||"").concat(r)},Ea=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!He(t)&&!ou(t))return n;var i;if($c(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return kf(i)&&(i=n),s&&i>r&&(i=r),i},_l=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},WV=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},An=function(t,r){return He(t)&&He(r)?function(n){return t+n*(r-t)}:function(){return r}};function ux(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ps(n,t))===r})}var GV=function(t,r){return He(t)&&He(r)?t-r:ou(t)&&ou(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Ad(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function mw(e){"@babel/helpers - typeof";return mw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mw(e)}var YV=["viewBox","children"],KV=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],r3=["points","pathLength"],Q1={svg:YV,polygon:r3,polyline:r3},g5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],dx=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(L.isValidElement(t)&&(n=t.props),!Ef(n))return null;var s={};return Object.keys(n).forEach(function(i){g5.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},XV=function(t,r,n){return function(s){return t(r,n,s),null}},lu=function(t,r,n){if(!Ef(t)||mw(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];g5.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=XV(o,r,n))}),s},JV=["children"],ZV=["children"];function n3(e,t){if(e==null)return{};var r=QV(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pw(e){"@babel/helpers - typeof";return pw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pw(e)}var a3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ko=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},s3=null,eb=null,x5=function e(t){if(t===s3&&Array.isArray(eb))return eb;var r=[];return L.Children.forEach(t,function(n){jt(n)||(RV.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),eb=r,s3=t,r};function gs(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return ko(s)}):n=[ko(t)],x5(e).forEach(function(s){var i=ps(s,"type.displayName")||ps(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function cs(e,t){var r=gs(e,t);return r&&r[0]}var i3=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!He(n)||n<=0||!He(s)||s<=0)},eW=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],tW=function(t){return t&&t.type&&ou(t.type)&&eW.indexOf(t.type)>=0},ZO=function(t){return t&&pw(t)==="object"&&"clipDot"in t},rW=function(t,r,n,s){var i,o=(i=Q1==null?void 0:Q1[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!xt(t)&&(s&&o.includes(r)||KV.includes(r))||n&&g5.includes(r)},ut=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(L.isValidElement(t)&&(s=t.props),!Ef(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;rW((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},gw=function e(t,r){if(t===r)return!0;var n=L.Children.count(t);if(n!==L.Children.count(r))return!1;if(n===0)return!0;if(n===1)return o3(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!o3(i,o))return!1}return!0},o3=function(t,r){if(jt(t)&&jt(r))return!0;if(!jt(t)&&!jt(r)){var n=t.props||{},s=n.children,i=n3(n,JV),o=r.props||{},l=o.children,c=n3(o,ZV);return s&&l?Ad(i,c)&&gw(s,l):!s&&!l?Ad(i,c):!1}return!1},l3=function(t,r){var n=[],s={};return x5(t).forEach(function(i,o){if(tW(i))n.push(i);else if(i){var l=ko(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(i,l,o);n.push(f),s[l]=!0}}}),n},nW=function(t){var r=t&&t.type;return r&&a3[r]?a3[r]:null},aW=function(t,r){return x5(r).indexOf(t)},sW=["children","width","height","viewBox","className","style","title","desc"];function xw(){return xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xw.apply(this,arguments)}function iW(e,t){if(e==null)return{};var r=oW(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yw(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=iW(e,sW),d=s||{width:r,height:n,x:0,y:0},f=yt("recharts-surface",i);return ce.createElement("svg",xw({},ut(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),ce.createElement("title",null,l),ce.createElement("desc",null,c),t)}var lW=["children","className"];function vw(){return vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vw.apply(this,arguments)}function cW(e,t){if(e==null)return{};var r=uW(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Bt=ce.forwardRef(function(e,t){var r=e.children,n=e.className,s=cW(e,lW),i=yt("recharts-layer",n);return ce.createElement("g",vw({className:i},ut(s,!0),{ref:t}),r)}),di=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function dW(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++n<s;)i[n]=e[n+t];return i}var fW=dW,hW=fW;function mW(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:hW(e,t,r)}var pW=mW,gW="\\ud800-\\udfff",xW="\\u0300-\\u036f",yW="\\ufe20-\\ufe2f",vW="\\u20d0-\\u20ff",bW=xW+yW+vW,wW="\\ufe0e\\ufe0f",NW="\\u200d",jW=RegExp("["+NW+gW+bW+wW+"]");function SW(e){return jW.test(e)}var QO=SW;function AW(e){return e.split("")}var _W=AW,eI="\\ud800-\\udfff",EW="\\u0300-\\u036f",PW="\\ufe20-\\ufe2f",CW="\\u20d0-\\u20ff",TW=EW+PW+CW,kW="\\ufe0e\\ufe0f",OW="["+eI+"]",bw="["+TW+"]",ww="\\ud83c[\\udffb-\\udfff]",IW="(?:"+bw+"|"+ww+")",tI="[^"+eI+"]",rI="(?:\\ud83c[\\udde6-\\uddff]){2}",nI="[\\ud800-\\udbff][\\udc00-\\udfff]",LW="\\u200d",aI=IW+"?",sI="["+kW+"]?",RW="(?:"+LW+"(?:"+[tI,rI,nI].join("|")+")"+sI+aI+")*",MW=sI+aI+RW,DW="(?:"+[tI+bw+"?",bw,rI,nI,OW].join("|")+")",$W=RegExp(ww+"(?="+ww+")|"+DW+MW,"g");function FW(e){return e.match($W)||[]}var BW=FW,UW=_W,zW=QO,qW=BW;function HW(e){return zW(e)?qW(e):UW(e)}var VW=HW,WW=pW,GW=QO,YW=VW,KW=WO;function XW(e){return function(t){t=KW(t);var r=GW(t)?YW(t):void 0,n=r?r[0]:t.charAt(0),s=r?WW(r,1).join(""):t.slice(1);return n[e]()+s}}var JW=XW,ZW=JW,QW=ZW("toUpperCase"),eG=QW;const sv=or(eG);function wr(e){return function(){return e}}const iI=Math.cos,fx=Math.sin,gi=Math.sqrt,hx=Math.PI,iv=2*hx,Nw=Math.PI,jw=2*Nw,_c=1e-6,tG=jw-_c;function oI(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function rG(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return oI;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class nG{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?oI:rG(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,d=o-t,f=l-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>_c)if(!(Math.abs(f*c-u*d)>_c)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-o,p=s-l,y=c*c+u*u,v=h*h+p*p,x=Math.sqrt(y),b=Math.sqrt(m),N=i*Math.tan((Nw-Math.acos((y+m-v)/(2*x*b)))/2),w=N/b,S=N/x;Math.abs(w-1)>_c&&this._append`L${t+w*d},${r+w*f}`,this._append`A${i},${i},0,0,${+(f*h>d*p)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,f=1^o,m=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>_c||Math.abs(this._y1-d)>_c)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%jw+jw),m>tG?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>_c&&this._append`A${n},${n},0,${+(m>=Nw)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function y5(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new nG(t)}function v5(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function lI(e){this._context=e}lI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ov(e){return new lI(e)}function cI(e){return e[0]}function uI(e){return e[1]}function dI(e,t){var r=wr(!0),n=null,s=ov,i=null,o=y5(l);e=typeof e=="function"?e:e===void 0?cI:wr(e),t=typeof t=="function"?t:t===void 0?uI:wr(t);function l(c){var u,d=(c=v5(c)).length,f,m=!1,h;for(n==null&&(i=s(h=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(f,u,c),+t(f,u,c));if(h)return i=null,h+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:wr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:wr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:wr(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function q0(e,t,r){var n=null,s=wr(!0),i=null,o=ov,l=null,c=y5(u);e=typeof e=="function"?e:e===void 0?cI:wr(+e),t=typeof t=="function"?t:wr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?uI:wr(+r);function u(f){var m,h,p,y=(f=v5(f)).length,v,x=!1,b,N=new Array(y),w=new Array(y);for(i==null&&(l=o(b=c())),m=0;m<=y;++m){if(!(m<y&&s(v=f[m],m,f))===x)if(x=!x)h=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=m-1;p>=h;--p)l.point(N[p],w[p]);l.lineEnd(),l.areaEnd()}x&&(N[m]=+e(v,m,f),w[m]=+t(v,m,f),l.point(n?+n(v,m,f):N[m],r?+r(v,m,f):w[m]))}if(b)return l=null,b+""||null}function d(){return dI().defined(s).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:wr(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:wr(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:wr(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:wr(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:wr(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:wr(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:wr(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class fI{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function aG(e){return new fI(e,!0)}function sG(e){return new fI(e,!1)}const b5={draw(e,t){const r=gi(t/hx);e.moveTo(r,0),e.arc(0,0,r,0,iv)}},iG={draw(e,t){const r=gi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},hI=gi(1/3),oG=hI*2,lG={draw(e,t){const r=gi(t/oG),n=r*hI;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},cG={draw(e,t){const r=gi(t),n=-r/2;e.rect(n,n,r,r)}},uG=.8908130915292852,mI=fx(hx/10)/fx(7*hx/10),dG=fx(iv/10)*mI,fG=-iI(iv/10)*mI,hG={draw(e,t){const r=gi(t*uG),n=dG*r,s=fG*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=iv*i/5,l=iI(o),c=fx(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},tb=gi(3),mG={draw(e,t){const r=-gi(t/(tb*3));e.moveTo(0,r*2),e.lineTo(-tb*r,-r),e.lineTo(tb*r,-r),e.closePath()}},Es=-.5,Ps=gi(3)/2,Sw=1/gi(12),pG=(Sw/2+1)*3,gG={draw(e,t){const r=gi(t/pG),n=r/2,s=r*Sw,i=n,o=r*Sw+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Es*n-Ps*s,Ps*n+Es*s),e.lineTo(Es*i-Ps*o,Ps*i+Es*o),e.lineTo(Es*l-Ps*c,Ps*l+Es*c),e.lineTo(Es*n+Ps*s,Es*s-Ps*n),e.lineTo(Es*i+Ps*o,Es*o-Ps*i),e.lineTo(Es*l+Ps*c,Es*c-Ps*l),e.closePath()}};function xG(e,t){let r=null,n=y5(s);e=typeof e=="function"?e:wr(e||b5),t=typeof t=="function"?t:wr(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:wr(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:wr(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function mx(){}function px(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function pI(e){this._context=e}pI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:px(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:px(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yG(e){return new pI(e)}function gI(e){this._context=e}gI.prototype={areaStart:mx,areaEnd:mx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:px(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vG(e){return new gI(e)}function xI(e){this._context=e}xI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:px(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bG(e){return new xI(e)}function yI(e){this._context=e}yI.prototype={areaStart:mx,areaEnd:mx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function wG(e){return new yI(e)}function c3(e){return e<0?-1:1}function u3(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(c3(i)+c3(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function d3(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function rb(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function gx(e){this._context=e}gx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rb(this,this._t0,d3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,rb(this,d3(this,r=u3(this,e,t)),r);break;default:rb(this,this._t0,r=u3(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function vI(e){this._context=new bI(e)}(vI.prototype=Object.create(gx.prototype)).point=function(e,t){gx.prototype.point.call(this,t,e)};function bI(e){this._context=e}bI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function NG(e){return new gx(e)}function jG(e){return new vI(e)}function wI(e){this._context=e}wI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=f3(e),s=f3(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function f3(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function SG(e){return new wI(e)}function lv(e,t){this._context=e,this._t=t}lv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function AG(e){return new lv(e,.5)}function _G(e){return new lv(e,0)}function EG(e){return new lv(e,1)}function Hd(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Aw(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function PG(e,t){return e[t]}function CG(e){const t=[];return t.key=e,t}function TG(){var e=wr([]),t=Aw,r=Hd,n=PG;function s(i){var o=Array.from(e.apply(this,arguments),CG),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=v5(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:wr(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:wr(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?Aw:typeof i=="function"?i:wr(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Hd,s):r},s}function kG(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}Hd(e,t)}}function OG(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Hd(e,t)}}function IG(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,m=d[n-1][1]||0,h=(f-m)/2,p=0;p<l;++p){var y=e[t[p]],v=y[n][1]||0,x=y[n-1][1]||0;h+=v-x}c+=f,u+=h*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,Hd(e,t)}}function Om(e){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Om(e)}var LG=["type","size","sizeType"];function _w(){return _w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_w.apply(this,arguments)}function h3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function m3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h3(Object(r),!0).forEach(function(n){RG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RG(e,t,r){return t=MG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MG(e){var t=DG(e,"string");return Om(t)=="symbol"?t:t+""}function DG(e,t){if(Om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $G(e,t){if(e==null)return{};var r=FG(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var NI={symbolCircle:b5,symbolCross:iG,symbolDiamond:lG,symbolSquare:cG,symbolStar:hG,symbolTriangle:mG,symbolWye:gG},BG=Math.PI/180,UG=function(t){var r="symbol".concat(sv(t));return NI[r]||b5},zG=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*BG;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},qG=function(t,r){NI["symbol".concat(sv(t))]=r},w5=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=$G(t,LG),u=m3(m3({},c),{},{type:n,size:i,sizeType:l}),d=function(){var v=UG(n),x=xG().type(v).size(zG(i,l,n));return x()},f=u.className,m=u.cx,h=u.cy,p=ut(u,!0);return m===+m&&h===+h&&i===+i?ce.createElement("path",_w({},p,{className:yt("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:d()})):null};w5.registerSymbol=qG;function Vd(e){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vd(e)}function Ew(){return Ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ew.apply(this,arguments)}function p3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function HG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p3(Object(r),!0).forEach(function(n){Im(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SI(n.key),n)}}function GG(e,t,r){return t&&WG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YG(e,t,r){return t=xx(t),KG(e,jI()?Reflect.construct(t,r||[],xx(e).constructor):t.apply(e,r))}function KG(e,t){if(t&&(Vd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XG(e)}function XG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jI=function(){return!!e})()}function xx(e){return xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xx(e)}function JG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pw(e,t)}function Pw(e,t){return Pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Pw(e,t)}function Im(e,t,r){return t=SI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SI(e){var t=ZG(e,"string");return Vd(t)=="symbol"?t:t+""}function ZG(e,t){if(Vd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cs=32,N5=function(e){function t(){return VG(this,t),YG(this,t,arguments)}return JG(t,e),GG(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=Cs/2,o=Cs/6,l=Cs/3,c=n.inactive?s:n.color;if(n.type==="plainline")return ce.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Cs,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return ce.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Cs,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return ce.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Cs/8,"h").concat(Cs,"v").concat(Cs*3/4,"h").concat(-Cs,"z"),className:"recharts-legend-icon"});if(ce.isValidElement(n.legendIcon)){var u=HG({},n);return delete u.legendIcon,ce.cloneElement(n.legendIcon,u)}return ce.createElement(w5,{fill:c,cx:i,cy:i,size:Cs,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:Cs,height:Cs},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(h,p){var y=h.formatter||c,v=yt(Im(Im({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",h.inactive));if(h.type==="none")return null;var x=xt(h.value)?null:h.value;di(!xt(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=h.inactive?u:h.color;return ce.createElement("li",Ew({className:v,style:f,key:"legend-item-".concat(p)},lu(n.props,h,p)),ce.createElement(yw,{width:o,height:o,viewBox:d,style:m},n.renderIcon(h)),ce.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},y?y(x,h,p):x))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return ce.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(L.PureComponent);Im(N5,"displayName","Legend");Im(N5,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var QG=Wy;function eY(){this.__data__=new QG,this.size=0}var tY=eY;function rY(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var nY=rY;function aY(e){return this.__data__.get(e)}var sY=aY;function iY(e){return this.__data__.has(e)}var oY=iY,lY=Wy,cY=c5,uY=u5,dY=200;function fY(e,t){var r=this.__data__;if(r instanceof lY){var n=r.__data__;if(!cY||n.length<dY-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new uY(n)}return r.set(e,t),this.size=r.size,this}var hY=fY,mY=Wy,pY=tY,gY=nY,xY=sY,yY=oY,vY=hY;function Of(e){var t=this.__data__=new mY(e);this.size=t.size}Of.prototype.clear=pY;Of.prototype.delete=gY;Of.prototype.get=xY;Of.prototype.has=yY;Of.prototype.set=vY;var AI=Of,bY="__lodash_hash_undefined__";function wY(e){return this.__data__.set(e,bY),this}var NY=wY;function jY(e){return this.__data__.has(e)}var SY=jY,AY=u5,_Y=NY,EY=SY;function yx(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new AY;++t<r;)this.add(e[t])}yx.prototype.add=yx.prototype.push=_Y;yx.prototype.has=EY;var _I=yx;function PY(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var EI=PY;function CY(e,t){return e.has(t)}var PI=CY,TY=_I,kY=EI,OY=PI,IY=1,LY=2;function RY(e,t,r,n,s,i){var o=r&IY,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,m=!0,h=r&LY?new TY:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var p=e[f],y=t[f];if(n)var v=o?n(y,p,f,t,e,i):n(p,y,f,e,t,i);if(v!==void 0){if(v)continue;m=!1;break}if(h){if(!kY(t,function(x,b){if(!OY(h,b)&&(p===x||s(p,x,r,n,i)))return h.push(b)})){m=!1;break}}else if(!(p===y||s(p,y,r,n,i))){m=!1;break}}return i.delete(e),i.delete(t),m}var CI=RY,MY=Gi,DY=MY.Uint8Array,$Y=DY;function FY(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var BY=FY;function UY(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var j5=UY,g3=Pp,x3=$Y,zY=l5,qY=CI,HY=BY,VY=j5,WY=1,GY=2,YY="[object Boolean]",KY="[object Date]",XY="[object Error]",JY="[object Map]",ZY="[object Number]",QY="[object RegExp]",eK="[object Set]",tK="[object String]",rK="[object Symbol]",nK="[object ArrayBuffer]",aK="[object DataView]",y3=g3?g3.prototype:void 0,nb=y3?y3.valueOf:void 0;function sK(e,t,r,n,s,i,o){switch(r){case aK:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case nK:return!(e.byteLength!=t.byteLength||!i(new x3(e),new x3(t)));case YY:case KY:case ZY:return zY(+e,+t);case XY:return e.name==t.name&&e.message==t.message;case QY:case tK:return e==t+"";case JY:var l=HY;case eK:var c=n&WY;if(l||(l=VY),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=GY,o.set(e,t);var d=qY(l(e),l(t),n,s,i,o);return o.delete(e),d;case rK:if(nb)return nb.call(e)==nb.call(t)}return!1}var iK=sK;function oK(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var TI=oK,lK=TI,cK=Ka;function uK(e,t,r){var n=t(e);return cK(e)?n:lK(n,r(e))}var dK=uK;function fK(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var hK=fK;function mK(){return[]}var pK=mK,gK=hK,xK=pK,yK=Object.prototype,vK=yK.propertyIsEnumerable,v3=Object.getOwnPropertySymbols,bK=v3?function(e){return e==null?[]:(e=Object(e),gK(v3(e),function(t){return vK.call(e,t)}))}:xK,wK=bK;function NK(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var jK=NK,SK=Go,AK=Yo,_K="[object Arguments]";function EK(e){return AK(e)&&SK(e)==_K}var PK=EK,b3=PK,CK=Yo,kI=Object.prototype,TK=kI.hasOwnProperty,kK=kI.propertyIsEnumerable,OK=b3(function(){return arguments}())?b3:function(e){return CK(e)&&TK.call(e,"callee")&&!kK.call(e,"callee")},S5=OK,vx={exports:{}};function IK(){return!1}var LK=IK;vx.exports;(function(e,t){var r=Gi,n=LK,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(vx,vx.exports);var OI=vx.exports,RK=9007199254740991,MK=/^(?:0|[1-9]\d*)$/;function DK(e,t){var r=typeof e;return t=t??RK,!!t&&(r=="number"||r!="symbol"&&MK.test(e))&&e>-1&&e%1==0&&e<t}var A5=DK,$K=9007199254740991;function FK(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=$K}var _5=FK,BK=Go,UK=_5,zK=Yo,qK="[object Arguments]",HK="[object Array]",VK="[object Boolean]",WK="[object Date]",GK="[object Error]",YK="[object Function]",KK="[object Map]",XK="[object Number]",JK="[object Object]",ZK="[object RegExp]",QK="[object Set]",eX="[object String]",tX="[object WeakMap]",rX="[object ArrayBuffer]",nX="[object DataView]",aX="[object Float32Array]",sX="[object Float64Array]",iX="[object Int8Array]",oX="[object Int16Array]",lX="[object Int32Array]",cX="[object Uint8Array]",uX="[object Uint8ClampedArray]",dX="[object Uint16Array]",fX="[object Uint32Array]",Er={};Er[aX]=Er[sX]=Er[iX]=Er[oX]=Er[lX]=Er[cX]=Er[uX]=Er[dX]=Er[fX]=!0;Er[qK]=Er[HK]=Er[rX]=Er[VK]=Er[nX]=Er[WK]=Er[GK]=Er[YK]=Er[KK]=Er[XK]=Er[JK]=Er[ZK]=Er[QK]=Er[eX]=Er[tX]=!1;function hX(e){return zK(e)&&UK(e.length)&&!!Er[BK(e)]}var mX=hX;function pX(e){return function(t){return e(t)}}var II=pX,bx={exports:{}};bx.exports;(function(e,t){var r=BO,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(bx,bx.exports);var gX=bx.exports,xX=mX,yX=II,w3=gX,N3=w3&&w3.isTypedArray,vX=N3?yX(N3):xX,LI=vX,bX=jK,wX=S5,NX=Ka,jX=OI,SX=A5,AX=LI,_X=Object.prototype,EX=_X.hasOwnProperty;function PX(e,t){var r=NX(e),n=!r&&wX(e),s=!r&&!n&&jX(e),i=!r&&!n&&!s&&AX(e),o=r||n||s||i,l=o?bX(e.length,String):[],c=l.length;for(var u in e)(t||EX.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||SX(u,c)))&&l.push(u);return l}var CX=PX,TX=Object.prototype;function kX(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||TX;return e===r}var OX=kX;function IX(e,t){return function(r){return e(t(r))}}var RI=IX,LX=RI,RX=LX(Object.keys,Object),MX=RX,DX=OX,$X=MX,FX=Object.prototype,BX=FX.hasOwnProperty;function UX(e){if(!DX(e))return $X(e);var t=[];for(var r in Object(e))BX.call(e,r)&&r!="constructor"&&t.push(r);return t}var zX=UX,qX=o5,HX=_5;function VX(e){return e!=null&&HX(e.length)&&!qX(e)}var Cp=VX,WX=CX,GX=zX,YX=Cp;function KX(e){return YX(e)?WX(e):GX(e)}var cv=KX,XX=dK,JX=wK,ZX=cv;function QX(e){return XX(e,ZX,JX)}var eJ=QX,j3=eJ,tJ=1,rJ=Object.prototype,nJ=rJ.hasOwnProperty;function aJ(e,t,r,n,s,i){var o=r&tJ,l=j3(e),c=l.length,u=j3(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var m=l[f];if(!(o?m in t:nJ.call(t,m)))return!1}var h=i.get(e),p=i.get(t);if(h&&p)return h==t&&p==e;var y=!0;i.set(e,t),i.set(t,e);for(var v=o;++f<c;){m=l[f];var x=e[m],b=t[m];if(n)var N=o?n(b,x,m,t,e,i):n(x,b,m,e,t,i);if(!(N===void 0?x===b||s(x,b,r,n,i):N)){y=!1;break}v||(v=m=="constructor")}if(y&&!v){var w=e.constructor,S=t.constructor;w!=S&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof S=="function"&&S instanceof S)&&(y=!1)}return i.delete(e),i.delete(t),y}var sJ=aJ,iJ=vu,oJ=Gi,lJ=iJ(oJ,"DataView"),cJ=lJ,uJ=vu,dJ=Gi,fJ=uJ(dJ,"Promise"),hJ=fJ,mJ=vu,pJ=Gi,gJ=mJ(pJ,"Set"),MI=gJ,xJ=vu,yJ=Gi,vJ=xJ(yJ,"WeakMap"),bJ=vJ,Cw=cJ,Tw=c5,kw=hJ,Ow=MI,Iw=bJ,DI=Go,If=zO,S3="[object Map]",wJ="[object Object]",A3="[object Promise]",_3="[object Set]",E3="[object WeakMap]",P3="[object DataView]",NJ=If(Cw),jJ=If(Tw),SJ=If(kw),AJ=If(Ow),_J=If(Iw),Ec=DI;(Cw&&Ec(new Cw(new ArrayBuffer(1)))!=P3||Tw&&Ec(new Tw)!=S3||kw&&Ec(kw.resolve())!=A3||Ow&&Ec(new Ow)!=_3||Iw&&Ec(new Iw)!=E3)&&(Ec=function(e){var t=DI(e),r=t==wJ?e.constructor:void 0,n=r?If(r):"";if(n)switch(n){case NJ:return P3;case jJ:return S3;case SJ:return A3;case AJ:return _3;case _J:return E3}return t});var EJ=Ec,ab=AI,PJ=CI,CJ=iK,TJ=sJ,C3=EJ,T3=Ka,k3=OI,kJ=LI,OJ=1,O3="[object Arguments]",I3="[object Array]",H0="[object Object]",IJ=Object.prototype,L3=IJ.hasOwnProperty;function LJ(e,t,r,n,s,i){var o=T3(e),l=T3(t),c=o?I3:C3(e),u=l?I3:C3(t);c=c==O3?H0:c,u=u==O3?H0:u;var d=c==H0,f=u==H0,m=c==u;if(m&&k3(e)){if(!k3(t))return!1;o=!0,d=!1}if(m&&!d)return i||(i=new ab),o||kJ(e)?PJ(e,t,r,n,s,i):CJ(e,t,c,r,n,s,i);if(!(r&OJ)){var h=d&&L3.call(e,"__wrapped__"),p=f&&L3.call(t,"__wrapped__");if(h||p){var y=h?e.value():e,v=p?t.value():t;return i||(i=new ab),s(y,v,r,n,i)}}return m?(i||(i=new ab),TJ(e,t,r,n,s,i)):!1}var RJ=LJ,MJ=RJ,R3=Yo;function $I(e,t,r,n,s){return e===t?!0:e==null||t==null||!R3(e)&&!R3(t)?e!==e&&t!==t:MJ(e,t,r,n,$I,s)}var E5=$I,DJ=AI,$J=E5,FJ=1,BJ=2;function UJ(e,t,r,n){var s=r.length,i=s,o=!n;if(e==null)return!i;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=r[s];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new DJ;if(n)var m=n(u,d,c,e,t,f);if(!(m===void 0?$J(d,u,FJ|BJ,n,f):m))return!1}}return!0}var zJ=UJ,qJ=Zl;function HJ(e){return e===e&&!qJ(e)}var FI=HJ,VJ=FI,WJ=cv;function GJ(e){for(var t=WJ(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,VJ(s)]}return t}var YJ=GJ;function KJ(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var BI=KJ,XJ=zJ,JJ=YJ,ZJ=BI;function QJ(e){var t=JJ(e);return t.length==1&&t[0][2]?ZJ(t[0][0],t[0][1]):function(r){return r===e||XJ(r,e,t)}}var eZ=QJ;function tZ(e,t){return e!=null&&t in Object(e)}var rZ=tZ,nZ=GO,aZ=S5,sZ=Ka,iZ=A5,oZ=_5,lZ=Yy;function cZ(e,t,r){t=nZ(t,e);for(var n=-1,s=t.length,i=!1;++n<s;){var o=lZ(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=s?i:(s=e==null?0:e.length,!!s&&oZ(s)&&iZ(o,s)&&(sZ(e)||aZ(e)))}var uZ=cZ,dZ=rZ,fZ=uZ;function hZ(e,t){return e!=null&&fZ(e,t,dZ)}var mZ=hZ,pZ=E5,gZ=YO,xZ=mZ,yZ=i5,vZ=FI,bZ=BI,wZ=Yy,NZ=1,jZ=2;function SZ(e,t){return yZ(e)&&vZ(t)?bZ(wZ(e),t):function(r){var n=gZ(r,e);return n===void 0&&n===t?xZ(r,e):pZ(t,n,NZ|jZ)}}var AZ=SZ;function _Z(e){return e}var Lf=_Z;function EZ(e){return function(t){return t==null?void 0:t[e]}}var PZ=EZ,CZ=h5;function TZ(e){return function(t){return CZ(t,e)}}var kZ=TZ,OZ=PZ,IZ=kZ,LZ=i5,RZ=Yy;function MZ(e){return LZ(e)?OZ(RZ(e)):IZ(e)}var DZ=MZ,$Z=eZ,FZ=AZ,BZ=Lf,UZ=Ka,zZ=DZ;function qZ(e){return typeof e=="function"?e:e==null?BZ:typeof e=="object"?UZ(e)?FZ(e[0],e[1]):$Z(e):zZ(e)}var Yi=qZ;function HZ(e,t,r,n){for(var s=e.length,i=r+(n?1:-1);n?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var UI=HZ;function VZ(e){return e!==e}var WZ=VZ;function GZ(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var YZ=GZ,KZ=UI,XZ=WZ,JZ=YZ;function ZZ(e,t,r){return t===t?JZ(e,t,r):KZ(e,XZ,r)}var QZ=ZZ,eQ=QZ;function tQ(e,t){var r=e==null?0:e.length;return!!r&&eQ(e,t,0)>-1}var rQ=tQ;function nQ(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var aQ=nQ;function sQ(){}var iQ=sQ,sb=MI,oQ=iQ,lQ=j5,cQ=1/0,uQ=sb&&1/lQ(new sb([,-0]))[1]==cQ?function(e){return new sb(e)}:oQ,dQ=uQ,fQ=_I,hQ=rQ,mQ=aQ,pQ=PI,gQ=dQ,xQ=j5,yQ=200;function vQ(e,t,r){var n=-1,s=hQ,i=e.length,o=!0,l=[],c=l;if(r)o=!1,s=mQ;else if(i>=yQ){var u=t?null:gQ(e);if(u)return xQ(u);o=!1,s=pQ,c=new fQ}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var m=c.length;m--;)if(c[m]===f)continue e;t&&c.push(f),l.push(d)}else s(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var bQ=vQ,wQ=Yi,NQ=bQ;function jQ(e,t){return e&&e.length?NQ(e,wQ(t)):[]}var SQ=jQ;const M3=or(SQ);function zI(e,t,r){return t===!0?M3(e,r):xt(t)?M3(e,t):e}function Wd(e){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wd(e)}var AQ=["ref"];function D3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D3(Object(r),!0).forEach(function(n){uv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HI(n.key),n)}}function EQ(e,t,r){return t&&$3(e.prototype,t),r&&$3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function PQ(e,t,r){return t=wx(t),CQ(e,qI()?Reflect.construct(t,r||[],wx(e).constructor):t.apply(e,r))}function CQ(e,t){if(t&&(Wd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TQ(e)}function TQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qI=function(){return!!e})()}function wx(e){return wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wx(e)}function kQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lw(e,t)}function Lw(e,t){return Lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Lw(e,t)}function uv(e,t,r){return t=HI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HI(e){var t=OQ(e,"string");return Wd(t)=="symbol"?t:t+""}function OQ(e,t){if(Wd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function IQ(e,t){if(e==null)return{};var r=LQ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function RQ(e){return e.value}function MQ(e,t){if(ce.isValidElement(e))return ce.cloneElement(e,t);if(typeof e=="function")return ce.createElement(e,t);t.ref;var r=IQ(t,AQ);return ce.createElement(N5,r)}var F3=1,_d=function(e){function t(){var r;_Q(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=PQ(this,t,[].concat(s)),uv(r,"lastBoundingBox",{width:-1,height:-1}),r}return kQ(t,e),EQ(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>F3||Math.abs(s.height-this.lastBoundingBox.height)>F3)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?fo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var p=this.getBBoxSnapshot();m={top:((d||0)-p.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return fo(fo({},f),m)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=fo(fo({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ce.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},MQ(i,fo(fo({},this.props),{},{payload:zI(d,u,RQ)})))}}],[{key:"getWithHeight",value:function(n,s){var i=fo(fo({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&He(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(L.PureComponent);uv(_d,"displayName","Legend");uv(_d,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var B3=Pp,DQ=S5,$Q=Ka,U3=B3?B3.isConcatSpreadable:void 0;function FQ(e){return $Q(e)||DQ(e)||!!(U3&&e&&e[U3])}var BQ=FQ,UQ=TI,zQ=BQ;function VI(e,t,r,n,s){var i=-1,o=e.length;for(r||(r=zQ),s||(s=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?VI(l,t-1,r,n,s):UQ(s,l):n||(s[s.length]=l)}return s}var WI=VI;function qQ(e){return function(t,r,n){for(var s=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++s];if(r(i[c],c,i)===!1)break}return t}}var HQ=qQ,VQ=HQ,WQ=VQ(),GQ=WQ,YQ=GQ,KQ=cv;function XQ(e,t){return e&&YQ(e,t,KQ)}var GI=XQ,JQ=Cp;function ZQ(e,t){return function(r,n){if(r==null)return r;if(!JQ(r))return e(r,n);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&n(o[i],i,o)!==!1;);return r}}var QQ=ZQ,eee=GI,tee=QQ,ree=tee(eee),P5=ree,nee=P5,aee=Cp;function see(e,t){var r=-1,n=aee(e)?Array(e.length):[];return nee(e,function(s,i,o){n[++r]=t(s,i,o)}),n}var YI=see;function iee(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var oee=iee,z3=_f;function lee(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,i=z3(e),o=t!==void 0,l=t===null,c=t===t,u=z3(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!i&&!u&&e<t||u&&r&&s&&!n&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}var cee=lee,uee=cee;function dee(e,t,r){for(var n=-1,s=e.criteria,i=t.criteria,o=s.length,l=r.length;++n<o;){var c=uee(s[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var fee=dee,ib=f5,hee=h5,mee=Yi,pee=YI,gee=oee,xee=II,yee=fee,vee=Lf,bee=Ka;function wee(e,t,r){t.length?t=ib(t,function(i){return bee(i)?function(o){return hee(o,i.length===1?i[0]:i)}:i}):t=[vee];var n=-1;t=ib(t,xee(mee));var s=pee(e,function(i,o,l){var c=ib(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return gee(s,function(i,o){return yee(i,o,r)})}var Nee=wee;function jee(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var See=jee,Aee=See,q3=Math.max;function _ee(e,t,r){return t=q3(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=q3(n.length-t,0),o=Array(i);++s<i;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(o),Aee(e,this,l)}}var Eee=_ee;function Pee(e){return function(){return e}}var Cee=Pee,Tee=vu,kee=function(){try{var e=Tee(Object,"defineProperty");return e({},"",{}),e}catch{}}(),KI=kee,Oee=Cee,H3=KI,Iee=Lf,Lee=H3?function(e,t){return H3(e,"toString",{configurable:!0,enumerable:!1,value:Oee(t),writable:!0})}:Iee,Ree=Lee,Mee=800,Dee=16,$ee=Date.now;function Fee(e){var t=0,r=0;return function(){var n=$ee(),s=Dee-(n-r);if(r=n,s>0){if(++t>=Mee)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Bee=Fee,Uee=Ree,zee=Bee,qee=zee(Uee),Hee=qee,Vee=Lf,Wee=Eee,Gee=Hee;function Yee(e,t){return Gee(Wee(e,t,Vee),e+"")}var Kee=Yee,Xee=l5,Jee=Cp,Zee=A5,Qee=Zl;function ete(e,t,r){if(!Qee(r))return!1;var n=typeof t;return(n=="number"?Jee(r)&&Zee(t,r.length):n=="string"&&t in r)?Xee(r[t],e):!1}var dv=ete,tte=WI,rte=Nee,nte=Kee,V3=dv,ate=nte(function(e,t){if(e==null)return[];var r=t.length;return r>1&&V3(e,t[0],t[1])?t=[]:r>2&&V3(t[0],t[1],t[2])&&(t=[t[0]]),rte(e,tte(t,1),[])}),ste=ate;const C5=or(ste);function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function Rw(){return Rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rw.apply(this,arguments)}function ite(e,t){return ute(e)||cte(e,t)||lte(e,t)||ote()}function ote(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lte(e,t){if(e){if(typeof e=="string")return W3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W3(e,t)}}function W3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cte(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function ute(e){if(Array.isArray(e))return e}function G3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ob(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G3(Object(r),!0).forEach(function(n){dte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dte(e,t,r){return t=fte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fte(e){var t=hte(e,"string");return Lm(t)=="symbol"?t:t+""}function hte(e,t){if(Lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mte(e){return Array.isArray(e)&&En(e[0])&&En(e[1])?e.join(" ~ "):e}var pte=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,m=t.itemSorter,h=t.wrapperClassName,p=t.labelClassName,y=t.label,v=t.labelFormatter,x=t.accessibilityLayer,b=x===void 0?!1:x,N=function(){if(d&&d.length){var I={padding:0,margin:0},$=(m?C5(d,m):d).map(function(E,M){if(E.type==="none")return null;var z=ob({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},l),Z=E.formatter||f||mte,R=E.value,U=E.name,re=R,de=U;if(Z&&re!=null&&de!=null){var B=Z(R,U,E,M,d);if(Array.isArray(B)){var G=ite(B,2);re=G[0],de=G[1]}else re=B}return ce.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:z},En(de)?ce.createElement("span",{className:"recharts-tooltip-item-name"},de):null,En(de)?ce.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ce.createElement("span",{className:"recharts-tooltip-item-value"},re),ce.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return ce.createElement("ul",{className:"recharts-tooltip-item-list",style:I},$)}return null},w=ob({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),S=ob({margin:0},u),_=!jt(y),T=_?y:"",k=yt("recharts-default-tooltip",h),P=yt("recharts-tooltip-label",p);_&&v&&d!==void 0&&d!==null&&(T=v(y,d));var D=b?{role:"status","aria-live":"assertive"}:{};return ce.createElement("div",Rw({className:k,style:w},D),ce.createElement("p",{className:P,style:S},ce.isValidElement(T)?T:"".concat(T)),N())};function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function V0(e,t,r){return t=gte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gte(e){var t=xte(e,"string");return Rm(t)=="symbol"?t:t+""}function xte(e,t){if(Rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ah="recharts-tooltip-wrapper",yte={visibility:"hidden"};function vte(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return yt(Ah,V0(V0(V0(V0({},"".concat(Ah,"-right"),He(r)&&t&&He(t.x)&&r>=t.x),"".concat(Ah,"-left"),He(r)&&t&&He(t.x)&&r<t.x),"".concat(Ah,"-bottom"),He(n)&&t&&He(t.y)&&n>=t.y),"".concat(Ah,"-top"),He(n)&&t&&He(t.y)&&n<t.y))}function Y3(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&He(i[n]))return i[n];var d=r[n]-l-s,f=r[n]+s;if(t[n])return o[n]?d:f;if(o[n]){var m=d,h=c[n];return m<h?Math.max(f,c[n]):Math.max(d,c[n])}var p=f+l,y=c[n]+u;return p>y?Math.max(d,c[n]):Math.max(f,c[n])}function bte(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function wte(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=Y3({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=Y3({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=bte({translateX:d,translateY:f,useTranslate3d:l})):u=yte,{cssProperties:u,cssClasses:vte({translateX:d,translateY:f,coordinate:r})}}function Gd(e){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gd(e)}function K3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function X3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K3(Object(r),!0).forEach(function(n){Dw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JI(n.key),n)}}function Ste(e,t,r){return t&&jte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ate(e,t,r){return t=Nx(t),_te(e,XI()?Reflect.construct(t,r||[],Nx(e).constructor):t.apply(e,r))}function _te(e,t){if(t&&(Gd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ete(e)}function Ete(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XI=function(){return!!e})()}function Nx(e){return Nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nx(e)}function Pte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mw(e,t)}function Mw(e,t){return Mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Mw(e,t)}function Dw(e,t,r){return t=JI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JI(e){var t=Cte(e,"string");return Gd(t)=="symbol"?t:t+""}function Cte(e,t){if(Gd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var J3=1,Tte=function(e){function t(){var r;Nte(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Ate(this,t,[].concat(s)),Dw(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Dw(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Pte(t,e),Ste(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>J3||Math.abs(n.height-this.state.lastBoundingBox.height)>J3)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,m=s.isAnimationActive,h=s.offset,p=s.position,y=s.reverseDirection,v=s.useTranslate3d,x=s.viewBox,b=s.wrapperStyle,N=wte({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:h,position:p,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),w=N.cssClasses,S=N.cssProperties,_=X3(X3({transition:m&&i?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return ce.createElement("div",{tabIndex:-1,className:w,style:_,ref:function(k){n.wrapperNode=k}},u)}}])}(L.PureComponent),kte=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ql={isSsr:kte()};function Yd(e){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yd(e)}function Z3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Q3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z3(Object(r),!0).forEach(function(n){T5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ote(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ite(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QI(n.key),n)}}function Lte(e,t,r){return t&&Ite(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rte(e,t,r){return t=jx(t),Mte(e,ZI()?Reflect.construct(t,r||[],jx(e).constructor):t.apply(e,r))}function Mte(e,t){if(t&&(Yd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dte(e)}function Dte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZI=function(){return!!e})()}function jx(e){return jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jx(e)}function $te(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$w(e,t)}function $w(e,t){return $w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},$w(e,t)}function T5(e,t,r){return t=QI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QI(e){var t=Fte(e,"string");return Yd(t)=="symbol"?t:t+""}function Fte(e,t){if(Yd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Bte(e){return e.dataKey}function Ute(e,t){return ce.isValidElement(e)?ce.cloneElement(e,t):typeof e=="function"?ce.createElement(e,t):ce.createElement(pte,t)}var Fa=function(e){function t(){return Ote(this,t),Rte(this,t,arguments)}return $te(t,e),Lte(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,m=s.isAnimationActive,h=s.offset,p=s.payload,y=s.payloadUniqBy,v=s.position,x=s.reverseDirection,b=s.useTranslate3d,N=s.viewBox,w=s.wrapperStyle,S=p??[];f&&S.length&&(S=zI(p.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),y,Bte));var _=S.length>0;return ce.createElement(Tte,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:i,coordinate:d,hasPayload:_,offset:h,position:v,reverseDirection:x,useTranslate3d:b,viewBox:N,wrapperStyle:w},Ute(u,Q3(Q3({},this.props),{},{payload:S})))}}])}(L.PureComponent);T5(Fa,"displayName","Tooltip");T5(Fa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ql.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var zte=Gi,qte=function(){return zte.Date.now()},Hte=qte,Vte=/\s/;function Wte(e){for(var t=e.length;t--&&Vte.test(e.charAt(t)););return t}var Gte=Wte,Yte=Gte,Kte=/^\s+/;function Xte(e){return e&&e.slice(0,Yte(e)+1).replace(Kte,"")}var Jte=Xte,Zte=Jte,e_=Zl,Qte=_f,t_=NaN,ere=/^[-+]0x[0-9a-f]+$/i,tre=/^0b[01]+$/i,rre=/^0o[0-7]+$/i,nre=parseInt;function are(e){if(typeof e=="number")return e;if(Qte(e))return t_;if(e_(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=e_(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Zte(e);var r=tre.test(e);return r||rre.test(e)?nre(e.slice(2),r?2:8):ere.test(e)?t_:+e}var eL=are,sre=Zl,lb=Hte,r_=eL,ire="Expected a function",ore=Math.max,lre=Math.min;function cre(e,t,r){var n,s,i,o,l,c,u=0,d=!1,f=!1,m=!0;if(typeof e!="function")throw new TypeError(ire);t=r_(t)||0,sre(r)&&(d=!!r.leading,f="maxWait"in r,i=f?ore(r_(r.maxWait)||0,t):i,m="trailing"in r?!!r.trailing:m);function h(_){var T=n,k=s;return n=s=void 0,u=_,o=e.apply(k,T),o}function p(_){return u=_,l=setTimeout(x,t),d?h(_):o}function y(_){var T=_-c,k=_-u,P=t-T;return f?lre(P,i-k):P}function v(_){var T=_-c,k=_-u;return c===void 0||T>=t||T<0||f&&k>=i}function x(){var _=lb();if(v(_))return b(_);l=setTimeout(x,y(_))}function b(_){return l=void 0,m&&n?h(_):(n=s=void 0,o)}function N(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function w(){return l===void 0?o:b(lb())}function S(){var _=lb(),T=v(_);if(n=arguments,s=this,c=_,T){if(l===void 0)return p(c);if(f)return clearTimeout(l),l=setTimeout(x,t),h(c)}return l===void 0&&(l=setTimeout(x,t)),o}return S.cancel=N,S.flush=w,S}var ure=cre,dre=ure,fre=Zl,hre="Expected a function";function mre(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(hre);return fre(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),dre(e,t,{leading:n,maxWait:t,trailing:s})}var pre=mre;const tL=or(pre);function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}function n_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function W0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n_(Object(r),!0).forEach(function(n){gre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gre(e,t,r){return t=xre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xre(e){var t=yre(e,"string");return Mm(t)=="symbol"?t:t+""}function yre(e,t){if(Mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vre(e,t){return jre(e)||Nre(e,t)||wre(e,t)||bre()}function bre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wre(e,t){if(e){if(typeof e=="string")return a_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a_(e,t)}}function a_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function jre(e){if(Array.isArray(e))return e}var zh=L.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,m=e.maxHeight,h=e.children,p=e.debounce,y=p===void 0?0:p,v=e.id,x=e.className,b=e.onResize,N=e.style,w=N===void 0?{}:N,S=L.useRef(null),_=L.useRef();_.current=b,L.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var T=L.useState({containerWidth:s.width,containerHeight:s.height}),k=vre(T,2),P=k[0],D=k[1],A=L.useCallback(function($,E){D(function(M){var z=Math.round($),Z=Math.round(E);return M.containerWidth===z&&M.containerHeight===Z?M:{containerWidth:z,containerHeight:Z}})},[]);L.useEffect(function(){var $=function(U){var re,de=U[0].contentRect,B=de.width,G=de.height;A(B,G),(re=_.current)===null||re===void 0||re.call(_,B,G)};y>0&&($=tL($,y,{trailing:!0,leading:!1}));var E=new ResizeObserver($),M=S.current.getBoundingClientRect(),z=M.width,Z=M.height;return A(z,Z),E.observe(S.current),function(){E.disconnect()}},[A,y]);var I=L.useMemo(function(){var $=P.containerWidth,E=P.containerHeight;if($<0||E<0)return null;di($c(o)||$c(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),di(!r||r>0,"The aspect(%s) must be greater than zero.",r);var M=$c(o)?$:o,z=$c(c)?E:c;r&&r>0&&(M?z=M/r:z&&(M=z*r),m&&z>m&&(z=m)),di(M>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,z,o,c,d,f,r);var Z=!Array.isArray(h)&&ko(h.type).endsWith("Chart");return ce.Children.map(h,function(R){return ce.isValidElement(R)?L.cloneElement(R,W0({width:M,height:z},Z?{style:W0({height:"100%",width:"100%",maxHeight:z,maxWidth:M},R.props.style)}:{})):R})},[r,h,c,m,f,d,P,o]);return ce.createElement("div",{id:v?"".concat(v):void 0,className:yt("recharts-responsive-container",x),style:W0(W0({},w),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:S},I)}),fv=function(t){return null};fv.displayName="Cell";function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}function s_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s_(Object(r),!0).forEach(function(n){Sre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sre(e,t,r){return t=Are(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Are(e){var t=_re(e,"string");return Dm(t)=="symbol"?t:t+""}function _re(e,t){if(Dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zu={widthCache:{},cacheCount:0},Ere=2e3,Pre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},i_="recharts_measurement_span";function Cre(e){var t=Fw({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var em=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ql.isSsr)return{width:0,height:0};var n=Cre(r),s=JSON.stringify({text:t,copyStyle:n});if(zu.widthCache[s])return zu.widthCache[s];try{var i=document.getElementById(i_);i||(i=document.createElement("span"),i.setAttribute("id",i_),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=Fw(Fw({},Pre),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return zu.widthCache[s]=c,++zu.cacheCount>Ere&&(zu.cacheCount=0,zu.widthCache={}),c}catch{return{width:0,height:0}}},Tre=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}function Sx(e,t){return Lre(e)||Ire(e,t)||Ore(e,t)||kre()}function kre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ore(e,t){if(e){if(typeof e=="string")return o_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o_(e,t)}}function o_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ire(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Lre(e){if(Array.isArray(e))return e}function Rre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dre(n.key),n)}}function Mre(e,t,r){return t&&l_(e.prototype,t),r&&l_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dre(e){var t=$re(e,"string");return $m(t)=="symbol"?t:t+""}function $re(e,t){if($m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var c_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,u_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Fre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Bre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,rL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ure=Object.keys(rL),hd="NaN";function zre(e,t){return e*rL[t]}var G0=function(){function e(t,r){Rre(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Fre.test(r)&&(this.num=NaN,this.unit=""),Ure.includes(r)&&(this.num=zre(t,r),this.unit="px")}return Mre(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=Bre.exec(r))!==null&&n!==void 0?n:[],i=Sx(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function nL(e){if(e.includes(hd))return hd;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=c_.exec(t))!==null&&r!==void 0?r:[],s=Sx(n,4),i=s[1],o=s[2],l=s[3],c=G0.parse(i??""),u=G0.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return hd;t=t.replace(c_,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,m=(f=u_.exec(t))!==null&&f!==void 0?f:[],h=Sx(m,4),p=h[1],y=h[2],v=h[3],x=G0.parse(p??""),b=G0.parse(v??""),N=y==="+"?x.add(b):x.subtract(b);if(N.isNaN())return hd;t=t.replace(u_,N.toString())}return t}var d_=/\(([^()]*)\)/;function qre(e){for(var t=e;t.includes("(");){var r=d_.exec(t),n=Sx(r,2),s=n[1];t=t.replace(d_,nL(s))}return t}function Hre(e){var t=e.replace(/\s+/g,"");return t=qre(t),t=nL(t),t}function Vre(e){try{return Hre(e)}catch{return hd}}function cb(e){var t=Vre(e.slice(5,-1));return t===hd?"":t}var Wre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Gre=["dx","dy","angle","className","breakAll"];function Bw(){return Bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bw.apply(this,arguments)}function f_(e,t){if(e==null)return{};var r=Yre(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function h_(e,t){return Zre(e)||Jre(e,t)||Xre(e,t)||Kre()}function Kre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xre(e,t){if(e){if(typeof e=="string")return m_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m_(e,t)}}function m_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Zre(e){if(Array.isArray(e))return e}var aL=/[ \f\n\r\t\v\u2028\u2029]+/,sL=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];jt(r)||(n?i=r.toString().split(""):i=r.toString().split(aL));var o=i.map(function(c){return{word:c,width:em(c,s).width}}),l=n?0:em("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Qre=function(t,r,n,s,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=He(o),f=l,m=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function(z,Z){var R=Z.word,U=Z.width,re=z[z.length-1];if(re&&(s==null||i||re.width+U+n<Number(s)))re.words.push(R),re.width+=U+n;else{var de={words:[R],width:U};z.push(de)}return z},[])},h=m(r),p=function(M){return M.reduce(function(z,Z){return z.width>Z.width?z:Z})};if(!d)return h;for(var y="",v=function(M){var z=f.slice(0,M),Z=sL({breakAll:u,style:c,children:z+y}).wordsWithComputedWidth,R=m(Z),U=R.length>o||p(R).width>Number(s);return[U,R]},x=0,b=f.length-1,N=0,w;x<=b&&N<=f.length-1;){var S=Math.floor((x+b)/2),_=S-1,T=v(_),k=h_(T,2),P=k[0],D=k[1],A=v(S),I=h_(A,1),$=I[0];if(!P&&!$&&(x=S+1),P&&$&&(b=S-1),!P&&$){w=D;break}N++}return w||h},p_=function(t){var r=jt(t)?[]:t.toString().split(aL);return[{words:r}]},ene=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Ql.isSsr){var c,u,d=sL({breakAll:o,children:s,style:i});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return p_(s);return Qre({breakAll:o,children:s,maxLines:l,style:i},c,u,r,n)}return p_(s)},g_="#808080",cu=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,m=t.textAnchor,h=m===void 0?"start":m,p=t.verticalAnchor,y=p===void 0?"end":p,v=t.fill,x=v===void 0?g_:v,b=f_(t,Wre),N=L.useMemo(function(){return ene({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),w=b.dx,S=b.dy,_=b.angle,T=b.className,k=b.breakAll,P=f_(b,Gre);if(!En(n)||!En(i))return null;var D=n+(He(w)?w:0),A=i+(He(S)?S:0),I;switch(y){case"start":I=cb("calc(".concat(u,")"));break;case"middle":I=cb("calc(".concat((N.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:I=cb("calc(".concat(N.length-1," * -").concat(l,")"));break}var $=[];if(f){var E=N[0].width,M=b.width;$.push("scale(".concat((He(M)?M/E:1)/E,")"))}return _&&$.push("rotate(".concat(_,", ").concat(D,", ").concat(A,")")),$.length&&(P.transform=$.join(" ")),ce.createElement("text",Bw({},ut(P,!0),{x:D,y:A,className:yt("recharts-text",T),textAnchor:h,fill:x.includes("url")?g_:x}),N.map(function(z,Z){var R=z.words.join(k?"":" ");return ce.createElement("tspan",{x:D,dy:Z===0?I:l,key:"".concat(R,"-").concat(Z)},R)}))};function zl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function tne(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function k5(e){let t,r,n;e.length!==2?(t=zl,r=(l,c)=>zl(e(l),c),n=(l,c)=>e(l)-c):(t=e===zl||e===tne?e:rne,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:o,right:i}}function rne(){return 0}function iL(e){return e===null?NaN:+e}function*nne(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const ane=k5(zl),Tp=ane.right;k5(iL).center;class x_ extends Map{constructor(t,r=one){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(y_(this,t))}has(t){return super.has(y_(this,t))}set(t,r){return super.set(sne(this,t),r)}delete(t){return super.delete(ine(this,t))}}function y_({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function sne({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function ine({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function one(e){return e!==null&&typeof e=="object"?e.valueOf():e}function lne(e=zl){if(e===zl)return oL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function oL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const cne=Math.sqrt(50),une=Math.sqrt(10),dne=Math.sqrt(2);function Ax(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=cne?10:i>=une?5:i>=dne?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Ax(e,t,r*2):[l,c,u]}function Uw(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?Ax(t,e,r):Ax(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function zw(e,t,r){return t=+t,e=+e,r=+r,Ax(e,t,r)[2]}function qw(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?zw(t,e,r):zw(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function v_(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function b_(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function lL(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?oL:lne(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(t-u*f/c+m)),p=Math.min(n,Math.floor(t+(c-u)*f/c+m));lL(e,t,h,p,s)}const i=e[t];let o=r,l=n;for(_h(e,r,t),s(e[n],i)>0&&_h(e,r,n);o<l;){for(_h(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?_h(e,r,l):(++l,_h(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function _h(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function fne(e,t,r){if(e=Float64Array.from(nne(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return b_(e);if(t>=1)return v_(e);var n,s=(n-1)*t,i=Math.floor(s),o=v_(lL(e,i).subarray(0,i+1)),l=b_(e.subarray(i+1));return o+(l-o)*(s-i)}}function hne(e,t,r=iL){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function mne(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function zs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ko(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Hw=Symbol("implicit");function O5(){var e=new x_,t=[],r=[],n=Hw;function s(i){let o=e.get(i);if(o===void 0){if(n!==Hw)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new x_;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return O5(t,r).unknown(n)},zs.apply(s,arguments),s}function Fm(){var e=O5().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var m=t().length,h=s<n,p=h?s:n,y=h?n:s;i=(y-p)/Math.max(1,m-c+u*2),l&&(i=Math.floor(i)),p+=(y-p-i*(m-c))*d,o=i*(1-c),l&&(p=Math.round(p),o=Math.round(o));var v=mne(m).map(function(x){return p+i*x});return r(h?v.reverse():v)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([n,s]=m,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(m){return[n,s]=m,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(m){return arguments.length?(l=!!m,f()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},e.copy=function(){return Fm(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},zs.apply(f(),arguments)}function cL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return cL(t())},e}function tm(){return cL(Fm.apply(null,arguments).paddingInner(1))}function I5(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function uL(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function kp(){}var Bm=.7,_x=1/Bm,Ed="\\s*([+-]?\\d+)\\s*",Um="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pne=/^#([0-9a-f]{3,8})$/,gne=new RegExp(`^rgb\\(${Ed},${Ed},${Ed}\\)$`),xne=new RegExp(`^rgb\\(${qi},${qi},${qi}\\)$`),yne=new RegExp(`^rgba\\(${Ed},${Ed},${Ed},${Um}\\)$`),vne=new RegExp(`^rgba\\(${qi},${qi},${qi},${Um}\\)$`),bne=new RegExp(`^hsl\\(${Um},${qi},${qi}\\)$`),wne=new RegExp(`^hsla\\(${Um},${qi},${qi},${Um}\\)$`),w_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};I5(kp,zm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:N_,formatHex:N_,formatHex8:Nne,formatHsl:jne,formatRgb:j_,toString:j_});function N_(){return this.rgb().formatHex()}function Nne(){return this.rgb().formatHex8()}function jne(){return dL(this).formatHsl()}function j_(){return this.rgb().formatRgb()}function zm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=pne.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?S_(t):r===3?new qa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Y0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Y0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=gne.exec(e))?new qa(t[1],t[2],t[3],1):(t=xne.exec(e))?new qa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=yne.exec(e))?Y0(t[1],t[2],t[3],t[4]):(t=vne.exec(e))?Y0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=bne.exec(e))?E_(t[1],t[2]/100,t[3]/100,1):(t=wne.exec(e))?E_(t[1],t[2]/100,t[3]/100,t[4]):w_.hasOwnProperty(e)?S_(w_[e]):e==="transparent"?new qa(NaN,NaN,NaN,0):null}function S_(e){return new qa(e>>16&255,e>>8&255,e&255,1)}function Y0(e,t,r,n){return n<=0&&(e=t=r=NaN),new qa(e,t,r,n)}function Sne(e){return e instanceof kp||(e=zm(e)),e?(e=e.rgb(),new qa(e.r,e.g,e.b,e.opacity)):new qa}function Vw(e,t,r,n){return arguments.length===1?Sne(e):new qa(e,t,r,n??1)}function qa(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}I5(qa,Vw,uL(kp,{brighter(e){return e=e==null?_x:Math.pow(_x,e),new qa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Bm:Math.pow(Bm,e),new qa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qa(Yc(this.r),Yc(this.g),Yc(this.b),Ex(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:A_,formatHex:A_,formatHex8:Ane,formatRgb:__,toString:__}));function A_(){return`#${Fc(this.r)}${Fc(this.g)}${Fc(this.b)}`}function Ane(){return`#${Fc(this.r)}${Fc(this.g)}${Fc(this.b)}${Fc((isNaN(this.opacity)?1:this.opacity)*255)}`}function __(){const e=Ex(this.opacity);return`${e===1?"rgb(":"rgba("}${Yc(this.r)}, ${Yc(this.g)}, ${Yc(this.b)}${e===1?")":`, ${e})`}`}function Ex(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Yc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Fc(e){return e=Yc(e),(e<16?"0":"")+e.toString(16)}function E_(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new oi(e,t,r,n)}function dL(e){if(e instanceof oi)return new oi(e.h,e.s,e.l,e.opacity);if(e instanceof kp||(e=zm(e)),!e)return new oi;if(e instanceof oi)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new oi(o,l,c,e.opacity)}function _ne(e,t,r,n){return arguments.length===1?dL(e):new oi(e,t,r,n??1)}function oi(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}I5(oi,_ne,uL(kp,{brighter(e){return e=e==null?_x:Math.pow(_x,e),new oi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Bm:Math.pow(Bm,e),new oi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new qa(ub(e>=240?e-240:e+120,s,n),ub(e,s,n),ub(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new oi(P_(this.h),K0(this.s),K0(this.l),Ex(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ex(this.opacity);return`${e===1?"hsl(":"hsla("}${P_(this.h)}, ${K0(this.s)*100}%, ${K0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function P_(e){return e=(e||0)%360,e<0?e+360:e}function K0(e){return Math.max(0,Math.min(1,e||0))}function ub(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const L5=e=>()=>e;function Ene(e,t){return function(r){return e+r*t}}function Pne(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Cne(e){return(e=+e)==1?fL:function(t,r){return r-t?Pne(t,r,e):L5(isNaN(t)?r:t)}}function fL(e,t){var r=t-e;return r?Ene(e,r):L5(isNaN(e)?t:e)}const C_=function e(t){var r=Cne(t);function n(s,i){var o=r((s=Vw(s)).r,(i=Vw(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=fL(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function Tne(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function kne(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function One(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=Rf(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function Ine(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Px(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Lne(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Rf(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var Ww=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,db=new RegExp(Ww.source,"g");function Rne(e){return function(){return e}}function Mne(e){return function(t){return e(t)+""}}function Dne(e,t){var r=Ww.lastIndex=db.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Ww.exec(e))&&(s=db.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:Px(n,s)})),r=db.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?Mne(c[0].x):Rne(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Rf(e,t){var r=typeof t,n;return t==null||r==="boolean"?L5(t):(r==="number"?Px:r==="string"?(n=zm(t))?(t=n,C_):Dne:t instanceof zm?C_:t instanceof Date?Ine:kne(t)?Tne:Array.isArray(t)?One:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Lne:Px)(e,t)}function R5(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function $ne(e,t){t===void 0&&(t=e,e=Rf);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function Fne(e){return function(){return e}}function Cx(e){return+e}var T_=[0,1];function Pa(e){return e}function Gw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Fne(isNaN(t)?NaN:.5)}function Bne(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Une(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=Gw(s,n),i=r(o,i)):(n=Gw(n,s),i=r(i,o)),function(l){return i(n(l))}}function zne(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=Gw(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Tp(e,l,1,n)-1;return i[c](s[c](l))}}function Op(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function hv(){var e=T_,t=T_,r=Rf,n,s,i,o=Pa,l,c,u;function d(){var m=Math.min(e.length,t.length);return o!==Pa&&(o=Bne(e[0],e[m-1])),l=m>2?zne:Une,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?i:(c||(c=l(e.map(n),t,r)))(n(o(m)))}return f.invert=function(m){return o(s((u||(u=l(t,e.map(n),Px)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,Cx),d()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),r=R5,d()},f.clamp=function(m){return arguments.length?(o=m?!0:Pa,d()):o!==Pa},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(i=m,f):i},function(m,h){return n=m,s=h,d()}}function M5(){return hv()(Pa,Pa)}function qne(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Tx(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Kd(e){return e=Tx(Math.abs(e)),e?e[1]:NaN}function Hne(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function Vne(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Wne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qm(e){if(!(t=Wne.exec(e)))throw new Error("invalid format: "+e);var t;return new D5({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}qm.prototype=D5.prototype;function D5(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}D5.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Gne(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var hL;function Yne(e,t){var r=Tx(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(hL=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Tx(e,Math.max(0,t+i-1))[0]}function k_(e,t){var r=Tx(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const O_={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:qne,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>k_(e*100,t),r:k_,s:Yne,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function I_(e){return e}var L_=Array.prototype.map,R_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Kne(e){var t=e.grouping===void 0||e.thousands===void 0?I_:Hne(L_.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?I_:Vne(L_.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=qm(f);var m=f.fill,h=f.align,p=f.sign,y=f.symbol,v=f.zero,x=f.width,b=f.comma,N=f.precision,w=f.trim,S=f.type;S==="n"?(b=!0,S="g"):O_[S]||(N===void 0&&(N=12),w=!0,S="g"),(v||m==="0"&&h==="=")&&(v=!0,m="0",h="=");var _=y==="$"?r:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",T=y==="$"?n:/[%p]/.test(S)?o:"",k=O_[S],P=/[defgprs%]/.test(S);N=N===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function D(A){var I=_,$=T,E,M,z;if(S==="c")$=k(A)+$,A="";else{A=+A;var Z=A<0||1/A<0;if(A=isNaN(A)?c:k(Math.abs(A),N),w&&(A=Gne(A)),Z&&+A==0&&p!=="+"&&(Z=!1),I=(Z?p==="("?p:l:p==="-"||p==="("?"":p)+I,$=(S==="s"?R_[8+hL/3]:"")+$+(Z&&p==="("?")":""),P){for(E=-1,M=A.length;++E<M;)if(z=A.charCodeAt(E),48>z||z>57){$=(z===46?s+A.slice(E+1):A.slice(E))+$,A=A.slice(0,E);break}}}b&&!v&&(A=t(A,1/0));var R=I.length+A.length+$.length,U=R<x?new Array(x-R+1).join(m):"";switch(b&&v&&(A=t(U+A,U.length?x-$.length:1/0),U=""),h){case"<":A=I+A+$+U;break;case"=":A=I+U+A+$;break;case"^":A=U.slice(0,R=U.length>>1)+I+A+$+U.slice(R);break;default:A=U+I+A+$;break}return i(A)}return D.toString=function(){return f+""},D}function d(f,m){var h=u((f=qm(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Kd(m)/3)))*3,y=Math.pow(10,-p),v=R_[8+p/3];return function(x){return h(y*x)+v}}return{format:u,formatPrefix:d}}var X0,$5,mL;Xne({thousands:",",grouping:[3],currency:["$",""]});function Xne(e){return X0=Kne(e),$5=X0.format,mL=X0.formatPrefix,X0}function Jne(e){return Math.max(0,-Kd(Math.abs(e)))}function Zne(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Kd(t)/3)))*3-Kd(Math.abs(e)))}function Qne(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Kd(t)-Kd(e))+1}function pL(e,t,r,n){var s=qw(e,t,r),i;switch(n=qm(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Zne(s,o))&&(n.precision=i),mL(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Qne(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Jne(s))&&(n.precision=i-(n.type==="%")*2);break}}return $5(n)}function ec(e){var t=e.domain;return e.ticks=function(r){var n=t();return Uw(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return pL(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=zw(o,l,r),u===c)return n[s]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function kx(){var e=M5();return e.copy=function(){return Op(e,kx())},zs.apply(e,arguments),ec(e)}function gL(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Cx),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return gL(e).unknown(t)},e=arguments.length?Array.from(e,Cx):[0,1],ec(r)}function xL(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function M_(e){return Math.log(e)}function D_(e){return Math.exp(e)}function eae(e){return-Math.log(-e)}function tae(e){return-Math.exp(-e)}function rae(e){return isFinite(e)?+("1e"+e):e<0?0:e}function nae(e){return e===10?rae:e===Math.E?Math.exp:t=>Math.pow(e,t)}function aae(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function $_(e){return(t,r)=>-e(-t,r)}function F5(e){const t=e(M_,D_),r=t.domain;let n=10,s,i;function o(){return s=aae(n),i=nae(n),r()[0]<0?(s=$_(s),i=$_(i),e(eae,tae)):e(M_,D_),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=s(u),h=s(d),p,y;const v=l==null?10:+l;let x=[];if(!(n%1)&&h-m<v){if(m=Math.floor(m),h=Math.ceil(h),u>0){for(;m<=h;++m)for(p=1;p<n;++p)if(y=m<0?p/i(-m):p*i(m),!(y<u)){if(y>d)break;x.push(y)}}else for(;m<=h;++m)for(p=n-1;p>=1;--p)if(y=m>0?p/i(-m):p*i(m),!(y<u)){if(y>d)break;x.push(y)}x.length*2<v&&(x=Uw(u,d,v))}else x=Uw(m,h,Math.min(h-m,v)).map(i);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=qm(c)).precision==null&&(c.trim=!0),c=$5(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(xL(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function yL(){const e=F5(hv()).domain([1,10]);return e.copy=()=>Op(e,yL()).base(e.base()),zs.apply(e,arguments),e}function F_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function B_(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function B5(e){var t=1,r=e(F_(t),B_(t));return r.constant=function(n){return arguments.length?e(F_(t=+n),B_(t)):t},ec(r)}function vL(){var e=B5(hv());return e.copy=function(){return Op(e,vL()).constant(e.constant())},zs.apply(e,arguments)}function U_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function sae(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function iae(e){return e<0?-e*e:e*e}function U5(e){var t=e(Pa,Pa),r=1;function n(){return r===1?e(Pa,Pa):r===.5?e(sae,iae):e(U_(r),U_(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},ec(t)}function z5(){var e=U5(hv());return e.copy=function(){return Op(e,z5()).exponent(e.exponent())},zs.apply(e,arguments),e}function oae(){return z5.apply(null,arguments).exponent(.5)}function z_(e){return Math.sign(e)*e*e}function lae(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function bL(){var e=M5(),t=[0,1],r=!1,n;function s(i){var o=lae(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(z_(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,Cx)).map(z_)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return bL(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},zs.apply(s,arguments),ec(s)}function wL(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=hne(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Tp(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(zl),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return wL().domain(e).range(t).unknown(n)},zs.apply(i,arguments)}function NL(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[Tp(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return NL().domain([e,t]).range(s).unknown(i)},zs.apply(ec(o),arguments)}function jL(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[Tp(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return jL().domain(e).range(t).unknown(r)},zs.apply(s,arguments)}const fb=new Date,hb=new Date;function Pn(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>Pn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(fb.setTime(+i),hb.setTime(+o),e(fb),e(hb),Math.floor(r(fb,hb))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const Ox=Pn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ox.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Pn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Ox);Ox.range;const Eo=1e3,Rs=Eo*60,Po=Rs*60,Uo=Po*24,q5=Uo*7,q_=Uo*30,mb=Uo*365,Bc=Pn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Eo)},(e,t)=>(t-e)/Eo,e=>e.getUTCSeconds());Bc.range;const H5=Pn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Eo)},(e,t)=>{e.setTime(+e+t*Rs)},(e,t)=>(t-e)/Rs,e=>e.getMinutes());H5.range;const V5=Pn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Rs)},(e,t)=>(t-e)/Rs,e=>e.getUTCMinutes());V5.range;const W5=Pn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Eo-e.getMinutes()*Rs)},(e,t)=>{e.setTime(+e+t*Po)},(e,t)=>(t-e)/Po,e=>e.getHours());W5.range;const G5=Pn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Po)},(e,t)=>(t-e)/Po,e=>e.getUTCHours());G5.range;const Ip=Pn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Rs)/Uo,e=>e.getDate()-1);Ip.range;const mv=Pn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Uo,e=>e.getUTCDate()-1);mv.range;const SL=Pn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Uo,e=>Math.floor(e/Uo));SL.range;function wu(e){return Pn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Rs)/q5)}const pv=wu(0),Ix=wu(1),cae=wu(2),uae=wu(3),Xd=wu(4),dae=wu(5),fae=wu(6);pv.range;Ix.range;cae.range;uae.range;Xd.range;dae.range;fae.range;function Nu(e){return Pn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/q5)}const gv=Nu(0),Lx=Nu(1),hae=Nu(2),mae=Nu(3),Jd=Nu(4),pae=Nu(5),gae=Nu(6);gv.range;Lx.range;hae.range;mae.range;Jd.range;pae.range;gae.range;const Y5=Pn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Y5.range;const K5=Pn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());K5.range;const zo=Pn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());zo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});zo.range;const qo=Pn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());qo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});qo.range;function AL(e,t,r,n,s,i){const o=[[Bc,1,Eo],[Bc,5,5*Eo],[Bc,15,15*Eo],[Bc,30,30*Eo],[i,1,Rs],[i,5,5*Rs],[i,15,15*Rs],[i,30,30*Rs],[s,1,Po],[s,3,3*Po],[s,6,6*Po],[s,12,12*Po],[n,1,Uo],[n,2,2*Uo],[r,1,q5],[t,1,q_],[t,3,3*q_],[e,1,mb]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),p=h?h.range(u,+d+1):[];return m?p.reverse():p}function c(u,d,f){const m=Math.abs(d-u)/f,h=k5(([,,v])=>v).right(o,m);if(h===o.length)return e.every(qw(u/mb,d/mb,f));if(h===0)return Ox.every(Math.max(qw(u,d,f),1));const[p,y]=o[m/o[h-1][2]<o[h][2]/m?h-1:h];return p.every(y)}return[l,c]}const[xae,yae]=AL(qo,K5,gv,SL,G5,V5),[vae,bae]=AL(zo,Y5,pv,Ip,W5,H5);function pb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function gb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Eh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function wae(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Ph(s),d=Ch(s),f=Ph(i),m=Ch(i),h=Ph(o),p=Ch(o),y=Ph(l),v=Ch(l),x=Ph(c),b=Ch(c),N={a:Z,A:R,b:U,B:re,c:null,d:K_,e:K_,f:Hae,g:ese,G:rse,H:Uae,I:zae,j:qae,L:_L,m:Vae,M:Wae,p:de,q:B,Q:Z_,s:Q_,S:Gae,u:Yae,U:Kae,V:Xae,w:Jae,W:Zae,x:null,X:null,y:Qae,Y:tse,Z:nse,"%":J_},w={a:G,A:te,b:ue,B:q,c:null,d:X_,e:X_,f:ose,g:xse,G:vse,H:ase,I:sse,j:ise,L:PL,m:lse,M:cse,p:X,q:Q,Q:Z_,s:Q_,S:use,u:dse,U:fse,V:hse,w:mse,W:pse,x:null,X:null,y:gse,Y:yse,Z:bse,"%":J_},S={a:D,A,b:I,B:$,c:E,d:G_,e:G_,f:Dae,g:W_,G:V_,H:Y_,I:Y_,j:Iae,L:Mae,m:Oae,M:Lae,p:P,q:kae,Q:Fae,s:Bae,S:Rae,u:_ae,U:Eae,V:Pae,w:Aae,W:Cae,x:M,X:z,y:W_,Y:V_,Z:Tae,"%":$ae};N.x=_(r,N),N.X=_(n,N),N.c=_(t,N),w.x=_(r,w),w.X=_(n,w),w.c=_(t,w);function _(ne,pe){return function(se){var W=[],fe=-1,Ae=0,Y=ne.length,Ce,qe,be;for(se instanceof Date||(se=new Date(+se));++fe<Y;)ne.charCodeAt(fe)===37&&(W.push(ne.slice(Ae,fe)),(qe=H_[Ce=ne.charAt(++fe)])!=null?Ce=ne.charAt(++fe):qe=Ce==="e"?" ":"0",(be=pe[Ce])&&(Ce=be(se,qe)),W.push(Ce),Ae=fe+1);return W.push(ne.slice(Ae,fe)),W.join("")}}function T(ne,pe){return function(se){var W=Eh(1900,void 0,1),fe=k(W,ne,se+="",0),Ae,Y;if(fe!=se.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(pe&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(Ae=gb(Eh(W.y,0,1)),Y=Ae.getUTCDay(),Ae=Y>4||Y===0?Lx.ceil(Ae):Lx(Ae),Ae=mv.offset(Ae,(W.V-1)*7),W.y=Ae.getUTCFullYear(),W.m=Ae.getUTCMonth(),W.d=Ae.getUTCDate()+(W.w+6)%7):(Ae=pb(Eh(W.y,0,1)),Y=Ae.getDay(),Ae=Y>4||Y===0?Ix.ceil(Ae):Ix(Ae),Ae=Ip.offset(Ae,(W.V-1)*7),W.y=Ae.getFullYear(),W.m=Ae.getMonth(),W.d=Ae.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),Y="Z"in W?gb(Eh(W.y,0,1)).getUTCDay():pb(Eh(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(Y+5)%7:W.w+W.U*7-(Y+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,gb(W)):pb(W)}}function k(ne,pe,se,W){for(var fe=0,Ae=pe.length,Y=se.length,Ce,qe;fe<Ae;){if(W>=Y)return-1;if(Ce=pe.charCodeAt(fe++),Ce===37){if(Ce=pe.charAt(fe++),qe=S[Ce in H_?pe.charAt(fe++):Ce],!qe||(W=qe(ne,se,W))<0)return-1}else if(Ce!=se.charCodeAt(W++))return-1}return W}function P(ne,pe,se){var W=u.exec(pe.slice(se));return W?(ne.p=d.get(W[0].toLowerCase()),se+W[0].length):-1}function D(ne,pe,se){var W=h.exec(pe.slice(se));return W?(ne.w=p.get(W[0].toLowerCase()),se+W[0].length):-1}function A(ne,pe,se){var W=f.exec(pe.slice(se));return W?(ne.w=m.get(W[0].toLowerCase()),se+W[0].length):-1}function I(ne,pe,se){var W=x.exec(pe.slice(se));return W?(ne.m=b.get(W[0].toLowerCase()),se+W[0].length):-1}function $(ne,pe,se){var W=y.exec(pe.slice(se));return W?(ne.m=v.get(W[0].toLowerCase()),se+W[0].length):-1}function E(ne,pe,se){return k(ne,t,pe,se)}function M(ne,pe,se){return k(ne,r,pe,se)}function z(ne,pe,se){return k(ne,n,pe,se)}function Z(ne){return o[ne.getDay()]}function R(ne){return i[ne.getDay()]}function U(ne){return c[ne.getMonth()]}function re(ne){return l[ne.getMonth()]}function de(ne){return s[+(ne.getHours()>=12)]}function B(ne){return 1+~~(ne.getMonth()/3)}function G(ne){return o[ne.getUTCDay()]}function te(ne){return i[ne.getUTCDay()]}function ue(ne){return c[ne.getUTCMonth()]}function q(ne){return l[ne.getUTCMonth()]}function X(ne){return s[+(ne.getUTCHours()>=12)]}function Q(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var pe=_(ne+="",N);return pe.toString=function(){return ne},pe},parse:function(ne){var pe=T(ne+="",!1);return pe.toString=function(){return ne},pe},utcFormat:function(ne){var pe=_(ne+="",w);return pe.toString=function(){return ne},pe},utcParse:function(ne){var pe=T(ne+="",!0);return pe.toString=function(){return ne},pe}}}var H_={"-":"",_:" ",0:"0"},Bn=/^\s*\d+/,Nae=/^%/,jae=/[\\^$*+?|[\]().{}]/g;function Zt(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function Sae(e){return e.replace(jae,"\\$&")}function Ph(e){return new RegExp("^(?:"+e.map(Sae).join("|")+")","i")}function Ch(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Aae(e,t,r){var n=Bn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function _ae(e,t,r){var n=Bn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Eae(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Pae(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Cae(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function V_(e,t,r){var n=Bn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function W_(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Tae(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function kae(e,t,r){var n=Bn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Oae(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function G_(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Iae(e,t,r){var n=Bn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Y_(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Lae(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Rae(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Mae(e,t,r){var n=Bn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Dae(e,t,r){var n=Bn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function $ae(e,t,r){var n=Nae.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Fae(e,t,r){var n=Bn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Bae(e,t,r){var n=Bn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function K_(e,t){return Zt(e.getDate(),t,2)}function Uae(e,t){return Zt(e.getHours(),t,2)}function zae(e,t){return Zt(e.getHours()%12||12,t,2)}function qae(e,t){return Zt(1+Ip.count(zo(e),e),t,3)}function _L(e,t){return Zt(e.getMilliseconds(),t,3)}function Hae(e,t){return _L(e,t)+"000"}function Vae(e,t){return Zt(e.getMonth()+1,t,2)}function Wae(e,t){return Zt(e.getMinutes(),t,2)}function Gae(e,t){return Zt(e.getSeconds(),t,2)}function Yae(e){var t=e.getDay();return t===0?7:t}function Kae(e,t){return Zt(pv.count(zo(e)-1,e),t,2)}function EL(e){var t=e.getDay();return t>=4||t===0?Xd(e):Xd.ceil(e)}function Xae(e,t){return e=EL(e),Zt(Xd.count(zo(e),e)+(zo(e).getDay()===4),t,2)}function Jae(e){return e.getDay()}function Zae(e,t){return Zt(Ix.count(zo(e)-1,e),t,2)}function Qae(e,t){return Zt(e.getFullYear()%100,t,2)}function ese(e,t){return e=EL(e),Zt(e.getFullYear()%100,t,2)}function tse(e,t){return Zt(e.getFullYear()%1e4,t,4)}function rse(e,t){var r=e.getDay();return e=r>=4||r===0?Xd(e):Xd.ceil(e),Zt(e.getFullYear()%1e4,t,4)}function nse(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Zt(t/60|0,"0",2)+Zt(t%60,"0",2)}function X_(e,t){return Zt(e.getUTCDate(),t,2)}function ase(e,t){return Zt(e.getUTCHours(),t,2)}function sse(e,t){return Zt(e.getUTCHours()%12||12,t,2)}function ise(e,t){return Zt(1+mv.count(qo(e),e),t,3)}function PL(e,t){return Zt(e.getUTCMilliseconds(),t,3)}function ose(e,t){return PL(e,t)+"000"}function lse(e,t){return Zt(e.getUTCMonth()+1,t,2)}function cse(e,t){return Zt(e.getUTCMinutes(),t,2)}function use(e,t){return Zt(e.getUTCSeconds(),t,2)}function dse(e){var t=e.getUTCDay();return t===0?7:t}function fse(e,t){return Zt(gv.count(qo(e)-1,e),t,2)}function CL(e){var t=e.getUTCDay();return t>=4||t===0?Jd(e):Jd.ceil(e)}function hse(e,t){return e=CL(e),Zt(Jd.count(qo(e),e)+(qo(e).getUTCDay()===4),t,2)}function mse(e){return e.getUTCDay()}function pse(e,t){return Zt(Lx.count(qo(e)-1,e),t,2)}function gse(e,t){return Zt(e.getUTCFullYear()%100,t,2)}function xse(e,t){return e=CL(e),Zt(e.getUTCFullYear()%100,t,2)}function yse(e,t){return Zt(e.getUTCFullYear()%1e4,t,4)}function vse(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Jd(e):Jd.ceil(e),Zt(e.getUTCFullYear()%1e4,t,4)}function bse(){return"+0000"}function J_(){return"%"}function Z_(e){return+e}function Q_(e){return Math.floor(+e/1e3)}var qu,TL,kL;wse({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function wse(e){return qu=wae(e),TL=qu.format,qu.parse,kL=qu.utcFormat,qu.utcParse,qu}function Nse(e){return new Date(e)}function jse(e){return e instanceof Date?+e:+new Date(+e)}function X5(e,t,r,n,s,i,o,l,c,u){var d=M5(),f=d.invert,m=d.domain,h=u(".%L"),p=u(":%S"),y=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),b=u("%b %d"),N=u("%B"),w=u("%Y");function S(_){return(c(_)<_?h:l(_)<_?p:o(_)<_?y:i(_)<_?v:n(_)<_?s(_)<_?x:b:r(_)<_?N:w)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?m(Array.from(_,jse)):m().map(Nse)},d.ticks=function(_){var T=m();return e(T[0],T[T.length-1],_??10)},d.tickFormat=function(_,T){return T==null?S:u(T)},d.nice=function(_){var T=m();return(!_||typeof _.range!="function")&&(_=t(T[0],T[T.length-1],_??10)),_?m(xL(T,_)):d},d.copy=function(){return Op(d,X5(e,t,r,n,s,i,o,l,c,u))},d}function Sse(){return zs.apply(X5(vae,bae,zo,Y5,pv,Ip,W5,H5,Bc,TL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ase(){return zs.apply(X5(xae,yae,qo,K5,gv,mv,G5,V5,Bc,kL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xv(){var e=0,t=1,r,n,s,i,o=Pa,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(i(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(m){var h,p;return arguments.length?([h,p]=m,o=f(h,p),u):[o(0),o(1)]}}return u.range=d(Rf),u.rangeRound=d(R5),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function tc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function OL(){var e=ec(xv()(Pa));return e.copy=function(){return tc(e,OL())},Ko.apply(e,arguments)}function IL(){var e=F5(xv()).domain([1,10]);return e.copy=function(){return tc(e,IL()).base(e.base())},Ko.apply(e,arguments)}function LL(){var e=B5(xv());return e.copy=function(){return tc(e,LL()).constant(e.constant())},Ko.apply(e,arguments)}function J5(){var e=U5(xv());return e.copy=function(){return tc(e,J5()).exponent(e.exponent())},Ko.apply(e,arguments)}function _se(){return J5.apply(null,arguments).exponent(.5)}function RL(){var e=[],t=Pa;function r(n){if(n!=null&&!isNaN(n=+n))return t((Tp(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(zl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>fne(e,i/n))},r.copy=function(){return RL(t).domain(e)},Ko.apply(r,arguments)}function yv(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,u=Pa,d,f=!1,m;function h(y){return isNaN(y=+y)?m:(y=.5+((y=+d(y))-i)*(n*y<n*i?l:c),u(f?Math.max(0,Math.min(1,y)):y))}h.domain=function(y){return arguments.length?([e,t,r]=y,s=d(e=+e),i=d(t=+t),o=d(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,h):[e,t,r]},h.clamp=function(y){return arguments.length?(f=!!y,h):f},h.interpolator=function(y){return arguments.length?(u=y,h):u};function p(y){return function(v){var x,b,N;return arguments.length?([x,b,N]=v,u=$ne(y,[x,b,N]),h):[u(0),u(.5),u(1)]}}return h.range=p(Rf),h.rangeRound=p(R5),h.unknown=function(y){return arguments.length?(m=y,h):m},function(y){return d=y,s=y(e),i=y(t),o=y(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,h}}function ML(){var e=ec(yv()(Pa));return e.copy=function(){return tc(e,ML())},Ko.apply(e,arguments)}function DL(){var e=F5(yv()).domain([.1,1,10]);return e.copy=function(){return tc(e,DL()).base(e.base())},Ko.apply(e,arguments)}function $L(){var e=B5(yv());return e.copy=function(){return tc(e,$L()).constant(e.constant())},Ko.apply(e,arguments)}function Z5(){var e=U5(yv());return e.copy=function(){return tc(e,Z5()).exponent(e.exponent())},Ko.apply(e,arguments)}function Ese(){return Z5.apply(null,arguments).exponent(.5)}const eE=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Fm,scaleDiverging:ML,scaleDivergingLog:DL,scaleDivergingPow:Z5,scaleDivergingSqrt:Ese,scaleDivergingSymlog:$L,scaleIdentity:gL,scaleImplicit:Hw,scaleLinear:kx,scaleLog:yL,scaleOrdinal:O5,scalePoint:tm,scalePow:z5,scaleQuantile:wL,scaleQuantize:NL,scaleRadial:bL,scaleSequential:OL,scaleSequentialLog:IL,scaleSequentialPow:J5,scaleSequentialQuantile:RL,scaleSequentialSqrt:_se,scaleSequentialSymlog:LL,scaleSqrt:oae,scaleSymlog:vL,scaleThreshold:jL,scaleTime:Sse,scaleUtc:Ase,tickFormat:pL},Symbol.toStringTag,{value:"Module"}));var Pse=_f;function Cse(e,t,r){for(var n=-1,s=e.length;++n<s;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!Pse(o):r(o,l)))var l=o,c=i}return c}var vv=Cse;function Tse(e,t){return e>t}var FL=Tse,kse=vv,Ose=FL,Ise=Lf;function Lse(e){return e&&e.length?kse(e,Ise,Ose):void 0}var Rse=Lse;const Tl=or(Rse);function Mse(e,t){return e<t}var BL=Mse,Dse=vv,$se=BL,Fse=Lf;function Bse(e){return e&&e.length?Dse(e,Fse,$se):void 0}var Use=Bse;const bv=or(Use);var zse=f5,qse=Yi,Hse=YI,Vse=Ka;function Wse(e,t){var r=Vse(e)?zse:Hse;return r(e,qse(t))}var Gse=Wse,Yse=WI,Kse=Gse;function Xse(e,t){return Yse(Kse(e,t),1)}var Jse=Xse;const Zse=or(Jse);var Qse=E5;function eie(e,t){return Qse(e,t)}var tie=eie;const uu=or(tie);var Mf=1e9,rie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},eS,Lr=!0,Fs="[DecimalError] ",Kc=Fs+"Invalid argument: ",Q5=Fs+"Exponent out of range: ",Df=Math.floor,Pc=Math.pow,nie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,us,Tn=1e7,Pr=7,UL=9007199254740991,Rx=Df(UL/Pr),Qe={};Qe.absoluteValue=Qe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Qe.comparedTo=Qe.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};Qe.decimalPlaces=Qe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Pr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Qe.dividedBy=Qe.div=function(e){return Oo(this,new this.constructor(e))};Qe.dividedToIntegerBy=Qe.idiv=function(e){var t=this,r=t.constructor;return pr(Oo(t,new r(e),0,1),r.precision)};Qe.equals=Qe.eq=function(e){return!this.cmp(e)};Qe.exponent=function(){return pn(this)};Qe.greaterThan=Qe.gt=function(e){return this.cmp(e)>0};Qe.greaterThanOrEqualTo=Qe.gte=function(e){return this.cmp(e)>=0};Qe.isInteger=Qe.isint=function(){return this.e>this.d.length-2};Qe.isNegative=Qe.isneg=function(){return this.s<0};Qe.isPositive=Qe.ispos=function(){return this.s>0};Qe.isZero=function(){return this.s===0};Qe.lessThan=Qe.lt=function(e){return this.cmp(e)<0};Qe.lessThanOrEqualTo=Qe.lte=function(e){return this.cmp(e)<1};Qe.logarithm=Qe.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(us))throw Error(Fs+"NaN");if(r.s<1)throw Error(Fs+(r.s?"NaN":"-Infinity"));return r.eq(us)?new n(0):(Lr=!1,t=Oo(Hm(r,i),Hm(e,i),i),Lr=!0,pr(t,s))};Qe.minus=Qe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?HL(t,e):zL(t,(e.s=-e.s,e))};Qe.modulo=Qe.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Fs+"NaN");return r.s?(Lr=!1,t=Oo(r,e,0,1).times(e),Lr=!0,r.minus(t)):pr(new n(r),s)};Qe.naturalExponential=Qe.exp=function(){return qL(this)};Qe.naturalLogarithm=Qe.ln=function(){return Hm(this)};Qe.negated=Qe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Qe.plus=Qe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?zL(t,e):HL(t,(e.s=-e.s,e))};Qe.precision=Qe.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Kc+e);if(t=pn(s)+1,n=s.d.length-1,r=n*Pr+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Qe.squareRoot=Qe.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Fs+"NaN")}for(e=pn(l),Lr=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=$i(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Df((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(Oo(l,i,o+2)).times(.5),$i(i.d).slice(0,o)===(t=$i(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(pr(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Lr=!0,pr(n,r)};Qe.times=Qe.mul=function(e){var t,r,n,s,i,o,l,c,u,d=this,f=d.constructor,m=d.d,h=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=m.length,u=h.length,c<u&&(i=m,m=h,h=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+h[n]*m[s-n-1]+t,i[s--]=l%Tn|0,t=l/Tn|0;i[s]=(i[s]+t)%Tn|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Lr?pr(e,f.precision):e};Qe.toDecimalPlaces=Qe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Wi(e,0,Mf),t===void 0?t=n.rounding:Wi(t,0,8),pr(r,e+pn(r)+1,t))};Qe.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=du(n,!0):(Wi(e,0,Mf),t===void 0?t=s.rounding:Wi(t,0,8),n=pr(new s(n),e+1,t),r=du(n,!0,e+1)),r};Qe.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?du(s):(Wi(e,0,Mf),t===void 0?t=i.rounding:Wi(t,0,8),n=pr(new i(s),e+pn(s)+1,t),r=du(n.abs(),!1,e+pn(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Qe.toInteger=Qe.toint=function(){var e=this,t=e.constructor;return pr(new t(e),pn(e)+1,t.rounding)};Qe.toNumber=function(){return+this};Qe.toPower=Qe.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(us);if(l=new c(l),!l.s){if(e.s<1)throw Error(Fs+"Infinity");return l}if(l.eq(us))return l;if(n=c.precision,e.eq(us))return pr(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=UL){for(s=new c(us),t=Math.ceil(n/Pr+4),Lr=!1;r%2&&(s=s.times(l),rE(s.d,t)),r=Df(r/2),r!==0;)l=l.times(l),rE(l.d,t);return Lr=!0,e.s<0?new c(us).div(s):pr(s,n)}}else if(i<0)throw Error(Fs+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Lr=!1,s=e.times(Hm(l,n+u)),Lr=!0,s=qL(s),s.s=i,s};Qe.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=pn(s),n=du(s,r<=i.toExpNeg||r>=i.toExpPos)):(Wi(e,1,Mf),t===void 0?t=i.rounding:Wi(t,0,8),s=pr(new i(s),e,t),r=pn(s),n=du(s,e<=r||r<=i.toExpNeg,e)),n};Qe.toSignificantDigits=Qe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Wi(e,1,Mf),t===void 0?t=n.rounding:Wi(t,0,8)),pr(new n(r),e,t)};Qe.toString=Qe.valueOf=Qe.val=Qe.toJSON=Qe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=pn(e),r=e.constructor;return du(e,t<=r.toExpNeg||t>=r.toExpPos)};function zL(e,t){var r,n,s,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Lr?pr(t,f):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(f/Pr),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Tn|0,c[i]%=Tn;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,Lr?pr(t,f):t}function Wi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Kc+e)}function $i(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Pr-n.length,r&&(i+=bl(r)),i+=n;o=e[t],n=o+"",r=Pr-n.length,r&&(i+=bl(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Oo=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%Tn|0,o=i/Tn|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*Tn+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,u,d,f,m,h,p,y,v,x,b,N,w,S,_,T,k,P=n.constructor,D=n.s==s.s?1:-1,A=n.d,I=s.d;if(!n.s)return new P(n);if(!s.s)throw Error(Fs+"Division by zero");for(c=n.e-s.e,T=I.length,S=A.length,h=new P(D),p=h.d=[],u=0;I[u]==(A[u]||0);)++u;if(I[u]>(A[u]||0)&&--c,i==null?b=i=P.precision:o?b=i+(pn(n)-pn(s))+1:b=i,b<0)return new P(0);if(b=b/Pr+2|0,u=0,T==1)for(d=0,I=I[0],b++;(u<S||d)&&b--;u++)N=d*Tn+(A[u]||0),p[u]=N/I|0,d=N%I|0;else{for(d=Tn/(I[0]+1)|0,d>1&&(I=e(I,d),A=e(A,d),T=I.length,S=A.length),w=T,y=A.slice(0,T),v=y.length;v<T;)y[v++]=0;k=I.slice(),k.unshift(0),_=I[0],I[1]>=Tn/2&&++_;do d=0,l=t(I,y,T,v),l<0?(x=y[0],T!=v&&(x=x*Tn+(y[1]||0)),d=x/_|0,d>1?(d>=Tn&&(d=Tn-1),f=e(I,d),m=f.length,v=y.length,l=t(f,y,m,v),l==1&&(d--,r(f,T<m?k:I,m))):(d==0&&(l=d=1),f=I.slice()),m=f.length,m<v&&f.unshift(0),r(y,f,v),l==-1&&(v=y.length,l=t(I,y,T,v),l<1&&(d++,r(y,T<v?k:I,v))),v=y.length):l===0&&(d++,y=[0]),p[u++]=d,l&&y[0]?y[v++]=A[w]||0:(y=[A[w]],v=1);while((w++<S||y[0]!==void 0)&&b--)}return p[0]||p.shift(),h.e=c,pr(h,o?i+pn(h)+1:i)}}();function qL(e,t){var r,n,s,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(pn(e)>16)throw Error(Q5+pn(e));if(!e.s)return new d(us);for(Lr=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Pc(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new d(us),d.precision=l;;){if(s=pr(s.times(e),l),r=r.times(++c),o=i.plus(Oo(s,r,l)),$i(o.d).slice(0,l)===$i(i.d).slice(0,l)){for(;u--;)i=pr(i.times(i),l);return d.precision=f,t==null?(Lr=!0,pr(i,f)):i}i=o}}function pn(e){for(var t=e.e*Pr,r=e.d[0];r>=10;r/=10)t++;return t}function xb(e,t,r){if(t>e.LN10.sd())throw Lr=!0,r&&(e.precision=r),Error(Fs+"LN10 precision limit exceeded");return pr(new e(e.LN10),t)}function bl(e){for(var t="";e--;)t+="0";return t}function Hm(e,t){var r,n,s,i,o,l,c,u,d,f=1,m=10,h=e,p=h.d,y=h.constructor,v=y.precision;if(h.s<1)throw Error(Fs+(h.s?"NaN":"-Infinity"));if(h.eq(us))return new y(0);if(t==null?(Lr=!1,u=v):u=t,h.eq(10))return t==null&&(Lr=!0),xb(y,u);if(u+=m,y.precision=u,r=$i(p),n=r.charAt(0),i=pn(h),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=$i(h.d),n=r.charAt(0),f++;i=pn(h),n>1?(h=new y("0."+r),i++):h=new y(n+"."+r.slice(1))}else return c=xb(y,u+2,v).times(i+""),h=Hm(new y(n+"."+r.slice(1)),u-m).plus(c),y.precision=v,t==null?(Lr=!0,pr(h,v)):h;for(l=o=h=Oo(h.minus(us),h.plus(us),u),d=pr(h.times(h),u),s=3;;){if(o=pr(o.times(d),u),c=l.plus(Oo(o,new y(s),u)),$i(c.d).slice(0,u)===$i(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(xb(y,u+2,v).times(i+""))),l=Oo(l,new y(f),u),y.precision=v,t==null?(Lr=!0,pr(l,v)):l;l=c,s+=2}}function tE(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Df(r/Pr),e.d=[],n=(r+1)%Pr,r<0&&(n+=Pr),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Pr;n<s;)e.d.push(+t.slice(n,n+=Pr));t=t.slice(n),n=Pr-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Lr&&(e.e>Rx||e.e<-Rx))throw Error(Q5+r)}else e.s=0,e.e=0,e.d=[0];return e}function pr(e,t,r){var n,s,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Pr,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Pr),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Pr,s=n-Pr+o}if(r!==void 0&&(i=Pc(10,o-s-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/Pc(10,o-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=pn(e),f.length=1,t=t-i-1,f[0]=Pc(10,(Pr-t%Pr)%Pr),e.e=Df(-t/Pr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Pc(10,Pr-n),f[d]=s>0?(u/Pc(10,o-s)%Pc(10,s)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Tn&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Tn)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Lr&&(e.e>Rx||e.e<-Rx))throw Error(Q5+pn(e));return e}function HL(e,t){var r,n,s,i,o,l,c,u,d,f,m=e.constructor,h=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Lr?pr(t,h):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(h/Pr),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=Tn-1;--c[i],c[s]+=Tn}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Lr?pr(t,h):t):new m(0)}function du(e,t,r){var n,s=pn(e),i=$i(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+bl(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+bl(-s-1)+i,r&&(n=r-o)>0&&(i+=bl(n))):s>=o?(i+=bl(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+bl(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=bl(n))),e.s<0?"-"+i:i}function rE(e,t){if(e.length>t)return e.length=t,!0}function VL(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Kc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return tE(o,i.toString())}else if(typeof i!="string")throw Error(Kc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,nie.test(i))tE(o,i);else throw Error(Kc+i)}if(s.prototype=Qe,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=VL,s.config=s.set=aie,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function aie(e){if(!e||typeof e!="object")throw Error(Fs+"Object expected");var t,r,n,s=["precision",1,Mf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Df(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Kc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Kc+r+": "+n);return this}var eS=VL(rie);us=new eS(1);const ur=eS;function sie(e){return cie(e)||lie(e)||oie(e)||iie()}function iie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oie(e,t){if(e){if(typeof e=="string")return Yw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yw(e,t)}}function lie(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function cie(e){if(Array.isArray(e))return Yw(e)}function Yw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var uie=function(t){return t},WL={},GL=function(t){return t===WL},nE=function(t){return function r(){return arguments.length===0||arguments.length===1&&GL(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},die=function e(t,r){return t===1?r:nE(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==WL}).length;return o>=t?r.apply(void 0,s):e(t-o,nE(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return GL(f)?c.shift():f});return r.apply(void 0,sie(d).concat(c))}))})},wv=function(t){return die(t.length,t)},Kw=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},fie=wv(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),hie=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return uie;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},Xw=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},YL=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function mie(e){var t;return e===0?t=1:t=Math.floor(new ur(e).abs().log(10).toNumber())+1,t}function pie(e,t,r){for(var n=new ur(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var gie=wv(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),xie=wv(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),yie=wv(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Nv={rangeStep:pie,getDigitCount:mie,interpolateNumber:gie,uninterpolateNumber:xie,uninterpolateTruncation:yie};function Jw(e){return wie(e)||bie(e)||KL(e)||vie()}function vie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bie(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function wie(e){if(Array.isArray(e))return Zw(e)}function Vm(e,t){return Sie(e)||jie(e,t)||KL(e,t)||Nie()}function Nie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KL(e,t){if(e){if(typeof e=="string")return Zw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zw(e,t)}}function Zw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jie(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function Sie(e){if(Array.isArray(e))return e}function XL(e){var t=Vm(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function JL(e,t,r){if(e.lte(0))return new ur(0);var n=Nv.getDigitCount(e.toNumber()),s=new ur(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new ur(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new ur(Math.ceil(c))}function Aie(e,t,r){var n=1,s=new ur(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new ur(10).pow(Nv.getDigitCount(e)-1),s=new ur(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new ur(Math.floor(e)))}else e===0?s=new ur(Math.floor((t-1)/2)):r||(s=new ur(Math.floor(e)));var o=Math.floor((t-1)/2),l=hie(fie(function(c){return s.add(new ur(c-o).mul(n)).toNumber()}),Kw);return l(0,t)}function ZL(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new ur(0),tickMin:new ur(0),tickMax:new ur(0)};var i=JL(new ur(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new ur(0):(o=new ur(e).add(t).div(2),o=o.sub(new ur(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new ur(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?ZL(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new ur(l).mul(i)),tickMax:o.add(new ur(c).mul(i))})}function _ie(e){var t=Vm(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=XL([r,n]),c=Vm(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Jw(Kw(0,s-1).map(function(){return 1/0}))):[].concat(Jw(Kw(0,s-1).map(function(){return-1/0})),[d]);return r>n?Xw(f):f}if(u===d)return Aie(u,s,i);var m=ZL(u,d,o,i),h=m.step,p=m.tickMin,y=m.tickMax,v=Nv.rangeStep(p,y.add(new ur(.1).mul(h)),h);return r>n?Xw(v):v}function Eie(e,t){var r=Vm(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=XL([n,s]),l=Vm(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(t,2),f=JL(new ur(u).sub(c).div(d-1),i,0),m=[].concat(Jw(Nv.rangeStep(new ur(c),new ur(u).sub(new ur(.99).mul(f)),f)),[u]);return n>s?Xw(m):m}var Pie=YL(_ie),Cie=YL(Eie),Tie="Invariant failed";function fu(e,t){throw new Error(Tie)}var kie=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Zd(e){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zd(e)}function Mx(){return Mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mx.apply(this,arguments)}function Oie(e,t){return Mie(e)||Rie(e,t)||Lie(e,t)||Iie()}function Iie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lie(e,t){if(e){if(typeof e=="string")return aE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aE(e,t)}}function aE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rie(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Mie(e){if(Array.isArray(e))return e}function Die(e,t){if(e==null)return{};var r=$ie(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $ie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t8(n.key),n)}}function Uie(e,t,r){return t&&Bie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zie(e,t,r){return t=Dx(t),qie(e,QL()?Reflect.construct(t,r||[],Dx(e).constructor):t.apply(e,r))}function qie(e,t){if(t&&(Zd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hie(e)}function Hie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QL=function(){return!!e})()}function Dx(e){return Dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dx(e)}function Vie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qw(e,t)}function Qw(e,t){return Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Qw(e,t)}function e8(e,t,r){return t=t8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t8(e){var t=Wie(e,"string");return Zd(t)=="symbol"?t:t+""}function Wie(e,t){if(Zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Lp=function(e){function t(){return Fie(this,t),zie(this,t,arguments)}return Vie(t,e),Uie(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,m=Die(n,kie),h=ut(m,!1);this.props.direction==="x"&&d.type!=="number"&&fu();var p=c.map(function(y){var v=u(y,l),x=v.x,b=v.y,N=v.value,w=v.errorVal;if(!w)return null;var S=[],_,T;if(Array.isArray(w)){var k=Oie(w,2);_=k[0],T=k[1]}else _=T=w;if(i==="vertical"){var P=d.scale,D=b+s,A=D+o,I=D-o,$=P(N-_),E=P(N+T);S.push({x1:E,y1:A,x2:E,y2:I}),S.push({x1:$,y1:D,x2:E,y2:D}),S.push({x1:$,y1:A,x2:$,y2:I})}else if(i==="horizontal"){var M=f.scale,z=x+s,Z=z-o,R=z+o,U=M(N-_),re=M(N+T);S.push({x1:Z,y1:re,x2:R,y2:re}),S.push({x1:z,y1:U,x2:z,y2:re}),S.push({x1:Z,y1:U,x2:R,y2:U})}return ce.createElement(Bt,Mx({className:"recharts-errorBar",key:"bar-".concat(S.map(function(de){return"".concat(de.x1,"-").concat(de.x2,"-").concat(de.y1,"-").concat(de.y2)}))},h),S.map(function(de){return ce.createElement("line",Mx({},de,{key:"line-".concat(de.x1,"-").concat(de.x2,"-").concat(de.y1,"-").concat(de.y2)}))}))});return ce.createElement(Bt,{className:"recharts-errorBars"},p)}}])}(ce.Component);e8(Lp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});e8(Lp,"displayName","ErrorBar");function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}function sE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sE(Object(r),!0).forEach(function(n){Gie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gie(e,t,r){return t=Yie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yie(e){var t=Kie(e,"string");return Wm(t)=="symbol"?t:t+""}function Kie(e,t){if(Wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r8=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=cs(r,_d);if(!o)return null;var l=_d.defaultProps,c=l!==void 0?bc(bc({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var m=f.item,h=f.props,p=h.sectors||h.data||[];return d.concat(p.map(function(y){return{type:o.props.iconType||m.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(n||[]).map(function(d){var f=d.item,m=f.type.defaultProps,h=m!==void 0?bc(bc({},m),f.props):{},p=h.dataKey,y=h.name,v=h.legendType,x=h.hide;return{inactive:x,dataKey:p,type:c.iconType||v||"square",color:tS(f),value:y||p,payload:h}}),bc(bc(bc({},c),_d.getWithHeight(o,s)),{},{payload:u,item:o})};function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}function iE(e){return Qie(e)||Zie(e)||Jie(e)||Xie()}function Xie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jie(e,t){if(e){if(typeof e=="string")return eN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eN(e,t)}}function Zie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qie(e){if(Array.isArray(e))return eN(e)}function eN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oE(Object(r),!0).forEach(function(n){Pd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pd(e,t,r){return t=eoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eoe(e){var t=toe(e,"string");return Gm(t)=="symbol"?t:t+""}function toe(e,t){if(Gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sn(e,t,r){return jt(e)||jt(t)?r:En(t)?ps(e,t,r):xt(t)?t(e):r}function rm(e,t,r,n){var s=Zse(e,function(l){return sn(l,t)});if(r==="number"){var i=s.filter(function(l){return He(l)||parseFloat(l)});return i.length?[bv(i),Tl(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!jt(l)}):s;return o.map(function(l){return En(l)||l instanceof Date?l:""})}var roe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,m=u>=l-1?s[0].coordinate:s[u+1].coordinate,h=void 0;if(_a(f-d)!==_a(m-f)){var p=[];if(_a(m-f)===_a(c[1]-c[0])){h=m;var y=f+c[1]-c[0];p[0]=Math.min(y,(y+d)/2),p[1]=Math.max(y,(y+d)/2)}else{h=d;var v=m+c[1]-c[0];p[0]=Math.min(f,(v+f)/2),p[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(t>x[0]&&t<=x[1]||t>=p[0]&&t<=p[1]){o=s[u].index;break}}else{var b=Math.min(d,m),N=Math.max(d,m);if(t>(b+f)/2&&t<=(N+f)/2){o=s[u].index;break}}}else for(var w=0;w<l;w++)if(w===0&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w>0&&w<l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w===l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2){o=n[w].index;break}return o},tS=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Gr(Gr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},noe=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),m=0,h=f.length;m<h;m++){var p=d[f[m]],y=p.items,v=p.cateAxisId,x=y.filter(function(T){return ko(T.type).indexOf("Bar")>=0});if(x&&x.length){var b=x[0].type.defaultProps,N=b!==void 0?Gr(Gr({},b),x[0].props):x[0].props,w=N.barSize,S=N[v];o[S]||(o[S]=[]);var _=jt(w)?r:w;o[S].push({item:x[0],stackList:x.slice(1),barSize:jt(_)?void 0:Ea(_,n,0)})}}return o},aoe=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Ea(r,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var m=!1,h=s/c,p=o.reduce(function(w,S){return w+S.barSize||0},0);p+=(c-1)*u,p>=s&&(p-=(c-1)*u,u=0),p>=s&&h>0&&(m=!0,h*=.9,p=c*h);var y=(s-p)/2>>0,v={offset:y-u,size:0};d=o.reduce(function(w,S){var _={item:S.item,position:{offset:v.offset+v.size+u,size:m?h:S.barSize}},T=[].concat(iE(w),[_]);return v=T[T.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(k){T.push({item:k,position:v})}),T},f)}else{var x=Ea(n,s,0,!0);s-2*x-(c-1)*u<=0&&(u=0);var b=(s-2*x-(c-1)*u)/c;b>1&&(b>>=0);var N=l===+l?Math.min(b,l):b;d=o.reduce(function(w,S,_){var T=[].concat(iE(w),[{item:S.item,position:{offset:x+(b+u)*_+(b-N)/2,size:N}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(k){T.push({item:k,position:T[T.length-1].position})}),T},f)}return d},soe=function(t,r,n,s){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=r8({children:i,legendWidth:c});if(u){var d=s||{},f=d.width,m=d.height,h=u.align,p=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&p==="middle")&&h!=="center"&&He(t[h]))return Gr(Gr({},t),{},Pd({},h,t[h]+(f||0)));if((y==="horizontal"||y==="vertical"&&h==="center")&&p!=="middle"&&He(t[p]))return Gr(Gr({},t),{},Pd({},p,t[p]+(m||0)))}return t},ioe=function(t,r,n){return jt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},n8=function(t,r,n,s,i){var o=r.props.children,l=gs(o,Lp).filter(function(u){return ioe(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=sn(d,n);if(jt(f))return u;var m=Array.isArray(f)?[bv(f),Tl(f)]:[f,f],h=c.reduce(function(p,y){var v=sn(d,y,0),x=m[0]-Math.abs(Array.isArray(v)?v[0]:v),b=m[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,p[0]),Math.max(b,p[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},ooe=function(t,r,n,s,i){var o=r.map(function(l){return n8(t,l,n,i,s)}).filter(function(l){return!jt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},a8=function(t,r,n,s,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&n8(t,c,u,s)||rm(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},s8=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},i8=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Co=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?_a(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var m=i?i.indexOf(f):f;return{coordinate:s(m)+u,value:f,offset:u}});return d.filter(function(f){return!kf(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,m){return{coordinate:s(f)+u,value:f,index:m,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,m){return{coordinate:s(f)+u,value:i?i[f]:f,index:m,offset:u}})},yb=new WeakMap,J0=function(t,r){if(typeof r!="function")return t;yb.has(t)||yb.set(t,new WeakMap);var n=yb.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},o8=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Fm(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:kx(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:tm(),realScaleType:"point"}:i==="category"?{scale:Fm(),realScaleType:"band"}:{scale:kx(),realScaleType:"linear"};if(ou(s)){var c="scale".concat(sv(s));return{scale:(eE[c]||tm)(),realScaleType:eE[c]?c:"point"}}return xt(s)?{scale:s}:{scale:tm(),realScaleType:"point"}},lE=1e-4,l8=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-lE,o=Math.max(s[0],s[1])+lE,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},loe=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},coe=function(t,r){if(!r||r.length!==2||!He(r[0])||!He(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!He(t[0])||t[0]<n)&&(i[0]=n),(!He(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},uoe=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var c=kf(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},doe=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=kf(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},foe={sign:uoe,expand:kG,none:Hd,silhouette:OG,wiggle:IG,positive:doe},hoe=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),i=foe[n],o=TG().keys(s).value(function(l,c){return+sn(l,c,0)}).order(Aw).offset(i);return o(t)},moe=function(t,r,n,s,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,m){var h,p=(h=m.type)!==null&&h!==void 0&&h.defaultProps?Gr(Gr({},m.type.defaultProps),m.props):m.props,y=p.stackId,v=p.hide;if(v)return f;var x=p[n],b=f[x]||{hasStack:!1,stackGroups:{}};if(En(y)){var N=b.stackGroups[y]||{numericAxisId:n,cateAxisId:s,items:[]};N.items.push(m),b.hasStack=!0,b.stackGroups[y]=N}else b.stackGroups[bu("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[m]};return Gr(Gr({},f),{},Pd({},x,b))},c),d={};return Object.keys(u).reduce(function(f,m){var h=u[m];if(h.hasStack){var p={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(y,v){var x=h.stackGroups[v];return Gr(Gr({},y),{},Pd({},v,{numericAxisId:n,cateAxisId:s,items:x.items,stackedData:hoe(t,x.items,i)}))},p)}return Gr(Gr({},f),{},Pd({},m,h))},d)},c8=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Pie(u,i,l);return t.domain([bv(d),Tl(d)]),{niceTicks:d}}if(i&&s==="number"){var f=t.domain(),m=Cie(f,i,l);return{niceTicks:m}}return null};function $x(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!jt(s[t.dataKey])){var l=ux(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=sn(s,jt(o)?t.dataKey:o);return jt(c)?null:t.scale(c)}var cE=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=sn(o,r.dataKey,r.domain[l]);return jt(c)?null:r.scale(c)-i/2+s},poe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},goe=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Gr(Gr({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(En(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},xoe=function(t){return t.reduce(function(r,n){return[bv(n.concat([r[0]]).filter(He)),Tl(n.concat([r[1]]).filter(He))]},[1/0,-1/0])},u8=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=xoe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},uE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tN=function(t,r,n){if(xt(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(He(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(uE.test(t[0])){var i=+uE.exec(t[0])[1];s[0]=r[0]-i}else xt(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(He(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(dE.test(t[1])){var o=+dE.exec(t[1])[1];s[1]=r[1]+o}else xt(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},Fx=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=C5(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},fE=function(t,r,n){return!t||!t.length||uu(t,ps(n,"type.defaultProps.domain"))?r:t},d8=function(t,r){var n=t.type.defaultProps?Gr(Gr({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Gr(Gr({},ut(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:tS(t),value:sn(r,s),type:c,payload:r,chartType:u,hide:d})};function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}function hE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hE(Object(r),!0).forEach(function(n){f8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f8(e,t,r){return t=yoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yoe(e){var t=voe(e,"string");return Ym(t)=="symbol"?t:t+""}function voe(e,t){if(Ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function boe(e,t){return Soe(e)||joe(e,t)||Noe(e,t)||woe()}function woe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Noe(e,t){if(e){if(typeof e=="string")return mE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mE(e,t)}}function mE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function joe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Soe(e){if(Array.isArray(e))return e}var Bx=Math.PI/180,Aoe=function(t){return t*180/Math.PI},jr=function(t,r,n,s){return{x:t+Math.cos(-Bx*s)*n,y:r+Math.sin(-Bx*s)*n}},h8=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},_oe=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Ea(t.cx,o,o/2),f=Ea(t.cy,l,l/2),m=h8(o,l,n),h=Ea(t.innerRadius,m,0),p=Ea(t.outerRadius,m,m*.8),y=Object.keys(r);return y.reduce(function(v,x){var b=r[x],N=b.domain,w=b.reversed,S;if(jt(b.range))s==="angleAxis"?S=[c,u]:s==="radiusAxis"&&(S=[h,p]),w&&(S=[S[1],S[0]]);else{S=b.range;var _=S,T=boe(_,2);c=T[0],u=T[1]}var k=o8(b,i),P=k.realScaleType,D=k.scale;D.domain(N).range(S),l8(D);var A=c8(D,vo(vo({},b),{},{realScaleType:P})),I=vo(vo(vo({},b),A),{},{range:S,radius:p,realScaleType:P,scale:D,cx:d,cy:f,innerRadius:h,outerRadius:p,startAngle:c,endAngle:u});return vo(vo({},v),{},f8({},x,I))},{})},Eoe=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},Poe=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,l=Eoe({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:Aoe(u),angleInRadian:u}},Coe=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},Toe=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},pE=function(t,r){var n=t.x,s=t.y,i=Poe({x:n,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Coe(r),f=d.startAngle,m=d.endAngle,h=l,p;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;p=h>=m&&h<=f}return p?vo(vo({},r),{},{radius:o,angle:Toe(h,r)}):null},m8=function(t){return!L.isValidElement(t)&&!xt(t)&&typeof t!="boolean"?t.className:""};function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}var koe=["offset"];function Ooe(e){return Moe(e)||Roe(e)||Loe(e)||Ioe()}function Ioe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Loe(e,t){if(e){if(typeof e=="string")return rN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rN(e,t)}}function Roe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Moe(e){if(Array.isArray(e))return rN(e)}function rN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Doe(e,t){if(e==null)return{};var r=$oe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $oe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gE(Object(r),!0).forEach(function(n){Foe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Foe(e,t,r){return t=Boe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Boe(e){var t=Uoe(e,"string");return Km(t)=="symbol"?t:t+""}function Uoe(e,t){if(Km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xm(){return Xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xm.apply(this,arguments)}var zoe=function(t){var r=t.value,n=t.formatter,s=jt(t.children)?r:t.children;return xt(n)?n(s):s},qoe=function(t,r){var n=_a(r-t),s=Math.min(Math.abs(r-t),360);return n*s},Hoe=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,h=c.startAngle,p=c.endAngle,y=c.clockWise,v=(f+m)/2,x=qoe(h,p),b=x>=0?1:-1,N,w;s==="insideStart"?(N=h+b*o,w=y):s==="insideEnd"?(N=p-b*o,w=!y):s==="end"&&(N=p+b*o,w=y),w=x<=0?w:!w;var S=jr(u,d,v,N),_=jr(u,d,v,N+(w?1:-1)*359),T="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(w?0:1,`,
    `).concat(_.x,",").concat(_.y),k=jt(t.id)?bu("recharts-radial-line-"):t.id;return ce.createElement("text",Xm({},n,{dominantBaseline:"central",className:yt("recharts-radial-bar-label",l)}),ce.createElement("defs",null,ce.createElement("path",{id:k,d:T})),ce.createElement("textPath",{xlinkHref:"#".concat(k)},r))},Voe=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,m=(d+f)/2;if(s==="outside"){var h=jr(o,l,u+n,m),p=h.x,y=h.y;return{x:p,y,textAnchor:p>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,x=jr(o,l,v,m),b=x.x,N=x.y;return{x:b,y:N,textAnchor:"middle",verticalAnchor:"middle"}},Woe=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,m=f*s,h=f>0?"end":"start",p=f>0?"start":"end",y=u>=0?1:-1,v=y*s,x=y>0?"end":"start",b=y>0?"start":"end";if(i==="top"){var N={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:h};return jn(jn({},N),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var w={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:p};return jn(jn({},w),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var S={x:l-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return jn(jn({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(i==="right"){var _={x:l+u+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return jn(jn({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:d}:{})}var T=n?{width:u,height:d}:{};return i==="insideLeft"?jn({x:l+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},T):i==="insideRight"?jn({x:l+u-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},T):i==="insideTop"?jn({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:p},T):i==="insideBottom"?jn({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:h},T):i==="insideTopLeft"?jn({x:l+v,y:c+m,textAnchor:b,verticalAnchor:p},T):i==="insideTopRight"?jn({x:l+u-v,y:c+m,textAnchor:x,verticalAnchor:p},T):i==="insideBottomLeft"?jn({x:l+v,y:c+d-m,textAnchor:b,verticalAnchor:h},T):i==="insideBottomRight"?jn({x:l+u-v,y:c+d-m,textAnchor:x,verticalAnchor:h},T):Ef(i)&&(He(i.x)||$c(i.x))&&(He(i.y)||$c(i.y))?jn({x:l+Ea(i.x,u),y:c+Ea(i.y,d),textAnchor:"end",verticalAnchor:"end"},T):jn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},T)},Goe=function(t){return"cx"in t&&He(t.cx)};function In(e){var t=e.offset,r=t===void 0?5:t,n=Doe(e,koe),s=jn({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,m=s.textBreakAll;if(!i||jt(l)&&jt(c)&&!L.isValidElement(u)&&!xt(u))return null;if(L.isValidElement(u))return L.cloneElement(u,s);var h;if(xt(u)){if(h=L.createElement(u,s),L.isValidElement(h))return h}else h=zoe(s);var p=Goe(i),y=ut(s,!0);if(p&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Hoe(s,h,y);var v=p?Voe(s):Woe(s);return ce.createElement(cu,Xm({className:yt("recharts-label",f)},y,v,{breakAll:m}),h)}In.displayName="Label";var p8=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,m=t.y,h=t.top,p=t.left,y=t.width,v=t.height,x=t.clockWise,b=t.labelViewBox;if(b)return b;if(He(y)&&He(v)){if(He(f)&&He(m))return{x:f,y:m,width:y,height:v};if(He(h)&&He(p))return{x:h,y:p,width:y,height:v}}return He(f)&&He(m)?{x:f,y:m,width:0,height:0}:He(r)&&He(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},Yoe=function(t,r){return t?t===!0?ce.createElement(In,{key:"label-implicit",viewBox:r}):En(t)?ce.createElement(In,{key:"label-implicit",viewBox:r,value:t}):L.isValidElement(t)?t.type===In?L.cloneElement(t,{key:"label-implicit",viewBox:r}):ce.createElement(In,{key:"label-implicit",content:t,viewBox:r}):xt(t)?ce.createElement(In,{key:"label-implicit",content:t,viewBox:r}):Ef(t)?ce.createElement(In,Xm({viewBox:r},t,{key:"label-implicit"})):null:null},Koe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=p8(t),o=gs(s,In).map(function(c,u){return L.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=Yoe(t.label,r||i);return[l].concat(Ooe(o))};In.parseViewBox=p8;In.renderCallByParent=Koe;function Xoe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Joe=Xoe;const Zoe=or(Joe);function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}var Qoe=["valueAccessor"],ele=["data","dataKey","clockWise","id","textBreakAll"];function tle(e){return sle(e)||ale(e)||nle(e)||rle()}function rle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nle(e,t){if(e){if(typeof e=="string")return nN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nN(e,t)}}function ale(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sle(e){if(Array.isArray(e))return nN(e)}function nN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ux.apply(this,arguments)}function xE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xE(Object(r),!0).forEach(function(n){ile(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ile(e,t,r){return t=ole(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ole(e){var t=lle(e,"string");return Jm(t)=="symbol"?t:t+""}function lle(e,t){if(Jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vE(e,t){if(e==null)return{};var r=cle(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ule=function(t){return Array.isArray(t.value)?Zoe(t.value):t.value};function Hi(e){var t=e.valueAccessor,r=t===void 0?ule:t,n=vE(e,Qoe),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=vE(n,ele);return!s||!s.length?null:ce.createElement(Bt,{className:"recharts-label-list"},s.map(function(d,f){var m=jt(i)?r(d,f):sn(d&&d.payload,i),h=jt(l)?{}:{id:"".concat(l,"-").concat(f)};return ce.createElement(In,Ux({},ut(d,!0),u,h,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:In.parseViewBox(jt(o)?d:yE(yE({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Hi.displayName="LabelList";function dle(e,t){return e?e===!0?ce.createElement(Hi,{key:"labelList-implicit",data:t}):ce.isValidElement(e)||xt(e)?ce.createElement(Hi,{key:"labelList-implicit",data:t,content:e}):Ef(e)?ce.createElement(Hi,Ux({data:t},e,{key:"labelList-implicit"})):null:null}function fle(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=gs(n,Hi).map(function(o,l){return L.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=dle(e.label,t);return[i].concat(tle(s))}Hi.renderCallByParent=fle;function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}function aN(){return aN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aN.apply(this,arguments)}function bE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bE(Object(r),!0).forEach(function(n){hle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hle(e,t,r){return t=mle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mle(e){var t=ple(e,"string");return Zm(t)=="symbol"?t:t+""}function ple(e,t){if(Zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gle=function(t,r){var n=_a(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},Z0=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/Bx,m=u?i:i+o*f,h=jr(r,n,d,m),p=jr(r,n,s,m),y=u?i-o*f:i,v=jr(r,n,d*Math.cos(f*Bx),y);return{center:h,circleTangency:p,lineTangency:v,theta:f}},g8=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=gle(o,l),u=o+c,d=jr(r,n,i,o),f=jr(r,n,i,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var h=jr(r,n,s,o),p=jr(r,n,s,u);m+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},xle=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=_a(d-u),m=Z0({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),h=m.circleTangency,p=m.lineTangency,y=m.theta,v=Z0({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),x=v.circleTangency,b=v.lineTangency,N=v.theta,w=c?Math.abs(u-d):Math.abs(u-d)-y-N;if(w<0)return l?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):g8({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d});var S="M ".concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(w>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(s>0){var _=Z0({cx:r,cy:n,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),T=_.circleTangency,k=_.lineTangency,P=_.theta,D=Z0({cx:r,cy:n,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=D.circleTangency,I=D.lineTangency,$=D.theta,E=c?Math.abs(u-d):Math.abs(u-d)-P-$;if(E<0&&o===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(E>180),",").concat(+(f>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},yle={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},x8=function(t){var r=wE(wE({},yle),t),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,m=r.className;if(o<i||d===f)return null;var h=yt("recharts-sector",m),p=o-i,y=Ea(l,p,0,!0),v;return y>0&&Math.abs(d-f)<360?v=xle({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(y,p/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=g8({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),ce.createElement("path",aN({},ut(r,!0),{className:h,d:v,role:"img"}))};function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qm(e)}function sN(){return sN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sN.apply(this,arguments)}function NE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NE(Object(r),!0).forEach(function(n){vle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vle(e,t,r){return t=ble(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ble(e){var t=wle(e,"string");return Qm(t)=="symbol"?t:t+""}function wle(e,t){if(Qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SE={curveBasisClosed:vG,curveBasisOpen:bG,curveBasis:yG,curveBumpX:aG,curveBumpY:sG,curveLinearClosed:wG,curveLinear:ov,curveMonotoneX:NG,curveMonotoneY:jG,curveNatural:SG,curveStep:AG,curveStepAfter:EG,curveStepBefore:_G},Q0=function(t){return t.x===+t.x&&t.y===+t.y},Th=function(t){return t.x},kh=function(t){return t.y},Nle=function(t,r){if(xt(t))return t;var n="curve".concat(sv(t));return(n==="curveMonotone"||n==="curveBump")&&r?SE["".concat(n).concat(r==="vertical"?"Y":"X")]:SE[n]||ov},jle=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Nle(n,l),f=u?i.filter(function(y){return Q0(y)}):i,m;if(Array.isArray(o)){var h=u?o.filter(function(y){return Q0(y)}):o,p=f.map(function(y,v){return jE(jE({},y),{},{base:h[v]})});return l==="vertical"?m=q0().y(kh).x1(Th).x0(function(y){return y.base.x}):m=q0().x(Th).y1(kh).y0(function(y){return y.base.y}),m.defined(Q0).curve(d),m(p)}return l==="vertical"&&He(o)?m=q0().y(kh).x1(Th).x0(o):He(o)?m=q0().x(Th).y1(kh).y0(o):m=dI().x(Th).y(kh),m.defined(Q0).curve(d),m(f)},Xc=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?jle(t):s;return L.createElement("path",sN({},ut(t,!1),dx(t),{className:yt("recharts-curve",r),d:o,ref:i}))},y8={exports:{}},Sle="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ale=Sle,_le=Ale;function v8(){}function b8(){}b8.resetWarningCache=v8;var Ele=function(){function e(n,s,i,o,l,c){if(c!==_le){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:b8,resetWarningCache:v8};return r.PropTypes=r,r};y8.exports=Ele();var Ple=y8.exports;const tr=or(Ple);var Cle=Object.getOwnPropertyNames,Tle=Object.getOwnPropertySymbols,kle=Object.prototype.hasOwnProperty;function AE(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function eg(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);var i=s.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,s);return i.delete(r),i.delete(n),c}}function _E(e){return Cle(e).concat(Tle(e))}var Ole=Object.hasOwn||function(e,t){return kle.call(e,t)};function ju(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Ile="__v",Lle="__o",Rle="_owner",EE=Object.getOwnPropertyDescriptor,PE=Object.keys;function Mle(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Dle(e,t){return ju(e.getTime(),t.getTime())}function $le(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Fle(e,t){return e===t}function CE(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(s[f]){f++;continue}var m=o.value,h=l.value;if(r.equals(m[0],h[0],c,f,e,t,r)&&r.equals(m[1],h[1],m[0],h[0],e,t,r)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}var Ble=ju;function Ule(e,t,r){var n=PE(e),s=n.length;if(PE(t).length!==s)return!1;for(;s-- >0;)if(!w8(e,t,r,n[s]))return!1;return!0}function Oh(e,t,r){var n=_E(e),s=n.length;if(_E(t).length!==s)return!1;for(var i,o,l;s-- >0;)if(i=n[s],!w8(e,t,r,i)||(o=EE(e,i),l=EE(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function zle(e,t){return ju(e.valueOf(),t.valueOf())}function qle(e,t){return e.source===t.source&&e.flags===t.flags}function TE(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!s[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function Hle(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Vle(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function w8(e,t,r,n){return(n===Rle||n===Lle||n===Ile)&&(e.$$typeof||t.$$typeof)?!0:Ole(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var Wle="[object Arguments]",Gle="[object Boolean]",Yle="[object Date]",Kle="[object Error]",Xle="[object Map]",Jle="[object Number]",Zle="[object Object]",Qle="[object RegExp]",ece="[object Set]",tce="[object String]",rce="[object URL]",nce=Array.isArray,kE=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,OE=Object.assign,ace=Object.prototype.toString.call.bind(Object.prototype.toString);function sce(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,m=e.areUrlsEqual;return function(p,y,v){if(p===y)return!0;if(p==null||y==null)return!1;var x=typeof p;if(x!==typeof y)return!1;if(x!=="object")return x==="number"?o(p,y,v):x==="function"?s(p,y,v):!1;var b=p.constructor;if(b!==y.constructor)return!1;if(b===Object)return l(p,y,v);if(nce(p))return t(p,y,v);if(kE!=null&&kE(p))return f(p,y,v);if(b===Date)return r(p,y,v);if(b===RegExp)return u(p,y,v);if(b===Map)return i(p,y,v);if(b===Set)return d(p,y,v);var N=ace(p);return N===Yle?r(p,y,v):N===Qle?u(p,y,v):N===Xle?i(p,y,v):N===ece?d(p,y,v):N===Zle?typeof p.then!="function"&&typeof y.then!="function"&&l(p,y,v):N===rce?m(p,y,v):N===Kle?n(p,y,v):N===Wle?l(p,y,v):N===Gle||N===Jle||N===tce?c(p,y,v):!1}}function ice(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,s={areArraysEqual:n?Oh:Mle,areDatesEqual:Dle,areErrorsEqual:$le,areFunctionsEqual:Fle,areMapsEqual:n?AE(CE,Oh):CE,areNumbersEqual:Ble,areObjectsEqual:n?Oh:Ule,arePrimitiveWrappersEqual:zle,areRegExpsEqual:qle,areSetsEqual:n?AE(TE,Oh):TE,areTypedArraysEqual:n?Oh:Hle,areUrlsEqual:Vle};if(r&&(s=OE({},s,r(s))),t){var i=eg(s.areArraysEqual),o=eg(s.areMapsEqual),l=eg(s.areObjectsEqual),c=eg(s.areSetsEqual);s=OE({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function oce(e){return function(t,r,n,s,i,o,l){return e(t,r,l)}}function lce(e){var t=e.circular,r=e.comparator,n=e.createState,s=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,m=f===void 0?t?new WeakMap:void 0:f,h=d.meta;return r(c,u,{cache:m,equals:s,meta:h,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var cce=rc();rc({strict:!0});rc({circular:!0});rc({circular:!0,strict:!0});rc({createInternalComparator:function(){return ju}});rc({strict:!0,createInternalComparator:function(){return ju}});rc({circular:!0,createInternalComparator:function(){return ju}});rc({circular:!0,createInternalComparator:function(){return ju},strict:!0});function rc(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,s=e.createState,i=e.strict,o=i===void 0?!1:i,l=ice(e),c=sce(l),u=n?n(c):oce(c);return lce({circular:r,comparator:c,createState:s,equals:u,strict:o})}function uce(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function IE(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):uce(s)};requestAnimationFrame(n)}function iN(e){"@babel/helpers - typeof";return iN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iN(e)}function dce(e){return pce(e)||mce(e)||hce(e)||fce()}function fce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hce(e,t){if(e){if(typeof e=="string")return LE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LE(e,t)}}function LE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pce(e){if(Array.isArray(e))return e}function gce(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=dce(o),c=l[0],u=l.slice(1);if(typeof c=="number"){IE(s.bind(null,u),c);return}s(c),IE(s.bind(null,u));return}iN(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}function RE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ME(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RE(Object(r),!0).forEach(function(n){N8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N8(e,t,r){return t=xce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xce(e){var t=yce(e,"string");return ep(t)==="symbol"?t:String(t)}function yce(e,t){if(ep(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ep(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vce=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},bce=function(t){return t},wce=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},nm=function(t,r){return Object.keys(r).reduce(function(n,s){return ME(ME({},n),{},N8({},s,t(s,r[s])))},{})},DE=function(t,r,n){return t.map(function(s){return"".concat(wce(s)," ").concat(r,"ms ").concat(n)}).join(",")};function Nce(e,t){return Ace(e)||Sce(e,t)||j8(e,t)||jce()}function jce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Ace(e){if(Array.isArray(e))return e}function _ce(e){return Cce(e)||Pce(e)||j8(e)||Ece()}function Ece(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j8(e,t){if(e){if(typeof e=="string")return oN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oN(e,t)}}function Pce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Cce(e){if(Array.isArray(e))return oN(e)}function oN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var zx=1e-4,S8=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},A8=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},$E=function(t,r){return function(n){var s=S8(t,r);return A8(s,n)}},Tce=function(t,r){return function(n){var s=S8(t,r),i=[].concat(_ce(s.map(function(o,l){return o*l}).slice(1)),[0]);return A8(i,n)}},FE=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=Nce(u,4);s=d[0],i=d[1],o=d[2],l=d[3]}}}var f=$E(s,o),m=$E(i,l),h=Tce(s,o),p=function(x){return x>1?1:x<0?0:x},y=function(x){for(var b=x>1?1:x,N=b,w=0;w<8;++w){var S=f(N)-b,_=h(N);if(Math.abs(S-b)<zx||_<zx)return m(N);N=p(N-S/_)}return m(N)};return y.isStepper=!1,y},kce=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(d,f,m){var h=-(d-f)*n,p=m*i,y=m+(h-p)*l/1e3,v=m*l/1e3+d;return Math.abs(v-f)<zx&&Math.abs(y)<zx?[f,0]:[v,y]};return c.isStepper=!0,c.dt=l,c},Oce=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return FE(s);case"spring":return kce();default:if(s.split("(")[0]==="cubic-bezier")return FE(s)}return typeof s=="function"?s:null};function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}function BE(e){return Rce(e)||Lce(e)||_8(e)||Ice()}function Ice(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rce(e){if(Array.isArray(e))return cN(e)}function UE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UE(Object(r),!0).forEach(function(n){lN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lN(e,t,r){return t=Mce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mce(e){var t=Dce(e,"string");return tp(t)==="symbol"?t:String(t)}function Dce(e,t){if(tp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $ce(e,t){return Uce(e)||Bce(e,t)||_8(e,t)||Fce()}function Fce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _8(e,t){if(e){if(typeof e=="string")return cN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cN(e,t)}}function cN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Uce(e){if(Array.isArray(e))return e}var qx=function(t,r,n){return t+(r-t)*n},uN=function(t){var r=t.from,n=t.to;return r!==n},zce=function e(t,r,n){var s=nm(function(i,o){if(uN(o)){var l=t(o.from,o.to,o.velocity),c=$ce(l,2),u=c[0],d=c[1];return Yn(Yn({},o),{},{from:u,velocity:d})}return o},r);return n<1?nm(function(i,o){return uN(o)?Yn(Yn({},o),{},{velocity:qx(o.velocity,s[i].velocity,n),from:qx(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const qce=function(e,t,r,n,s){var i=vce(e,t),o=i.reduce(function(v,x){return Yn(Yn({},v),{},lN({},x,[e[x],t[x]]))},{}),l=i.reduce(function(v,x){return Yn(Yn({},v),{},lN({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return nm(function(x,b){return b.from},l)},h=function(){return!Object.values(l).filter(uN).length},p=function(x){u||(u=x);var b=x-u,N=b/r.dt;l=zce(r,l,N),s(Yn(Yn(Yn({},e),t),m())),u=x,h()||(c=requestAnimationFrame(f))},y=function(x){d||(d=x);var b=(x-d)/n,N=nm(function(S,_){return qx.apply(void 0,BE(_).concat([r(b)]))},o);if(s(Yn(Yn(Yn({},e),t),N)),b<1)c=requestAnimationFrame(f);else{var w=nm(function(S,_){return qx.apply(void 0,BE(_).concat([r(1)]))},o);s(Yn(Yn(Yn({},e),t),w))}};return f=r.isStepper?p:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Qd(e){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qd(e)}var Hce=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Vce(e,t){if(e==null)return{};var r=Wce(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wce(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function vb(e){return Xce(e)||Kce(e)||Yce(e)||Gce()}function Gce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yce(e,t){if(e){if(typeof e=="string")return dN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dN(e,t)}}function Kce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xce(e){if(Array.isArray(e))return dN(e)}function dN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zE(Object(r),!0).forEach(function(n){qh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qh(e,t,r){return t=E8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E8(n.key),n)}}function Qce(e,t,r){return t&&Zce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function E8(e){var t=eue(e,"string");return Qd(t)==="symbol"?t:String(t)}function eue(e,t){if(Qd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fN(e,t)}function fN(e,t){return fN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},fN(e,t)}function rue(e){var t=nue();return function(){var n=Hx(e),s;if(t){var i=Hx(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return hN(this,s)}}function hN(e,t){if(t&&(Qd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mN(e)}function mN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nue(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hx(e){return Hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hx(e)}var hi=function(e){tue(r,e);var t=rue(r);function r(n,s){var i;Jce(this,r),i=t.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,m=o.children,h=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(mN(i)),i.changeStyle=i.changeStyle.bind(mN(i)),!l||h<=0)return i.state={style:{}},typeof m=="function"&&(i.state={style:d}),hN(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof m=="function")return i.state={style:u},hN(i);i.state={style:c?qh({},c,u):u}}else i.state={style:{}};return i}return Qce(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,m=this.state.style;if(l){if(!o){var h={style:c?qh({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(h);return}if(!(cce(s.to,d)&&s.canBegin&&s.isActive)){var p=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=p||u?f:s.to;if(this.state&&m){var v={style:c?qh({},c,y):y};(c&&m[c]!==y||!c&&m!==y)&&this.setState(v)}this.runAnimation(Zs(Zs({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,m=s.onAnimationStart,h=qce(o,l,Oce(u),c,this.changeStyle),p=function(){i.stopJSAnimation=h()};this.manager.start([m,d,p,c,f])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,m=f===void 0?0:f,h=function(y,v,x){if(x===0)return y;var b=v.duration,N=v.easing,w=N===void 0?"ease":N,S=v.style,_=v.properties,T=v.onAnimationEnd,k=x>0?o[x-1]:v,P=_||Object.keys(S);if(typeof w=="function"||w==="spring")return[].concat(vb(y),[i.runJSAnimation.bind(i,{from:k.style,to:S,duration:b,easing:w}),b]);var D=DE(P,b,w),A=Zs(Zs(Zs({},k.style),S),{},{transition:D});return[].concat(vb(y),[A,b,T]).filter(bce)};return this.manager.start([c].concat(vb(o.reduce(h,[d,Math.max(m,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=gce());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,m=s.steps,h=s.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(s);return}if(m.length>1){this.runStepAnimation(s);return}var y=l?qh({},l,c):c,v=DE(Object.keys(y),o,u);p.start([d,i,Zs(Zs({},y),{},{transition:v}),o,f])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=Vce(s,Hce),u=L.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(h){var p=h.props,y=p.style,v=y===void 0?{}:y,x=p.className,b=L.cloneElement(h,Zs(Zs({},c),{},{style:Zs(Zs({},v),d),className:x}));return b};return u===1?f(L.Children.only(i)):ce.createElement("div",null,L.Children.map(i,function(m){return f(m)}))}}]),r}(L.PureComponent);hi.displayName="Animate";hi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};hi.propTypes={from:tr.oneOfType([tr.object,tr.string]),to:tr.oneOfType([tr.object,tr.string]),attributeName:tr.string,duration:tr.number,begin:tr.number,easing:tr.oneOfType([tr.string,tr.func]),steps:tr.arrayOf(tr.shape({duration:tr.number.isRequired,style:tr.object.isRequired,easing:tr.oneOfType([tr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),tr.func]),properties:tr.arrayOf("string"),onAnimationEnd:tr.func})),children:tr.oneOfType([tr.node,tr.func]),isActive:tr.bool,canBegin:tr.bool,onAnimationEnd:tr.func,shouldReAnimate:tr.bool,onAnimationStart:tr.func,onAnimationReStart:tr.func};function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function Vx(){return Vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vx.apply(this,arguments)}function aue(e,t){return lue(e)||oue(e,t)||iue(e,t)||sue()}function sue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iue(e,t){if(e){if(typeof e=="string")return qE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qE(e,t)}}function qE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function lue(e){if(Array.isArray(e))return e}function HE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function VE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(r),!0).forEach(function(n){cue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cue(e,t,r){return t=uue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uue(e){var t=due(e,"string");return rp(t)=="symbol"?t:t+""}function due(e,t){if(rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WE=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],m=0,h=4;m<h;m++)f[m]=i[m]>o?o:i[m];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+s)),d+="L ".concat(t+c*f[3],",").concat(r+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var p=Math.min(o,i);d="M ".concat(t,",").concat(r+l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+c*p,",").concat(r,`
            L `).concat(t+n-c*p,",").concat(r,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*p,`
            L `).concat(t+n,",").concat(r+s-l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+n-c*p,",").concat(r+s,`
            L `).concat(t+c*p,",").concat(r+s,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*p," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},fue=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),m=Math.max(o,o+c);return n>=u&&n<=d&&s>=f&&s<=m}return!1},hue={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rS=function(t){var r=VE(VE({},hue),t),n=L.useRef(),s=L.useState(-1),i=aue(s,2),o=i[0],l=i[1];L.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,m=r.radius,h=r.className,p=r.animationEasing,y=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var N=yt("recharts-rectangle",h);return b?ce.createElement(hi,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:y,animationEasing:p,isActive:b},function(w){var S=w.width,_=w.height,T=w.x,k=w.y;return ce.createElement(hi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,isActive:x,easing:p},ce.createElement("path",Vx({},ut(r,!0),{className:N,d:WE(T,k,S,_,m),ref:n})))}):ce.createElement("path",Vx({},ut(r,!0),{className:N,d:WE(c,u,d,f,m)}))},mue=["points","className","baseLinePoints","connectNulls"];function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},md.apply(this,arguments)}function pue(e,t){if(e==null)return{};var r=gue(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function GE(e){return bue(e)||vue(e)||yue(e)||xue()}function xue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yue(e,t){if(e){if(typeof e=="string")return pN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pN(e,t)}}function vue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bue(e){if(Array.isArray(e))return pN(e)}function pN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var YE=function(t){return t&&t.x===+t.x&&t.y===+t.y},wue=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){YE(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),YE(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},am=function(t,r){var n=wue(t);r&&(n=[n.reduce(function(i,o){return[].concat(GE(i),GE(o))},[])]);var s=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},Nue=function(t,r,n){var s=am(t,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(am(r.reverse(),n).slice(1))},jue=function(t){var r=t.points,n=t.className,s=t.baseLinePoints,i=t.connectNulls,o=pue(t,mue);if(!r||!r.length)return null;var l=yt("recharts-polygon",n);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",u=Nue(r,s,i);return ce.createElement("g",{className:l},ce.createElement("path",md({},ut(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?ce.createElement("path",md({},ut(o,!0),{fill:"none",d:am(r,i)})):null,c?ce.createElement("path",md({},ut(o,!0),{fill:"none",d:am(s,i)})):null)}var d=am(r,i);return ce.createElement("path",md({},ut(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function gN(){return gN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gN.apply(this,arguments)}var Rp=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,o=yt("recharts-dot",i);return r===+r&&n===+n&&s===+s?L.createElement("circle",gN({},ut(t,!1),dx(t),{className:o,cx:r,cy:n,r:s})):null};function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}var Sue=["x","y","top","left","width","height","className"];function xN(){return xN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xN.apply(this,arguments)}function KE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Aue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KE(Object(r),!0).forEach(function(n){_ue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ue(e,t,r){return t=Eue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eue(e){var t=Pue(e,"string");return np(t)=="symbol"?t:t+""}function Pue(e,t){if(np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cue(e,t){if(e==null)return{};var r=Tue(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var kue=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},Oue=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,m=t.height,h=m===void 0?0:m,p=t.className,y=Cue(t,Sue),v=Aue({x:n,y:i,top:l,left:u,width:f,height:h},y);return!He(n)||!He(i)||!He(f)||!He(h)||!He(l)||!He(u)?null:ce.createElement("path",xN({},ut(v,!0),{className:yt("recharts-cross",p),d:kue(n,i,f,h,l,u)}))},Iue=vv,Lue=FL,Rue=Yi;function Mue(e,t){return e&&e.length?Iue(e,Rue(t),Lue):void 0}var Due=Mue;const $ue=or(Due);var Fue=vv,Bue=Yi,Uue=BL;function zue(e,t){return e&&e.length?Fue(e,Bue(t),Uue):void 0}var que=zue;const Hue=or(que);var Vue=["cx","cy","angle","ticks","axisLine"],Wue=["ticks","tick","angle","tickFormatter","stroke"];function ef(e){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(e)}function sm(){return sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sm.apply(this,arguments)}function XE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XE(Object(r),!0).forEach(function(n){jv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JE(e,t){if(e==null)return{};var r=Gue(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Yue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C8(n.key),n)}}function Kue(e,t,r){return t&&ZE(e.prototype,t),r&&ZE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xue(e,t,r){return t=Wx(t),Jue(e,P8()?Reflect.construct(t,r||[],Wx(e).constructor):t.apply(e,r))}function Jue(e,t){if(t&&(ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zue(e)}function Zue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P8=function(){return!!e})()}function Wx(e){return Wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wx(e)}function Que(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yN(e,t)}function yN(e,t){return yN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},yN(e,t)}function jv(e,t,r){return t=C8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C8(e){var t=ede(e,"string");return ef(t)=="symbol"?t:t+""}function ede(e,t){if(ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Sv=function(e){function t(){return Yue(this,t),Xue(this,t,arguments)}return Que(t,e),Kue(t,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return jr(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=$ue(l,function(d){return d.coordinate||0}),u=Hue(l,function(d){return d.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=JE(n,Vue),d=l.reduce(function(p,y){return[Math.min(p[0],y.coordinate),Math.max(p[1],y.coordinate)]},[1/0,-1/0]),f=jr(s,i,d[0],o),m=jr(s,i,d[1],o),h=wc(wc(wc({},ut(u,!1)),{},{fill:"none"},ut(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return ce.createElement("line",sm({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,d=JE(s,Wue),f=this.getTickTextAnchor(),m=ut(d,!1),h=ut(o,!1),p=i.map(function(y,v){var x=n.getTickValueCoord(y),b=wc(wc(wc(wc({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},m),{},{stroke:"none",fill:u},h),{},{index:v},x),{},{payload:y});return ce.createElement(Bt,sm({className:yt("recharts-polar-radius-axis-tick",m8(o)),key:"tick-".concat(y.coordinate)},lu(n.props,y,v)),t.renderTickItem(o,b,c?c(y.value,v):y.value))});return ce.createElement(Bt,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.axisLine,o=n.tick;return!s||!s.length?null:ce.createElement(Bt,{className:yt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),In.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,i){var o;return ce.isValidElement(n)?o=ce.cloneElement(n,s):xt(n)?o=n(s):o=ce.createElement(cu,sm({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(L.PureComponent);jv(Sv,"displayName","PolarRadiusAxis");jv(Sv,"axisType","radiusAxis");jv(Sv,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function tf(e){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(e)}function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kc.apply(this,arguments)}function QE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Nc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QE(Object(r),!0).forEach(function(n){Av(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k8(n.key),n)}}function rde(e,t,r){return t&&eP(e.prototype,t),r&&eP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nde(e,t,r){return t=Gx(t),ade(e,T8()?Reflect.construct(t,r||[],Gx(e).constructor):t.apply(e,r))}function ade(e,t){if(t&&(tf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sde(e)}function sde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T8=function(){return!!e})()}function Gx(e){return Gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gx(e)}function ide(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vN(e,t)}function vN(e,t){return vN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},vN(e,t)}function Av(e,t,r){return t=k8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k8(e){var t=ode(e,"string");return tf(t)=="symbol"?t:t+""}function ode(e,t){if(tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lde=Math.PI/180,tP=1e-5,_v=function(e){function t(){return tde(this,t),nde(this,t,arguments)}return ide(t,e),rde(t,[{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.cx,o=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,d=u||8,f=jr(i,o,l,n.coordinate),m=jr(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,i=Math.cos(-n.coordinate*lde),o;return i>tP?o=s==="outer"?"start":"end":i<-tP?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Nc(Nc({},ut(this.props,!1)),{},{fill:"none"},ut(l,!1));if(c==="circle")return ce.createElement(Rp,kc({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(m){return jr(s,i,o,m.coordinate)});return ce.createElement(jue,kc({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,d=ut(this.props,!1),f=ut(o,!1),m=Nc(Nc({},d),{},{fill:"none"},ut(l,!1)),h=i.map(function(p,y){var v=n.getTickLineCoord(p),x=n.getTickTextAnchor(p),b=Nc(Nc(Nc({textAnchor:x},d),{},{stroke:"none",fill:u},f),{},{index:y,payload:p,x:v.x2,y:v.y2});return ce.createElement(Bt,kc({className:yt("recharts-polar-angle-axis-tick",m8(o)),key:"tick-".concat(p.coordinate)},lu(n.props,p,y)),l&&ce.createElement("line",kc({className:"recharts-polar-angle-axis-tick-line"},m,v)),o&&t.renderTickItem(o,b,c?c(p.value,y):p.value))});return ce.createElement(Bt,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!s||!s.length?null:ce.createElement(Bt,{className:yt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,i){var o;return ce.isValidElement(n)?o=ce.cloneElement(n,s):xt(n)?o=n(s):o=ce.createElement(cu,kc({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(L.PureComponent);Av(_v,"displayName","PolarAngleAxis");Av(_v,"axisType","angleAxis");Av(_v,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var cde=RI,ude=cde(Object.getPrototypeOf,Object),dde=ude,fde=Go,hde=dde,mde=Yo,pde="[object Object]",gde=Function.prototype,xde=Object.prototype,O8=gde.toString,yde=xde.hasOwnProperty,vde=O8.call(Object);function bde(e){if(!mde(e)||fde(e)!=pde)return!1;var t=hde(e);if(t===null)return!0;var r=yde.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&O8.call(r)==vde}var wde=bde;const Nde=or(wde);var jde=Go,Sde=Yo,Ade="[object Boolean]";function _de(e){return e===!0||e===!1||Sde(e)&&jde(e)==Ade}var Ede=_de;const Pde=or(Ede);function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}function Yx(){return Yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yx.apply(this,arguments)}function Cde(e,t){return Ide(e)||Ode(e,t)||kde(e,t)||Tde()}function Tde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kde(e,t){if(e){if(typeof e=="string")return rP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rP(e,t)}}function rP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ode(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Ide(e){if(Array.isArray(e))return e}function nP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function aP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nP(Object(r),!0).forEach(function(n){Lde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lde(e,t,r){return t=Rde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rde(e){var t=Mde(e,"string");return ap(t)=="symbol"?t:t+""}function Mde(e,t){if(ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sP=function(t,r,n,s,i){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},Dde={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$de=function(t){var r=aP(aP({},Dde),t),n=L.useRef(),s=L.useState(-1),i=Cde(s,2),o=i[0],l=i[1];L.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,m=r.height,h=r.className,p=r.animationEasing,y=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var b=yt("recharts-trapezoid",h);return x?ce.createElement(hi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:y,animationEasing:p,isActive:x},function(N){var w=N.upperWidth,S=N.lowerWidth,_=N.height,T=N.x,k=N.y;return ce.createElement(hi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,easing:p},ce.createElement("path",Yx({},ut(r,!0),{className:b,d:sP(T,k,w,S,_),ref:n})))}):ce.createElement("g",null,ce.createElement("path",Yx({},ut(r,!0),{className:b,d:sP(c,u,d,f,m)})))},Fde=["option","shapeType","propTransformer","activeClassName","isActive"];function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function Bde(e,t){if(e==null)return{};var r=Ude(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ude(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Kx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iP(Object(r),!0).forEach(function(n){zde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zde(e,t,r){return t=qde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qde(e){var t=Hde(e,"string");return sp(t)=="symbol"?t:t+""}function Hde(e,t){if(sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vde(e,t){return Kx(Kx({},t),e)}function Wde(e,t){return e==="symbols"}function oP(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return ce.createElement(rS,r);case"trapezoid":return ce.createElement($de,r);case"sector":return ce.createElement(x8,r);case"symbols":if(Wde(t))return ce.createElement(w5,r);break;default:return null}}function Gde(e){return L.isValidElement(e)?e.props:e}function I8(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?Vde:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=Bde(e,Fde),u;if(L.isValidElement(t))u=L.cloneElement(t,Kx(Kx({},c),Gde(t)));else if(xt(t))u=t(c);else if(Nde(t)&&!Pde(t)){var d=s(t,c);u=ce.createElement(oP,{shapeType:r,elementProps:d})}else{var f=c;u=ce.createElement(oP,{shapeType:r,elementProps:f})}return l?ce.createElement(Bt,{className:o},u):u}function Ev(e,t){return t!=null&&"trapezoids"in e.props}function Pv(e,t){return t!=null&&"sectors"in e.props}function ip(e,t){return t!=null&&"points"in e.props}function Yde(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function Kde(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Xde(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function Jde(e,t){var r;return Ev(e,t)?r=Yde:Pv(e,t)?r=Kde:ip(e,t)&&(r=Xde),r}function Zde(e,t){var r;return Ev(e,t)?r="trapezoids":Pv(e,t)?r="sectors":ip(e,t)&&(r="points"),r}function Qde(e,t){if(Ev(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Pv(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return ip(e,t)?t.payload:{}}function efe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=Zde(r,t),i=Qde(r,t),o=n.filter(function(c,u){var d=uu(i,c),f=r.props[s].filter(function(p){var y=Jde(r,t);return y(p,t)}),m=r.props[s].indexOf(f[f.length-1]),h=u===m;return d&&h}),l=n.indexOf(o[o.length-1]);return l}var Tg;function rf(e){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rf(e)}function pd(){return pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pd.apply(this,arguments)}function lP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lP(Object(r),!0).forEach(function(n){Os(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R8(n.key),n)}}function rfe(e,t,r){return t&&cP(e.prototype,t),r&&cP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nfe(e,t,r){return t=Xx(t),afe(e,L8()?Reflect.construct(t,r||[],Xx(e).constructor):t.apply(e,r))}function afe(e,t){if(t&&(rf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sfe(e)}function sfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L8=function(){return!!e})()}function Xx(e){return Xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xx(e)}function ife(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bN(e,t)}function bN(e,t){return bN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},bN(e,t)}function Os(e,t,r){return t=R8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R8(e){var t=ofe(e,"string");return rf(t)=="symbol"?t:t+""}function ofe(e,t){if(rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xo=function(e){function t(r){var n;return tfe(this,t),n=nfe(this,t,[r]),Os(n,"pieRef",null),Os(n,"sectorRefs",[]),Os(n,"id",bu("recharts-pie-")),Os(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),xt(s)&&s()}),Os(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),xt(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return ife(t,e),rfe(t,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=ut(this.props,!1),f=ut(o,!1),m=ut(l,!1),h=o&&o.offsetRadius||20,p=n.map(function(y,v){var x=(y.startAngle+y.endAngle)/2,b=jr(y.cx,y.cy,y.outerRadius+h,x),N=br(br(br(br({},d),y),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(b.x,y.cx)},b),w=br(br(br(br({},d),y),{},{fill:"none",stroke:y.fill},m),{},{index:v,points:[jr(y.cx,y.cy,y.outerRadius,x),b]}),S=c;return jt(c)&&jt(u)?S="value":jt(c)&&(S=u),ce.createElement(Bt,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,w,"line"),t.renderLabelItem(o,N,sn(y,S)))});return ce.createElement(Bt,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(n){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=s.isActiveIndex(d),m=c&&s.hasActiveIndex()?c:null,h=f?o:m,p=br(br({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return ce.createElement(Bt,pd({ref:function(v){v&&!s.sectorRefs.includes(v)&&s.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},lu(s.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),ce.createElement(I8,pd({option:h,isActive:f,shapeType:"sector"},p)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,d=s.animationId,f=this.state,m=f.prevSectors,h=f.prevIsAnimationActive;return ce.createElement(hi,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(p){var y=p.t,v=[],x=i&&i[0],b=x.startAngle;return i.forEach(function(N,w){var S=m&&m[w],_=w>0?ps(N,"paddingAngle",0):0;if(S){var T=An(S.endAngle-S.startAngle,N.endAngle-N.startAngle),k=br(br({},N),{},{startAngle:b+_,endAngle:b+T(y)+_});v.push(k),b=k.endAngle}else{var P=N.endAngle,D=N.startAngle,A=An(0,P-D),I=A(y),$=br(br({},N),{},{startAngle:b+_,endAngle:b+I+_});v.push($),b=$.endAngle}}),ce.createElement(Bt,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!uu(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,c=s.label,u=s.cx,d=s.cy,f=s.innerRadius,m=s.outerRadius,h=s.isAnimationActive,p=this.state.isAnimationFinished;if(i||!o||!o.length||!He(u)||!He(d)||!He(f)||!He(m))return null;var y=yt("recharts-pie",l);return ce.createElement(Bt,{tabIndex:this.props.rootTabIndex,className:y,ref:function(x){n.pieRef=x}},this.renderSectors(),c&&this.renderLabels(o),In.renderCallByParent(this.props,null,!1),(!h||p)&&Hi.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,i){if(ce.isValidElement(n))return ce.cloneElement(n,s);if(xt(n))return n(s);var o=yt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return ce.createElement(Xc,pd({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,s,i){if(ce.isValidElement(n))return ce.cloneElement(n,s);var o=i;if(xt(n)&&(o=n(s),ce.isValidElement(o)))return o;var l=yt("recharts-pie-label-text",typeof n!="boolean"&&!xt(n)?n.className:"");return ce.createElement(cu,pd({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(L.PureComponent);Tg=Xo;Os(Xo,"displayName","Pie");Os(Xo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ql.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Os(Xo,"parseDeltaAngle",function(e,t){var r=_a(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Os(Xo,"getRealPieData",function(e){var t=e.data,r=e.children,n=ut(e,!1),s=gs(r,fv);return t&&t.length?t.map(function(i,o){return br(br(br({payload:i},n),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return br(br({},n),i.props)}):[]});Os(Xo,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,i=t.height,o=h8(s,i),l=n+Ea(e.cx,s,s/2),c=r+Ea(e.cy,i,i/2),u=Ea(e.innerRadius,o,0),d=Ea(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Os(Xo,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?br(br({},t.type.defaultProps),t.props):t.props,s=Tg.getRealPieData(n);if(!s||!s.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,m=n.tooltipType,h=Math.abs(n.minAngle),p=Tg.parseCoordinateOfPie(n,r),y=Tg.parseDeltaAngle(o,l),v=Math.abs(y),x=u;jt(u)&&jt(f)?(di(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):jt(u)&&(di(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var b=s.filter(function(k){return sn(k,x,0)!==0}).length,N=(v>=360?b:b-1)*c,w=v-b*h-N,S=s.reduce(function(k,P){var D=sn(P,x,0);return k+(He(D)?D:0)},0),_;if(S>0){var T;_=s.map(function(k,P){var D=sn(k,x,0),A=sn(k,d,P),I=(He(D)?D:0)/S,$;P?$=T.endAngle+_a(y)*c*(D!==0?1:0):$=o;var E=$+_a(y)*((D!==0?h:0)+I*w),M=($+E)/2,z=(p.innerRadius+p.outerRadius)/2,Z=[{name:A,value:D,payload:k,dataKey:x,type:m}],R=jr(p.cx,p.cy,z,M);return T=br(br(br({percent:I,cornerRadius:i,name:A,tooltipPayload:Z,midAngle:M,middleRadius:z,tooltipPosition:R},k),p),{},{value:sn(k,x),startAngle:$,endAngle:E,payload:k,paddingAngle:_a(y)*c}),T})}return br(br({},p),{},{sectors:_,data:s})});var lfe=Math.ceil,cfe=Math.max;function ufe(e,t,r,n){for(var s=-1,i=cfe(lfe((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++s]=e,e+=r;return o}var dfe=ufe,ffe=eL,uP=1/0,hfe=17976931348623157e292;function mfe(e){if(!e)return e===0?e:0;if(e=ffe(e),e===uP||e===-uP){var t=e<0?-1:1;return t*hfe}return e===e?e:0}var M8=mfe,pfe=dfe,gfe=dv,bb=M8;function xfe(e){return function(t,r,n){return n&&typeof n!="number"&&gfe(t,r,n)&&(r=n=void 0),t=bb(t),r===void 0?(r=t,t=0):r=bb(r),n=n===void 0?t<r?1:-1:bb(n),pfe(t,r,n,e)}}var yfe=xfe,vfe=yfe,bfe=vfe(),wfe=bfe;const Jx=or(wfe);function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}function dP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(r),!0).forEach(function(n){D8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D8(e,t,r){return t=Nfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nfe(e){var t=jfe(e,"string");return op(t)=="symbol"?t:t+""}function jfe(e,t){if(op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sfe=["Webkit","Moz","O","ms"],Afe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=Sfe.reduce(function(i,o){return fP(fP({},i),{},D8({},o+n,r))},{});return s[t]=r,s};function nf(e){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nf(e)}function Zx(){return Zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zx.apply(this,arguments)}function hP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hP(Object(r),!0).forEach(function(n){os(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F8(n.key),n)}}function Efe(e,t,r){return t&&mP(e.prototype,t),r&&mP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pfe(e,t,r){return t=Qx(t),Cfe(e,$8()?Reflect.construct(t,r||[],Qx(e).constructor):t.apply(e,r))}function Cfe(e,t){if(t&&(nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tfe(e)}function Tfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($8=function(){return!!e})()}function Qx(e){return Qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qx(e)}function kfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wN(e,t)}function wN(e,t){return wN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},wN(e,t)}function os(e,t,r){return t=F8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F8(e){var t=Ofe(e,"string");return nf(t)=="symbol"?t:t+""}function Ofe(e,t){if(nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ife=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=tm().domain(Jx(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},pP=function(t){return t.changedTouches&&!!t.changedTouches.length},af=function(e){function t(r){var n;return _fe(this,t),n=Pfe(this,t,[r]),os(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),os(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),os(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),os(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),os(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),os(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),os(n,"handleSlideDragStart",function(s){var i=pP(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return kfe(t,e),Efe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,i),m=Math.max(s,i),h=t.getIndexInRange(o,f),p=t.getIndexInRange(o,m);return{startIndex:h-h%c,endIndex:p===d?d:p-p%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=sn(i[n],l,n);return xt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,h=c.endIndex,p=c.onChange,y=n.pageX-i;y>0?y=Math.min(y,u+d-f-l,u+d-f-o):y<0&&(y=Math.max(y,u-o,u-l));var v=this.getIndex({startX:o+y,endX:l+y});(v.startIndex!==m||v.endIndex!==h)&&p&&p(v),this.setState({startX:o+y,endX:l+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=pP(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,m=d.width,h=d.travellerWidth,p=d.onChange,y=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,f+m-h-u):b<0&&(b=Math.max(b,f-u)),x[o]=u+b;var N=this.getIndex(x),w=N.startIndex,S=N.endIndex,_=function(){var k=v.length-1;return o==="startX"&&(l>c?w%y===0:S%y===0)||l<c&&S===k||o==="endX"&&(l>c?S%y===0:w%y===0)||l>c&&S===k};this.setState(os(os({},o,u+b),"brushMoveStartX",n.pageX),function(){p&&_()&&p(N)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var m=f+n;if(!(m===-1||m>=l.length)){var h=l[m];s==="startX"&&h>=u||s==="endX"&&h<=c||this.setState(os({},s,h),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return ce.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=L.Children.only(u);return f?ce.cloneElement(f,{x:s,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,h=c.ariaLabel,p=c.data,y=c.startIndex,v=c.endIndex,x=Math.max(n,this.props.x),b=wb(wb({},ut(this.props,!1)),{},{x,y:u,width:d,height:f}),N=h||"Min value: ".concat((i=p[y])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=p[v])===null||o===void 0?void 0:o.name);return ce.createElement(Bt,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,b))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,s)+u,f=Math.max(Math.abs(s-n)-u,0);return ce.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,m=d.endX,h=5,p={pointerEvents:"none",fill:u};return ce.createElement(Bt,{className:"recharts-brush-texts"},ce.createElement(cu,Zx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-h,y:o+l/2},p),this.getTextOfTick(s)),ce.createElement(cu,Zx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+h,y:o+l/2},p),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,m=this.state,h=m.startX,p=m.endX,y=m.isTextActive,v=m.isSlideMoving,x=m.isTravellerMoving,b=m.isTravellerFocused;if(!s||!s.length||!He(l)||!He(c)||!He(u)||!He(d)||u<=0||d<=0)return null;var N=yt("recharts-brush",i),w=ce.Children.count(o)===1,S=Afe("userSelect","none");return ce.createElement(Bt,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(h,p),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(p,"endX"),(y||v||x||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return ce.createElement(ce.Fragment,null,ce.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),ce.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),ce.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return ce.isValidElement(n)?i=ce.cloneElement(n,s):xt(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return wb({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?Ife({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var m=s.scale.domain().map(function(h){return s.scale(h)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(L.PureComponent);os(af,"displayName","Brush");os(af,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Lfe=P5;function Rfe(e,t){var r;return Lfe(e,function(n,s,i){return r=t(n,s,i),!r}),!!r}var Mfe=Rfe,Dfe=EI,$fe=Yi,Ffe=Mfe,Bfe=Ka,Ufe=dv;function zfe(e,t,r){var n=Bfe(e)?Dfe:Ffe;return r&&Ufe(e,t,r)&&(t=void 0),n(e,$fe(t))}var qfe=zfe;const Hfe=or(qfe);var Vi=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},gP=KI;function Vfe(e,t,r){t=="__proto__"&&gP?gP(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Wfe=Vfe,Gfe=Wfe,Yfe=GI,Kfe=Yi;function Xfe(e,t){var r={};return t=Kfe(t),Yfe(e,function(n,s,i){Gfe(r,s,t(n,s,i))}),r}var Jfe=Xfe;const Zfe=or(Jfe);function Qfe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var ehe=Qfe,the=P5;function rhe(e,t){var r=!0;return the(e,function(n,s,i){return r=!!t(n,s,i),r}),r}var nhe=rhe,ahe=ehe,she=nhe,ihe=Yi,ohe=Ka,lhe=dv;function che(e,t,r){var n=ohe(e)?ahe:she;return r&&lhe(e,t,r)&&(t=void 0),n(e,ihe(t))}var uhe=che;const B8=or(uhe);var dhe=["x","y"];function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(e)}function NN(){return NN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NN.apply(this,arguments)}function xP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ih(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xP(Object(r),!0).forEach(function(n){fhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fhe(e,t,r){return t=hhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hhe(e){var t=mhe(e,"string");return lp(t)=="symbol"?t:t+""}function mhe(e,t){if(lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function phe(e,t){if(e==null)return{};var r=ghe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ghe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xhe(e,t){var r=e.x,n=e.y,s=phe(e,dhe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),m=parseInt(f,10);return Ih(Ih(Ih(Ih(Ih({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function yP(e){return ce.createElement(I8,NN({shapeType:"rectangle",propTransformer:xhe,activeClassName:"recharts-active-bar"},e))}var yhe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=He(n)||HV(n);return i?t(n,s):(i||fu(),r)}},vhe=["value","background"],U8;function sf(e){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sf(e)}function bhe(e,t){if(e==null)return{};var r=whe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function whe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ey.apply(this,arguments)}function vP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(r),!0).forEach(function(n){kl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q8(n.key),n)}}function jhe(e,t,r){return t&&bP(e.prototype,t),r&&bP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function She(e,t,r){return t=ty(t),Ahe(e,z8()?Reflect.construct(t,r||[],ty(e).constructor):t.apply(e,r))}function Ahe(e,t){if(t&&(sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _he(e)}function _he(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z8=function(){return!!e})()}function ty(e){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ty(e)}function Ehe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jN(e,t)}function jN(e,t){return jN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},jN(e,t)}function kl(e,t,r){return t=q8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q8(e){var t=Phe(e,"string");return sf(t)=="symbol"?t:t+""}function Phe(e,t){if(sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Su=function(e){function t(){var r;Nhe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=She(this,t,[].concat(s)),kl(r,"state",{isAnimationFinished:!1}),kl(r,"id",bu("recharts-bar-")),kl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),kl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Ehe(t,e),jhe(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=ut(this.props,!1);return n&&n.map(function(f,m){var h=m===c,p=h?u:o,y=hn(hn(hn({},d),f),{},{isActive:h,option:p,index:m,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return ce.createElement(Bt,ey({className:"recharts-bar-rectangle"},lu(s.props,f,m),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(m)}),ce.createElement(yP,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,m=this.state.prevData;return ce.createElement(hi,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,y=i.map(function(v,x){var b=m&&m[x];if(b){var N=An(b.x,v.x),w=An(b.y,v.y),S=An(b.width,v.width),_=An(b.height,v.height);return hn(hn({},v),{},{x:N(p),y:w(p),width:S(p),height:_(p)})}if(o==="horizontal"){var T=An(0,v.height),k=T(p);return hn(hn({},v),{},{y:v.y+v.height-k,height:k})}var P=An(0,v.width),D=P(p);return hn(hn({},v),{},{width:D})});return ce.createElement(Bt,null,n.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!uu(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=ut(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,m=bhe(u,vhe);if(!f)return null;var h=hn(hn(hn(hn(hn({},m),{},{fill:"#eee"},f),c),lu(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return ce.createElement(yP,ey({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},h))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=gs(d,Lp);if(!f)return null;var m=u==="vertical"?o[0].height/2:o[0].width/2,h=function(v,x){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:sn(v,x)}},p={clipPath:n?"url(#clipPath-".concat(s,")"):null};return ce.createElement(Bt,p,f.map(function(y){return ce.cloneElement(y,{key:"error-bar-".concat(s,"-").concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:m,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,m=n.height,h=n.isAnimationActive,p=n.background,y=n.id;if(s||!i||!i.length)return null;var v=this.state.isAnimationFinished,x=yt("recharts-bar",o),b=l&&l.allowDataOverflow,N=c&&c.allowDataOverflow,w=b||N,S=jt(y)?this.id:y;return ce.createElement(Bt,{className:x},b||N?ce.createElement("defs",null,ce.createElement("clipPath",{id:"clipPath-".concat(S)},ce.createElement("rect",{x:b?u:u-f/2,y:N?d:d-m/2,width:b?f:f*2,height:N?m:m*2}))):null,ce.createElement(Bt,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(S,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,S),(!h||v)&&Hi.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(L.PureComponent);U8=Su;kl(Su,"displayName","Bar");kl(Su,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ql.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});kl(Su,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,m=e.offset,h=loe(n,r);if(!h)return null;var p=t.layout,y=r.type.defaultProps,v=y!==void 0?hn(hn({},y),r.props):r.props,x=v.dataKey,b=v.children,N=v.minPointSize,w=p==="horizontal"?o:i,S=u?w.scale.domain():null,_=poe({numericAxis:w}),T=gs(b,fv),k=f.map(function(P,D){var A,I,$,E,M,z;u?A=coe(u[d+D],S):(A=sn(P,x),Array.isArray(A)||(A=[_,A]));var Z=yhe(N,U8.defaultProps.minPointSize)(A[1],D);if(p==="horizontal"){var R,U=[o.scale(A[0]),o.scale(A[1])],re=U[0],de=U[1];I=cE({axis:i,ticks:l,bandSize:s,offset:h.offset,entry:P,index:D}),$=(R=de??re)!==null&&R!==void 0?R:void 0,E=h.size;var B=re-de;if(M=Number.isNaN(B)?0:B,z={x:I,y:o.y,width:E,height:o.height},Math.abs(Z)>0&&Math.abs(M)<Math.abs(Z)){var G=_a(M||Z)*(Math.abs(Z)-Math.abs(M));$-=G,M+=G}}else{var te=[i.scale(A[0]),i.scale(A[1])],ue=te[0],q=te[1];if(I=ue,$=cE({axis:o,ticks:c,bandSize:s,offset:h.offset,entry:P,index:D}),E=q-ue,M=h.size,z={x:i.x,y:$,width:i.width,height:M},Math.abs(Z)>0&&Math.abs(E)<Math.abs(Z)){var X=_a(E||Z)*(Math.abs(Z)-Math.abs(E));E+=X}}return hn(hn(hn({},P),{},{x:I,y:$,width:E,height:M,value:u?A:A[1],payload:P,background:z},T&&T[D]&&T[D].props),{},{tooltipPayload:[d8(r,P)],tooltipPosition:{x:I+E/2,y:$+M/2}})});return hn({data:k,layout:p},m)});function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(e)}function Che(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H8(n.key),n)}}function The(e,t,r){return t&&wP(e.prototype,t),r&&wP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function NP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ni(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NP(Object(r),!0).forEach(function(n){Cv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cv(e,t,r){return t=H8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H8(e){var t=khe(e,"string");return cp(t)=="symbol"?t:t+""}function khe(e,t){if(cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nS=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},m=!!cs(u,Su);return d.reduce(function(h,p){var y=r[p],v=y.orientation,x=y.domain,b=y.padding,N=b===void 0?{}:b,w=y.mirror,S=y.reversed,_="".concat(v).concat(w?"Mirror":""),T,k,P,D,A;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var I=x[1]-x[0],$=1/0,E=y.categoricalDomain.sort(GV);if(E.forEach(function(te,ue){ue>0&&($=Math.min((te||0)-(E[ue-1]||0),$))}),Number.isFinite($)){var M=$/I,z=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(T=M*z/2),y.padding==="no-gap"){var Z=Ea(t.barCategoryGap,M*z),R=M*z/2;T=R-Z-(R-Z)/z*Z}}}s==="xAxis"?k=[n.left+(N.left||0)+(T||0),n.left+n.width-(N.right||0)-(T||0)]:s==="yAxis"?k=c==="horizontal"?[n.top+n.height-(N.bottom||0),n.top+(N.top||0)]:[n.top+(N.top||0)+(T||0),n.top+n.height-(N.bottom||0)-(T||0)]:k=y.range,S&&(k=[k[1],k[0]]);var U=o8(y,i,m),re=U.scale,de=U.realScaleType;re.domain(x).range(k),l8(re);var B=c8(re,ni(ni({},y),{},{realScaleType:de}));s==="xAxis"?(A=v==="top"&&!w||v==="bottom"&&w,P=n.left,D=f[_]-A*y.height):s==="yAxis"&&(A=v==="left"&&!w||v==="right"&&w,P=f[_]-A*y.width,D=n.top);var G=ni(ni(ni({},y),B),{},{realScaleType:de,x:P,y:D,scale:re,width:s==="xAxis"?n.width:y.width,height:s==="yAxis"?n.height:y.height});return G.bandSize=Fx(G,B),!y.hide&&s==="xAxis"?f[_]+=(A?-1:1)*G.height:y.hide||(f[_]+=(A?-1:1)*G.width),ni(ni({},h),{},Cv({},p,G))},{})},V8=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},Ohe=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return V8({x:r,y:n},{x:s,y:i})},W8=function(){function e(t){Che(this,e),this.scale=t}return The(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();Cv(W8,"EPS",1e-4);var aS=function(t){var r=Object.keys(t).reduce(function(n,s){return ni(ni({},n),{},Cv({},s,W8.create(t[s])))},{});return ni(ni({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return Zfe(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return B8(s,function(i,o){return r[o].isInRange(i)})}})};function Ihe(e){return(e%180+180)%180}var Lhe=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Ihe(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},Rhe=Yi,Mhe=Cp,Dhe=cv;function $he(e){return function(t,r,n){var s=Object(t);if(!Mhe(t)){var i=Rhe(r);t=Dhe(t),r=function(l){return i(s[l],l,s)}}var o=e(t,r,n);return o>-1?s[i?t[o]:o]:void 0}}var Fhe=$he,Bhe=M8;function Uhe(e){var t=Bhe(e),r=t%1;return t===t?r?t-r:t:0}var zhe=Uhe,qhe=UI,Hhe=Yi,Vhe=zhe,Whe=Math.max;function Ghe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:Vhe(r);return s<0&&(s=Whe(n+s,0)),qhe(e,Hhe(t),s)}var Yhe=Ghe,Khe=Fhe,Xhe=Yhe,Jhe=Khe(Xhe),Zhe=Jhe;const Qhe=or(Zhe);var eme=XH(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),sS=L.createContext(void 0),iS=L.createContext(void 0),G8=L.createContext(void 0),Y8=L.createContext({}),K8=L.createContext(void 0),X8=L.createContext(0),J8=L.createContext(0),jP=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=eme(i);return ce.createElement(sS.Provider,{value:n},ce.createElement(iS.Provider,{value:s},ce.createElement(Y8.Provider,{value:i},ce.createElement(G8.Provider,{value:d},ce.createElement(K8.Provider,{value:o},ce.createElement(X8.Provider,{value:u},ce.createElement(J8.Provider,{value:c},l)))))))},tme=function(){return L.useContext(K8)},Z8=function(t){var r=L.useContext(sS);r==null&&fu();var n=r[t];return n==null&&fu(),n},rme=function(){var t=L.useContext(sS);return _l(t)},nme=function(){var t=L.useContext(iS),r=Qhe(t,function(n){return B8(n.domain,Number.isFinite)});return r||_l(t)},Q8=function(t){var r=L.useContext(iS);r==null&&fu();var n=r[t];return n==null&&fu(),n},ame=function(){var t=L.useContext(G8);return t},sme=function(){return L.useContext(Y8)},oS=function(){return L.useContext(J8)},lS=function(){return L.useContext(X8)};function of(e){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},of(e)}function ime(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ome(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tR(n.key),n)}}function lme(e,t,r){return t&&ome(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cme(e,t,r){return t=ry(t),ume(e,eR()?Reflect.construct(t,r||[],ry(e).constructor):t.apply(e,r))}function ume(e,t){if(t&&(of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dme(e)}function dme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eR=function(){return!!e})()}function ry(e){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ry(e)}function fme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SN(e,t)}function SN(e,t){return SN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},SN(e,t)}function SP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function AP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SP(Object(r),!0).forEach(function(n){cS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cS(e,t,r){return t=tR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tR(e){var t=hme(e,"string");return of(t)=="symbol"?t:t+""}function hme(e,t){if(of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function mme(e,t){return yme(e)||xme(e,t)||gme(e,t)||pme()}function pme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gme(e,t){if(e){if(typeof e=="string")return _P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _P(e,t)}}function _P(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function yme(e){if(Array.isArray(e))return e}function AN(){return AN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AN.apply(this,arguments)}var vme=function(t,r){var n;return ce.isValidElement(t)?n=ce.cloneElement(t,r):xt(t)?n=t(r):n=ce.createElement("line",AN({},r,{className:"recharts-reference-line-line"})),n},bme=function(t,r,n,s,i,o,l,c,u){var d=i.x,f=i.y,m=i.width,h=i.height;if(n){var p=u.y,y=t.y.apply(p,{position:o});if(Vi(u,"discard")&&!t.y.isInRange(y))return null;var v=[{x:d+m,y},{x:d,y}];return c==="left"?v.reverse():v}if(r){var x=u.x,b=t.x.apply(x,{position:o});if(Vi(u,"discard")&&!t.x.isInRange(b))return null;var N=[{x:b,y:f+h},{x:b,y:f}];return l==="top"?N.reverse():N}if(s){var w=u.segment,S=w.map(function(_){return t.apply(_,{position:o})});return Vi(u,"discard")&&Hfe(S,function(_){return!t.isInRange(_)})?null:S}return null};function wme(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=tme(),d=Z8(s),f=Q8(i),m=ame();if(!u||!m)return null;di(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=aS({x:d.scale,y:f.scale}),p=En(t),y=En(r),v=n&&n.length===2,x=bme(h,p,y,v,m,e.position,d.orientation,f.orientation,e);if(!x)return null;var b=mme(x,2),N=b[0],w=N.x,S=N.y,_=b[1],T=_.x,k=_.y,P=Vi(e,"hidden")?"url(#".concat(u,")"):void 0,D=AP(AP({clipPath:P},ut(e,!0)),{},{x1:w,y1:S,x2:T,y2:k});return ce.createElement(Bt,{className:yt("recharts-reference-line",l)},vme(o,D),In.renderCallByParent(e,Ohe({x1:w,y1:S,x2:T,y2:k})))}var uS=function(e){function t(){return ime(this,t),cme(this,t,arguments)}return fme(t,e),lme(t,[{key:"render",value:function(){return ce.createElement(wme,this.props)}}])}(ce.Component);cS(uS,"displayName","ReferenceLine");cS(uS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _N(){return _N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_N.apply(this,arguments)}function lf(e){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(e)}function EP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function PP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(r),!0).forEach(function(n){Tv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jme(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nR(n.key),n)}}function Sme(e,t,r){return t&&jme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ame(e,t,r){return t=ny(t),_me(e,rR()?Reflect.construct(t,r||[],ny(e).constructor):t.apply(e,r))}function _me(e,t){if(t&&(lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eme(e)}function Eme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rR=function(){return!!e})()}function ny(e){return ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ny(e)}function Pme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EN(e,t)}function EN(e,t){return EN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},EN(e,t)}function Tv(e,t,r){return t=nR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nR(e){var t=Cme(e,"string");return lf(t)=="symbol"?t:t+""}function Cme(e,t){if(lf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Tme=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=aS({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Vi(t,"discard")&&!o.isInRange(l)?null:l},kv=function(e){function t(){return Nme(this,t),Ame(this,t,arguments)}return Pme(t,e),Sme(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=En(s),d=En(i);if(di(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Tme(this.props);if(!f)return null;var m=f.x,h=f.y,p=this.props,y=p.shape,v=p.className,x=Vi(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=PP(PP({clipPath:x},ut(this.props,!0)),{},{cx:m,cy:h});return ce.createElement(Bt,{className:yt("recharts-reference-dot",v)},t.renderDot(y,b),In.renderCallByParent(this.props,{x:m-o,y:h-o,width:2*o,height:2*o}))}}])}(ce.Component);Tv(kv,"displayName","ReferenceDot");Tv(kv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Tv(kv,"renderDot",function(e,t){var r;return ce.isValidElement(e)?r=ce.cloneElement(e,t):xt(e)?r=e(t):r=ce.createElement(Rp,_N({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function PN(){return PN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PN.apply(this,arguments)}function cf(e){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cf(e)}function CP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function TP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(r),!0).forEach(function(n){Ov(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ome(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sR(n.key),n)}}function Ime(e,t,r){return t&&Ome(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lme(e,t,r){return t=ay(t),Rme(e,aR()?Reflect.construct(t,r||[],ay(e).constructor):t.apply(e,r))}function Rme(e,t){if(t&&(cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mme(e)}function Mme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aR=function(){return!!e})()}function ay(e){return ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ay(e)}function Dme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CN(e,t)}function CN(e,t){return CN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},CN(e,t)}function Ov(e,t,r){return t=sR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sR(e){var t=$me(e,"string");return cf(t)=="symbol"?t:t+""}function $me(e,t){if(cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fme=function(t,r,n,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var m=aS({x:d.scale,y:f.scale}),h={x:t?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},p={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:s?m.y.apply(u,{position:"end"}):m.y.rangeMax};return Vi(i,"discard")&&(!m.isInRange(h)||!m.isInRange(p))?null:V8(h,p)},Iv=function(e){function t(){return kme(this,t),Lme(this,t,arguments)}return Dme(t,e),Ime(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;di(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=En(s),m=En(i),h=En(o),p=En(l),y=this.props.shape;if(!f&&!m&&!h&&!p&&!y)return null;var v=Fme(f,m,h,p,this.props);if(!v&&!y)return null;var x=Vi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return ce.createElement(Bt,{className:yt("recharts-reference-area",c)},t.renderRect(y,TP(TP({clipPath:x},ut(this.props,!0)),v)),In.renderCallByParent(this.props,v))}}])}(ce.Component);Ov(Iv,"displayName","ReferenceArea");Ov(Iv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ov(Iv,"renderRect",function(e,t){var r;return ce.isValidElement(e)?r=ce.cloneElement(e,t):xt(e)?r=e(t):r=ce.createElement(rS,PN({},t,{className:"recharts-reference-area-rect"})),r});function iR(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function Bme(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Lhe(n,r)}function Ume(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function sy(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function zme(e,t){return iR(e,t+1)}function qme(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:iR(n,u)};var y=c,v,x=function(){return v===void 0&&(v=r(p,y)),v},b=p.coordinate,N=c===0||sy(e,b,x,d,l);N||(c=0,d=o,u+=1),N&&(d=b+e*(x()/2+s),c+=u)},m;u<=i.length;)if(m=f(),m)return m.v;return[]}function up(e){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(e)}function kP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ca(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kP(Object(r),!0).forEach(function(n){Hme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hme(e,t,r){return t=Vme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vme(e){var t=Wme(e,"string");return up(t)=="symbol"?t:t+""}function Wme(e,t){if(up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gme(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(m){var h=i[m],p,y=function(){return p===void 0&&(p=r(h,m)),p};if(m===o-1){var v=e*(h.coordinate+e*y()/2-c);i[m]=h=ca(ca({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate})}else i[m]=h=ca(ca({},h),{},{tickCoord:h.coordinate});var x=sy(e,h.tickCoord,y,l,c);x&&(c=h.tickCoord-e*(y()/2+s),i[m]=ca(ca({},h),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function Yme(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),m=e*(d.coordinate+e*f/2-u);o[l-1]=d=ca(ca({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate});var h=sy(e,d.tickCoord,function(){return f},c,u);h&&(u=d.tickCoord-e*(f/2+s),o[l-1]=ca(ca({},d),{},{isShow:!0}))}for(var p=i?l-1:l,y=function(b){var N=o[b],w,S=function(){return w===void 0&&(w=r(N,b)),w};if(b===0){var _=e*(N.coordinate-e*S()/2-c);o[b]=N=ca(ca({},N),{},{tickCoord:_<0?N.coordinate-_*e:N.coordinate})}else o[b]=N=ca(ca({},N),{},{tickCoord:N.coordinate});var T=sy(e,N.tickCoord,S,c,u);T&&(c=N.tickCoord+e*(S()/2+s),o[b]=ca(ca({},N),{},{isShow:!0}))},v=0;v<p;v++)y(v);return o}function dS(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(He(c)||Ql.isSsr)return zme(s,typeof c=="number"&&He(c)?c:0);var m=[],h=l==="top"||l==="bottom"?"width":"height",p=d&&h==="width"?em(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=function(N,w){var S=xt(u)?u(N.value,w):N.value;return h==="width"?Bme(em(S,{fontSize:t,letterSpacing:r}),p,f):em(S,{fontSize:t,letterSpacing:r})[h]},v=s.length>=2?_a(s[1].coordinate-s[0].coordinate):1,x=Ume(i,v,h);return c==="equidistantPreserveStart"?qme(v,x,y,s,o):(c==="preserveStart"||c==="preserveStartEnd"?m=Yme(v,x,y,s,o,c==="preserveStartEnd"):m=Gme(v,x,y,s,o),m.filter(function(b){return b.isShow}))}var Kme=["viewBox"],Xme=["viewBox"],Jme=["ticks"];function uf(e){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(e)}function gd(){return gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gd.apply(this,arguments)}function OP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(r),!0).forEach(function(n){fS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nb(e,t){if(e==null)return{};var r=Zme(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lR(n.key),n)}}function epe(e,t,r){return t&&IP(e.prototype,t),r&&IP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tpe(e,t,r){return t=iy(t),rpe(e,oR()?Reflect.construct(t,r||[],iy(e).constructor):t.apply(e,r))}function rpe(e,t){if(t&&(uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return npe(e)}function npe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oR=function(){return!!e})()}function iy(e){return iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iy(e)}function ape(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TN(e,t)}function TN(e,t){return TN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},TN(e,t)}function fS(e,t,r){return t=lR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lR(e){var t=spe(e,"string");return uf(t)=="symbol"?t:t+""}function spe(e,t){if(uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $f=function(e){function t(r){var n;return Qme(this,t),n=tpe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return ape(t,e),epe(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=Nb(n,Kme),l=this.props,c=l.viewBox,u=Nb(l,Xme);return!Ad(i,c)||!Ad(o,u)||!Ad(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,m=s.tickMargin,h,p,y,v,x,b,N=f?-1:1,w=n.tickSize||d,S=He(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":h=p=n.coordinate,v=o+ +!f*c,y=v-N*w,b=y-N*m,x=S;break;case"left":y=v=n.coordinate,p=i+ +!f*l,h=p-N*w,x=h-N*m,b=S;break;case"right":y=v=n.coordinate,p=i+ +f*l,h=p+N*w,x=h+N*m,b=S;break;default:h=p=n.coordinate,v=o+ +f*c,y=v+N*w,b=y+N*m,x=S;break}return{line:{x1:h,y1:y,x2:p,y2:v},tick:{x,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Nn(Nn(Nn({},ut(this.props,!1)),ut(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!u||c==="bottom"&&u);f=Nn(Nn({},f),{},{x1:s,y1:i+m*l,x2:s+o,y2:i+m*l})}else{var h=+(c==="left"&&!u||c==="right"&&u);f=Nn(Nn({},f),{},{x1:s+h*o,y1:i,x2:s+h*o,y2:i+l})}return ce.createElement("line",gd({},f,{className:yt("recharts-cartesian-axis-line",ps(d,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,m=l.unit,h=dS(Nn(Nn({},this.props),{},{ticks:n}),s,i),p=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),v=ut(this.props,!1),x=ut(d,!1),b=Nn(Nn({},v),{},{fill:"none"},ut(c,!1)),N=h.map(function(w,S){var _=o.getTickLineCoord(w),T=_.line,k=_.tick,P=Nn(Nn(Nn(Nn({textAnchor:p,verticalAnchor:y},v),{},{stroke:"none",fill:u},x),k),{},{index:S,payload:w,visibleTicksCount:h.length,tickFormatter:f});return ce.createElement(Bt,gd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},lu(o.props,w,S)),c&&ce.createElement("line",gd({},b,T,{className:yt("recharts-cartesian-axis-tick-line",ps(c,"className"))})),d&&t.renderTickItem(d,P,"".concat(xt(f)?f(w.value,S):w.value).concat(m||"")))});return ce.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,m=f.ticks,h=Nb(f,Jme),p=m;return xt(c)&&(p=m&&m.length>0?c(this.props):c(h)),o<=0||l<=0||!p||!p.length?null:ce.createElement(Bt,{className:yt("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(p,this.state.fontSize,this.state.letterSpacing),In.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=yt(s.className,"recharts-cartesian-axis-tick-value");return ce.isValidElement(n)?o=ce.cloneElement(n,Nn(Nn({},s),{},{className:l})):xt(n)?o=n(Nn(Nn({},s),{},{className:l})):o=ce.createElement(cu,gd({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(L.Component);fS($f,"displayName","CartesianAxis");fS($f,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ipe=["x1","y1","x2","y2","key"],ope=["offset"];function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function LP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LP(Object(r),!0).forEach(function(n){lpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lpe(e,t,r){return t=cpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cpe(e){var t=upe(e,"string");return hu(t)=="symbol"?t:t+""}function upe(e,t){if(hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uc(){return Uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uc.apply(this,arguments)}function RP(e,t){if(e==null)return{};var r=dpe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var fpe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return ce.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function cR(e,t){var r;if(ce.isValidElement(e))r=ce.cloneElement(e,t);else if(xt(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=RP(t,ipe),u=ut(c,!1);u.offset;var d=RP(u,ope);r=ce.createElement("line",Uc({},d,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function hpe(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=da(da({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return cR(s,u)});return ce.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function mpe(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=da(da({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return cR(s,u)});return ce.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function ppe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(m){return Math.round(m+s-s)}).sort(function(m,h){return m-h});s!==d[0]&&d.unshift(0);var f=d.map(function(m,h){var p=!d[h+1],y=p?s+o-m:d[h+1]-m;if(y<=0)return null;var v=h%t.length;return ce.createElement("rect",{key:"react-".concat(h),y:m,x:n,height:y,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ce.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function gpe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(m){return Math.round(m+i-i)}).sort(function(m,h){return m-h});i!==d[0]&&d.unshift(0);var f=d.map(function(m,h){var p=!d[h+1],y=p?i+l-m:d[h+1]-m;if(y<=0)return null;var v=h%n.length;return ce.createElement("rect",{key:"react-".concat(h),x:m,y:o,width:y,height:c,stroke:"none",fill:n[v],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return ce.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var xpe=function(t,r){var n=t.xAxis,s=t.width,i=t.height,o=t.offset;return i8(dS(da(da(da({},$f.defaultProps),n),{},{ticks:Co(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},ype=function(t,r){var n=t.yAxis,s=t.width,i=t.height,o=t.offset;return i8(dS(da(da(da({},$f.defaultProps),n),{},{ticks:Co(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},Hu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function im(e){var t,r,n,s,i,o,l=oS(),c=lS(),u=sme(),d=da(da({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Hu.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Hu.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Hu.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Hu.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Hu.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Hu.verticalFill,x:He(e.x)?e.x:u.left,y:He(e.y)?e.y:u.top,width:He(e.width)?e.width:u.width,height:He(e.height)?e.height:u.height}),f=d.x,m=d.y,h=d.width,p=d.height,y=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,b=rme(),N=nme();if(!He(h)||h<=0||!He(p)||p<=0||!He(f)||f!==+f||!He(m)||m!==+m)return null;var w=d.verticalCoordinatesGenerator||xpe,S=d.horizontalCoordinatesGenerator||ype,_=d.horizontalPoints,T=d.verticalPoints;if((!_||!_.length)&&xt(S)){var k=v&&v.length,P=S({yAxis:N?da(da({},N),{},{ticks:k?v:N.ticks}):void 0,width:l,height:c,offset:u},k?!0:y);di(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(hu(P),"]")),Array.isArray(P)&&(_=P)}if((!T||!T.length)&&xt(w)){var D=x&&x.length,A=w({xAxis:b?da(da({},b),{},{ticks:D?x:b.ticks}):void 0,width:l,height:c,offset:u},D?!0:y);di(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(hu(A),"]")),Array.isArray(A)&&(T=A)}return ce.createElement("g",{className:"recharts-cartesian-grid"},ce.createElement(fpe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),ce.createElement(hpe,Uc({},d,{offset:u,horizontalPoints:_,xAxis:b,yAxis:N})),ce.createElement(mpe,Uc({},d,{offset:u,verticalPoints:T,xAxis:b,yAxis:N})),ce.createElement(ppe,Uc({},d,{horizontalPoints:_})),ce.createElement(gpe,Uc({},d,{verticalPoints:T})))}im.displayName="CartesianGrid";var vpe=["type","layout","connectNulls","ref"],bpe=["key"];function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}function MP(e,t){if(e==null)return{};var r=wpe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function om(){return om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},om.apply(this,arguments)}function DP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function is(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(r),!0).forEach(function(n){ai(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vu(e){return Ape(e)||Spe(e)||jpe(e)||Npe()}function Npe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jpe(e,t){if(e){if(typeof e=="string")return kN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kN(e,t)}}function Spe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ape(e){if(Array.isArray(e))return kN(e)}function kN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dR(n.key),n)}}function Epe(e,t,r){return t&&$P(e.prototype,t),r&&$P(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ppe(e,t,r){return t=oy(t),Cpe(e,uR()?Reflect.construct(t,r||[],oy(e).constructor):t.apply(e,r))}function Cpe(e,t){if(t&&(df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tpe(e)}function Tpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uR=function(){return!!e})()}function oy(e){return oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oy(e)}function kpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ON(e,t)}function ON(e,t){return ON=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ON(e,t)}function ai(e,t,r){return t=dR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dR(e){var t=Ope(e,"string");return df(t)=="symbol"?t:t+""}function Ope(e,t){if(df(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mu=function(e){function t(){var r;_pe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Ppe(this,t,[].concat(s)),ai(r,"state",{isAnimationFinished:!0,totalLength:0}),ai(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),ai(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(x,b){return x+b});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,m=l-o,h=[],p=0,y=0;p<c.length;y+=c[p],++p)if(y+c[p]>f){h=[].concat(Vu(c.slice(0,p)),[f-y]);break}var v=h.length%2===0?[0,m]:[m];return[].concat(Vu(t.repeat(c,d)),Vu(h),v).map(function(x){return"".concat(x,"px")}).join(", ")}),ai(r,"id",bu("recharts-line-")),ai(r,"pathRef",function(o){r.mainCurve=o}),ai(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ai(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return kpe(t,e),Epe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=gs(d,Lp);if(!f)return null;var m=function(y,v){return{x:y.x,y:y.y,value:y.value,errorVal:sn(y.payload,v)}},h={clipPath:n?"url(#clipPath-".concat(s,")"):null};return ce.createElement(Bt,h,f.map(function(p){return ce.cloneElement(p,{key:"bar-".concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:m})}))}},{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=ut(this.props,!1),m=ut(c,!0),h=u.map(function(y,v){var x=is(is(is({key:"dot-".concat(v),r:3},f),m),{},{index:v,cx:y.x,cy:y.y,value:y.value,dataKey:d,payload:y.payload,points:u});return t.renderDotItem(c,x)}),p={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return ce.createElement(Bt,om({className:"recharts-line-dots",key:"dots"},p),h)}},{key:"renderCurveStatically",value:function(n,s,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=MP(l,vpe),m=is(is(is({},ut(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return ce.createElement(Xc,om({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,m=o.animationEasing,h=o.animationId,p=o.animateNewValues,y=o.width,v=o.height,x=this.state,b=x.prevPoints,N=x.totalLength;return ce.createElement(hi,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var S=w.t;if(b){var _=b.length/l.length,T=l.map(function(I,$){var E=Math.floor($*_);if(b[E]){var M=b[E],z=An(M.x,I.x),Z=An(M.y,I.y);return is(is({},I),{},{x:z(S),y:Z(S)})}if(p){var R=An(y*2,I.x),U=An(v/2,I.y);return is(is({},I),{},{x:R(S),y:U(S)})}return is(is({},I),{},{x:I.x,y:I.y})});return i.renderCurveStatically(T,n,s)}var k=An(0,N),P=k(S),D;if(c){var A="".concat(c).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});D=i.getStrokeDasharray(P,N,A)}else D=i.generateSimpleStrokeDasharray(N,P);return i.renderCurveStatically(l,n,s,{strokeDasharray:D})})}},{key:"renderCurve",value:function(n,s){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!uu(u,o))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(o,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.xAxis,d=s.yAxis,f=s.top,m=s.left,h=s.width,p=s.height,y=s.isAnimationActive,v=s.id;if(i||!l||!l.length)return null;var x=this.state.isAnimationFinished,b=l.length===1,N=yt("recharts-line",c),w=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,_=w||S,T=jt(v)?this.id:v,k=(n=ut(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=k.r,D=P===void 0?3:P,A=k.strokeWidth,I=A===void 0?2:A,$=ZO(o)?o:{},E=$.clipDot,M=E===void 0?!0:E,z=D*2+I;return ce.createElement(Bt,{className:N},w||S?ce.createElement("defs",null,ce.createElement("clipPath",{id:"clipPath-".concat(T)},ce.createElement("rect",{x:w?m:m-h/2,y:S?f:f-p/2,width:w?h:h*2,height:S?p:p*2})),!M&&ce.createElement("clipPath",{id:"clipPath-dots-".concat(T)},ce.createElement("rect",{x:m-z/2,y:f-z/2,width:h+z,height:p+z}))):null,!b&&this.renderCurve(_,T),this.renderErrorBar(_,T),(b||o)&&this.renderDots(_,M,T),(!y||x)&&Hi.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var i=n.length%2!==0?[].concat(Vu(n),[0]):n,o=[],l=0;l<s;++l)o=[].concat(Vu(o),Vu(i));return o}},{key:"renderDotItem",value:function(n,s){var i;if(ce.isValidElement(n))i=ce.cloneElement(n,s);else if(xt(n))i=n(s);else{var o=s.key,l=MP(s,bpe),c=yt("recharts-line-dot",typeof n!="boolean"?n.className:"");i=ce.createElement(Rp,om({key:o},l,{className:c}))}return i}}])}(L.PureComponent);ai(mu,"displayName","Line");ai(mu,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ql.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ai(mu,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(m,h){var p=sn(m,o);return d==="horizontal"?{x:$x({axis:r,ticks:s,bandSize:l,entry:m,index:h}),y:jt(p)?null:n.scale(p),value:p,payload:m}:{x:jt(p)?null:r.scale(p),y:$x({axis:n,ticks:i,bandSize:l,entry:m,index:h}),value:p,payload:m}});return is({points:f,layout:d},u)});var Ipe=["layout","type","stroke","connectNulls","isRange","ref"],Lpe=["key"],fR;function ff(e){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ff(e)}function hR(e,t){if(e==null)return{};var r=Rpe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zc(){return zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zc.apply(this,arguments)}function FP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FP(Object(r),!0).forEach(function(n){Fi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pR(n.key),n)}}function Dpe(e,t,r){return t&&BP(e.prototype,t),r&&BP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $pe(e,t,r){return t=ly(t),Fpe(e,mR()?Reflect.construct(t,r||[],ly(e).constructor):t.apply(e,r))}function Fpe(e,t){if(t&&(ff(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bpe(e)}function Bpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mR=function(){return!!e})()}function ly(e){return ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ly(e)}function Upe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IN(e,t)}function IN(e,t){return IN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},IN(e,t)}function Fi(e,t,r){return t=pR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pR(e){var t=zpe(e,"string");return ff(t)=="symbol"?t:t+""}function zpe(e,t){if(ff(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ho=function(e){function t(){var r;Mpe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=$pe(this,t,[].concat(s)),Fi(r,"state",{isAnimationFinished:!0}),Fi(r,"id",bu("recharts-area-")),Fi(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),xt(o)&&o()}),Fi(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),xt(o)&&o()}),r}return Upe(t,e),Dpe(t,[{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,m=ut(this.props,!1),h=ut(u,!0),p=d.map(function(v,x){var b=xl(xl(xl({key:"dot-".concat(x),r:3},m),h),{},{index:x,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return t.renderDotItem(u,b)}),y={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return ce.createElement(Bt,zc({className:"recharts-area-dots"},y),p)}},{key:"renderHorizontalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),f=Tl(o.map(function(m){return m.y||0}));return He(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Tl(i.map(function(m){return m.y||0})),f)),He(f)?ce.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),f=Tl(o.map(function(m){return m.x||0}));return He(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Tl(i.map(function(m){return m.x||0})),f)),He(f)?ce.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,s,i,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,m=l.isRange;l.ref;var h=hR(l,Ipe);return ce.createElement(Bt,{clipPath:i?"url(#clipPath-".concat(o,")"):null},ce.createElement(Xc,zc({},ut(h,!0),{points:n,connectNulls:f,type:u,baseLine:s,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&ce.createElement(Xc,zc({},ut(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&m&&ce.createElement(Xc,zc({},ut(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,m=o.animationEasing,h=o.animationId,p=this.state,y=p.prevPoints,v=p.prevBaseLine;return ce.createElement(hi,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var b=x.t;if(y){var N=y.length/l.length,w=l.map(function(k,P){var D=Math.floor(P*N);if(y[D]){var A=y[D],I=An(A.x,k.x),$=An(A.y,k.y);return xl(xl({},k),{},{x:I(b),y:$(b)})}return k}),S;if(He(c)&&typeof c=="number"){var _=An(v,c);S=_(b)}else if(jt(c)||kf(c)){var T=An(v,0);S=T(b)}else S=c.map(function(k,P){var D=Math.floor(P*N);if(v[D]){var A=v[D],I=An(A.x,k.x),$=An(A.y,k.y);return xl(xl({},k),{},{x:I(b),y:$(b)})}return k});return i.renderAreaStatically(w,S,n,s)}return ce.createElement(Bt,null,ce.createElement("defs",null,ce.createElement("clipPath",{id:"animationClipPath-".concat(s)},i.renderClipRect(b))),ce.createElement(Bt,{clipPath:"url(#animationClipPath-".concat(s,")")},i.renderAreaStatically(l,c,n,s)))})}},{key:"renderArea",value:function(n,s){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,m=u.totalLength;return c&&o&&o.length&&(!d&&m>0||!uu(d,o)||!uu(f,l))?this.renderAreaWithAnimation(n,s):this.renderAreaStatically(o,l,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.top,d=s.left,f=s.xAxis,m=s.yAxis,h=s.width,p=s.height,y=s.isAnimationActive,v=s.id;if(i||!l||!l.length)return null;var x=this.state.isAnimationFinished,b=l.length===1,N=yt("recharts-area",c),w=f&&f.allowDataOverflow,S=m&&m.allowDataOverflow,_=w||S,T=jt(v)?this.id:v,k=(n=ut(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=k.r,D=P===void 0?3:P,A=k.strokeWidth,I=A===void 0?2:A,$=ZO(o)?o:{},E=$.clipDot,M=E===void 0?!0:E,z=D*2+I;return ce.createElement(Bt,{className:N},w||S?ce.createElement("defs",null,ce.createElement("clipPath",{id:"clipPath-".concat(T)},ce.createElement("rect",{x:w?d:d-h/2,y:S?u:u-p/2,width:w?h:h*2,height:S?p:p*2})),!M&&ce.createElement("clipPath",{id:"clipPath-dots-".concat(T)},ce.createElement("rect",{x:d-z/2,y:u-z/2,width:h+z,height:p+z}))):null,b?null:this.renderArea(_,T),(o||b)&&this.renderDots(_,M,T),(!y||x)&&Hi.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:n.points!==s.curPoints||n.baseLine!==s.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(L.PureComponent);fR=Ho;Fi(Ho,"displayName","Area");Fi(Ho,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ql.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Fi(Ho,"getBaseValue",function(e,t,r,n){var s=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(He(l)&&typeof l=="number")return l;var c=s==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Fi(Ho,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,s=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,m=e.offset,h=t.layout,p=u&&u.length,y=fR.getBaseValue(t,r,n,s),v=h==="horizontal",x=!1,b=f.map(function(w,S){var _;p?_=u[d+S]:(_=sn(w,c),Array.isArray(_)?x=!0:_=[y,_]);var T=_[1]==null||p&&sn(w,c)==null;return v?{x:$x({axis:n,ticks:i,bandSize:l,entry:w,index:S}),y:T?null:s.scale(_[1]),value:_,payload:w}:{x:T?null:n.scale(_[1]),y:$x({axis:s,ticks:o,bandSize:l,entry:w,index:S}),value:_,payload:w}}),N;return p||x?N=b.map(function(w){var S=Array.isArray(w.value)?w.value[0]:null;return v?{x:w.x,y:S!=null&&w.y!=null?s.scale(S):null}:{x:S!=null?n.scale(S):null,y:w.y}}):N=v?s.scale(y):n.scale(y),xl({points:b,baseLine:N,layout:h,isRange:x},m)});Fi(Ho,"renderDotItem",function(e,t){var r;if(ce.isValidElement(e))r=ce.cloneElement(e,t);else if(xt(e))r=e(t);else{var n=yt("recharts-area-dot",typeof e!="boolean"?e.className:""),s=t.key,i=hR(t,Lpe);r=ce.createElement(Rp,zc({},i,{key:s,className:n}))}return r});function hf(e){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hf(e)}function qpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hpe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yR(n.key),n)}}function Vpe(e,t,r){return t&&Hpe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wpe(e,t,r){return t=cy(t),Gpe(e,gR()?Reflect.construct(t,r||[],cy(e).constructor):t.apply(e,r))}function Gpe(e,t){if(t&&(hf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ype(e)}function Ype(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gR=function(){return!!e})()}function cy(e){return cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cy(e)}function Kpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LN(e,t)}function LN(e,t){return LN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},LN(e,t)}function xR(e,t,r){return t=yR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yR(e){var t=Xpe(e,"string");return hf(t)=="symbol"?t:t+""}function Xpe(e,t){if(hf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function RN(){return RN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RN.apply(this,arguments)}function Jpe(e){var t=e.xAxisId,r=oS(),n=lS(),s=Z8(t);return s==null?null:L.createElement($f,RN({},s,{className:yt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Co(o,!0)}}))}var Io=function(e){function t(){return qpe(this,t),Wpe(this,t,arguments)}return Kpe(t,e),Vpe(t,[{key:"render",value:function(){return L.createElement(Jpe,this.props)}}])}(L.Component);xR(Io,"displayName","XAxis");xR(Io,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function mf(e){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mf(e)}function Zpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qpe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wR(n.key),n)}}function e0e(e,t,r){return t&&Qpe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function t0e(e,t,r){return t=uy(t),r0e(e,vR()?Reflect.construct(t,r||[],uy(e).constructor):t.apply(e,r))}function r0e(e,t){if(t&&(mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n0e(e)}function n0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vR=function(){return!!e})()}function uy(e){return uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uy(e)}function a0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MN(e,t)}function MN(e,t){return MN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},MN(e,t)}function bR(e,t,r){return t=wR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wR(e){var t=s0e(e,"string");return mf(t)=="symbol"?t:t+""}function s0e(e,t){if(mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function DN(){return DN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DN.apply(this,arguments)}var i0e=function(t){var r=t.yAxisId,n=oS(),s=lS(),i=Q8(r);return i==null?null:L.createElement($f,DN({},i,{className:yt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return Co(l,!0)}}))},Lo=function(e){function t(){return Zpe(this,t),t0e(this,t,arguments)}return a0e(t,e),e0e(t,[{key:"render",value:function(){return L.createElement(i0e,this.props)}}])}(L.Component);bR(Lo,"displayName","YAxis");bR(Lo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function UP(e){return u0e(e)||c0e(e)||l0e(e)||o0e()}function o0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l0e(e,t){if(e){if(typeof e=="string")return $N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $N(e,t)}}function c0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function u0e(e){if(Array.isArray(e))return $N(e)}function $N(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var FN=function(t,r,n,s,i){var o=gs(t,uS),l=gs(t,kv),c=[].concat(UP(o),UP(l)),u=gs(t,Iv),d="".concat(s,"Id"),f=s[0],m=r;if(c.length&&(m=c.reduce(function(y,v){if(v.props[d]===n&&Vi(v.props,"extendDomain")&&He(v.props[f])){var x=v.props[f];return[Math.min(y[0],x),Math.max(y[1],x)]}return y},m)),u.length){var h="".concat(f,"1"),p="".concat(f,"2");m=u.reduce(function(y,v){if(v.props[d]===n&&Vi(v.props,"extendDomain")&&He(v.props[h])&&He(v.props[p])){var x=v.props[h],b=v.props[p];return[Math.min(y[0],x,b),Math.max(y[1],x,b)]}return y},m)}return i&&i.length&&(m=i.reduce(function(y,v){return He(v)?[Math.min(y[0],v),Math.max(y[1],v)]:y},m)),m},NR={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new s(d,f||c,m),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],h]:c._events[p].push(h):(c._events[p]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,p=new Array(h);m<h;m++)p[m]=f[m].fn;return p},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,h,p){var y=r?r+u:u;if(!this._events[y])return!1;var v=this._events[y],x=arguments.length,b,N;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,m),!0;case 5:return v.fn.call(v.context,d,f,m,h),!0;case 6:return v.fn.call(v.context,d,f,m,h,p),!0}for(N=1,b=new Array(x-1);N<x;N++)b[N-1]=arguments[N];v.fn.apply(v.context,b)}else{var w=v.length,S;for(N=0;N<w;N++)switch(v[N].once&&this.removeListener(u,v[N].fn,void 0,!0),x){case 1:v[N].fn.call(v[N].context);break;case 2:v[N].fn.call(v[N].context,d);break;case 3:v[N].fn.call(v[N].context,d,f);break;case 4:v[N].fn.call(v[N].context,d,f,m);break;default:if(!b)for(S=1,b=new Array(x-1);S<x;S++)b[S-1]=arguments[S];v[N].fn.apply(v[N].context,b)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return o(this,h),this;var p=this._events[h];if(p.fn)p.fn===d&&(!m||p.once)&&(!f||p.context===f)&&o(this,h);else{for(var y=0,v=[],x=p.length;y<x;y++)(p[y].fn!==d||m&&!p[y].once||f&&p[y].context!==f)&&v.push(p[y]);v.length?this._events[h]=v.length===1?v[0]:v:o(this,h)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(NR);var d0e=NR.exports;const f0e=or(d0e);var jb=new f0e,Sb="recharts.syncMouseEvents";function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}function h0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jR(n.key),n)}}function p0e(e,t,r){return t&&m0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ab(e,t,r){return t=jR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jR(e){var t=g0e(e,"string");return dp(t)=="symbol"?t:t+""}function g0e(e,t){if(dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var x0e=function(){function e(){h0e(this,e),Ab(this,"activeIndex",0),Ab(this,"coordinateList",[]),Ab(this,"layout","horizontal")}return p0e(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,m=r.mouseHandlerCallback,h=m===void 0?null:m;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,m=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])}();function y0e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&He(n)&&He(s))return!0}return!1}function v0e(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function SR(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=jr(t,r,n,s),l=jr(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function b0e(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,m=jr(l,c,u,f),h=jr(l,c,d,f);n=m.x,s=m.y,i=h.x,o=h.y}else return SR(t);return[{x:n,y:s},{x:i,y:o}]}function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(e)}function zP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function tg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(r),!0).forEach(function(n){w0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w0e(e,t,r){return t=N0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N0e(e){var t=j0e(e,"string");return fp(t)=="symbol"?t:t+""}function j0e(e,t){if(fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S0e(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,m=e.chartName,h=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!i||!o||m!=="ScatterChart"&&s!=="axis")return null;var p,y=Xc;if(m==="ScatterChart")p=o,y=Oue;else if(m==="BarChart")p=v0e(f,o,c,d),y=rS;else if(f==="radial"){var v=SR(o),x=v.cx,b=v.cy,N=v.radius,w=v.startAngle,S=v.endAngle;p={cx:x,cy:b,startAngle:w,endAngle:S,innerRadius:N,outerRadius:N},y=x8}else p={points:b0e(f,o,c)},y=Xc;var _=tg(tg(tg(tg({stroke:"#ccc",pointerEvents:"none"},c),p),ut(h,!1)),{},{payload:l,payloadIndex:u,className:yt("recharts-tooltip-cursor",h.className)});return L.isValidElement(h)?L.cloneElement(h,_):L.createElement(y,_)}var A0e=["item"],_0e=["children","className","width","height","style","compact","title","desc"];function pf(e){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(e)}function xd(){return xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xd.apply(this,arguments)}function qP(e,t){return C0e(e)||P0e(e,t)||_R(e,t)||E0e()}function E0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function C0e(e){if(Array.isArray(e))return e}function HP(e,t){if(e==null)return{};var r=T0e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function T0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function k0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ER(n.key),n)}}function I0e(e,t,r){return t&&O0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function L0e(e,t,r){return t=dy(t),R0e(e,AR()?Reflect.construct(t,r||[],dy(e).constructor):t.apply(e,r))}function R0e(e,t){if(t&&(pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M0e(e)}function M0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AR=function(){return!!e})()}function dy(e){return dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dy(e)}function D0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BN(e,t)}function BN(e,t){return BN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},BN(e,t)}function gf(e){return B0e(e)||F0e(e)||_R(e)||$0e()}function $0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _R(e,t){if(e){if(typeof e=="string")return UN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UN(e,t)}}function F0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function B0e(e){if(Array.isArray(e))return UN(e)}function UN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(r),!0).forEach(function(n){gt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gt(e,t,r){return t=ER(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ER(e){var t=U0e(e,"string");return pf(t)=="symbol"?t:t+""}function U0e(e,t){if(pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z0e={xAxis:["bottom","top"],yAxis:["left","right"]},q0e={width:"100%",height:"100%"},PR={x:0,y:0};function rg(e){return e}var H0e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},V0e=function(t,r,n,s){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return Oe(Oe(Oe({},s),jr(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return Oe(Oe(Oe({},s),jr(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return PR},Lv=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(gf(l),gf(u)):l},[]);return o.length>0?o:t&&t.length&&He(s)&&He(i)?t.slice(s,i+1):[]};function CR(e){return e==="number"?[0,"auto"]:void 0}var zN=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,l=Lv(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var h=f===void 0?l:f;m=ux(h,o.dataKey,s)}else m=f&&f[n]||l[n];return m?[].concat(gf(c),[d8(u,m)]):c},[])},WP=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=H0e(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=roe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=zN(t,r,d,f),h=V0e(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:h}}return null},W0e=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,m=t.stackOffset,h=s8(d,i);return n.reduce(function(p,y){var v,x=y.type.defaultProps!==void 0?Oe(Oe({},y.type.defaultProps),y.props):y.props,b=x.type,N=x.dataKey,w=x.allowDataOverflow,S=x.allowDuplicatedCategory,_=x.scale,T=x.ticks,k=x.includeHidden,P=x[o];if(p[P])return p;var D=Lv(t.data,{graphicalItems:s.filter(function(B){var G,te=o in B.props?B.props[o]:(G=B.type.defaultProps)===null||G===void 0?void 0:G[o];return te===P}),dataStartIndex:c,dataEndIndex:u}),A=D.length,I,$,E;y0e(x.domain,w,b)&&(I=tN(x.domain,null,w),h&&(b==="number"||_!=="auto")&&(E=rm(D,N,"category")));var M=CR(b);if(!I||I.length===0){var z,Z=(z=x.domain)!==null&&z!==void 0?z:M;if(N){if(I=rm(D,N,b),b==="category"&&h){var R=WV(I);S&&R?($=I,I=Jx(0,A)):S||(I=fE(Z,I,y).reduce(function(B,G){return B.indexOf(G)>=0?B:[].concat(gf(B),[G])},[]))}else if(b==="category")S?I=I.filter(function(B){return B!==""&&!jt(B)}):I=fE(Z,I,y).reduce(function(B,G){return B.indexOf(G)>=0||G===""||jt(G)?B:[].concat(gf(B),[G])},[]);else if(b==="number"){var U=ooe(D,s.filter(function(B){var G,te,ue=o in B.props?B.props[o]:(G=B.type.defaultProps)===null||G===void 0?void 0:G[o],q="hide"in B.props?B.props.hide:(te=B.type.defaultProps)===null||te===void 0?void 0:te.hide;return ue===P&&(k||!q)}),N,i,d);U&&(I=U)}h&&(b==="number"||_!=="auto")&&(E=rm(D,N,"category"))}else h?I=Jx(0,A):l&&l[P]&&l[P].hasStack&&b==="number"?I=m==="expand"?[0,1]:u8(l[P].stackGroups,c,u):I=a8(D,s.filter(function(B){var G=o in B.props?B.props[o]:B.type.defaultProps[o],te="hide"in B.props?B.props.hide:B.type.defaultProps.hide;return G===P&&(k||!te)}),b,d,!0);if(b==="number")I=FN(f,I,P,i,T),Z&&(I=tN(Z,I,w));else if(b==="category"&&Z){var re=Z,de=I.every(function(B){return re.indexOf(B)>=0});de&&(I=re)}}return Oe(Oe({},p),{},gt({},P,Oe(Oe({},x),{},{axisType:i,domain:I,categoricalDomain:E,duplicateDomain:$,originalDomain:(v=x.domain)!==null&&v!==void 0?v:M,isCategorical:h,layout:d})))},{})},G0e=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,m=Lv(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),h=m.length,p=s8(d,i),y=-1;return n.reduce(function(v,x){var b=x.type.defaultProps!==void 0?Oe(Oe({},x.type.defaultProps),x.props):x.props,N=b[o],w=CR("number");if(!v[N]){y++;var S;return p?S=Jx(0,h):l&&l[N]&&l[N].hasStack?(S=u8(l[N].stackGroups,c,u),S=FN(f,S,N,i)):(S=tN(w,a8(m,n.filter(function(_){var T,k,P=o in _.props?_.props[o]:(T=_.type.defaultProps)===null||T===void 0?void 0:T[o],D="hide"in _.props?_.props.hide:(k=_.type.defaultProps)===null||k===void 0?void 0:k.hide;return P===N&&!D}),"number",d),s.defaultProps.allowDataOverflow),S=FN(f,S,N,i)),Oe(Oe({},v),{},gt({},N,Oe(Oe({axisType:i},s.defaultProps),{},{hide:!0,orientation:ps(z0e,"".concat(i,".").concat(y%2),null),domain:S,originalDomain:w,isCategorical:p,layout:d})))}return v},{})},Y0e=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(s,"Id"),m=gs(d,i),h={};return m&&m.length?h=W0e(t,{axes:m,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(h=G0e(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),h},K0e=function(t){var r=_l(t),n=Co(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:C5(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Fx(r,n)}},GP=function(t){var r=t.children,n=t.defaultShowTooltip,s=cs(r,af),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},X0e=function(t){return!t||!t.length?!1:t.some(function(r){var n=ko(r&&r.type);return n&&n.indexOf("Bar")>=0})},YP=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},J0e=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,m=n.margin||{},h=cs(f,af),p=cs(f,_d),y=Object.keys(c).reduce(function(S,_){var T=c[_],k=T.orientation;return!T.mirror&&!T.hide?Oe(Oe({},S),{},gt({},k,S[k]+T.width)):S},{left:m.left||0,right:m.right||0}),v=Object.keys(o).reduce(function(S,_){var T=o[_],k=T.orientation;return!T.mirror&&!T.hide?Oe(Oe({},S),{},gt({},k,ps(S,"".concat(k))+T.height)):S},{top:m.top||0,bottom:m.bottom||0}),x=Oe(Oe({},v),y),b=x.bottom;h&&(x.bottom+=h.props.height||af.defaultProps.height),p&&r&&(x=soe(x,s,n,r));var N=u-x.left-x.right,w=d-x.top-x.bottom;return Oe(Oe({brushBottom:b},x),{},{width:Math.max(N,0),height:Math.max(w,0)})},Z0e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Rv=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,m=function(x,b){var N=b.graphicalItems,w=b.stackGroups,S=b.offset,_=b.updateId,T=b.dataStartIndex,k=b.dataEndIndex,P=x.barSize,D=x.layout,A=x.barGap,I=x.barCategoryGap,$=x.maxBarSize,E=YP(D),M=E.numericAxisName,z=E.cateAxisName,Z=X0e(N),R=[];return N.forEach(function(U,re){var de=Lv(x.data,{graphicalItems:[U],dataStartIndex:T,dataEndIndex:k}),B=U.type.defaultProps!==void 0?Oe(Oe({},U.type.defaultProps),U.props):U.props,G=B.dataKey,te=B.maxBarSize,ue=B["".concat(M,"Id")],q=B["".concat(z,"Id")],X={},Q=c.reduce(function(Ue,Ge){var We=b["".concat(Ge.axisType,"Map")],Et=B["".concat(Ge.axisType,"Id")];We&&We[Et]||Ge.axisType==="zAxis"||fu();var pt=We[Et];return Oe(Oe({},Ue),{},gt(gt({},Ge.axisType,pt),"".concat(Ge.axisType,"Ticks"),Co(pt)))},X),ne=Q[z],pe=Q["".concat(z,"Ticks")],se=w&&w[ue]&&w[ue].hasStack&&goe(U,w[ue].stackGroups),W=ko(U.type).indexOf("Bar")>=0,fe=Fx(ne,pe),Ae=[],Y=Z&&noe({barSize:P,stackGroups:w,totalSize:Z0e(Q,z)});if(W){var Ce,qe,be=jt(te)?$:te,je=(Ce=(qe=Fx(ne,pe,!0))!==null&&qe!==void 0?qe:be)!==null&&Ce!==void 0?Ce:0;Ae=aoe({barGap:A,barCategoryGap:I,bandSize:je!==fe?je:fe,sizeList:Y[q],maxBarSize:be}),je!==fe&&(Ae=Ae.map(function(Ue){return Oe(Oe({},Ue),{},{position:Oe(Oe({},Ue.position),{},{offset:Ue.position.offset-je/2})})}))}var Me=U&&U.type&&U.type.getComposedData;Me&&R.push({props:Oe(Oe({},Me(Oe(Oe({},Q),{},{displayedData:de,props:x,dataKey:G,item:U,bandSize:fe,barPosition:Ae,offset:S,stackedData:se,layout:D,dataStartIndex:T,dataEndIndex:k}))),{},gt(gt(gt({key:U.key||"item-".concat(re)},M,Q[M]),z,Q[z]),"animationId",_)),childIndex:aW(U,x.children),item:U})}),R},h=function(x,b){var N=x.props,w=x.dataStartIndex,S=x.dataEndIndex,_=x.updateId;if(!i3({props:N}))return null;var T=N.children,k=N.layout,P=N.stackOffset,D=N.data,A=N.reverseStackOrder,I=YP(k),$=I.numericAxisName,E=I.cateAxisName,M=gs(T,n),z=moe(D,M,"".concat($,"Id"),"".concat(E,"Id"),P,A),Z=c.reduce(function(B,G){var te="".concat(G.axisType,"Map");return Oe(Oe({},B),{},gt({},te,Y0e(N,Oe(Oe({},G),{},{graphicalItems:M,stackGroups:G.axisType===$&&z,dataStartIndex:w,dataEndIndex:S}))))},{}),R=J0e(Oe(Oe({},Z),{},{props:N,graphicalItems:M}),b==null?void 0:b.legendBBox);Object.keys(Z).forEach(function(B){Z[B]=d(N,Z[B],R,B.replace("Map",""),r)});var U=Z["".concat(E,"Map")],re=K0e(U),de=m(N,Oe(Oe({},Z),{},{dataStartIndex:w,dataEndIndex:S,updateId:_,graphicalItems:M,stackGroups:z,offset:R}));return Oe(Oe({formattedGraphicalItems:de,graphicalItems:M,offset:R,stackGroups:z},re),Z)},p=function(v){function x(b){var N,w,S;return k0e(this,x),S=L0e(this,x,[b]),gt(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),gt(S,"accessibilityManager",new x0e),gt(S,"handleLegendBBoxUpdate",function(_){if(_){var T=S.state,k=T.dataStartIndex,P=T.dataEndIndex,D=T.updateId;S.setState(Oe({legendBBox:_},h({props:S.props,dataStartIndex:k,dataEndIndex:P,updateId:D},Oe(Oe({},S.state),{},{legendBBox:_}))))}}),gt(S,"handleReceiveSyncEvent",function(_,T,k){if(S.props.syncId===_){if(k===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(T)}}),gt(S,"handleBrushChange",function(_){var T=_.startIndex,k=_.endIndex;if(T!==S.state.dataStartIndex||k!==S.state.dataEndIndex){var P=S.state.updateId;S.setState(function(){return Oe({dataStartIndex:T,dataEndIndex:k},h({props:S.props,dataStartIndex:T,dataEndIndex:k,updateId:P},S.state))}),S.triggerSyncEvent({dataStartIndex:T,dataEndIndex:k})}}),gt(S,"handleMouseEnter",function(_){var T=S.getMouseInfo(_);if(T){var k=Oe(Oe({},T),{},{isTooltipActive:!0});S.setState(k),S.triggerSyncEvent(k);var P=S.props.onMouseEnter;xt(P)&&P(k,_)}}),gt(S,"triggeredAfterMouseMove",function(_){var T=S.getMouseInfo(_),k=T?Oe(Oe({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(k),S.triggerSyncEvent(k);var P=S.props.onMouseMove;xt(P)&&P(k,_)}),gt(S,"handleItemMouseEnter",function(_){S.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),gt(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),gt(S,"handleMouseMove",function(_){_.persist(),S.throttleTriggeredAfterMouseMove(_)}),gt(S,"handleMouseLeave",function(_){S.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};S.setState(T),S.triggerSyncEvent(T);var k=S.props.onMouseLeave;xt(k)&&k(T,_)}),gt(S,"handleOuterEvent",function(_){var T=nW(_),k=ps(S.props,"".concat(T));if(T&&xt(k)){var P,D;/.*touch.*/i.test(T)?D=S.getMouseInfo(_.changedTouches[0]):D=S.getMouseInfo(_),k((P=D)!==null&&P!==void 0?P:{},_)}}),gt(S,"handleClick",function(_){var T=S.getMouseInfo(_);if(T){var k=Oe(Oe({},T),{},{isTooltipActive:!0});S.setState(k),S.triggerSyncEvent(k);var P=S.props.onClick;xt(P)&&P(k,_)}}),gt(S,"handleMouseDown",function(_){var T=S.props.onMouseDown;if(xt(T)){var k=S.getMouseInfo(_);T(k,_)}}),gt(S,"handleMouseUp",function(_){var T=S.props.onMouseUp;if(xt(T)){var k=S.getMouseInfo(_);T(k,_)}}),gt(S,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),gt(S,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&S.handleMouseDown(_.changedTouches[0])}),gt(S,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&S.handleMouseUp(_.changedTouches[0])}),gt(S,"handleDoubleClick",function(_){var T=S.props.onDoubleClick;if(xt(T)){var k=S.getMouseInfo(_);T(k,_)}}),gt(S,"handleContextMenu",function(_){var T=S.props.onContextMenu;if(xt(T)){var k=S.getMouseInfo(_);T(k,_)}}),gt(S,"triggerSyncEvent",function(_){S.props.syncId!==void 0&&jb.emit(Sb,S.props.syncId,_,S.eventEmitterSymbol)}),gt(S,"applySyncEvent",function(_){var T=S.props,k=T.layout,P=T.syncMethod,D=S.state.updateId,A=_.dataStartIndex,I=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)S.setState(Oe({dataStartIndex:A,dataEndIndex:I},h({props:S.props,dataStartIndex:A,dataEndIndex:I,updateId:D},S.state)));else if(_.activeTooltipIndex!==void 0){var $=_.chartX,E=_.chartY,M=_.activeTooltipIndex,z=S.state,Z=z.offset,R=z.tooltipTicks;if(!Z)return;if(typeof P=="function")M=P(R,_);else if(P==="value"){M=-1;for(var U=0;U<R.length;U++)if(R[U].value===_.activeLabel){M=U;break}}var re=Oe(Oe({},Z),{},{x:Z.left,y:Z.top}),de=Math.min($,re.x+re.width),B=Math.min(E,re.y+re.height),G=R[M]&&R[M].value,te=zN(S.state,S.props.data,M),ue=R[M]?{x:k==="horizontal"?R[M].coordinate:de,y:k==="horizontal"?B:R[M].coordinate}:PR;S.setState(Oe(Oe({},_),{},{activeLabel:G,activeCoordinate:ue,activePayload:te,activeTooltipIndex:M}))}else S.setState(_)}),gt(S,"renderCursor",function(_){var T,k=S.state,P=k.isTooltipActive,D=k.activeCoordinate,A=k.activePayload,I=k.offset,$=k.activeTooltipIndex,E=k.tooltipAxisBandSize,M=S.getTooltipEventType(),z=(T=_.props.active)!==null&&T!==void 0?T:P,Z=S.props.layout,R=_.key||"_recharts-cursor";return ce.createElement(S0e,{key:R,activeCoordinate:D,activePayload:A,activeTooltipIndex:$,chartName:r,element:_,isActive:z,layout:Z,offset:I,tooltipAxisBandSize:E,tooltipEventType:M})}),gt(S,"renderPolarAxis",function(_,T,k){var P=ps(_,"type.axisType"),D=ps(S.state,"".concat(P,"Map")),A=_.type.defaultProps,I=A!==void 0?Oe(Oe({},A),_.props):_.props,$=D&&D[I["".concat(P,"Id")]];return L.cloneElement(_,Oe(Oe({},$),{},{className:yt(P,$.className),key:_.key||"".concat(T,"-").concat(k),ticks:Co($,!0)}))}),gt(S,"renderPolarGrid",function(_){var T=_.props,k=T.radialLines,P=T.polarAngles,D=T.polarRadius,A=S.state,I=A.radiusAxisMap,$=A.angleAxisMap,E=_l(I),M=_l($),z=M.cx,Z=M.cy,R=M.innerRadius,U=M.outerRadius;return L.cloneElement(_,{polarAngles:Array.isArray(P)?P:Co(M,!0).map(function(re){return re.coordinate}),polarRadius:Array.isArray(D)?D:Co(E,!0).map(function(re){return re.coordinate}),cx:z,cy:Z,innerRadius:R,outerRadius:U,key:_.key||"polar-grid",radialLines:k})}),gt(S,"renderLegend",function(){var _=S.state.formattedGraphicalItems,T=S.props,k=T.children,P=T.width,D=T.height,A=S.props.margin||{},I=P-(A.left||0)-(A.right||0),$=r8({children:k,formattedGraphicalItems:_,legendWidth:I,legendContent:u});if(!$)return null;var E=$.item,M=HP($,A0e);return L.cloneElement(E,Oe(Oe({},M),{},{chartWidth:P,chartHeight:D,margin:A,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),gt(S,"renderTooltip",function(){var _,T=S.props,k=T.children,P=T.accessibilityLayer,D=cs(k,Fa);if(!D)return null;var A=S.state,I=A.isTooltipActive,$=A.activeCoordinate,E=A.activePayload,M=A.activeLabel,z=A.offset,Z=(_=D.props.active)!==null&&_!==void 0?_:I;return L.cloneElement(D,{viewBox:Oe(Oe({},z),{},{x:z.left,y:z.top}),active:Z,label:M,payload:Z?E:[],coordinate:$,accessibilityLayer:P})}),gt(S,"renderBrush",function(_){var T=S.props,k=T.margin,P=T.data,D=S.state,A=D.offset,I=D.dataStartIndex,$=D.dataEndIndex,E=D.updateId;return L.cloneElement(_,{key:_.key||"_recharts-brush",onChange:J0(S.handleBrushChange,_.props.onChange),data:P,x:He(_.props.x)?_.props.x:A.left,y:He(_.props.y)?_.props.y:A.top+A.height+A.brushBottom-(k.bottom||0),width:He(_.props.width)?_.props.width:A.width,startIndex:I,endIndex:$,updateId:"brush-".concat(E)})}),gt(S,"renderReferenceElement",function(_,T,k){if(!_)return null;var P=S,D=P.clipPathId,A=S.state,I=A.xAxisMap,$=A.yAxisMap,E=A.offset,M=_.type.defaultProps||{},z=_.props,Z=z.xAxisId,R=Z===void 0?M.xAxisId:Z,U=z.yAxisId,re=U===void 0?M.yAxisId:U;return L.cloneElement(_,{key:_.key||"".concat(T,"-").concat(k),xAxis:I[R],yAxis:$[re],viewBox:{x:E.left,y:E.top,width:E.width,height:E.height},clipPathId:D})}),gt(S,"renderActivePoints",function(_){var T=_.item,k=_.activePoint,P=_.basePoint,D=_.childIndex,A=_.isRange,I=[],$=T.props.key,E=T.item.type.defaultProps!==void 0?Oe(Oe({},T.item.type.defaultProps),T.item.props):T.item.props,M=E.activeDot,z=E.dataKey,Z=Oe(Oe({index:D,dataKey:z,cx:k.x,cy:k.y,r:4,fill:tS(T.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},ut(M,!1)),dx(M));return I.push(x.renderActiveDot(M,Z,"".concat($,"-activePoint-").concat(D))),P?I.push(x.renderActiveDot(M,Oe(Oe({},Z),{},{cx:P.x,cy:P.y}),"".concat($,"-basePoint-").concat(D))):A&&I.push(null),I}),gt(S,"renderGraphicChild",function(_,T,k){var P=S.filterFormatItem(_,T,k);if(!P)return null;var D=S.getTooltipEventType(),A=S.state,I=A.isTooltipActive,$=A.tooltipAxis,E=A.activeTooltipIndex,M=A.activeLabel,z=S.props.children,Z=cs(z,Fa),R=P.props,U=R.points,re=R.isRange,de=R.baseLine,B=P.item.type.defaultProps!==void 0?Oe(Oe({},P.item.type.defaultProps),P.item.props):P.item.props,G=B.activeDot,te=B.hide,ue=B.activeBar,q=B.activeShape,X=!!(!te&&I&&Z&&(G||ue||q)),Q={};D!=="axis"&&Z&&Z.props.trigger==="click"?Q={onClick:J0(S.handleItemMouseEnter,_.props.onClick)}:D!=="axis"&&(Q={onMouseLeave:J0(S.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:J0(S.handleItemMouseEnter,_.props.onMouseEnter)});var ne=L.cloneElement(_,Oe(Oe({},P.props),Q));function pe(Ge){return typeof $.dataKey=="function"?$.dataKey(Ge.payload):null}if(X)if(E>=0){var se,W;if($.dataKey&&!$.allowDuplicatedCategory){var fe=typeof $.dataKey=="function"?pe:"payload.".concat($.dataKey.toString());se=ux(U,fe,M),W=re&&de&&ux(de,fe,M)}else se=U==null?void 0:U[E],W=re&&de&&de[E];if(q||ue){var Ae=_.props.activeIndex!==void 0?_.props.activeIndex:E;return[L.cloneElement(_,Oe(Oe(Oe({},P.props),Q),{},{activeIndex:Ae})),null,null]}if(!jt(se))return[ne].concat(gf(S.renderActivePoints({item:P,activePoint:se,basePoint:W,childIndex:E,isRange:re})))}else{var Y,Ce=(Y=S.getItemByXY(S.state.activeCoordinate))!==null&&Y!==void 0?Y:{graphicalItem:ne},qe=Ce.graphicalItem,be=qe.item,je=be===void 0?_:be,Me=qe.childIndex,Ue=Oe(Oe(Oe({},P.props),Q),{},{activeIndex:Me});return[L.cloneElement(je,Ue),null,null]}return re?[ne,null,null]:[ne,null]}),gt(S,"renderCustomized",function(_,T,k){return L.cloneElement(_,Oe(Oe({key:"recharts-customized-".concat(k)},S.props),S.state))}),gt(S,"renderMap",{CartesianGrid:{handler:rg,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:rg},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:rg},YAxis:{handler:rg},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((N=b.id)!==null&&N!==void 0?N:bu("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=tL(S.triggeredAfterMouseMove,(w=b.throttleDelay)!==null&&w!==void 0?w:1e3/60),S.state={},S}return D0e(x,v),I0e(x,[{key:"componentDidMount",value:function(){var N,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,w=N.children,S=N.data,_=N.height,T=N.layout,k=cs(w,Fa);if(k){var P=k.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,A=zN(this.state,S,P,D),I=this.state.tooltipTicks[P].coordinate,$=(this.state.offset.top+_)/2,E=T==="horizontal",M=E?{x:I,y:$}:{y:I,x:$},z=this.state.formattedGraphicalItems.find(function(R){var U=R.item;return U.type.name==="Scatter"});z&&(M=Oe(Oe({},M),z.props.points[P].tooltipPosition),A=z.props.points[P].tooltipPayload);var Z={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:D,activePayload:A,activeCoordinate:M};this.setState(Z),this.renderCursor(k),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var S,_;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(N){gw([cs(N.children,Fa)],[cs(this.props.children,Fa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=cs(this.props.children,Fa);if(N&&typeof N.props.shared=="boolean"){var w=N.props.shared?"axis":"item";return l.indexOf(w)>=0?w:i}return i}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var w=this.container,S=w.getBoundingClientRect(),_=Tre(S),T={chartX:Math.round(N.pageX-_.left),chartY:Math.round(N.pageY-_.top)},k=S.width/w.offsetWidth||1,P=this.inRange(T.chartX,T.chartY,k);if(!P)return null;var D=this.state,A=D.xAxisMap,I=D.yAxisMap,$=this.getTooltipEventType(),E=WP(this.state,this.props.data,this.props.layout,P);if($!=="axis"&&A&&I){var M=_l(A).scale,z=_l(I).scale,Z=M&&M.invert?M.invert(T.chartX):null,R=z&&z.invert?z.invert(T.chartY):null;return Oe(Oe({},T),{},{xValue:Z,yValue:R},E)}return E?Oe(Oe({},T),E):null}},{key:"inRange",value:function(N,w){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,T=N/S,k=w/S;if(_==="horizontal"||_==="vertical"){var P=this.state.offset,D=T>=P.left&&T<=P.left+P.width&&k>=P.top&&k<=P.top+P.height;return D?{x:T,y:k}:null}var A=this.state,I=A.angleAxisMap,$=A.radiusAxisMap;if(I&&$){var E=_l(I);return pE({x:T,y:k},E)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,w=this.getTooltipEventType(),S=cs(N,Fa),_={};S&&w==="axis"&&(S.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=dx(this.props,this.handleOuterEvent);return Oe(Oe({},T),_)}},{key:"addListener",value:function(){jb.on(Sb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){jb.removeListener(Sb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,w,S){for(var _=this.state.formattedGraphicalItems,T=0,k=_.length;T<k;T++){var P=_[T];if(P.item===N||P.props.key===N.key||w===ko(P.item.type)&&S===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,w=this.state.offset,S=w.left,_=w.top,T=w.height,k=w.width;return ce.createElement("defs",null,ce.createElement("clipPath",{id:N},ce.createElement("rect",{x:S,y:_,height:T,width:k})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(w,S){var _=qP(S,2),T=_[0],k=_[1];return Oe(Oe({},w),{},gt({},T,k.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(w,S){var _=qP(S,2),T=_[0],k=_[1];return Oe(Oe({},w),{},gt({},T,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[N])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(N){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[N])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(N){var w=this.state,S=w.formattedGraphicalItems,_=w.activeItem;if(S&&S.length)for(var T=0,k=S.length;T<k;T++){var P=S[T],D=P.props,A=P.item,I=A.type.defaultProps!==void 0?Oe(Oe({},A.type.defaultProps),A.props):A.props,$=ko(A.type);if($==="Bar"){var E=(D.data||[]).find(function(R){return fue(N,R)});if(E)return{graphicalItem:P,payload:E}}else if($==="RadialBar"){var M=(D.data||[]).find(function(R){return pE(N,R)});if(M)return{graphicalItem:P,payload:M}}else if(Ev(P,_)||Pv(P,_)||ip(P,_)){var z=efe({graphicalItem:P,activeTooltipItem:_,itemData:I.data}),Z=I.activeIndex===void 0?z:I.activeIndex;return{graphicalItem:Oe(Oe({},P),{},{childIndex:Z}),payload:ip(P,_)?I.data[z]:P.props.data[z]}}}return null}},{key:"render",value:function(){var N=this;if(!i3(this))return null;var w=this.props,S=w.children,_=w.className,T=w.width,k=w.height,P=w.style,D=w.compact,A=w.title,I=w.desc,$=HP(w,_0e),E=ut($,!1);if(D)return ce.createElement(jP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ce.createElement(yw,xd({},E,{width:T,height:k,title:A,desc:I}),this.renderClipPath(),l3(S,this.renderMap)));if(this.props.accessibilityLayer){var M,z;E.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,E.role=(z=this.props.role)!==null&&z!==void 0?z:"application",E.onKeyDown=function(R){N.accessibilityManager.keyboardEvent(R)},E.onFocus=function(){N.accessibilityManager.focus()}}var Z=this.parseEventsOfWrapper();return ce.createElement(jP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ce.createElement("div",xd({className:yt("recharts-wrapper",_),style:Oe({position:"relative",cursor:"default",width:T,height:k},P)},Z,{ref:function(U){N.container=U}}),ce.createElement(yw,xd({},E,{width:T,height:k,title:A,desc:I,style:q0e}),this.renderClipPath(),l3(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(L.Component);gt(p,"displayName",r),gt(p,"defaultProps",Oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),gt(p,"getDerivedStateFromProps",function(v,x){var b=v.dataKey,N=v.data,w=v.children,S=v.width,_=v.height,T=v.layout,k=v.stackOffset,P=v.margin,D=x.dataStartIndex,A=x.dataEndIndex;if(x.updateId===void 0){var I=GP(v);return Oe(Oe(Oe({},I),{},{updateId:0},h(Oe(Oe({props:v},I),{},{updateId:0}),x)),{},{prevDataKey:b,prevData:N,prevWidth:S,prevHeight:_,prevLayout:T,prevStackOffset:k,prevMargin:P,prevChildren:w})}if(b!==x.prevDataKey||N!==x.prevData||S!==x.prevWidth||_!==x.prevHeight||T!==x.prevLayout||k!==x.prevStackOffset||!Ad(P,x.prevMargin)){var $=GP(v),E={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},M=Oe(Oe({},WP(x,N,T)),{},{updateId:x.updateId+1}),z=Oe(Oe(Oe({},$),E),M);return Oe(Oe(Oe({},z),h(Oe({props:v},z),x)),{},{prevDataKey:b,prevData:N,prevWidth:S,prevHeight:_,prevLayout:T,prevStackOffset:k,prevMargin:P,prevChildren:w})}if(!gw(w,x.prevChildren)){var Z,R,U,re,de=cs(w,af),B=de&&(Z=(R=de.props)===null||R===void 0?void 0:R.startIndex)!==null&&Z!==void 0?Z:D,G=de&&(U=(re=de.props)===null||re===void 0?void 0:re.endIndex)!==null&&U!==void 0?U:A,te=B!==D||G!==A,ue=!jt(N),q=ue&&!te?x.updateId:x.updateId+1;return Oe(Oe({updateId:q},h(Oe(Oe({props:v},x),{},{updateId:q,dataStartIndex:B,dataEndIndex:G}),x)),{},{prevChildren:w,dataStartIndex:B,dataEndIndex:G})}return null}),gt(p,"renderActiveDot",function(v,x,b){var N;return L.isValidElement(v)?N=L.cloneElement(v,x):xt(v)?N=v(x):N=ce.createElement(Rp,x),ce.createElement(Bt,{className:"recharts-active-dot",key:b},N)});var y=L.forwardRef(function(x,b){return ce.createElement(p,xd({},x,{ref:b}))});return y.displayName=p.displayName,y},TR=Rv({chartName:"LineChart",GraphicalChild:mu,axisComponents:[{axisType:"xAxis",AxisComp:Io},{axisType:"yAxis",AxisComp:Lo}],formatAxisMap:nS}),Q0e=Rv({chartName:"BarChart",GraphicalChild:Su,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Io},{axisType:"yAxis",AxisComp:Lo}],formatAxisMap:nS}),ege=Rv({chartName:"PieChart",GraphicalChild:Xo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:_v},{axisType:"radiusAxis",AxisComp:Sv}],formatAxisMap:_oe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),tge=Rv({chartName:"AreaChart",GraphicalChild:Ho,axisComponents:[{axisType:"xAxis",AxisComp:Io},{axisType:"yAxis",AxisComp:Lo}],formatAxisMap:nS});const rge={VITAL:"vital",MEDICATION:"medication",SYMPTOM:"symptom",NOTE:"note",ASSESSMENT:"assessment",TREATMENT:"treatment"},nge={PATIENT:"patient",NURSE:"nurse",DOCTOR:"doctor",CAREGIVER:"caregiver",SPECIALIST:"specialist"};function ho(e){var t,r,n;return{...e,patientName:((t=e.patient)==null?void 0:t.name)??e.patientName??"Unknown Patient",recordType:rge[(r=e.recordType)==null?void 0:r.toUpperCase()]??"note",updatedByRole:nge[(n=e.updatedByRole)==null?void 0:n.toUpperCase()]??"nurse",timestamp:e.timestamp?new Date(e.timestamp).toISOString():e.timestamp,verified:!!e.verified}}const age=e=>typeof e=="number"?Math.min(Math.max(e,1),100):e;function KP(e){return e.toUpperCase()}class sge{async getHealthRecords(t){const r=await me.get(xe.HEALTH_RECORDS.BASE,{params:t&&{...t,limit:age(t.limit)}});return{records:Array.isArray(r.data)?r.data.map(ho):[],pagination:r.pagination}}async getHealthRecord(t){const r=await me.get(xe.HEALTH_RECORDS.BY_ID(t));return ho(r.data)}async createHealthRecord(t){const r={...t,recordType:KP(t.recordType)},n=await me.post(xe.HEALTH_RECORDS.BASE,r);return ho(n.data)}async updateHealthRecord(t,r){const n={...r};r.recordType&&(n.recordType=KP(r.recordType));const s=await me.put(xe.HEALTH_RECORDS.BY_ID(t),n);return ho(s.data)}async deleteHealthRecord(t){await me.delete(xe.HEALTH_RECORDS.BY_ID(t))}async getPatientHealthRecords(t){const r=await me.get(xe.HEALTH_RECORDS.BY_PATIENT(t));return Array.isArray(r.data)?r.data.map(ho):[]}async getVitalSigns(t){const r=await me.get(xe.HEALTH_RECORDS.VITALS(t));return Array.isArray(r.data)?r.data.map(ho):[]}async getMedications(t){const r=await me.get(xe.HEALTH_RECORDS.MEDICATIONS(t));return Array.isArray(r.data)?r.data.map(ho):[]}async getSymptoms(t){const r=await me.get(xe.HEALTH_RECORDS.SYMPTOMS(t));return Array.isArray(r.data)?r.data.map(ho):[]}async verifyRecord(t,r){const n=await me.patch(xe.HEALTH_RECORDS.VERIFY(t),r);return ho(n.data)}}const ds=new sge;function Wu(e){var r,n,s;const t=(r=e.status)==null?void 0:r.toLowerCase();return{id:e.id,patientId:e.patientId,patientName:e.patientName??((n=e.patient)==null?void 0:n.name)??"Unknown Patient",serviceId:e.serviceId,serviceName:e.serviceName??((s=e.service)==null?void 0:s.name)??"Unknown Service",amount:e.amount,date:e.date,dueDate:e.dueDate,status:t??"pending",description:e.description,archivedAt:e.archivedAt??void 0,createdAt:e.createdAt}}class ige{async getInvoices(t){const r=await me.get(xe.BILLING.INVOICES,{params:t}),n=r;return{invoices:(Array.isArray(n.data)?n.data:Array.isArray(r.data)?r.data:[]).map(Wu),pagination:n.pagination??r.pagination}}async archiveInvoice(t){const r=await me.patch(xe.BILLING.ARCHIVE_INVOICE(t));return Wu(r.data??r)}async getBillingSummary(t){const r=await me.get(xe.BILLING.SUMMARY,{params:t});return r.data??r}async getInvoice(t){const r=await me.get(xe.BILLING.INVOICE_BY_ID(t));return Wu(r.data)}async createInvoice(t){const r=await me.post(xe.BILLING.INVOICES,t);return Wu(r.data)}async updateInvoice(t,r){const n=await me.put(xe.BILLING.INVOICE_BY_ID(t),r);return Wu(n.data)}async deleteInvoice(t){await me.delete(xe.BILLING.INVOICE_BY_ID(t))}async generateInvoice(t){const r=await me.post(xe.BILLING.GENERATE_INVOICE,t);return Wu(r.data)}async getPayments(t){const r=await me.get(xe.BILLING.PAYMENTS,{params:t});return{payments:Array.isArray(r.data)?r.data:[],pagination:r.pagination}}async getPayment(t){return(await me.get(xe.BILLING.PAYMENT_BY_ID(t))).data}async processPayment(t){return(await me.post(xe.BILLING.PROCESS_PAYMENT,t)).data}async getRevenueReport(){return(await me.get(xe.BILLING.REVENUE_REPORT)).data??{}}async getOutstandingReport(){return(await me.get(xe.BILLING.OUTSTANDING_REPORT)).data??{}}}const ei=new ige,qc={create(e){return me.post(xe.INVESTIGATION_REQUESTS.BASE,e)},async list(e){const t=await me.get(xe.INVESTIGATION_REQUESTS.BASE,{params:e}),r=t.data??t;return{success:t.success,requests:r.requests??[],pagination:r.pagination??{page:1,limit:10,total:0,totalPages:0}}},getById(e){return me.get(xe.INVESTIGATION_REQUESTS.BY_ID(e))},update(e,t){return me.patch(xe.INVESTIGATION_REQUESTS.BY_ID(e),t)}};function qN({isOpen:e,onClose:t,onSave:r,record:n,mode:s,patientId:i}){const[o,l]=L.useState({patientId:"",recordType:"vital",data:{bloodPressure:"",heartRate:"",temperature:"",weight:"",height:"",bmi:"",bmiCategory:"",bloodSugar:"",oxygenSaturation:"",medication:"",dosage:"",taken:!1,symptoms:[],notes:"",painLevel:"",mood:"",sleep:"",appetite:"",mobility:"",injuryType:"",affectedArea:[],painScale:"",mobilityLevel:"",functionalLimitations:[],medicalHistory:"",currentMedications:[],goals:[],assessmentNotes:"",recommendations:[],chiefComplaint:"",history:"",examination:"",diagnosis:"",nextAppointment:""},location:"",notes:""}),[c,u]=L.useState(""),[d,f]=L.useState(""),[m,h]=L.useState(""),[p,y]=L.useState(""),[v,x]=L.useState(""),[b,N]=L.useState(""),[w,S]=L.useState(!1),[_,T]=L.useState(null),[k,P]=L.useState([]),[D,A]=L.useState(!1);L.useEffect(()=>{e&&(async()=>{A(!0);try{const{patients:fe}=await Mn.getPatients({limit:200,status:"active"});if(P(fe),n&&s==="edit"&&!fe.find(Ae=>Ae.id===n.patientId))try{const Ae=await Mn.getPatient(n.patientId);Ae&&P([...fe,Ae])}catch(Ae){console.error("Failed to load patient",Ae)}}catch(fe){console.error("Failed to load patients",fe)}finally{A(!1)}})()},[e,n,s,i]),L.useEffect(()=>{var W,fe,Ae,Y,Ce,qe,be,je,Me,Ue;if(s==="add"&&i)l(Ge=>({...Ge,patientId:i,recordType:"vital"}));else if(n&&s==="edit"){const Ge=((W=n.data.weight)==null?void 0:W.toString())||"",We=((fe=n.data.height)==null?void 0:fe.toString())||"",Et=((Ae=n.data.bmi)==null?void 0:Ae.toString())||"";let pt={bmi:Et,bmiCategory:n.data.bmiCategory||""};(Ge&&We&&!Et||Ge&&We&&Et)&&(pt=I(Ge,We)),l({patientId:n.patientId,recordType:n.recordType,data:{bloodPressure:n.data.bloodPressure||"",heartRate:((Y=n.data.heartRate)==null?void 0:Y.toString())||"",temperature:((Ce=n.data.temperature)==null?void 0:Ce.toString())||"",weight:Ge,height:We,bmi:pt.bmi,bmiCategory:pt.bmiCategory,bloodSugar:((qe=n.data.bloodSugar)==null?void 0:qe.toString())||"",oxygenSaturation:((be=n.data.oxygenSaturation)==null?void 0:be.toString())||"",medication:n.data.medication||"",dosage:n.data.dosage||"",taken:n.data.taken||!1,symptoms:n.data.symptoms||[],notes:n.data.notes||"",painLevel:((je=n.data.painLevel)==null?void 0:je.toString())||"",mood:n.data.mood||"",sleep:((Me=n.data.sleep)==null?void 0:Me.toString())||"",appetite:n.data.appetite||"",mobility:n.data.mobility||"",injuryType:n.data.injuryType||"",affectedArea:n.data.affectedArea||[],painScale:((Ue=n.data.painScale)==null?void 0:Ue.toString())||"",mobilityLevel:n.data.mobilityLevel||"",functionalLimitations:n.data.functionalLimitations||[],medicalHistory:n.data.medicalHistory||"",currentMedications:n.data.currentMedications||[],goals:n.data.goals||[],assessmentNotes:n.data.assessmentNotes||"",recommendations:n.data.recommendations||[],chiefComplaint:n.data.chiefComplaint||"",history:n.data.history||"",examination:n.data.examination||"",diagnosis:n.data.diagnosis||"",nextAppointment:n.data.nextAppointment||""},location:n.location||"",notes:n.notes||""})}else l({patientId:"",recordType:"vital",data:{bloodPressure:"",heartRate:"",temperature:"",weight:"",height:"",bmi:"",bmiCategory:"",bloodSugar:"",oxygenSaturation:"",medication:"",dosage:"",taken:!1,symptoms:[],notes:"",painLevel:"",mood:"",sleep:"",appetite:"",mobility:"",injuryType:"",affectedArea:[],painScale:"",mobilityLevel:"",functionalLimitations:[],medicalHistory:"",currentMedications:[],goals:[],assessmentNotes:"",recommendations:[],chiefComplaint:"",history:"",examination:"",diagnosis:"",nextAppointment:""},location:"",notes:""})},[n,s]);const I=(W,fe)=>{const Ae=parseFloat(W),Y=parseFloat(fe);if(!Ae||!Y||Ae<=0||Y<=0)return{bmi:"",bmiCategory:""};const Ce=Ae/(Y*Y)*703,qe=Math.round(Ce*10)/10;let be="";return qe<18.5?be="Underweight":qe>=18.5&&qe<25?be="Normal weight":qe>=25&&qe<30?be="Overweight":be="Obese",{bmi:qe.toString(),bmiCategory:be}},$=W=>{const{name:fe,value:Ae,type:Y}=W.target;if(fe.startsWith("data.")){const Ce=fe.replace("data.","");l(qe=>{const be={...qe.data,[Ce]:Y==="checkbox"?W.target.checked:Ae};if(Ce==="weight"||Ce==="height"){const je=Ce==="weight"?Ae:qe.data.weight,Me=Ce==="height"?Ae:qe.data.height,{bmi:Ue,bmiCategory:Ge}=I(je,Me);be.bmi=Ue,be.bmiCategory=Ge}return{...qe,data:be}})}else l(Ce=>({...Ce,[fe]:Ae}))},E=()=>{c.trim()&&(l(W=>({...W,data:{...W.data,symptoms:[...W.data.symptoms,c.trim()]}})),u(""))},M=W=>{l(fe=>({...fe,data:{...fe.data,symptoms:fe.data.symptoms.filter((Ae,Y)=>Y!==W)}}))},z=()=>{d.trim()&&(l(W=>({...W,data:{...W.data,affectedArea:[...W.data.affectedArea,d.trim()]}})),f(""))},Z=W=>{l(fe=>({...fe,data:{...fe.data,affectedArea:fe.data.affectedArea.filter((Ae,Y)=>Y!==W)}}))},R=()=>{m.trim()&&(l(W=>({...W,data:{...W.data,functionalLimitations:[...W.data.functionalLimitations,m.trim()]}})),h(""))},U=W=>{l(fe=>({...fe,data:{...fe.data,functionalLimitations:fe.data.functionalLimitations.filter((Ae,Y)=>Y!==W)}}))},re=()=>{p.trim()&&(l(W=>({...W,data:{...W.data,currentMedications:[...W.data.currentMedications,p.trim()]}})),y(""))},de=W=>{l(fe=>({...fe,data:{...fe.data,currentMedications:fe.data.currentMedications.filter((Ae,Y)=>Y!==W)}}))},B=()=>{v.trim()&&(l(W=>({...W,data:{...W.data,goals:[...W.data.goals,v.trim()]}})),x(""))},G=W=>{l(fe=>({...fe,data:{...fe.data,goals:fe.data.goals.filter((Ae,Y)=>Y!==W)}}))},te=()=>{b.trim()&&(l(W=>({...W,data:{...W.data,recommendations:[...W.data.recommendations,b.trim()]}})),N(""))},ue=W=>{l(fe=>({...fe,data:{...fe.data,recommendations:fe.data.recommendations.filter((Ae,Y)=>Y!==W)}}))},q=async W=>{if(W.preventDefault(),w)return;S(!0),T(null);const fe={...o.data,heartRate:o.data.heartRate?parseInt(o.data.heartRate):void 0,temperature:o.data.temperature?parseFloat(o.data.temperature):void 0,weight:o.data.weight?parseFloat(o.data.weight):void 0,height:o.data.height?parseFloat(o.data.height):void 0,bloodSugar:o.data.bloodSugar?parseFloat(o.data.bloodSugar):void 0,oxygenSaturation:o.data.oxygenSaturation?parseFloat(o.data.oxygenSaturation):void 0,painLevel:o.data.painLevel?parseInt(o.data.painLevel):void 0,sleep:o.data.sleep?parseInt(o.data.sleep):void 0,painScale:o.data.painScale?parseInt(o.data.painScale):void 0};Object.keys(fe).forEach(Y=>{(fe[Y]===""||fe[Y]===void 0)&&delete fe[Y]});const Ae={recordId:n==null?void 0:n.id,patientId:o.patientId,recordType:o.recordType,data:fe,location:o.location||void 0,notes:o.notes||void 0};try{await r(Ae),t()}catch(Y){T((Y==null?void 0:Y.message)??"Unable to save health record. Please try again.")}finally{S(!1)}},X=()=>a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blood Pressure"}),a.jsx("input",{type:"text",name:"data.bloodPressure",value:o.data.bloodPressure,onChange:$,placeholder:"e.g., 120/80",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Heart Rate (bpm)"}),a.jsx("input",{type:"number",name:"data.heartRate",value:o.data.heartRate,onChange:$,placeholder:"e.g., 72",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Temperature (F)"}),a.jsx("input",{type:"number",step:"0.1",name:"data.temperature",value:o.data.temperature,onChange:$,placeholder:"e.g., 98.6",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight (lbs)"}),a.jsx("input",{type:"number",step:"0.1",name:"data.weight",value:o.data.weight,onChange:$,placeholder:"e.g., 150",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Height (inches)"}),a.jsx("input",{type:"number",step:"0.1",name:"data.height",value:o.data.height,onChange:$,placeholder:"e.g., 65",className:"input-field"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["BMI (Body Mass Index)",a.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"(Auto-calculated)"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",name:"data.bmi",value:o.data.bmi||"",readOnly:!0,placeholder:"Enter weight & height",className:"input-field bg-gray-50 flex-1"}),o.data.bmiCategory&&a.jsx("span",{className:`px-3 py-2 rounded-md text-sm font-medium ${o.data.bmiCategory==="Normal weight"?"bg-green-100 text-green-800":o.data.bmiCategory==="Underweight"?"bg-yellow-100 text-yellow-800":o.data.bmiCategory==="Overweight"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:o.data.bmiCategory})]}),o.data.bmi&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"BMI Categories: Underweight (<18.5) | Normal (18.5-24.9) | Overweight (25-29.9) | Obese (30)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blood Sugar (mg/dL)"}),a.jsx("input",{type:"number",name:"data.bloodSugar",value:o.data.bloodSugar,onChange:$,placeholder:"e.g., 100",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Oxygen Saturation (%)"}),a.jsx("input",{type:"number",name:"data.oxygenSaturation",value:o.data.oxygenSaturation,onChange:$,placeholder:"e.g., 98",className:"input-field"})]})]}),Q=()=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Medication"}),a.jsx("input",{type:"text",name:"data.medication",value:o.data.medication,onChange:$,placeholder:"e.g., Lisinopril",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dosage"}),a.jsx("input",{type:"text",name:"data.dosage",value:o.data.dosage,onChange:$,placeholder:"e.g., 10mg",className:"input-field"})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",name:"data.taken",checked:o.data.taken,onChange:$,className:"mr-2"}),a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Medication was taken"})]})]}),ne=()=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Symptoms"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:c,onChange:W=>u(W.target.value),placeholder:"Add symptom...",className:"input-field flex-1",onKeyPress:W=>W.key==="Enter"&&(W.preventDefault(),E())}),a.jsx("button",{type:"button",onClick:E,className:"btn-primary",children:a.jsx(zt,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:o.data.symptoms.map((W,fe)=>a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[W,a.jsx("button",{type:"button",onClick:()=>M(fe),className:"ml-1 text-blue-600 hover:text-blue-800",children:a.jsx(Dt,{className:"h-3 w-3"})})]},fe))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pain Level (1-10)"}),a.jsx("input",{type:"number",min:"1",max:"10",name:"data.painLevel",value:o.data.painLevel,onChange:$,placeholder:"e.g., 5",className:"input-field"})]})]}),pe=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Injury Type"}),a.jsxs("select",{name:"data.injuryType",value:o.data.injuryType,onChange:$,className:"input-field",children:[a.jsx("option",{value:"",children:"Select injury type"}),a.jsx("option",{value:"musculoskeletal",children:"Musculoskeletal"}),a.jsx("option",{value:"neurological",children:"Neurological"}),a.jsx("option",{value:"cardiovascular",children:"Cardiovascular"}),a.jsx("option",{value:"respiratory",children:"Respiratory"}),a.jsx("option",{value:"sports",children:"Sports"}),a.jsx("option",{value:"post-surgical",children:"Post-Surgical"}),a.jsx("option",{value:"chronic-pain",children:"Chronic Pain"}),a.jsx("option",{value:"other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pain Scale (1-10)"}),a.jsx("input",{type:"number",min:"1",max:"10",name:"data.painScale",value:o.data.painScale,onChange:$,placeholder:"e.g., 5",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobility Level"}),a.jsxs("select",{name:"data.mobilityLevel",value:o.data.mobilityLevel,onChange:$,className:"input-field",children:[a.jsx("option",{value:"",children:"Select mobility level"}),a.jsx("option",{value:"independent",children:"Independent"}),a.jsx("option",{value:"assisted",children:"Assisted"}),a.jsx("option",{value:"dependent",children:"Dependent"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Next Appointment"}),a.jsx("input",{type:"date",name:"data.nextAppointment",value:o.data.nextAppointment,onChange:$,className:"input-field"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chief Complaint"}),a.jsx("textarea",{name:"data.chiefComplaint",value:o.data.chiefComplaint,onChange:$,rows:2,className:"input-field",placeholder:"Primary reason for visit..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Medical History"}),a.jsx("textarea",{name:"data.medicalHistory",value:o.data.medicalHistory,onChange:$,rows:3,className:"input-field",placeholder:"Relevant medical history..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Examination Findings"}),a.jsx("textarea",{name:"data.examination",value:o.data.examination,onChange:$,rows:3,className:"input-field",placeholder:"Physical examination findings..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Diagnosis"}),a.jsx("textarea",{name:"data.diagnosis",value:o.data.diagnosis,onChange:$,rows:2,className:"input-field",placeholder:"Clinical diagnosis..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Affected Areas"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:d,onChange:W=>f(W.target.value),placeholder:"Add affected area...",className:"input-field flex-1",onKeyPress:W=>W.key==="Enter"&&(W.preventDefault(),z())}),a.jsx("button",{type:"button",onClick:z,className:"btn-primary",children:a.jsx(zt,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:o.data.affectedArea.map((W,fe)=>a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[W,a.jsx("button",{type:"button",onClick:()=>Z(fe),className:"ml-1 text-purple-600 hover:text-purple-800",children:a.jsx(Dt,{className:"h-3 w-3"})})]},fe))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Functional Limitations"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:m,onChange:W=>h(W.target.value),placeholder:"Add limitation...",className:"input-field flex-1",onKeyPress:W=>W.key==="Enter"&&(W.preventDefault(),R())}),a.jsx("button",{type:"button",onClick:R,className:"btn-primary",children:a.jsx(zt,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:o.data.functionalLimitations.map((W,fe)=>a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[W,a.jsx("button",{type:"button",onClick:()=>U(fe),className:"ml-1 text-orange-600 hover:text-orange-800",children:a.jsx(Dt,{className:"h-3 w-3"})})]},fe))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Medications"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:p,onChange:W=>y(W.target.value),placeholder:"Add medication...",className:"input-field flex-1",onKeyPress:W=>W.key==="Enter"&&(W.preventDefault(),re())}),a.jsx("button",{type:"button",onClick:re,className:"btn-primary",children:a.jsx(zt,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:o.data.currentMedications.map((W,fe)=>a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[W,a.jsx("button",{type:"button",onClick:()=>de(fe),className:"ml-1 text-blue-600 hover:text-blue-800",children:a.jsx(Dt,{className:"h-3 w-3"})})]},fe))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Treatment Goals"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:v,onChange:W=>x(W.target.value),placeholder:"Add goal...",className:"input-field flex-1",onKeyPress:W=>W.key==="Enter"&&(W.preventDefault(),B())}),a.jsx("button",{type:"button",onClick:B,className:"btn-primary",children:a.jsx(zt,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:o.data.goals.map((W,fe)=>a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[W,a.jsx("button",{type:"button",onClick:()=>G(fe),className:"ml-1 text-green-600 hover:text-green-800",children:a.jsx(Dt,{className:"h-3 w-3"})})]},fe))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recommendations"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:b,onChange:W=>N(W.target.value),placeholder:"Add recommendation...",className:"input-field flex-1",onKeyPress:W=>W.key==="Enter"&&(W.preventDefault(),te())}),a.jsx("button",{type:"button",onClick:te,className:"btn-primary",children:a.jsx(zt,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:o.data.recommendations.map((W,fe)=>a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[W,a.jsx("button",{type:"button",onClick:()=>ue(fe),className:"ml-1 text-yellow-600 hover:text-yellow-800",children:a.jsx(Dt,{className:"h-3 w-3"})})]},fe))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assessment Notes"}),a.jsx("textarea",{name:"data.assessmentNotes",value:o.data.assessmentNotes,onChange:$,rows:4,className:"input-field",placeholder:"Additional assessment notes and observations..."})]})]}),se=()=>a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mood"}),a.jsxs("select",{name:"data.mood",value:o.data.mood,onChange:$,className:"input-field",children:[a.jsx("option",{value:"",children:"Select mood"}),a.jsx("option",{value:"Excellent",children:"Excellent"}),a.jsx("option",{value:"Good",children:"Good"}),a.jsx("option",{value:"Fair",children:"Fair"}),a.jsx("option",{value:"Poor",children:"Poor"}),a.jsx("option",{value:"Very Poor",children:"Very Poor"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sleep (hours)"}),a.jsx("input",{type:"number",name:"data.sleep",value:o.data.sleep,onChange:$,placeholder:"e.g., 8",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Appetite"}),a.jsxs("select",{name:"data.appetite",value:o.data.appetite,onChange:$,className:"input-field",children:[a.jsx("option",{value:"",children:"Select appetite"}),a.jsx("option",{value:"Excellent",children:"Excellent"}),a.jsx("option",{value:"Good",children:"Good"}),a.jsx("option",{value:"Fair",children:"Fair"}),a.jsx("option",{value:"Poor",children:"Poor"}),a.jsx("option",{value:"None",children:"None"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobility"}),a.jsxs("select",{name:"data.mobility",value:o.data.mobility,onChange:$,className:"input-field",children:[a.jsx("option",{value:"",children:"Select mobility"}),a.jsx("option",{value:"Independent",children:"Independent"}),a.jsx("option",{value:"Assisted",children:"Assisted"}),a.jsx("option",{value:"Dependent",children:"Dependent"})]})]})]});return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold",children:s==="add"?"Add Health Record":"Edit Health Record"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Dt,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:q,className:"space-y-6",children:[_&&a.jsx("div",{className:"rounded-md border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:_}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Patient"}),D?a.jsx("div",{className:"input-field text-gray-500",children:"Loading patients..."}):a.jsxs(a.Fragment,{children:[a.jsxs("select",{name:"patientId",value:o.patientId,onChange:$,required:!0,className:"input-field",disabled:s==="edit"||s==="add"&&!!i,children:[a.jsx("option",{value:"",children:"Select a patient"}),k.map(W=>a.jsxs("option",{value:W.id,children:[W.name," ",W.email?`(${W.email})`:""]},W.id))]}),i&&s==="add"&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Patient is pre-selected from profile"})]}),s==="edit"&&a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Patient cannot be changed when editing"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Record Type"}),a.jsxs("select",{name:"recordType",value:o.recordType,onChange:$,required:!0,className:"input-field",children:[a.jsx("option",{value:"vital",children:"Vital Signs"}),a.jsx("option",{value:"medication",children:"Medication"}),a.jsx("option",{value:"symptom",children:"Symptoms"}),a.jsx("option",{value:"note",children:"General Note"}),a.jsx("option",{value:"assessment",children:"Assessment"}),a.jsx("option",{value:"treatment",children:"Treatment"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),a.jsx("input",{type:"text",name:"location",value:o.location,onChange:$,placeholder:"e.g., Home, Clinic",className:"input-field"})]})]}),o.recordType==="vital"&&X(),o.recordType==="medication"&&Q(),o.recordType==="symptom"&&ne(),o.recordType==="note"&&se(),o.recordType==="assessment"&&pe(),o.recordType==="treatment"&&se(),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Notes"}),a.jsx("textarea",{name:"notes",value:o.notes,onChange:$,rows:3,className:"input-field",placeholder:"Any additional notes or observations..."})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-outline",disabled:w,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:w,children:w?"Saving...":s==="add"?"Add Record":"Update Record"})]})]})]})}):null}const oge="modulepreload",lge=function(e){return"/"+e},XP={},_b=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=lge(c),c in XP)return;XP[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":oge,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,h)=>{f.addEventListener("load",m),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function sr(e){"@babel/helpers - typeof";return sr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sr(e)}var mi=Uint8Array,hs=Uint16Array,hS=Int32Array,mS=new mi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),pS=new mi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),JP=new mi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),kR=function(e,t){for(var r=new hs(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var s=new hS(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},OR=kR(mS,2),cge=OR.b,HN=OR.r;cge[28]=258,HN[258]=28;var uge=kR(pS,0),ZP=uge.r,VN=new hs(32768);for(var Cr=0;Cr<32768;++Cr){var ml=(Cr&43690)>>1|(Cr&21845)<<1;ml=(ml&52428)>>2|(ml&13107)<<2,ml=(ml&61680)>>4|(ml&3855)<<4,VN[Cr]=((ml&65280)>>8|(ml&255)<<8)>>1}var lm=function(e,t,r){for(var n=e.length,s=0,i=new hs(t);s<n;++s)e[s]&&++i[e[s]-1];var o=new hs(t);for(s=1;s<t;++s)o[s]=o[s-1]+i[s-1]<<1;var l;if(r){l=new hs(1<<t);var c=15-t;for(s=0;s<n;++s)if(e[s])for(var u=s<<4|e[s],d=t-e[s],f=o[e[s]-1]++<<d,m=f|(1<<d)-1;f<=m;++f)l[VN[f]>>c]=u}else for(l=new hs(n),s=0;s<n;++s)e[s]&&(l[s]=VN[o[e[s]-1]++]>>15-e[s]);return l},pu=new mi(288);for(var Cr=0;Cr<144;++Cr)pu[Cr]=8;for(var Cr=144;Cr<256;++Cr)pu[Cr]=9;for(var Cr=256;Cr<280;++Cr)pu[Cr]=7;for(var Cr=280;Cr<288;++Cr)pu[Cr]=8;var fy=new mi(32);for(var Cr=0;Cr<32;++Cr)fy[Cr]=5;var dge=lm(pu,9,0),fge=lm(fy,5,0),IR=function(e){return(e+7)/8|0},hge=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new mi(e.subarray(t,r))},mo=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Lh=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},Eb=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,i=r.slice();if(!s)return{t:RR,l:0};if(s==1){var o=new mi(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(S,_){return S.f-_.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=s-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var m=i[0].s,n=1;n<s;++n)i[n].s>m&&(m=i[n].s);var h=new hs(m+1),p=WN(r[d-1],h,0);if(p>t){var n=0,y=0,v=p-t,x=1<<v;for(i.sort(function(_,T){return h[T.s]-h[_.s]||_.f-T.f});n<s;++n){var b=i[n].s;if(h[b]>t)y+=x-(1<<p-h[b]),h[b]=t;else break}for(y>>=v;y>0;){var N=i[n].s;h[N]<t?y-=1<<t-h[N]++-1:++n}for(;n>=0&&y;--n){var w=i[n].s;h[w]==t&&(--h[w],++y)}p=t}return{t:new mi(h),l:p}},WN=function(e,t,r){return e.s==-1?Math.max(WN(e.l,t,r+1),WN(e.r,t,r+1)):t[e.s]=r},QP=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new hs(++t),n=0,s=e[0],i=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==s&&l!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=e[l]}return{c:r.subarray(0,n),n:t}},Rh=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},LR=function(e,t,r){var n=r.length,s=IR(t+2);e[s]=n&255,e[s+1]=n>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<n;++i)e[s+i+4]=r[i];return(s+4+n)*8},e6=function(e,t,r,n,s,i,o,l,c,u,d){mo(t,d++,r),++s[256];for(var f=Eb(s,15),m=f.t,h=f.l,p=Eb(i,15),y=p.t,v=p.l,x=QP(m),b=x.c,N=x.n,w=QP(y),S=w.c,_=w.n,T=new hs(19),k=0;k<b.length;++k)++T[b[k]&31];for(var k=0;k<S.length;++k)++T[S[k]&31];for(var P=Eb(T,7),D=P.t,A=P.l,I=19;I>4&&!D[JP[I-1]];--I);var $=u+5<<3,E=Rh(s,pu)+Rh(i,fy)+o,M=Rh(s,m)+Rh(i,y)+o+14+3*I+Rh(T,D)+2*T[16]+3*T[17]+7*T[18];if(c>=0&&$<=E&&$<=M)return LR(t,d,e.subarray(c,c+u));var z,Z,R,U;if(mo(t,d,1+(M<E)),d+=2,M<E){z=lm(m,h,0),Z=m,R=lm(y,v,0),U=y;var re=lm(D,A,0);mo(t,d,N-257),mo(t,d+5,_-1),mo(t,d+10,I-4),d+=14;for(var k=0;k<I;++k)mo(t,d+3*k,D[JP[k]]);d+=3*I;for(var de=[b,S],B=0;B<2;++B)for(var G=de[B],k=0;k<G.length;++k){var te=G[k]&31;mo(t,d,re[te]),d+=D[te],te>15&&(mo(t,d,G[k]>>5&127),d+=G[k]>>12)}}else z=dge,Z=pu,R=fge,U=fy;for(var k=0;k<l;++k){var ue=n[k];if(ue>255){var te=ue>>18&31;Lh(t,d,z[te+257]),d+=Z[te+257],te>7&&(mo(t,d,ue>>23&31),d+=mS[te]);var q=ue&31;Lh(t,d,R[q]),d+=U[q],q>3&&(Lh(t,d,ue>>5&8191),d+=pS[q])}else Lh(t,d,z[ue]),d+=Z[ue]}return Lh(t,d,z[256]),d+Z[256]},mge=new hS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),RR=new mi(0),pge=function(e,t,r,n,s,i){var o=i.z||e.length,l=new mi(n+o+5*(1+Math.ceil(o/7e3))+s),c=l.subarray(n,l.length-s),u=i.l,d=(i.r||0)&7;if(t){d&&(c[0]=i.r>>3);for(var f=mge[t-1],m=f>>13,h=f&8191,p=(1<<r)-1,y=i.p||new hs(32768),v=i.h||new hs(p+1),x=Math.ceil(r/3),b=2*x,N=function(Ae){return(e[Ae]^e[Ae+1]<<x^e[Ae+2]<<b)&p},w=new hS(25e3),S=new hs(288),_=new hs(32),T=0,k=0,P=i.i||0,D=0,A=i.w||0,I=0;P+2<o;++P){var $=N(P),E=P&32767,M=v[$];if(y[E]=M,v[$]=E,A<=P){var z=o-P;if((T>7e3||D>24576)&&(z>423||!u)){d=e6(e,c,0,w,S,_,k,D,I,P-I,d),D=T=k=0,I=P;for(var Z=0;Z<286;++Z)S[Z]=0;for(var Z=0;Z<30;++Z)_[Z]=0}var R=2,U=0,re=h,de=E-M&32767;if(z>2&&$==N(P-de))for(var B=Math.min(m,z)-1,G=Math.min(32767,P),te=Math.min(258,z);de<=G&&--re&&E!=M;){if(e[P+R]==e[P+R-de]){for(var ue=0;ue<te&&e[P+ue]==e[P+ue-de];++ue);if(ue>R){if(R=ue,U=de,ue>B)break;for(var q=Math.min(de,ue-2),X=0,Z=0;Z<q;++Z){var Q=P-de+Z&32767,ne=y[Q],pe=Q-ne&32767;pe>X&&(X=pe,M=Q)}}}E=M,M=y[E],de+=E-M&32767}if(U){w[D++]=268435456|HN[R]<<18|ZP[U];var se=HN[R]&31,W=ZP[U]&31;k+=mS[se]+pS[W],++S[257+se],++_[W],A=P+R,++T}else w[D++]=e[P],++S[e[P]]}}for(P=Math.max(P,A);P<o;++P)w[D++]=e[P],++S[e[P]];d=e6(e,c,u,w,S,_,k,D,I,P-I,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=v,i.p=y,i.i=P,i.w=A)}else{for(var P=i.w||0;P<o+u;P+=65535){var fe=P+65535;fe>=o&&(c[d/8|0]=u,fe=o),d=LR(c,d+1,e.subarray(P,fe))}i.i=o}return hge(l,0,n+IR(d)+s)},MR=function(){var e=1,t=0;return{p:function(r){for(var n=e,s=t,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)s+=n+=r[o];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}e=n,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},gge=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new mi(i.length+e.length);o.set(i),o.set(e,i.length),e=o,s.w=i.length}return pge(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,s)},DR=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},xge=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=MR();s.p(t.dictionary),DR(e,2,s.d())}};function GN(e,t){t||(t={});var r=MR();r.p(e);var n=gge(e,t,t.dictionary?6:2,4);return xge(n,t),DR(n,n.length-4,r.d()),n}var yge=typeof TextDecoder<"u"&&new TextDecoder,vge=0;try{yge.decode(RR,{stream:!0}),vge=1}catch{}function bge(e){if(Array.isArray(e))return e}function wge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function t6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Nge(e,t){if(e){if(typeof e=="string")return t6(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t6(e,t):void 0}}function jge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r6(e,t){return bge(e)||wge(e,t)||Nge(e,t)||jge()}function n6(e,t="utf8"){return new TextDecoder(t).decode(e)}const Sge=new TextEncoder;function Age(e){return Sge.encode(e)}const _ge=1024*8,Ege=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),Pb={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class gS{constructor(t=_ge,r={}){Vt(this,"buffer");Vt(this,"byteLength");Vt(this,"byteOffset");Vt(this,"length");Vt(this,"offset");Vt(this,"lastWrittenByte");Vt(this,"littleEndian");Vt(this,"_data");Vt(this,"_mark");Vt(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const s=r.offset?r.offset>>>0:0,i=t.byteLength-s;let o=s;(ArrayBuffer.isView(t)||t instanceof gS)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+s),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,s=new Uint8Array(n);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=Pb[r].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+n);if(this.littleEndian===Ege&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(s,s+n));l.reverse();const c=new Pb[r](l.buffer);return this.offset+=n,c.reverse(),c}const o=new Pb[r](i);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return n6(this.readBytes(t))}decodeText(t=1,r="utf8"){return n6(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(Age(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Ff(e){let t=e.length;for(;--t>=0;)e[t]=0}const Pge=3,Cge=258,$R=29,Tge=256,kge=Tge+1+$R,FR=30,Oge=512,Ige=new Array((kge+2)*2);Ff(Ige);const Lge=new Array(FR*2);Ff(Lge);const Rge=new Array(Oge);Ff(Rge);const Mge=new Array(Cge-Pge+1);Ff(Mge);const Dge=new Array($R);Ff(Dge);const $ge=new Array(FR);Ff($ge);const Fge=(e,t,r,n)=>{let s=e&65535|0,i=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do s=s+t[n++]|0,i=i+s|0;while(--o);s%=65521,i%=65521}return s|i<<16|0};var YN=Fge;const Bge=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},Uge=new Uint32Array(Bge()),zge=(e,t,r,n)=>{const s=Uge,i=n+r;e^=-1;for(let o=n;o<i;o++)e=e>>>8^s[(e^t[o])&255];return e^-1};var Ti=zge,KN={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},BR={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const qge=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Hge=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)qge(r,n)&&(e[n]=r[n])}}return e},Vge=e=>{let t=0;for(let n=0,s=e.length;n<s;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,s=0,i=e.length;n<i;n++){let o=e[n];r.set(o,s),s+=o.length}return r},UR={assign:Hge,flattenChunks:Vge};let zR=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{zR=!1}const hp=new Uint8Array(256);for(let e=0;e<256;e++)hp[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;hp[254]=hp[254]=1;var Wge=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,s,i,o=e.length,l=0;for(s=0;s<o;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<o&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),i=0,s=0;i<l;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<o&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const Gge=(e,t)=>{if(t<65534&&e.subarray&&zR)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var Yge=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,s;const i=new Array(r*2);for(s=0,n=0;n<r;){let o=e[n++];if(o<128){i[s++]=o;continue}let l=hp[o];if(l>4){i[s++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|e[n++]&63,l--;if(l>1){i[s++]=65533;continue}o<65536?i[s++]=o:(o-=65536,i[s++]=55296|o>>10&1023,i[s++]=56320|o&1023)}return Gge(i,s)},Kge=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+hp[e[r]]>t?r:t},XN={string2buf:Wge,buf2string:Yge,utf8border:Kge};function Xge(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Jge=Xge;const ng=16209,Zge=16191;var Qge=function(t,r){let n,s,i,o,l,c,u,d,f,m,h,p,y,v,x,b,N,w,S,_,T,k,P,D;const A=t.state;n=t.next_in,P=t.input,s=n+(t.avail_in-5),i=t.next_out,D=t.output,o=i-(r-t.avail_out),l=i+(t.avail_out-257),c=A.dmax,u=A.wsize,d=A.whave,f=A.wnext,m=A.window,h=A.hold,p=A.bits,y=A.lencode,v=A.distcode,x=(1<<A.lenbits)-1,b=(1<<A.distbits)-1;e:do{p<15&&(h+=P[n++]<<p,p+=8,h+=P[n++]<<p,p+=8),N=y[h&x];t:for(;;){if(w=N>>>24,h>>>=w,p-=w,w=N>>>16&255,w===0)D[i++]=N&65535;else if(w&16){S=N&65535,w&=15,w&&(p<w&&(h+=P[n++]<<p,p+=8),S+=h&(1<<w)-1,h>>>=w,p-=w),p<15&&(h+=P[n++]<<p,p+=8,h+=P[n++]<<p,p+=8),N=v[h&b];r:for(;;){if(w=N>>>24,h>>>=w,p-=w,w=N>>>16&255,w&16){if(_=N&65535,w&=15,p<w&&(h+=P[n++]<<p,p+=8,p<w&&(h+=P[n++]<<p,p+=8)),_+=h&(1<<w)-1,_>c){t.msg="invalid distance too far back",A.mode=ng;break e}if(h>>>=w,p-=w,w=i-o,_>w){if(w=_-w,w>d&&A.sane){t.msg="invalid distance too far back",A.mode=ng;break e}if(T=0,k=m,f===0){if(T+=u-w,w<S){S-=w;do D[i++]=m[T++];while(--w);T=i-_,k=D}}else if(f<w){if(T+=u+f-w,w-=f,w<S){S-=w;do D[i++]=m[T++];while(--w);if(T=0,f<S){w=f,S-=w;do D[i++]=m[T++];while(--w);T=i-_,k=D}}}else if(T+=f-w,w<S){S-=w;do D[i++]=m[T++];while(--w);T=i-_,k=D}for(;S>2;)D[i++]=k[T++],D[i++]=k[T++],D[i++]=k[T++],S-=3;S&&(D[i++]=k[T++],S>1&&(D[i++]=k[T++]))}else{T=i-_;do D[i++]=D[T++],D[i++]=D[T++],D[i++]=D[T++],S-=3;while(S>2);S&&(D[i++]=D[T++],S>1&&(D[i++]=D[T++]))}}else if(w&64){t.msg="invalid distance code",A.mode=ng;break e}else{N=v[(N&65535)+(h&(1<<w)-1)];continue r}break}}else if(w&64)if(w&32){A.mode=Zge;break e}else{t.msg="invalid literal/length code",A.mode=ng;break e}else{N=y[(N&65535)+(h&(1<<w)-1)];continue t}break}}while(n<s&&i<l);S=p>>3,n-=S,p-=S<<3,h&=(1<<p)-1,t.next_in=n,t.next_out=i,t.avail_in=n<s?5+(s-n):5-(n-s),t.avail_out=i<l?257+(l-i):257-(i-l),A.hold=h,A.bits=p};const Gu=15,a6=852,s6=592,i6=0,Cb=1,o6=2,exe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),txe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),rxe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),nxe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),axe=(e,t,r,n,s,i,o,l)=>{const c=l.bits;let u=0,d=0,f=0,m=0,h=0,p=0,y=0,v=0,x=0,b=0,N,w,S,_,T,k=null,P;const D=new Uint16Array(Gu+1),A=new Uint16Array(Gu+1);let I=null,$,E,M;for(u=0;u<=Gu;u++)D[u]=0;for(d=0;d<n;d++)D[t[r+d]]++;for(h=c,m=Gu;m>=1&&D[m]===0;m--);if(h>m&&(h=m),m===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,l.bits=1,0;for(f=1;f<m&&D[f]===0;f++);for(h<f&&(h=f),v=1,u=1;u<=Gu;u++)if(v<<=1,v-=D[u],v<0)return-1;if(v>0&&(e===i6||m!==1))return-1;for(A[1]=0,u=1;u<Gu;u++)A[u+1]=A[u]+D[u];for(d=0;d<n;d++)t[r+d]!==0&&(o[A[t[r+d]]++]=d);if(e===i6?(k=I=o,P=20):e===Cb?(k=exe,I=txe,P=257):(k=rxe,I=nxe,P=0),b=0,d=0,u=f,T=i,p=h,y=0,S=-1,x=1<<h,_=x-1,e===Cb&&x>a6||e===o6&&x>s6)return 1;for(;;){$=u-y,o[d]+1<P?(E=0,M=o[d]):o[d]>=P?(E=I[o[d]-P],M=k[o[d]-P]):(E=96,M=0),N=1<<u-y,w=1<<p,f=w;do w-=N,s[T+(b>>y)+w]=$<<24|E<<16|M|0;while(w!==0);for(N=1<<u-1;b&N;)N>>=1;if(N!==0?(b&=N-1,b+=N):b=0,d++,--D[u]===0){if(u===m)break;u=t[r+o[d]]}if(u>h&&(b&_)!==S){for(y===0&&(y=h),T+=f,p=u-y,v=1<<p;p+y<m&&(v-=D[p+y],!(v<=0));)p++,v<<=1;if(x+=1<<p,e===Cb&&x>a6||e===o6&&x>s6)return 1;S=b&_,s[S]=h<<24|p<<16|T-i|0}}return b!==0&&(s[T+b]=u-y<<24|64<<16|0),l.bits=h,0};var cm=axe;const sxe=0,qR=1,HR=2,{Z_FINISH:l6,Z_BLOCK:ixe,Z_TREES:ag,Z_OK:gu,Z_STREAM_END:oxe,Z_NEED_DICT:lxe,Z_STREAM_ERROR:Bs,Z_DATA_ERROR:VR,Z_MEM_ERROR:WR,Z_BUF_ERROR:cxe,Z_DEFLATED:c6}=BR,Mv=16180,u6=16181,d6=16182,f6=16183,h6=16184,m6=16185,p6=16186,g6=16187,x6=16188,y6=16189,hy=16190,po=16191,Tb=16192,v6=16193,kb=16194,b6=16195,w6=16196,N6=16197,j6=16198,sg=16199,ig=16200,S6=16201,A6=16202,_6=16203,E6=16204,P6=16205,Ob=16206,C6=16207,T6=16208,kr=16209,GR=16210,YR=16211,uxe=852,dxe=592,fxe=15,hxe=fxe,k6=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function mxe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Au=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Mv||t.mode>YR?1:0},KR=e=>{if(Au(e))return Bs;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Mv,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(uxe),t.distcode=t.distdyn=new Int32Array(dxe),t.sane=1,t.back=-1,gu},XR=e=>{if(Au(e))return Bs;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,KR(e)},JR=(e,t)=>{let r;if(Au(e))return Bs;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Bs:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,XR(e))},ZR=(e,t)=>{if(!e)return Bs;const r=new mxe;e.state=r,r.strm=e,r.window=null,r.mode=Mv;const n=JR(e,t);return n!==gu&&(e.state=null),n},pxe=e=>ZR(e,hxe);let O6=!0,Ib,Lb;const gxe=e=>{if(O6){Ib=new Int32Array(512),Lb=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(cm(qR,e.lens,0,288,Ib,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;cm(HR,e.lens,0,32,Lb,0,e.work,{bits:5}),O6=!1}e.lencode=Ib,e.lenbits=9,e.distcode=Lb,e.distbits=5},QR=(e,t,r,n)=>{let s;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>n&&(s=n),i.window.set(t.subarray(r-n,r-n+s),i.wnext),n-=s,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},xxe=(e,t)=>{let r,n,s,i,o,l,c,u,d,f,m,h,p,y,v=0,x,b,N,w,S,_,T,k;const P=new Uint8Array(4);let D,A;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Au(e)||!e.output||!e.input&&e.avail_in!==0)return Bs;r=e.state,r.mode===po&&(r.mode=Tb),o=e.next_out,s=e.output,c=e.avail_out,i=e.next_in,n=e.input,l=e.avail_in,u=r.hold,d=r.bits,f=l,m=c,k=gu;e:for(;;)switch(r.mode){case Mv:if(r.wrap===0){r.mode=Tb;break}for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,P[0]=u&255,P[1]=u>>>8&255,r.check=Ti(r.check,P,2,0),u=0,d=0,r.mode=u6;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=kr;break}if((u&15)!==c6){e.msg="unknown compression method",r.mode=kr;break}if(u>>>=4,d-=4,T=(u&15)+8,r.wbits===0&&(r.wbits=T),T>15||T>r.wbits){e.msg="invalid window size",r.mode=kr;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?y6:po,u=0,d=0;break;case u6:for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==c6){e.msg="unknown compression method",r.mode=kr;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=kr;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,r.check=Ti(r.check,P,2,0)),u=0,d=0,r.mode=d6;case d6:for(;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,P[2]=u>>>16&255,P[3]=u>>>24&255,r.check=Ti(r.check,P,4,0)),u=0,d=0,r.mode=f6;case f6:for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,r.check=Ti(r.check,P,2,0)),u=0,d=0,r.mode=h6;case h6:if(r.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,r.check=Ti(r.check,P,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=m6;case m6:if(r.flags&1024&&(h=r.length,h>l&&(h=l),h&&(r.head&&(T=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+h),T)),r.flags&512&&r.wrap&4&&(r.check=Ti(r.check,n,h,i)),l-=h,i+=h,r.length-=h),r.length))break e;r.length=0,r.mode=p6;case p6:if(r.flags&2048){if(l===0)break e;h=0;do T=n[i+h++],r.head&&T&&r.length<65536&&(r.head.name+=String.fromCharCode(T));while(T&&h<l);if(r.flags&512&&r.wrap&4&&(r.check=Ti(r.check,n,h,i)),l-=h,i+=h,T)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=g6;case g6:if(r.flags&4096){if(l===0)break e;h=0;do T=n[i+h++],r.head&&T&&r.length<65536&&(r.head.comment+=String.fromCharCode(T));while(T&&h<l);if(r.flags&512&&r.wrap&4&&(r.check=Ti(r.check,n,h,i)),l-=h,i+=h,T)break e}else r.head&&(r.head.comment=null);r.mode=x6;case x6:if(r.flags&512){for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=kr;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=po;break;case y6:for(;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}e.adler=r.check=k6(u),u=0,d=0,r.mode=hy;case hy:if(r.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=d,lxe;e.adler=r.check=1,r.mode=po;case po:if(t===ixe||t===ag)break e;case Tb:if(r.last){u>>>=d&7,d-=d&7,r.mode=Ob;break}for(;d<3;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=v6;break;case 1:if(gxe(r),r.mode=sg,t===ag){u>>>=2,d-=2;break e}break;case 2:r.mode=w6;break;case 3:e.msg="invalid block type",r.mode=kr}u>>>=2,d-=2;break;case v6:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=kr;break}if(r.length=u&65535,u=0,d=0,r.mode=kb,t===ag)break e;case kb:r.mode=b6;case b6:if(h=r.length,h){if(h>l&&(h=l),h>c&&(h=c),h===0)break e;s.set(n.subarray(i,i+h),o),l-=h,i+=h,c-=h,o+=h,r.length-=h;break}r.mode=po;break;case w6:for(;d<14;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=kr;break}r.have=0,r.mode=N6;case N6:for(;r.have<r.ncode;){for(;d<3;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.lens[I[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[I[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,D={bits:r.lenbits},k=cm(sxe,r.lens,0,19,r.lencode,0,r.work,D),r.lenbits=D.bits,k){e.msg="invalid code lengths set",r.mode=kr;break}r.have=0,r.mode=j6;case j6:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[u&(1<<r.lenbits)-1],x=v>>>24,b=v>>>16&255,N=v&65535,!(x<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(N<16)u>>>=x,d-=x,r.lens[r.have++]=N;else{if(N===16){for(A=x+2;d<A;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(u>>>=x,d-=x,r.have===0){e.msg="invalid bit length repeat",r.mode=kr;break}T=r.lens[r.have-1],h=3+(u&3),u>>>=2,d-=2}else if(N===17){for(A=x+3;d<A;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=x,d-=x,T=0,h=3+(u&7),u>>>=3,d-=3}else{for(A=x+7;d<A;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=x,d-=x,T=0,h=11+(u&127),u>>>=7,d-=7}if(r.have+h>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=kr;break}for(;h--;)r.lens[r.have++]=T}}if(r.mode===kr)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=kr;break}if(r.lenbits=9,D={bits:r.lenbits},k=cm(qR,r.lens,0,r.nlen,r.lencode,0,r.work,D),r.lenbits=D.bits,k){e.msg="invalid literal/lengths set",r.mode=kr;break}if(r.distbits=6,r.distcode=r.distdyn,D={bits:r.distbits},k=cm(HR,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,D),r.distbits=D.bits,k){e.msg="invalid distances set",r.mode=kr;break}if(r.mode=sg,t===ag)break e;case sg:r.mode=ig;case ig:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=d,Qge(e,m),o=e.next_out,s=e.output,c=e.avail_out,i=e.next_in,n=e.input,l=e.avail_in,u=r.hold,d=r.bits,r.mode===po&&(r.back=-1);break}for(r.back=0;v=r.lencode[u&(1<<r.lenbits)-1],x=v>>>24,b=v>>>16&255,N=v&65535,!(x<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(b&&!(b&240)){for(w=x,S=b,_=N;v=r.lencode[_+((u&(1<<w+S)-1)>>w)],x=v>>>24,b=v>>>16&255,N=v&65535,!(w+x<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=w,d-=w,r.back+=w}if(u>>>=x,d-=x,r.back+=x,r.length=N,b===0){r.mode=P6;break}if(b&32){r.back=-1,r.mode=po;break}if(b&64){e.msg="invalid literal/length code",r.mode=kr;break}r.extra=b&15,r.mode=S6;case S6:if(r.extra){for(A=r.extra;d<A;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=A6;case A6:for(;v=r.distcode[u&(1<<r.distbits)-1],x=v>>>24,b=v>>>16&255,N=v&65535,!(x<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(!(b&240)){for(w=x,S=b,_=N;v=r.distcode[_+((u&(1<<w+S)-1)>>w)],x=v>>>24,b=v>>>16&255,N=v&65535,!(w+x<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=w,d-=w,r.back+=w}if(u>>>=x,d-=x,r.back+=x,b&64){e.msg="invalid distance code",r.mode=kr;break}r.offset=N,r.extra=b&15,r.mode=_6;case _6:if(r.extra){for(A=r.extra;d<A;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=kr;break}r.mode=E6;case E6:if(c===0)break e;if(h=m-c,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=kr;break}h>r.wnext?(h-=r.wnext,p=r.wsize-h):p=r.wnext-h,h>r.length&&(h=r.length),y=r.window}else y=s,p=o-r.offset,h=r.length;h>c&&(h=c),c-=h,r.length-=h;do s[o++]=y[p++];while(--h);r.length===0&&(r.mode=ig);break;case P6:if(c===0)break e;s[o++]=r.length,c--,r.mode=ig;break;case Ob:if(r.wrap){for(;d<32;){if(l===0)break e;l--,u|=n[i++]<<d,d+=8}if(m-=c,e.total_out+=m,r.total+=m,r.wrap&4&&m&&(e.adler=r.check=r.flags?Ti(r.check,s,m,o-m):YN(r.check,s,m,o-m)),m=c,r.wrap&4&&(r.flags?u:k6(u))!==r.check){e.msg="incorrect data check",r.mode=kr;break}u=0,d=0}r.mode=C6;case C6:if(r.wrap&&r.flags){for(;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=kr;break}u=0,d=0}r.mode=T6;case T6:k=oxe;break e;case kr:k=VR;break e;case GR:return WR;case YR:default:return Bs}return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=d,(r.wsize||m!==e.avail_out&&r.mode<kr&&(r.mode<Ob||t!==l6))&&QR(e,e.output,e.next_out,m-e.avail_out),f-=e.avail_in,m-=e.avail_out,e.total_in+=f,e.total_out+=m,r.total+=m,r.wrap&4&&m&&(e.adler=r.check=r.flags?Ti(r.check,s,m,e.next_out-m):YN(r.check,s,m,e.next_out-m)),e.data_type=r.bits+(r.last?64:0)+(r.mode===po?128:0)+(r.mode===sg||r.mode===kb?256:0),(f===0&&m===0||t===l6)&&k===gu&&(k=cxe),k},yxe=e=>{if(Au(e))return Bs;let t=e.state;return t.window&&(t.window=null),e.state=null,gu},vxe=(e,t)=>{if(Au(e))return Bs;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,gu):Bs},bxe=(e,t)=>{const r=t.length;let n,s,i;return Au(e)||(n=e.state,n.wrap!==0&&n.mode!==hy)?Bs:n.mode===hy&&(s=1,s=YN(s,t,r,0),s!==n.check)?VR:(i=QR(e,t,r,r),i?(n.mode=GR,WR):(n.havedict=1,gu))};var wxe=XR,Nxe=JR,jxe=KR,Sxe=pxe,Axe=ZR,_xe=xxe,Exe=yxe,Pxe=vxe,Cxe=bxe,Txe="pako inflate (from Nodeca project)",wo={inflateReset:wxe,inflateReset2:Nxe,inflateResetKeep:jxe,inflateInit:Sxe,inflateInit2:Axe,inflate:_xe,inflateEnd:Exe,inflateGetHeader:Pxe,inflateSetDictionary:Cxe,inflateInfo:Txe};function kxe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Oxe=kxe;const eM=Object.prototype.toString,{Z_NO_FLUSH:Ixe,Z_FINISH:Lxe,Z_OK:mp,Z_STREAM_END:Rb,Z_NEED_DICT:Mb,Z_STREAM_ERROR:Rxe,Z_DATA_ERROR:I6,Z_MEM_ERROR:Mxe}=BR;function Mp(e){this.options=UR.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Jge,this.strm.avail_out=0;let r=wo.inflateInit2(this.strm,t.windowBits);if(r!==mp)throw new Error(KN[r]);if(this.header=new Oxe,wo.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=XN.string2buf(t.dictionary):eM.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=wo.inflateSetDictionary(this.strm,t.dictionary),r!==mp)))throw new Error(KN[r])}Mp.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?Lxe:Ixe,eM.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=wo.inflate(r,o),i===Mb&&s&&(i=wo.inflateSetDictionary(r,s),i===mp?i=wo.inflate(r,o):i===I6&&(i=Mb));r.avail_in>0&&i===Rb&&r.state.wrap>0&&e[r.next_in]!==0;)wo.inflateReset(r),i=wo.inflate(r,o);switch(i){case Rxe:case I6:case Mb:case Mxe:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===Rb))if(this.options.to==="string"){let c=XN.utf8border(r.output,r.next_out),u=r.next_out-c,d=XN.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===mp&&l===0)){if(i===Rb)return i=wo.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Mp.prototype.onData=function(e){this.chunks.push(e)};Mp.prototype.onEnd=function(e){e===mp&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=UR.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Dxe(e,t){const r=new Mp(t);if(r.push(e),r.err)throw r.msg||KN[r.err];return r.result}var $xe=Mp,Fxe=Dxe,Bxe={Inflate:$xe,inflate:Fxe};const{Inflate:Uxe,inflate:zxe}=Bxe;var L6=Uxe,qxe=zxe;const tM=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;tM[e]=t}const R6=4294967295;function Hxe(e,t,r){let n=e;for(let s=0;s<r;s++)n=tM[(n^t[s])&255]^n>>>8;return n}function Vxe(e,t){return(Hxe(R6,e,t)^R6)>>>0}function M6(e,t,r){const n=e.readUint32(),s=Vxe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(s!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${s}`)}function rM(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function nM(e,t,r,n){let s=0;for(;s<n;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-n]&255}function aM(e,t,r,n){let s=0;if(r.length===0)for(;s<n;s++)t[s]=e[s];else for(;s<n;s++)t[s]=e[s]+r[s]&255}function sM(e,t,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+(t[i-s]>>1)&255}else{for(;i<s;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<n;i++)t[i]=e[i]+(t[i-s]+r[i]>>1)&255}}function iM(e,t,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-s]&255}else{for(;i<s;i++)t[i]=e[i]+r[i]&255;for(;i<n;i++)t[i]=e[i]+Wxe(t[i-s],r[i],r[i-s])&255}}function Wxe(e,t,r){const n=e+t-r,s=Math.abs(n-e),i=Math.abs(n-t),o=Math.abs(n-r);return s<=i&&s<=o?e:i<=o?t:r}function Gxe(e,t,r,n,s,i){switch(e){case 0:rM(t,r,s);break;case 1:nM(t,r,s,i);break;case 2:aM(t,r,n,s);break;case 3:sM(t,r,n,s,i);break;case 4:iM(t,r,n,s,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const Yxe=new Uint16Array([255]),Kxe=new Uint8Array(Yxe.buffer),Xxe=Kxe[0]===255;function Jxe(e){const{data:t,width:r,height:n,channels:s,depth:i}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*s,c=new Uint8Array(n*r*l);let u=0;for(let d=0;d<7;d++){const f=o[d],m=Math.ceil((r-f.x)/f.xStep),h=Math.ceil((n-f.y)/f.yStep);if(m<=0||h<=0)continue;const p=m*l,y=new Uint8Array(p);for(let v=0;v<h;v++){const x=t[u++],b=t.subarray(u,u+p);u+=p;const N=new Uint8Array(p);Gxe(x,b,N,y,p,l),y.set(N);for(let w=0;w<m;w++){const S=f.x+w*f.xStep,_=f.y+v*f.yStep;if(!(S>=r||_>=n))for(let T=0;T<l;T++)c[(_*r+S)*l+T]=N[w*l+T]}}}if(i===16){const d=new Uint16Array(c.buffer);if(Xxe)for(let f=0;f<d.length;f++)d[f]=Zxe(d[f]);return d}else return c}function Zxe(e){return(e&255)<<8|e>>8&255}const Qxe=new Uint16Array([255]),eye=new Uint8Array(Qxe.buffer),tye=eye[0]===255,rye=new Uint8Array(0);function D6(e){const{data:t,width:r,height:n,channels:s,depth:i}=e,o=Math.ceil(i/8)*s,l=Math.ceil(i/8*s*r),c=new Uint8Array(n*l);let u=rye,d=0,f,m;for(let h=0;h<n;h++){switch(f=t.subarray(d+1,d+1+l),m=c.subarray(h*l,(h+1)*l),t[d]){case 0:rM(f,m,l);break;case 1:nM(f,m,l,o);break;case 2:aM(f,m,u,l);break;case 3:sM(f,m,u,l,o);break;case 4:iM(f,m,u,l,o);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}u=m,d+=l+1}if(i===16){const h=new Uint16Array(c.buffer);if(tye)for(let p=0;p<h.length;p++)h[p]=nye(h[p]);return h}else return c}function nye(e){return(e&255)<<8|e>>8&255}const kg=Uint8Array.of(137,80,78,71,13,10,26,10);function $6(e){if(!aye(e.readBytes(kg.length)))throw new Error("wrong PNG signature")}function aye(e){if(e.length<kg.length)return!1;for(let t=0;t<kg.length;t++)if(e[t]!==kg[t])return!1;return!0}const sye="tEXt",iye=0,oM=new TextDecoder("latin1");function oye(e){if(cye(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const lye=/^[\u0000-\u00FF]*$/;function cye(e){if(!lye.test(e))throw new Error("invalid latin1 text")}function uye(e,t,r){const n=lM(t);e[n]=dye(t,r-n.length-1)}function lM(e){for(e.mark();e.readByte()!==iye;);const t=e.offset;e.reset();const r=oM.decode(e.readBytes(t-e.offset-1));return e.skip(1),oye(r),r}function dye(e,t){return oM.decode(e.readBytes(t))}const ss={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Db={UNKNOWN:-1,DEFLATE:0},F6={UNKNOWN:-1,ADAPTIVE:0},$b={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},og={NONE:0,BACKGROUND:1,PREVIOUS:2},Fb={SOURCE:0,OVER:1};class fye extends gS{constructor(r,n={}){super(r);Vt(this,"_checkCrc");Vt(this,"_inflator");Vt(this,"_png");Vt(this,"_apng");Vt(this,"_end");Vt(this,"_hasPalette");Vt(this,"_palette");Vt(this,"_hasTransparency");Vt(this,"_transparency");Vt(this,"_compressionMethod");Vt(this,"_filterMethod");Vt(this,"_interlaceMethod");Vt(this,"_colorType");Vt(this,"_isAnimated");Vt(this,"_numberOfFrames");Vt(this,"_numberOfPlays");Vt(this,"_frames");Vt(this,"_writingDataChunks");const{checkCrc:s=!1}=n;this._checkCrc=s,this._inflator=new L6,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Db.UNKNOWN,this._filterMethod=F6.UNKNOWN,this._interlaceMethod=$b.UNKNOWN,this._colorType=ss.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for($6(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for($6(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const s=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case sye:uye(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?M6(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const s=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=s+r;break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?M6(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=hye(this.readUint8());const n=this.readUint8();this._colorType=n;let s;switch(n){case ss.GREYSCALE:s=1;break;case ss.TRUECOLOUR:s=3;break;case ss.INDEXED_COLOUR:s=1;break;case ss.GREYSCALE_ALPHA:s=2;break;case ss.TRUECOLOUR_ALPHA:s=4;break;case ss.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==Db.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<n;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,s=this.offset+this.byteOffset;if(s+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case ss.GREYSCALE:case ss.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case ss.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const s=this.readByte();this._palette[n].push(s)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case ss.UNKNOWN:case ss.GREYSCALE_ALPHA:case ss.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=lM(this),s=this.readUint8();if(s!==Db.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:qxe(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),s=this.readByte();this._png.resolution={x:r,y:n,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(r);if(s){if(s.data=D6({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)n.data=s.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(s,i,n),this.addFrameDataToCanvas(n,s)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,s){switch(r.disposeOp){case og.NONE:break;case og.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const l=(i*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)s.data[l+c]=0}break;case og.PREVIOUS:s.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const s=1<<this._png.depth,i=(o,l)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,u=(o*n.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(n.blendOp){case Fb.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=i(o,l);for(let d=0;d<this._png.channels;d++)r.data[c+d]=n.data[u+d]}break;case Fb.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=i(o,l);for(let d=0;d<this._png.channels;d++){const f=n.data[u+this._png.channels-1]/s,m=d%(this._png.channels-1)===0?1:n.data[u+d],h=Math.floor(f*m+(1-f)*r.data[c+d]);r.data[c+d]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==F6.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===$b.NO_INTERLACE)this._png.data=D6({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===$b.ADAM7)this._png.data=Jxe({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:og.NONE,blendOp:Fb.SOURCE,data:r}),this._inflator=new L6,this._writingDataChunks=!1}}function hye(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var B6;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(B6||(B6={}));function mye(e,t){return new fye(e,t).decode()}var bt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Bb(){bt.console&&typeof bt.console.log=="function"&&bt.console.log.apply(bt.console,arguments)}var mr={log:Bb,warn:function(e){bt.console&&(typeof bt.console.warn=="function"?bt.console.warn.apply(bt.console,arguments):Bb.call(null,arguments))},error:function(e){bt.console&&(typeof bt.console.error=="function"?bt.console.error.apply(bt.console,arguments):Bb(e))}};function Ub(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Cc(n.response,t,r)},n.onerror=function(){mr.error("could not download file")},n.send()}function U6(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function lg(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Cc=bt.saveAs||((typeof window>"u"?"undefined":sr(window))!=="object"||window!==bt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=bt.URL||bt.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?U6(s.href)?Ub(e,t,r):lg(s,s.target="_blank"):lg(s)):(s.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){lg(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(U6(e))Ub(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){lg(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:sr(i)!=="object"&&(mr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return Ub(e,t,r);var s=e.type==="application/octet-stream",i=/constructor/i.test(bt.HTMLElement)||bt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":sr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(e)}else{var c=bt.URL||bt.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function cM(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,o=s.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var Og=bt.atob.bind(bt),z6=bt.btoa.bind(bt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function zb(e,t){var r=e[0],n=e[1],s=e[2],i=e[3];r=aa(r,n,s,i,t[0],7,-680876936),i=aa(i,r,n,s,t[1],12,-389564586),s=aa(s,i,r,n,t[2],17,606105819),n=aa(n,s,i,r,t[3],22,-1044525330),r=aa(r,n,s,i,t[4],7,-176418897),i=aa(i,r,n,s,t[5],12,1200080426),s=aa(s,i,r,n,t[6],17,-1473231341),n=aa(n,s,i,r,t[7],22,-45705983),r=aa(r,n,s,i,t[8],7,1770035416),i=aa(i,r,n,s,t[9],12,-1958414417),s=aa(s,i,r,n,t[10],17,-42063),n=aa(n,s,i,r,t[11],22,-1990404162),r=aa(r,n,s,i,t[12],7,1804603682),i=aa(i,r,n,s,t[13],12,-40341101),s=aa(s,i,r,n,t[14],17,-1502002290),r=sa(r,n=aa(n,s,i,r,t[15],22,1236535329),s,i,t[1],5,-165796510),i=sa(i,r,n,s,t[6],9,-1069501632),s=sa(s,i,r,n,t[11],14,643717713),n=sa(n,s,i,r,t[0],20,-373897302),r=sa(r,n,s,i,t[5],5,-701558691),i=sa(i,r,n,s,t[10],9,38016083),s=sa(s,i,r,n,t[15],14,-660478335),n=sa(n,s,i,r,t[4],20,-405537848),r=sa(r,n,s,i,t[9],5,568446438),i=sa(i,r,n,s,t[14],9,-1019803690),s=sa(s,i,r,n,t[3],14,-187363961),n=sa(n,s,i,r,t[8],20,1163531501),r=sa(r,n,s,i,t[13],5,-1444681467),i=sa(i,r,n,s,t[2],9,-51403784),s=sa(s,i,r,n,t[7],14,1735328473),r=ia(r,n=sa(n,s,i,r,t[12],20,-1926607734),s,i,t[5],4,-378558),i=ia(i,r,n,s,t[8],11,-2022574463),s=ia(s,i,r,n,t[11],16,1839030562),n=ia(n,s,i,r,t[14],23,-35309556),r=ia(r,n,s,i,t[1],4,-1530992060),i=ia(i,r,n,s,t[4],11,1272893353),s=ia(s,i,r,n,t[7],16,-155497632),n=ia(n,s,i,r,t[10],23,-1094730640),r=ia(r,n,s,i,t[13],4,681279174),i=ia(i,r,n,s,t[0],11,-358537222),s=ia(s,i,r,n,t[3],16,-722521979),n=ia(n,s,i,r,t[6],23,76029189),r=ia(r,n,s,i,t[9],4,-640364487),i=ia(i,r,n,s,t[12],11,-421815835),s=ia(s,i,r,n,t[15],16,530742520),r=oa(r,n=ia(n,s,i,r,t[2],23,-995338651),s,i,t[0],6,-198630844),i=oa(i,r,n,s,t[7],10,1126891415),s=oa(s,i,r,n,t[14],15,-1416354905),n=oa(n,s,i,r,t[5],21,-57434055),r=oa(r,n,s,i,t[12],6,1700485571),i=oa(i,r,n,s,t[3],10,-1894986606),s=oa(s,i,r,n,t[10],15,-1051523),n=oa(n,s,i,r,t[1],21,-2054922799),r=oa(r,n,s,i,t[8],6,1873313359),i=oa(i,r,n,s,t[15],10,-30611744),s=oa(s,i,r,n,t[6],15,-1560198380),n=oa(n,s,i,r,t[13],21,1309151649),r=oa(r,n,s,i,t[4],6,-145523070),i=oa(i,r,n,s,t[11],10,-1120210379),s=oa(s,i,r,n,t[2],15,718787259),n=oa(n,s,i,r,t[9],21,-343485551),e[0]=Ol(r,e[0]),e[1]=Ol(n,e[1]),e[2]=Ol(s,e[2]),e[3]=Ol(i,e[3])}function Dv(e,t,r,n,s,i){return t=Ol(Ol(t,e),Ol(n,i)),Ol(t<<s|t>>>32-s,r)}function aa(e,t,r,n,s,i,o){return Dv(t&r|~t&n,e,t,s,i,o)}function sa(e,t,r,n,s,i,o){return Dv(t&n|r&~n,e,t,s,i,o)}function ia(e,t,r,n,s,i,o){return Dv(t^r^n,e,t,s,i,o)}function oa(e,t,r,n,s,i,o){return Dv(r^(t|~n),e,t,s,i,o)}function uM(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)zb(n,pye(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(zb(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,zb(n,s),n}function pye(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var q6="0123456789abcdef".split("");function gye(e){for(var t="",r=0;r<4;r++)t+=q6[e>>8*r+4&15]+q6[e>>8*r&15];return t}function xye(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function JN(e){return uM(e).map(xye).join("")}var yye=function(e){for(var t=0;t<e.length;t++)e[t]=gye(e[t]);return e.join("")}(uM("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ol(e,t){if(yye){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function ZN(e,t){var r,n,s,i;if(e!==r){for(var o=(s=e,i=1+(256/e.length|0),new Array(i+1).join(s)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=e,n=l}else l=n;var f=t.length,m=0,h=0,p="";for(c=0;c<f;c++)h=(h+(d=l[m=(m+1)%256]))%256,l[m]=l[h],l[h]=d,o=l[(l[m]+l[h])%256],p+=String.fromCharCode(t.charCodeAt(c)^o);return p}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var H6={print:4,modify:8,copy:16,"annot-forms":32};function Zu(e,t,r,n){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(H6.perm!==void 0)throw new Error("Invalid permission: "+l);s+=H6[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=JN(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=ZN(this.encryptionKey,this.padding)}function Qu(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var s=e.charCodeAt(n);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[n]}return t}function V6(e){if(sr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,n)}catch(l){bt.console&&mr.error("jsPDF PubSub Error",l.message,l)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function my(e){if(!(this instanceof my))return new my(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function dM(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Oc(e,t,r,n,s){if(!(this instanceof Oc))return new Oc(e,t,r,n,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,dM.call(this,n,s)}function yd(e,t,r,n,s){if(!(this instanceof yd))return new yd(e,t,r,n,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,dM.call(this,n,s)}function ct(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],o=[],l=1,c=16,u="S",d=null;sr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,s=e.format||s,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,m={},h={internal:{},__private__:{}};h.__private__.PubSub=V6;var p="1.3",y=h.__private__.getPdfVersion=function(){return p};h.__private__.setPdfVersion=function(C){p=C};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return v};var x=h.__private__.getPageFormat=function(C){return v[C]};s=s||"a4";var b="compat",N="advanced",w=b;function S(){this.saveGraphicsState(),Y(new dt(Je,0,0,-Je,0,uc()*Je).toString()+" cm"),this.setFontSize(this.getFontSize()/Je),u="n",w=N}function _(){this.restoreGraphicsState(),u="S",w=b}var T=h.__private__.combineFontStyleAndFontWeight=function(C,H){if(C=="bold"&&H=="normal"||C=="bold"&&H==400||C=="normal"&&H=="italic"||C=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(C=H==400||H==="normal"?C==="italic"?"italic":"normal":H!=700&&H!=="bold"||C!=="normal"?(H==700?"bold":H)+""+C:"bold"),C};h.advancedAPI=function(C){var H=w===b;return H&&S.call(this),typeof C!="function"||(C(this),H&&_.call(this)),this},h.compatAPI=function(C){var H=w===N;return H&&_.call(this),typeof C!="function"||(C(this),H&&S.call(this)),this},h.isAdvancedAPI=function(){return w===N};var k,P=function(C){if(w!==N)throw new Error(C+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=h.roundToPrecision=h.__private__.roundToPrecision=function(C,H){var le=t||H;if(isNaN(C)||isNaN(le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return C.toFixed(le).replace(/0+$/,"")};k=h.hpf=h.__private__.hpf=typeof c=="number"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return D(C,c)}:c==="smart"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return D(C,C>-1&&C<1?16:5)}:function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return D(C,16)};var A=h.f2=h.__private__.f2=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f2");return D(C,2)},I=h.__private__.f3=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f3");return D(C,3)},$=h.scale=h.__private__.scale=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.scale");return w===b?C*Je:w===N?C:void 0},E=function(C){return $(function(H){return w===b?uc()-H:w===N?H:void 0}(C))};h.__private__.setPrecision=h.setPrecision=function(C){typeof parseInt(C,10)=="number"&&(t=parseInt(C,10))};var M,z="00000000000000000000000000000000",Z=h.__private__.getFileId=function(){return z},R=h.__private__.setFileId=function(C){return z=C!==void 0&&/^[a-fA-F0-9]{32}$/.test(C)?C.toUpperCase():z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(gn=new Zu(d.userPermissions,d.userPassword,d.ownerPassword,z)),z};h.setFileId=function(C){return R(C),this},h.getFileId=function(){return Z()};var U=h.__private__.convertDateToPDFDate=function(C){var H=C.getTimezoneOffset(),le=H<0?"+":"-",he=Math.floor(Math.abs(H/60)),we=Math.abs(H%60),Le=[le,te(he),"'",te(we),"'"].join("");return["D:",C.getFullYear(),te(C.getMonth()+1),te(C.getDate()),te(C.getHours()),te(C.getMinutes()),te(C.getSeconds()),Le].join("")},re=h.__private__.convertPDFDateToDate=function(C){var H=parseInt(C.substr(2,4),10),le=parseInt(C.substr(6,2),10)-1,he=parseInt(C.substr(8,2),10),we=parseInt(C.substr(10,2),10),Le=parseInt(C.substr(12,2),10),De=parseInt(C.substr(14,2),10);return new Date(H,le,he,we,Le,De,0)},de=h.__private__.setCreationDate=function(C){var H;if(C===void 0&&(C=new Date),C instanceof Date)H=U(C);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(C))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=C}return M=H},B=h.__private__.getCreationDate=function(C){var H=M;return C==="jsDate"&&(H=re(M)),H};h.setCreationDate=function(C){return de(C),this},h.getCreationDate=function(C){return B(C)};var G,te=h.__private__.padd2=function(C){return("0"+parseInt(C)).slice(-2)},ue=h.__private__.padd2Hex=function(C){return("00"+(C=C.toString())).substr(C.length)},q=0,X=[],Q=[],ne=0,pe=[],se=[],W=!1,fe=Q;h.__private__.setCustomOutputDestination=function(C){W=!0,fe=C};var Ae=function(C){W||(fe=C)};h.__private__.resetCustomOutputDestination=function(){W=!1,fe=Q};var Y=h.__private__.out=function(C){return C=C.toString(),ne+=C.length+1,fe.push(C),fe},Ce=h.__private__.write=function(C){return Y(arguments.length===1?C.toString():Array.prototype.join.call(arguments," "))},qe=h.__private__.getArrayBuffer=function(C){for(var H=C.length,le=new ArrayBuffer(H),he=new Uint8Array(le);H--;)he[H]=C.charCodeAt(H);return le},be=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return be};var je=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(C){return je=w===N?C/Je:C,this};var Me,Ue=h.__private__.getFontSize=h.getFontSize=function(){return w===b?je:je*Je},Ge=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(C){return Ge=C,this},h.__private__.getR2L=h.getR2L=function(){return Ge};var We,Et=h.__private__.setZoomMode=function(C){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(C))Me=C;else if(isNaN(C)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(C)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+C+'" is not recognized.');Me=C}else Me=parseInt(C,10)};h.__private__.getZoomMode=function(){return Me};var pt,vt=h.__private__.setPageMode=function(C){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(C)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+C+'" is not recognized.');We=C};h.__private__.getPageMode=function(){return We};var $t=h.__private__.setLayoutMode=function(C){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(C)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+C+'" is not recognized.');pt=C};h.__private__.getLayoutMode=function(){return pt},h.__private__.setDisplayMode=h.setDisplayMode=function(C,H,le){return Et(C),$t(H),vt(le),this};var ye={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(C){if(Object.keys(ye).indexOf(C)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ye[C]},h.__private__.getDocumentProperties=function(){return ye},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(C){for(var H in ye)ye.hasOwnProperty(H)&&C[H]&&(ye[H]=C[H]);return this},h.__private__.setDocumentProperty=function(C,H){if(Object.keys(ye).indexOf(C)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ye[C]=H};var Be,Je,Fe,Pt,Ft,At={},Ot={},gr=[],ft={},cr={},mt={},wt={},xr=null,It=0,ht=[],Gt=new V6(h),Se=e.hotfixes||[],Ke={},Jt={},cn=[],dt=function C(H,le,he,we,Le,De){if(!(this instanceof C))return new C(H,le,he,we,Le,De);isNaN(H)&&(H=1),isNaN(le)&&(le=0),isNaN(he)&&(he=0),isNaN(we)&&(we=1),isNaN(Le)&&(Le=0),isNaN(De)&&(De=0),this._matrix=[H,le,he,we,Le,De]};Object.defineProperty(dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),dt.prototype.join=function(C){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(C)},dt.prototype.multiply=function(C){var H=C.sx*this.sx+C.shy*this.shx,le=C.sx*this.shy+C.shy*this.sy,he=C.shx*this.sx+C.sy*this.shx,we=C.shx*this.shy+C.sy*this.sy,Le=C.tx*this.sx+C.ty*this.shx+this.tx,De=C.tx*this.shy+C.ty*this.sy+this.ty;return new dt(H,le,he,we,Le,De)},dt.prototype.decompose=function(){var C=this.sx,H=this.shy,le=this.shx,he=this.sy,we=this.tx,Le=this.ty,De=Math.sqrt(C*C+H*H),rt=(C/=De)*le+(H/=De)*he;le-=C*rt,he-=H*rt;var it=Math.sqrt(le*le+he*he);return rt/=it,C*(he/=it)<H*(le/=it)&&(C=-C,H=-H,rt=-rt,De=-De),{scale:new dt(De,0,0,it,0,0),translate:new dt(1,0,0,1,we,Le),rotate:new dt(C,H,-H,C,0,0),skew:new dt(1,0,rt,1,0,0)}},dt.prototype.toString=function(C){return this.join(" ")},dt.prototype.inversed=function(){var C=this.sx,H=this.shy,le=this.shx,he=this.sy,we=this.tx,Le=this.ty,De=1/(C*he-H*le),rt=he*De,it=-H*De,Nt=-le*De,Tt=C*De;return new dt(rt,it,Nt,Tt,-rt*we-Nt*Le,-it*we-Tt*Le)},dt.prototype.applyToPoint=function(C){var H=C.x*this.sx+C.y*this.shx+this.tx,le=C.x*this.shy+C.y*this.sy+this.ty;return new eo(H,le)},dt.prototype.applyToRectangle=function(C){var H=this.applyToPoint(C),le=this.applyToPoint(new eo(C.x+C.w,C.y+C.h));return new Yf(H.x,H.y,le.x-H.x,le.y-H.y)},dt.prototype.clone=function(){var C=this.sx,H=this.shy,le=this.shx,he=this.sy,we=this.tx,Le=this.ty;return new dt(C,H,le,he,we,Le)},h.Matrix=dt;var Ia=h.matrixMult=function(C,H){return H.multiply(C)},La=new dt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=La;var pa=function(C,H){if(!cr[C]){var le=(H instanceof Oc?"Sh":"P")+(Object.keys(ft).length+1).toString(10);H.id=le,cr[C]=le,ft[le]=H,Gt.publish("addPattern",H)}};h.ShadingPattern=Oc,h.TilingPattern=yd,h.addShadingPattern=function(C,H){return P("addShadingPattern()"),pa(C,H),this},h.beginTilingPattern=function(C){P("beginTilingPattern()"),Kf(C.boundingBox[0],C.boundingBox[1],C.boundingBox[2]-C.boundingBox[0],C.boundingBox[3]-C.boundingBox[1],C.matrix)},h.endTilingPattern=function(C,H){P("endTilingPattern()"),H.stream=se[G].join(`
`),pa(C,H),Gt.publish("endTilingPattern",H),cn.pop().restore()};var ga,Sr=h.__private__.newObject=function(){var C=Cn();return Un(C,!0),C},Cn=h.__private__.newObjectDeferred=function(){return q++,X[q]=function(){return ne},q},Un=function(C,H){return H=typeof H=="boolean"&&H,X[C]=ne,H&&Y(C+" 0 obj"),C},nc=h.__private__.newAdditionalObject=function(){var C={objId:Cn(),content:""};return pe.push(C),C},Jo=Cn(),qs=Cn(),vi=h.__private__.decodeColorString=function(C){var H=C.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length!==5||H[4]!=="k"&&H[4]!=="K"||(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var le=parseFloat(H[0]);H=[le,le,le,"r"]}for(var he="#",we=0;we<3;we++)he+=("0"+Math.floor(255*parseFloat(H[we])).toString(16)).slice(-2);return he},Hs=h.__private__.encodeColorString=function(C){var H;typeof C=="string"&&(C={ch1:C});var le=C.ch1,he=C.ch2,we=C.ch3,Le=C.ch4,De=C.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof le=="string"&&le.charAt(0)!=="#"){var rt=new cM(le);if(rt.ok)le=rt.toHex();else if(!/^\d*\.?\d*$/.test(le))throw new Error('Invalid color "'+le+'" passed to jsPDF.encodeColorString.')}if(typeof le=="string"&&/^#[0-9A-Fa-f]{3}$/.test(le)&&(le="#"+le[1]+le[1]+le[2]+le[2]+le[3]+le[3]),typeof le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(le)){var it=parseInt(le.substr(1),16);le=it>>16&255,he=it>>8&255,we=255&it}if(he===void 0||Le===void 0&&le===he&&he===we)H=typeof le=="string"?le+" "+De[0]:C.precision===2?A(le/255)+" "+De[0]:I(le/255)+" "+De[0];else if(Le===void 0||sr(Le)==="object"){if(Le&&!isNaN(Le.a)&&Le.a===0)return["1.","1.","1.",De[1]].join(" ");H=typeof le=="string"?[le,he,we,De[1]].join(" "):C.precision===2?[A(le/255),A(he/255),A(we/255),De[1]].join(" "):[I(le/255),I(he/255),I(we/255),De[1]].join(" ")}else H=typeof le=="string"?[le,he,we,Le,De[2]].join(" "):C.precision===2?[A(le),A(he),A(we),A(Le),De[2]].join(" "):[I(le),I(he),I(we),I(Le),De[2]].join(" ");return H},Vs=h.__private__.getFilters=function(){return o},bs=h.__private__.putStream=function(C){var H=(C=C||{}).data||"",le=C.filters||Vs(),he=C.alreadyAppliedFilters||[],we=C.addLength1||!1,Le=H.length,De=C.objectId,rt=function(xn){return xn};if(d!==null&&De===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(rt=gn.encryptor(De,0));var it={};le===!0&&(le=["FlateEncode"]);var Nt=C.additionalKeyValues||[],Tt=(it=ct.API.processDataByFilters!==void 0?ct.API.processDataByFilters(H,le):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(he)?he.join(" "):he.toString());if(it.data.length!==0&&(Nt.push({key:"Length",value:it.data.length}),we===!0&&Nt.push({key:"Length1",value:Le})),Tt.length!=0)if(Tt.split("/").length-1==1)Nt.push({key:"Filter",value:Tt});else{Nt.push({key:"Filter",value:"["+Tt+"]"});for(var Yt=0;Yt<Nt.length;Yt+=1)if(Nt[Yt].key==="DecodeParms"){for(var Mr=[],dn=0;dn<it.reverseChain.split("/").length-1;dn+=1)Mr.push("null");Mr.push(Nt[Yt].value),Nt[Yt].value="["+Mr.join(" ")+"]"}}Y("<<");for(var yr=0;yr<Nt.length;yr++)Y("/"+Nt[yr].key+" "+Nt[yr].value);Y(">>"),it.data.length!==0&&(Y("stream"),Y(rt(it.data)),Y("endstream"))},ac=h.__private__.putPage=function(C){var H=C.number,le=C.data,he=C.objId,we=C.contentsObjId;Un(he,!0),Y("<</Type /Page"),Y("/Parent "+C.rootDictionaryObjId+" 0 R"),Y("/Resources "+C.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(k(C.mediaBox.bottomLeftX))+" "+parseFloat(k(C.mediaBox.bottomLeftY))+" "+k(C.mediaBox.topRightX)+" "+k(C.mediaBox.topRightY)+"]"),C.cropBox!==null&&Y("/CropBox ["+k(C.cropBox.bottomLeftX)+" "+k(C.cropBox.bottomLeftY)+" "+k(C.cropBox.topRightX)+" "+k(C.cropBox.topRightY)+"]"),C.bleedBox!==null&&Y("/BleedBox ["+k(C.bleedBox.bottomLeftX)+" "+k(C.bleedBox.bottomLeftY)+" "+k(C.bleedBox.topRightX)+" "+k(C.bleedBox.topRightY)+"]"),C.trimBox!==null&&Y("/TrimBox ["+k(C.trimBox.bottomLeftX)+" "+k(C.trimBox.bottomLeftY)+" "+k(C.trimBox.topRightX)+" "+k(C.trimBox.topRightY)+"]"),C.artBox!==null&&Y("/ArtBox ["+k(C.artBox.bottomLeftX)+" "+k(C.artBox.bottomLeftY)+" "+k(C.artBox.topRightX)+" "+k(C.artBox.topRightY)+"]"),typeof C.userUnit=="number"&&C.userUnit!==1&&Y("/UserUnit "+C.userUnit),Gt.publish("putPage",{objId:he,pageContext:ht[H],pageNumber:H,page:le}),Y("/Contents "+we+" 0 R"),Y(">>"),Y("endobj");var Le=le.join(`
`);return w===N&&(Le+=`
Q`),Un(we,!0),bs({data:Le,filters:Vs(),objectId:we}),Y("endobj"),he},bi=h.__private__.putPages=function(){var C,H,le=[];for(C=1;C<=It;C++)ht[C].objId=Cn(),ht[C].contentsObjId=Cn();for(C=1;C<=It;C++)le.push(ac({number:C,data:se[C],objId:ht[C].objId,contentsObjId:ht[C].contentsObjId,mediaBox:ht[C].mediaBox,cropBox:ht[C].cropBox,bleedBox:ht[C].bleedBox,trimBox:ht[C].trimBox,artBox:ht[C].artBox,userUnit:ht[C].userUnit,rootDictionaryObjId:Jo,resourceDictionaryObjId:qs}));Un(Jo,!0),Y("<</Type /Pages");var he="/Kids [";for(H=0;H<It;H++)he+=le[H]+" 0 R ";Y(he+"]"),Y("/Count "+It),Y(">>"),Y("endobj"),Gt.publish("postPutPages")},sc=function(C){Gt.publish("putFont",{font:C,out:Y,newObject:Sr,putStream:bs}),C.isAlreadyPutted!==!0&&(C.objectNumber=Sr(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+Qu(C.postScriptName)),Y("/Subtype /Type1"),typeof C.encoding=="string"&&Y("/Encoding /"+C.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},Eu=function(C){C.objectNumber=Sr();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[k(C.x),k(C.y),k(C.x+C.width),k(C.y+C.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+C.matrix.toString()+"]"});var le=C.pages[1].join(`
`);bs({data:le,additionalKeyValues:H,objectId:C.objectNumber}),Y("endobj")},Pu=function(C,H){H||(H=21);var le=Sr(),he=function(De,rt){var it,Nt=[],Tt=1/(rt-1);for(it=0;it<1;it+=Tt)Nt.push(it);if(Nt.push(1),De[0].offset!=0){var Yt={offset:0,color:De[0].color};De.unshift(Yt)}if(De[De.length-1].offset!=1){var Mr={offset:1,color:De[De.length-1].color};De.push(Mr)}for(var dn="",yr=0,xn=0;xn<Nt.length;xn++){for(it=Nt[xn];it>De[yr+1].offset;)yr++;var fn=De[yr].offset,zn=(it-fn)/(De[yr+1].offset-fn),no=De[yr].color,Gs=De[yr+1].color;dn+=ue(Math.round((1-zn)*no[0]+zn*Gs[0]).toString(16))+ue(Math.round((1-zn)*no[1]+zn*Gs[1]).toString(16))+ue(Math.round((1-zn)*no[2]+zn*Gs[2]).toString(16))}return dn.trim()}(C.colors,H),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+H+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),bs({data:he,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:le}),Y("endobj"),C.objectNumber=Sr(),Y("<< /ShadingType "+C.type),Y("/ColorSpace /DeviceRGB");var Le="/Coords ["+k(parseFloat(C.coords[0]))+" "+k(parseFloat(C.coords[1]))+" ";C.type===2?Le+=k(parseFloat(C.coords[2]))+" "+k(parseFloat(C.coords[3])):Le+=k(parseFloat(C.coords[2]))+" "+k(parseFloat(C.coords[3]))+" "+k(parseFloat(C.coords[4]))+" "+k(parseFloat(C.coords[5])),Y(Le+="]"),C.matrix&&Y("/Matrix ["+C.matrix.toString()+"]"),Y("/Function "+le+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},Cu=function(C,H){var le=Cn(),he=Sr();H.push({resourcesOid:le,objectOid:he}),C.objectNumber=he;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+C.boundingBox.map(k).join(" ")+"]"}),we.push({key:"XStep",value:k(C.xStep)}),we.push({key:"YStep",value:k(C.yStep)}),we.push({key:"Resources",value:le+" 0 R"}),C.matrix&&we.push({key:"Matrix",value:"["+C.matrix.toString()+"]"}),bs({data:C.stream,additionalKeyValues:we,objectId:C.objectNumber}),Y("endobj")},$v=function(C){for(var H in C.objectNumber=Sr(),Y("<<"),C)switch(H){case"opacity":Y("/ca "+A(C[H]));break;case"stroke-opacity":Y("/CA "+A(C[H]))}Y(">>"),Y("endobj")},Bf=function(C){Un(C.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var H in Y("/Font <<"),At)At.hasOwnProperty(H)&&(f===!1||f===!0&&m.hasOwnProperty(H))&&Y("/"+H+" "+At[H].objectNumber+" 0 R");Y(">>")}(),function(){if(Object.keys(ft).length>0){for(var H in Y("/Shading <<"),ft)ft.hasOwnProperty(H)&&ft[H]instanceof Oc&&ft[H].objectNumber>=0&&Y("/"+H+" "+ft[H].objectNumber+" 0 R");Gt.publish("putShadingPatternDict"),Y(">>")}}(),function(H){if(Object.keys(ft).length>0){for(var le in Y("/Pattern <<"),ft)ft.hasOwnProperty(le)&&ft[le]instanceof h.TilingPattern&&ft[le].objectNumber>=0&&ft[le].objectNumber<H&&Y("/"+le+" "+ft[le].objectNumber+" 0 R");Gt.publish("putTilingPatternDict"),Y(">>")}}(C.objectOid),function(){if(Object.keys(mt).length>0){var H;for(H in Y("/ExtGState <<"),mt)mt.hasOwnProperty(H)&&mt[H].objectNumber>=0&&Y("/"+H+" "+mt[H].objectNumber+" 0 R");Gt.publish("putGStateDict"),Y(">>")}}(),function(){for(var H in Y("/XObject <<"),Ke)Ke.hasOwnProperty(H)&&Ke[H].objectNumber>=0&&Y("/"+H+" "+Ke[H].objectNumber+" 0 R");Gt.publish("putXobjectDict"),Y(">>")}(),Y(">>"),Y("endobj")},Dp=function(C){Ot[C.fontName]=Ot[C.fontName]||{},Ot[C.fontName][C.fontStyle]=C.id},$p=function(C,H,le,he,we){var Le={id:"F"+(Object.keys(At).length+1).toString(10),postScriptName:C,fontName:H,fontStyle:le,encoding:he,isStandardFont:we||!1,metadata:{}};return Gt.publish("addFont",{font:Le,instance:this}),At[Le.id]=Le,Dp(Le),Le.id},ws=h.__private__.pdfEscape=h.pdfEscape=function(C,H){return function(le,he){var we,Le,De,rt,it,Nt,Tt,Yt,Mr;if(De=(he=he||{}).sourceEncoding||"Unicode",it=he.outputEncoding,(he.autoencode||it)&&At[Be].metadata&&At[Be].metadata[De]&&At[Be].metadata[De].encoding&&(rt=At[Be].metadata[De].encoding,!it&&At[Be].encoding&&(it=At[Be].encoding),!it&&rt.codePages&&(it=rt.codePages[0]),typeof it=="string"&&(it=rt[it]),it)){for(Tt=!1,Nt=[],we=0,Le=le.length;we<Le;we++)(Yt=it[le.charCodeAt(we)])?Nt.push(String.fromCharCode(Yt)):Nt.push(le[we]),Nt[we].charCodeAt(0)>>8&&(Tt=!0);le=Nt.join("")}for(we=le.length;Tt===void 0&&we!==0;)le.charCodeAt(we-1)>>8&&(Tt=!0),we--;if(!Tt)return le;for(Nt=he.noBOM?[]:[254,255],we=0,Le=le.length;we<Le;we++){if((Mr=(Yt=le.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+le+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Nt.push(Mr),Nt.push(Yt-(Mr<<8))}return String.fromCharCode.apply(void 0,Nt)}(C,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Uf=h.__private__.beginPage=function(C){se[++It]=[],ht[It]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(C[0]),topRightY:Number(C[1])}},Bp(It),Ae(se[G])},Fp=function(C,H){var le,he,we;switch(r=H||r,typeof C=="string"&&(le=x(C.toLowerCase()),Array.isArray(le)&&(he=le[0],we=le[1])),Array.isArray(C)&&(he=C[0]*Je,we=C[1]*Je),isNaN(he)&&(he=s[0],we=s[1]),(he>14400||we>14400)&&(mr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),he=Math.min(14400,he),we=Math.min(14400,we)),s=[he,we],r.substr(0,1)){case"l":we>he&&(s=[we,he]);break;case"p":he>we&&(s=[we,he])}Uf(s),St(Hf),Y(Iu),Wf!==0&&Y(Wf+" J"),Gf!==0&&Y(Gf+" j"),Gt.publish("addPage",{pageNumber:It})},zf=function(C){C>0&&C<=It&&(se.splice(C,1),ht.splice(C,1),It--,G>It&&(G=It),this.setPage(G))},Bp=function(C){C>0&&C<=It&&(G=C)},Up=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return se.length-1},zp=function(C,H,le){var he,we=void 0;return le=le||{},C=C!==void 0?C:At[Be].fontName,H=H!==void 0?H:At[Be].fontStyle,he=C.toLowerCase(),Ot[he]!==void 0&&Ot[he][H]!==void 0?we=Ot[he][H]:Ot[C]!==void 0&&Ot[C][H]!==void 0?we=Ot[C][H]:le.disableWarning===!1&&mr.warn("Unable to look up font label for font '"+C+"', '"+H+"'. Refer to getFontList() for available fonts."),we||le.noFallback||(we=Ot.times[H])==null&&(we=Ot.times.normal),we},wi=h.__private__.putInfo=function(){var C=Sr(),H=function(he){return he};for(var le in d!==null&&(H=gn.encryptor(C,0)),Y("<<"),Y("/Producer ("+ws(H("jsPDF "+ct.version))+")"),ye)ye.hasOwnProperty(le)&&ye[le]&&Y("/"+le.substr(0,1).toUpperCase()+le.substr(1)+" ("+ws(H(ye[le]))+")");Y("/CreationDate ("+ws(H(M))+")"),Y(">>"),Y("endobj")},Tu=h.__private__.putCatalog=function(C){var H=(C=C||{}).rootDictionaryObjId||Jo;switch(Sr(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+H+" 0 R"),Me||(Me="fullwidth"),Me){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var le=""+Me;le.substr(le.length-1)==="%"&&(Me=parseInt(Me)/100),typeof Me=="number"&&Y("/OpenAction [3 0 R /XYZ null null "+A(Me)+"]")}switch(pt||(pt="continuous"),pt){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}We&&Y("/PageMode /"+We),Gt.publish("putCatalog"),Y(">>"),Y("endobj")},Fv=h.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(q+1)),Y("/Root "+q+" 0 R"),Y("/Info "+(q-1)+" 0 R"),d!==null&&Y("/Encrypt "+gn.oid+" 0 R"),Y("/ID [ <"+z+"> <"+z+"> ]"),Y(">>")},un=h.__private__.putHeader=function(){Y("%PDF-"+p),Y("%")},qp=h.__private__.putXRef=function(){var C="0000000000";Y("xref"),Y("0 "+(q+1)),Y("0000000000 65535 f ");for(var H=1;H<=q;H++)typeof X[H]=="function"?Y((C+X[H]()).slice(-10)+" 00000 n "):X[H]!==void 0?Y((C+X[H]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},Ni=h.__private__.buildDocument=function(){var C;q=0,ne=0,Q=[],X=[],pe=[],Jo=Cn(),qs=Cn(),Ae(Q),Gt.publish("buildDocument"),un(),bi(),function(){Gt.publish("putAdditionalObjects");for(var le=0;le<pe.length;le++){var he=pe[le];Un(he.objId,!0),Y(he.content),Y("endobj")}Gt.publish("postPutAdditionalObjects")}(),C=[],function(){for(var le in At)At.hasOwnProperty(le)&&(f===!1||f===!0&&m.hasOwnProperty(le))&&sc(At[le])}(),function(){var le;for(le in mt)mt.hasOwnProperty(le)&&$v(mt[le])}(),function(){for(var le in Ke)Ke.hasOwnProperty(le)&&Eu(Ke[le])}(),function(le){var he;for(he in ft)ft.hasOwnProperty(he)&&(ft[he]instanceof Oc?Pu(ft[he]):ft[he]instanceof yd&&Cu(ft[he],le))}(C),Gt.publish("putResources"),C.forEach(Bf),Bf({resourcesOid:qs,objectOid:Number.MAX_SAFE_INTEGER}),Gt.publish("postPutResources"),d!==null&&(gn.oid=Sr(),Y("<<"),Y("/Filter /Standard"),Y("/V "+gn.v),Y("/R "+gn.r),Y("/U <"+gn.toHexString(gn.U)+">"),Y("/O <"+gn.toHexString(gn.O)+">"),Y("/P "+gn.P),Y(">>"),Y("endobj")),wi(),Tu();var H=ne;return qp(),Fv(),Y("startxref"),Y(""+H),Y("%%EOF"),Ae(se[G]),Q.join(`
`)},ku=h.__private__.getBlob=function(C){return new Blob([qe(C)],{type:"application/pdf"})},Hp=h.output=h.__private__.output=(ga=function(C,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",C){case void 0:return Ni();case"save":h.save(H.filename);break;case"arraybuffer":return qe(Ni());case"blob":return ku(Ni());case"bloburi":case"bloburl":if(bt.URL!==void 0&&typeof bt.URL.createObjectURL=="function")return bt.URL&&bt.URL.createObjectURL(ku(Ni()))||void 0;mr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var le="",he=Ni();try{le=z6(he)}catch{le=z6(unescape(encodeURIComponent(he)))}return"data:application/pdf;filename="+H.filename+";base64,"+le;case"pdfobjectnewwindow":if(Object.prototype.toString.call(bt)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Le=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(we=H.pdfObjectUrl,Le="");var De='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+Le+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",rt=bt.open();return rt!==null&&rt.document.write(De),rt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(bt)==="[object Window]"){var it='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',Nt=bt.open();if(Nt!==null){Nt.document.write(it);var Tt=this;Nt.document.documentElement.querySelector("#pdfViewer").onload=function(){Nt.document.title=H.filename,Nt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Tt.output("bloburl"))}}return Nt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(bt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',Mr=bt.open();if(Mr!==null&&(Mr.document.write(Yt),Mr.document.title=H.filename),Mr||typeof safari>"u")return Mr;break;case"datauri":case"dataurl":return bt.document.location.href=this.output("datauristring",H);default:return null}},ga.foo=function(){try{return ga.apply(this,arguments)}catch(le){var C=le.stack||"";~C.indexOf(" at ")&&(C=C.split(" at ")[1]);var H="Error in function "+C.split(`
`)[0].split("<")[0]+": "+le.message;if(!bt.console)throw new Error(H);bt.console.error(H,le),bt.alert&&alert(H)}},ga.foo.bar=ga,ga.foo),Ns=function(C){return Array.isArray(Se)===!0&&Se.indexOf(C)>-1};switch(n){case"pt":Je=1;break;case"mm":Je=72/25.4;break;case"cm":Je=72/2.54;break;case"in":Je=72;break;case"px":Je=Ns("px_scaling")==1?.75:96/72;break;case"pc":case"em":Je=12;break;case"ex":Je=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Je=n}var gn=null;de(),R();var Xi=h.__private__.getPageInfo=h.getPageInfo=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ht[C].objId,pageNumber:C,pageContext:ht[C]}},Vp=h.__private__.getPageInfoByObjId=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in ht)if(ht[H].objId===C)break;return Xi(H)},Bv=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:ht[G].objId,pageNumber:G,pageContext:ht[G]}};h.addPage=function(){return Fp.apply(this,arguments),this},h.setPage=function(){return Bp.apply(this,arguments),Ae.call(this,se[G]),this},h.insertPage=function(C){return this.addPage(),this.movePage(G,C),this},h.movePage=function(C,H){var le,he;if(C>H){le=se[C],he=ht[C];for(var we=C;we>H;we--)se[we]=se[we-1],ht[we]=ht[we-1];se[H]=le,ht[H]=he,this.setPage(H)}else if(C<H){le=se[C],he=ht[C];for(var Le=C;Le<H;Le++)se[Le]=se[Le+1],ht[Le]=ht[Le+1];se[H]=le,ht[H]=he,this.setPage(H)}return this},h.deletePage=function(){return zf.apply(this,arguments),this},h.__private__.text=h.text=function(C,H,le,he,we){var Le,De,rt,it,Nt,Tt,Yt,Mr,dn,yr=(he=he||{}).scope||this;if(typeof C=="number"&&typeof H=="number"&&(typeof le=="string"||Array.isArray(le))){var xn=le;le=H,H=C,C=xn}if(arguments[3]instanceof dt==0?(rt=arguments[4],it=arguments[5],sr(Yt=arguments[3])==="object"&&Yt!==null||(typeof rt=="string"&&(it=rt,rt=null),typeof Yt=="string"&&(it=Yt,Yt=null),typeof Yt=="number"&&(rt=Yt,Yt=null),he={flags:Yt,angle:rt,align:it})):(P("The transform parameter of text() with a Matrix value"),dn=we),isNaN(H)||isNaN(le)||C==null)throw new Error("Invalid arguments passed to jsPDF.text");if(C.length===0)return yr;var fn,zn="",no=typeof he.lineHeightFactor=="number"?he.lineHeightFactor:oc,Gs=yr.internal.scaleFactor;function ao(er){return er=er.split("	").join(Array(he.TabLen||9).join(" ")),ws(er,Yt)}function Jf(er){for(var fr,Xr=er.concat(),yn=[],oo=Xr.length;oo--;)typeof(fr=Xr.shift())=="string"?yn.push(fr):Array.isArray(er)&&(fr.length===1||fr[1]===void 0&&fr[2]===void 0)?yn.push(fr[0]):yn.push([fr[0],fr[1],fr[2]]);return yn}function Ru(er,fr){var Xr;if(typeof er=="string")Xr=fr(er)[0];else if(Array.isArray(er)){for(var yn,oo,oh=er.concat(),$u=[],r0=oh.length;r0--;)typeof(yn=oh.shift())=="string"?$u.push(fr(yn)[0]):Array.isArray(yn)&&typeof yn[0]=="string"&&(oo=fr(yn[0],yn[1],yn[2]),$u.push([oo[0],oo[1],oo[2]]));Xr=$u}return Xr}var Zo=!1,dc=!0;if(typeof C=="string")Zo=!0;else if(Array.isArray(C)){var fc=C.concat();De=[];for(var Qo,qn=fc.length;qn--;)(typeof(Qo=fc.shift())!="string"||Array.isArray(Qo)&&typeof Qo[0]!="string")&&(dc=!1);Zo=dc}if(Zo===!1)throw new Error('Type of text must be string or Array. "'+C+'" is not recognized.');typeof C=="string"&&(C=C.match(/[\r?\n]/)?C.split(/\r\n|\r|\n/g):[C]);var hc=je/yr.internal.scaleFactor,mc=hc*(no-1);switch(he.baseline){case"bottom":le-=mc;break;case"top":le+=hc-mc;break;case"hanging":le+=hc-2*mc;break;case"middle":le+=hc/2-mc}if((Tt=he.maxWidth||0)>0&&(typeof C=="string"?C=yr.splitTextToSize(C,Tt):Object.prototype.toString.call(C)==="[object Array]"&&(C=C.reduce(function(er,fr){return er.concat(yr.splitTextToSize(fr,Tt))},[]))),Le={text:C,x:H,y:le,options:he,mutex:{pdfEscape:ws,activeFontKey:Be,fonts:At,activeFontSize:je}},Gt.publish("preProcessText",Le),C=Le.text,rt=(he=Le.options).angle,dn instanceof dt==0&&rt&&typeof rt=="number"){rt*=Math.PI/180,he.rotationDirection===0&&(rt=-rt),w===N&&(rt=-rt);var Zf=Math.cos(rt),Qf=Math.sin(rt);dn=new dt(Zf,Qf,-Qf,Zf,0,0)}else rt&&rt instanceof dt&&(dn=rt);w!==N||dn||(dn=La),(Nt=he.charSpace||Qi)!==void 0&&(zn+=k($(Nt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Mr=he.horizontalScale)!==void 0&&(zn+=k(100*Mr)+` Tz
`),he.lang;var xa=-1,so=he.renderingMode!==void 0?he.renderingMode:he.stroke,Mu=yr.internal.getCurrentPageInfo().pageContext;switch(so){case 0:case!1:case"fill":xa=0;break;case 1:case!0:case"stroke":xa=1;break;case 2:case"fillThenStroke":xa=2;break;case 3:case"invisible":xa=3;break;case 4:case"fillAndAddForClipping":xa=4;break;case 5:case"strokeAndAddPathForClipping":xa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":xa=6;break;case 7:case"addToPathForClipping":xa=7}var e0=Mu.usedRenderingMode!==void 0?Mu.usedRenderingMode:-1;xa!==-1?zn+=xa+` Tr
`:e0!==-1&&(zn+=`0 Tr
`),xa!==-1&&(Mu.usedRenderingMode=xa),it=he.align||"left";var js,pc=je*no,eh=yr.internal.pageSize.getWidth(),th=At[Be];Nt=he.charSpace||Qi,Tt=he.maxWidth||0,Yt=Object.assign({autoencode:!0,noBOM:!0},he.flags);var el=[],gc=function(er){return yr.getStringUnitWidth(er,{font:th,charSpace:Nt,fontSize:je,doKerning:!1})*je/Gs};if(Object.prototype.toString.call(C)==="[object Array]"){var Ja;De=Jf(C),it!=="left"&&(js=De.map(gc));var Za,tl=0;if(it==="right"){H-=js[0],C=[],qn=De.length;for(var io=0;io<qn;io++)io===0?(Za=Ji(H),Ja=Zi(le)):(Za=$(tl-js[io]),Ja=-pc),C.push([De[io],Za,Ja]),tl=js[io]}else if(it==="center"){H-=js[0]/2,C=[],qn=De.length;for(var rl=0;rl<qn;rl++)rl===0?(Za=Ji(H),Ja=Zi(le)):(Za=$((tl-js[rl])/2),Ja=-pc),C.push([De[rl],Za,Ja]),tl=js[rl]}else if(it==="left"){C=[],qn=De.length;for(var rh=0;rh<qn;rh++)C.push(De[rh])}else if(it==="justify"&&th.encoding==="Identity-H"){C=[],qn=De.length,Tt=Tt!==0?Tt:eh;for(var Du=0,Kr=0;Kr<qn;Kr++)if(Ja=Kr===0?Zi(le):-pc,Za=Kr===0?Ji(H):Du,Kr<qn-1){var t0=$((Tt-js[Kr])/(De[Kr].split(" ").length-1)),Si=De[Kr].split(" ");C.push([Si[0]+" ",Za,Ja]),Du=0;for(var Ai=1;Ai<Si.length;Ai++){var nh=(gc(Si[Ai-1]+" "+Si[Ai])-gc(Si[Ai]))*Gs+t0;Ai==Si.length-1?C.push([Si[Ai],nh,0]):C.push([Si[Ai]+" ",nh,0]),Du-=nh}}else C.push([De[Kr],Za,Ja]);C.push(["",Du,0])}else{if(it!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(C=[],qn=De.length,Tt=Tt!==0?Tt:eh,Kr=0;Kr<qn;Kr++){Ja=Kr===0?Zi(le):-pc,Za=Kr===0?Ji(H):0;var ah=De[Kr].split(" ").length-1,sh=ah>0?(Tt-js[Kr])/ah:0;Kr<qn-1?el.push(k($(sh))):el.push(0),C.push([De[Kr],Za,Ja])}}}(typeof he.R2L=="boolean"?he.R2L:Ge)===!0&&(C=Ru(C,function(er,fr,Xr){return[er.split("").reverse().join(""),fr,Xr]})),Le={text:C,x:H,y:le,options:he,mutex:{pdfEscape:ws,activeFontKey:Be,fonts:At,activeFontSize:je}},Gt.publish("postProcessText",Le),C=Le.text,fn=Le.mutex.isHex||!1;var ih=At[Be].encoding;ih!=="WinAnsiEncoding"&&ih!=="StandardEncoding"||(C=Ru(C,function(er,fr,Xr){return[ao(er),fr,Xr]})),De=Jf(C),C=[];for(var nl,al,sl,xc=Array.isArray(De[0])?1:0,il="",yc=function(er,fr,Xr){var yn="";return Xr instanceof dt?(Xr=typeof he.angle=="number"?Ia(Xr,new dt(1,0,0,1,er,fr)):Ia(new dt(1,0,0,1,er,fr),Xr),w===N&&(Xr=Ia(new dt(1,0,0,-1,0,0),Xr)),yn=Xr.join(" ")+` Tm
`):yn=k(er)+" "+k(fr)+` Td
`,yn},Ss=0;Ss<De.length;Ss++){switch(il="",xc){case 1:sl=(fn?"<":"(")+De[Ss][0]+(fn?">":")"),nl=parseFloat(De[Ss][1]),al=parseFloat(De[Ss][2]);break;case 0:sl=(fn?"<":"(")+De[Ss]+(fn?">":")"),nl=Ji(H),al=Zi(le)}el!==void 0&&el[Ss]!==void 0&&(il=el[Ss]+` Tw
`),Ss===0?C.push(il+yc(nl,al,dn)+sl):xc===0?C.push(il+sl):xc===1&&C.push(il+yc(nl,al,dn)+sl)}C=xc===0?C.join(` Tj
T* `):C.join(` Tj
`),C+=` Tj
`;var _i=`BT
/`;return _i+=Be+" "+je+` Tf
`,_i+=k(je*no)+` TL
`,_i+=lc+`
`,_i+=zn,_i+=C,Y(_i+="ET"),m[Be]=!0,yr};var Uv=h.__private__.clip=h.clip=function(C){return Y(C==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Uv("evenodd")},h.__private__.discardPath=h.discardPath=function(){return Y("n"),this};var ji=h.__private__.isValidStyle=function(C){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(C)!==-1&&(H=!0),H};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(C){return ji(C)&&(u=C),this};var Wp=h.__private__.getStyle=h.getStyle=function(C){var H=u;switch(C){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=C}return H},Gp=h.close=function(){return Y("h"),this};h.stroke=function(){return Y("S"),this},h.fill=function(C){return Ou("f",C),this},h.fillEvenOdd=function(C){return Ou("f*",C),this},h.fillStroke=function(C){return Ou("B",C),this},h.fillStrokeEvenOdd=function(C){return Ou("B*",C),this};var Ou=function(C,H){sr(H)==="object"?qv(H,C):Y(C)},ic=function(C){C===null||w===N&&C===void 0||(C=Wp(C),Y(C))};function zv(C,H,le,he,we){var Le=new yd(H||this.boundingBox,le||this.xStep,he||this.yStep,this.gState,we||this.matrix);Le.stream=this.stream;var De=C+"$$"+this.cloneIndex+++"$$";return pa(De,Le),Le}var qv=function(C,H){var le=cr[C.key],he=ft[le];if(he instanceof Oc)Y("q"),Y(Hv(H)),he.gState&&h.setGState(he.gState),Y(C.matrix.toString()+" cm"),Y("/"+le+" sh"),Y("Q");else if(he instanceof yd){var we=new dt(1,0,0,-1,0,uc());C.matrix&&(we=we.multiply(C.matrix||La),le=zv.call(he,C.key,C.boundingBox,C.xStep,C.yStep,we).id),Y("q"),Y("/Pattern cs"),Y("/"+le+" scn"),he.gState&&h.setGState(he.gState),Y(H),Y("Q")}},Hv=function(C){switch(C){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},qf=h.moveTo=function(C,H){return Y(k($(C))+" "+k(E(H))+" m"),this},Yp=h.lineTo=function(C,H){return Y(k($(C))+" "+k(E(H))+" l"),this},Ws=h.curveTo=function(C,H,le,he,we,Le){return Y([k($(C)),k(E(H)),k($(le)),k(E(he)),k($(we)),k(E(Le)),"c"].join(" ")),this};h.__private__.line=h.line=function(C,H,le,he,we){if(isNaN(C)||isNaN(H)||isNaN(le)||isNaN(he)||!ji(we))throw new Error("Invalid arguments passed to jsPDF.line");return w===b?this.lines([[le-C,he-H]],C,H,[1,1],we||"S"):this.lines([[le-C,he-H]],C,H,[1,1]).stroke()},h.__private__.lines=h.lines=function(C,H,le,he,we,Le){var De,rt,it,Nt,Tt,Yt,Mr,dn,yr,xn,fn,zn;if(typeof C=="number"&&(zn=le,le=H,H=C,C=zn),he=he||[1,1],Le=Le||!1,isNaN(H)||isNaN(le)||!Array.isArray(C)||!Array.isArray(he)||!ji(we)||typeof Le!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(qf(H,le),De=he[0],rt=he[1],Nt=C.length,xn=H,fn=le,it=0;it<Nt;it++)(Tt=C[it]).length===2?(xn=Tt[0]*De+xn,fn=Tt[1]*rt+fn,Yp(xn,fn)):(Yt=Tt[0]*De+xn,Mr=Tt[1]*rt+fn,dn=Tt[2]*De+xn,yr=Tt[3]*rt+fn,xn=Tt[4]*De+xn,fn=Tt[5]*rt+fn,Ws(Yt,Mr,dn,yr,xn,fn));return Le&&Gp(),ic(we),this},h.path=function(C){for(var H=0;H<C.length;H++){var le=C[H],he=le.c;switch(le.op){case"m":qf(he[0],he[1]);break;case"l":Yp(he[0],he[1]);break;case"c":Ws.apply(this,he);break;case"h":Gp()}}return this},h.__private__.rect=h.rect=function(C,H,le,he,we){if(isNaN(C)||isNaN(H)||isNaN(le)||isNaN(he)||!ji(we))throw new Error("Invalid arguments passed to jsPDF.rect");return w===b&&(he=-he),Y([k($(C)),k(E(H)),k($(le)),k($(he)),"re"].join(" ")),ic(we),this},h.__private__.triangle=h.triangle=function(C,H,le,he,we,Le,De){if(isNaN(C)||isNaN(H)||isNaN(le)||isNaN(he)||isNaN(we)||isNaN(Le)||!ji(De))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[le-C,he-H],[we-le,Le-he],[C-we,H-Le]],C,H,[1,1],De,!0),this},h.__private__.roundedRect=h.roundedRect=function(C,H,le,he,we,Le,De){if(isNaN(C)||isNaN(H)||isNaN(le)||isNaN(he)||isNaN(we)||isNaN(Le)||!ji(De))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var rt=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*le),Le=Math.min(Le,.5*he),this.lines([[le-2*we,0],[we*rt,0,we,Le-Le*rt,we,Le],[0,he-2*Le],[0,Le*rt,-we*rt,Le,-we,Le],[2*we-le,0],[-we*rt,0,-we,-Le*rt,-we,-Le],[0,2*Le-he],[0,-Le*rt,we*rt,-Le,we,-Le]],C+we,H,[1,1],De,!0),this},h.__private__.ellipse=h.ellipse=function(C,H,le,he,we){if(isNaN(C)||isNaN(H)||isNaN(le)||isNaN(he)||!ji(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Le=4/3*(Math.SQRT2-1)*le,De=4/3*(Math.SQRT2-1)*he;return qf(C+le,H),Ws(C+le,H-De,C+Le,H-he,C,H-he),Ws(C-Le,H-he,C-le,H-De,C-le,H),Ws(C-le,H+De,C-Le,H+he,C,H+he),Ws(C+Le,H+he,C+le,H+De,C+le,H),ic(we),this},h.__private__.circle=h.circle=function(C,H,le,he){if(isNaN(C)||isNaN(H)||isNaN(le)||!ji(he))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(C,H,le,le,he)},h.setFont=function(C,H,le){return le&&(H=T(H,le)),Be=zp(C,H,{disableWarning:!1}),this};var Vv=h.__private__.getFont=h.getFont=function(){return At[zp.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var C,H,le={};for(C in Ot)if(Ot.hasOwnProperty(C))for(H in le[C]=[],Ot[C])Ot[C].hasOwnProperty(H)&&le[C].push(H);return le},h.addFont=function(C,H,le,he,we){var Le=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Le.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&Le.indexOf(arguments[3])==-1&&(le=T(le,he)),$p.call(this,C,H,le,we=we||"Identity-H")};var oc,Hf=e.lineWidth||.200025,Wv=h.__private__.getLineWidth=h.getLineWidth=function(){return Hf},St=h.__private__.setLineWidth=h.setLineWidth=function(C){return Hf=C,Y(k($(C))+" w"),this};h.__private__.setLineDash=ct.API.setLineDash=ct.API.setLineDashPattern=function(C,H){if(C=C||[],H=H||0,isNaN(H)||!Array.isArray(C))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return C=C.map(function(le){return k($(le))}).join(" "),H=k($(H)),Y("["+C+"] "+H+" d"),this};var Gv=h.__private__.getLineHeight=h.getLineHeight=function(){return je*oc};h.__private__.getLineHeight=h.getLineHeight=function(){return je*oc};var Yv=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(C){return typeof(C=C||1.15)=="number"&&(oc=C),this},Kv=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return oc};Yv(e.lineHeight);var Ji=h.__private__.getHorizontalCoordinate=function(C){return $(C)},Zi=h.__private__.getVerticalCoordinate=function(C){return w===N?C:ht[G].mediaBox.topRightY-ht[G].mediaBox.bottomLeftY-$(C)},Xv=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(C){return k(Ji(C))},Jv=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(C){return k(Zi(C))},Iu=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return vi(Iu)},h.__private__.setStrokeColor=h.setDrawColor=function(C,H,le,he){return Iu=Hs({ch1:C,ch2:H,ch3:le,ch4:he,pdfColorType:"draw",precision:2}),Y(Iu),this};var Vf=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return vi(Vf)},h.__private__.setFillColor=h.setFillColor=function(C,H,le,he){return Vf=Hs({ch1:C,ch2:H,ch3:le,ch4:he,pdfColorType:"fill",precision:2}),Y(Vf),this};var lc=e.textColor||"0 g",Zv=h.__private__.getTextColor=h.getTextColor=function(){return vi(lc)};h.__private__.setTextColor=h.setTextColor=function(C,H,le,he){return lc=Hs({ch1:C,ch2:H,ch3:le,ch4:he,pdfColorType:"text",precision:3}),this};var Qi=e.charSpace,Qv=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Qi||0)};h.__private__.setCharSpace=h.setCharSpace=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Qi=C,this};var Wf=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(C){var H=h.CapJoinStyles[C];if(H===void 0)throw new Error("Line cap style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Wf=H,Y(H+" J"),this};var Gf=0;h.__private__.setLineJoin=h.setLineJoin=function(C){var H=h.CapJoinStyles[C];if(H===void 0)throw new Error("Line join style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Gf=H,Y(H+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(C){if(C=C||0,isNaN(C))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(k($(C))+" M"),this},h.GState=my,h.setGState=function(C){(C=typeof C=="string"?mt[wt[C]]:Kp(null,C)).equals(xr)||(Y("/"+C.id+" gs"),xr=C)};var Kp=function(C,H){if(!C||!wt[C]){var le=!1;for(var he in mt)if(mt.hasOwnProperty(he)&&mt[he].equals(H)){le=!0;break}if(le)H=mt[he];else{var we="GS"+(Object.keys(mt).length+1).toString(10);mt[we]=H,H.id=we}return C&&(wt[C]=H.id),Gt.publish("addGState",H),H}};h.addGState=function(C,H){return Kp(C,H),this},h.saveGraphicsState=function(){return Y("q"),gr.push({key:Be,size:je,color:lc}),this},h.restoreGraphicsState=function(){Y("Q");var C=gr.pop();return Be=C.key,je=C.size,lc=C.color,xr=null,this},h.setCurrentTransformationMatrix=function(C){return Y(C.toString()+" cm"),this},h.comment=function(C){return Y("#"+C),this};var eo=function(C,H){var le=C||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return le},set:function(Le){isNaN(Le)||(le=parseFloat(Le))}});var he=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return he},set:function(Le){isNaN(Le)||(he=parseFloat(Le))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(Le){we=Le.toString()}}),this},Yf=function(C,H,le,he){eo.call(this,C,H),this.type="rect";var we=le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function(De){isNaN(De)||(we=parseFloat(De))}});var Le=he||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Le},set:function(De){isNaN(De)||(Le=parseFloat(De))}}),this},Lu=function(){this.page=It,this.currentPage=G,this.pages=se.slice(0),this.pagesContext=ht.slice(0),this.x=Fe,this.y=Pt,this.matrix=Ft,this.width=Xf(G),this.height=Jp(G),this.outputDestination=fe,this.id="",this.objectNumber=-1};Lu.prototype.restore=function(){It=this.page,G=this.currentPage,ht=this.pagesContext,se=this.pages,Fe=this.x,Pt=this.y,Ft=this.matrix,Xp(G,this.width),to(G,this.height),fe=this.outputDestination};var Kf=function(C,H,le,he,we){cn.push(new Lu),It=G=0,se=[],Fe=C,Pt=H,Ft=we,Uf([le,he])};for(var cc in h.beginFormObject=function(C,H,le,he,we){return Kf(C,H,le,he,we),this},h.endFormObject=function(C){return function(H){if(Jt[H])cn.pop().restore();else{var le=new Lu,he="Xo"+(Object.keys(Ke).length+1).toString(10);le.id=he,Jt[H]=he,Ke[he]=le,Gt.publish("addFormObject",le),cn.pop().restore()}}(C),this},h.doFormObject=function(C,H){var le=Ke[Jt[C]];return Y("q"),Y(H.toString()+" cm"),Y("/"+le.id+" Do"),Y("Q"),this},h.getFormObject=function(C){var H=Ke[Jt[C]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},h.save=function(C,H){return C=C||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(Cc(ku(Ni()),C),typeof Cc.unload=="function"&&bt.setTimeout&&setTimeout(Cc.unload,911),this):new Promise(function(le,he){try{var we=Cc(ku(Ni()),C);typeof Cc.unload=="function"&&bt.setTimeout&&setTimeout(Cc.unload,911),le(we)}catch(Le){he(Le.message)}})},ct.API)ct.API.hasOwnProperty(cc)&&(cc==="events"&&ct.API.events.length?function(C,H){var le,he,we;for(we=H.length-1;we!==-1;we--)le=H[we][0],he=H[we][1],C.subscribe.apply(C,[le].concat(typeof he=="function"?[he]:he))}(Gt,ct.API.events):h[cc]=ct.API[cc]);function Xf(C){return ht[C].mediaBox.topRightX-ht[C].mediaBox.bottomLeftX}function Xp(C,H){ht[C].mediaBox.topRightX=H+ht[C].mediaBox.bottomLeftX}function Jp(C){return ht[C].mediaBox.topRightY-ht[C].mediaBox.bottomLeftY}function to(C,H){ht[C].mediaBox.topRightY=H+ht[C].mediaBox.bottomLeftY}var ro=h.getPageWidth=function(C){return Xf(C=C||G)/Je},Zp=h.setPageWidth=function(C,H){Xp(C,H*Je)},uc=h.getPageHeight=function(C){return Jp(C=C||G)/Je},Qp=h.setPageHeight=function(C,H){to(C,H*Je)};return h.internal={pdfEscape:ws,getStyle:Wp,getFont:Vv,getFontSize:Ue,getCharSpace:Qv,getTextColor:Zv,getLineHeight:Gv,getLineHeightFactor:Kv,getLineWidth:Wv,write:Ce,getHorizontalCoordinate:Ji,getVerticalCoordinate:Zi,getCoordinateString:Xv,getVerticalCoordinateString:Jv,collections:{},newObject:Sr,newAdditionalObject:nc,newObjectDeferred:Cn,newObjectDeferredBegin:Un,getFilters:Vs,putStream:bs,events:Gt,scaleFactor:Je,pageSize:{getWidth:function(){return ro(G)},setWidth:function(C){Zp(G,C)},getHeight:function(){return uc(G)},setHeight:function(C){Qp(G,C)}},encryptionOptions:d,encryption:gn,getEncryptor:function(C){return d!==null?gn.encryptor(C,0):function(H){return H}},output:Hp,getNumberOfPages:Up,get pages(){return se},out:Y,f2:A,f3:I,getPageInfo:Xi,getPageInfoByObjId:Vp,getCurrentPageInfo:Bv,getPDFVersion:y,Point:eo,Rectangle:Yf,Matrix:dt,hasHotfix:Ns},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return ro(G)},set:function(C){Zp(G,C)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return uc(G)},set:function(C){Qp(G,C)},enumerable:!0,configurable:!0}),(function(C){for(var H=0,le=be.length;H<le;H++){var he=$p.call(this,C[H][0],C[H][1],C[H][2],be[H][3],!0);f===!1&&(m[he]=!0);var we=C[H][0].split("-");Dp({id:he,fontName:we[0],fontStyle:we[1]||""})}Gt.publish("addFonts",{fonts:At,dictionary:Ot})}).call(h,be),Be="F1",Fp(s,r),Gt.publish("initialized"),h}Zu.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Zu.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Zu.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Zu.prototype.processOwnerPassword=function(e,t){return ZN(JN(t).substr(0,5),e)},Zu.prototype.encryptor=function(e,t){var r=JN(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return ZN(r,n)}},my.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||sr(e)!==sr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},ct.API={events:[]},ct.version="4.0.0";var Vr=ct.API,xS=1,_u=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Yu=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},_t=function(e){return e.toFixed(2)},pl=function(e){return e.toFixed(5)};Vr.__acroform__={};var Xa=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},W6=function(e){return e*xS},Oi=function(e){var t=new hM,r=tt.internal.getHeight(e)||0,n=tt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(_t(n)),Number(_t(r))],t},vye=Vr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},bye=Vr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},wye=Vr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},rn=Vr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return wye(e,t-1)},nn=Vr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return vye(e,t-1)},an=Vr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return bye(e,t-1)},Nye=Vr.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=e[0],i=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(s)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(s+o)||0,c.upperRight_Y=n(i)||0,[Number(_t(c.lowerLeft_X)),Number(_t(c.lowerLeft_Y)),Number(_t(c.upperRight_X)),Number(_t(c.upperRight_Y))]},jye=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=QN(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+_t(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Oi(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},QN=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(A){return A.split(`
`)}):s.map(function(A){return[A]});var i=r,o=tt.internal.getHeight(e)||0;o=o<0?-o:o;var l=tt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(A,I,$){if(A+1<s.length){var E=I+" "+s[A+1][0];return cg(E,e,$).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,f=cg("3",e,i).height,m=e.multiline?o-i:(o-f)/2,h=m+=2,p=0,y=0,v=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+cg(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var x="",b=0,N=0;N<s.length;N++)if(s.hasOwnProperty(N)){var w=!1;if(s[N].length!==1&&v!==s[N].length-1){if((f+2)*(b+2)+2>o)continue e;x+=s[N][v],w=!0,y=N,N--}else{x=(x+=s[N][v]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var S=parseInt(N),_=c(S,x,i),T=N>=s.length-1;if(_&&!T){x+=" ",v=0;continue}if(_||T){if(T)y=S;else if(e.multiline&&(f+2)*(b+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(b+2)+2>o)continue e;y=S}}for(var k="",P=p;P<=y;P++){var D=s[P];if(e.multiline){if(P===y){k+=D[v]+" ",v=(v+1)%D.length;continue}if(P===p){k+=D[D.length-1]+" ";continue}}k+=D[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,d=cg(k,e,i).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}t+=_t(u)+" "+_t(h)+` Td
`,t+="("+_u(k)+`) Tj
`,t+=-_t(u)+` 0 Td
`,h=-(i+2),d=0,p=w?y:y+1,b++,x=""}break}return n.text=t,n.fontSize=i,n},cg=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},Sye={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Aye=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},_ye=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(xi.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Sye)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");xS=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new mM,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&Aye(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var o in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=Nye(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=tt.createDefaultAppearanceStream(l),sr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=jye(l);c.push({key:"AP",value:"<</N "+d+">>"}),s.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var f="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var h=l.appearanceStreamContent[m];if(f+="/"+m+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var p=h[o];typeof p=="function"&&(p=p.call(s,l)),f+="/"+o+" "+p+" ",s.internal.acroformPlugin.xForms.indexOf(p)>=0||s.internal.acroformPlugin.xForms.push(p)}}else typeof(p=h)=="function"&&(p=p.call(s,l)),f+="/"+o+" "+p,s.internal.acroformPlugin.xForms.indexOf(p)>=0||s.internal.acroformPlugin.xForms.push(p);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:l.objId}),s.internal.out("endobj")}i&&function(y,v){for(var x in y)if(y.hasOwnProperty(x)){var b=x,N=y[x];v.internal.newObjectDeferredBegin(N.objId,!0),sr(N)==="object"&&typeof N.putStream=="function"&&N.putStream(),delete y[b]}}(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},fM=Vr.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),sr(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),s+="("+_u(n(e[i].toString()))+")"):s+=e[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},qb=function(e,t,r){var n=function(s){return s};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+_u(n(e))+")"},Bi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Bi.prototype.toString=function(){return this.objId+" 0 R"},Bi.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Bi.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],s=this[n];s&&(Array.isArray(s)?e.push({key:n,value:fM(s,this.objId,this.scope)}):s instanceof Bi?(s.scope=this.scope,e.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:n,value:s}))}return e};var hM=function(){Bi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Xa(hM,Bi);var mM=function(){Bi.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+_u(r(e))+")"}},set:function(r){e=r}})};Xa(mM,Bi);var xi=function e(){Bi.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!rn(t,3)},set:function(x){x?this.F=nn(t,3):this.F=an(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof py)return;i="FieldObject"+e.FieldNum++}var x=function(b){return b};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+_u(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/xS:u},set:function(x){u=x}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(x){d=x}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof py||this instanceof Jc))return qb(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=x}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof On==0?qb(m,this.objId,this.scope):m},set:function(x){x=x.toString(),m=this instanceof On==0?x.substr(0,1)==="("?Yu(x.substr(1,x.length-2)):Yu(x):x}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof On==1?Yu(m.substr(1,m.length-1)):m},set:function(x){x=x.toString(),m=this instanceof On==1?"/"+x:x}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof On==0?qb(h,this.objId,this.scope):h},set:function(x){x=x.toString(),h=this instanceof On==0?x.substr(0,1)==="("?Yu(x.substr(1,x.length-2)):Yu(x):x}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof On==1?Yu(h.substr(1,h.length-1)):h},set:function(x){x=x.toString(),h=this instanceof On==1?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(x){x=!!x,y=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(x){p=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,1)},set:function(x){x?this.Ff=nn(this.Ff,1):this.Ff=an(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,2)},set:function(x){x?this.Ff=nn(this.Ff,2):this.Ff=an(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,3)},set:function(x){x?this.Ff=nn(this.Ff,3):this.Ff=an(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');v=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(v){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};Xa(xi,Bi);var Cd=function(){xi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return fM(t,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(i,o,l){l||(l=1);for(var c,u=[];c=o.exec(i);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,18)},set:function(r){r?this.Ff=nn(this.Ff,18):this.Ff=an(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=nn(this.Ff,19):this.Ff=an(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,20)},set:function(r){r?(this.Ff=nn(this.Ff,20),t.sort()):this.Ff=an(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,22)},set:function(r){r?this.Ff=nn(this.Ff,22):this.Ff=an(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,23)},set:function(r){r?this.Ff=nn(this.Ff,23):this.Ff=an(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,27)},set:function(r){r?this.Ff=nn(this.Ff,27):this.Ff=an(this.Ff,27)}}),this.hasAppearanceStream=!1};Xa(Cd,xi);var Td=function(){Cd.call(this),this.fontName="helvetica",this.combo=!1};Xa(Td,Cd);var kd=function(){Td.call(this),this.combo=!0};Xa(kd,Td);var Ig=function(){kd.call(this),this.edit=!0};Xa(Ig,kd);var On=function(){xi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,15)},set:function(r){r?this.Ff=nn(this.Ff,15):this.Ff=an(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,16)},set:function(r){r?this.Ff=nn(this.Ff,16):this.Ff=an(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,17)},set:function(r){r?this.Ff=nn(this.Ff,17):this.Ff=an(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,26)},set:function(r){r?this.Ff=nn(this.Ff,26):this.Ff=an(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+_u(r(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){sr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Xa(On,xi);var Lg=function(){On.call(this),this.pushButton=!0};Xa(Lg,On);var Od=function(){On.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Xa(Od,On);var py=function(){var e,t;xi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+_u(s(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){sr(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=tt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Xa(py,xi),Od.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Od.prototype.createOption=function(e){var t=new py;return t.Parent=this,t.optionName=e,this.Kids.push(t),Eye.call(this.scope,t),t};var Rg=function(){On.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=tt.CheckBox.createAppearanceStream()};Xa(Rg,On);var Jc=function(){xi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,13)},set:function(t){t?this.Ff=nn(this.Ff,13):this.Ff=an(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,21)},set:function(t){t?this.Ff=nn(this.Ff,21):this.Ff=an(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,23)},set:function(t){t?this.Ff=nn(this.Ff,23):this.Ff=an(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,24)},set:function(t){t?this.Ff=nn(this.Ff,24):this.Ff=an(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,25)},set:function(t){t?this.Ff=nn(this.Ff,25):this.Ff=an(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,26)},set:function(t){t?this.Ff=nn(this.Ff,26):this.Ff=an(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Xa(Jc,xi);var Mg=function(){Jc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,14)},set:function(e){e?this.Ff=nn(this.Ff,14):this.Ff=an(this.Ff,14)}}),this.password=!0};Xa(Mg,Jc);var tt={CheckBox:{createAppearanceStream:function(){return{N:{On:tt.CheckBox.YesNormal},D:{On:tt.CheckBox.YesPushDown,Off:tt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Oi(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=QN(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+_t(tt.internal.getWidth(e))+" "+_t(tt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+_t(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Oi(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=[],i=tt.internal.getHeight(e),o=tt.internal.getWidth(e),l=QN(e,e.caption);return s.push("1 g"),s.push("0 0 "+_t(o)+" "+_t(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+_t(o-1)+" "+_t(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+_t(l.fontSize)+" Tf "+n),s.push(l.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Oi(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+_t(tt.internal.getWidth(e))+" "+_t(tt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:tt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=tt.RadioButton.Circle.YesNormal,t.D[e]=tt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Oi(e);t.scope=e.scope;var r=[],n=tt.internal.getWidth(e)<=tt.internal.getHeight(e)?tt.internal.getWidth(e)/4:tt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=tt.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+pl(tt.internal.getWidth(e)/2)+" "+pl(tt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Oi(e);t.scope=e.scope;var r=[],n=tt.internal.getWidth(e)<=tt.internal.getHeight(e)?tt.internal.getWidth(e)/4:tt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*tt.internal.Bezier_C).toFixed(5)),o=Number((n*tt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+pl(tt.internal.getWidth(e)/2)+" "+pl(tt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+pl(tt.internal.getWidth(e)/2)+" "+pl(tt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Oi(e);t.scope=e.scope;var r=[],n=tt.internal.getWidth(e)<=tt.internal.getHeight(e)?tt.internal.getWidth(e)/4:tt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*tt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+pl(tt.internal.getWidth(e)/2)+" "+pl(tt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:tt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=tt.RadioButton.Cross.YesNormal,t.D[e]=tt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Oi(e);t.scope=e.scope;var r=[],n=tt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+_t(tt.internal.getWidth(e)-2)+" "+_t(tt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(_t(n.x1.x)+" "+_t(n.x1.y)+" m"),r.push(_t(n.x2.x)+" "+_t(n.x2.y)+" l"),r.push(_t(n.x4.x)+" "+_t(n.x4.y)+" m"),r.push(_t(n.x3.x)+" "+_t(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Oi(e);t.scope=e.scope;var r=tt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+_t(tt.internal.getWidth(e))+" "+_t(tt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+_t(tt.internal.getWidth(e)-2)+" "+_t(tt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(_t(r.x1.x)+" "+_t(r.x1.y)+" m"),n.push(_t(r.x2.x)+" "+_t(r.x2.y)+" l"),n.push(_t(r.x4.x)+" "+_t(r.x4.y)+" m"),n.push(_t(r.x3.x)+" "+_t(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Oi(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+_t(tt.internal.getWidth(e))+" "+_t(tt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};tt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=tt.internal.getWidth(e),r=tt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},tt.internal.getWidth=function(e){var t=0;return sr(e)==="object"&&(t=W6(e.Rect[2])),t},tt.internal.getHeight=function(e){var t=0;return sr(e)==="object"&&(t=W6(e.Rect[3])),t};var Eye=Vr.addField=function(e){if(_ye(this,e),!(e instanceof xi))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Vr.AcroFormChoiceField=Cd,Vr.AcroFormListBox=Td,Vr.AcroFormComboBox=kd,Vr.AcroFormEditBox=Ig,Vr.AcroFormButton=On,Vr.AcroFormPushButton=Lg,Vr.AcroFormRadioButton=Od,Vr.AcroFormCheckBox=Rg,Vr.AcroFormTextField=Jc,Vr.AcroFormPasswordField=Mg,Vr.AcroFormAppearance=tt,Vr.AcroForm={ChoiceField:Cd,ListBox:Td,ComboBox:kd,EditBox:Ig,Button:On,PushButton:Lg,RadioButton:Od,CheckBox:Rg,TextField:Jc,PasswordField:Mg,Appearance:tt},ct.AcroForm={ChoiceField:Cd,ListBox:Td,ComboBox:kd,EditBox:Ig,Button:On,PushButton:Lg,RadioButton:Od,CheckBox:Rg,TextField:Jc,PasswordField:Mg,Appearance:tt};ct.AcroForm;function pM(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(A,I){var $,E,M,z,Z,R=r;if((I=I||r)==="RGBA"||A.data!==void 0&&A.data instanceof Uint8ClampedArray&&"height"in A&&"width"in A)return"RGBA";if(_(A))for(Z in n)for(M=n[Z],$=0;$<M.length;$+=1){for(z=!0,E=0;E<M[$].length;E+=1)if(M[$][E]!==void 0&&M[$][E]!==A[E]){z=!1;break}if(z===!0){R=Z;break}}else for(Z in n)for(M=n[Z],$=0;$<M.length;$+=1){for(z=!0,E=0;E<M[$].length;E+=1)if(M[$][E]!==void 0&&M[$][E]!==A.charCodeAt(E)){z=!1;break}if(z===!0){R=Z;break}}return R===r&&I!==r&&(R=I),R},i=function A(I){for(var $=this.internal.write,E=this.internal.putStream,M=(0,this.internal.getFilters)();M.indexOf("FlateEncode")!==-1;)M.splice(M.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var z=[];if(z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Image"}),z.push({key:"Width",value:I.width}),z.push({key:"Height",value:I.height}),I.colorSpace===x.INDEXED?z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(z.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===x.DEVICE_CMYK&&z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),z.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&z.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var Z="",R=0,U=I.transparency.length;R<U;R++)Z+=I.transparency[R]+" "+I.transparency[R]+" ";z.push({key:"Mask",value:"["+Z+"]"})}I.sMask!==void 0&&z.push({key:"SMask",value:I.objectId+1+" 0 R"});var re=I.filter!==void 0?["/"+I.filter]:void 0;if(E({data:I.data,additionalKeyValues:z,alreadyAppliedFilters:re,objectId:I.objectId}),$("endobj"),"sMask"in I&&I.sMask!==void 0){var de,B=(de=I.sMaskBitsPerComponent)!==null&&de!==void 0?de:I.bitsPerComponent,G={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:B,data:I.sMask};"filter"in I&&(G.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(B," /Columns ").concat(I.width),G.filter=I.filter),A.call(this,G)}if(I.colorSpace===x.INDEXED){var te=this.internal.newObject();E({data:k(new Uint8Array(I.palette)),objectId:te}),$("endobj")}},o=function(){var A=this.internal.collections[t+"images"];for(var I in A)i.call(this,A[I])},l=function(){var A,I=this.internal.collections[t+"images"],$=this.internal.write;for(var E in I)$("/I"+(A=I[E]).index,A.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var A=this.internal.collections[t+"images"];return c.call(this),A},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(A){return typeof e["process"+A.toUpperCase()]=="function"},m=function(A){return sr(A)==="object"&&A.nodeType===1},h=function(A,I){if(A.nodeName==="IMG"&&A.hasAttribute("src")){var $=""+A.getAttribute("src");if($.indexOf("data:image/")===0)return Og(unescape($).split("base64,").pop());var E=e.loadFile($,!0);if(E!==void 0)return E}if(A.nodeName==="CANVAS"){if(A.width===0||A.height===0)throw new Error("Given canvas must have data. Canvas width: "+A.width+", height: "+A.height);var M;switch(I){case"PNG":M="image/png";break;case"WEBP":M="image/webp";break;default:M="image/jpeg"}return Og(A.toDataURL(M,1).split("base64,").pop())}},p=function(A){var I=this.internal.collections[t+"images"];if(I){for(var $ in I)if(A===I[$].alias)return I[$]}},y=function(A,I,$){return A||I||(A=-96,I=-96),A<0&&(A=-1*$.width*72/A/this.internal.scaleFactor),I<0&&(I=-1*$.height*72/I/this.internal.scaleFactor),A===0&&(A=I*$.width/$.height),I===0&&(I=A*$.height/$.width),[A,I]},v=function(A,I,$,E,M,z){var Z=y.call(this,$,E,M),R=this.internal.getCoordinateString,U=this.internal.getVerticalCoordinateString,re=u.call(this);if($=Z[0],E=Z[1],re[M.index]=M,z){z*=Math.PI/180;var de=Math.cos(z),B=Math.sin(z),G=function(ue){return ue.toFixed(4)},te=[G(de),G(B),G(-1*B),G(de),0,0,"cm"]}this.internal.write("q"),z?(this.internal.write([1,"0","0",1,R(A),U(I+E),"cm"].join(" ")),this.internal.write(te.join(" ")),this.internal.write([R($),"0","0",R(E),"0","0","cm"].join(" "))):this.internal.write([R($),"0","0",R(E),R(A),U(I+E),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+M.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},N=e.__addimage__.sHashCode=function(A){var I,$,E=0;if(typeof A=="string")for($=A.length,I=0;I<$;I++)E=(E<<5)-E+A.charCodeAt(I),E|=0;else if(_(A))for($=A.byteLength/2,I=0;I<$;I++)E=(E<<5)-E+A[I],E|=0;return E},w=e.__addimage__.validateStringAsBase64=function(A){(A=A||"").toString().trim();var I=!0;return A.length===0&&(I=!1),A.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(A.substr(0,A.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(A.substr(-2))===!1&&(I=!1),I},S=e.__addimage__.extractImageFromDataUrl=function(A){if(A==null||!(A=A.trim()).startsWith("data:"))return null;var I=A.indexOf(",");return I<0?null:A.substring(0,I).trim().endsWith("base64")?A.substring(I+1):null};e.__addimage__.isArrayBuffer=function(A){return A instanceof ArrayBuffer};var _=e.__addimage__.isArrayBufferView=function(A){return A instanceof Int8Array||A instanceof Uint8Array||A instanceof Uint8ClampedArray||A instanceof Int16Array||A instanceof Uint16Array||A instanceof Int32Array||A instanceof Uint32Array||A instanceof Float32Array||A instanceof Float64Array},T=e.__addimage__.binaryStringToUint8Array=function(A){for(var I=A.length,$=new Uint8Array(I),E=0;E<I;E++)$[E]=A.charCodeAt(E);return $},k=e.__addimage__.arrayBufferToBinaryString=function(A){for(var I="",$=_(A)?A:new Uint8Array(A),E=0;E<$.length;E+=8192)I+=String.fromCharCode.apply(null,$.subarray(E,E+8192));return I};e.addImage=function(){var A,I,$,E,M,z,Z,R,U;if(typeof arguments[1]=="number"?(I=r,$=arguments[1],E=arguments[2],M=arguments[3],z=arguments[4],Z=arguments[5],R=arguments[6],U=arguments[7]):(I=arguments[1],$=arguments[2],E=arguments[3],M=arguments[4],z=arguments[5],Z=arguments[6],R=arguments[7],U=arguments[8]),sr(A=arguments[0])==="object"&&!m(A)&&"imageData"in A){var re=A;A=re.imageData,I=re.format||I||r,$=re.x||$||0,E=re.y||E||0,M=re.w||re.width||M,z=re.h||re.height||z,Z=re.alias||Z,R=re.compression||R,U=re.rotation||re.angle||U}var de=this.internal.getFilters();if(R===void 0&&de.indexOf("FlateEncode")!==-1&&(R="SLOW"),isNaN($)||isNaN(E))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var B=P.call(this,A,I,Z,R);return v.call(this,$,E,M,z,B,U),this};var P=function(A,I,$,E){var M,z,Z;if(typeof A=="string"&&s(A)===r){A=unescape(A);var R=D(A,!1);(R!==""||(R=e.loadFile(A,!0))!==void 0)&&(A=R)}if(m(A)&&(A=h(A,I)),I=s(A,I),!f(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((Z=$)==null||Z.length===0)&&($=function(U){return typeof U=="string"||_(U)?N(U):_(U.data)?N(U.data):null}(A)),(M=p.call(this,$))||(A instanceof Uint8Array||I==="RGBA"||(z=A,A=T(A)),M=this["process"+I.toUpperCase()](A,d.call(this),$,function(U){return U&&typeof U=="string"&&(U=U.toUpperCase()),U in e.image_compression?U:b.NONE}(E),z)),!M)throw new Error("An unknown error occurred whilst processing the image.");return M},D=e.__addimage__.convertBase64ToBinaryString=function(A,I){I=typeof I!="boolean"||I;var $,E="";if(typeof A=="string"){var M;$=(M=S(A))!==null&&M!==void 0?M:A;try{E=Og($)}catch(z){if(I)throw w($)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return E};e.getImageProperties=function(A){var I,$,E="";if(m(A)&&(A=h(A)),typeof A=="string"&&s(A)===r&&((E=D(A,!1))===""&&(E=e.loadFile(A)||""),A=E),$=s(A),!f($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(A instanceof Uint8Array||(A=T(A)),!(I=this["process"+$.toUpperCase()](A)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=$,I}})(ct.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};ct.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,s,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){n=u[m];var h=this.internal.pdfEscape,p=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(y.objId),b=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+h(x(n.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+h(x(b))+") >>",y.content=i;var N=y.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+N,n.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(y.objId,"0 R",v.objId,"0 R");break;case"freetext":s="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var w=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+h(p(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+w+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var S=this.annotations._nameMap[n.options.name];n.options.pageNumber=S.page,n.options.top=S.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+h(p(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var _=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+_+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,s,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+s),h:u(n+i)},options:o,type:"link"})},e.textWithLink=function(r,n,s,i){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var d=this.splitTextToSize(r,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(r,n,s,i),s+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,s-u,l,o,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(ct.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(y){return t[y.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},l=e.__arabicParser__.isArabicEndLetter=function(y){return o(y)&&i(y)&&t[y.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(y){return o(y)&&s.indexOf(y.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return o(y)&&i(y)&&t[y.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(y){return o(y)&&i(y)&&t[y.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(y){return o(y)&&i(y)&&t[y.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(y){return o(y)&&i(y)&&t[y.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(y){var v=0,x=r,b="",N=0;for(v=0;v<y.length;v+=1)x[y.charCodeAt(v)]!==void 0?(N++,typeof(x=x[y.charCodeAt(v)])=="number"&&(b+=String.fromCharCode(x),x=r,N=0),v===y.length-1&&(x=r,b+=y.charAt(v-(N-1)),v-=N-1,N=0)):(x=r,b+=y.charAt(v-N),v-=N,N=0);return b};e.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&n[y.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(y,v,x){return o(y)?i(y)===!1?-1:!u(y)||!o(v)&&!o(x)||!o(x)&&l(v)||l(y)&&!o(v)||l(y)&&c(v)||l(y)&&l(v)?0:d(y)&&o(v)&&!l(v)&&o(x)&&u(x)?3:l(y)||!o(x)?1:2:-1},h=function(y){var v=0,x=0,b=0,N="",w="",S="",_=(y=y||"").split("\\s+"),T=[];for(v=0;v<_.length;v+=1){for(T.push(""),x=0;x<_[v].length;x+=1)N=_[v][x],w=_[v][x-1],S=_[v][x+1],o(N)?(b=m(N,w,S),T[v]+=b!==-1?String.fromCharCode(t[N.charCodeAt(0)][b]):N):T[v]+=N;T[v]=f(T[v])}return T.join(" ")},p=e.__arabicParser__.processArabic=e.processArabic=function(){var y,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(v)){var b=0;for(x=[],b=0;b<v.length;b+=1)Array.isArray(v[b])?x.push([h(v[b][0]),v[b][1],v[b][2]]):x.push([h(v[b])]);y=x}else y=h(v);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};e.events.push(["preProcessText",p])}(ct.API),ct.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ct.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(y){m=y}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(y){p=y}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,h=0,p=0,y=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=u.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(N,w){return N.concat(v.splitTextToSize(w,x))},[])):c=Array.isArray(c)?c:[c];for(var b=0;b<c.length;b++)h<(y=this.getStringUnitWidth(c[b],{font:f})*d)&&(h=y);return h!==0&&(p=c.length),{w:h/=m,h:Math.max((p*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,h&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,f,m){if(n.call(this),!d)throw new Error("No data for PDF table.");var h,p,y,v,x=[],b=[],N=[],w={},S={},_=[],T=[],k=(m=m||{}).autoSize||!1,P=m.printHeaders!==!1,D=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,A=m.margins||Object.assign({width:this.getPageWidth()},t),I=typeof m.padding=="number"?m.padding:3,$=m.headerBackgroundColor||"#c8c8c8",E=m.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=A,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=$,this.internal.__cell__.headerTextColor=E,this.setFontSize(D),f==null)b=x=Object.keys(d[0]),N=x.map(function(){return"left"});else if(Array.isArray(f)&&sr(f[0])==="object")for(x=f.map(function(re){return re.name}),b=f.map(function(re){return re.prompt||re.name||""}),N=f.map(function(re){return re.align||"left"}),h=0;h<f.length;h+=1)S[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(b=x=f,N=x.map(function(){return"left"}));if(k||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<x.length;h+=1){for(w[v=x[h]]=d.map(function(re){return re[v]}),this.setFont(void 0,"bold"),_.push(this.getTextDimensions(b[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=w[v],this.setFont(void 0,"normal"),y=0;y<p.length;y+=1)_.push(this.getTextDimensions(p[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);S[v]=Math.max.apply(null,_)+I+I,_=[]}if(P){var M={};for(h=0;h<x.length;h+=1)M[x[h]]={},M[x[h]].text=b[h],M[x[h]].align=N[h];var z=l.call(this,M,S);T=x.map(function(re){return new i(c,u,S[re],z,M[re].text,void 0,M[re].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var Z=f.reduce(function(re,de){return re[de.name]=de.align,re},{});for(h=0;h<d.length;h+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:h,data:d[h]},this);var R=l.call(this,d[h],S);for(y=0;y<x.length;y+=1){var U=d[h][x[y]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:h,col:y,data:U},this),o.call(this,new i(c,u,S[x[y]],R,U,h+2,Z[x[y]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(h){var p=c[h];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,u[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/m+d+d},this).reduce(function(h,p){return Math.max(h,p)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=c;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(p)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}}(ct.API);var gM={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},xM=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ej=pM(xM),yM=[100,200,300,400,500,600,700,800,900],Pye=pM(yM);function Hb(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return gM[i=i||"normal"]?i:"normal"}(e.style),n=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(e.weight),s=function(i){return typeof ej[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,n].join(" ")}}}function G6(e,t,r,n){var s;for(s=r;s>=0&&s<t.length;s+=n)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=n)if(e[t[s]])return e[t[s]]}var Cye={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Y6={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function K6(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function X6(e){return e.trimLeft()}function Tye(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function kye(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var ug,J6,Z6,Ku,dg,Q6,eC,tC,Vb=["times"];function rC(e,t,r,n,s){var i=4,o=aC;switch(s){case ct.API.image_compression.FAST:i=1,o=nC;break;case ct.API.image_compression.MEDIUM:i=6,o=sC;break;case ct.API.image_compression.SLOW:i=9,o=iC}e=function(c,u,d,f){for(var m,h=c.length/u,p=new Uint8Array(c.length+h),y=[Oye,nC,aC,sC,iC],v=0;v<h;v+=1){var x=v*u,b=c.subarray(x,x+u);if(f)p.set(f(b,d,m),x+v);else{for(var N=y.length,w=[],S=0;S<N;S+=1)w[S]=y[S](b,d,m);var _=Lye(w.concat());p.set(w[_],x+v)}m=b}return p}(e,t,Math.ceil(r*n/8),o);var l=GN(e,{level:i});return ct.API.__addimage__.arrayBufferToBinaryString(l)}function Oye(e){var t=Array.apply([],e);return t.unshift(0),t}function nC(e,t){var r=e.length,n=[];n[0]=1;for(var s=0;s<r;s+=1){var i=e[s-t]||0;n[s+1]=e[s]-i+256&255}return n}function aC(e,t,r){var n=e.length,s=[];s[0]=2;for(var i=0;i<n;i+=1){var o=r&&r[i]||0;s[i+1]=e[i]-o+256&255}return s}function sC(e,t,r){var n=e.length,s=[];s[0]=3;for(var i=0;i<n;i+=1){var o=e[i-t]||0,l=r&&r[i]||0;s[i+1]=e[i]+256-(o+l>>>1)&255}return s}function iC(e,t,r){var n=e.length,s=[];s[0]=4;for(var i=0;i<n;i+=1){var o=Iye(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);s[i+1]=e[i]-o+256&255}return s}function Iye(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),s=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=s&&n<=i?e:s<=i?t:r}function Lye(e){var t=e.map(function(r){return r.reduce(function(n,s){return n+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function Wb(e,t,r){var n=t*r,s=Math.floor(n/8),i=16-(n-8*s+r),o=(1<<r)-1;return vM(e,s)>>i&o}function oC(e,t,r,n){var s=r*n,i=Math.floor(s/8),o=16-(s-8*i+n),l=(1<<n)-1,c=(t&l)<<o;(function(u,d,f){if(d+1<u.byteLength)u.setUint16(d,f,!1);else{var m=f>>8&255;u.setUint8(d,m)}})(e,i,vM(e,i)&~(l<<o)&65535|c)}function vM(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function Rye(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,o=1<<1+(7&s);e[t++],e[t++];var l=null,c=null;i&&(l=t,c=o,t+=3*o);var u=!0,d=[],f=0,m=null,h=0,p=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,p=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var y=e[t++];f=e[t++]|e[t++]<<8,m=e[t++],1&y||(m=null),h=y>>2&7,t++;break;case 254:for(;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,w=e[t++],S=w>>6&1,_=1<<1+(7&w),T=l,k=c,P=!1;w>>7&&(P=!0,T=t,k=_,t+=3*_);var D=t;for(t++;;){var A;if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}d.push({x:v,y:x,width:b,height:N,has_local_palette:P,palette_offset:T,palette_size:k,data_offset:D,data_length:t-D,transparent_index:m,interlaced:!!S,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return p},this.frameInfo=function(I){if(I<0||I>=d.length)throw new Error("Frame index out of range.");return d[I]},this.decodeAndBlitFrameBGRA=function(I,$){var E=this.frameInfo(I),M=E.width*E.height,z=new Uint8Array(M);lC(e,E.data_offset,z,M);var Z=E.palette_offset,R=E.transparent_index;R===null&&(R=256);var U=E.width,re=r-U,de=U,B=4*(E.y*r+E.x),G=4*((E.y+E.height)*r+E.x),te=B,ue=4*re;E.interlaced===!0&&(ue+=4*r*7);for(var q=8,X=0,Q=z.length;X<Q;++X){var ne=z[X];if(de===0&&(de=U,(te+=ue)>=G&&(ue=4*re+4*r*(q-1),te=B+(U+re)*(q<<1),q>>=1)),ne===R)te+=4;else{var pe=e[Z+3*ne],se=e[Z+3*ne+1],W=e[Z+3*ne+2];$[te++]=W,$[te++]=se,$[te++]=pe,$[te++]=255}--de}},this.decodeAndBlitFrameRGBA=function(I,$){var E=this.frameInfo(I),M=E.width*E.height,z=new Uint8Array(M);lC(e,E.data_offset,z,M);var Z=E.palette_offset,R=E.transparent_index;R===null&&(R=256);var U=E.width,re=r-U,de=U,B=4*(E.y*r+E.x),G=4*((E.y+E.height)*r+E.x),te=B,ue=4*re;E.interlaced===!0&&(ue+=4*r*7);for(var q=8,X=0,Q=z.length;X<Q;++X){var ne=z[X];if(de===0&&(de=U,(te+=ue)>=G&&(ue=4*re+4*r*(q-1),te=B+(U+re)*(q<<1),q>>=1)),ne===R)te+=4;else{var pe=e[Z+3*ne],se=e[Z+3*ne+1],W=e[Z+3*ne+2];$[te++]=pe,$[te++]=se,$[te++]=W,$[te++]=255}--de}}}function lC(e,t,r,n){for(var s=e[t++],i=1<<s,o=i+1,l=o+1,c=s+1,u=(1<<c)-1,d=0,f=0,m=0,h=e[t++],p=new Int32Array(4096),y=null;;){for(;d<16&&h!==0;)f|=e[t++]<<d,d+=8,h===1?h=e[t++]:--h;if(d<c)break;var v=f&u;if(f>>=c,d-=c,v!==i){if(v===o)break;for(var x=v<l?v:y,b=0,N=x;N>i;)N=p[N]>>8,++b;var w=N;if(m+b+(x!==v?1:0)>n)return void mr.log("Warning, gif stream longer than expected.");r[m++]=w;var S=m+=b;for(x!==v&&(r[m++]=w),N=x;b--;)N=p[N],r[--S]=255&N,N>>=8;y!==null&&l<4096&&(p[l++]=y<<8|w,l>=u+1&&c<12&&(++c,u=u<<1|1)),y=v}else l=o+1,u=(1<<(c=s+1))-1,y=null}return m!==n&&mr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Gb(e){var t,r,n,s,i,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),m=new Array(65535),h=new Array(64),p=new Array(64),y=[],v=0,x=7,b=new Array(64),N=new Array(64),w=new Array(64),S=new Array(256),_=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],E=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],M=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function z(B,G){for(var te=0,ue=0,q=new Array,X=1;X<=16;X++){for(var Q=1;Q<=B[X];Q++)q[G[ue]]=[],q[G[ue]][0]=te,q[G[ue]][1]=X,ue++,te++;te*=2}return q}function Z(B){for(var G=B[0],te=B[1]-1;te>=0;)G&1<<te&&(v|=1<<x),te--,--x<0&&(v==255?(R(255),R(0)):R(v),x=7,v=0)}function R(B){y.push(B)}function U(B){R(B>>8&255),R(255&B)}function re(B,G,te,ue,q){for(var X,Q=q[0],ne=q[240],pe=function(je,Me){var Ue,Ge,We,Et,pt,vt,$t,ye,Be,Je,Fe=0;for(Be=0;Be<8;++Be){Ue=je[Fe],Ge=je[Fe+1],We=je[Fe+2],Et=je[Fe+3],pt=je[Fe+4],vt=je[Fe+5],$t=je[Fe+6];var Pt=Ue+(ye=je[Fe+7]),Ft=Ue-ye,At=Ge+$t,Ot=Ge-$t,gr=We+vt,ft=We-vt,cr=Et+pt,mt=Et-pt,wt=Pt+cr,xr=Pt-cr,It=At+gr,ht=At-gr;je[Fe]=wt+It,je[Fe+4]=wt-It;var Gt=.707106781*(ht+xr);je[Fe+2]=xr+Gt,je[Fe+6]=xr-Gt;var Se=.382683433*((wt=mt+ft)-(ht=Ot+Ft)),Ke=.5411961*wt+Se,Jt=1.306562965*ht+Se,cn=.707106781*(It=ft+Ot),dt=Ft+cn,Ia=Ft-cn;je[Fe+5]=Ia+Ke,je[Fe+3]=Ia-Ke,je[Fe+1]=dt+Jt,je[Fe+7]=dt-Jt,Fe+=8}for(Fe=0,Be=0;Be<8;++Be){Ue=je[Fe],Ge=je[Fe+8],We=je[Fe+16],Et=je[Fe+24],pt=je[Fe+32],vt=je[Fe+40],$t=je[Fe+48];var La=Ue+(ye=je[Fe+56]),pa=Ue-ye,ga=Ge+$t,Sr=Ge-$t,Cn=We+vt,Un=We-vt,nc=Et+pt,Jo=Et-pt,qs=La+nc,vi=La-nc,Hs=ga+Cn,Vs=ga-Cn;je[Fe]=qs+Hs,je[Fe+32]=qs-Hs;var bs=.707106781*(Vs+vi);je[Fe+16]=vi+bs,je[Fe+48]=vi-bs;var ac=.382683433*((qs=Jo+Un)-(Vs=Sr+pa)),bi=.5411961*qs+ac,sc=1.306562965*Vs+ac,Eu=.707106781*(Hs=Un+Sr),Pu=pa+Eu,Cu=pa-Eu;je[Fe+40]=Cu+bi,je[Fe+24]=Cu-bi,je[Fe+8]=Pu+sc,je[Fe+56]=Pu-sc,Fe++}for(Be=0;Be<64;++Be)Je=je[Be]*Me[Be],h[Be]=Je>0?Je+.5|0:Je-.5|0;return h}(B,G),se=0;se<64;++se)p[T[se]]=pe[se];var W=p[0]-te;te=p[0],W==0?Z(ue[0]):(Z(ue[m[X=32767+W]]),Z(f[X]));for(var fe=63;fe>0&&p[fe]==0;)fe--;if(fe==0)return Z(Q),te;for(var Ae,Y=1;Y<=fe;){for(var Ce=Y;p[Y]==0&&Y<=fe;)++Y;var qe=Y-Ce;if(qe>=16){Ae=qe>>4;for(var be=1;be<=Ae;++be)Z(ne);qe&=15}X=32767+p[Y],Z(q[(qe<<4)+m[X]]),Z(f[X]),Y++}return fe!=63&&Z(Q),te}function de(B){B=Math.min(Math.max(B,1),100),i!=B&&(function(G){for(var te=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ue=0;ue<64;ue++){var q=o((te[ue]*G+50)/100);q=Math.min(Math.max(q,1),255),l[T[ue]]=q}for(var X=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Q=0;Q<64;Q++){var ne=o((X[Q]*G+50)/100);ne=Math.min(Math.max(ne,1),255),c[T[Q]]=ne}for(var pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],se=0,W=0;W<8;W++)for(var fe=0;fe<8;fe++)u[se]=1/(l[T[se]]*pe[W]*pe[fe]*8),d[se]=1/(c[T[se]]*pe[W]*pe[fe]*8),se++}(B<50?Math.floor(5e3/B):Math.floor(200-2*B)),i=B)}this.encode=function(B,G){G&&de(G),y=new Array,v=0,x=7,U(65496),U(65504),U(16),R(74),R(70),R(73),R(70),R(0),R(1),R(1),R(0),U(1),U(1),R(0),R(0),function(){U(65499),U(132),R(0);for(var Ge=0;Ge<64;Ge++)R(l[Ge]);R(1);for(var We=0;We<64;We++)R(c[We])}(),function(Ge,We){U(65472),U(17),R(8),U(We),U(Ge),R(3),R(1),R(17),R(0),R(2),R(17),R(1),R(3),R(17),R(1)}(B.width,B.height),function(){U(65476),U(418),R(0);for(var Ge=0;Ge<16;Ge++)R(k[Ge+1]);for(var We=0;We<=11;We++)R(P[We]);R(16);for(var Et=0;Et<16;Et++)R(D[Et+1]);for(var pt=0;pt<=161;pt++)R(A[pt]);R(1);for(var vt=0;vt<16;vt++)R(I[vt+1]);for(var $t=0;$t<=11;$t++)R($[$t]);R(17);for(var ye=0;ye<16;ye++)R(E[ye+1]);for(var Be=0;Be<=161;Be++)R(M[Be])}(),U(65498),U(12),R(3),R(1),R(0),R(2),R(17),R(3),R(17),R(0),R(63),R(0);var te=0,ue=0,q=0;v=0,x=7,this.encode.displayName="_encode_";for(var X,Q,ne,pe,se,W,fe,Ae,Y,Ce=B.data,qe=B.width,be=B.height,je=4*qe,Me=0;Me<be;){for(X=0;X<je;){for(se=je*Me+X,fe=-1,Ae=0,Y=0;Y<64;Y++)W=se+(Ae=Y>>3)*je+(fe=4*(7&Y)),Me+Ae>=be&&(W-=je*(Me+1+Ae-be)),X+fe>=je&&(W-=X+fe-je+4),Q=Ce[W++],ne=Ce[W++],pe=Ce[W++],b[Y]=(_[Q]+_[ne+256|0]+_[pe+512|0]>>16)-128,N[Y]=(_[Q+768|0]+_[ne+1024|0]+_[pe+1280|0]>>16)-128,w[Y]=(_[Q+1280|0]+_[ne+1536|0]+_[pe+1792|0]>>16)-128;te=re(b,u,te,t,n),ue=re(N,d,ue,r,s),q=re(w,d,q,r,s),X+=32}Me+=8}if(x>=0){var Ue=[];Ue[1]=x+1,Ue[0]=(1<<x+1)-1,Z(Ue)}return U(65497),new Uint8Array(y)},e=e||50,function(){for(var B=String.fromCharCode,G=0;G<256;G++)S[G]=B(G)}(),t=z(k,P),r=z(I,$),n=z(D,A),s=z(E,M),function(){for(var B=1,G=2,te=1;te<=15;te++){for(var ue=B;ue<G;ue++)m[32767+ue]=te,f[32767+ue]=[],f[32767+ue][1]=te,f[32767+ue][0]=ue;for(var q=-(G-1);q<=-B;q++)m[32767+q]=te,f[32767+q]=[],f[32767+q][1]=te,f[32767+q][0]=G-1+q;B<<=1,G<<=1}}(),function(){for(var B=0;B<256;B++)_[B]=19595*B,_[B+256|0]=38470*B,_[B+512|0]=7471*B+32768,_[B+768|0]=-11059*B,_[B+1024|0]=-21709*B,_[B+1280|0]=32768*B+8421375,_[B+1536|0]=-27439*B,_[B+1792|0]=-5329*B}(),de(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Qs(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function cC(e){function t(P){if(!P)throw Error("assert :P")}function r(P,D,A){for(var I=0;4>I;I++)if(P[D+I]!=A.charCodeAt(I))return!0;return!1}function n(P,D,A,I,$){for(var E=0;E<$;E++)P[D+E]=A[I+E]}function s(P,D,A,I){for(var $=0;$<I;$++)P[D+$]=A}function i(P){return new Int32Array(P)}function o(P,D){for(var A=[],I=0;I<P;I++)A.push(new D);return A}function l(P,D){var A=[];return function I($,E,M){for(var z=M[E],Z=0;Z<z&&($.push(M.length>E+1?[]:new D),!(M.length<E+1));Z++)I($[Z],E+1,M)}(A,0,P),A}var c=function(){var P=this;function D(g,j){for(var O=1<<j-1>>>0;g&O;)O>>>=1;return O?(g&O-1)+O:g}function A(g,j,O,F,V){t(!(F%O));do g[j+(F-=O)]=V;while(0<F)}function I(g,j,O,F,V){if(t(2328>=V),512>=V)var K=i(512);else if((K=i(V))==null)return 0;return function(J,ee,ae,ie,ge,Ee){var oe,ve,Ne=ee,ke=1<<ae,_e=i(16),Ie=i(16);for(t(ge!=0),t(ie!=null),t(J!=null),t(0<ae),ve=0;ve<ge;++ve){if(15<ie[ve])return 0;++_e[ie[ve]]}if(_e[0]==ge)return 0;for(Ie[1]=0,oe=1;15>oe;++oe){if(_e[oe]>1<<oe)return 0;Ie[oe+1]=Ie[oe]+_e[oe]}for(ve=0;ve<ge;++ve)oe=ie[ve],0<ie[ve]&&(Ee[Ie[oe]++]=ve);if(Ie[15]==1)return(ie=new $).g=0,ie.value=Ee[0],A(J,Ne,1,ke,ie),ke;var Re,ze=-1,$e=ke-1,lt=0,et=1,Lt=1,nt=1<<ae;for(ve=0,oe=1,ge=2;oe<=ae;++oe,ge<<=1){if(et+=Lt<<=1,0>(Lt-=_e[oe]))return 0;for(;0<_e[oe];--_e[oe])(ie=new $).g=oe,ie.value=Ee[ve++],A(J,Ne+lt,ge,nt,ie),lt=D(lt,oe)}for(oe=ae+1,ge=2;15>=oe;++oe,ge<<=1){if(et+=Lt<<=1,0>(Lt-=_e[oe]))return 0;for(;0<_e[oe];--_e[oe]){if(ie=new $,(lt&$e)!=ze){for(Ne+=nt,Re=1<<(ze=oe)-ae;15>ze&&!(0>=(Re-=_e[ze]));)++ze,Re<<=1;ke+=nt=1<<(Re=ze-ae),J[ee+(ze=lt&$e)].g=Re+ae,J[ee+ze].value=Ne-ee-ze}ie.g=oe-ae,ie.value=Ee[ve++],A(J,Ne+(lt>>ae),ge,nt,ie),lt=D(lt,oe)}}return et!=2*Ie[15]-1?0:ke}(g,j,O,F,V,K)}function $(){this.value=this.g=0}function E(){this.value=this.g=0}function M(){this.G=o(5,$),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(gc,E)}function z(g,j,O,F){t(g!=null),t(j!=null),t(2147483648>F),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=j,g.pa=O,g.Jd=j,g.Yc=O+F,g.Zc=4<=F?O+F-4+1:O,Q(g)}function Z(g,j){for(var O=0;0<j--;)O|=pe(g,128)<<j;return O}function R(g,j){var O=Z(g,j);return ne(g)?-O:O}function U(g,j,O,F){var V,K=0;for(t(g!=null),t(j!=null),t(4294967288>F),g.Sb=F,g.Ra=0,g.u=0,g.h=0,4<F&&(F=4),V=0;V<F;++V)K+=j[O+V]<<8*V;g.Ra=K,g.bb=F,g.oa=j,g.pa=O}function re(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<tl-8>>>0,++g.bb,g.u-=8;ue(g)&&(g.h=1,g.u=0)}function de(g,j){if(t(0<=j),!g.h&&j<=Za){var O=te(g)&Ja[j];return g.u+=j,re(g),O}return g.h=1,g.u=0}function B(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function te(g){return g.Ra>>>(g.u&tl-1)>>>0}function ue(g){return t(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>tl}function q(g,j){g.u=j,g.h=ue(g)}function X(g){g.u>=io&&(t(g.u>=io),re(g))}function Q(g){t(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(t(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function ne(g){return Z(g,1)}function pe(g,j){var O=g.Ca;0>g.b&&Q(g);var F=g.b,V=O*j>>>8,K=(g.I>>>F>V)+0;for(K?(O-=V,g.I-=V+1<<F>>>0):O=V+1,F=O,V=0;256<=F;)V+=8,F>>=8;return F=7^V+rl[F],g.b-=F,g.Ca=(O<<F)-1,K}function se(g,j,O){g[j+0]=O>>24&255,g[j+1]=O>>16&255,g[j+2]=O>>8&255,g[j+3]=255&O}function W(g,j){return g[j+0]|g[j+1]<<8}function fe(g,j){return W(g,j)|g[j+2]<<16}function Ae(g,j){return W(g,j)|W(g,j+2)<<16}function Y(g,j){var O=1<<j;return t(g!=null),t(0<j),g.X=i(O),g.X==null?0:(g.Mb=32-j,g.Xa=j,1)}function Ce(g,j){t(g!=null),t(j!=null),t(g.Xa==j.Xa),n(j.X,0,g.X,0,1<<j.Xa)}function qe(){this.X=[],this.Xa=this.Mb=0}function be(g,j,O,F){t(O!=null),t(F!=null);var V=O[0],K=F[0];return V==0&&(V=(g*K+j/2)/j),K==0&&(K=(j*V+g/2)/g),0>=V||0>=K?0:(O[0]=V,F[0]=K,1)}function je(g,j){return g+(1<<j)-1>>>j}function Me(g,j){return((4278255360&g)+(4278255360&j)>>>0&4278255360)+((16711935&g)+(16711935&j)>>>0&16711935)>>>0}function Ue(g,j){P[j]=function(O,F,V,K,J,ee,ae){var ie;for(ie=0;ie<J;++ie){var ge=P[g](ee[ae+ie-1],V,K+ie);ee[ae+ie]=Me(O[F+ie],ge)}}}function Ge(){this.ud=this.hd=this.jd=0}function We(g,j){return((4278124286&(g^j))>>>1)+(g&j)>>>0}function Et(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function pt(g,j){return Et(g+(g-j+.5>>1))}function vt(g,j,O){return Math.abs(j-O)-Math.abs(g-O)}function $t(g,j,O,F,V,K,J){for(F=K[J-1],O=0;O<V;++O)K[J+O]=F=Me(g[j+O],F)}function ye(g,j,O,F,V){var K;for(K=0;K<O;++K){var J=g[j+K],ee=J>>8&255,ae=16711935&(ae=(ae=16711935&J)+((ee<<16)+ee));F[V+K]=(4278255360&J)+ae>>>0}}function Be(g,j){j.jd=255&g,j.hd=g>>8&255,j.ud=g>>16&255}function Je(g,j,O,F,V,K){var J;for(J=0;J<F;++J){var ee=j[O+J],ae=ee>>>8,ie=ee,ge=255&(ge=(ge=ee>>>16)+((g.jd<<24>>24)*(ae<<24>>24)>>>5));ie=255&(ie=(ie+=(g.hd<<24>>24)*(ae<<24>>24)>>>5)+((g.ud<<24>>24)*(ge<<24>>24)>>>5)),V[K+J]=(4278255360&ee)+(ge<<16)+ie}}function Fe(g,j,O,F,V){P[j]=function(K,J,ee,ae,ie,ge,Ee,oe,ve){for(ae=Ee;ae<oe;++ae)for(Ee=0;Ee<ve;++Ee)ie[ge++]=V(ee[F(K[J++])])},P[g]=function(K,J,ee,ae,ie,ge,Ee){var oe=8>>K.b,ve=K.Ea,Ne=K.K[0],ke=K.w;if(8>oe)for(K=(1<<K.b)-1,ke=(1<<oe)-1;J<ee;++J){var _e,Ie=0;for(_e=0;_e<ve;++_e)_e&K||(Ie=F(ae[ie++])),ge[Ee++]=V(Ne[Ie&ke]),Ie>>=oe}else P["VP8LMapColor"+O](ae,ie,Ne,ke,ge,Ee,J,ee,ve)}}function Pt(g,j,O,F,V){for(O=j+O;j<O;){var K=g[j++];F[V++]=K>>16&255,F[V++]=K>>8&255,F[V++]=255&K}}function Ft(g,j,O,F,V){for(O=j+O;j<O;){var K=g[j++];F[V++]=K>>16&255,F[V++]=K>>8&255,F[V++]=255&K,F[V++]=K>>24&255}}function At(g,j,O,F,V){for(O=j+O;j<O;){var K=(J=g[j++])>>16&240|J>>12&15,J=240&J|J>>28&15;F[V++]=K,F[V++]=J}}function Ot(g,j,O,F,V){for(O=j+O;j<O;){var K=(J=g[j++])>>16&248|J>>13&7,J=J>>5&224|J>>3&31;F[V++]=K,F[V++]=J}}function gr(g,j,O,F,V){for(O=j+O;j<O;){var K=g[j++];F[V++]=255&K,F[V++]=K>>8&255,F[V++]=K>>16&255}}function ft(g,j,O,F,V,K){if(K==0)for(O=j+O;j<O;)se(F,((K=g[j++])[0]>>24|K[1]>>8&65280|K[2]<<8&16711680|K[3]<<24)>>>0),V+=32;else n(F,V,g,j,O)}function cr(g,j){P[j][0]=P[g+"0"],P[j][1]=P[g+"1"],P[j][2]=P[g+"2"],P[j][3]=P[g+"3"],P[j][4]=P[g+"4"],P[j][5]=P[g+"5"],P[j][6]=P[g+"6"],P[j][7]=P[g+"7"],P[j][8]=P[g+"8"],P[j][9]=P[g+"9"],P[j][10]=P[g+"10"],P[j][11]=P[g+"11"],P[j][12]=P[g+"12"],P[j][13]=P[g+"13"],P[j][14]=P[g+"0"],P[j][15]=P[g+"0"]}function mt(g){return g==r1||g==n1||g==l0||g==a1}function wt(){this.eb=[],this.size=this.A=this.fb=0}function xr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function It(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new wt,this.f.kb=new xr,this.sd=null}function ht(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Gt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Se(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Ke(g,j){var O=g.T,F=j.ba.f.RGBA,V=F.eb,K=F.fb+g.ka*F.A,J=_s[j.ba.S],ee=g.y,ae=g.O,ie=g.f,ge=g.N,Ee=g.ea,oe=g.W,ve=j.cc,Ne=j.dc,ke=j.Mc,_e=j.Nc,Ie=g.ka,Re=g.ka+g.T,ze=g.U,$e=ze+1>>1;for(Ie==0?J(ee,ae,null,null,ie,ge,Ee,oe,ie,ge,Ee,oe,V,K,null,null,ze):(J(j.ec,j.fc,ee,ae,ve,Ne,ke,_e,ie,ge,Ee,oe,V,K-F.A,V,K,ze),++O);Ie+2<Re;Ie+=2)ve=ie,Ne=ge,ke=Ee,_e=oe,ge+=g.Rc,oe+=g.Rc,K+=2*F.A,J(ee,(ae+=2*g.fa)-g.fa,ee,ae,ve,Ne,ke,_e,ie,ge,Ee,oe,V,K-F.A,V,K,ze);return ae+=g.fa,g.j+Re<g.o?(n(j.ec,j.fc,ee,ae,ze),n(j.cc,j.dc,ie,ge,$e),n(j.Mc,j.Nc,Ee,oe,$e),O--):1&Re||J(ee,ae,null,null,ie,ge,Ee,oe,ie,ge,Ee,oe,V,K+F.A,null,null,ze),O}function Jt(g,j,O){var F=g.F,V=[g.J];if(F!=null){var K=g.U,J=j.ba.S,ee=J==o0||J==l0;j=j.ba.f.RGBA;var ae=[0],ie=g.ka;ae[0]=g.T,g.Kb&&(ie==0?--ae[0]:(--ie,V[0]-=g.width),g.j+g.ka+g.T==g.o&&(ae[0]=g.o-g.j-ie));var ge=j.eb;ie=j.fb+ie*j.A,g=_S(F,V[0],g.width,K,ae,ge,ie+(ee?0:3),j.A),t(O==ae),g&&mt(J)&&lh(ge,ie,ee,K,ae,j.A)}return 0}function cn(g){var j=g.ma,O=j.ba.S,F=11>O,V=O==s0||O==i0||O==o0||O==t1||O==12||mt(O);if(j.memory=null,j.Ib=null,j.Jb=null,j.Nd=null,!eh(j.Oa,g,V?11:12))return 0;if(V&&mt(O)&&Jf(),g.da)alert("todo:use_scaling");else{if(F){if(j.Ib=Se,g.Kb){if(O=g.U+1>>1,j.memory=i(g.U+2*O),j.memory==null)return 0;j.ec=j.memory,j.fc=0,j.cc=j.ec,j.dc=j.fc+g.U,j.Mc=j.cc,j.Nc=j.dc+O,j.Ib=Ke,Jf()}}else alert("todo:EmitYUV");V&&(j.Jb=Jt,F&&Gs())}if(F&&!zS){for(g=0;256>g;++g)VM[g]=89858*(g-128)+u0>>c0,YM[g]=-22014*(g-128)+u0,GM[g]=-45773*(g-128),WM[g]=113618*(g-128)+u0>>c0;for(g=uh;g<o1;++g)j=76283*(g-16)+u0>>c0,KM[g-uh]=wi(j,255),XM[g-uh]=wi(j+8>>4,15);zS=1}return 1}function dt(g){var j=g.ma,O=g.U,F=g.T;return t(!(1&g.ka)),0>=O||0>=F?0:(O=j.Ib(g,j),j.Jb!=null&&j.Jb(g,j,O),j.Dc+=O,1)}function Ia(g){g.ma.memory=null}function La(g,j,O,F){return de(g,8)!=47?0:(j[0]=de(g,14)+1,O[0]=de(g,14)+1,F[0]=de(g,1),de(g,3)!=0?0:!g.h)}function pa(g,j){if(4>g)return g+1;var O=g-2>>1;return(2+(1&g)<<O)+de(j,O)+1}function ga(g,j){return 120<j?j-120:1<=(O=((O=kM[j-1])>>4)*g+(8-(15&O)))?O:1;var O}function Sr(g,j,O){var F=te(O),V=g[j+=255&F].g-8;return 0<V&&(q(O,O.u+8),F=te(O),j+=g[j].value,j+=F&(1<<V)-1),q(O,O.u+g[j].g),g[j].value}function Cn(g,j,O){return O.g+=g.g,O.value+=g.value<<j>>>0,t(8>=O.g),g.g}function Un(g,j,O){var F=g.xc;return t((j=F==0?0:g.vc[g.md*(O>>F)+(j>>F)])<g.Wb),g.Ya[j]}function nc(g,j,O,F){var V=g.ab,K=g.c*j,J=g.C;j=J+j;var ee=O,ae=F;for(F=g.Ta,O=g.Ua;0<V--;){var ie=g.gc[V],ge=J,Ee=j,oe=ee,ve=ae,Ne=(ae=F,ee=O,ie.Ea);switch(t(ge<Ee),t(Ee<=ie.nc),ie.hc){case 2:Kr(oe,ve,(Ee-ge)*Ne,ae,ee);break;case 0:var ke=ge,_e=Ee,Ie=ae,Re=ee,ze=(nt=ie).Ea;ke==0&&(rh(oe,ve,null,null,1,Ie,Re),$t(oe,ve+1,0,0,ze-1,Ie,Re+1),ve+=ze,Re+=ze,++ke);for(var $e=1<<nt.b,lt=$e-1,et=je(ze,nt.b),Lt=nt.K,nt=nt.w+(ke>>nt.b)*et;ke<_e;){var qt=Lt,vn=nt,Rt=1;for(Du(oe,ve,Ie,Re-ze,1,Ie,Re);Rt<ze;){var at=(Rt&~lt)+$e;at>ze&&(at=ze),(0,ah[qt[vn++]>>8&15])(oe,ve+ +Rt,Ie,Re+Rt-ze,at-Rt,Ie,Re+Rt),Rt=at}ve+=ze,Re+=ze,++ke&lt||(nt+=et)}Ee!=ie.nc&&n(ae,ee-Ne,ae,ee+(Ee-ge-1)*Ne,Ne);break;case 1:for(Ne=oe,_e=ve,ze=(oe=ie.Ea)-(Re=oe&~(Ie=(ve=1<<ie.b)-1)),ke=je(oe,ie.b),$e=ie.K,ie=ie.w+(ge>>ie.b)*ke;ge<Ee;){for(lt=$e,et=ie,Lt=new Ge,nt=_e+Re,qt=_e+oe;_e<nt;)Be(lt[et++],Lt),sh(Lt,Ne,_e,ve,ae,ee),_e+=ve,ee+=ve;_e<qt&&(Be(lt[et++],Lt),sh(Lt,Ne,_e,ze,ae,ee),_e+=ze,ee+=ze),++ge&Ie||(ie+=ke)}break;case 3:if(oe==ae&&ve==ee&&0<ie.b){for(_e=ae,oe=Ne=ee+(Ee-ge)*Ne-(Re=(Ee-ge)*je(ie.Ea,ie.b)),ve=ae,Ie=ee,ke=[],Re=(ze=Re)-1;0<=Re;--Re)ke[Re]=ve[Ie+Re];for(Re=ze-1;0<=Re;--Re)_e[oe+Re]=ke[Re];t0(ie,ge,Ee,ae,Ne,ae,ee)}else t0(ie,ge,Ee,oe,ve,ae,ee)}ee=F,ae=O}ae!=O&&n(F,O,ee,ae,K)}function Jo(g,j){var O=g.V,F=g.Ba+g.c*g.C,V=j-g.C;if(t(j<=g.l.o),t(16>=V),0<V){var K=g.l,J=g.Ta,ee=g.Ua,ae=K.width;if(nc(g,V,O,F),V=ee=[ee],t((O=g.C)<(F=j)),t(K.v<K.va),F>K.o&&(F=K.o),O<K.j){var ie=K.j-O;O=K.j,V[0]+=ie*ae}if(O>=F?O=0:(V[0]+=4*K.v,K.ka=O-K.j,K.U=K.va-K.v,K.T=F-O,O=1),O){if(ee=ee[0],11>(O=g.ca).S){var ge=O.f.RGBA,Ee=(F=O.S,V=K.U,K=K.T,ie=ge.eb,ge.A),oe=K;for(ge=ge.fb+g.Ma*ge.A;0<oe--;){var ve=J,Ne=ee,ke=V,_e=ie,Ie=ge;switch(F){case a0:ih(ve,Ne,ke,_e,Ie);break;case s0:nl(ve,Ne,ke,_e,Ie);break;case r1:nl(ve,Ne,ke,_e,Ie),lh(_e,Ie,0,ke,1,0);break;case IS:xc(ve,Ne,ke,_e,Ie);break;case i0:ft(ve,Ne,ke,_e,Ie,1);break;case n1:ft(ve,Ne,ke,_e,Ie,1),lh(_e,Ie,0,ke,1,0);break;case o0:ft(ve,Ne,ke,_e,Ie,0);break;case l0:ft(ve,Ne,ke,_e,Ie,0),lh(_e,Ie,1,ke,1,0);break;case t1:al(ve,Ne,ke,_e,Ie);break;case a1:al(ve,Ne,ke,_e,Ie),AS(_e,Ie,ke,1,0);break;case LS:sl(ve,Ne,ke,_e,Ie);break;default:t(0)}ee+=ae,ge+=Ee}g.Ma+=K}else alert("todo:EmitRescaledRowsYUVA");t(g.Ma<=O.height)}}g.C=j,t(g.C<=g.i)}function qs(g){var j;if(0<g.ua)return 0;for(j=0;j<g.Wb;++j){var O=g.Ya[j].G,F=g.Ya[j].H;if(0<O[1][F[1]+0].g||0<O[2][F[2]+0].g||0<O[3][F[3]+0].g)return 0}return 1}function vi(g,j,O,F,V,K){if(g.Z!=0){var J=g.qd,ee=g.rd;for(t(ll[g.Z]!=null);j<O;++j)ll[g.Z](J,ee,F,V,F,V,K),J=F,ee=V,V+=K;g.qd=J,g.rd=ee}}function Hs(g,j){var O=g.l.ma,F=O.Z==0||O.Z==1?g.l.j:g.C;if(F=g.C<F?F:g.C,t(j<=g.l.o),j>F){var V=g.l.width,K=O.ca,J=O.tb+V*F,ee=g.V,ae=g.Ba+g.c*F,ie=g.gc;t(g.ab==1),t(ie[0].hc==3),Ai(ie[0],F,j,ee,ae,K,J),vi(O,F,j,K,J,V)}g.C=g.Ma=j}function Vs(g,j,O,F,V,K,J){var ee=g.$/F,ae=g.$%F,ie=g.m,ge=g.s,Ee=O+g.$,oe=Ee;V=O+F*V;var ve=O+F*K,Ne=280+ge.ua,ke=g.Pb?ee:16777216,_e=0<ge.ua?ge.Wa:null,Ie=ge.wc,Re=Ee<ve?Un(ge,ae,ee):null;t(g.C<K),t(ve<=V);var ze=!1;e:for(;;){for(;ze||Ee<ve;){var $e=0;if(ee>=ke){var lt=Ee-O;t((ke=g).Pb),ke.wd=ke.m,ke.xd=lt,0<ke.s.ua&&Ce(ke.s.Wa,ke.s.vb),ke=ee+IM}if(ae&Ie||(Re=Un(ge,ae,ee)),t(Re!=null),Re.Qb&&(j[Ee]=Re.qb,ze=!0),!ze)if(X(ie),Re.jc){$e=ie,lt=j;var et=Ee,Lt=Re.pd[te($e)&gc-1];t(Re.jc),256>Lt.g?(q($e,$e.u+Lt.g),lt[et]=Lt.value,$e=0):(q($e,$e.u+Lt.g-256),t(256<=Lt.value),$e=Lt.value),$e==0&&(ze=!0)}else $e=Sr(Re.G[0],Re.H[0],ie);if(ie.h)break;if(ze||256>$e){if(!ze)if(Re.nd)j[Ee]=(Re.qb|$e<<8)>>>0;else{if(X(ie),ze=Sr(Re.G[1],Re.H[1],ie),X(ie),lt=Sr(Re.G[2],Re.H[2],ie),et=Sr(Re.G[3],Re.H[3],ie),ie.h)break;j[Ee]=(et<<24|ze<<16|$e<<8|lt)>>>0}if(ze=!1,++Ee,++ae>=F&&(ae=0,++ee,J!=null&&ee<=K&&!(ee%16)&&J(g,ee),_e!=null))for(;oe<Ee;)$e=j[oe++],_e.X[(506832829*$e&4294967295)>>>_e.Mb]=$e}else if(280>$e){if($e=pa($e-256,ie),lt=Sr(Re.G[4],Re.H[4],ie),X(ie),lt=ga(F,lt=pa(lt,ie)),ie.h)break;if(Ee-O<lt||V-Ee<$e)break e;for(et=0;et<$e;++et)j[Ee+et]=j[Ee+et-lt];for(Ee+=$e,ae+=$e;ae>=F;)ae-=F,++ee,J!=null&&ee<=K&&!(ee%16)&&J(g,ee);if(t(Ee<=V),ae&Ie&&(Re=Un(ge,ae,ee)),_e!=null)for(;oe<Ee;)$e=j[oe++],_e.X[(506832829*$e&4294967295)>>>_e.Mb]=$e}else{if(!($e<Ne))break e;for(ze=$e-280,t(_e!=null);oe<Ee;)$e=j[oe++],_e.X[(506832829*$e&4294967295)>>>_e.Mb]=$e;$e=Ee,t(!(ze>>>(lt=_e).Xa)),j[$e]=lt.X[ze],ze=!0}ze||t(ie.h==ue(ie))}if(g.Pb&&ie.h&&Ee<V)t(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Ce(g.s.vb,g.s.Wa);else{if(ie.h)break e;J!=null&&J(g,ee>K?K:ee),g.a=0,g.$=Ee-O}return 1}return g.a=3,0}function bs(g){t(g!=null),g.vc=null,g.yc=null,g.Ya=null;var j=g.Wa;j!=null&&(j.X=null),g.vb=null,t(g!=null)}function ac(){var g=new Nt;return g==null?null:(g.a=0,g.xb=DS,cr("Predictor","VP8LPredictors"),cr("Predictor","VP8LPredictors_C"),cr("PredictorAdd","VP8LPredictorsAdd"),cr("PredictorAdd","VP8LPredictorsAdd_C"),Kr=ye,sh=Je,ih=Pt,nl=Ft,al=At,sl=Ot,xc=gr,P.VP8LMapColor32b=Si,P.VP8LMapColor8b=nh,g)}function bi(g,j,O,F,V){var K=1,J=[g],ee=[j],ae=F.m,ie=F.s,ge=null,Ee=0;e:for(;;){if(O)for(;K&&de(ae,1);){var oe=J,ve=ee,Ne=F,ke=1,_e=Ne.m,Ie=Ne.gc[Ne.ab],Re=de(_e,2);if(Ne.Oc&1<<Re)K=0;else{switch(Ne.Oc|=1<<Re,Ie.hc=Re,Ie.Ea=oe[0],Ie.nc=ve[0],Ie.K=[null],++Ne.ab,t(4>=Ne.ab),Re){case 0:case 1:Ie.b=de(_e,3)+2,ke=bi(je(Ie.Ea,Ie.b),je(Ie.nc,Ie.b),0,Ne,Ie.K),Ie.K=Ie.K[0];break;case 3:var ze,$e=de(_e,8)+1,lt=16<$e?0:4<$e?1:2<$e?2:3;if(oe[0]=je(Ie.Ea,lt),Ie.b=lt,ze=ke=bi($e,1,0,Ne,Ie.K)){var et,Lt=$e,nt=Ie,qt=1<<(8>>nt.b),vn=i(qt);if(vn==null)ze=0;else{var Rt=nt.K[0],at=nt.w;for(vn[0]=nt.K[0][0],et=1;et<1*Lt;++et)vn[et]=Me(Rt[at+et],vn[et-1]);for(;et<4*qt;++et)vn[et]=0;nt.K[0]=null,nt.K[0]=vn,ze=1}}ke=ze;break;case 2:break;default:t(0)}K=ke}}if(J=J[0],ee=ee[0],K&&de(ae,1)&&!(K=1<=(Ee=de(ae,4))&&11>=Ee)){F.a=3;break e}var Ye;if(Ye=K)t:{var Jr,Ct,Ht,Ar=F,Hn=J,ya=ee,qr=Ee,ea=O,va=Ar.m,bn=Ar.s,Kt=[null],nr=1,Hr=0,ar=OM[qr];r:for(;;){if(ea&&de(va,1)){var Vn=de(va,3)+2,Ks=je(Hn,Vn),Zr=je(ya,Vn),Ra=Ks*Zr;if(!bi(Ks,Zr,0,Ar,Kt))break r;for(Kt=Kt[0],bn.xc=Vn,Jr=0;Jr<Ra;++Jr){var hr=Kt[Jr]>>8&65535;Kt[Jr]=hr,hr>=nr&&(nr=hr+1)}}if(va.h)break r;for(Ct=0;5>Ct;++Ct){var wn=RS[Ct];!Ct&&0<qr&&(wn+=1<<qr),Hr<wn&&(Hr=wn)}var es=o(nr*ar,$),ba=nr,ts=o(ba,M);if(ts==null)var rs=null;else t(65536>=ba),rs=ts;var Ma=i(Hr);if(rs==null||Ma==null||es==null){Ar.a=1;break r}var ns=es;for(Jr=Ht=0;Jr<nr;++Jr){var vr=rs[Jr],as=vr.G,Xs=vr.H,vc=0,co=1,Wn=0;for(Ct=0;5>Ct;++Ct){wn=RS[Ct],as[Ct]=ns,Xs[Ct]=Ht,!Ct&&0<qr&&(wn+=1<<qr);a:{var f0,l1=wn,h0=Ar,dh=Ma,QM=ns,e7=Ht,c1=0,cl=h0.m,t7=de(cl,1);if(s(dh,0,0,l1),t7){var r7=de(cl,1)+1,n7=de(cl,1),VS=de(cl,n7==0?1:8);dh[VS]=1,r7==2&&(dh[VS=de(cl,8)]=1);var m0=1}else{var WS=i(19),GS=de(cl,4)+4;if(19<GS){h0.a=3;var p0=0;break a}for(f0=0;f0<GS;++f0)WS[TM[f0]]=de(cl,3);var u1=void 0,fh=void 0,YS=h0,a7=WS,g0=l1,KS=dh,d1=0,ul=YS.m,XS=8,JS=o(128,$);n:for(;I(JS,0,7,a7,19);){if(de(ul,1)){var s7=2+2*de(ul,3);if((u1=2+de(ul,s7))>g0)break n}else u1=g0;for(fh=0;fh<g0&&u1--;){X(ul);var ZS=JS[0+(127&te(ul))];q(ul,ul.u+ZS.g);var Fu=ZS.value;if(16>Fu)KS[fh++]=Fu,Fu!=0&&(XS=Fu);else{var i7=Fu==16,QS=Fu-16,o7=PM[QS],eA=de(ul,EM[QS])+o7;if(fh+eA>g0)break n;for(var l7=i7?XS:0;0<eA--;)KS[fh++]=l7}}d1=1;break n}d1||(YS.a=3),m0=d1}(m0=m0&&!cl.h)&&(c1=I(QM,e7,8,dh,l1)),m0&&c1!=0?p0=c1:(h0.a=3,p0=0)}if(p0==0)break r;if(co&&CM[Ct]==1&&(co=ns[Ht].g==0),vc+=ns[Ht].g,Ht+=p0,3>=Ct){var hh,f1=Ma[0];for(hh=1;hh<wn;++hh)Ma[hh]>f1&&(f1=Ma[hh]);Wn+=f1}}if(vr.nd=co,vr.Qb=0,co&&(vr.qb=(as[3][Xs[3]+0].value<<24|as[1][Xs[1]+0].value<<16|as[2][Xs[2]+0].value)>>>0,vc==0&&256>as[0][Xs[0]+0].value&&(vr.Qb=1,vr.qb+=as[0][Xs[0]+0].value<<8)),vr.jc=!vr.Qb&&6>Wn,vr.jc){var x0,uo=vr;for(x0=0;x0<gc;++x0){var dl=x0,fl=uo.pd[dl],y0=uo.G[0][uo.H[0]+dl];256<=y0.value?(fl.g=y0.g+256,fl.value=y0.value):(fl.g=0,fl.value=0,dl>>=Cn(y0,8,fl),dl>>=Cn(uo.G[1][uo.H[1]+dl],16,fl),dl>>=Cn(uo.G[2][uo.H[2]+dl],0,fl),Cn(uo.G[3][uo.H[3]+dl],24,fl))}}}bn.vc=Kt,bn.Wb=nr,bn.Ya=rs,bn.yc=es,Ye=1;break t}Ye=0}if(!(K=Ye)){F.a=3;break e}if(0<Ee){if(ie.ua=1<<Ee,!Y(ie.Wa,Ee)){F.a=1,K=0;break e}}else ie.ua=0;var h1=F,tA=J,c7=ee,m1=h1.s,p1=m1.xc;if(h1.c=tA,h1.i=c7,m1.md=je(tA,p1),m1.wc=p1==0?-1:(1<<p1)-1,O){F.xb=BM;break e}if((ge=i(J*ee))==null){F.a=1,K=0;break e}K=(K=Vs(F,ge,0,J,ee,ee,null))&&!ae.h;break e}return K?(V!=null?V[0]=ge:(t(ge==null),t(O)),F.$=0,O||bs(ie)):bs(ie),K}function sc(g,j){var O=g.c*g.i,F=O+j+16*j;return t(g.c<=j),g.V=i(F),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+O+j,1)}function Eu(g,j){var O=g.C,F=j-O,V=g.V,K=g.Ba+g.c*O;for(t(j<=g.l.o);0<F;){var J=16<F?16:F,ee=g.l.ma,ae=g.l.width,ie=ae*J,ge=ee.ca,Ee=ee.tb+ae*O,oe=g.Ta,ve=g.Ua;nc(g,J,V,K),ES(oe,ve,ge,Ee,ie),vi(ee,O,O+J,ge,Ee,ae),F-=J,V+=J*g.c,O+=J}t(O==j),g.C=g.Ma=j}function Pu(){this.ub=this.yd=this.td=this.Rb=0}function Cu(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function $v(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Bf(){this.Yb=function(){var g=[];return function j(O,F,V){for(var K=V[F],J=0;J<K&&(O.push(V.length>F+1?[]:0),!(V.length<F+1));J++)j(O[J],F+1,V)}(g,0,[3,11]),g}()}function Dp(){this.jb=i(3),this.Wc=l([4,8],Bf),this.Xc=l([4,17],Bf)}function $p(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function ws(){this.ld=this.La=this.dd=this.tc=0}function Uf(){this.Na=this.la=0}function Fp(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function zf(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Bp(){this.uc=this.M=this.Nb=0,this.wa=Array(new ws),this.Y=0,this.ya=Array(new zf),this.aa=0,this.l=new Tu}function Up(){this.y=i(16),this.f=i(8),this.ea=i(8)}function zp(){this.cb=this.a=0,this.sc="",this.m=new B,this.Od=new Pu,this.Kc=new Cu,this.ed=new $p,this.Qa=new $v,this.Ic=this.$c=this.Aa=0,this.D=new Bp,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,B),this.ia=0,this.pb=o(4,Fp),this.Pa=new Dp,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Up),this.Hd=0,this.rb=Array(new Uf),this.sb=0,this.wa=Array(new ws),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new zf),this.L=this.aa=0,this.gd=l([4,2],ws),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function wi(g,j){return 0>g?0:g>j?j:g}function Tu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Fv(){var g=new zp;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,ch||(ch=ku)),g}function un(g,j,O){return g.a==0&&(g.a=j,g.sc=O,g.cb=0),0}function qp(g,j,O){return 3<=O&&g[j+0]==157&&g[j+1]==1&&g[j+2]==42}function Ni(g,j){if(g==null)return 0;if(g.a=0,g.sc="OK",j==null)return un(g,2,"null VP8Io passed to VP8GetHeaders()");var O=j.data,F=j.w,V=j.ha;if(4>V)return un(g,7,"Truncated header.");var K=O[F+0]|O[F+1]<<8|O[F+2]<<16,J=g.Od;if(J.Rb=!(1&K),J.td=K>>1&7,J.yd=K>>4&1,J.ub=K>>5,3<J.td)return un(g,3,"Incorrect keyframe parameters.");if(!J.yd)return un(g,4,"Frame not displayable.");F+=3,V-=3;var ee=g.Kc;if(J.Rb){if(7>V)return un(g,7,"cannot parse picture header");if(!qp(O,F,V))return un(g,3,"Bad code word");ee.c=16383&(O[F+4]<<8|O[F+3]),ee.Td=O[F+4]>>6,ee.i=16383&(O[F+6]<<8|O[F+5]),ee.Ud=O[F+6]>>6,F+=7,V-=7,g.za=ee.c+15>>4,g.Ub=ee.i+15>>4,j.width=ee.c,j.height=ee.i,j.Da=0,j.j=0,j.v=0,j.va=j.width,j.o=j.height,j.da=0,j.ib=j.width,j.hb=j.height,j.U=j.width,j.T=j.height,s((K=g.Pa).jb,0,255,K.jb.length),t((K=g.Qa)!=null),K.Cb=0,K.Bb=0,K.Fb=1,s(K.Zb,0,0,K.Zb.length),s(K.Lb,0,0,K.Lb)}if(J.ub>V)return un(g,7,"bad partition length");z(K=g.m,O,F,J.ub),F+=J.ub,V-=J.ub,J.Rb&&(ee.Ld=ne(K),ee.Kd=ne(K)),ee=g.Qa;var ae,ie=g.Pa;if(t(K!=null),t(ee!=null),ee.Cb=ne(K),ee.Cb){if(ee.Bb=ne(K),ne(K)){for(ee.Fb=ne(K),ae=0;4>ae;++ae)ee.Zb[ae]=ne(K)?R(K,7):0;for(ae=0;4>ae;++ae)ee.Lb[ae]=ne(K)?R(K,6):0}if(ee.Bb)for(ae=0;3>ae;++ae)ie.jb[ae]=ne(K)?Z(K,8):255}else ee.Bb=0;if(K.Ka)return un(g,3,"cannot parse segment header");if((ee=g.ed).zd=ne(K),ee.Tb=Z(K,6),ee.wb=Z(K,3),ee.Pc=ne(K),ee.Pc&&ne(K)){for(ie=0;4>ie;++ie)ne(K)&&(ee.vd[ie]=R(K,6));for(ie=0;4>ie;++ie)ne(K)&&(ee.od[ie]=R(K,6))}if(g.L=ee.Tb==0?0:ee.zd?1:2,K.Ka)return un(g,3,"cannot parse filter header");var ge=V;if(V=ae=F,F=ae+ge,ee=ge,g.Xb=(1<<Z(g.m,2))-1,ge<3*(ie=g.Xb))O=7;else{for(ae+=3*ie,ee-=3*ie,ge=0;ge<ie;++ge){var Ee=O[V+0]|O[V+1]<<8|O[V+2]<<16;Ee>ee&&(Ee=ee),z(g.Jc[+ge],O,ae,Ee),ae+=Ee,ee-=Ee,V+=3}z(g.Jc[+ie],O,ae,ee),O=ae<F?0:5}if(O!=0)return un(g,O,"cannot parse partitions");for(O=Z(ae=g.m,7),V=ne(ae)?R(ae,4):0,F=ne(ae)?R(ae,4):0,ee=ne(ae)?R(ae,4):0,ie=ne(ae)?R(ae,4):0,ae=ne(ae)?R(ae,4):0,ge=g.Qa,Ee=0;4>Ee;++Ee){if(ge.Cb){var oe=ge.Zb[Ee];ge.Fb||(oe+=O)}else{if(0<Ee){g.pb[Ee]=g.pb[0];continue}oe=O}var ve=g.pb[Ee];ve.Sc[0]=s1[wi(oe+V,127)],ve.Sc[1]=i1[wi(oe+0,127)],ve.Eb[0]=2*s1[wi(oe+F,127)],ve.Eb[1]=101581*i1[wi(oe+ee,127)]>>16,8>ve.Eb[1]&&(ve.Eb[1]=8),ve.Qc[0]=s1[wi(oe+ie,117)],ve.Qc[1]=i1[wi(oe+ae,127)],ve.lc=oe+ae}if(!J.Rb)return un(g,4,"Not a key frame.");for(ne(K),J=g.Pa,O=0;4>O;++O){for(V=0;8>V;++V)for(F=0;3>F;++F)for(ee=0;11>ee;++ee)ie=pe(K,$M[O][V][F][ee])?Z(K,8):MM[O][V][F][ee],J.Wc[O][V].Yb[F][ee]=ie;for(V=0;17>V;++V)J.Xc[O][V]=J.Wc[O][FM[V]]}return g.kc=ne(K),g.kc&&(g.Bd=Z(K,8)),g.cb=1}function ku(g,j,O,F,V,K,J){var ee=j[V].Yb[O];for(O=0;16>V;++V){if(!pe(g,ee[O+0]))return V;for(;!pe(g,ee[O+1]);)if(ee=j[++V].Yb[0],O=0,V==16)return 16;var ae=j[V+1].Yb;if(pe(g,ee[O+2])){var ie=g,ge=0;if(pe(ie,(oe=ee)[(Ee=O)+3]))if(pe(ie,oe[Ee+6])){for(ee=0,Ee=2*(ge=pe(ie,oe[Ee+8]))+(oe=pe(ie,oe[Ee+9+ge])),ge=0,oe=LM[Ee];oe[ee];++ee)ge+=ge+pe(ie,oe[ee]);ge+=3+(8<<Ee)}else pe(ie,oe[Ee+7])?(ge=7+2*pe(ie,165),ge+=pe(ie,145)):ge=5+pe(ie,159);else ge=pe(ie,oe[Ee+4])?3+pe(ie,oe[Ee+5]):2;ee=ae[2]}else ge=1,ee=ae[1];ae=J+RM[V],0>(ie=g).b&&Q(ie);var Ee,oe=ie.b,ve=(Ee=ie.Ca>>1)-(ie.I>>oe)>>31;--ie.b,ie.Ca+=ve,ie.Ca|=1,ie.I-=(Ee+1&ve)<<oe,K[ae]=((ge^ve)-ve)*F[(0<V)+0]}return 16}function Hp(g){var j=g.rb[g.sb-1];j.la=0,j.Na=0,s(g.zc,0,0,g.zc.length),g.ja=0}function Ns(g,j,O,F,V){V=g[j+O+32*F]+(V>>3),g[j+O+32*F]=-256&V?0>V?0:255:V}function gn(g,j,O,F,V,K){Ns(g,j,0,O,F+V),Ns(g,j,1,O,F+K),Ns(g,j,2,O,F-K),Ns(g,j,3,O,F-V)}function Xi(g){return(20091*g>>16)+g}function Vp(g,j,O,F){var V,K=0,J=i(16);for(V=0;4>V;++V){var ee=g[j+0]+g[j+8],ae=g[j+0]-g[j+8],ie=(35468*g[j+4]>>16)-Xi(g[j+12]),ge=Xi(g[j+4])+(35468*g[j+12]>>16);J[K+0]=ee+ge,J[K+1]=ae+ie,J[K+2]=ae-ie,J[K+3]=ee-ge,K+=4,j++}for(V=K=0;4>V;++V)ee=(g=J[K+0]+4)+J[K+8],ae=g-J[K+8],ie=(35468*J[K+4]>>16)-Xi(J[K+12]),Ns(O,F,0,0,ee+(ge=Xi(J[K+4])+(35468*J[K+12]>>16))),Ns(O,F,1,0,ae+ie),Ns(O,F,2,0,ae-ie),Ns(O,F,3,0,ee-ge),K++,F+=32}function Bv(g,j,O,F){var V=g[j+0]+4,K=35468*g[j+4]>>16,J=Xi(g[j+4]),ee=35468*g[j+1]>>16;gn(O,F,0,V+J,g=Xi(g[j+1]),ee),gn(O,F,1,V+K,g,ee),gn(O,F,2,V-K,g,ee),gn(O,F,3,V-J,g,ee)}function Uv(g,j,O,F,V){Vp(g,j,O,F),V&&Vp(g,j+16,O,F+4)}function ji(g,j,O,F){yc(g,j+0,O,F,1),yc(g,j+32,O,F+128,1)}function Wp(g,j,O,F){var V;for(g=g[j+0]+4,V=0;4>V;++V)for(j=0;4>j;++j)Ns(O,F,j,V,g)}function Gp(g,j,O,F){g[j+0]&&er(g,j+0,O,F),g[j+16]&&er(g,j+16,O,F+4),g[j+32]&&er(g,j+32,O,F+128),g[j+48]&&er(g,j+48,O,F+128+4)}function Ou(g,j,O,F){var V,K=i(16);for(V=0;4>V;++V){var J=g[j+0+V]+g[j+12+V],ee=g[j+4+V]+g[j+8+V],ae=g[j+4+V]-g[j+8+V],ie=g[j+0+V]-g[j+12+V];K[0+V]=J+ee,K[8+V]=J-ee,K[4+V]=ie+ae,K[12+V]=ie-ae}for(V=0;4>V;++V)J=(g=K[0+4*V]+3)+K[3+4*V],ee=K[1+4*V]+K[2+4*V],ae=K[1+4*V]-K[2+4*V],ie=g-K[3+4*V],O[F+0]=J+ee>>3,O[F+16]=ie+ae>>3,O[F+32]=J-ee>>3,O[F+48]=ie-ae>>3,F+=64}function ic(g,j,O){var F,V=j-32,K=Qa,J=255-g[V-1];for(F=0;F<O;++F){var ee,ae=K,ie=J+g[j-1];for(ee=0;ee<O;++ee)g[j+ee]=ae[ie+g[V+ee]];j+=32}}function zv(g,j){ic(g,j,4)}function qv(g,j){ic(g,j,8)}function Hv(g,j){ic(g,j,16)}function qf(g,j){var O;for(O=0;16>O;++O)n(g,j+32*O,g,j-32,16)}function Yp(g,j){var O;for(O=16;0<O;--O)s(g,j,g[j-1],16),j+=32}function Ws(g,j,O){var F;for(F=0;16>F;++F)s(j,O+32*F,g,16)}function Vv(g,j){var O,F=16;for(O=0;16>O;++O)F+=g[j-1+32*O]+g[j+O-32];Ws(F>>5,g,j)}function oc(g,j){var O,F=8;for(O=0;16>O;++O)F+=g[j-1+32*O];Ws(F>>4,g,j)}function Hf(g,j){var O,F=8;for(O=0;16>O;++O)F+=g[j+O-32];Ws(F>>4,g,j)}function Wv(g,j){Ws(128,g,j)}function St(g,j,O){return g+2*j+O+2>>2}function Gv(g,j){var O,F=j-32;for(F=new Uint8Array([St(g[F-1],g[F+0],g[F+1]),St(g[F+0],g[F+1],g[F+2]),St(g[F+1],g[F+2],g[F+3]),St(g[F+2],g[F+3],g[F+4])]),O=0;4>O;++O)n(g,j+32*O,F,0,F.length)}function Yv(g,j){var O=g[j-1],F=g[j-1+32],V=g[j-1+64],K=g[j-1+96];se(g,j+0,16843009*St(g[j-1-32],O,F)),se(g,j+32,16843009*St(O,F,V)),se(g,j+64,16843009*St(F,V,K)),se(g,j+96,16843009*St(V,K,K))}function Kv(g,j){var O,F=4;for(O=0;4>O;++O)F+=g[j+O-32]+g[j-1+32*O];for(F>>=3,O=0;4>O;++O)s(g,j+32*O,F,4)}function Ji(g,j){var O=g[j-1+0],F=g[j-1+32],V=g[j-1+64],K=g[j-1-32],J=g[j+0-32],ee=g[j+1-32],ae=g[j+2-32],ie=g[j+3-32];g[j+0+96]=St(F,V,g[j-1+96]),g[j+1+96]=g[j+0+64]=St(O,F,V),g[j+2+96]=g[j+1+64]=g[j+0+32]=St(K,O,F),g[j+3+96]=g[j+2+64]=g[j+1+32]=g[j+0+0]=St(J,K,O),g[j+3+64]=g[j+2+32]=g[j+1+0]=St(ee,J,K),g[j+3+32]=g[j+2+0]=St(ae,ee,J),g[j+3+0]=St(ie,ae,ee)}function Zi(g,j){var O=g[j+1-32],F=g[j+2-32],V=g[j+3-32],K=g[j+4-32],J=g[j+5-32],ee=g[j+6-32],ae=g[j+7-32];g[j+0+0]=St(g[j+0-32],O,F),g[j+1+0]=g[j+0+32]=St(O,F,V),g[j+2+0]=g[j+1+32]=g[j+0+64]=St(F,V,K),g[j+3+0]=g[j+2+32]=g[j+1+64]=g[j+0+96]=St(V,K,J),g[j+3+32]=g[j+2+64]=g[j+1+96]=St(K,J,ee),g[j+3+64]=g[j+2+96]=St(J,ee,ae),g[j+3+96]=St(ee,ae,ae)}function Xv(g,j){var O=g[j-1+0],F=g[j-1+32],V=g[j-1+64],K=g[j-1-32],J=g[j+0-32],ee=g[j+1-32],ae=g[j+2-32],ie=g[j+3-32];g[j+0+0]=g[j+1+64]=K+J+1>>1,g[j+1+0]=g[j+2+64]=J+ee+1>>1,g[j+2+0]=g[j+3+64]=ee+ae+1>>1,g[j+3+0]=ae+ie+1>>1,g[j+0+96]=St(V,F,O),g[j+0+64]=St(F,O,K),g[j+0+32]=g[j+1+96]=St(O,K,J),g[j+1+32]=g[j+2+96]=St(K,J,ee),g[j+2+32]=g[j+3+96]=St(J,ee,ae),g[j+3+32]=St(ee,ae,ie)}function Jv(g,j){var O=g[j+0-32],F=g[j+1-32],V=g[j+2-32],K=g[j+3-32],J=g[j+4-32],ee=g[j+5-32],ae=g[j+6-32],ie=g[j+7-32];g[j+0+0]=O+F+1>>1,g[j+1+0]=g[j+0+64]=F+V+1>>1,g[j+2+0]=g[j+1+64]=V+K+1>>1,g[j+3+0]=g[j+2+64]=K+J+1>>1,g[j+0+32]=St(O,F,V),g[j+1+32]=g[j+0+96]=St(F,V,K),g[j+2+32]=g[j+1+96]=St(V,K,J),g[j+3+32]=g[j+2+96]=St(K,J,ee),g[j+3+64]=St(J,ee,ae),g[j+3+96]=St(ee,ae,ie)}function Iu(g,j){var O=g[j-1+0],F=g[j-1+32],V=g[j-1+64],K=g[j-1+96];g[j+0+0]=O+F+1>>1,g[j+2+0]=g[j+0+32]=F+V+1>>1,g[j+2+32]=g[j+0+64]=V+K+1>>1,g[j+1+0]=St(O,F,V),g[j+3+0]=g[j+1+32]=St(F,V,K),g[j+3+32]=g[j+1+64]=St(V,K,K),g[j+3+64]=g[j+2+64]=g[j+0+96]=g[j+1+96]=g[j+2+96]=g[j+3+96]=K}function Vf(g,j){var O=g[j-1+0],F=g[j-1+32],V=g[j-1+64],K=g[j-1+96],J=g[j-1-32],ee=g[j+0-32],ae=g[j+1-32],ie=g[j+2-32];g[j+0+0]=g[j+2+32]=O+J+1>>1,g[j+0+32]=g[j+2+64]=F+O+1>>1,g[j+0+64]=g[j+2+96]=V+F+1>>1,g[j+0+96]=K+V+1>>1,g[j+3+0]=St(ee,ae,ie),g[j+2+0]=St(J,ee,ae),g[j+1+0]=g[j+3+32]=St(O,J,ee),g[j+1+32]=g[j+3+64]=St(F,O,J),g[j+1+64]=g[j+3+96]=St(V,F,O),g[j+1+96]=St(K,V,F)}function lc(g,j){var O;for(O=0;8>O;++O)n(g,j+32*O,g,j-32,8)}function Zv(g,j){var O;for(O=0;8>O;++O)s(g,j,g[j-1],8),j+=32}function Qi(g,j,O){var F;for(F=0;8>F;++F)s(j,O+32*F,g,8)}function Qv(g,j){var O,F=8;for(O=0;8>O;++O)F+=g[j+O-32]+g[j-1+32*O];Qi(F>>4,g,j)}function Wf(g,j){var O,F=4;for(O=0;8>O;++O)F+=g[j+O-32];Qi(F>>3,g,j)}function Gf(g,j){var O,F=4;for(O=0;8>O;++O)F+=g[j-1+32*O];Qi(F>>3,g,j)}function Kp(g,j){Qi(128,g,j)}function eo(g,j,O){var F=g[j-O],V=g[j+0],K=3*(V-F)+e1[1020+g[j-2*O]-g[j+O]],J=n0[112+(K+4>>3)];g[j-O]=Qa[255+F+n0[112+(K+3>>3)]],g[j+0]=Qa[255+V-J]}function Yf(g,j,O,F){var V=g[j+0],K=g[j+O];return As[255+g[j-2*O]-g[j-O]]>F||As[255+K-V]>F}function Lu(g,j,O,F){return 4*As[255+g[j-O]-g[j+0]]+As[255+g[j-2*O]-g[j+O]]<=F}function Kf(g,j,O,F,V){var K=g[j-3*O],J=g[j-2*O],ee=g[j-O],ae=g[j+0],ie=g[j+O],ge=g[j+2*O],Ee=g[j+3*O];return 4*As[255+ee-ae]+As[255+J-ie]>F?0:As[255+g[j-4*O]-K]<=V&&As[255+K-J]<=V&&As[255+J-ee]<=V&&As[255+Ee-ge]<=V&&As[255+ge-ie]<=V&&As[255+ie-ae]<=V}function cc(g,j,O,F){var V=2*F+1;for(F=0;16>F;++F)Lu(g,j+F,O,V)&&eo(g,j+F,O)}function Xf(g,j,O,F){var V=2*F+1;for(F=0;16>F;++F)Lu(g,j+F*O,1,V)&&eo(g,j+F*O,1)}function Xp(g,j,O,F){var V;for(V=3;0<V;--V)cc(g,j+=4*O,O,F)}function Jp(g,j,O,F){var V;for(V=3;0<V;--V)Xf(g,j+=4,O,F)}function to(g,j,O,F,V,K,J,ee){for(K=2*K+1;0<V--;){if(Kf(g,j,O,K,J))if(Yf(g,j,O,ee))eo(g,j,O);else{var ae=g,ie=j,ge=O,Ee=ae[ie-2*ge],oe=ae[ie-ge],ve=ae[ie+0],Ne=ae[ie+ge],ke=ae[ie+2*ge],_e=27*(Re=e1[1020+3*(ve-oe)+e1[1020+Ee-Ne]])+63>>7,Ie=18*Re+63>>7,Re=9*Re+63>>7;ae[ie-3*ge]=Qa[255+ae[ie-3*ge]+Re],ae[ie-2*ge]=Qa[255+Ee+Ie],ae[ie-ge]=Qa[255+oe+_e],ae[ie+0]=Qa[255+ve-_e],ae[ie+ge]=Qa[255+Ne-Ie],ae[ie+2*ge]=Qa[255+ke-Re]}j+=F}}function ro(g,j,O,F,V,K,J,ee){for(K=2*K+1;0<V--;){if(Kf(g,j,O,K,J))if(Yf(g,j,O,ee))eo(g,j,O);else{var ae=g,ie=j,ge=O,Ee=ae[ie-ge],oe=ae[ie+0],ve=ae[ie+ge],Ne=n0[112+(4+(ke=3*(oe-Ee))>>3)],ke=n0[112+(ke+3>>3)],_e=Ne+1>>1;ae[ie-2*ge]=Qa[255+ae[ie-2*ge]+_e],ae[ie-ge]=Qa[255+Ee+ke],ae[ie+0]=Qa[255+oe-Ne],ae[ie+ge]=Qa[255+ve-_e]}j+=F}}function Zp(g,j,O,F,V,K){to(g,j,O,1,16,F,V,K)}function uc(g,j,O,F,V,K){to(g,j,1,O,16,F,V,K)}function Qp(g,j,O,F,V,K){var J;for(J=3;0<J;--J)ro(g,j+=4*O,O,1,16,F,V,K)}function C(g,j,O,F,V,K){var J;for(J=3;0<J;--J)ro(g,j+=4,1,O,16,F,V,K)}function H(g,j,O,F,V,K,J,ee){to(g,j,V,1,8,K,J,ee),to(O,F,V,1,8,K,J,ee)}function le(g,j,O,F,V,K,J,ee){to(g,j,1,V,8,K,J,ee),to(O,F,1,V,8,K,J,ee)}function he(g,j,O,F,V,K,J,ee){ro(g,j+4*V,V,1,8,K,J,ee),ro(O,F+4*V,V,1,8,K,J,ee)}function we(g,j,O,F,V,K,J,ee){ro(g,j+4,1,V,8,K,J,ee),ro(O,F+4,1,V,8,K,J,ee)}function Le(){this.ba=new It,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Gt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function De(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function it(){this.ua=0,this.Wa=new qe,this.vb=new qe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new M,this.yc=new $}function Nt(){this.xb=this.a=0,this.l=new Tu,this.ca=new It,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new it,this.ab=0,this.gc=o(4,rt),this.Oc=0}function Tt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Tu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Yt(g,j,O,F,V,K,J){for(g=g==null?0:g[j+0],j=0;j<J;++j)V[K+j]=g+O[F+j]&255,g=V[K+j]}function Mr(g,j,O,F,V,K,J){var ee;if(g==null)Yt(null,null,O,F,V,K,J);else for(ee=0;ee<J;++ee)V[K+ee]=g[j+ee]+O[F+ee]&255}function dn(g,j,O,F,V,K,J){if(g==null)Yt(null,null,O,F,V,K,J);else{var ee,ae=g[j+0],ie=ae,ge=ae;for(ee=0;ee<J;++ee)ie=ge+(ae=g[j+ee])-ie,ge=O[F+ee]+(-256&ie?0>ie?0:255:ie)&255,ie=ae,V[K+ee]=ge}}function yr(g,j,O,F){var V=j.width,K=j.o;if(t(g!=null&&j!=null),0>O||0>=F||O+F>K)return null;if(!g.Cc){if(g.ga==null){var J;if(g.ga=new Tt,(J=g.ga==null)||(J=j.width*j.o,t(g.Gb.length==0),g.Gb=i(J),g.Uc=0,g.Gb==null?J=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,J=1),J=!J),!J){J=g.ga;var ee=g.Fa,ae=g.P,ie=g.qc,ge=g.mb,Ee=g.nb,oe=ae+1,ve=ie-1,Ne=J.l;if(t(ee!=null&&ge!=null&&j!=null),ll[0]=null,ll[1]=Yt,ll[2]=Mr,ll[3]=dn,J.ca=ge,J.tb=Ee,J.c=j.width,J.i=j.height,t(0<J.c&&0<J.i),1>=ie)j=0;else if(J.$a=3&ee[ae+0],J.Z=ee[ae+0]>>2&3,J.Lc=ee[ae+0]>>4&3,ae=ee[ae+0]>>6&3,0>J.$a||1<J.$a||4<=J.Z||1<J.Lc||ae)j=0;else if(Ne.put=dt,Ne.ac=cn,Ne.bc=Ia,Ne.ma=J,Ne.width=j.width,Ne.height=j.height,Ne.Da=j.Da,Ne.v=j.v,Ne.va=j.va,Ne.j=j.j,Ne.o=j.o,J.$a)e:{t(J.$a==1),j=ac();t:for(;;){if(j==null){j=0;break e}if(t(J!=null),J.mc=j,j.c=J.c,j.i=J.i,j.l=J.l,j.l.ma=J,j.l.width=J.c,j.l.height=J.i,j.a=0,U(j.m,ee,oe,ve),!bi(J.c,J.i,1,j,null)||(j.ab==1&&j.gc[0].hc==3&&qs(j.s)?(J.ic=1,ee=j.c*j.i,j.Ta=null,j.Ua=0,j.V=i(ee),j.Ba=0,j.V==null?(j.a=1,j=0):j=1):(J.ic=0,j=sc(j,J.c)),!j))break t;j=1;break e}J.mc=null,j=0}else j=ve>=J.c*J.i;J=!j}if(J)return null;g.ga.Lc!=1?g.Ga=0:F=K-O}t(g.ga!=null),t(O+F<=K);e:{if(j=(ee=g.ga).c,K=ee.l.o,ee.$a==0){if(oe=g.rc,ve=g.Vc,Ne=g.Fa,ae=g.P+1+O*j,ie=g.mb,ge=g.nb+O*j,t(ae<=g.P+g.qc),ee.Z!=0)for(t(ll[ee.Z]!=null),J=0;J<F;++J)ll[ee.Z](oe,ve,Ne,ae,ie,ge,j),oe=ie,ve=ge,ge+=j,ae+=j;else for(J=0;J<F;++J)n(ie,ge,Ne,ae,j),oe=ie,ve=ge,ge+=j,ae+=j;g.rc=oe,g.Vc=ve}else{if(t(ee.mc!=null),j=O+F,t((J=ee.mc)!=null),t(j<=J.i),J.C>=j)j=1;else if(ee.ic||Gs(),ee.ic){ee=J.V,oe=J.Ba,ve=J.c;var ke=J.i,_e=(Ne=1,ae=J.$/ve,ie=J.$%ve,ge=J.m,Ee=J.s,J.$),Ie=ve*ke,Re=ve*j,ze=Ee.wc,$e=_e<Re?Un(Ee,ie,ae):null;t(_e<=Ie),t(j<=ke),t(qs(Ee));t:for(;;){for(;!ge.h&&_e<Re;){if(ie&ze||($e=Un(Ee,ie,ae)),t($e!=null),X(ge),256>(ke=Sr($e.G[0],$e.H[0],ge)))ee[oe+_e]=ke,++_e,++ie>=ve&&(ie=0,++ae<=j&&!(ae%16)&&Hs(J,ae));else{if(!(280>ke)){Ne=0;break t}ke=pa(ke-256,ge);var lt,et=Sr($e.G[4],$e.H[4],ge);if(X(ge),!(_e>=(et=ga(ve,et=pa(et,ge)))&&Ie-_e>=ke)){Ne=0;break t}for(lt=0;lt<ke;++lt)ee[oe+_e+lt]=ee[oe+_e+lt-et];for(_e+=ke,ie+=ke;ie>=ve;)ie-=ve,++ae<=j&&!(ae%16)&&Hs(J,ae);_e<Re&&ie&ze&&($e=Un(Ee,ie,ae))}t(ge.h==ue(ge))}Hs(J,ae>j?j:ae);break t}!Ne||ge.h&&_e<Ie?(Ne=0,J.a=ge.h?5:3):J.$=_e,j=Ne}else j=Vs(J,J.V,J.Ba,J.c,J.i,j,Eu);if(!j){F=0;break e}}O+F>=K&&(g.Cc=1),F=1}if(!F)return null;if(g.Cc&&((F=g.ga)!=null&&(F.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+O*V}function xn(g,j,O,F,V,K){for(;0<V--;){var J,ee=g,ae=j+(O?1:0),ie=g,ge=j+(O?0:3);for(J=0;J<F;++J){var Ee=ie[ge+4*J];Ee!=255&&(Ee*=32897,ee[ae+4*J+0]=ee[ae+4*J+0]*Ee>>23,ee[ae+4*J+1]=ee[ae+4*J+1]*Ee>>23,ee[ae+4*J+2]=ee[ae+4*J+2]*Ee>>23)}j+=K}}function fn(g,j,O,F,V){for(;0<F--;){var K;for(K=0;K<O;++K){var J=g[j+2*K+0],ee=15&(ie=g[j+2*K+1]),ae=4369*ee,ie=(240&ie|ie>>4)*ae>>16;g[j+2*K+0]=(240&J|J>>4)*ae>>16&240|(15&J|J<<4)*ae>>16>>4&15,g[j+2*K+1]=240&ie|ee}j+=V}}function zn(g,j,O,F,V,K,J,ee){var ae,ie,ge=255;for(ie=0;ie<V;++ie){for(ae=0;ae<F;++ae){var Ee=g[j+ae];K[J+4*ae]=Ee,ge&=Ee}j+=O,J+=ee}return ge!=255}function no(g,j,O,F,V){var K;for(K=0;K<V;++K)O[F+K]=g[j+K]>>8}function Gs(){lh=xn,AS=fn,_S=zn,ES=no}function ao(g,j,O){P[g]=function(F,V,K,J,ee,ae,ie,ge,Ee,oe,ve,Ne,ke,_e,Ie,Re,ze){var $e,lt=ze-1>>1,et=ee[ae+0]|ie[ge+0]<<16,Lt=Ee[oe+0]|ve[Ne+0]<<16;t(F!=null);var nt=3*et+Lt+131074>>2;for(j(F[V+0],255&nt,nt>>16,ke,_e),K!=null&&(nt=3*Lt+et+131074>>2,j(K[J+0],255&nt,nt>>16,Ie,Re)),$e=1;$e<=lt;++$e){var qt=ee[ae+$e]|ie[ge+$e]<<16,vn=Ee[oe+$e]|ve[Ne+$e]<<16,Rt=et+qt+Lt+vn+524296,at=Rt+2*(qt+Lt)>>3;nt=at+et>>1,et=(Rt=Rt+2*(et+vn)>>3)+qt>>1,j(F[V+2*$e-1],255&nt,nt>>16,ke,_e+(2*$e-1)*O),j(F[V+2*$e-0],255&et,et>>16,ke,_e+(2*$e-0)*O),K!=null&&(nt=Rt+Lt>>1,et=at+vn>>1,j(K[J+2*$e-1],255&nt,nt>>16,Ie,Re+(2*$e-1)*O),j(K[J+2*$e+0],255&et,et>>16,Ie,Re+(2*$e+0)*O)),et=qt,Lt=vn}1&ze||(nt=3*et+Lt+131074>>2,j(F[V+ze-1],255&nt,nt>>16,ke,_e+(ze-1)*O),K!=null&&(nt=3*Lt+et+131074>>2,j(K[J+ze-1],255&nt,nt>>16,Ie,Re+(ze-1)*O)))}}function Jf(){_s[a0]=UM,_s[s0]=$S,_s[IS]=zM,_s[i0]=FS,_s[o0]=BS,_s[t1]=US,_s[LS]=qM,_s[r1]=$S,_s[n1]=FS,_s[l0]=BS,_s[a1]=US}function Ru(g){return g&-16384?0>g?0:255:g>>HM}function Zo(g,j){return Ru((19077*g>>8)+(26149*j>>8)-14234)}function dc(g,j,O){return Ru((19077*g>>8)-(6419*j>>8)-(13320*O>>8)+8708)}function fc(g,j){return Ru((19077*g>>8)+(33050*j>>8)-17685)}function Qo(g,j,O,F,V){F[V+0]=Zo(g,O),F[V+1]=dc(g,j,O),F[V+2]=fc(g,j)}function qn(g,j,O,F,V){F[V+0]=fc(g,j),F[V+1]=dc(g,j,O),F[V+2]=Zo(g,O)}function hc(g,j,O,F,V){var K=dc(g,j,O);j=K<<3&224|fc(g,j)>>3,F[V+0]=248&Zo(g,O)|K>>5,F[V+1]=j}function mc(g,j,O,F,V){var K=240&fc(g,j)|15;F[V+0]=240&Zo(g,O)|dc(g,j,O)>>4,F[V+1]=K}function Zf(g,j,O,F,V){F[V+0]=255,Qo(g,j,O,F,V+1)}function Qf(g,j,O,F,V){qn(g,j,O,F,V),F[V+3]=255}function xa(g,j,O,F,V){Qo(g,j,O,F,V),F[V+3]=255}function so(g,j,O){P[g]=function(F,V,K,J,ee,ae,ie,ge,Ee){for(var oe=ge+(-2&Ee)*O;ge!=oe;)j(F[V+0],K[J+0],ee[ae+0],ie,ge),j(F[V+1],K[J+0],ee[ae+0],ie,ge+O),V+=2,++J,++ae,ge+=2*O;1&Ee&&j(F[V+0],K[J+0],ee[ae+0],ie,ge)}}function Mu(g,j,O){return O==0?g==0?j==0?6:5:j==0?4:0:O}function e0(g,j,O,F,V){switch(g>>>30){case 3:yc(j,O,F,V,0);break;case 2:Ss(j,O,F,V);break;case 1:er(j,O,F,V)}}function js(g,j){var O,F,V=j.M,K=j.Nb,J=g.oc,ee=g.pc+40,ae=g.oc,ie=g.pc+584,ge=g.oc,Ee=g.pc+600;for(O=0;16>O;++O)J[ee+32*O-1]=129;for(O=0;8>O;++O)ae[ie+32*O-1]=129,ge[Ee+32*O-1]=129;for(0<V?J[ee-1-32]=ae[ie-1-32]=ge[Ee-1-32]=129:(s(J,ee-32-1,127,21),s(ae,ie-32-1,127,9),s(ge,Ee-32-1,127,9)),F=0;F<g.za;++F){var oe=j.ya[j.aa+F];if(0<F){for(O=-1;16>O;++O)n(J,ee+32*O-4,J,ee+32*O+12,4);for(O=-1;8>O;++O)n(ae,ie+32*O-4,ae,ie+32*O+4,4),n(ge,Ee+32*O-4,ge,Ee+32*O+4,4)}var ve=g.Gd,Ne=g.Hd+F,ke=oe.ad,_e=oe.Hc;if(0<V&&(n(J,ee-32,ve[Ne].y,0,16),n(ae,ie-32,ve[Ne].f,0,8),n(ge,Ee-32,ve[Ne].ea,0,8)),oe.Za){var Ie=J,Re=ee-32+16;for(0<V&&(F>=g.za-1?s(Ie,Re,ve[Ne].y[15],4):n(Ie,Re,ve[Ne+1].y,0,4)),O=0;4>O;O++)Ie[Re+128+O]=Ie[Re+256+O]=Ie[Re+384+O]=Ie[Re+0+O];for(O=0;16>O;++O,_e<<=2)Ie=J,Re=ee+qS[O],Ys[oe.Ob[O]](Ie,Re),e0(_e,ke,16*+O,Ie,Re)}else if(Ie=Mu(F,V,oe.Ob[0]),ol[Ie](J,ee),_e!=0)for(O=0;16>O;++O,_e<<=2)e0(_e,ke,16*+O,J,ee+qS[O]);for(O=oe.Gc,Ie=Mu(F,V,oe.Dd),lo[Ie](ae,ie),lo[Ie](ge,Ee),_e=ke,Ie=ae,Re=ie,255&(oe=0|O)&&(170&oe?_i(_e,256,Ie,Re):fr(_e,256,Ie,Re)),oe=ge,_e=Ee,255&(O>>=8)&&(170&O?_i(ke,320,oe,_e):fr(ke,320,oe,_e)),V<g.Ub-1&&(n(ve[Ne].y,0,J,ee+480,16),n(ve[Ne].f,0,ae,ie+224,8),n(ve[Ne].ea,0,ge,Ee+224,8)),O=8*K*g.B,ve=g.sa,Ne=g.ta+16*F+16*K*g.R,ke=g.qa,oe=g.ra+8*F+O,_e=g.Ha,Ie=g.Ia+8*F+O,O=0;16>O;++O)n(ve,Ne+O*g.R,J,ee+32*O,16);for(O=0;8>O;++O)n(ke,oe+O*g.B,ae,ie+32*O,8),n(_e,Ie+O*g.B,ge,Ee+32*O,8)}}function pc(g,j,O,F,V,K,J,ee,ae){var ie=[0],ge=[0],Ee=0,oe=ae!=null?ae.kd:0,ve=ae??new De;if(g==null||12>O)return 7;ve.data=g,ve.w=j,ve.ha=O,j=[j],O=[O],ve.gb=[ve.gb];e:{var Ne=j,ke=O,_e=ve.gb;if(t(g!=null),t(ke!=null),t(_e!=null),_e[0]=0,12<=ke[0]&&!r(g,Ne[0],"RIFF")){if(r(g,Ne[0]+8,"WEBP")){_e=3;break e}var Ie=Ae(g,Ne[0]+4);if(12>Ie||4294967286<Ie){_e=3;break e}if(oe&&Ie>ke[0]-8){_e=7;break e}_e[0]=Ie,Ne[0]+=12,ke[0]-=12}_e=0}if(_e!=0)return _e;for(Ie=0<ve.gb[0],O=O[0];;){e:{var Re=g;ke=j,_e=O;var ze=ie,$e=ge,lt=Ne=[0];if((nt=Ee=[Ee])[0]=0,8>_e[0])_e=7;else{if(!r(Re,ke[0],"VP8X")){if(Ae(Re,ke[0]+4)!=10){_e=3;break e}if(18>_e[0]){_e=7;break e}var et=Ae(Re,ke[0]+8),Lt=1+fe(Re,ke[0]+12);if(2147483648<=Lt*(Re=1+fe(Re,ke[0]+15))){_e=3;break e}lt!=null&&(lt[0]=et),ze!=null&&(ze[0]=Lt),$e!=null&&($e[0]=Re),ke[0]+=18,_e[0]-=18,nt[0]=1}_e=0}}if(Ee=Ee[0],Ne=Ne[0],_e!=0)return _e;if(ke=!!(2&Ne),!Ie&&Ee)return 3;if(K!=null&&(K[0]=!!(16&Ne)),J!=null&&(J[0]=ke),ee!=null&&(ee[0]=0),J=ie[0],Ne=ge[0],Ee&&ke&&ae==null){_e=0;break}if(4>O){_e=7;break}if(Ie&&Ee||!Ie&&!Ee&&!r(g,j[0],"ALPH")){O=[O],ve.na=[ve.na],ve.P=[ve.P],ve.Sa=[ve.Sa];e:{et=g,_e=j,Ie=O;var nt=ve.gb;ze=ve.na,$e=ve.P,lt=ve.Sa,Lt=22,t(et!=null),t(Ie!=null),Re=_e[0];var qt=Ie[0];for(t(ze!=null),t(lt!=null),ze[0]=null,$e[0]=null,lt[0]=0;;){if(_e[0]=Re,Ie[0]=qt,8>qt){_e=7;break e}var vn=Ae(et,Re+4);if(4294967286<vn){_e=3;break e}var Rt=8+vn+1&-2;if(Lt+=Rt,0<nt&&Lt>nt){_e=3;break e}if(!r(et,Re,"VP8 ")||!r(et,Re,"VP8L")){_e=0;break e}if(qt[0]<Rt){_e=7;break e}r(et,Re,"ALPH")||(ze[0]=et,$e[0]=Re+8,lt[0]=vn),Re+=Rt,qt-=Rt}}if(O=O[0],ve.na=ve.na[0],ve.P=ve.P[0],ve.Sa=ve.Sa[0],_e!=0)break}O=[O],ve.Ja=[ve.Ja],ve.xa=[ve.xa];e:if(nt=g,_e=j,Ie=O,ze=ve.gb[0],$e=ve.Ja,lt=ve.xa,et=_e[0],Re=!r(nt,et,"VP8 "),Lt=!r(nt,et,"VP8L"),t(nt!=null),t(Ie!=null),t($e!=null),t(lt!=null),8>Ie[0])_e=7;else{if(Re||Lt){if(nt=Ae(nt,et+4),12<=ze&&nt>ze-12){_e=3;break e}if(oe&&nt>Ie[0]-8){_e=7;break e}$e[0]=nt,_e[0]+=8,Ie[0]-=8,lt[0]=Lt}else lt[0]=5<=Ie[0]&&nt[et+0]==47&&!(nt[et+4]>>5),$e[0]=Ie[0];_e=0}if(O=O[0],ve.Ja=ve.Ja[0],ve.xa=ve.xa[0],j=j[0],_e!=0)break;if(4294967286<ve.Ja)return 3;if(ee==null||ke||(ee[0]=ve.xa?2:1),J=[J],Ne=[Ne],ve.xa){if(5>O){_e=7;break}ee=J,oe=Ne,ke=K,g==null||5>O?g=0:5<=O&&g[j+0]==47&&!(g[j+4]>>5)?(Ie=[0],nt=[0],ze=[0],U($e=new G,g,j,O),La($e,Ie,nt,ze)?(ee!=null&&(ee[0]=Ie[0]),oe!=null&&(oe[0]=nt[0]),ke!=null&&(ke[0]=ze[0]),g=1):g=0):g=0}else{if(10>O){_e=7;break}ee=Ne,g==null||10>O||!qp(g,j+3,O-3)?g=0:(oe=g[j+0]|g[j+1]<<8|g[j+2]<<16,ke=16383&(g[j+7]<<8|g[j+6]),g=16383&(g[j+9]<<8|g[j+8]),1&oe||3<(oe>>1&7)||!(oe>>4&1)||oe>>5>=ve.Ja||!ke||!g?g=0:(J&&(J[0]=ke),ee&&(ee[0]=g),g=1))}if(!g||(J=J[0],Ne=Ne[0],Ee&&(ie[0]!=J||ge[0]!=Ne)))return 3;ae!=null&&(ae[0]=ve,ae.offset=j-ae.w,t(4294967286>j-ae.w),t(ae.offset==ae.ha-O));break}return _e==0||_e==7&&Ee&&ae==null?(K!=null&&(K[0]|=ve.na!=null&&0<ve.na.length),F!=null&&(F[0]=J),V!=null&&(V[0]=Ne),0):_e}function eh(g,j,O){var F=j.width,V=j.height,K=0,J=0,ee=F,ae=V;if(j.Da=g!=null&&0<g.Da,j.Da&&(ee=g.cd,ae=g.bd,K=g.v,J=g.j,11>O||(K&=-2,J&=-2),0>K||0>J||0>=ee||0>=ae||K+ee>F||J+ae>V))return 0;if(j.v=K,j.j=J,j.va=K+ee,j.o=J+ae,j.U=ee,j.T=ae,j.da=g!=null&&0<g.da,j.da){if(!be(ee,ae,O=[g.ib],K=[g.hb]))return 0;j.ib=O[0],j.hb=K[0]}return j.ob=g!=null&&g.ob,j.Kb=g==null||!g.Sd,j.da&&(j.ob=j.ib<3*F/4&&j.hb<3*V/4,j.Kb=0),1}function th(g){if(g==null)return 2;if(11>g.S){var j=g.f.RGBA;j.fb+=(g.height-1)*j.A,j.A=-j.A}else j=g.f.kb,g=g.height,j.O+=(g-1)*j.fa,j.fa=-j.fa,j.N+=(g-1>>1)*j.Ab,j.Ab=-j.Ab,j.W+=(g-1>>1)*j.Db,j.Db=-j.Db,j.F!=null&&(j.J+=(g-1)*j.lb,j.lb=-j.lb);return 0}function el(g,j,O,F){if(F==null||0>=g||0>=j)return 2;if(O!=null){if(O.Da){var V=O.cd,K=O.bd,J=-2&O.v,ee=-2&O.j;if(0>J||0>ee||0>=V||0>=K||J+V>g||ee+K>j)return 2;g=V,j=K}if(O.da){if(!be(g,j,V=[O.ib],K=[O.hb]))return 2;g=V[0],j=K[0]}}F.width=g,F.height=j;e:{var ae=F.width,ie=F.height;if(g=F.S,0>=ae||0>=ie||!(g>=a0&&13>g))g=2;else{if(0>=F.Rd&&F.sd==null){J=K=V=j=0;var ge=(ee=ae*HS[g])*ie;if(11>g||(K=(ie+1)/2*(j=(ae+1)/2),g==12&&(J=(V=ae)*ie)),(ie=i(ge+2*K+J))==null){g=1;break e}F.sd=ie,11>g?((ae=F.f.RGBA).eb=ie,ae.fb=0,ae.A=ee,ae.size=ge):((ae=F.f.kb).y=ie,ae.O=0,ae.fa=ee,ae.Fd=ge,ae.f=ie,ae.N=0+ge,ae.Ab=j,ae.Cd=K,ae.ea=ie,ae.W=0+ge+K,ae.Db=j,ae.Ed=K,g==12&&(ae.F=ie,ae.J=0+ge+2*K),ae.Tc=J,ae.lb=V)}if(j=1,V=F.S,K=F.width,J=F.height,V>=a0&&13>V)if(11>V)g=F.f.RGBA,j&=(ee=Math.abs(g.A))*(J-1)+K<=g.size,j&=ee>=K*HS[V],j&=g.eb!=null;else{g=F.f.kb,ee=(K+1)/2,ge=(J+1)/2,ae=Math.abs(g.fa),ie=Math.abs(g.Ab);var Ee=Math.abs(g.Db),oe=Math.abs(g.lb),ve=oe*(J-1)+K;j&=ae*(J-1)+K<=g.Fd,j&=ie*(ge-1)+ee<=g.Cd,j=(j&=Ee*(ge-1)+ee<=g.Ed)&ae>=K&ie>=ee&Ee>=ee,j&=g.y!=null,j&=g.f!=null,j&=g.ea!=null,V==12&&(j&=oe>=K,j&=ve<=g.Tc,j&=g.F!=null)}else j=0;g=j?0:2}}return g!=0||O!=null&&O.fd&&(g=th(F)),g}var gc=64,Ja=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Za=24,tl=32,io=8,rl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ue("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(g){return g},P.Predictor2=function(g,j,O){return j[O+0]},P.Predictor3=function(g,j,O){return j[O+1]},P.Predictor4=function(g,j,O){return j[O-1]},P.Predictor5=function(g,j,O){return We(We(g,j[O+1]),j[O+0])},P.Predictor6=function(g,j,O){return We(g,j[O-1])},P.Predictor7=function(g,j,O){return We(g,j[O+0])},P.Predictor8=function(g,j,O){return We(j[O-1],j[O+0])},P.Predictor9=function(g,j,O){return We(j[O+0],j[O+1])},P.Predictor10=function(g,j,O){return We(We(g,j[O-1]),We(j[O+0],j[O+1]))},P.Predictor11=function(g,j,O){var F=j[O+0];return 0>=vt(F>>24&255,g>>24&255,(j=j[O-1])>>24&255)+vt(F>>16&255,g>>16&255,j>>16&255)+vt(F>>8&255,g>>8&255,j>>8&255)+vt(255&F,255&g,255&j)?F:g},P.Predictor12=function(g,j,O){var F=j[O+0];return(Et((g>>24&255)+(F>>24&255)-((j=j[O-1])>>24&255))<<24|Et((g>>16&255)+(F>>16&255)-(j>>16&255))<<16|Et((g>>8&255)+(F>>8&255)-(j>>8&255))<<8|Et((255&g)+(255&F)-(255&j)))>>>0},P.Predictor13=function(g,j,O){var F=j[O-1];return(pt((g=We(g,j[O+0]))>>24&255,F>>24&255)<<24|pt(g>>16&255,F>>16&255)<<16|pt(g>>8&255,F>>8&255)<<8|pt(255&g,255&F))>>>0};var rh=P.PredictorAdd0;P.PredictorAdd1=$t,Ue("Predictor2","PredictorAdd2"),Ue("Predictor3","PredictorAdd3"),Ue("Predictor4","PredictorAdd4"),Ue("Predictor5","PredictorAdd5"),Ue("Predictor6","PredictorAdd6"),Ue("Predictor7","PredictorAdd7"),Ue("Predictor8","PredictorAdd8"),Ue("Predictor9","PredictorAdd9"),Ue("Predictor10","PredictorAdd10"),Ue("Predictor11","PredictorAdd11"),Ue("Predictor12","PredictorAdd12"),Ue("Predictor13","PredictorAdd13");var Du=P.PredictorAdd2;Fe("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),Fe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var Kr,t0=P.ColorIndexInverseTransform,Si=P.MapARGB,Ai=P.VP8LColorIndexInverseTransformAlpha,nh=P.MapAlpha,ah=P.VP8LPredictorsAdd=[];ah.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var sh,ih,nl,al,sl,xc,il,yc,Ss,_i,er,fr,Xr,yn,oo,oh,$u,r0,vS,bS,wS,NS,jS,SS,lh,AS,_S,ES,PS=i(511),CS=i(2041),TS=i(225),kS=i(767),OS=0,e1=CS,n0=TS,Qa=kS,As=PS,a0=0,s0=1,IS=2,i0=3,o0=4,t1=5,LS=6,r1=7,n1=8,l0=9,a1=10,EM=[2,3,7],PM=[3,3,11],RS=[280,256,256,256,40],CM=[0,1,1,1,0],TM=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],kM=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],OM=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],IM=8,s1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],i1=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ch=null,LM=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],RM=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],MS=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],MM=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],DM=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],$M=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],FM=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ol=[],Ys=[],lo=[],BM=1,DS=2,ll=[],_s=[];ao("UpsampleRgbLinePair",Qo,3),ao("UpsampleBgrLinePair",qn,3),ao("UpsampleRgbaLinePair",xa,4),ao("UpsampleBgraLinePair",Qf,4),ao("UpsampleArgbLinePair",Zf,4),ao("UpsampleRgba4444LinePair",mc,2),ao("UpsampleRgb565LinePair",hc,2);var UM=P.UpsampleRgbLinePair,zM=P.UpsampleBgrLinePair,$S=P.UpsampleRgbaLinePair,FS=P.UpsampleBgraLinePair,BS=P.UpsampleArgbLinePair,US=P.UpsampleRgba4444LinePair,qM=P.UpsampleRgb565LinePair,c0=16,u0=1<<c0-1,uh=-227,o1=482,HM=6,zS=0,VM=i(256),WM=i(256),GM=i(256),YM=i(256),KM=i(o1-uh),XM=i(o1-uh);so("YuvToRgbRow",Qo,3),so("YuvToBgrRow",qn,3),so("YuvToRgbaRow",xa,4),so("YuvToBgraRow",Qf,4),so("YuvToArgbRow",Zf,4),so("YuvToRgba4444Row",mc,2),so("YuvToRgb565Row",hc,2);var qS=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],d0=[0,2,8],JM=[8,7,6,4,4,2,2,2,1,1,1,1],ZM=1;this.WebPDecodeRGBA=function(g,j,O,F,V){var K=s0,J=new Le,ee=new It;J.ba=ee,ee.S=K,ee.width=[ee.width],ee.height=[ee.height];var ae=ee.width,ie=ee.height,ge=new ht;if(ge==null||g==null)var Ee=2;else t(ge!=null),Ee=pc(g,j,O,ge.width,ge.height,ge.Pd,ge.Qd,ge.format,null);if(Ee!=0?ae=0:(ae!=null&&(ae[0]=ge.width[0]),ie!=null&&(ie[0]=ge.height[0]),ae=1),ae){ee.width=ee.width[0],ee.height=ee.height[0],F!=null&&(F[0]=ee.width),V!=null&&(V[0]=ee.height);e:{if(F=new Tu,(V=new De).data=g,V.w=j,V.ha=O,V.kd=1,j=[0],t(V!=null),((g=pc(V.data,V.w,V.ha,null,null,null,j,null,V))==0||g==7)&&j[0]&&(g=4),(j=g)==0){if(t(J!=null),F.data=V.data,F.w=V.w+V.offset,F.ha=V.ha-V.offset,F.put=dt,F.ac=cn,F.bc=Ia,F.ma=J,V.xa){if((g=ac())==null){J=1;break e}if(function(oe,ve){var Ne=[0],ke=[0],_e=[0];t:for(;;){if(oe==null)return 0;if(ve==null)return oe.a=2,0;if(oe.l=ve,oe.a=0,U(oe.m,ve.data,ve.w,ve.ha),!La(oe.m,Ne,ke,_e)){oe.a=3;break t}if(oe.xb=DS,ve.width=Ne[0],ve.height=ke[0],!bi(Ne[0],ke[0],1,oe,null))break t;return 1}return t(oe.a!=0),0}(g,F)){if(F=(j=el(F.width,F.height,J.Oa,J.ba))==0){t:{F=g;r:for(;;){if(F==null){F=0;break t}if(t(F.s.yc!=null),t(F.s.Ya!=null),t(0<F.s.Wb),t((O=F.l)!=null),t((V=O.ma)!=null),F.xb!=0){if(F.ca=V.ba,F.tb=V.tb,t(F.ca!=null),!eh(V.Oa,O,i0)){F.a=2;break r}if(!sc(F,O.width)||O.da)break r;if((O.da||mt(F.ca.S))&&Gs(),11>F.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),F.ca.f.kb.F!=null&&Gs()),F.Pb&&0<F.s.ua&&F.s.vb.X==null&&!Y(F.s.vb,F.s.Wa.Xa)){F.a=1;break r}F.xb=0}if(!Vs(F,F.V,F.Ba,F.c,F.i,O.o,Jo))break r;V.Dc=F.Ma,F=1;break t}t(F.a!=0),F=0}F=!F}F&&(j=g.a)}else j=g.a}else{if((g=new Fv)==null){J=1;break e}if(g.Fa=V.na,g.P=V.P,g.qc=V.Sa,Ni(g,F)){if((j=el(F.width,F.height,J.Oa,J.ba))==0){if(g.Aa=0,O=J.Oa,t((V=g)!=null),O!=null){if(0<(ae=0>(ae=O.Md)?0:100<ae?255:255*ae/100)){for(ie=ge=0;4>ie;++ie)12>(Ee=V.pb[ie]).lc&&(Ee.ia=ae*JM[0>Ee.lc?0:Ee.lc]>>3),ge|=Ee.ia;ge&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=O.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function(oe,ve){if(oe==null)return 0;if(ve==null)return un(oe,2,"NULL VP8Io parameter in VP8Decode().");if(!oe.cb&&!Ni(oe,ve))return 0;if(t(oe.cb),ve.ac==null||ve.ac(ve)){ve.ob&&(oe.L=0);var Ne=d0[oe.L];if(oe.L==2?(oe.yb=0,oe.zb=0):(oe.yb=ve.v-Ne>>4,oe.zb=ve.j-Ne>>4,0>oe.yb&&(oe.yb=0),0>oe.zb&&(oe.zb=0)),oe.Va=ve.o+15+Ne>>4,oe.Hb=ve.va+15+Ne>>4,oe.Hb>oe.za&&(oe.Hb=oe.za),oe.Va>oe.Ub&&(oe.Va=oe.Ub),0<oe.L){var ke=oe.ed;for(Ne=0;4>Ne;++Ne){var _e;if(oe.Qa.Cb){var Ie=oe.Qa.Lb[Ne];oe.Qa.Fb||(Ie+=ke.Tb)}else Ie=ke.Tb;for(_e=0;1>=_e;++_e){var Re=oe.gd[Ne][_e],ze=Ie;if(ke.Pc&&(ze+=ke.vd[0],_e&&(ze+=ke.od[0])),0<(ze=0>ze?0:63<ze?63:ze)){var $e=ze;0<ke.wb&&($e=4<ke.wb?$e>>2:$e>>1)>9-ke.wb&&($e=9-ke.wb),1>$e&&($e=1),Re.dd=$e,Re.tc=2*ze+$e,Re.ld=40<=ze?2:15<=ze?1:0}else Re.tc=0;Re.La=_e}}}Ne=0}else un(oe,6,"Frame setup failed"),Ne=oe.a;if(Ne=Ne==0){if(Ne){oe.$c=0,0<oe.Aa||(oe.Ic=ZM);t:{Ne=oe.Ic,ke=4*($e=oe.za);var lt=32*$e,et=$e+1,Lt=0<oe.L?$e*(0<oe.Aa?2:1):0,nt=(oe.Aa==2?2:1)*$e;if((Re=ke+832+(_e=3*(16*Ne+d0[oe.L])/2*lt)+(Ie=oe.Fa!=null&&0<oe.Fa.length?oe.Kc.c*oe.Kc.i:0))!=Re)Ne=0;else{if(Re>oe.Vb){if(oe.Vb=0,oe.Ec=i(Re),oe.Fc=0,oe.Ec==null){Ne=un(oe,1,"no memory during frame initialization.");break t}oe.Vb=Re}Re=oe.Ec,ze=oe.Fc,oe.Ac=Re,oe.Bc=ze,ze+=ke,oe.Gd=o(lt,Up),oe.Hd=0,oe.rb=o(et+1,Uf),oe.sb=1,oe.wa=Lt?o(Lt,ws):null,oe.Y=0,oe.D.Nb=0,oe.D.wa=oe.wa,oe.D.Y=oe.Y,0<oe.Aa&&(oe.D.Y+=$e),t(!0),oe.oc=Re,oe.pc=ze,ze+=832,oe.ya=o(nt,zf),oe.aa=0,oe.D.ya=oe.ya,oe.D.aa=oe.aa,oe.Aa==2&&(oe.D.aa+=$e),oe.R=16*$e,oe.B=8*$e,$e=(lt=d0[oe.L])*oe.R,lt=lt/2*oe.B,oe.sa=Re,oe.ta=ze+$e,oe.qa=oe.sa,oe.ra=oe.ta+16*Ne*oe.R+lt,oe.Ha=oe.qa,oe.Ia=oe.ra+8*Ne*oe.B+lt,oe.$c=0,ze+=_e,oe.mb=Ie?Re:null,oe.nb=Ie?ze:null,t(ze+Ie<=oe.Fc+oe.Vb),Hp(oe),s(oe.Ac,oe.Bc,0,ke),Ne=1}}if(Ne){if(ve.ka=0,ve.y=oe.sa,ve.O=oe.ta,ve.f=oe.qa,ve.N=oe.ra,ve.ea=oe.Ha,ve.Vd=oe.Ia,ve.fa=oe.R,ve.Rc=oe.B,ve.F=null,ve.J=0,!OS){for(Ne=-255;255>=Ne;++Ne)PS[255+Ne]=0>Ne?-Ne:Ne;for(Ne=-1020;1020>=Ne;++Ne)CS[1020+Ne]=-128>Ne?-128:127<Ne?127:Ne;for(Ne=-112;112>=Ne;++Ne)TS[112+Ne]=-16>Ne?-16:15<Ne?15:Ne;for(Ne=-255;510>=Ne;++Ne)kS[255+Ne]=0>Ne?0:255<Ne?255:Ne;OS=1}il=Ou,yc=Uv,_i=ji,er=Wp,fr=Gp,Ss=Bv,Xr=Zp,yn=uc,oo=H,oh=le,$u=Qp,r0=C,vS=he,bS=we,wS=cc,NS=Xf,jS=Xp,SS=Jp,Ys[0]=Kv,Ys[1]=zv,Ys[2]=Gv,Ys[3]=Yv,Ys[4]=Ji,Ys[5]=Xv,Ys[6]=Zi,Ys[7]=Jv,Ys[8]=Vf,Ys[9]=Iu,ol[0]=Vv,ol[1]=Hv,ol[2]=qf,ol[3]=Yp,ol[4]=oc,ol[5]=Hf,ol[6]=Wv,lo[0]=Qv,lo[1]=qv,lo[2]=lc,lo[3]=Zv,lo[4]=Gf,lo[5]=Wf,lo[6]=Kp,Ne=1}else Ne=0}Ne&&(Ne=function(qt,vn){for(qt.M=0;qt.M<qt.Va;++qt.M){var Rt,at=qt.Jc[qt.M&qt.Xb],Ye=qt.m,Jr=qt;for(Rt=0;Rt<Jr.za;++Rt){var Ct=Ye,Ht=Jr,Ar=Ht.Ac,Hn=Ht.Bc+4*Rt,ya=Ht.zc,qr=Ht.ya[Ht.aa+Rt];if(Ht.Qa.Bb?qr.$b=pe(Ct,Ht.Pa.jb[0])?2+pe(Ct,Ht.Pa.jb[2]):pe(Ct,Ht.Pa.jb[1]):qr.$b=0,Ht.kc&&(qr.Ad=pe(Ct,Ht.Bd)),qr.Za=!pe(Ct,145)+0,qr.Za){var ea=qr.Ob,va=0;for(Ht=0;4>Ht;++Ht){var bn,Kt=ya[0+Ht];for(bn=0;4>bn;++bn){Kt=DM[Ar[Hn+bn]][Kt];for(var nr=MS[pe(Ct,Kt[0])];0<nr;)nr=MS[2*nr+pe(Ct,Kt[nr])];Kt=-nr,Ar[Hn+bn]=Kt}n(ea,va,Ar,Hn,4),va+=4,ya[0+Ht]=Kt}}else Kt=pe(Ct,156)?pe(Ct,128)?1:3:pe(Ct,163)?2:0,qr.Ob[0]=Kt,s(Ar,Hn,Kt,4),s(ya,0,Kt,4);qr.Dd=pe(Ct,142)?pe(Ct,114)?pe(Ct,183)?1:3:2:0}if(Jr.m.Ka)return un(qt,7,"Premature end-of-partition0 encountered.");for(;qt.ja<qt.za;++qt.ja){if(Jr=at,Ct=(Ye=qt).rb[Ye.sb-1],Ar=Ye.rb[Ye.sb+Ye.ja],Rt=Ye.ya[Ye.aa+Ye.ja],Hn=Ye.kc?Rt.Ad:0)Ct.la=Ar.la=0,Rt.Za||(Ct.Na=Ar.Na=0),Rt.Hc=0,Rt.Gc=0,Rt.ia=0;else{var Hr,ar;if(Ct=Ar,Ar=Jr,Hn=Ye.Pa.Xc,ya=Ye.ya[Ye.aa+Ye.ja],qr=Ye.pb[ya.$b],Ht=ya.ad,ea=0,va=Ye.rb[Ye.sb-1],Kt=bn=0,s(Ht,ea,0,384),ya.Za)var Vn=0,Ks=Hn[3];else{nr=i(16);var Zr=Ct.Na+va.Na;if(Zr=ch(Ar,Hn[1],Zr,qr.Eb,0,nr,0),Ct.Na=va.Na=(0<Zr)+0,1<Zr)il(nr,0,Ht,ea);else{var Ra=nr[0]+3>>3;for(nr=0;256>nr;nr+=16)Ht[ea+nr]=Ra}Vn=1,Ks=Hn[0]}var hr=15&Ct.la,wn=15&va.la;for(nr=0;4>nr;++nr){var es=1&wn;for(Ra=ar=0;4>Ra;++Ra)hr=hr>>1|(es=(Zr=ch(Ar,Ks,Zr=es+(1&hr),qr.Sc,Vn,Ht,ea))>Vn)<<7,ar=ar<<2|(3<Zr?3:1<Zr?2:Ht[ea+0]!=0),ea+=16;hr>>=4,wn=wn>>1|es<<7,bn=(bn<<8|ar)>>>0}for(Ks=hr,Vn=wn>>4,Hr=0;4>Hr;Hr+=2){for(ar=0,hr=Ct.la>>4+Hr,wn=va.la>>4+Hr,nr=0;2>nr;++nr){for(es=1&wn,Ra=0;2>Ra;++Ra)Zr=es+(1&hr),hr=hr>>1|(es=0<(Zr=ch(Ar,Hn[2],Zr,qr.Qc,0,Ht,ea)))<<3,ar=ar<<2|(3<Zr?3:1<Zr?2:Ht[ea+0]!=0),ea+=16;hr>>=2,wn=wn>>1|es<<5}Kt|=ar<<4*Hr,Ks|=hr<<4<<Hr,Vn|=(240&wn)<<Hr}Ct.la=Ks,va.la=Vn,ya.Hc=bn,ya.Gc=Kt,ya.ia=43690&Kt?0:qr.ia,Hn=!(bn|Kt)}if(0<Ye.L&&(Ye.wa[Ye.Y+Ye.ja]=Ye.gd[Rt.$b][Rt.Za],Ye.wa[Ye.Y+Ye.ja].La|=!Hn),Jr.Ka)return un(qt,7,"Premature end-of-file encountered.")}if(Hp(qt),Ye=vn,Jr=1,Rt=(at=qt).D,Ct=0<at.L&&at.M>=at.zb&&at.M<=at.Va,at.Aa==0)t:{if(Rt.M=at.M,Rt.uc=Ct,js(at,Rt),Jr=1,Rt=(ar=at.D).Nb,Ct=(Kt=d0[at.L])*at.R,Ar=Kt/2*at.B,nr=16*Rt*at.R,Ra=8*Rt*at.B,Hn=at.sa,ya=at.ta-Ct+nr,qr=at.qa,Ht=at.ra-Ar+Ra,ea=at.Ha,va=at.Ia-Ar+Ra,wn=(hr=ar.M)==0,bn=hr>=at.Va-1,at.Aa==2&&js(at,ar),ar.uc)for(es=(Zr=at).D.M,t(Zr.D.uc),ar=Zr.yb;ar<Zr.Hb;++ar){Vn=ar,Ks=es;var ba=(ts=(Wn=Zr).D).Nb;Hr=Wn.R;var ts=ts.wa[ts.Y+Vn],rs=Wn.sa,Ma=Wn.ta+16*ba*Hr+16*Vn,ns=ts.dd,vr=ts.tc;if(vr!=0)if(t(3<=vr),Wn.L==1)0<Vn&&NS(rs,Ma,Hr,vr+4),ts.La&&SS(rs,Ma,Hr,vr),0<Ks&&wS(rs,Ma,Hr,vr+4),ts.La&&jS(rs,Ma,Hr,vr);else{var as=Wn.B,Xs=Wn.qa,vc=Wn.ra+8*ba*as+8*Vn,co=Wn.Ha,Wn=Wn.Ia+8*ba*as+8*Vn;ba=ts.ld,0<Vn&&(yn(rs,Ma,Hr,vr+4,ns,ba),oh(Xs,vc,co,Wn,as,vr+4,ns,ba)),ts.La&&(r0(rs,Ma,Hr,vr,ns,ba),bS(Xs,vc,co,Wn,as,vr,ns,ba)),0<Ks&&(Xr(rs,Ma,Hr,vr+4,ns,ba),oo(Xs,vc,co,Wn,as,vr+4,ns,ba)),ts.La&&($u(rs,Ma,Hr,vr,ns,ba),vS(Xs,vc,co,Wn,as,vr,ns,ba))}}if(at.ia&&alert("todo:DitherRow"),Ye.put!=null){if(ar=16*hr,hr=16*(hr+1),wn?(Ye.y=at.sa,Ye.O=at.ta+nr,Ye.f=at.qa,Ye.N=at.ra+Ra,Ye.ea=at.Ha,Ye.W=at.Ia+Ra):(ar-=Kt,Ye.y=Hn,Ye.O=ya,Ye.f=qr,Ye.N=Ht,Ye.ea=ea,Ye.W=va),bn||(hr-=Kt),hr>Ye.o&&(hr=Ye.o),Ye.F=null,Ye.J=null,at.Fa!=null&&0<at.Fa.length&&ar<hr&&(Ye.J=yr(at,Ye,ar,hr-ar),Ye.F=at.mb,Ye.F==null&&Ye.F.length==0)){Jr=un(at,3,"Could not decode alpha data.");break t}ar<Ye.j&&(Kt=Ye.j-ar,ar=Ye.j,t(!(1&Kt)),Ye.O+=at.R*Kt,Ye.N+=at.B*(Kt>>1),Ye.W+=at.B*(Kt>>1),Ye.F!=null&&(Ye.J+=Ye.width*Kt)),ar<hr&&(Ye.O+=Ye.v,Ye.N+=Ye.v>>1,Ye.W+=Ye.v>>1,Ye.F!=null&&(Ye.J+=Ye.v),Ye.ka=ar-Ye.j,Ye.U=Ye.va-Ye.v,Ye.T=hr-ar,Jr=Ye.put(Ye))}Rt+1!=at.Ic||bn||(n(at.sa,at.ta-Ct,Hn,ya+16*at.R,Ct),n(at.qa,at.ra-Ar,qr,Ht+8*at.B,Ar),n(at.Ha,at.Ia-Ar,ea,va+8*at.B,Ar))}if(!Jr)return un(qt,6,"Output aborted.")}return 1}(oe,ve)),ve.bc!=null&&ve.bc(ve),Ne&=1}return Ne?(oe.cb=0,Ne):0})(g,F)||(j=g.a)}}else j=g.a}j==0&&J.Oa!=null&&J.Oa.fd&&(j=th(J.ba))}J=j}K=J!=0?null:11>K?ee.f.RGBA.eb:ee.f.kb.y}else K=null;return K};var HS=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(P,D){for(var A="",I=0;I<4;I++)A+=String.fromCharCode(P[D++]);return A}function d(P,D){return P[D+0]|P[D+1]<<8}function f(P,D){return(P[D+0]|P[D+1]<<8|P[D+2]<<16)>>>0}function m(P,D){return(P[D+0]|P[D+1]<<8|P[D+2]<<16|P[D+3]<<24)>>>0}new c;var h=[0],p=[0],y=[],v=new c,x=e,b=function(P,D){var A={},I=0,$=!1,E=0,M=0;if(A.frames=[],!function(B,G){for(var te=0;te<4;te++)if(B[G+te]!="RIFF".charCodeAt(te))return!0;return!1}(P,D)){for(m(P,D+=4),D+=8;D<P.length;){var z=u(P,D),Z=m(P,D+=4);D+=4;var R=Z+(1&Z);switch(z){case"VP8 ":case"VP8L":A.frames[I]===void 0&&(A.frames[I]={}),(de=A.frames[I]).src_off=$?M:D-8,de.src_size=E+Z+8,I++,$&&($=!1,E=0,M=0);break;case"VP8X":(de=A.header={}).feature_flags=P[D];var U=D+4;de.canvas_width=1+f(P,U),U+=3,de.canvas_height=1+f(P,U),U+=3;break;case"ALPH":$=!0,E=R+8,M=D-8;break;case"ANIM":(de=A.header).bgcolor=m(P,D),U=D+4,de.loop_count=d(P,U),U+=2;break;case"ANMF":var re,de;(de=A.frames[I]={}).offset_x=2*f(P,D),D+=3,de.offset_y=2*f(P,D),D+=3,de.width=1+f(P,D),D+=3,de.height=1+f(P,D),D+=3,de.duration=f(P,D),D+=3,re=P[D++],de.dispose=1&re,de.blend=re>>1&1}z!="ANMF"&&(D+=R)}return A}}(x,0);b.response=x,b.rgbaoutput=!0,b.dataurl=!1;var N=b.header?b.header:null,w=b.frames?b.frames:null;if(N){N.loop_counter=N.loop_count,h=[N.canvas_height],p=[N.canvas_width];for(var S=0;S<w.length&&w[S].blend!=0;S++);}var _=w[0],T=v.WebPDecodeRGBA(x,_.src_off,_.src_size,p,h);_.rgba=T,_.imgwidth=p[0],_.imgheight=h[0];for(var k=0;k<p[0]*h[0]*4;k++)y[k]=T[k];return this.width=p,this.height=h,this.data=y,this}(function(e){var t,r,n,s,i,o,l,c,u,d=function(B){return B=B||{},this.isStrokeTransparent=B.isStrokeTransparent||!1,this.strokeOpacity=B.strokeOpacity||1,this.strokeStyle=B.strokeStyle||"#000000",this.fillStyle=B.fillStyle||"#000000",this.isFillTransparent=B.isFillTransparent||!1,this.fillOpacity=B.fillOpacity||1,this.font=B.font||"10px sans-serif",this.textBaseline=B.textBaseline||"alphabetic",this.textAlign=B.textAlign||"left",this.lineWidth=B.lineWidth||1,this.lineJoin=B.lineJoin||"miter",this.lineCap=B.lineCap||"butt",this.path=B.path||[],this.transform=B.transform!==void 0?B.transform.clone():new c,this.globalCompositeOperation=B.globalCompositeOperation||"normal",this.globalAlpha=B.globalAlpha||1,this.clip_path=B.clip_path||[],this.currentPoint=B.currentPoint||new o,this.miterLimit=B.miterLimit||10,this.lastPoint=B.lastPoint||new o,this.lineDashOffset=B.lineDashOffset||0,this.lineDash=B.lineDash||[],this.margin=B.margin||[0,0,0,0],this.prevPageLastElemOffset=B.prevPageLastElemOffset||0,this.ignoreClearRect=typeof B.ignoreClearRect!="boolean"||B.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(B){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=B;Object.defineProperty(this,"pdf",{get:function(){return G}});var te=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return te},set:function(Y){te=!!Y}});var ue=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ue},set:function(Y){ue=!!Y}});var q=0;Object.defineProperty(this,"posX",{get:function(){return q},set:function(Y){isNaN(Y)||(q=Y)}});var X=0;Object.defineProperty(this,"posY",{get:function(){return X},set:function(Y){isNaN(Y)||(X=Y)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Y){var Ce;typeof Y=="number"?Ce=[Y,Y,Y,Y]:((Ce=new Array(4))[0]=Y[0],Ce[1]=Y.length>=2?Y[1]:Ce[0],Ce[2]=Y.length>=3?Y[2]:Ce[0],Ce[3]=Y.length>=4?Y[3]:Ce[1]),u.margin=Ce}});var Q=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Q},set:function(Y){Q=Y}});var ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return ne},set:function(Y){ne=Y}});var pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return pe},set:function(Y){pe=Y}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Y){Y instanceof d&&(u=Y)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Y){u.path=Y}});var se=[];Object.defineProperty(this,"ctxStack",{get:function(){return se},set:function(Y){se=Y}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Y){var Ce;Ce=m(Y),this.ctx.fillStyle=Ce.style,this.ctx.isFillTransparent=Ce.a===0,this.ctx.fillOpacity=Ce.a,this.pdf.setFillColor(Ce.r,Ce.g,Ce.b,{a:Ce.a}),this.pdf.setTextColor(Ce.r,Ce.g,Ce.b,{a:Ce.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Y){var Ce=m(Y);this.ctx.strokeStyle=Ce.style,this.ctx.isStrokeTransparent=Ce.a===0,this.ctx.strokeOpacity=Ce.a,Ce.a===0?this.pdf.setDrawColor(255,255,255):(Ce.a,this.pdf.setDrawColor(Ce.r,Ce.g,Ce.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Y){["butt","round","square"].indexOf(Y)!==-1&&(this.ctx.lineCap=Y,this.pdf.setLineCap(Y))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Y){isNaN(Y)||(this.ctx.lineWidth=Y,this.pdf.setLineWidth(Y))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Y){["bevel","round","miter"].indexOf(Y)!==-1&&(this.ctx.lineJoin=Y,this.pdf.setLineJoin(Y))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Y){isNaN(Y)||(this.ctx.miterLimit=Y,this.pdf.setMiterLimit(Y))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Y){this.ctx.textBaseline=Y}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Y){["right","end","center","left","start"].indexOf(Y)!==-1&&(this.ctx.textAlign=Y)}});var W=null,fe=null,Ae=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ae},set:function(Y){W=null,fe=null,Ae=Y}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Y){var Ce;if(this.ctx.font=Y,(Ce=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Y))!==null){var qe=Ce[1];Ce[2];var be=Ce[3],je=Ce[4];Ce[5];var Me=Ce[6],Ue=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(je)[2];je=Math.floor(Ue==="px"?parseFloat(je)*this.pdf.internal.scaleFactor:Ue==="em"?parseFloat(je)*this.pdf.getFontSize():parseFloat(je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(je);var Ge=function(Fe){var Pt,Ft,At=[],Ot=Fe.trim();if(Ot==="")return Vb;if(Ot in Y6)return[Y6[Ot]];for(;Ot!=="";){switch(Ft=null,Pt=(Ot=X6(Ot)).charAt(0)){case'"':case"'":Ft=Tye(Ot.substring(1),Pt);break;default:Ft=kye(Ot)}if(Ft===null||(At.push(Ft[0]),(Ot=X6(Ft[1]))!==""&&Ot.charAt(0)!==","))return Vb;Ot=Ot.replace(/^,/,"")}return At}(Me);if(this.fontFaces){var We=function(Fe,Pt){var Ft=Fe.getFontList(),At=JSON.stringify(Ft);if(W===null||fe!==At){var Ot=function(gr){var ft=[];return Object.keys(gr).forEach(function(cr){gr[cr].forEach(function(mt){var wt=null;switch(mt){case"bold":wt={family:cr,weight:"bold"};break;case"italic":wt={family:cr,style:"italic"};break;case"bolditalic":wt={family:cr,weight:"bold",style:"italic"};break;case"":case"normal":wt={family:cr}}wt!==null&&(wt.ref={name:cr,style:mt},ft.push(wt))})}),ft}(Ft);W=function(gr){for(var ft={},cr=0;cr<gr.length;++cr){var mt=Hb(gr[cr]),wt=mt.family,xr=mt.stretch,It=mt.style,ht=mt.weight;ft[wt]=ft[wt]||{},ft[wt][xr]=ft[wt][xr]||{},ft[wt][xr][It]=ft[wt][xr][It]||{},ft[wt][xr][It][ht]=mt}return ft}(Ot.concat(Pt)),fe=At}return W}(this.pdf,this.fontFaces),Et=Ge.map(function(Fe){return{family:Fe,stretch:"normal",weight:be,style:qe}}),pt=function(Fe,Pt,Ft){for(var At=(Ft=Ft||{}).defaultFontFamily||"times",Ot=Object.assign({},Cye,Ft.genericFontFamilies||{}),gr=null,ft=null,cr=0;cr<Pt.length;++cr)if(Ot[(gr=Hb(Pt[cr])).family]&&(gr.family=Ot[gr.family]),Fe.hasOwnProperty(gr.family)){ft=Fe[gr.family];break}if(!(ft=ft||Fe[At]))throw new Error("Could not find a font-family for the rule '"+K6(gr)+"' and default family '"+At+"'.");if(ft=function(mt,wt){if(wt[mt])return wt[mt];var xr=ej[mt],It=xr<=ej.normal?-1:1,ht=G6(wt,xM,xr,It);if(!ht)throw new Error("Could not find a matching font-stretch value for "+mt);return ht}(gr.stretch,ft),ft=function(mt,wt){if(wt[mt])return wt[mt];for(var xr=gM[mt],It=0;It<xr.length;++It)if(wt[xr[It]])return wt[xr[It]];throw new Error("Could not find a matching font-style for "+mt)}(gr.style,ft),!(ft=function(mt,wt){if(wt[mt])return wt[mt];if(mt===400&&wt[500])return wt[500];if(mt===500&&wt[400])return wt[400];var xr=Pye[mt],It=G6(wt,yM,xr,mt<400?-1:1);if(!It)throw new Error("Could not find a matching font-weight for value "+mt);return It}(gr.weight,ft)))throw new Error("Failed to resolve a font for the rule '"+K6(gr)+"'.");return ft}(We,Et);this.pdf.setFont(pt.ref.name,pt.ref.style)}else{var vt="";(be==="bold"||parseInt(be,10)>=700||qe==="bold")&&(vt="bold"),qe==="italic"&&(vt+="italic"),vt.length===0&&(vt="normal");for(var $t="",ye={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Be=0;Be<Ge.length;Be++){if(this.pdf.internal.getFont(Ge[Be],vt,{noFallback:!0,disableWarning:!0})!==void 0){$t=Ge[Be];break}if(vt==="bolditalic"&&this.pdf.internal.getFont(Ge[Be],"bold",{noFallback:!0,disableWarning:!0})!==void 0)$t=Ge[Be],vt="bold";else if(this.pdf.internal.getFont(Ge[Be],"normal",{noFallback:!0,disableWarning:!0})!==void 0){$t=Ge[Be],vt="normal";break}}if($t===""){for(var Je=0;Je<Ge.length;Je++)if(ye[Ge[Je]]){$t=ye[Ge[Je]];break}}$t=$t===""?"Times":$t,this.pdf.setFont($t,vt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Y){this.ctx.globalCompositeOperation=Y}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Y){this.ctx.globalAlpha=Y}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Y){this.ctx.lineDashOffset=Y,de.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Y){this.ctx.lineDash=Y,de.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Y){this.ctx.ignoreClearRect=!!Y}})};f.prototype.setLineDash=function(B){this.lineDash=B},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){w.call(this,"fill",!1)},f.prototype.stroke=function(){w.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(B,G){if(isNaN(B)||isNaN(G))throw mr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var te=this.ctx.transform.applyToPoint(new o(B,G));this.path.push({type:"mt",x:te.x,y:te.y}),this.ctx.lastPoint=new o(B,G)},f.prototype.closePath=function(){var B=new o(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&sr(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){B=new o(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(B.x,B.y)},f.prototype.lineTo=function(B,G){if(isNaN(B)||isNaN(G))throw mr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var te=this.ctx.transform.applyToPoint(new o(B,G));this.path.push({type:"lt",x:te.x,y:te.y}),this.ctx.lastPoint=new o(te.x,te.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},f.prototype.quadraticCurveTo=function(B,G,te,ue){if(isNaN(te)||isNaN(ue)||isNaN(B)||isNaN(G))throw mr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var q=this.ctx.transform.applyToPoint(new o(te,ue)),X=this.ctx.transform.applyToPoint(new o(B,G));this.path.push({type:"qct",x1:X.x,y1:X.y,x:q.x,y:q.y}),this.ctx.lastPoint=new o(q.x,q.y)},f.prototype.bezierCurveTo=function(B,G,te,ue,q,X){if(isNaN(q)||isNaN(X)||isNaN(B)||isNaN(G)||isNaN(te)||isNaN(ue))throw mr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Q=this.ctx.transform.applyToPoint(new o(q,X)),ne=this.ctx.transform.applyToPoint(new o(B,G)),pe=this.ctx.transform.applyToPoint(new o(te,ue));this.path.push({type:"bct",x1:ne.x,y1:ne.y,x2:pe.x,y2:pe.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},f.prototype.arc=function(B,G,te,ue,q,X){if(isNaN(B)||isNaN(G)||isNaN(te)||isNaN(ue)||isNaN(q))throw mr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(X=!!X,!this.ctx.transform.isIdentity){var Q=this.ctx.transform.applyToPoint(new o(B,G));B=Q.x,G=Q.y;var ne=this.ctx.transform.applyToPoint(new o(0,te)),pe=this.ctx.transform.applyToPoint(new o(0,0));te=Math.sqrt(Math.pow(ne.x-pe.x,2)+Math.pow(ne.y-pe.y,2))}Math.abs(q-ue)>=2*Math.PI&&(ue=0,q=2*Math.PI),this.path.push({type:"arc",x:B,y:G,radius:te,startAngle:ue,endAngle:q,counterclockwise:X})},f.prototype.arcTo=function(B,G,te,ue,q){throw new Error("arcTo not implemented.")},f.prototype.rect=function(B,G,te,ue){if(isNaN(B)||isNaN(G)||isNaN(te)||isNaN(ue))throw mr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(B,G),this.lineTo(B+te,G),this.lineTo(B+te,G+ue),this.lineTo(B,G+ue),this.lineTo(B,G),this.lineTo(B+te,G),this.lineTo(B,G)},f.prototype.fillRect=function(B,G,te,ue){if(isNaN(B)||isNaN(G)||isNaN(te)||isNaN(ue))throw mr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var q={};this.lineCap!=="butt"&&(q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(B,G,te,ue),this.fill(),q.hasOwnProperty("lineCap")&&(this.lineCap=q.lineCap),q.hasOwnProperty("lineJoin")&&(this.lineJoin=q.lineJoin)}},f.prototype.strokeRect=function(B,G,te,ue){if(isNaN(B)||isNaN(G)||isNaN(te)||isNaN(ue))throw mr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(B,G,te,ue),this.stroke())},f.prototype.clearRect=function(B,G,te,ue){if(isNaN(B)||isNaN(G)||isNaN(te)||isNaN(ue))throw mr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(B,G,te,ue))},f.prototype.save=function(B){B=typeof B!="boolean"||B;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),B){this.ctx.fontSize=this.pdf.internal.getFontSize();var ue=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ue}},f.prototype.restore=function(B){B=typeof B!="boolean"||B;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("Q");this.pdf.setPage(G),B&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(B){var G,te,ue,q;if(B.isCanvasGradient===!0&&(B=B.getColor()),!B)return{r:0,g:0,b:0,a:0,style:B};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(B))G=0,te=0,ue=0,q=0;else{var X=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(B);if(X!==null)G=parseInt(X[1]),te=parseInt(X[2]),ue=parseInt(X[3]),q=1;else if((X=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(B))!==null)G=parseInt(X[1]),te=parseInt(X[2]),ue=parseInt(X[3]),q=parseFloat(X[4]);else{if(q=1,typeof B=="string"&&B.charAt(0)!=="#"){var Q=new cM(B);B=Q.ok?Q.toHex():"#000000"}B.length===4?(G=B.substring(1,2),G+=G,te=B.substring(2,3),te+=te,ue=B.substring(3,4),ue+=ue):(G=B.substring(1,3),te=B.substring(3,5),ue=B.substring(5,7)),G=parseInt(G,16),te=parseInt(te,16),ue=parseInt(ue,16)}}return{r:G,g:te,b:ue,a:q,style:B}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},p=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(B,G,te,ue){if(isNaN(G)||isNaN(te)||typeof B!="string")throw mr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ue=isNaN(ue)?void 0:ue,!h.call(this)){var q=R(this.ctx.transform.rotation),X=this.ctx.transform.scaleX;I.call(this,{text:B,x:G,y:te,scale:X,angle:q,align:this.textAlign,maxWidth:ue})}},f.prototype.strokeText=function(B,G,te,ue){if(isNaN(G)||isNaN(te)||typeof B!="string")throw mr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){ue=isNaN(ue)?void 0:ue;var q=R(this.ctx.transform.rotation),X=this.ctx.transform.scaleX;I.call(this,{text:B,x:G,y:te,scale:X,renderingMode:"stroke",angle:q,align:this.textAlign,maxWidth:ue})}},f.prototype.measureText=function(B){if(typeof B!="string")throw mr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,te=this.pdf.internal.scaleFactor,ue=G.internal.getFontSize(),q=G.getStringUnitWidth(B)*ue/G.internal.scaleFactor;return new function(X){var Q=(X=X||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Q}}),this}({width:q*=Math.round(96*te/72*1e4)/1e4})},f.prototype.scale=function(B,G){if(isNaN(B)||isNaN(G))throw mr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var te=new c(B,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(te)},f.prototype.rotate=function(B){if(isNaN(B))throw mr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new c(Math.cos(B),Math.sin(B),-Math.sin(B),Math.cos(B),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},f.prototype.translate=function(B,G){if(isNaN(B)||isNaN(G))throw mr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var te=new c(1,0,0,1,B,G);this.ctx.transform=this.ctx.transform.multiply(te)},f.prototype.transform=function(B,G,te,ue,q,X){if(isNaN(B)||isNaN(G)||isNaN(te)||isNaN(ue)||isNaN(q)||isNaN(X))throw mr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Q=new c(B,G,te,ue,q,X);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.setTransform=function(B,G,te,ue,q,X){B=isNaN(B)?1:B,G=isNaN(G)?0:G,te=isNaN(te)?0:te,ue=isNaN(ue)?1:ue,q=isNaN(q)?0:q,X=isNaN(X)?0:X,this.ctx.transform=new c(B,G,te,ue,q,X)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(B,G,te,ue,q,X,Q,ne,pe){var se=this.pdf.getImageProperties(B),W=1,fe=1,Ae=1,Y=1;ue!==void 0&&ne!==void 0&&(Ae=ne/ue,Y=pe/q,W=se.width/ue*ne/ue,fe=se.height/q*pe/q),X===void 0&&(X=G,Q=te,G=0,te=0),ue!==void 0&&ne===void 0&&(ne=ue,pe=q),ue===void 0&&ne===void 0&&(ne=se.width,pe=se.height);var Ce=this.ctx.transform.decompose(),qe=R(Ce.rotate.shx),be=new c,je=(be=(be=(be=be.multiply(Ce.translate)).multiply(Ce.skew)).multiply(Ce.scale)).applyToRectangle(new l(X-G*Ae,Q-te*Y,ue*W,q*fe));if(this.autoPaging){for(var Me,Ue=v.call(this,je),Ge=[],We=0;We<Ue.length;We+=1)Ge.indexOf(Ue[We])===-1&&Ge.push(Ue[We]);N(Ge);for(var Et=Ge[0],pt=Ge[Ge.length-1],vt=Et;vt<pt+1;vt++){this.pdf.setPage(vt);var $t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ye=vt===1?this.posY+this.margin[0]:this.margin[0],Be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Je=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Fe=vt===1?0:Be+(vt-2)*Je;if(this.ctx.clip_path.length!==0){var Pt=this.path;Me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Me,this.posX+this.margin[3],-Fe+ye+this.ctx.prevPageLastElemOffset),S.call(this,"fill",!0),this.path=Pt}var Ft=JSON.parse(JSON.stringify(je));Ft=b([Ft],this.posX+this.margin[3],-Fe+ye+this.ctx.prevPageLastElemOffset)[0];var At=(vt>Et||vt<pt)&&y.call(this);At&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$t,Je,null).clip().discardPath()),this.pdf.addImage(B,"JPEG",Ft.x,Ft.y,Ft.w,Ft.h,null,null,qe),At&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(B,"JPEG",je.x,je.y,je.w,je.h,null,null,qe)};var v=function(B,G,te){var ue=[];G=G||this.pdf.internal.pageSize.width,te=te||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var q=this.posY+this.ctx.prevPageLastElemOffset;switch(B.type){default:case"mt":case"lt":ue.push(Math.floor((B.y+q)/te)+1);break;case"arc":ue.push(Math.floor((B.y+q-B.radius)/te)+1),ue.push(Math.floor((B.y+q+B.radius)/te)+1);break;case"qct":var X=U(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x,B.y);ue.push(Math.floor((X.y+q)/te)+1),ue.push(Math.floor((X.y+X.h+q)/te)+1);break;case"bct":var Q=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x2,B.y2,B.x,B.y);ue.push(Math.floor((Q.y+q)/te)+1),ue.push(Math.floor((Q.y+Q.h+q)/te)+1);break;case"rect":ue.push(Math.floor((B.y+q)/te)+1),ue.push(Math.floor((B.y+B.h+q)/te)+1)}for(var ne=0;ne<ue.length;ne+=1)for(;this.pdf.internal.getNumberOfPages()<ue[ne];)x.call(this);return ue},x=function(){var B=this.fillStyle,G=this.strokeStyle,te=this.font,ue=this.lineCap,q=this.lineWidth,X=this.lineJoin;this.pdf.addPage(),this.fillStyle=B,this.strokeStyle=G,this.font=te,this.lineCap=ue,this.lineWidth=q,this.lineJoin=X},b=function(B,G,te){for(var ue=0;ue<B.length;ue++)switch(B[ue].type){case"bct":B[ue].x2+=G,B[ue].y2+=te;case"qct":B[ue].x1+=G,B[ue].y1+=te;default:B[ue].x+=G,B[ue].y+=te}return B},N=function(B){return B.sort(function(G,te){return G-te})},w=function(B,G){var te=this.fillStyle,ue=this.strokeStyle,q=this.lineCap,X=this.lineWidth,Q=Math.abs(X*this.ctx.transform.scaleX),ne=this.lineJoin;if(this.autoPaging){for(var pe,se,W=JSON.parse(JSON.stringify(this.path)),fe=JSON.parse(JSON.stringify(this.path)),Ae=[],Y=0;Y<fe.length;Y++)if(fe[Y].x!==void 0)for(var Ce=v.call(this,fe[Y]),qe=0;qe<Ce.length;qe+=1)Ae.indexOf(Ce[qe])===-1&&Ae.push(Ce[qe]);for(var be=0;be<Ae.length;be++)for(;this.pdf.internal.getNumberOfPages()<Ae[be];)x.call(this);N(Ae);for(var je=Ae[0],Me=Ae[Ae.length-1],Ue=je;Ue<Me+1;Ue++){this.pdf.setPage(Ue),this.fillStyle=te,this.strokeStyle=ue,this.lineCap=q,this.lineWidth=Q,this.lineJoin=ne;var Ge=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],We=Ue===1?this.posY+this.margin[0]:this.margin[0],Et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],vt=Ue===1?0:Et+(Ue-2)*pt;if(this.ctx.clip_path.length!==0){var $t=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(pe,this.posX+this.margin[3],-vt+We+this.ctx.prevPageLastElemOffset),S.call(this,B,!0),this.path=$t}if(se=JSON.parse(JSON.stringify(W)),this.path=b(se,this.posX+this.margin[3],-vt+We+this.ctx.prevPageLastElemOffset),G===!1||Ue===0){var ye=(Ue>je||Ue<Me)&&y.call(this);ye&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,pt,null).clip().discardPath()),S.call(this,B,G),ye&&this.pdf.restoreGraphicsState()}this.lineWidth=X}this.path=W}else this.lineWidth=Q,S.call(this,B,G),this.lineWidth=X},S=function(B,G){if((B!=="stroke"||G||!p.call(this))&&(B==="stroke"||G||!h.call(this))){for(var te,ue,q=[],X=this.path,Q=0;Q<X.length;Q++){var ne=X[Q];switch(ne.type){case"begin":q.push({begin:!0});break;case"close":q.push({close:!0});break;case"mt":q.push({start:ne,deltas:[],abs:[]});break;case"lt":var pe=q.length;if(X[Q-1]&&!isNaN(X[Q-1].x)&&(te=[ne.x-X[Q-1].x,ne.y-X[Q-1].y],pe>0)){for(;pe>=0;pe--)if(q[pe-1].close!==!0&&q[pe-1].begin!==!0){q[pe-1].deltas.push(te),q[pe-1].abs.push(ne);break}}break;case"bct":te=[ne.x1-X[Q-1].x,ne.y1-X[Q-1].y,ne.x2-X[Q-1].x,ne.y2-X[Q-1].y,ne.x-X[Q-1].x,ne.y-X[Q-1].y],q[q.length-1].deltas.push(te);break;case"qct":var se=X[Q-1].x+2/3*(ne.x1-X[Q-1].x),W=X[Q-1].y+2/3*(ne.y1-X[Q-1].y),fe=ne.x+2/3*(ne.x1-ne.x),Ae=ne.y+2/3*(ne.y1-ne.y),Y=ne.x,Ce=ne.y;te=[se-X[Q-1].x,W-X[Q-1].y,fe-X[Q-1].x,Ae-X[Q-1].y,Y-X[Q-1].x,Ce-X[Q-1].y],q[q.length-1].deltas.push(te);break;case"arc":q.push({deltas:[],abs:[],arc:!0}),Array.isArray(q[q.length-1].abs)&&q[q.length-1].abs.push(ne)}}ue=G?null:B==="stroke"?"stroke":"fill";for(var qe=!1,be=0;be<q.length;be++)if(q[be].arc)for(var je=q[be].abs,Me=0;Me<je.length;Me++){var Ue=je[Me];Ue.type==="arc"?k.call(this,Ue.x,Ue.y,Ue.radius,Ue.startAngle,Ue.endAngle,Ue.counterclockwise,void 0,G,!qe):$.call(this,Ue.x,Ue.y),qe=!0}else if(q[be].close===!0)this.pdf.internal.out("h"),qe=!1;else if(q[be].begin!==!0){var Ge=q[be].start.x,We=q[be].start.y;E.call(this,q[be].deltas,Ge,We),qe=!0}ue&&P.call(this,ue),G&&D.call(this)}},_=function(B){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,te=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return B-te;case"top":return B+G-te;case"hanging":return B+G-2*te;case"middle":return B+G/2-te;default:return B}},T=function(B){return B+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var B=function(){};return B.colorStops=[],B.addColorStop=function(G,te){this.colorStops.push([G,te])},B.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},B.isCanvasGradient=!0,B},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(B,G,te,ue,q,X,Q,ne,pe){for(var se=z.call(this,te,ue,q,X),W=0;W<se.length;W++){var fe=se[W];W===0&&(pe?A.call(this,fe.x1+B,fe.y1+G):$.call(this,fe.x1+B,fe.y1+G)),M.call(this,B,G,fe.x2,fe.y2,fe.x3,fe.y3,fe.x4,fe.y4)}ne?D.call(this):P.call(this,Q)},P=function(B){switch(B){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(B,G){this.pdf.internal.out(r(B)+" "+n(G)+" m")},I=function(B){var G;switch(B.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var te,ue,q,X=this.pdf.getTextDimensions(B.text),Q=_.call(this,B.y),ne=T.call(this,Q)-X.h,pe=this.ctx.transform.applyToPoint(new o(B.x,Q));if(this.autoPaging){var se=this.ctx.transform.decompose(),W=new c;W=(W=(W=W.multiply(se.translate)).multiply(se.skew)).multiply(se.scale);for(var fe=this.ctx.transform.applyToRectangle(new l(B.x,Q,X.w,X.h)),Ae=W.applyToRectangle(new l(B.x,ne,X.w,X.h)),Y=v.call(this,Ae),Ce=[],qe=0;qe<Y.length;qe+=1)Ce.indexOf(Y[qe])===-1&&Ce.push(Y[qe]);N(Ce);for(var be=Ce[0],je=Ce[Ce.length-1],Me=be;Me<je+1;Me++){this.pdf.setPage(Me);var Ue=Me===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[2],Et=We-this.margin[0],pt=this.pdf.internal.pageSize.width-this.margin[1],vt=pt-this.margin[3],$t=Me===1?0:Ge+(Me-2)*Et;if(this.ctx.clip_path.length!==0){var ye=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(te,this.posX+this.margin[3],-1*$t+Ue),S.call(this,"fill",!0),this.path=ye}var Be=b([JSON.parse(JSON.stringify(Ae))],this.posX+this.margin[3],-$t+Ue+this.ctx.prevPageLastElemOffset)[0];B.scale>=.01&&(ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ue*B.scale),q=this.lineWidth,this.lineWidth=q*B.scale);var Je=this.autoPaging!=="text";if(Je||Be.y+Be.h<=We){if(Je||Be.y>=Ue&&Be.x<=pt){var Fe=Je?B.text:this.pdf.splitTextToSize(B.text,B.maxWidth||pt-Be.x)[0],Pt=b([JSON.parse(JSON.stringify(fe))],this.posX+this.margin[3],-$t+Ue+this.ctx.prevPageLastElemOffset)[0],Ft=Je&&(Me>be||Me<je)&&y.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vt,Et,null).clip().discardPath()),this.pdf.text(Fe,Pt.x,Pt.y,{angle:B.angle,align:G,renderingMode:B.renderingMode}),Ft&&this.pdf.restoreGraphicsState()}}else Be.y<We&&(this.ctx.prevPageLastElemOffset+=We-Be.y);B.scale>=.01&&(this.pdf.setFontSize(ue),this.lineWidth=q)}}else B.scale>=.01&&(ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ue*B.scale),q=this.lineWidth,this.lineWidth=q*B.scale),this.pdf.text(B.text,pe.x+this.posX,pe.y+this.posY,{angle:B.angle,align:G,renderingMode:B.renderingMode,maxWidth:B.maxWidth}),B.scale>=.01&&(this.pdf.setFontSize(ue),this.lineWidth=q)},$=function(B,G,te,ue){te=te||0,ue=ue||0,this.pdf.internal.out(r(B+te)+" "+n(G+ue)+" l")},E=function(B,G,te){return this.pdf.lines(B,G,te,null,null)},M=function(B,G,te,ue,q,X,Q,ne){this.pdf.internal.out([t(s(te+B)),t(i(ue+G)),t(s(q+B)),t(i(X+G)),t(s(Q+B)),t(i(ne+G)),"c"].join(" "))},z=function(B,G,te,ue){for(var q=2*Math.PI,X=Math.PI/2;G>te;)G-=q;var Q=Math.abs(te-G);Q<q&&ue&&(Q=q-Q);for(var ne=[],pe=ue?-1:1,se=G;Q>1e-5;){var W=se+pe*Math.min(Q,X);ne.push(Z.call(this,B,se,W)),Q-=Math.abs(W-se),se=W}return ne},Z=function(B,G,te){var ue=(te-G)/2,q=B*Math.cos(ue),X=B*Math.sin(ue),Q=q,ne=-X,pe=Q*Q+ne*ne,se=pe+Q*q+ne*X,W=4/3*(Math.sqrt(2*pe*se)-se)/(Q*X-ne*q),fe=Q-W*ne,Ae=ne+W*Q,Y=fe,Ce=-Ae,qe=ue+G,be=Math.cos(qe),je=Math.sin(qe);return{x1:B*Math.cos(G),y1:B*Math.sin(G),x2:fe*be-Ae*je,y2:fe*je+Ae*be,x3:Y*be-Ce*je,y3:Y*je+Ce*be,x4:B*Math.cos(te),y4:B*Math.sin(te)}},R=function(B){return 180*B/Math.PI},U=function(B,G,te,ue,q,X){var Q=B+.5*(te-B),ne=G+.5*(ue-G),pe=q+.5*(te-q),se=X+.5*(ue-X),W=Math.min(B,q,Q,pe),fe=Math.max(B,q,Q,pe),Ae=Math.min(G,X,ne,se),Y=Math.max(G,X,ne,se);return new l(W,Ae,fe-W,Y-Ae)},re=function(B,G,te,ue,q,X,Q,ne){var pe,se,W,fe,Ae,Y,Ce,qe,be,je,Me,Ue,Ge,We,Et=te-B,pt=ue-G,vt=q-te,$t=X-ue,ye=Q-q,Be=ne-X;for(se=0;se<41;se++)be=(Ce=(W=B+(pe=se/40)*Et)+pe*((Ae=te+pe*vt)-W))+pe*(Ae+pe*(q+pe*ye-Ae)-Ce),je=(qe=(fe=G+pe*pt)+pe*((Y=ue+pe*$t)-fe))+pe*(Y+pe*(X+pe*Be-Y)-qe),se==0?(Me=be,Ue=je,Ge=be,We=je):(Me=Math.min(Me,be),Ue=Math.min(Ue,je),Ge=Math.max(Ge,be),We=Math.max(We,je));return new l(Math.round(Me),Math.round(Ue),Math.round(Ge-Me),Math.round(We-Ue))},de=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var B,G,te=(B=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:B,lineDashOffset:G}));this.prevLineDash!==te&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=te)}}})(ct.API),function(e){var t=function(o){var l,c,u,d,f,m,h,p,y,v;for(c=[],u=0,d=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;d>u;u+=4)(f=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(m=(f=((f=((f=((f=(f-(v=f%85))/85)-(y=f%85))/85)-(p=f%85))/85)-(h=f%85))/85)%85,c.push(m+33,h+33,p+33,y+33,v+33)):c.push(122);return function(x,b){for(var N=b;N>0;N--)x.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,u,d,f,m=String,h="length",p=255,y="charCodeAt",v="slice",x="replace";for(o[v](-2),o=o[v](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),u=[],d=0,f=(o+=l="uuuuu"[v](o[h]%5||5))[h];f>d;d+=5)c=52200625*(o[y](d)-33)+614125*(o[y](d+1)-33)+7225*(o[y](d+2)-33)+85*(o[y](d+3)-33)+(o[y](d+4)-33),u.push(p&c>>24,p&c>>16,p&c>>8,p&c);return function(b,N){for(var w=N;w>0;w--)b.pop()}(u,l[h]),m.fromCharCode.apply(m,u)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},i=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=GN(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};e.processDataByFilters=function(o,l){var c=0,u=o||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=s(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(ct.API),function(e){e.loadFile=function(t,r,n){return function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,d){var f=new XMLHttpRequest,m=0,h=function(p){var y=p.length,v=[],x=String.fromCharCode;for(m=0;m<y;m+=1)v.push(x(255&p.charCodeAt(m)));return v.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(h(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)}(s,i,o)}catch{}return l}(t,r,n)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile}(ct.API),function(e){function t(){return(bt.html2canvas?Promise.resolve(bt.html2canvas):_b(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(bt.DOMPurify?Promise.resolve(bt.DOMPurify):_b(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=sr(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},s=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},i=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(l(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return(d=d.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(r).then(function(u){return this.set({src:s("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var h=0;h<d.length;++h){var p=d[h],y=p.src.find(function(v){return v.format==="truetype"});y&&u.addFont(y.url,p.ref.name,p.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,u.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(m){return u.updateProgress(null,d),m}).then(d,f).then(function(m){return u.updateProgress(1),m})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:o.convert(Object.assign({},d),Promise.prototype),m=u.call(f,l,c);return o.convert(m,d.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,ct.getPageSize=function(l,c,u){if(sr(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var f,m=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var p,y=0,v=0;if(h.hasOwnProperty(m))y=h[m][1]/f,v=h[m][0]/f;else try{y=u[1],v=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",v>y&&(p=v,v=y,y=p);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",y>v&&(p=v,v=y,y=p)}return{width:v,height:y,unit:c,k:f,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Hb):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}}(ct.API),ct.API.addJS=function(e){return Z6=e,this.internal.events.subscribe("postPutResources",function(){ug=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ug+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),J6=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Z6+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){ug!==void 0&&J6!==void 0&&this.internal.out("/Names <</JavaScript "+ug+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var f=r.internal.newObject();d.push(f);var m=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var o={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(ct.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,s,i,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(f){for(var m,h=256*f.charCodeAt(4)+f.charCodeAt(5),p=f.length,y={width:0,height:0,numcomponents:1},v=4;v<p;v+=2){if(v+=h,t.indexOf(f.charCodeAt(v+1))!==-1){m=256*f.charCodeAt(v+5)+f.charCodeAt(v+6),y={width:256*f.charCodeAt(v+7)+f.charCodeAt(v+8),height:m,numcomponents:f.charCodeAt(v+9)};break}h=256*f.charCodeAt(v+2)+f.charCodeAt(v+3)}return y}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:s}}return d}}(ct.API),ct.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,i=mye(e,{checkCrc:!0}),o=i.width,l=i.height,c=i.channels,u=i.palette,d=i.depth;s=u&&c===1?function(k){for(var P=k.width,D=k.height,A=k.data,I=k.palette,$=k.depth,E=!1,M=[],z=[],Z=void 0,R=!1,U=0,re=0;re<I.length;re++){var de=r6(I[re],4),B=de[0],G=de[1],te=de[2],ue=de[3];M.push(B,G,te),ue!=null&&(ue===0?(U++,z.length<1&&z.push(re)):ue<255&&(R=!0))}if(R||U>1){E=!0,z=void 0;var q=P*D;Z=new Uint8Array(q);for(var X=new DataView(A.buffer),Q=0;Q<q;Q++){var ne=Wb(X,Q,$),pe=r6(I[ne],4)[3];Z[Q]=pe}}else U===0&&(z=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:E?8:void 0,colorBytes:A,alphaBytes:Z,needSMask:E,palette:M,mask:z}}(i):c===2||c===4?function(k){for(var P=k.data,D=k.width,A=k.height,I=k.channels,$=k.depth,E=I===2?"DeviceGray":"DeviceRGB",M=I-1,z=D*A,Z=M,R=z*Z,U=1*z,re=Math.ceil(R*$/8),de=Math.ceil(U*$/8),B=new Uint8Array(re),G=new Uint8Array(de),te=new DataView(P.buffer),ue=new DataView(B.buffer),q=new DataView(G.buffer),X=!1,Q=0;Q<z;Q++){for(var ne=Q*I,pe=0;pe<Z;pe++)oC(ue,Wb(te,ne+pe,$),Q*Z+pe,$);var se=Wb(te,ne+Z,$);se<(1<<$)-1&&(X=!0),oC(q,se,1*Q,$)}return{colorSpace:E,colorsPerPixel:M,sMaskBitsPerComponent:X?$:void 0,colorBytes:B,alphaBytes:G,needSMask:X}}(i):function(k){var P=k.data,D=k.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:D,colorsPerPixel:D==="DeviceGray"?1:3,colorBytes:P instanceof Uint16Array?function(A){for(var I=A.length,$=new Uint8Array(2*I),E=new DataView($.buffer,$.byteOffset,$.byteLength),M=0;M<I;M++)E.setUint16(2*M,A[M],!1);return $}(P):P,needSMask:!1}}(i);var f,m,h,p=s,y=p.colorSpace,v=p.colorsPerPixel,x=p.sMaskBitsPerComponent,b=p.colorBytes,N=p.alphaBytes,w=p.needSMask,S=p.palette,_=p.mask,T=null;return n!==ct.API.image_compression.NONE&&typeof GN=="function"?(T=function(k){var P;switch(k){case ct.API.image_compression.FAST:P=11;break;case ct.API.image_compression.MEDIUM:P=13;break;case ct.API.image_compression.SLOW:P=14;break;default:P=12}return P}(n),f=this.decode.FLATE_DECODE,m="/Predictor ".concat(T," /Colors ").concat(v," /BitsPerComponent ").concat(d," /Columns ").concat(o),e=rC(b,Math.ceil(o*v*d/8),v,d,n),w&&(h=rC(N,Math.ceil(o*x/8),1,x,n))):(f=void 0,m=void 0,e=b,w&&(h=N)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:e,index:t,filter:f,decodeParameters:m,transparency:_,palette:S,sMask:h,predictor:T,width:o,height:l,bitsPerComponent:d,sMaskBitsPerComponent:x,colorSpace:y}}},function(e){e.processGIF89A=function(t,r,n,s){var i=new Rye(t),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new Gb(100).encode(u,100);return e.processJPEG.call(this,d,r,n,s)},e.processGIF87A=e.processGIF89A}(ct.API),Qs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Qs.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){mr.log("bit decode error:"+r)}},Qs.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Qs.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*s*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*s+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Qs.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Qs.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,d=n*this.width*4+4*s;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},Qs.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,d=s*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},Qs.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Qs.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=n,this.data[l+3]=o}},Qs.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,s){var i=new Qs(t,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new Gb(100).encode(c,100);return e.processJPEG.call(this,u,r,n,s)}}(ct.API),cC.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,s){var i=new cC(t),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new Gb(100).encode(c,100);return e.processJPEG.call(this,u,r,n,s)}}(ct.API),ct.API.processRGBA=function(e,t,r){for(var n=e.data,s=n.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),l=0,c=0,u=0;u<s;u+=4){var d=n[u],f=n[u+1],m=n[u+2],h=n[u+3];i[l++]=d,i[l++]=f,i[l++]=m,o[c++]=h}var p=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:p,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ct.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ku=ct.API,dg=Ku.getCharWidthsArray=function(e,t){var r,n,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:s.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,m=0,h=e.length,p=0,y=l[0]||c,v=[];for(r=0;r<h;r++)n=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?v.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(m=f&&sr(u[n])==="object"&&!isNaN(parseInt(u[n][p],10))?u[n][p]/d:0,v.push((l[n]||y)/c+m)),p=n;return v},Q6=Ku.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Ku.processArabic&&(e=Ku.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,s)/r:dg.apply(this,arguments).reduce(function(i,o){return i+o},0)},eC=function(e,t,r,n){for(var s=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<r;)l+=t[i],i++;s.push(e.slice(0,i));var c=i;for(l=0;i!==o;)l+t[i]>n&&(s.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&s.push(e.slice(c,i)),s},tC=function(e,t,r){r||(r={});var n,s,i,o,l,c,u,d=[],f=[d],m=r.textIndent||0,h=0,p=0,y=e.split(" "),v=dg.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?y[0].length+2:r.lineIndent||0){var x=Array(c).join(" "),b=[];y.map(function(w){(w=w.split(/\s*\n/)).length>1?b=b.concat(w.map(function(S,_){return(_&&S.length?`
`:"")+S})):b.push(w[0])}),y=b,c=Q6.apply(this,[x,r])}for(i=0,o=y.length;i<o;i++){var N=0;if(n=y[i],c&&n[0]==`
`&&(n=n.substr(1),N=1),m+h+(p=(s=dg.apply(this,[n,r])).reduce(function(w,S){return w+S},0))>t||N){if(p>t){for(l=eC.apply(this,[n,s,t-(m+h),t]),d.push(l.shift()),d=[l.pop()];l.length;)f.push([l.shift()]);p=s.slice(n.length-(d[0]?d[0].length:0)).reduce(function(w,S){return w+S},0)}else d=[n];f.push(d),m=p+c,h=v}else d.push(n),m+=h+p,h=v}return u=c?function(w,S){return(S?x:"")+w.join(" ")}:function(w){return w.join(" ")},f.map(u)},Ku.splitTextToSize=function(e,t,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle),m="Unicode";return f.metadata[m]?{widths:f.metadata[m].widths||{0:1},kerning:f.metadata[m].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(tC.apply(this,[n[l],o,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},s={},i=0;i<16;i++)n[r[i]]=t[i],s[t[i]]=r[i];var o=function(m){return"0x"+parseInt(m,10).toString(16)},l=e.__fontmetrics__.compress=function(m){var h,p,y,v,x=["{"];for(var b in m){if(h=m[b],isNaN(parseInt(b,10))?p="'"+b+"'":(b=parseInt(b,10),p=(p=o(b).slice(2)).slice(0,-1)+s[p.slice(-1)]),typeof h=="number")h<0?(y=o(h).slice(3),v="-"):(y=o(h).slice(2),v=""),y=v+y.slice(0,-1)+s[y.slice(-1)];else{if(sr(h)!=="object")throw new Error("Don't know what to do with value type "+sr(h)+".");y=l(h)}x.push(p+y)}return x.push("}"),x.join("")},c=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,y,v,x={},b=1,N=x,w=[],S="",_="",T=m.length-1,k=1;k<T;k+=1)(v=m[k])=="'"?h?(y=h.join(""),h=void 0):h=[]:h?h.push(v):v=="{"?(w.push([N,y]),N={},y=void 0):v=="}"?((p=w.pop())[0][p[1]]=N,y=void 0,N=p[0]):v=="-"?b=-1:y===void 0?n.hasOwnProperty(v)?(S+=n[v],y=parseInt(S,16)*b,b=1,S=""):S+=v:n.hasOwnProperty(v)?(_+=n[v],N[y]=parseInt(_,16)*b,b=1,y=void 0,_=""):_+=v;return x},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var h=m.font,p=f.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var y=d.Unicode[h.postScriptName];y&&(h.metadata.Unicode.encoding=y,h.encoding=y.codePages[0])}])}(ct.API),function(e){var t=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};e.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Og(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,n)}}])}(ct),ct.API.addSvgAsImage=function(e,t,r,n,s,i,o,l){if(isNaN(t)||isNaN(r))throw mr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(s))throw mr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=s;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(bt.canvg?Promise.resolve(bt.canvg):_b(()=>import("./index.es-x6NS3BA2.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(u,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(d)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),t,r,n,s,o,l)})},ct.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,r);return this},ct.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,f=0;function m(p,y){var v,x=!1;for(v=0;v<p.length;v+=1)p[v]===y&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=l.length;for(f=0;f<h;f+=1)r[l[f]].value=r[l[f]].defaultValue,r[l[f]].explicitSet=!1}if(sr(e)==="object"){for(s in e)if(i=e[s],m(l,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&m(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[s].value="["+c.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var p,y=[];for(p in r)r[p].explicitSet===!0&&(r[p].type==="name"?y.push("/"+p+" /"+r[p].value):y.push("/"+p+" "+r[p].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+l.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(ct.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,m=i.length;f<m;++f){if(l=o.metadata.characterToGlyph(i.charCodeAt(f)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(i){var o,l,c,u,d,f,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,m=(l=Object.keys(i).sort(function(h,p){return h-p})).length;f<m;f++)o=l[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),h="",p=0;p<m.length;p++)h+=String.fromCharCode(m[p]);var y=u();d({data:h,addLength1:!0,objectId:y}),c("endobj");var v=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var x=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Qu(l.fontName)),c("/FontFile2 "+y+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var b=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Qu(l.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+Qu(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+b+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,m="",h=0;h<f.length;h++)m+=String.fromCharCode(f[h]);var p=u();d({data:m,addLength1:!0,objectId:p}),c("endobj");var y=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var v=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+p+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Qu(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var x=0;x<l.metadata.hmtx.widths.length;x++)l.metadata.hmtx.widths[x]=parseInt(l.metadata.hmtx.widths[x]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+Qu(l.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,l=i.text||"",c=i.x,u=i.y,d=i.options||{},f=i.mutex||{},m=f.pdfEscape,h=f.activeFontKey,p=f.fonts,y=h,v="",x=0,b="",N=p[y].encoding;if(p[y].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:f};for(b=l,y=h,Array.isArray(l)&&(b=l[0]),x=0;x<b.length;x+=1)p[y].metadata.hasOwnProperty("cmap")&&(o=p[y].metadata.cmap.unicode.codeMap[b[x].charCodeAt(0)]),o||b[x].charCodeAt(0)<256&&p[y].metadata.hasOwnProperty("Unicode")?v+=b[x]:v+="";var w="";return parseInt(y.slice(1))<14||N==="WinAnsiEncoding"?w=m(v,y).split("").map(function(S){return S.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(w=r(v,p[y])),f.isHex=!0,{text:w,x:c,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([s(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(s(Object.assign({},c,{text:o[u]})).text);i.text=l}else i.text=s(Object.assign({},c,{text:o})).text}])}(ct),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(ct.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var s,i,o,l,c,u,d,f=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,N=0;this.__bidiEngine__={};var w=function(A){var I=A.charCodeAt(),$=I>>8,E=y[$];return E!==void 0?f[256*E+(255&I)]:$===252||$===253?"AL":x.test($)?"L":$===8?"R":"N"},S=function(A){for(var I,$=0;$<A.length;$++){if((I=w(A.charAt($)))==="L")return!1;if(I==="R")return!0}return!1},_=function(A,I,$,E){var M,z,Z,R,U=I[E];switch(U){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"N":case"AN":break;case"EN":b&&(U="AN");break;case"AL":b=!0,U="R";break;case"WS":case"BN":U="N";break;case"CS":E<1||E+1>=I.length||(M=$[E-1])!=="EN"&&M!=="AN"||(z=I[E+1])!=="EN"&&z!=="AN"?U="N":b&&(z="AN"),U=z===M?z:"N";break;case"ES":U=(M=E>0?$[E-1]:"B")==="EN"&&E+1<I.length&&I[E+1]==="EN"?"EN":"N";break;case"ET":if(E>0&&$[E-1]==="EN"){U="EN";break}if(b){U="N";break}for(Z=E+1,R=I.length;Z<R&&I[Z]==="ET";)Z++;U=Z<R&&I[Z]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(R=I.length,Z=E+1;Z<R&&I[Z]==="NSM";)Z++;if(Z<R){var re=A[E],de=re>=1425&&re<=2303||re===64286;if(M=I[Z],de&&(M==="R"||M==="AL")){U="R";break}}}U=E<1||(M=I[E-1])==="B"?"N":$[E-1];break;case"B":b=!1,s=!0,U=N;break;case"S":i=!0,U="N"}return U},T=function(A,I,$){var E=A.split("");return $&&k(E,$,{hiLevel:N}),E.reverse(),I&&I.reverse(),E.join("")},k=function(A,I,$){var E,M,z,Z,R,U=-1,re=A.length,de=0,B=[],G=N?h:m,te=[];for(b=!1,s=!1,i=!1,M=0;M<re;M++)te[M]=w(A[M]);for(z=0;z<re;z++){if(R=de,B[z]=_(A,te,B,z),E=240&(de=G[R][p[B[z]]]),de&=15,I[z]=Z=G[de][5],E>0)if(E===16){for(M=U;M<z;M++)I[M]=1;U=-1}else U=-1;if(G[de][6])U===-1&&(U=z);else if(U>-1){for(M=U;M<z;M++)I[M]=Z;U=-1}te[z]==="B"&&(I[z]=0),$.hiLevel|=Z}i&&function(ue,q,X){for(var Q=0;Q<X;Q++)if(ue[Q]==="S"){q[Q]=N;for(var ne=Q-1;ne>=0&&ue[ne]==="WS";ne--)q[ne]=N}}(te,I,re)},P=function(A,I,$,E,M){if(!(M.hiLevel<A)){if(A===1&&N===1&&!s)return I.reverse(),void($&&$.reverse());for(var z,Z,R,U,re=I.length,de=0;de<re;){if(E[de]>=A){for(R=de+1;R<re&&E[R]>=A;)R++;for(U=de,Z=R-1;U<Z;U++,Z--)z=I[U],I[U]=I[Z],I[Z]=z,$&&(z=$[U],$[U]=$[Z],$[Z]=z);de=R}de++}}},D=function(A,I,$){var E=A.split(""),M={hiLevel:N};return $||($=[]),k(E,$,M),function(z,Z,R){if(R.hiLevel!==0&&d)for(var U,re=0;re<z.length;re++)Z[re]===1&&(U=v.indexOf(z[re]))>=0&&(z[re]=v[U+1])}(E,$,M),P(2,E,I,$,M),P(1,E,I,$,M),E.join("")};return this.__bidiEngine__.doBidiReorder=function(A,I,$){if(function(M,z){if(z)for(var Z=0;Z<M.length;Z++)z[Z]=Z;l===void 0&&(l=S(M)),u===void 0&&(u=S(M))}(A,I),o||!c||u)if(o&&c&&l^u)N=l?1:0,A=T(A,I,$);else if(!o&&c&&u)N=l?1:0,A=D(A,I,$),A=T(A,I);else if(!o||l||c||u){if(o&&!c&&l^u)A=T(A,I),l?(N=0,A=D(A,I,$)):(N=1,A=D(A,I,$),A=T(A,I));else if(o&&l&&!c&&u)N=1,A=D(A,I,$),A=T(A,I);else if(!o&&!c&&l^u){var E=d;l?(N=1,A=D(A,I,$),N=0,d=!1,A=D(A,I,$),d=E):(N=0,A=D(A,I,$),A=T(A,I),N=1,d=!1,A=D(A,I,$),d=E,A=T(A,I))}}else N=0,A=D(A,I,$);else N=l?1:0,A=D(A,I,$);return A},this.__bidiEngine__.setOptions=function(A){A&&(o=A.isInputVisual,c=A.isOutputVisual,l=A.isInputRtl,u=A.isOutputRtl,d=A.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(o=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?o.push([r.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):o.push([r.doBidiReorder(s[l])]);n.text=o}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(ct),ct.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Wl(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Xye(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Mye(this.contents),this.head=new $ye(this),this.name=new qye(this),this.cmap=new bM(this),this.toUnicode={},this.hhea=new Fye(this),this.maxp=new Hye(this),this.hmtx=new Vye(this),this.post=new Uye(this),this.os2=new Bye(this),this.loca=new Kye(this),this.glyf=new Wye(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var s,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var yi,Wl=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,s;for(s=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,s,i,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,s,i;for(i=[],n=0,s=t.length;n<s;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),Mye=function(){var e;function t(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,s,i,o,l,c,u,d,f,m,h,p,y;for(y in h=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(h)/c),o=Math.floor(f/c),d=16*h-f,(s=new Wl).writeInt(this.scalarType),s.writeShort(h),s.writeShort(f),s.writeShort(o),s.writeShort(d),i=16*h,u=s.pos+i,l=null,p=[],r)for(m=r[y],s.writeString(y),s.writeInt(e(m)),s.writeInt(u),s.writeInt(m.length),p=p.concat(m),y==="head"&&(l=u),u+=m.length;u%4;)p.push(0),u++;return s.write(p),n=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(n),s.data},e=function(r){var n,s,i,o;for(r=wM.call(r);r.length%4;)r.push(0);for(i=new Wl(r),s=0,n=0,o=r.length;n<o;n=n+=4)s+=i.readUInt32();return 4294967295&s},t}(),Dye={}.hasOwnProperty,Ki=function(e,t){for(var r in t)Dye.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};yi=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var $ye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ki(e,yi),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Wl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),uC=function(){function e(t,r){var n,s,i,o,l,c,u,d,f,m,h,p,y,v,x,b,N;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(h=t.readUInt16(),m=h/2,t.pos+=6,i=function(){var w,S;for(S=[],c=w=0;0<=m?w<m:w>m;c=0<=m?++w:--w)S.push(t.readUInt16());return S}(),t.pos+=2,y=function(){var w,S;for(S=[],c=w=0;0<=m?w<m:w>m;c=0<=m?++w:--w)S.push(t.readUInt16());return S}(),u=function(){var w,S;for(S=[],c=w=0;0<=m?w<m:w>m;c=0<=m?++w:--w)S.push(t.readUInt16());return S}(),d=function(){var w,S;for(S=[],c=w=0;0<=m?w<m:w>m;c=0<=m?++w:--w)S.push(t.readUInt16());return S}(),s=(this.length-t.pos+this.offset)/2,l=function(){var w,S;for(S=[],c=w=0;0<=s?w<s:w>s;c=0<=s?++w:--w)S.push(t.readUInt16());return S}(),c=x=0,N=i.length;x<N;c=++x)for(v=i[c],n=b=p=y[c];p<=v?b<=v:b>=v;n=p<=v?++b:--b)d[c]===0?o=n+u[c]:(o=l[d[c]/2+(n-p)-(m-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}t.pos=f}return e.encode=function(t,r){var n,s,i,o,l,c,u,d,f,m,h,p,y,v,x,b,N,w,S,_,T,k,P,D,A,I,$,E,M,z,Z,R,U,re,de,B,G,te,ue,q,X,Q,ne,pe,se,W;switch(E=new Wl,o=Object.keys(t).sort(function(fe,Ae){return fe-Ae}),r){case"macroman":for(y=0,v=function(){var fe=[];for(p=0;p<256;++p)fe.push(0);return fe}(),b={0:0},i={},M=0,U=o.length;M<U;M++)b[ne=t[s=o[M]]]==null&&(b[ne]=++y),i[s]={old:t[s],new:b[t[s]]},v[s]=b[t[s]];return E.writeUInt16(1),E.writeUInt16(0),E.writeUInt32(12),E.writeUInt16(0),E.writeUInt16(262),E.writeUInt16(0),E.write(v),{charMap:i,subtable:E.data,maxGlyphID:y+1};case"unicode":for(I=[],f=[],N=0,b={},n={},x=u=null,z=0,re=o.length;z<re;z++)b[S=t[s=o[z]]]==null&&(b[S]=++N),n[s]={old:S,new:b[S]},l=b[S]-s,x!=null&&l===u||(x&&f.push(x),I.push(s),u=l),x=s;for(x&&f.push(x),f.push(65535),I.push(65535),D=2*(P=I.length),k=2*Math.pow(Math.log(P)/Math.LN2,2),m=Math.log(k/2)/Math.LN2,T=2*P-k,c=[],_=[],h=[],p=Z=0,de=I.length;Z<de;p=++Z){if(A=I[p],d=f[p],A===65535){c.push(0),_.push(0);break}if(A-($=n[A].new)>=32768)for(c.push(0),_.push(2*(h.length+P-p)),s=R=A;A<=d?R<=d:R>=d;s=A<=d?++R:--R)h.push(n[s].new);else c.push($-A),_.push(0)}for(E.writeUInt16(3),E.writeUInt16(1),E.writeUInt32(12),E.writeUInt16(4),E.writeUInt16(16+8*P+2*h.length),E.writeUInt16(0),E.writeUInt16(D),E.writeUInt16(k),E.writeUInt16(m),E.writeUInt16(T),X=0,B=f.length;X<B;X++)s=f[X],E.writeUInt16(s);for(E.writeUInt16(0),Q=0,G=I.length;Q<G;Q++)s=I[Q],E.writeUInt16(s);for(pe=0,te=c.length;pe<te;pe++)l=c[pe],E.writeUInt16(l);for(se=0,ue=_.length;se<ue;se++)w=_[se],E.writeUInt16(w);for(W=0,q=h.length;W<q;W++)y=h[W],E.writeUInt16(y);return{charMap:n,subtable:E.data,maxGlyphID:N+1}}},e}(),bM=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ki(e,yi),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)r=new uC(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,s;return r==null&&(r="macroman"),n=uC.encode(t,r),(s=new Wl).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},e}(),Fye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ki(e,yi),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),Bye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ki(e,yi),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),Uye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ki(e,yi),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e}(),zye=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},qye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ki(e,yi),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,s,i,o,l,c,u,d,f,m;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},i=d=0,f=n.length;d<f;i=++d)s=n[i],t.pos=s.offset,u=t.readString(s.length),o=new zye(u,s),c[m=s.nameID]==null&&(c[m]=[]),c[s.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),Hye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ki(e,yi),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),Vye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ki(e,yi),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,s,i,o,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)d.push(t.readInt16());return d}(),this.widths=(function(){var u,d,f,m;for(m=[],u=0,d=(f=this.metrics).length;u<d;u++)i=f[u],m.push(i.advance);return m}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=s?o<s:o>s;r=0<=s?++o:--o)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),wM=[].slice,Wye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ki(e,yi),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,s,i,o,l,c,u,d,f;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(t),(s=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,o=(l=new Wl(r.read(s))).readShort(),u=l.readShort(),f=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[t]=o===-1?new Yye(l,u,f,c,d):new Gye(l,o,u,f,c,d),this.cache[t]))},e.prototype.encode=function(t,r,n){var s,i,o,l,c;for(o=[],i=[],l=0,c=r.length;l<c;l++)s=t[r[l]],i.push(o.length),s&&(o=o.concat(s.encode(n)));return i.push(o.length),{table:o,offsets:i}},e}(),Gye=function(){function e(t,r,n,s,i,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Yye=function(){function e(t,r,n,s,i){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Wl(wM.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Kye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ki(e,yi),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),s=0,i=0,o=0;o<n.length;++o)if(n[o]=s,i<r.length&&r[i]==o){++i,n[o]=s;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(s+=c)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},e}(),Xye=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=s[n];return t},e.prototype.glyphsFor=function(t){var r,n,s,i,o,l,c;for(s={},o=0,l=t.length;o<l;o++)s[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],s[i]=n;return s},e.prototype.encode=function(t,r){var n,s,i,o,l,c,u,d,f,m,h,p,y,v,x;for(s in n=bM.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),h={0:0},x=n.charMap)h[(c=x[s]).old]=c.new;for(p in m=n.maxGlyphID,o)p in h||(h[p]=m++);return d=function(b){var N,w;for(N in w={},b)w[b[N]]=N;return w}(h),f=Object.keys(d).sort(function(b,N){return b-N}),y=function(){var b,N,w;for(w=[],b=0,N=f.length;b<N;b++)l=f[b],w.push(d[l]);return w}(),i=this.font.glyf.encode(o,y,h),u=this.font.loca.encode(i.offsets,y),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();ct.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,s,i,o;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)o=r[s],i.push("/"+s+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t}();const en=20,Jye=210,NM=Jye-en*2,la=6,ki=10,Zye=16,Qye=11,eve=9;function go(e,t,r){return e.setFontSize(Qye),e.setFont("helvetica","bold"),e.setTextColor(40,40,40),e.text(t,en,r),e.setFont("helvetica","normal"),e.setFontSize(eve),e.setTextColor(60,60,60),r+la+2}function Gn(e,t,r,n){if(r==null||r==="")return n;const s=`${t}: ${r}`,i=e.splitTextToSize(s,NM);return e.text(i,en,n),n+i.length*la}function Da(e,t,r=40){return t+r>277?(e.addPage(),en+15):t}function jM(e){const t=new ct({unit:"mm",format:"a4"}),{patient:r,medicalHistory:n=[],progress:s=[],cases:i=[],healthRecords:o=[],invoices:l=[],latestVitals:c}=e;let u=en+5;if(t.setFontSize(Zye),t.setFont("helvetica","bold"),t.setTextColor(30,64,175),t.text("Patient Summary",en,u),u+=la,t.setFontSize(9),t.setFont("helvetica","normal"),t.setTextColor(100,100,100),t.text(`Generated ${new Date().toLocaleString()}  Confidential`,en,u),u+=la+ki,u=go(t,"Demographics",u),u=Gn(t,"Name",r.name,u),u=Gn(t,"Date of Birth",r.dateOfBirth?new Date(r.dateOfBirth).toLocaleDateString():"",u),u=Gn(t,"Status",r.status,u),u=Gn(t,"Condition",r.condition,u),u=Gn(t,"Email",r.email,u),u=Gn(t,"Phone",r.phone,u),u=Gn(t,"Address",r.address,u),u=Gn(t,"Admission Date",r.admissionDate?new Date(r.admissionDate).toLocaleDateString():"",u),u+=ki,u=Da(t,u),u=go(t,"Care Team & Emergency",u),u=Gn(t,"Assigned Specialist",r.assignedSpecialistName??r.assignedDoctorName,u),u=Gn(t,"Assigned Therapist",r.assignedTherapistName,u),u=Gn(t,"Assigned Nurse",r.assignedNurseName,u),u=Gn(t,"Emergency Contact",r.emergencyContact?`${r.emergencyContact}${r.emergencyPhone?` (${r.emergencyPhone})`:""}`:"",u),u+=ki,u=Da(t,u),i.length>0&&(u=go(t,"Cases",u),i.slice(0,10).forEach(f=>{u=Da(t,u,25),t.text(`${f.caseNumber}  ${f.status}  ${f.type}  Opened ${new Date(f.openedAt).toLocaleDateString()}`,en,u),u+=la,f.diagnosis&&(t.text(`Dx: ${f.diagnosis}`,en+5,u),u+=la),f.attending&&(t.text(`Attending: ${f.attending}  Visits: ${f.visitsCount}`,en+5,u),u+=la),u+=2}),u+=ki),(c==null?void 0:c.recordType)==="vital"&&c.data){u=Da(t,u,50),u=go(t,"Latest Vitals",u);const f=c.data,m=[];f.bloodPressure&&m.push(`BP: ${f.bloodPressure}`),f.heartRate!=null&&m.push(`HR: ${f.heartRate} bpm`),f.temperature!=null&&m.push(`Temp: ${f.temperature}F`),f.oxygenSaturation!=null&&m.push(`SpO2: ${f.oxygenSaturation}%`),f.weight!=null&&m.push(`Weight: ${f.weight} lbs`),f.bmi!=null&&m.push(`BMI: ${f.bmi}`),m.length>0&&(t.text(m.join("  |  "),en,u),u+=la),t.text(`Recorded ${new Date(c.timestamp).toLocaleString()} by ${c.updatedByName}`,en,u),u+=la+ki}if(n.length>0&&(u=Da(t,u,30),u=go(t,"Medical History",u),n.slice(0,15).forEach(f=>{u=Da(t,u,20),t.text(`${new Date(f.date).toLocaleDateString()}  ${f.diagnosis}`,en,u),u+=la,t.text(`Treatment: ${f.treatment}  Doctor: ${f.doctor}`,en+5,u),u+=la+2}),u+=ki),s.length>0&&(u=Da(t,u,30),u=go(t,"Progress Records",u),s.slice(-10).reverse().forEach(f=>{u=Da(t,u,15),t.text(`${new Date(f.date).toLocaleDateString()}  ${f.metric}: ${f.value} ${f.unit||""}`,en,u),u+=la+1}),u+=ki),o.length>0&&(u=Da(t,u,30),u=go(t,"Recent Health Records",u),o.slice(0,8).forEach(f=>{if(u=Da(t,u,18),t.text(`${f.recordType}  ${new Date(f.timestamp).toLocaleString()}  ${f.updatedByName}`,en,u),u+=la,f.notes){const m=t.splitTextToSize(f.notes,NM-5);t.text(m,en+5,u),u+=m.length*la}u+=2}),u+=ki),l.length>0){u=Da(t,u,50),u=go(t,"Billing & Invoices",u);const f=l.filter(y=>y.status==="paid"),m=l.filter(y=>y.status!=="paid"),h=f.reduce((y,v)=>y+v.amount,0),p=m.reduce((y,v)=>y+v.amount,0);t.text(`Total Paid: $${h.toFixed(2)}  |  Total Outstanding: $${p.toFixed(2)}`,en,u),u+=la+2,l.slice(0,8).forEach(y=>{u=Da(t,u,12),t.text(`${y.serviceName}  $${y.amount.toFixed(2)}  ${y.status}  Due ${new Date(y.dueDate).toLocaleDateString()}`,en,u),u+=la}),u+=ki}return(r.allergies||r.currentMedications||r.paymentType||r.insuranceProvider||r.referralSource)&&(u=Da(t,u,40),u=go(t,"Additional Information",u),u=Gn(t,"Payment Type",r.paymentType,u),u=Gn(t,"Insurance",r.insuranceProvider?`${r.insuranceProvider}${r.insuranceNumber?` (${r.insuranceNumber})`:""}`:"",u),u=Gn(t,"Allergies",r.allergies,u),u=Gn(t,"Current Medications",r.currentMedications,u),u=Gn(t,"Referral Source",r.referralSource,u),u+=ki),u=Da(t,u,20),t.setFontSize(8),t.setTextColor(120,120,120),t.text("This document is confidential and intended for authorized healthcare use only.",en,285),t.text(`Patient ID: ${r.id}  Document generated ${new Date().toISOString()}`,en,290),t}function tve(e){const t=jM(e),r=e.patient.name.replace(/[^a-z0-9]/gi,"_").slice(0,40);t.save(`Patient_Summary_${r}_${new Date().toISOString().slice(0,10)}.pdf`)}function rve(){var q,X,Q,ne,pe;const{id:e}=bp(),{user:t}=dr(),{addNotification:r}=Rr(),[n,s]=L.useState(!1),i=(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="biller",[o,l]=L.useState(!1),[c,u]=L.useState(!1),[d,f]=L.useState(""),[m,h]=L.useState(""),[p,y]=L.useState(""),[v,x]=L.useState("ROUTINE"),b=(t==null?void 0:t.role)==="nurse"||(t==null?void 0:t.role)==="specialist"||(t==null?void 0:t.role)==="therapist"||(t==null?void 0:t.role)==="admin",N=(t==null?void 0:t.role)==="receptionist"||(t==null?void 0:t.role)==="biller"||(t==null?void 0:t.role)==="specialist"||(t==null?void 0:t.role)==="therapist"||(t==null?void 0:t.role)==="admin",{data:w,loading:S,error:_,refetch:T}=st(async()=>{if(!e)return null;const[se,W,fe,Ae,Y]=await Promise.all([Mn.getPatient(e),Mn.getMedicalHistory(e),Mn.getProgressRecords(e),Mn.getPatientCases(e),ds.getPatientHealthRecords(e)]);return{patient:se,medicalHistory:W,progress:fe,cases:Ae,healthRecords:Y}},[e]),{data:k,loading:P}=st(()=>e?ei.getInvoices({patientId:e,limit:50}):Promise.resolve({invoices:[],pagination:void 0}),[e]),D=(k==null?void 0:k.invoices)??[],{data:A,refetch:I}=st(async()=>{if(!e)return{requests:[],pagination:{page:1,limit:20,total:0,totalPages:0}};const se=await qc.list({patientId:e,limit:50});return{requests:se.requests??[],pagination:se.pagination}},[e]),$=(A==null?void 0:A.requests)??[],E=ot(qc.create.bind(qc)),M=w==null?void 0:w.patient,z=L.useMemo(()=>{var se;return(se=w==null?void 0:w.progress)!=null&&se.length?w.progress.map(W=>({date:new Date(W.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),value:W.value,fullDate:W.date,metric:W.metric,unit:W.unit})):[]},[w==null?void 0:w.progress]),Z=(q=w==null?void 0:w.progress)!=null&&q.length?w.progress[w.progress.length-1]:void 0,R=L.useMemo(()=>w!=null&&w.healthRecords?w.healthRecords.slice().sort((se,W)=>new Date(W.timestamp).getTime()-new Date(se.timestamp).getTime()).slice(0,6):[],[w==null?void 0:w.healthRecords]),U=L.useMemo(()=>{if(!(w!=null&&w.healthRecords))return null;const se=w.healthRecords.filter(W=>W.recordType==="vital").sort((W,fe)=>new Date(fe.timestamp).getTime()-new Date(W.timestamp).getTime());return se.length>0?se[0]:null},[w==null?void 0:w.healthRecords]),re=ot(ds.createHealthRecord.bind(ds)),de=async se=>{if(e)try{await re.mutate({...se,patientId:e,recordType:"vital"}),r({title:"Vitals recorded",message:"Patient vitals have been recorded successfully.",type:"success",priority:"medium",category:"system",userId:"system"}),s(!1),await T()}catch(W){r({title:"Failed to record vitals",message:(W==null?void 0:W.message)||"Unable to record vitals. Please try again.",type:"error",priority:"high",category:"system",userId:"system"})}};if(S)return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary-500"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Loading patient profile..."})]})});if(_)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Unable to load patient profile"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:_.message??"Please try again later."}),a.jsx("button",{onClick:T,className:"mt-4 btn-primary",children:"Retry"})]});if(!M)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Patient not found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"The requested patient profile could not be found."}),a.jsx(Rn,{to:"/patients",className:"mt-4 btn-primary inline-block",children:"Back to Patients"})]});const B=()=>{if(!(!M||!w)){l(!0);try{tve({patient:M,medicalHistory:w.medicalHistory,progress:w.progress,cases:w.cases,healthRecords:w.healthRecords,invoices:D,latestVitals:U??void 0}),r({title:"PDF downloaded",message:"Patient summary has been downloaded.",type:"success",priority:"low",category:"system",userId:""})}catch(se){r({title:"Download failed",message:se instanceof Error?se.message:"Could not generate PDF.",type:"error",priority:"medium",category:"system",userId:""})}finally{l(!1)}}},G=()=>{if(!(!M||!w)){l(!0);try{const W=jM({patient:M,medicalHistory:w.medicalHistory,progress:w.progress,cases:w.cases,healthRecords:w.healthRecords,invoices:D,latestVitals:U??void 0}).output("blob"),fe=URL.createObjectURL(W),Ae=window.open(fe,"_blank");Ae?Ae.onload=()=>setTimeout(()=>URL.revokeObjectURL(fe),500):(URL.revokeObjectURL(fe),r({title:"Print",message:"Please allow pop-ups to open the PDF for printing, or use Download PDF.",type:"info",priority:"medium",category:"system",userId:""})),r({title:"PDF ready",message:"Patient summary opened in new tab. Use the browser print (Ctrl+P) to print.",type:"success",priority:"low",category:"system",userId:""})}catch(se){r({title:"Print failed",message:se instanceof Error?se.message:"Could not generate PDF.",type:"error",priority:"medium",category:"system",userId:""})}finally{l(!1)}}},te=["CBC","Malaria RDT","Renal Function Test","Liver Function Test","CRP","Extended Electrolyte Panel","Fasting Blood Sugar","HbA1c","Lipid Profile","Thyroid Function Test","Urinalysis","Stool Analysis","Blood Culture","Widal Test"],ue=async se=>{var fe,Ae;if(se.preventDefault(),!e)return;const W=d==="Other"?m.trim():d;if(!W){r({title:"Validation",message:"Please select or enter a test.",type:"error",userId:"",priority:"medium",category:"system"});return}try{await E.mutate({patientId:e,investigationName:W,priority:v,notes:p||void 0}),r({title:"Lab request submitted",message:`${W} has been requested. Lab staff will process it; you will see status updates here.`,type:"success",userId:"",priority:"low",category:"system"}),u(!1),f(""),h(""),y(""),x("ROUTINE"),I()}catch(Y){const Ce=((Ae=(fe=Y==null?void 0:Y.response)==null?void 0:fe.data)==null?void 0:Ae.message)??(Y==null?void 0:Y.message)??"Failed to submit lab request";r({title:"Request failed",message:String(Ce),type:"error",userId:"",priority:"medium",category:"system"})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Rn,{to:"/patients",className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:a.jsx(Tm,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:M.name}),a.jsx("p",{className:"text-sm text-gray-600",children:"Patient Profile"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{type:"button",onClick:B,disabled:o,className:"inline-flex items-center gap-2 btn-outline py-2 px-4 text-sm",children:[a.jsx(Ud,{className:"h-4 w-4"}),o?"Preparing":"Download PDF"]}),a.jsxs("button",{type:"button",onClick:G,disabled:o,className:"inline-flex items-center gap-2 btn-primary py-2 px-4 text-sm",children:[a.jsx(sw,{className:"h-4 w-4"}),"Print"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"text-center",children:[M.avatar&&a.jsx("img",{src:M.avatar.startsWith("http")?M.avatar:Oa(M.avatar),alt:M.name,className:"h-24 w-24 rounded-full object-cover mx-auto mb-4",onError:se=>{se.target.style.display="none"}}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:M.name}),M.condition&&a.jsx("p",{className:"text-gray-600",children:M.condition}),a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium mt-2 ${M.status==="active"?"status-active":M.status==="discharged"?"status-inactive":"status-pending"}`,children:M.status})]}),a.jsxs("div",{className:"mt-6 space-y-4 text-sm text-gray-600",children:[M.email&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Dy,{className:"h-4 w-4 mr-3"}),M.email]}),M.phone&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(ui,{className:"h-4 w-4 mr-3"}),M.phone]}),M.dateOfBirth&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mt,{className:"h-4 w-4 mr-3"}),"DOB: ",new Date(M.dateOfBirth).toLocaleDateString()]}),M.address&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(au,{className:"h-4 w-4 mr-3"}),M.address]}),M.assignedDoctorName&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Yr,{className:"h-4 w-4 mr-3"}),"Doctor: ",M.assignedDoctorName]}),M.assignedNurseName&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Yr,{className:"h-4 w-4 mr-3"}),"Nurse: ",M.assignedNurseName]}),M.emergencyContact&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Yr,{className:"h-4 w-4 mr-3"}),"Emergency: ",M.emergencyContact,M.emergencyPhone&&` (${M.emergencyPhone})`]}),M.admissionDate&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mt,{className:"h-4 w-4 mr-3"}),"Admitted: ",new Date(M.admissionDate).toLocaleDateString()]})]})]})}),a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Cases"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[(w==null?void 0:w.cases.length)??0," records"]})]}),w!=null&&w.cases.length?a.jsx("div",{className:"space-y-3",children:w.cases.slice().sort((se,W)=>new Date(W.openedAt).getTime()-new Date(se.openedAt).getTime()).map(se=>a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-gray-900",children:se.caseNumber}),a.jsx("span",{className:`status-badge ${se.status==="open"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:se.status}),a.jsx("span",{className:`status-badge ${se.type==="new"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:se.type})]}),a.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Opened ",new Date(se.openedAt).toLocaleString()]}),se.closedAt&&a.jsxs("p",{className:"text-xs text-gray-500",children:["Closed ",new Date(se.closedAt).toLocaleString()]}),se.diagnosis&&a.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:[a.jsx("strong",{children:"Dx:"})," ",se.diagnosis]}),se.attending&&a.jsxs("p",{className:"text-sm text-gray-700",children:[a.jsx("strong",{children:"Attending:"})," ",se.attending]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("p",{className:"text-xs text-gray-500",children:["Visits: ",se.visitsCount]})})]},se.id))}):a.jsx("p",{className:"text-sm text-gray-500",children:"No cases yet for this patient."})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Health Progress"}),a.jsx(Ls,{className:"h-5 w-5 text-primary-500"})]}),z.length?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"h-64",children:a.jsx(zh,{width:"100%",height:"100%",children:a.jsxs(TR,{data:z,children:[a.jsx(im,{strokeDasharray:"3 3"}),a.jsx(Io,{dataKey:"date"}),a.jsx(Lo,{}),a.jsx(Fa,{}),a.jsx(mu,{type:"monotone",dataKey:"value",stroke:"#0D6EFD",strokeWidth:2,dot:{fill:"#0D6EFD",strokeWidth:2,r:4}})]})})}),a.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Metric:"})," ",((X=z[0])==null?void 0:X.metric)||"Health Indicator"]}),Z&&a.jsxs("p",{children:[a.jsx("strong",{children:"Latest Value:"})," ",Z.value," ",Z.unit||""]})]})]}):a.jsx("p",{className:"text-sm text-gray-500",children:"No progress records available."})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Medical History"}),a.jsx(Aa,{className:"h-5 w-5 text-secondary-500"})]}),(Q=w==null?void 0:w.medicalHistory)!=null&&Q.length?a.jsx("div",{className:"space-y-4",children:w.medicalHistory.map(se=>a.jsxs("div",{className:"border-l-4 border-primary-500 pl-4 py-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:se.diagnosis}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date(se.date).toLocaleDateString()})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:se.treatment}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Doctor: ",se.doctor]}),se.notes&&a.jsx("p",{className:"text-xs text-gray-500 mt-1 italic",children:se.notes})]},se.id))}):a.jsx("p",{className:"text-sm text-gray-500",children:"No medical history on record."})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Progress"}),a.jsx(km,{className:"h-5 w-5 text-green-500"})]}),(ne=w==null?void 0:w.progress)!=null&&ne.length?a.jsx("div",{className:"space-y-3",children:w.progress.slice(-5).reverse().map(se=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:se.metric}),a.jsxs("span",{className:"text-sm text-gray-600",children:[se.value," ",se.unit]})]}),se.notes&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:se.notes})]}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date(se.date).toLocaleDateString()})]},se.id))}):a.jsx("p",{className:"text-sm text-gray-500",children:"No recent progress records."})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center gap-2",children:[a.jsx(Li,{className:"h-5 w-5 text-primary-500"}),"Lab Requests"]}),N&&a.jsxs("button",{type:"button",onClick:()=>u(!0),className:"btn-primary text-sm py-2 px-3 flex items-center gap-1",children:[a.jsx(zt,{className:"h-4 w-4"}),"Request Lab"]})]}),$.length===0?a.jsx("p",{className:"text-sm text-gray-500",children:"No lab requests for this patient."}):a.jsx("div",{className:"space-y-2",children:$.map(se=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:se.investigationName}),a.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:[new Date(se.requestedAt).toLocaleDateString(),"  ",se.requestedByName]}),se.notes&&a.jsx("p",{className:"text-xs text-gray-500 mt-0.5 truncate max-w-md",children:se.notes})]}),a.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${se.status==="COMPLETED"?"bg-green-100 text-green-800":se.status==="IN_PROGRESS"?"bg-blue-100 text-blue-800":se.status==="CANCELLED"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:se.status==="PENDING"?"Pending":se.status==="IN_PROGRESS"?"In Progress":se.status==="COMPLETED"?"Done":"Cancelled"})]},se.id))})]}),U&&a.jsxs("div",{className:"card bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center gap-2",children:[a.jsx(Ls,{className:"h-5 w-5 text-blue-600"}),"Latest Vitals"]}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date(U.timestamp).toLocaleString()})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[U.data.bloodPressure&&a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx($F,{className:"h-4 w-4 text-blue-600"}),a.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Blood Pressure"})]}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:U.data.bloodPressure})]}),U.data.heartRate&&a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Wc,{className:"h-4 w-4 text-red-600"}),a.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Heart Rate"})]}),a.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[U.data.heartRate," bpm"]})]}),U.data.temperature&&a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(iw,{className:"h-4 w-4 text-orange-600"}),a.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Temperature"})]}),a.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[U.data.temperature,"F"]})]}),U.data.oxygenSaturation&&a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Ls,{className:"h-4 w-4 text-green-600"}),a.jsx("span",{className:"text-xs font-medium text-gray-600",children:"SpO2"})]}),a.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[U.data.oxygenSaturation,"%"]})]}),U.data.bmi&&a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Ls,{className:"h-4 w-4 text-purple-600"}),a.jsx("span",{className:"text-xs font-medium text-gray-600",children:"BMI"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:U.data.bmi}),U.data.bmiCategory&&a.jsx("span",{className:`text-xs px-2 py-1 rounded ${U.data.bmiCategory==="Normal weight"?"bg-green-100 text-green-800":U.data.bmiCategory==="Underweight"?"bg-yellow-100 text-yellow-800":U.data.bmiCategory==="Overweight"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:U.data.bmiCategory})]})]})]}),U.data.weight&&a.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:[a.jsx("strong",{children:"Weight:"})," ",U.data.weight," lbs",U.data.height&&` | Height: ${U.data.height} inches`]}),U.notes&&a.jsxs("div",{className:"mt-3 text-sm text-gray-700 bg-white rounded p-2 border border-blue-200",children:[a.jsx("strong",{children:"Notes:"})," ",U.notes]}),a.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["Recorded by ",U.updatedByName," (",U.updatedByRole,")"]})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Health Records"}),a.jsxs("div",{className:"flex items-center gap-2",children:[b&&a.jsxs("button",{onClick:()=>s(!0),className:"btn-primary text-sm flex items-center gap-2",children:[a.jsx(zt,{className:"h-4 w-4"}),"Record Vitals"]}),a.jsx(rr,{className:"h-5 w-5 text-primary-500"})]})]}),R.length?a.jsx("div",{className:"space-y-3",children:R.map(se=>a.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium capitalize text-gray-900",children:se.recordType}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date(se.timestamp).toLocaleString()})]}),a.jsxs("p",{className:"text-xs text-gray-500 mb-1",children:["Updated by ",se.updatedByName," (",se.updatedByRole,")"]}),se.recordType==="vital"&&se.data&&a.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs",children:[se.data.bloodPressure&&a.jsxs("span",{children:[a.jsx("strong",{children:"BP:"})," ",se.data.bloodPressure]}),se.data.heartRate&&a.jsxs("span",{children:[a.jsx("strong",{children:"HR:"})," ",se.data.heartRate," bpm"]}),se.data.temperature&&a.jsxs("span",{children:[a.jsx("strong",{children:"Temp:"})," ",se.data.temperature,"F"]}),se.data.oxygenSaturation&&a.jsxs("span",{children:[a.jsx("strong",{children:"SpO2:"})," ",se.data.oxygenSaturation,"%"]})]}),se.notes&&a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:se.notes})]},se.id))}):a.jsx("p",{className:"text-sm text-gray-500",children:"No recent health records for this patient."})]}),i&&a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Billing & Invoices"}),a.jsx(Di,{className:"h-5 w-5 text-primary-500"})]}),P?a.jsx("p",{className:"text-sm text-gray-500",children:"Loading invoices..."}):D.length>0?a.jsxs("div",{className:"space-y-3",children:[D.map(se=>a.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:se.serviceName}),a.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${se.status==="paid"?"bg-green-100 text-green-800":se.status==="overdue"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:se.status.toUpperCase()})]}),a.jsx("p",{className:"text-xs text-gray-600 mb-1",children:se.description||"Service invoice"}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[a.jsxs("span",{children:["Date: ",new Date(se.date).toLocaleDateString()]}),a.jsxs("span",{children:["Due: ",new Date(se.dueDate).toLocaleDateString()]})]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:"flex items-center text-sm font-semibold text-gray-900",children:[a.jsx(Sa,{className:"h-4 w-4 mr-1"}),se.amount.toFixed(2)]})})]})},se.id)),a.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Outstanding:"}),a.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["$",D.filter(se=>se.status!=="paid").reduce((se,W)=>se+W.amount,0).toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Paid:"}),a.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["$",D.filter(se=>se.status==="paid").reduce((se,W)=>se+W.amount,0).toFixed(2)]})]})]})]}):a.jsx("p",{className:"text-sm text-gray-500",children:"No invoices found for this patient."})]}),i&&(M.allergies||M.currentMedications||M.paymentType||M.insuranceProvider||M.serviceIds||M.referralSource)&&a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Additional Information"}),a.jsx(Aa,{className:"h-5 w-5 text-secondary-500"})]}),a.jsxs("div",{className:"space-y-4",children:[M.paymentType&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Payment Type"}),a.jsx("p",{className:"text-sm text-gray-600 capitalize",children:((pe=M.paymentType)==null?void 0:pe.toLowerCase())||"Cash"})]}),M.insuranceProvider&&M.paymentType==="INSURANCE"&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Insurance Information"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"Provider:"})," ",M.insuranceProvider,M.insuranceNumber&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),a.jsx("strong",{children:"Policy Number:"})," ",M.insuranceNumber]})]})]}),M.serviceIds&&M.serviceIds.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Selected Services"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[M.serviceIds.length," service",M.serviceIds.length!==1?"s":""," selected"]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Check Billing section for service details and invoices"})]}),M.allergies&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Allergies"}),a.jsx("p",{className:"text-sm text-gray-600",children:M.allergies})]}),M.currentMedications&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Current Medications"}),a.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-line",children:M.currentMedications})]}),M.referralSource&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Referral Source"}),a.jsx("p",{className:"text-sm text-gray-600",children:M.referralSource})]})]})]})]})]}),b&&e&&a.jsx(qN,{isOpen:n,onClose:()=>s(!1),onSave:de,mode:"add",patientId:e}),c&&a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>u(!1)}),a.jsxs("div",{className:"relative w-full max-w-lg rounded-lg bg-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Lab Request Form"}),a.jsx("button",{type:"button",onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),a.jsxs("p",{className:"px-6 pt-2 text-sm text-gray-600",children:["Patient: ",a.jsx("strong",{children:M==null?void 0:M.name})]}),a.jsxs("form",{onSubmit:ue,className:"px-6 py-4 space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Test / Investigation ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:d,onChange:se=>f(se.target.value),className:"input-field",required:!0,children:[a.jsx("option",{value:"",children:"Select test or choose Other"}),te.map(se=>a.jsx("option",{value:se,children:se},se)),a.jsx("option",{value:"Other",children:"Other (specify below)"})]}),d==="Other"&&a.jsx("input",{type:"text",value:m,onChange:se=>h(se.target.value),placeholder:"Specify test/investigation name",className:"input-field mt-2",maxLength:200})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),a.jsxs("select",{value:v,onChange:se=>x(se.target.value),className:"input-field",children:[a.jsx("option",{value:"ROUTINE",children:"Routine"}),a.jsx("option",{value:"URGENT",children:"Urgent"}),a.jsx("option",{value:"STAT",children:"Stat"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason for request / Clinical notes"}),a.jsx("textarea",{value:p,onChange:se=>y(se.target.value),placeholder:"e.g. Pre-op workup, routine monitoring",className:"input-field resize-none",rows:3})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[a.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:E.loading,children:E.loading?"Submitting...":"Submit Lab Request"})]})]})]})]})})]})}function dC({isOpen:e,onClose:t,onSave:r,trainingClass:n,mode:s}){const[i,o]=L.useState({title:"",description:"",instructor:"",date:new Date().toISOString().split("T")[0],duration:2,maxParticipants:20,enrolledCount:0,status:"upcoming",category:"",location:""}),[l,c]=L.useState("09:00"),[u,d]=L.useState(!1),[f,m]=L.useState(null);L.useEffect(()=>{if(e)if(m(null),d(!1),n&&s==="edit"){const y=n.date?new Date(n.date):new Date,v=y.toISOString().split("T")[0],x=y.toTimeString().slice(0,5);o({title:n.title,description:n.description,instructor:n.instructor,date:v,duration:n.duration,maxParticipants:n.maxParticipants,enrolledCount:n.enrolledCount??0,status:n.status,category:n.category,location:n.location}),c(x)}else o({title:"",description:"",instructor:"",date:new Date().toISOString().split("T")[0],duration:2,maxParticipants:20,enrolledCount:0,status:"upcoming",category:"",location:""}),c("09:00")},[n,s,e]);const h=y=>{const{name:v,value:x}=y.target;["duration","maxParticipants","enrolledCount"].includes(v)?o(b=>({...b,[v]:Number(x)})):o(b=>({...b,[v]:x}))},p=async y=>{y.preventDefault(),d(!0),m(null);try{const[v,x]=l.split(":"),b=new Date(i.date);b.setHours(parseInt(v,10),parseInt(x,10),0,0),await r({...i,date:b.toISOString()}),d(!1)}catch(v){d(!1),m((v==null?void 0:v.message)??"Unable to save training class. Please try again.")}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s==="add"?"Schedule New Training Class":"Edit Training Class"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Dt,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:p,className:"p-6 space-y-6",children:[f&&a.jsx("div",{className:"p-3 rounded bg-red-50 text-sm text-red-700 border border-red-200",children:f}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Class Title *"}),a.jsx("input",{type:"text",name:"title",value:i.title,onChange:h,required:!0,className:"input-field",placeholder:"Enter class title"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),a.jsx("textarea",{name:"description",value:i.description,onChange:h,required:!0,rows:3,className:"input-field",placeholder:"Enter class description"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instructor *"}),a.jsx("input",{type:"text",name:"instructor",value:i.instructor,onChange:h,required:!0,className:"input-field",placeholder:"Enter instructor name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),a.jsxs("select",{name:"category",value:i.category,onChange:h,required:!0,className:"input-field",children:[a.jsx("option",{value:"",children:"Select category"}),a.jsx("option",{value:"Clinical Psychology",children:"Clinical Psychology"}),a.jsx("option",{value:"Nutrition",children:"Nutrition"}),a.jsx("option",{value:"Critical Care",children:"Critical Care"}),a.jsx("option",{value:"BLS/ALS",children:"BLS/ALS"}),a.jsx("option",{value:"Geriatrics",children:"Geriatrics"}),a.jsx("option",{value:"Palliative Care",children:"Palliative Care"}),a.jsx("option",{value:"Maternal & Newborn Care",children:"Maternal & Newborn Care"}),a.jsx("option",{value:"General Nursing",children:"General Nursing"}),a.jsx("option",{value:"Physiotherapy",children:"Physiotherapy"}),a.jsx("option",{value:"Communication",children:"Communication"}),a.jsx("option",{value:"Safety",children:"Safety"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),a.jsx("input",{type:"date",name:"date",value:i.date,onChange:h,required:!0,className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Time *"}),a.jsx("input",{type:"time",value:l,onChange:y=>c(y.target.value),required:!0,className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (hours) *"}),a.jsx("input",{type:"number",name:"duration",value:i.duration,onChange:h,required:!0,min:"0.5",max:"8",step:"0.5",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Participants *"}),a.jsx("input",{type:"number",name:"maxParticipants",value:i.maxParticipants,onChange:h,required:!0,min:"1",max:"100",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enrolled Count"}),a.jsx("input",{type:"number",name:"enrolledCount",value:i.enrolledCount,onChange:h,min:"0",max:i.maxParticipants,className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),a.jsxs("select",{name:"status",value:i.status,onChange:h,required:!0,className:"input-field",children:[a.jsx("option",{value:"upcoming",children:"Upcoming"}),a.jsx("option",{value:"ongoing",children:"Ongoing"}),a.jsx("option",{value:"completed",children:"Completed"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),a.jsx("input",{type:"text",name:"location",value:i.location,onChange:h,required:!0,className:"input-field",placeholder:"Enter class location"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary disabled:opacity-50",disabled:u,children:u?"Saving...":s==="add"?"Schedule Class":"Update Class"})]})]})]})}):null}function nve({isOpen:e,onClose:t,trainingClass:r}){if(!e||!r)return null;const n=i=>{switch(i){case"upcoming":return"bg-blue-100 text-blue-800";case"ongoing":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},s=r.maxParticipants>0?Math.round(r.enrolledCount/r.maxParticipants*100):0;return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Class Details"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Dt,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r.title}),a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${n(r.status)}`,children:r.status.charAt(0).toUpperCase()+r.status.slice(1)})]}),a.jsx("p",{className:"text-gray-600 mt-2",children:r.description})]}),a.jsx("div",{children:a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-secondary-100 text-secondary-800",children:[a.jsx(Bd,{className:"h-4 w-4 mr-2"}),r.category]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Yr,{className:"h-5 w-5 text-gray-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Instructor"}),a.jsx("p",{className:"text-base text-gray-900 mt-1",children:r.instructor})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Mt,{className:"h-5 w-5 text-gray-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Date"}),a.jsx("p",{className:"text-base text-gray-900 mt-1",children:r.date?new Date(r.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"Date TBD"})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(rr,{className:"h-5 w-5 text-gray-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Duration"}),a.jsxs("p",{className:"text-base text-gray-900 mt-1",children:[r.duration," hours"]})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(au,{className:"h-5 w-5 text-gray-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Location"}),a.jsx("p",{className:"text-base text-gray-900 mt-1",children:r.location})]})]})]}),a.jsxs("div",{className:"border-t pt-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Enrollment"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[r.enrolledCount," / ",r.maxParticipants," participants"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:`h-2.5 rounded-full ${s>=100?"bg-red-500":s>=80?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(s,100)}%`}})}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[s,"% capacity filled",s>=100&&" - Class is full"]})]}),a.jsxs("div",{className:"border-t pt-6",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Additional Information"}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Class ID:"})," ",r.id]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Status:"})," ",r.status==="upcoming"&&"This class is scheduled and open for enrollment.",r.status==="ongoing"&&"This class is currently in progress.",r.status==="completed"&&"This class has been completed."]})]})]})]}),a.jsx("div",{className:"flex justify-end space-x-3 p-6 border-t bg-gray-50",children:a.jsx("button",{onClick:t,className:"btn-outline",children:"Close"})})]})})}function fC({isOpen:e,onClose:t,onSave:r,exam:n,mode:s}){const[i,o]=L.useState({title:"",description:"",duration:60,passingScore:70,maxAttempts:3,status:"DRAFT",questions:[]}),[l,c]=L.useState(!1),[u,d]=L.useState(null),[f,m]=L.useState(null);L.useEffect(()=>{e&&(d(null),c(!1),m(null),o(n&&s==="edit"?{title:n.title,description:n.description??"",duration:n.duration,passingScore:n.passingScore,maxAttempts:n.maxAttempts,status:n.status,questions:n.questions??[]}:{title:"",description:"",duration:60,passingScore:70,maxAttempts:3,status:"DRAFT",questions:[]}))},[n,s,e]);const h=_=>{const{name:T,value:k}=_.target;["duration","passingScore","maxAttempts"].includes(T)?o(P=>({...P,[T]:Number(k)})):o(P=>({...P,[T]:k}))},p=()=>{const _={question:"",type:"MULTIPLE_CHOICE",options:["","","",""],correctAnswer:0,points:1,explanation:""};o(T=>({...T,questions:[...T.questions,_]})),m(i.questions.length)},y=(_,T)=>{o(k=>{const P=[...k.questions];return P[_]={...P[_],...T},{...k,questions:P}})},v=_=>{o(T=>({...T,questions:T.questions.filter((k,P)=>P!==_)})),f===_?m(null):f!==null&&f>_&&m(f-1)},x=(_,T)=>{T==="up"&&_===0||T==="down"&&_===i.questions.length-1||o(k=>{const P=[...k.questions],D=T==="up"?_-1:_+1;return[P[_],P[D]]=[P[D],P[_]],{...k,questions:P}})},b=_=>{y(_,{options:[...i.questions[_].options,""]})},N=(_,T,k)=>{const D=[...i.questions[_].options];D[T]=k,y(_,{options:D})},w=(_,T)=>{const k=i.questions[_];if(k.options.length<=2)return;const P=k.options.filter((D,A)=>A!==T);y(_,{options:P,correctAnswer:k.correctAnswer>=T?Math.max(0,k.correctAnswer-1):k.correctAnswer})},S=async _=>{if(_.preventDefault(),c(!0),d(null),!i.title.trim()){d("Exam title is required"),c(!1);return}if(i.questions.length===0){d("Exam must have at least one question"),c(!1);return}for(let T=0;T<i.questions.length;T++){const k=i.questions[T];if(!k.question.trim()){d(`Question ${T+1} text is required`),c(!1);return}if(k.options.length<2){d(`Question ${T+1} must have at least 2 options`),c(!1);return}if(k.options.some(P=>!P.trim())){d(`Question ${T+1} has empty options`),c(!1);return}if(k.correctAnswer<0||k.correctAnswer>=k.options.length){d(`Question ${T+1} has invalid correct answer`),c(!1);return}}try{await r(i),c(!1)}catch(T){c(!1),d((T==null?void 0:T.message)??"Unable to save exam. Please try again.")}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white z-10",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s==="add"?"Create New Exam":"Edit Exam"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Dt,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:S,className:"p-6 space-y-6",children:[u&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:u}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Exam Title ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"title",value:i.title,onChange:h,className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{name:"status",value:i.status,onChange:h,className:"input-field",children:[a.jsx("option",{value:"DRAFT",children:"Draft"}),a.jsx("option",{value:"PUBLISHED",children:"Published"}),a.jsx("option",{value:"ARCHIVED",children:"Archived"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{name:"description",value:i.description,onChange:h,rows:3,className:"input-field"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Duration (minutes) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",name:"duration",value:i.duration,onChange:h,min:"1",className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Passing Score (%) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",name:"passingScore",value:i.passingScore,onChange:h,min:"0",max:"100",className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Max Attempts ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",name:"maxAttempts",value:i.maxAttempts,onChange:h,min:"1",className:"input-field",required:!0})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Questions (",i.questions.length,")"]}),a.jsxs("button",{type:"button",onClick:p,className:"btn-primary flex items-center gap-2",children:[a.jsx(zt,{className:"h-4 w-4"}),"Add Question"]})]}),i.questions.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500",children:'No questions added yet. Click "Add Question" to get started.'}):a.jsx("div",{className:"space-y-4",children:i.questions.map((_,T)=>a.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"font-medium text-gray-700",children:["Question ",T+1]}),a.jsx("button",{type:"button",onClick:()=>x(T,"up"),disabled:T===0,className:"text-gray-400 hover:text-gray-600 disabled:opacity-30",children:a.jsx(TF,{className:"h-4 w-4"})}),a.jsx("button",{type:"button",onClick:()=>x(T,"down"),disabled:T===i.questions.length-1,className:"text-gray-400 hover:text-gray-600 disabled:opacity-30",children:a.jsx(PF,{className:"h-4 w-4"})})]}),a.jsx("button",{type:"button",onClick:()=>v(T),className:"text-red-600 hover:text-red-800",children:a.jsx(Ur,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Question Text ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{value:_.question,onChange:k=>y(T,{question:k.target.value}),rows:2,className:"input-field",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),a.jsxs("select",{value:_.type,onChange:k=>y(T,{type:k.target.value}),className:"input-field",children:[a.jsx("option",{value:"MULTIPLE_CHOICE",children:"Multiple Choice"}),a.jsx("option",{value:"TRUE_FALSE",children:"True/False"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Points"}),a.jsx("input",{type:"number",value:_.points??1,onChange:k=>y(T,{points:Number(k.target.value)}),min:"1",className:"input-field"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Options ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"space-y-2",children:[_.options.map((k,P)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:`correct-${T}`,checked:_.correctAnswer===P,onChange:()=>y(T,{correctAnswer:P}),className:"h-4 w-4"}),a.jsx("input",{type:"text",value:k,onChange:D=>N(T,P,D.target.value),placeholder:`Option ${P+1}`,className:"input-field flex-1",required:!0}),_.options.length>2&&a.jsx("button",{type:"button",onClick:()=>w(T,P),className:"text-red-600 hover:text-red-800",children:a.jsx(Ur,{className:"h-4 w-4"})})]},P)),a.jsx("button",{type:"button",onClick:()=>b(T),className:"text-sm text-primary-600 hover:text-primary-800",children:"+ Add Option"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Explanation (optional)"}),a.jsx("textarea",{value:_.explanation??"",onChange:k=>y(T,{explanation:k.target.value}),rows:2,className:"input-field",placeholder:"Explain why this is the correct answer..."})]})]})]},T))})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:l,className:"btn-primary",children:l?"Saving...":s==="add"?"Create Exam":"Update Exam"})]})]})]})}):null}function SM({isOpen:e,certificate:t,onClose:r}){if(!e||!t)return null;const n=()=>{const s=`
      <html>
        <head>
          <title>Certificate - ${t.certificateNumber}</title>
          <style>
            body { font-family: 'Inter', sans-serif; margin: 0; padding: 0; background: #f5f3ff; }
            .certificate {
              width: 800px;
              margin: 40px auto;
              padding: 40px;
              background: white;
              border: 12px solid #e8e4ff;
              box-shadow: 0 20px 40px rgba(31, 41, 55, 0.15);
            }
            .header {
              text-align: center;
              margin-bottom: 24px;
              color: #312e81;
            }
            .title {
              font-size: 36px;
              letter-spacing: 2px;
              text-transform: uppercase;
              margin-bottom: 8px;
            }
            .subtitle {
              font-size: 18px;
              color: #4c1d95;
              letter-spacing: 3px;
            }
            .recipient {
              text-align: center;
              margin: 32px 0;
            }
            .recipient-name {
              font-size: 32px;
              font-weight: bold;
              color: #1a1a1a;
            }
            .details {
              text-align: center;
              color: #4b5563;
              font-size: 18px;
            }
            .footer {
              display: flex;
              justify-content: space-between;
              margin-top: 40px;
              color: #4338ca;
            }
            .signature {
              border-top: 2px solid #c4b5fd;
              padding-top: 8px;
              width: 45%;
              text-align: center;
            }
          </style>
        </head>
        <body>
          <div class="certificate">
            <div class="header">
              <div class="title">Certificate of Achievement</div>
              <div class="subtitle">Teamwork Homecare Training Division</div>
            </div>
            <div class="details">This certifies that</div>
            <div class="recipient">
              <div class="recipient-name">${t.userName??"Candidate"}</div>
            </div>
            <div class="details">
              has successfully completed the requirements for<br/>
              <strong>${t.examTitle??"Training Examination"}</strong><br/>
              with a score of ${t.score}%<br/>
              Certificate No. ${t.certificateNumber}
            </div>
            <div class="footer">
              <div>
                Issued: ${new Date(t.issuedAt).toLocaleDateString()}
              </div>
              <div class="signature">
                ${t.approvedByName??"Training Administrator"}
              </div>
            </div>
          </div>
        </body>
      </html>
    `,i=window.open("","_blank","width=900,height=700");i&&(i.document.open(),i.document.write(s),i.document.close(),i.focus(),i.print(),i.close())};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm uppercase tracking-wider text-indigo-500 font-semibold",children:"Certificate Preview"}),a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:t.examTitle??"Training Exam"})]}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Dt,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 via-white to-purple-50 p-10 space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 text-indigo-700",children:[a.jsx(e5,{className:"h-6 w-6"}),a.jsx("span",{className:"tracking-[0.3em] uppercase text-sm font-semibold",children:"Teamwork Homecare"})]}),a.jsx("h2",{className:"text-4xl font-bold text-gray-900 mt-4",children:"Certificate of Excellence"}),a.jsx("p",{className:"text-lg text-gray-600 mt-2",children:"Awarded in recognition of outstanding performance"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm uppercase tracking-[0.5em] text-indigo-400",children:"Awarded to"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-3",children:t.userName??"Candidate"})]}),a.jsxs("div",{className:"text-center text-gray-700 leading-relaxed",children:[a.jsxs("p",{children:["For successfully completing the"," ",a.jsx("span",{className:"font-semibold text-indigo-700",children:t.examTitle??"training examination"})," ","with a score of"," ",a.jsxs("span",{className:"font-semibold text-indigo-700",children:[t.score,"%"]}),"."]}),a.jsxs("p",{className:"mt-2",children:["Certificate Number: ",t.certificateNumber]}),a.jsxs("p",{children:["Issued on ",new Date(t.issuedAt).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-indigo-100 text-sm text-gray-600",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Status"}),a.jsx("p",{className:"capitalize",children:t.status.toLowerCase()})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Approved By"}),a.jsx("p",{children:t.approvedByName??"Pending Approval"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t bg-white",children:[a.jsx("button",{onClick:r,className:"btn-outline",children:"Close"}),a.jsxs("button",{onClick:n,className:"btn-primary inline-flex items-center gap-2",children:[a.jsx(Ud,{className:"h-4 w-4"}),"Download / Print"]})]})]})})}function ave(){var Gt;const e=Nf(),{user:t}=dr(),[r,n]=L.useState("classes"),[s,i]=L.useState(""),[o,l]=L.useState("all"),[c,u]=L.useState("all"),[d,f]=L.useState("PUBLISHED"),[m,h]=L.useState(!1),[p,y]=L.useState(!1),[v,x]=L.useState(!1),[b,N]=L.useState(!1),[w,S]=L.useState(!1),[_,T]=L.useState(null),[k,P]=L.useState(null),[D,A]=L.useState("PENDING"),[I,$]=L.useState(null),[E,M]=L.useState(!1),[z,Z]=L.useState(null),R=(t==null?void 0:t.role)==="admin",{data:U,loading:re,error:de,refetch:B}=st(()=>$a.getClasses(),[]),{data:G}=st(()=>$a.getExams(),[]),{data:te,loading:ue,error:q,refetch:X}=st(()=>wa.getExams({status:R?void 0:"PUBLISHED",limit:100}),[R]),{data:Q,loading:ne,error:pe,refetch:se}=st(()=>wa.getAttempts({userId:R||t==null?void 0:t.id,examId:z||void 0,limit:100}),[R,t==null?void 0:t.id,z]),{data:W,loading:fe,error:Ae,refetch:Y}=st(()=>R?wa.getCertificates({limit:100}):Promise.resolve({certificates:[],pagination:void 0}),[R]),Ce=(U==null?void 0:U.classes)??[];G==null||G.exams;const qe=(te==null?void 0:te.exams)??[],be=(Q==null?void 0:Q.attempts)??[],je=(W==null?void 0:W.certificates)??[],Me=ot($a.createClass.bind($a)),Ue=ot(Se=>$a.updateClass(Se.id,Se.data)),Ge=ot($a.deleteClass.bind($a)),We=ot($a.enrollInClass.bind($a)),Et=ot(wa.createExam.bind(wa)),pt=ot(Se=>wa.updateExam(Se.id,Se.data)),vt=ot(wa.deleteExam.bind(wa)),$t=ot(wa.approveCertificate.bind(wa)),ye=L.useMemo(()=>{if(!Ce||Ce.length===0)return[];const Se=(s||"").toLowerCase();return Ce.filter(Ke=>{var Ia,La;const Jt=(((Ia=Ke.title)==null?void 0:Ia.toLowerCase())??"").includes(Se)||(((La=Ke.instructor)==null?void 0:La.toLowerCase())??"").includes(Se),cn=o==="all"||Ke.status===o,dt=c==="all"||Ke.category===c;return Jt&&cn&&dt})},[Ce,s,o,c]),Be=L.useMemo(()=>Array.from(new Set(Ce.map(Se=>Se.category))).filter(Boolean),[Ce]),Je=async Se=>{try{if(!(t!=null&&t.id))throw new Error("You must be logged in to schedule a class");const Ke=new Date(Se.date),Jt=new Date(Ke);Jt.setHours(Jt.getHours()+(Se.duration||2));const cn={name:Se.title,description:Se.description,instructorId:t.id,instructorName:Se.instructor,startDate:Ke.toISOString(),endDate:Jt.toISOString(),capacity:Se.maxParticipants,category:Se.category,location:Se.location,duration:Se.duration,status:Se.status};await Me.mutate(cn),Te.success(`${Se.title} has been scheduled successfully.`),h(!1),await B()}catch(Ke){throw Te.error((Ke==null?void 0:Ke.message)??"Unable to schedule class. Please try again later."),Ke}},Fe=async Se=>{if(_)try{if(!(t!=null&&t.id))throw new Error("You must be logged in to update a class");const Ke=new Date(Se.date),Jt=new Date(Ke);Jt.setHours(Jt.getHours()+(Se.duration||2));const cn={name:Se.title,description:Se.description,instructorId:t.id,instructorName:Se.instructor,startDate:Ke.toISOString(),endDate:Jt.toISOString(),capacity:Se.maxParticipants,category:Se.category,location:Se.location,duration:Se.duration,status:Se.status};await Ue.mutate({id:_.id,data:cn}),Te.success(`${Se.title} has been updated.`),y(!1),T(null),await B()}catch(Ke){throw Te.error((Ke==null?void 0:Ke.message)??"Unable to update class. Please try again later."),Ke}},Pt=async(Se,Ke)=>{if(window.confirm(`Are you sure you want to delete the class "${Ke}"?`))try{await Ge.mutate(Se),Te.success(`${Ke} has been deleted.`),await B()}catch(Jt){Te.error((Jt==null?void 0:Jt.message)??"Unable to delete class. Please try again later.")}},Ft=async Se=>{try{await We.mutate(Se),Te.success("You have been enrolled in the class."),await B()}catch(Ke){Te.error((Ke==null?void 0:Ke.message)??"Unable to enroll. Please try again later.")}},At=Se=>{T(Se),x(!0)},Ot=Se=>{T(Se),y(!0)},gr=async Se=>{try{await Et.mutate(Se),Te.success(`${Se.title} has been created successfully.`),N(!1),await X()}catch(Ke){throw Te.error((Ke==null?void 0:Ke.message)??"Unable to create exam. Please try again later."),Ke}},ft=async Se=>{if(k)try{await pt.mutate({id:k.id,data:Se}),Te.success(`${Se.title} has been updated.`),S(!1),P(null),await X()}catch(Ke){throw Te.error((Ke==null?void 0:Ke.message)??"Unable to update exam. Please try again later."),Ke}},cr=async(Se,Ke)=>{if(window.confirm(`Are you sure you want to delete the exam "${Ke}"?`))try{await vt.mutate(Se),Te.success(`${Ke} has been deleted.`),await X()}catch(Jt){Te.error((Jt==null?void 0:Jt.message)??"Unable to delete exam. Please try again later.")}},mt=async Se=>{try{await $t.mutate(Se.id),Te.success(`${Se.userName??"Candidate"} now has an approved certificate.`),await Promise.all([Y(),se()])}catch(Ke){Te.error((Ke==null?void 0:Ke.message)??"Unable to approve certificate. Please try again later.")}},wt=Se=>{$(Se),M(!!Se)},xr=Se=>{P(Se),S(!0)},It=L.useMemo(()=>{if(!qe||qe.length===0)return[];const Se=(s||"").toLowerCase();return qe.filter(Ke=>{var dt;const Jt=(((dt=Ke.title)==null?void 0:dt.toLowerCase())??"").includes(Se),cn=d==="all"||Ke.status===d;return Jt&&cn})},[qe,s,d]),ht=L.useMemo(()=>{if(!je||je.length===0)return[];const Se=(s||"").trim().toLowerCase();return je.filter(Ke=>{var pa,ga,Sr;const Jt=D==="all"||Ke.status===D;if(!Se)return Jt;const cn=((pa=Ke.userName)==null?void 0:pa.toLowerCase())??"",dt=((ga=Ke.examTitle)==null?void 0:ga.toLowerCase())??"",Ia=((Sr=Ke.certificateNumber)==null?void 0:Sr.toLowerCase())??"",La=cn.includes(Se)||dt.includes(Se)||Ia.includes(Se);return Jt&&La})},[je,D,s]);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Training & Examinations"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage training classes and certification exams"})]}),a.jsxs("div",{className:"mt-4 sm:mt-0 flex gap-2",children:[r==="classes"&&a.jsxs("button",{onClick:()=>h(!0),className:"btn-primary flex items-center",children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Schedule New Class"]}),r==="exams"&&R&&a.jsxs("button",{onClick:()=>N(!0),className:"btn-primary flex items-center",children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Create New Exam"]})]})]}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsx("button",{onClick:()=>n("classes"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="classes"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Training Classes"}),a.jsx("button",{onClick:()=>n("exams"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="exams"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Exams"}),a.jsx("button",{onClick:()=>n("attempts"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="attempts"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:R?"All Attempts":"My Attempts"}),R&&a.jsx("button",{onClick:()=>n("certificates"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="certificates"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Certificates"})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"relative",children:[a.jsx(Fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search classes...",value:s,onChange:Se=>i(Se.target.value),className:"input-field pl-10"})]})}),a.jsx("div",{children:a.jsxs("select",{value:o,onChange:Se=>l(Se.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"upcoming",children:"Upcoming"}),a.jsx("option",{value:"ongoing",children:"Ongoing"}),a.jsx("option",{value:"completed",children:"Completed"})]})}),a.jsx("div",{children:a.jsxs("select",{value:c,onChange:Se=>u(Se.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Categories"}),Be.map(Se=>a.jsx("option",{value:Se,children:Se},Se))]})})]})}),de&&a.jsxs("div",{className:"card text-sm text-red-500 flex items-center gap-2",children:[a.jsx(ha,{className:"h-4 w-4"})," Unable to load training classes. Please try again later."]}),r==="classes"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Training Classes"}),re?a.jsx("div",{className:"card text-sm text-gray-500",children:"Loading training classes..."}):a.jsx("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:ye.map(Se=>a.jsxs("div",{className:"card hover:shadow-lg transition-shadow duration-200",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:Se.title}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Se.description})]}),a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Se.status==="upcoming"?"bg-blue-100 text-blue-800":Se.status==="ongoing"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:Se.status})]}),a.jsxs("div",{className:"space-y-3 mb-4",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Ua,{className:"h-4 w-4 mr-2"}),"Instructor: ",Se.instructor]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Mt,{className:"h-4 w-4 mr-2"}),Se.date?new Date(Se.date).toLocaleDateString():"Date TBD"]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(rr,{className:"h-4 w-4 mr-2"}),Se.duration," hours"]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(au,{className:"h-4 w-4 mr-2"}),Se.location]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Ua,{className:"h-4 w-4 mr-2"}),Se.enrolledCount??0,"/",Se.maxParticipants," enrolled"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-secondary-100 text-secondary-800",children:Se.category}),a.jsxs("div",{className:"flex space-x-2",children:[Se.status==="upcoming"&&a.jsx("button",{className:"btn-secondary text-sm",onClick:()=>Ft(Se.id),children:"Enroll"}),a.jsxs("button",{onClick:()=>At(Se),className:"btn-outline text-sm text-blue-600 hover:text-blue-800",children:[a.jsx(Ln,{className:"h-3 w-3 inline mr-1"}),"View Details"]}),a.jsxs("button",{onClick:()=>Ot(Se),className:"btn-outline text-sm text-blue-600 hover:text-blue-800",children:[a.jsx(Fn,{className:"h-3 w-3 inline mr-1"}),"Edit"]}),a.jsxs("button",{onClick:()=>Pt(Se.id,Se.title),className:"btn-outline text-sm text-red-600 hover:text-red-800",children:[a.jsx(Ur,{className:"h-3 w-3 inline mr-1"}),"Delete"]})]})]})]},Se.id))})]}),ye.length===0&&!re&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400",children:a.jsx(Fr,{className:"h-12 w-12"})}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No classes found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your search or filter criteria."})]})]}),r==="exams"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"card mb-4",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"relative",children:[a.jsx(Fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search exams...",value:s,onChange:Se=>i(Se.target.value),className:"input-field pl-10"})]})}),R&&a.jsx("div",{children:a.jsxs("select",{value:d,onChange:Se=>f(Se.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"DRAFT",children:"Draft"}),a.jsx("option",{value:"PUBLISHED",children:"Published"}),a.jsx("option",{value:"ARCHIVED",children:"Archived"})]})})]})}),q&&a.jsxs("div",{className:"card text-sm text-red-500 flex items-center gap-2",children:[a.jsx(ha,{className:"h-4 w-4"})," Unable to load exams. Please try again later."]}),ue?a.jsx("div",{className:"card text-sm text-gray-500",children:"Loading exams..."}):a.jsx("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:It.map(Se=>{var Ke;return a.jsxs("div",{className:"card hover:shadow-lg transition-shadow duration-200",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:Se.title}),Se.description&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Se.description})]}),a.jsx(Jn,{className:"h-6 w-6 text-primary-500"})]}),a.jsxs("div",{className:"space-y-3 mb-4",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(rr,{className:"h-4 w-4 mr-2"}),"Duration: ",Se.duration," minutes"]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Passing Score: ",Se.passingScore,"%"]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Bd,{className:"h-4 w-4 mr-2"}),"Questions: ",((Ke=Se.questions)==null?void 0:Ke.length)??0]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Ua,{className:"h-4 w-4 mr-2"}),"Max Attempts: ",Se.maxAttempts]}),a.jsx("div",{className:"flex items-center",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Se.status==="PUBLISHED"?"bg-green-100 text-green-800":Se.status==="DRAFT"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:Se.status})})]}),a.jsx("div",{className:"flex items-center justify-between",children:R?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>xr(Se),className:"btn-outline text-sm text-blue-600 hover:text-blue-800",children:[a.jsx(Fn,{className:"h-3 w-3 inline mr-1"}),"Edit"]}),a.jsxs("button",{onClick:()=>cr(Se.id,Se.title),className:"btn-outline text-sm text-red-600 hover:text-red-800",children:[a.jsx(Ur,{className:"h-3 w-3 inline mr-1"}),"Delete"]})]}),a.jsxs("button",{onClick:()=>{Z(Se.id),n("attempts")},className:"btn-outline text-sm",children:[a.jsx(Ln,{className:"h-3 w-3 inline mr-1"}),"View Attempts"]})]}):a.jsx(a.Fragment,{children:Se.status==="PUBLISHED"&&a.jsx("button",{onClick:()=>e(`/training/exam/${Se.id}/take`),className:"btn-primary text-sm",children:"Take Exam"})})})]},Se.id)})}),It.length===0&&!ue&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400",children:a.jsx(Bd,{className:"h-12 w-12"})}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No exams found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:R?"Create your first exam to get started.":"No exams are available at this time."})]})]}),r==="attempts"&&a.jsxs(a.Fragment,{children:[z&&a.jsx("div",{className:"card mb-4 bg-blue-50 border-blue-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("span",{className:"text-sm text-blue-800",children:["Showing attempts for: ",a.jsx("strong",{children:((Gt=qe.find(Se=>Se.id===z))==null?void 0:Gt.title)??"Unknown Exam"})]})}),a.jsx("button",{onClick:()=>Z(null),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Clear Filter"})]})}),pe&&a.jsxs("div",{className:"card text-sm text-red-500 flex items-center gap-2",children:[a.jsx(ha,{className:"h-4 w-4"})," Unable to load attempts. Please try again later."]}),ne?a.jsx("div",{className:"card text-sm text-gray-500",children:"Loading attempts..."}):a.jsxs("div",{className:"card overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto max-h-[600px] overflow-y-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Exam"}),R&&a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Candidate"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Certificate"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:be.map(Se=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Se.examTitle??"Unknown Exam"})}),R&&a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:Se.userName??"Unknown"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Se.score!==void 0?`${Se.score}%`:"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Se.passed?"bg-green-100 text-green-800":Se.passed===!1?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:Se.passed===!0?"Passed":Se.passed===!1?"Failed":Se.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Se.submittedAt?new Date(Se.submittedAt).toLocaleDateString():"Not submitted"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Se.certificate?a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Se.certificate.status==="APPROVED"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:Se.certificate.status==="APPROVED"?"Approved":"Pending"}):a.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[a.jsxs("button",{onClick:()=>e(`/training/exam/${Se.examId}/result/${Se.id}`),className:"text-primary-600 hover:text-primary-800",children:[a.jsx(Ln,{className:"h-4 w-4 inline mr-1"}),"View"]}),Se.certificate&&a.jsxs("button",{onClick:()=>wt(Se.certificate??null),className:"ml-4 text-indigo-600 hover:text-indigo-800",children:[a.jsx(Ln,{className:"h-4 w-4 inline mr-1"}),"Certificate"]})]})]},Se.id))})]})}),be.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400",children:a.jsx(Aa,{className:"h-12 w-12"})}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No attempts found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:z?"No attempts found for this exam.":R?"No exam attempts have been recorded yet.":"You haven't taken any exams yet."})]})]})]}),r==="certificates"&&R&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"card mb-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx("div",{className:"md:col-span-2",children:a.jsxs("div",{className:"relative",children:[a.jsx(Fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search by candidate or exam...",value:s,onChange:Se=>i(Se.target.value),className:"input-field pl-10"})]})}),a.jsx("div",{children:a.jsxs("select",{value:D,onChange:Se=>A(Se.target.value==="all"?"all":Se.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"PENDING",children:"Pending Approval"}),a.jsx("option",{value:"APPROVED",children:"Approved"})]})})]})}),Ae&&a.jsxs("div",{className:"card text-sm text-red-500 flex items-center gap-2",children:[a.jsx(ha,{className:"h-4 w-4"})," Unable to load certificates. Please try again later."]}),fe?a.jsx("div",{className:"card text-sm text-gray-500",children:"Loading certificates..."}):a.jsxs("div",{className:"card overflow-hidden",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Candidate"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Exam"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Issued"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ht.map(Se=>a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Se.userName??"Unknown"}),a.jsxs("div",{className:"text-sm text-gray-500",children:["#",Se.certificateNumber]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:Se.examTitle??"Exam"})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[Se.score,"%"]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Se.status==="APPROVED"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:Se.status==="APPROVED"?"Approved":"Pending"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(Se.issuedAt).toLocaleDateString()}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm space-x-3",children:[a.jsxs("button",{onClick:()=>wt(Se),className:"text-primary-600 hover:text-primary-800",children:[a.jsx(Ln,{className:"h-4 w-4 inline mr-1"}),"View"]}),Se.status==="PENDING"&&a.jsxs("button",{onClick:()=>mt(Se),className:"text-green-600 hover:text-green-800",children:[a.jsx($n,{className:"h-4 w-4 inline mr-1"}),"Approve"]})]})]},Se.id))})]}),ht.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400",children:a.jsx(Jn,{className:"h-12 w-12"})}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No certificates found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Approved certificates will appear here."})]})]})]}),a.jsx(dC,{isOpen:m,onClose:()=>h(!1),onSave:Je,mode:"add"}),a.jsx(dC,{isOpen:p,onClose:()=>{y(!1),T(null)},onSave:Fe,trainingClass:_,mode:"edit"}),a.jsx(nve,{isOpen:v,onClose:()=>{x(!1),T(null)},trainingClass:_}),a.jsx(fC,{isOpen:b,onClose:()=>N(!1),onSave:gr,mode:"add"}),a.jsx(fC,{isOpen:w,onClose:()=>{S(!1),P(null)},onSave:ft,exam:k,mode:"edit"}),a.jsx(SM,{isOpen:E,certificate:I,onClose:()=>{M(!1),$(null)}})]})}function sve(){const{id:e}=bp(),{addNotification:t}=Rr(),[r,n]=L.useState(0),[s,i]=L.useState([]),[o,l]=L.useState(!1),[c,u]=L.useState(null),{data:d,loading:f,error:m,refetch:h}=st(async()=>e?$a.getExam(e):null,[e]),p=ot(async P=>$a.submitExam(P.examId,{answers:(d==null?void 0:d.questions.map((D,A)=>({questionId:D.id,answer:P.answers[A]})))??[]}));L.useEffect(()=>{d&&(i(new Array(d.questions.length).fill(-1)),n(0),l(!1),u(null))},[d]);const y=P=>{i(D=>{const A=[...D];return A[r]=P,A})},v=()=>{d&&r<d.questions.length-1&&n(r+1)},x=()=>{r>0&&n(r-1)},b=L.useMemo(()=>{if(!d||s.length===0)return 0;let P=0;return d.questions.forEach((D,A)=>{s[A]===D.correctAnswer&&P++}),d.questions.length===0?0:Math.round(P/d.questions.length*100)},[d,s]),N=async()=>{if(!(!e||!d))try{const P=await p.mutate({examId:e,answers:s}),D=(P==null?void 0:P.score)??b,A=(P==null?void 0:P.passed)??D>=d.passingScore;u({score:D,passed:A}),l(!0),t({title:"Exam submitted",message:"Your responses have been recorded.",type:"success",userId:"system",priority:"medium",category:"training"})}catch(P){t({title:"Unable to submit exam",message:(P==null?void 0:P.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"})}};if(!e)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Exam not found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"The requested exam could not be found."}),a.jsx(Rn,{to:"/training",className:"mt-4 btn-primary inline-block",children:"Back to Training"})]});if(f)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Loading exam..."})]});if(m||!d)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ha,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Unable to load exam"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:(m==null?void 0:m.message)??"Please try again later."}),a.jsx("button",{onClick:h,className:"mt-4 btn-primary",children:"Retry"})]});const w=(c==null?void 0:c.score)??b,S=(c==null?void 0:c.passed)??w>=d.passingScore,_=d.questions[r],T=(r+1)/d.questions.length*100;if(o)return a.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Rn,{to:"/training",className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:a.jsx(Tm,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Exam Results"}),a.jsx("p",{className:"text-sm text-gray-600",children:d.title})]})]}),a.jsxs("div",{className:"card text-center",children:[a.jsxs("div",{className:"mb-6",children:[S?a.jsx($n,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}):a.jsx(Vl,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),a.jsx("h2",{className:`text-2xl font-bold ${S?"text-green-600":"text-red-600"}`,children:S?"Congratulations!":"Try Again"}),a.jsx("p",{className:"text-gray-600 mt-2",children:S?"You have passed the exam!":"You need to score higher to pass."})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[w,"%"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Your Score"})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[d.passingScore,"%"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Passing Score"})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s.filter((P,D)=>P===d.questions[D].correctAnswer).length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Correct Answers"})]})]}),a.jsxs("div",{className:"flex space-x-4 justify-center",children:[a.jsx(Rn,{to:"/training",className:"btn-outline",children:"Back to Training"}),!S&&a.jsx("button",{onClick:()=>{l(!1),n(0),i(new Array(d.questions.length).fill(-1)),u(null)},className:"btn-primary",children:"Retake Exam"})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Question Review"}),a.jsx("div",{className:"space-y-6",children:d.questions.map((P,D)=>{const A=s[D],I=A===P.correctAnswer;return a.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[I?a.jsx($n,{className:"h-5 w-5 text-green-500 mt-1"}):a.jsx(Vl,{className:"h-5 w-5 text-red-500 mt-1"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:"font-medium text-gray-900 mb-2",children:["Question ",D+1,": ",P.question]}),a.jsx("div",{className:"space-y-2",children:P.options.map(($,E)=>{let M="p-2 rounded border ";return E===P.correctAnswer?M+="bg-green-50 border-green-200 text-green-800":E===A&&!I?M+="bg-red-50 border-red-200 text-red-800":M+="bg-gray-50 border-gray-200 text-gray-700",a.jsx("div",{className:M,children:$},E)})}),P.explanation&&a.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Explanation:"})," ",P.explanation]})})]})]})},P.id)})})]})]});const k=d.timeLimit;return a.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Rn,{to:"/training",className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:a.jsx(Tm,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:d.title}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Question ",r+1," of ",d.questions.length]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsx(rr,{className:"h-4 w-4"}),a.jsxs("span",{children:[k," minutes"]})]})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[a.jsx("span",{className:"text-gray-600",children:"Progress"}),a.jsxs("span",{className:"font-medium",children:[Math.round(T),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-primary-500 h-2 rounded-full transition-all duration-300",style:{width:`${T}%`}})})]}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-6",children:_.question}),a.jsx("div",{className:"space-y-3",children:_.options.map((P,D)=>a.jsx("button",{onClick:()=>y(D),className:`w-full text-left p-4 rounded-lg border-2 transition-colors duration-200 ${s[r]===D?"border-primary-500 bg-primary-50 text-primary-900":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:P},D))})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("button",{onClick:x,disabled:r===0,className:"btn-outline disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),a.jsx("div",{className:"flex space-x-2",children:r===d.questions.length-1?a.jsx("button",{onClick:N,className:"btn-primary",disabled:p.loading,children:p.loading?"Submitting...":"Submit Exam"}):a.jsx("button",{onClick:v,className:"btn-primary",children:"Next"})})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Question Navigation"}),a.jsx("div",{className:"grid grid-cols-5 sm:grid-cols-10 gap-2",children:d.questions.map((P,D)=>a.jsx("button",{onClick:()=>n(D),className:`p-2 text-sm rounded border ${D===r?"border-primary-500 bg-primary-50 text-primary-700":s[D]!==-1?"border-green-500 bg-green-50 text-green-700":"border-gray-200 hover:border-gray-300"}`,children:D+1},D))})]})]})}function ive(){const{id:e}=bp(),t=Nf(),{addNotification:r}=Rr(),{user:n}=dr(),[s,i]=L.useState(0),[o,l]=L.useState(new Map),[c,u]=L.useState(null),[d,f]=L.useState(null),[m,h]=L.useState(!1),[p,y]=L.useState("single"),{data:v,loading:x,error:b}=st(async()=>e?wa.getExam(e):null,[e]),N=ot(async R=>wa.startAttempt(R)),w=ot(async R=>wa.submitAttempt(R.attemptId,R.answers));L.useEffect(()=>{if(!v||!e||d)return;(async()=>{try{const U=await N.mutate(e);f(U),u(v.duration*60)}catch(U){r({title:"Unable to start exam",message:(U==null?void 0:U.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"})}})()},[v,e,d]),L.useEffect(()=>{if(c===null||c<=0||!d||!v)return;const R=setInterval(()=>{u(U=>U===null||U<=1?(P.current(),0):U-1)},1e3);return()=>clearInterval(R)},[c,d,v]);const S=(R,U)=>{l(re=>{const de=new Map(re);return de.set(R,U),de})},_=()=>{s<$-1&&i(R=>R+1)},T=()=>{s>0&&i(R=>R-1)},k=async()=>{if(!d||!v)return;const R=Array.from(o.entries()).map(([U,re])=>({questionId:U,selectedAnswer:re}));try{const U=await w.mutate({attemptId:d.id,answers:R});t(`/training/exam/${v.id}/result/${U.id}`)}catch(U){r({title:"Unable to submit exam",message:(U==null?void 0:U.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"})}},P=ce.useRef(k);P.current=k;const D=async()=>{if(!d||$===0)return;if(I.filter(U=>U.id&&!o.has(U.id)).length>0){h(!0);return}await k()},A=R=>{const U=Math.floor(R/60),re=R%60;return`${U.toString().padStart(2,"0")}:${re.toString().padStart(2,"0")}`},I=L.useMemo(()=>{if(!(v!=null&&v.questions))return[];if(d!=null&&d.questionOrder&&d.questionOrder.length>0){const R=new Map(v.questions.map(re=>[re.id,re])),U=d.questionOrder.map(re=>R.get(re)).filter(re=>!!re);if(U.length>0)return U}return v.questions},[v,d]),$=I.length,E=L.useMemo(()=>$===0?0:Math.round(o.size/$*100),[o.size,$]);if(!e)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Exam not found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"The requested exam could not be found."}),a.jsx("button",{onClick:()=>t("/training"),className:"mt-4 btn-primary",children:"Back to Training"})]});if(x||N.loading)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Loading exam..."})]});if(b||!v)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Unable to load exam"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:(b==null?void 0:b.message)??"Please try again later."}),a.jsx("button",{onClick:()=>t("/training"),className:"mt-4 btn-primary",children:"Back to Training"})]});if(!d)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Starting exam..."})]});if($===0)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Exam has no questions"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Please contact the administrator."}),a.jsx("button",{onClick:()=>t("/training"),className:"mt-4 btn-primary",children:"Back to Training"})]});const M=I[s],z=$-o.size,Z=(R,U,re=!1)=>{const de=R.id;return a.jsxs("div",{children:[a.jsxs("p",{className:`${re?"text-base":"text-lg"} font-medium text-gray-900 mb-3`,children:[U+1,". ",R.question]}),a.jsx("div",{className:"space-y-3",children:R.options.map((B,G)=>{const te=o.get(de)===G;return a.jsxs("label",{className:`flex items-center p-4 border-2 rounded-lg cursor-pointer transition-colors ${te?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("input",{type:"radio",name:`question-${de}`,checked:te,onChange:()=>S(de,G),className:"h-4 w-4 text-primary-600 mr-3"}),a.jsx("span",{className:"flex-1",children:B})]},G)})})]})};return a.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[a.jsxs("div",{className:"card mb-6",children:[a.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:v.title}),v.description&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:v.description})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>y(R=>R==="single"?"list":"single"),className:"btn-outline",children:p==="single"?"View All Questions":"View One Question"}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold",children:[a.jsx(rr,{className:"h-5 w-5"}),c!==null?A(c):"--:--"]}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Time Remaining"})]})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[a.jsx("span",{className:"text-gray-600",children:"Progress"}),a.jsxs("span",{className:"text-gray-600",children:[o.size," / ",$," answered"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-primary-500 h-2 rounded-full transition-all",style:{width:`${E}%`}})})]})]}),p==="single"?a.jsxs("div",{className:"card mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-lg font-semibold",children:["Question ",s+1," of ",$]}),z>0&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600",children:[a.jsx(ha,{className:"h-4 w-4"}),z," unanswered"]})]}),Z(M,s),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[a.jsx("button",{onClick:T,disabled:s===0,className:"btn-outline disabled:opacity-50",children:"Previous"}),a.jsx("div",{className:"flex gap-2 flex-wrap",children:I.map((R,U)=>a.jsx("button",{onClick:()=>i(U),className:`w-8 h-8 rounded text-sm ${U===s?"bg-primary-500 text-white":R.id&&o.has(R.id)?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:U+1},R.id))}),s<$-1?a.jsx("button",{onClick:_,className:"btn-primary",children:"Next"}):a.jsx("button",{onClick:D,disabled:w.loading,className:"btn-primary",children:w.loading?"Submitting...":"Submit Exam"})]})]}):a.jsxs("div",{className:"card mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"All Questions"}),z>0&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600",children:[a.jsx(ha,{className:"h-4 w-4"}),z," unanswered"]})]}),a.jsx("div",{className:"space-y-6",children:I.map((R,U)=>a.jsx("div",{className:"border-b pb-6 last:border-b-0 last:pb-0",children:Z(R,U,!0)},R.id))}),a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-6 border-t mt-6",children:[a.jsx("button",{onClick:()=>y("single"),className:"btn-outline",children:"Focus on One Question"}),a.jsx("button",{onClick:D,disabled:w.loading,className:"btn-primary",children:w.loading?"Submitting...":"Submit Exam"})]})]}),m&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Confirm Submission"}),a.jsxs("p",{className:"text-gray-600 mb-4",children:["You have ",z," unanswered question(s). Are you sure you want to submit the exam?"]}),a.jsxs("div",{className:"flex items-center justify-end gap-3",children:[a.jsx("button",{onClick:()=>h(!1),className:"btn-outline",children:"Cancel"}),a.jsx("button",{onClick:async()=>{h(!1),await k()},className:"btn-primary",children:"Submit Anyway"})]})]})})]})}function ove(){var m;const e=Jl(),t=Nf(),{id:r}=bp(),n=(m=e.state)==null?void 0:m.result,[s,i]=L.useState(!1),{data:o,loading:l}=st(async()=>n||(r?wa.getAttemptById(r):null),[r,n]);if(l)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Loading results..."})]});if(!o)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Results not found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Unable to load exam results."}),a.jsx("button",{onClick:()=>t("/training"),className:"mt-4 btn-primary",children:"Back to Training"})]});const c=o.score??0,u=o.passed??!1,d=o.timeSpent??0,f=o.certificate;return a.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[a.jsx("div",{className:"card mb-6",children:a.jsxs("div",{className:"text-center",children:[u?a.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4",children:a.jsx($n,{className:"h-10 w-10 text-green-600"})}):a.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 mb-4",children:a.jsx(Vl,{className:"h-10 w-10 text-red-600"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:o.examTitle??"Exam Results"}),a.jsxs("div",{className:"flex items-center justify-center gap-8 mt-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-4xl font-bold text-gray-900",children:[c,"%"]}),a.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Score"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold",children:[a.jsx(rr,{className:"h-5 w-5"}),d," min"]}),a.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Time Spent"})]})]}),a.jsx("div",{className:"mt-6",children:a.jsx("span",{className:`inline-flex items-center px-4 py-2 rounded-full text-sm font-medium ${u?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:u?a.jsxs(a.Fragment,{children:[a.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Passed"]}):a.jsxs(a.Fragment,{children:[a.jsx(Vl,{className:"h-4 w-4 mr-2"}),"Failed"]})})})]})}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Exam Details"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[a.jsx("span",{className:"text-gray-600",children:"Submitted At"}),a.jsx("span",{className:"font-medium",children:o.submittedAt?new Date(o.submittedAt).toLocaleString():"N/A"})]}),a.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[a.jsx("span",{className:"text-gray-600",children:"Status"}),a.jsx("span",{className:"font-medium capitalize",children:o.status.toLowerCase().replace("_"," ")})]}),o.userName&&a.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[a.jsx("span",{className:"text-gray-600",children:"Candidate"}),a.jsx("span",{className:"font-medium",children:o.userName})]})]})]}),u&&a.jsxs("div",{className:"card mt-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Certification"}),f?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Certificate Number"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:f.certificateNumber}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Issued ",new Date(f.issuedAt).toLocaleDateString()]})]}),a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${f.status==="APPROVED"?"bg-green-100 text-green-800":"bg-amber-100 text-amber-800"}`,children:f.status==="APPROVED"?"Approved":"Pending Approval"})]}),a.jsx("p",{className:"text-gray-600 mt-4",children:f.status==="APPROVED"?"Your certificate has been approved. You can download or print it anytime.":"Your certificate is pending administrator approval. You will be notified once it is ready to download."}),a.jsx("div",{className:"flex items-center gap-3 mt-4",children:a.jsx("button",{onClick:()=>i(!0),className:"btn-primary",children:f.status==="APPROVED"?"View Certificate":"Preview Certificate"})})]}):a.jsx("p",{className:"text-gray-600",children:"Your certificate is being generated. Please check back shortly to view its status."})]}),a.jsxs("div",{className:"mt-6 flex items-center justify-center gap-4",children:[a.jsxs("button",{onClick:()=>t("/training"),className:"btn-outline flex items-center gap-2",children:[a.jsx(Tm,{className:"h-4 w-4"}),"Back to Training"]}),a.jsx("button",{onClick:()=>t(`/training/exam/${o.examId}/take`),className:"btn-primary",children:"View Exam Details"})]}),a.jsx(SM,{isOpen:s,certificate:f??null,onClose:()=>i(!1)})]})}const lve=[{value:"scheduled",label:"Scheduled"},{value:"confirmed",label:"Confirmed"},{value:"in-progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"},{value:"rescheduled",label:"Rescheduled"},{value:"no-show",label:"No Show"}];function hC({isOpen:e,onClose:t,onSave:r,appointment:n,mode:s,patients:i,nurses:o,services:l,specialists:c,loading:u}){const[d,f]=L.useState(n?{patientId:n.patientId,nurseId:n.nurseId||void 0,serviceId:n.serviceId,specialistId:n.specialistId||void 0,date:n.date,time:n.time,duration:n.duration,status:n.status,notes:n.notes??""}:{patientId:"",nurseId:"",serviceId:"",specialistId:"",date:new Date().toISOString().split("T")[0],time:"",duration:60,status:"scheduled",notes:""}),[m,h]=L.useState(!1),[p,y]=L.useState(null);L.useEffect(()=>{e||(h(!1),y(null))},[e]),L.useEffect(()=>{n&&s==="edit"?f({patientId:n.patientId,nurseId:n.nurseId||void 0,serviceId:n.serviceId,specialistId:n.specialistId||void 0,date:n.date,time:n.time,duration:n.duration,status:n.status,notes:n.notes??""}):s==="add"&&f(S=>({...S,patientId:"",nurseId:"",serviceId:"",specialistId:"",date:new Date().toISOString().split("T")[0],time:"",duration:60,status:"scheduled",notes:""}))},[n,s]);const v=L.useMemo(()=>!!(u!=null&&u.patients||u!=null&&u.nurses||u!=null&&u.services||u!=null&&u.specialists),[u]),x=S=>{const{name:_,value:T}=S.target;f(k=>({...k,[_]:_==="duration"?Number(T):T}))},b=S=>{const{value:_}=S.target;f(T=>({...T,specialistId:_||void 0}))},N=S=>{const _=S.target.value,T=l.find(k=>k.id===_);f(k=>({...k,serviceId:_,duration:(T==null?void 0:T.duration)??k.duration}))},w=async S=>{var _;S.preventDefault(),h(!0),y(null);try{await r({...d,nurseId:d.nurseId||void 0,specialistId:d.specialistId||void 0,notes:(_=d.notes)!=null&&_.trim()?d.notes.trim():void 0}),t()}catch(T){y((T==null?void 0:T.message)??"Unable to save appointment. Please try again.")}finally{h(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s==="add"?"Schedule New Appointment":"Edit Appointment"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Dt,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:w,className:"p-6 space-y-6",children:[p&&a.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:p}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient *"}),a.jsxs("select",{name:"patientId",value:d.patientId,onChange:x,required:!0,className:"input-field",disabled:v||m,children:[a.jsx("option",{value:"",children:"Select a patient"}),i.map(S=>a.jsxs("option",{value:S.id,children:[S.name," ",S.condition?`- ${S.condition}`:""]},S.id))]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned Nurse"}),a.jsxs("select",{name:"nurseId",value:d.nurseId??"",onChange:x,className:"input-field",disabled:v||m,children:[a.jsx("option",{value:"",children:"Select a nurse"}),o.map(S=>a.jsxs("option",{value:S.id,children:[S.name," - ",S.specialization]},S.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned Specialist"}),a.jsxs("select",{name:"specialistId",value:d.specialistId??"",onChange:b,className:"input-field",disabled:v||m,children:[a.jsx("option",{value:"",children:"Select a specialist"}),c.map(S=>a.jsxs("option",{value:S.id,children:[S.name," - ",S.specialization.replace(/-/g," ")]},S.id))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service *"}),a.jsxs("select",{name:"serviceId",value:d.serviceId,onChange:N,required:!0,className:"input-field",disabled:v||m,children:[a.jsx("option",{value:"",children:"Select a service"}),l.map(S=>a.jsxs("option",{value:S.id,children:[S.name," - $",(S.price??0).toFixed(2)," (",Math.round(S.duration/60),"h)"]},S.id))]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),a.jsx("input",{type:"date",name:"date",value:d.date,onChange:x,required:!0,className:"input-field",disabled:m})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time *"}),a.jsx("input",{type:"time",name:"time",value:d.time,onChange:x,required:!0,className:"input-field",disabled:m})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes) *"}),a.jsx("input",{type:"number",name:"duration",value:d.duration,onChange:x,required:!0,min:15,max:480,step:15,className:"input-field",disabled:m})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),a.jsx("select",{name:"status",value:d.status,onChange:x,required:!0,className:"input-field",disabled:m,children:lve.map(S=>a.jsx("option",{value:S.value,children:S.label},S.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),a.jsx("textarea",{name:"notes",value:d.notes??"",onChange:x,rows:4,className:"input-field",placeholder:"Enter any additional notes for this appointment",disabled:m})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-outline",disabled:m,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:m||v,children:m?"Saving...":s==="add"?"Schedule Appointment":"Update Appointment"})]})]})]})}):null}const cve={ACTIVE:"active",INACTIVE:"inactive",ON_LEAVE:"on-leave"},uve={active:"ACTIVE",inactive:"INACTIVE","on-leave":"ON_LEAVE"},AM={CLINICAL_PSYCHOLOGIST:"clinical-psychologist",NUTRITIONIST:"nutritionist",CRITICAL_CARE_NURSE:"critical-care-nurse",MEDICAL_DOCTOR:"medical-doctor",GERIATRICIAN:"geriatrician",PALLIATIVE_CARE_SPECIALIST:"palliative-care-specialist",SENIOR_MIDWIFE:"senior-midwife"},dve=Object.entries(AM).reduce((e,[t,r])=>(e[r]=t,e),{});function fg(e){var n,s;const t=(n=e.status)==null?void 0:n.toUpperCase(),r=(s=e.specialization)==null?void 0:s.toUpperCase();return{...e,status:cve[t]??"active",specialization:AM[r]??e.specialization,hireDate:e.hireDate?new Date(e.hireDate).toISOString().split("T")[0]:"",availability:e.availability??[]}}function mC(e){const t={...e};return e.username&&(t.username=e.username.trim().toLowerCase()),e.status&&(t.status=uve[e.status]),e.specialization&&(t.specialization=dve[e.specialization]??e.specialization),e.hireDate&&(t.hireDate=new Date(e.hireDate).toISOString()),t}class fve{async getSpecialists(t){const r=await me.get(xe.SPECIALISTS.BASE,{params:t});return{specialists:Array.isArray(r.data)?r.data.map(fg):[],pagination:r.pagination}}async getSpecialist(t){const r=await me.get(xe.SPECIALISTS.BY_ID(t));return fg(r.data)}async createSpecialist(t){const r=await me.post(xe.SPECIALISTS.BASE,mC(t));return fg(r.data)}async updateSpecialist(t,r){const n=await me.put(xe.SPECIALISTS.BY_ID(t),mC(r));return fg(n.data)}async deleteSpecialist(t){await me.delete(xe.SPECIALISTS.BY_ID(t))}}const Ic=new fve;function hve(e){const t=new Date(e.getFullYear(),e.getMonth(),1),r=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59);return{start:t.toISOString(),end:r.toISOString()}}function mve(){const{user:e}=dr(),[t,r]=L.useState(new Date),[n,s]=L.useState("month"),[i,o]=L.useState("all"),[l,c]=L.useState("all"),[u,d]=L.useState(!1),[f,m]=L.useState(!1),[h,p]=L.useState(null),{addNotification:y}=Rr(),v=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="specialist";e==null||e.role;const x=L.useMemo(()=>hve(t),[t]),{data:b,loading:N,error:w,refetch:S}=st(()=>Xn.getAppointments({nurseId:i!=="all"?i:void 0,dateFrom:x.start,dateTo:x.end,limit:200}),[i,x.start,x.end]),{data:_,loading:T}=st(()=>Mn.getPatients({limit:200}),[]),{data:k,loading:P}=st(()=>fd.getNurses({page:1,limit:200}),[]),{data:D,loading:A}=st(()=>Mi.getServices({limit:200}),[]),{data:I,loading:$}=st(()=>Ic.getSpecialists({limit:200}),[]),E=ot(Xn.createAppointment.bind(Xn)),M=ot(W=>Xn.updateAppointment(W.id,W.data)),z=ot(W=>Xn.deleteAppointment(W)),Z=L.useMemo(()=>((b==null?void 0:b.appointments)??[]).sort((fe,Ae)=>new Date(`${fe.date}T${fe.time}`).getTime()-new Date(`${Ae.date}T${Ae.time}`).getTime()),[b]),U=L.useMemo(()=>i==="all"&&l==="all"?Z:Z.filter(W=>{const fe=i==="all"||W.nurseId===i,Ae=l==="all"||W.specialistId===l;return fe&&Ae}),[Z,i,l]).filter(W=>{const fe=new Date(W.date);return fe.getMonth()===t.getMonth()&&fe.getFullYear()===t.getFullYear()}),re=U.reduce((W,fe)=>{const Ae=fe.date;return W[Ae]||(W[Ae]=[]),W[Ae].push(fe),W},{}),de=(_==null?void 0:_.patients)??[],B=(k==null?void 0:k.nurses)??[],G=(D==null?void 0:D.services)??[],te=(I==null?void 0:I.specialists)??[],ue=async W=>{try{await E.mutate(W),y({title:"Appointment Scheduled",message:"The appointment has been scheduled successfully.",type:"success",userId:"system",priority:"medium",category:"schedule"}),await S(),d(!1)}catch(fe){throw y({title:"Unable to Schedule Appointment",message:(fe==null?void 0:fe.message)??"Please review the details and try again.",type:"error",userId:"system",priority:"high",category:"system"}),fe}},q=async W=>{if(h)try{await M.mutate({id:h.id,data:W}),y({title:"Appointment Updated",message:"The appointment details have been updated.",type:"success",userId:"system",priority:"medium",category:"schedule"}),await S(),m(!1),p(null)}catch(fe){throw y({title:"Unable to Update Appointment",message:(fe==null?void 0:fe.message)??"Please review the details and try again.",type:"error",userId:"system",priority:"high",category:"system"}),fe}},X=async W=>{const fe=Z.find(Y=>Y.id===W);if(!fe)return;const Ae=`Cancel appointment for ${fe.patientName} on ${new Date(`${fe.date}T${fe.time}`).toLocaleString()}?`;if(window.confirm(Ae))try{await z.mutate(W),y({title:"Appointment Cancelled",message:`${fe.patientName}'s appointment has been removed from the schedule.`,type:"info",userId:"system",priority:"medium",category:"schedule"}),await S()}catch(Y){y({title:"Unable to Cancel Appointment",message:(Y==null?void 0:Y.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"})}},Q=W=>{p(W),m(!0)},ne=()=>{const W=t.getFullYear(),fe=t.getMonth(),Ae=new Date(W,fe,1),Y=new Date(Ae);Y.setDate(Y.getDate()-Ae.getDay());const Ce=[],qe=new Date(Y);for(let be=0;be<42;be++)Ce.push(new Date(qe)),qe.setDate(qe.getDate()+1);return Ce},pe=L.useMemo(()=>ne(),[t]),se=W=>{const[fe,Ae]=W.split(":"),Y=Number(fe),Ce=Y>=12?"PM":"AM";return`${Y%12||12}:${Ae} ${Ce}`};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Scheduling"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage appointments and schedules"})]}),a.jsxs("div",{className:"mt-4 sm:mt-0 flex space-x-2",children:[a.jsxs("button",{className:"btn-outline flex items-center",disabled:!0,children:[a.jsx(My,{className:"h-4 w-4 mr-2"}),"Filter"]}),v&&a.jsxs("button",{onClick:()=>d(!0),className:"btn-primary flex items-center",children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"New Appointment"]})]})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>{const W=new Date(t);W.setMonth(W.getMonth()-1),r(W)},className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100","aria-label":"Previous month",children:""}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900 min-w-0",children:t.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),a.jsx("button",{onClick:()=>{const W=new Date(t);W.setMonth(W.getMonth()+1),r(W)},className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100","aria-label":"Next month",children:""})]}),a.jsx("div",{className:"flex space-x-2",children:["month","week","day"].map(W=>a.jsx("button",{onClick:()=>s(W),className:`px-3 py-1 rounded-lg text-sm font-medium ${n===W?"bg-primary-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:W.charAt(0).toUpperCase()+W.slice(1)},W))}),a.jsxs("div",{className:"sm:ml-auto flex flex-col sm:flex-row gap-3",children:[a.jsxs("select",{value:i,onChange:W=>o(W.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Nurses"}),B.map(W=>a.jsx("option",{value:W.id,children:W.name},W.id))]}),a.jsxs("select",{value:l,onChange:W=>c(W.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Specialists"}),te.map(W=>a.jsx("option",{value:W.id,children:W.name},W.id))]})]})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"grid grid-cols-7 gap-px bg-gray-200",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(W=>a.jsx("div",{className:"bg-gray-50 px-3 py-2 text-sm font-medium text-gray-700 text-center",children:W},W)),pe.map((W,fe)=>{const Ae=W.getMonth()===t.getMonth(),Y=W.toDateString()===new Date().toDateString(),Ce=W.toISOString().split("T")[0],qe=re[Ce]||[];return a.jsxs("div",{className:`min-h-[120px] px-3 py-2 bg-white flex flex-col border border-gray-100 ${Ae?"":"bg-gray-50 text-gray-400"} ${Y?"ring-2 ring-primary-500":""}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:`text-sm font-medium ${Y?"text-primary-600":"text-gray-900"}`,children:W.getDate()}),a.jsxs("span",{className:"text-xs text-gray-400",children:[qe.length," appointments"]})]}),a.jsxs("div",{className:"mt-2 space-y-1",children:[qe.slice(0,3).map(be=>a.jsxs("button",{onClick:()=>v&&Q(be),className:`w-full text-left text-xs p-2 rounded-lg bg-primary-50 text-primary-700 ${v?"hover:bg-primary-100 cursor-pointer":"cursor-default opacity-75"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium",children:se(be.time)}),a.jsx("span",{className:"text-[10px] uppercase",children:be.status})]}),a.jsxs("div",{className:"truncate flex items-center text-[11px] text-gray-600",children:[a.jsx(Yr,{className:"h-3 w-3 mr-1"}),be.patientName]})]},be.id)),qe.length>3&&a.jsxs("div",{className:"text-xs text-gray-500",children:["+",qe.length-3," more"]})]})]},fe)})]})}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[a.jsx(Mt,{className:"h-5 w-5 mr-2 text-primary-500"}),"Upcoming Appointments"]}),a.jsxs("div",{className:"flex space-x-2 text-sm text-gray-500",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-primary-500 mr-2"}),"Scheduled"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 mr-2"}),"Completed"]})]})]}),N?a.jsx("div",{className:"py-12 text-center text-sm text-gray-500",children:"Loading appointments..."}):w?a.jsx("div",{className:"py-12 text-center text-sm text-red-500",children:"Unable to load appointments. Please try again later."}):U.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Mt,{className:"h-12 w-12 mx-auto text-gray-300"}),a.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"No appointments scheduled for this period."})]}):a.jsx("div",{className:"space-y-3",children:U.map(W=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-primary-200 transition",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-primary-50 rounded-lg",children:a.jsx(rr,{className:"h-5 w-5 text-primary-500"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:W.patientName}),a.jsxs("div",{className:"flex flex-wrap items-center text-xs text-gray-500 gap-2",children:[a.jsx("span",{children:new Date(`${W.date}T${W.time}`).toLocaleString()}),a.jsx("span",{children:""}),a.jsx("span",{children:W.serviceName}),W.nurseName&&a.jsxs("span",{children:[" Nurse ",W.nurseName]}),W.specialistName&&a.jsxs("span",{children:[" Specialist ",W.specialistName]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${W.status==="completed"?"bg-green-50 text-green-700":W.status==="cancelled"?"bg-red-50 text-red-700":"bg-primary-50 text-primary-700"}`,children:W.status.charAt(0).toUpperCase()+W.status.slice(1)}),v&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>Q(W),className:"p-2 text-gray-400 hover:text-primary-500","aria-label":"Edit appointment",children:a.jsx(Fn,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>X(W.id),className:"p-2 text-gray-400 hover:text-red-500","aria-label":"Delete appointment",children:a.jsx(Ur,{className:"h-4 w-4"})})]})]})]})},W.id))})]}),a.jsx(hC,{isOpen:u,onClose:()=>d(!1),onSave:ue,mode:"add",patients:de,nurses:B,services:G,loading:{patients:T,nurses:P,specialists:$,services:A},specialists:te}),a.jsx(hC,{isOpen:f,onClose:()=>{m(!1),p(null)},onSave:q,appointment:h??void 0,mode:"edit",patients:de,nurses:B,services:G,loading:{patients:T,nurses:P,specialists:$,services:A},specialists:te})]})}const pve=["Nursing","Physiotherapy","Palliative Care","Nutrition","Mental Health","Maternal Care"];function pC({isOpen:e,onClose:t,onSave:r,service:n,mode:s,categories:i}){const[o,l]=L.useState({name:"",description:"",category:"",price:0,duration:60,features:[],image:""}),[c,u]=L.useState(""),[d,f]=L.useState(!1),[m,h]=L.useState(null),p=L.useMemo(()=>{const N=new Set(pve);return i==null||i.forEach(w=>{w&&N.add(w)}),Array.from(N)},[i]);L.useEffect(()=>{e||(h(null),f(!1))},[e]),L.useEffect(()=>{s==="edit"&&n?l({name:n.name,description:n.description,category:n.category,price:n.price??0,duration:n.duration,features:n.features,image:n.image||""}):s==="add"&&l({name:"",description:"",category:"",price:0,duration:60,features:[],image:""})},[s,n,e]);const y=N=>{const{name:w,value:S}=N.target;l(_=>({..._,[w]:w==="price"||w==="duration"?Number(S)||0:S}))},v=()=>{const N=c.trim();N&&!o.features.includes(N)&&(l(w=>({...w,features:[...w.features,N]})),u(""))},x=N=>{l(w=>({...w,features:w.features.filter(S=>S!==N)}))},b=async N=>{N.preventDefault(),f(!0),h(null);try{await r({...o,features:o.features.map(w=>w.trim()).filter(Boolean),price:Number(o.price)||0,duration:Number(o.duration)||0}),t()}catch(w){h((w==null?void 0:w.message)??"Unable to save service. Please try again.")}finally{f(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s==="add"?"Add New Service":"Edit Service"}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(Dt,{className:"h-5 w-5 text-gray-500"})})]}),a.jsxs("form",{onSubmit:b,className:"p-6 space-y-6",children:[m&&a.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:m}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[a.jsx(lx,{className:"h-5 w-5 mr-2 text-primary-600"}),"Basic Information"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Name *"}),a.jsx("input",{type:"text",name:"name",value:o.name,onChange:y,required:!0,className:"input-field",placeholder:"Enter service name",disabled:d})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),a.jsx("textarea",{name:"description",value:o.description,onChange:y,required:!0,rows:3,className:"input-field",placeholder:"Enter service description",disabled:d})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),a.jsxs("select",{name:"category",value:o.category,onChange:y,required:!0,className:"input-field",disabled:d,children:[a.jsx("option",{value:"",children:"Select category"}),p.map(N=>a.jsx("option",{value:N,children:N},N))]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[a.jsx(Sa,{className:"h-5 w-5 mr-2 text-primary-600"}),"Pricing & Duration"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (UGX) *"}),a.jsx("input",{type:"number",name:"price",value:o.price,onChange:y,required:!0,min:"0",step:"1",className:"input-field",placeholder:"Enter price in UGX",disabled:d})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes) *"}),a.jsx("input",{type:"number",name:"duration",value:o.duration,onChange:y,required:!0,min:"15",step:"15",className:"input-field",placeholder:"Enter duration",disabled:d})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[a.jsx(YF,{className:"h-5 w-5 mr-2 text-primary-600"}),"Service Features"]}),a.jsxs("div",{className:"flex",children:[a.jsx("input",{type:"text",value:c,onChange:N=>u(N.target.value),className:"input-field flex-1",placeholder:"Add a new feature",disabled:d}),a.jsxs("button",{type:"button",onClick:v,className:"ml-3 btn-outline whitespace-nowrap",disabled:d,children:[a.jsx(zt,{className:"h-4 w-4 mr-1"}),"Add Feature"]})]}),o.features.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:o.features.map(N=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-gray-100 text-gray-700",children:[N,a.jsx("button",{type:"button",onClick:()=>x(N),className:"ml-2 text-gray-400 hover:text-gray-600",disabled:d,children:a.jsx(Ur,{className:"h-4 w-4"})})]},N))})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[a.jsx(lx,{className:"h-5 w-5 mr-2 text-primary-600"}),"Service Image"]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image URL"}),a.jsx("input",{type:"url",name:"image",value:o.image,onChange:y,className:"input-field",placeholder:"https://example.com/service-image.jpg",disabled:d})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-outline",disabled:d,children:"Cancel"}),a.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:d,children:[a.jsx($y,{className:"h-4 w-4 mr-2"}),d?"Saving...":s==="add"?"Add Service":"Save Changes"]})]})]})]})}):null}function gC(e){if(!e)return"0 min";const t=Math.floor(e/60),r=e%60;return t&&r?`${t}h ${r}m`:t?`${t}h`:`${r}m`}function gve(){const[e,t]=L.useState(""),[r,n]=L.useState("all"),[s,i]=L.useState(null),[o,l]=L.useState(!1),[c,u]=L.useState(!1),[d,f]=L.useState(null),{addNotification:m}=Rr(),{data:h,loading:p,error:y,refetch:v}=st(()=>Mi.getServices({limit:200}),[]),x=(h==null?void 0:h.services)??[],b=L.useMemo(()=>Array.from(new Set(x.map(A=>A.category))).sort(),[x]),N=L.useMemo(()=>x.filter(A=>{const I=A.name.toLowerCase().includes(e.toLowerCase())||A.description.toLowerCase().includes(e.toLowerCase()),$=r==="all"||A.category===r;return I&&$}),[x,e,r]),w=ot(Mi.createService.bind(Mi)),S=ot(A=>Mi.updateService(A.id,A.data)),_=ot(A=>Mi.deleteService(A)),T=async A=>{try{await w.mutate(A),m({title:"Service Created",message:`${A.name} has been added successfully.`,type:"success",userId:"system",priority:"medium",category:"service"}),await v(),l(!1)}catch(I){throw m({title:"Unable to create service",message:(I==null?void 0:I.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"}),I}},k=async A=>{if(d)try{await S.mutate({id:d.id,data:A}),m({title:"Service Updated",message:`${A.name??d.name} has been updated.`,type:"success",userId:"system",priority:"medium",category:"service"}),await v(),u(!1),f(null)}catch(I){throw m({title:"Unable to update service",message:(I==null?void 0:I.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"}),I}},P=async(A,I)=>{if(window.confirm(`Are you sure you want to archive ${I}?`))try{await _.mutate(A),m({title:"Service Archived",message:`${I} is no longer available for new appointments.`,type:"info",userId:"system",priority:"medium",category:"service"}),await v()}catch($){m({title:"Unable to archive service",message:($==null?void 0:$.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"})}},D=A=>{f(A),u(!0)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Services & Packages"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Explore our comprehensive homecare services"})]}),a.jsx("div",{className:"mt-4 sm:mt-0",children:a.jsxs("button",{onClick:()=>l(!0),className:"btn-primary flex items-center",children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Add New Service"]})})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"relative",children:[a.jsx(Fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search services...",value:e,onChange:A=>t(A.target.value),className:"input-field pl-10"})]})}),a.jsx("div",{children:a.jsxs("select",{value:r,onChange:A=>n(A.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Categories"}),b.map(A=>a.jsx("option",{value:A,children:A},A))]})})]})}),p&&a.jsx("div",{className:"card text-center py-12 text-sm text-gray-500",children:"Loading services..."}),y&&!p&&a.jsx("div",{className:"card text-center py-12 text-sm text-red-500",children:"Unable to load services. Please try again later."}),!p&&!y&&a.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:N.map(A=>a.jsxs("div",{className:"card hover:shadow-lg transition-shadow duration-200",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:A.name}),a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-secondary-100 text-secondary-800",children:A.category})]}),a.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:A.description}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Sa,{className:"h-4 w-4 mr-1"}),typeof A.price=="number"?`${A.price.toLocaleString()} UGX`:""]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(rr,{className:"h-4 w-4 mr-1"}),gC(A.duration)]})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Ua,{className:"h-4 w-4 mr-1"}),A.features.length," features included"]})]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>i(A),className:"flex-1 inline-flex items-center justify-center gap-1.5 btn-outline py-1.5 px-3 text-sm",children:[a.jsx(Ln,{className:"h-3.5 w-3.5 shrink-0"}),a.jsx("span",{children:"View Details"})]}),a.jsx("button",{onClick:()=>D(A),className:"inline-flex items-center justify-center btn-secondary py-1.5 px-2.5 text-sm min-w-[2.25rem]",children:a.jsx(Fn,{className:"h-3.5 w-3.5"})}),a.jsx("button",{onClick:()=>P(A.id,A.name),className:"inline-flex items-center justify-center btn-outline text-red-600 hover:text-red-700 hover:bg-red-50 border-red-300 py-1.5 px-2.5 text-sm min-w-[2.25rem]",children:a.jsx(Ur,{className:"h-3.5 w-3.5"})})]})]},A.id))}),s&&a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>i(null)}),a.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[a.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:s.name}),a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-secondary-100 text-secondary-800 mt-1",children:s.category})]}),a.jsx("button",{onClick:()=>i(null),className:"text-gray-400 hover:text-gray-600",children:a.jsx(Dt,{className:"h-6 w-6"})})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:s.description}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Sa,{className:"h-4 w-4 mr-2"}),typeof s.price=="number"?`${s.price.toLocaleString()} UGX`:""]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(rr,{className:"h-4 w-4 mr-2"}),gC(s.duration)]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Features Included:"}),a.jsx("ul",{className:"space-y-1",children:s.features.map((A,I)=>a.jsxs("li",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Qh,{className:"h-3 w-3 text-yellow-500 mr-2"}),A]},I))})]})]}),a.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[a.jsx("button",{className:"w-full btn-primary sm:ml-3 sm:w-auto",children:"Book This Service"}),a.jsx("button",{onClick:()=>i(null),className:"mt-3 w-full btn-outline sm:mt-0 sm:w-auto",children:"Close"})]})]})]})}),N.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400",children:a.jsx(Fr,{className:"h-12 w-12"})}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No services found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your search or filter criteria."})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Service Categories"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:b.map(A=>{const I=x.filter(M=>M.category===A),$=I.map(M=>M.price).filter(M=>typeof M=="number"),E=$.length>0?Math.round($.reduce((M,z)=>M+z,0)/$.length):null;return a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:A}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[I.length," services"]}),a.jsx("p",{className:"text-sm text-gray-600",children:E!=null?`From ${E.toLocaleString()} UGX`:""})]},A)})})]}),a.jsx(pC,{isOpen:o,onClose:()=>l(!1),onSave:T,mode:"add",categories:b}),a.jsx(pC,{isOpen:c,onClose:()=>{u(!1),f(null)},onSave:k,service:d,mode:"edit",categories:b})]})}const xC=e=>({patientId:(e==null?void 0:e.patientId)||"",patientName:(e==null?void 0:e.patientName)||"",serviceId:(e==null?void 0:e.serviceId)||"",serviceName:(e==null?void 0:e.serviceName)||"",amount:(e==null?void 0:e.amount)||0,date:(e==null?void 0:e.date)||new Date().toISOString().split("T")[0],dueDate:(e==null?void 0:e.dueDate)||new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],status:(e==null?void 0:e.status)||"pending",description:(e==null?void 0:e.description)||""});function yC({isOpen:e,onClose:t,onSave:r,invoice:n,mode:s,patients:i,services:o}){const[l,c]=L.useState(xC(n)),[u,d]=L.useState(!1),[f,m]=L.useState(null);L.useEffect(()=>{e&&(d(!1),m(null),c(xC(n)))},[n,s,e]);const h=x=>{const{name:b,value:N}=x.target;c(w=>({...w,[b]:b==="amount"?Number(N):N}))},p=x=>{const b=x.target.value,N=i.find(w=>w.id===b);c(w=>({...w,patientId:b,patientName:(N==null?void 0:N.name)??""}))},y=x=>{const b=x.target.value,N=o.find(w=>w.id===b);c(w=>({...w,serviceId:b,serviceName:(N==null?void 0:N.name)??"",amount:(N==null?void 0:N.price)??w.amount}))},v=async x=>{x.preventDefault(),d(!0),m(null);try{await r({...l,amount:Number(l.amount)}),d(!1),t()}catch(b){d(!1),m((b==null?void 0:b.message)??"Unable to save invoice. Please try again.")}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s==="add"?"Create New Invoice":"Edit Invoice"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Dt,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:v,className:"p-6 space-y-6",children:[f&&a.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded text-sm text-red-700",children:f}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient *"}),a.jsxs("select",{name:"patientId",value:l.patientId,onChange:p,required:!0,className:"input-field",children:[a.jsx("option",{value:"",children:"Select a patient"}),i.map(x=>a.jsxs("option",{value:x.id,children:[x.name," - ",x.condition]},x.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service *"}),a.jsxs("select",{name:"serviceId",value:l.serviceId,onChange:y,required:!0,className:"input-field",children:[a.jsx("option",{value:"",children:"Select a service"}),o.map(x=>a.jsxs("option",{value:x.id,children:[x.name," - $",x.price]},x.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount ($) *"}),a.jsx("input",{type:"number",name:"amount",value:l.amount,onChange:h,required:!0,min:"0",step:"0.01",className:"input-field",placeholder:"Enter invoice amount"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Invoice Date *"}),a.jsx("input",{type:"date",name:"date",value:l.date,onChange:h,required:!0,className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date *"}),a.jsx("input",{type:"date",name:"dueDate",value:l.dueDate,onChange:h,required:!0,className:"input-field"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),a.jsxs("select",{name:"status",value:l.status,onChange:h,required:!0,className:"input-field",children:[a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"paid",children:"Paid"}),a.jsx("option",{value:"overdue",children:"Overdue"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),a.jsx("textarea",{name:"description",value:l.description,onChange:h,required:!0,rows:4,className:"input-field",placeholder:"Enter invoice description and details"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:u,children:u?"Saving...":s==="add"?"Create Invoice":"Update Invoice"})]})]})]})}):null}const Qr=e=>`${Number(e).toLocaleString()} UGX`;function xo(e){const t=String(e);return t.includes(",")||t.includes('"')||t.includes(`
`)||t.includes("\r")?`"${t.replace(/"/g,'""')}"`:t}function vC(e,t){const r=URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download=t,n.click(),URL.revokeObjectURL(r)}function xve(){const{user:e}=dr(),t=(e==null?void 0:e.role)==="admin",[r,n]=L.useState(""),[s,i]=L.useState("unpaid"),[o,l]=L.useState(!1),[c,u]=L.useState("all"),[d,f]=L.useState("month"),[m,h]=L.useState(!1),[p,y]=L.useState(!1),[v,x]=L.useState(!1),[b,N]=L.useState(null),[w,S]=L.useState(!1),{addNotification:_}=Rr(),{data:T,loading:k,error:P,refetch:D}=st(()=>ei.getInvoices({limit:500,status:s,includeArchived:o}),[s,o]),{data:A,refetch:I}=st(()=>ei.getBillingSummary({period:d}),[d]),{data:$}=st(()=>Mn.getPatients({limit:200}),[]),{data:E}=st(()=>Mi.getServices({limit:200}),[]),M=(T==null?void 0:T.invoices)??[],z=($==null?void 0:$.patients)??[],Z=(E==null?void 0:E.services)??[],R=A??null,U=ot(ei.createInvoice.bind(ei)),re=ot(be=>ei.updateInvoice(be.id,be.data)),de=ot(ei.archiveInvoice.bind(ei)),B=ot(ei.deleteInvoice.bind(ei)),G=L.useMemo(()=>M.filter(be=>{var Ue,Ge,We;const je=(((Ue=be.patientName)==null?void 0:Ue.toLowerCase())||"").includes(r.toLowerCase())||(((Ge=be.serviceName)==null?void 0:Ge.toLowerCase())||"").includes(r.toLowerCase())||(((We=be.id)==null?void 0:We.toLowerCase())||"").includes(r.toLowerCase());let Me=!0;if(c!=="all"){const Et=new Date(be.date),pt=new Date,vt=new Date(pt.getTime()-30*24*60*60*1e3);c==="last30"?Me=Et>=vt:c==="overdue"&&(Me=be.status==="overdue")}return je&&Me}),[M,r,c]),te=G.reduce((be,je)=>be+je.amount,0),ue=G.filter(be=>be.status==="paid").reduce((be,je)=>be+je.amount,0),q=G.filter(be=>be.status==="pending").reduce((be,je)=>be+je.amount,0),X=G.filter(be=>be.status==="overdue").reduce((be,je)=>be+je.amount,0),Q=async be=>{try{await U.mutate(be),Te.success(`Invoice for ${be.patientName} has been created successfully.`),_({title:"Invoice created",message:`${be.patientName}'s invoice has been created.`,type:"success",userId:"system",priority:"medium",category:"system"}),h(!1),await D()}catch(je){throw Te.error((je==null?void 0:je.message)??"Failed to create invoice. Please try again."),_({title:"Unable to create invoice",message:(je==null?void 0:je.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"}),je}},ne=async be=>{if(b)try{await re.mutate({id:b.id,data:be}),Te.success(`Invoice for ${be.patientName} has been updated successfully.`),_({title:"Invoice updated",message:`${be.patientName}'s invoice has been updated.`,type:"success",userId:"system",priority:"medium",category:"system"}),y(!1),N(null),await D()}catch(je){throw Te.error((je==null?void 0:je.message)??"Failed to update invoice. Please try again."),_({title:"Unable to update invoice",message:(je==null?void 0:je.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"}),je}},pe=async(be,je)=>{if(window.confirm(`Archive invoice for ${je}? It will be hidden from the default list.`))try{await de.mutate(be),Te.success(`Invoice for ${je} has been archived.`),_({title:"Invoice archived",message:`Invoice for ${je} has been archived.`,type:"success",userId:"system",priority:"medium",category:"system"}),await D(),await I()}catch(Me){Te.error((Me==null?void 0:Me.message)??"Failed to archive invoice.")}},se=async(be,je)=>{if(window.confirm(`Permanently delete ${je}'s invoice? This cannot be undone.`))try{await B.mutate(be),Te.success(`Invoice for ${je} has been deleted.`),_({title:"Invoice deleted",message:`Invoice for ${je} has been removed.`,type:"info",userId:"system",priority:"medium",category:"system"}),await D(),await I()}catch(Me){Te.error((Me==null?void 0:Me.message)??"Failed to delete invoice.")}},W=be=>{N(be),x(!0)},fe=be=>{const je=window.open("","_blank");if(!je){Te.error("Please allow popups to print invoices.");return}const Me=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Invoice ${be.id}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              max-width: 800px;
              margin: 0 auto;
              padding: 20px;
            }
            .header {
              border-bottom: 2px solid #333;
              padding-bottom: 20px;
              margin-bottom: 30px;
            }
            .header h1 {
              margin: 0;
              color: #333;
            }
            .invoice-info {
              display: flex;
              justify-content: space-between;
              margin-bottom: 30px;
            }
            .info-section {
              flex: 1;
            }
            .info-section h3 {
              margin-top: 0;
              color: #666;
            }
            .info-section p {
              margin: 5px 0;
            }
            table {
              width: 100%;
              border-collapse: collapse;
              margin: 20px 0;
            }
            th, td {
              padding: 12px;
              text-align: left;
              border-bottom: 1px solid #ddd;
            }
            th {
              background-color: #f5f5f5;
              font-weight: bold;
            }
            .total {
              text-align: right;
              margin-top: 20px;
            }
            .total-amount {
              font-size: 24px;
              font-weight: bold;
              color: #333;
            }
            .status {
              display: inline-block;
              padding: 5px 15px;
              border-radius: 5px;
              font-weight: bold;
              text-transform: uppercase;
            }
            .status-paid { background-color: #d4edda; color: #155724; }
            .status-pending { background-color: #fff3cd; color: #856404; }
            .status-overdue { background-color: #f8d7da; color: #721c24; }
            @media print {
              body { margin: 0; }
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>INVOICE</h1>
            <p>Invoice #${be.id}</p>
          </div>
          
          <div class="invoice-info">
            <div class="info-section">
              <h3>Bill To:</h3>
              <p><strong>${be.patientName||"N/A"}</strong></p>
              <p>Invoice Date: ${new Date(be.date).toLocaleDateString()}</p>
              <p>Due Date: ${new Date(be.dueDate).toLocaleDateString()}</p>
            </div>
            <div class="info-section">
              <h3>Status:</h3>
              <span class="status status-${be.status}">${be.status}</span>
            </div>
          </div>
          
          <table>
            <thead>
              <tr>
                <th>Description</th>
                <th>Service</th>
                <th>Amount</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>${be.description||"N/A"}</td>
                <td>${be.serviceName||"N/A"}</td>
                <td>${Qr(be.amount)}</td>
              </tr>
            </tbody>
          </table>
          
          <div class="total">
            <div class="total-amount">Total: ${Qr(be.amount)}</div>
          </div>
          
          <div class="no-print" style="margin-top: 30px; text-align: center;">
            <button onclick="window.print()" style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer;">
              Print Invoice
            </button>
          </div>
        </body>
      </html>
    `;je.document.write(Me),je.document.close(),Te.success("Invoice opened in new window. Use your browser's print function to save as PDF.")},Ae=()=>{const be=["Invoice ID","Patient","Service","Amount (UGX)","Date","Due Date","Status","Description"],je=G.map(We=>[xo(We.id),xo(We.patientName??""),xo(We.serviceName??""),xo(We.amount),xo(new Date(We.date).toLocaleDateString()),xo(new Date(We.dueDate).toLocaleDateString()),xo(We.status),xo(We.description??"")]),Me=[be.join(","),...je.map(We=>We.join(","))].join(`\r
`),Ue=new Blob(["\uFEFF"+Me],{type:"text/csv;charset=utf-8"}),Ge=new Date().toISOString().slice(0,10);vC(Ue,`invoices-${Ge}.csv`),Te.success("Invoices exported to CSV.")},Y=()=>{if(!R){Te.info("No summary data to export.");return}const Me=[["Billing Summary",d==="day"?"Today":d==="week"?"This Week":"This Month"],["Revenue",Qr(R.revenue)],["Revenue (payments count)",String(R.revenueCount)],["Total Invoiced",Qr(R.totalInvoiced)],["Total Pending",Qr(R.totalPending)],["Pending count",String(R.pendingCount)],["Total Overdue",Qr(R.totalOverdue)],["Overdue count",String(R.overdueCount)],["Paid in period",Qr(R.paidInPeriod)],["Paid count",String(R.paidCount)],["Profit",Qr(R.profit)]].map(We=>We.map(xo).join(",")).join(`\r
`),Ue=new Blob(["\uFEFF"+Me],{type:"text/csv;charset=utf-8"}),Ge=new Date().toISOString().slice(0,10);vC(Ue,`billing-summary-${d}-${Ge}.csv`),Te.success("Summary exported to CSV.")},Ce=be=>String(be).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),qe=()=>{const be=window.open("","_blank");if(!be){Te.error("Please allow popups to export.");return}const je=G.map(Ue=>`
      <tr>
        <td>${Ce(Ue.id)}</td>
        <td>${Ce(Ue.patientName??"")}</td>
        <td>${Ce(Ue.serviceName??"")}</td>
        <td>${Qr(Ue.amount)}</td>
        <td>${Ce(new Date(Ue.date).toLocaleDateString())}</td>
        <td>${Ce(new Date(Ue.dueDate).toLocaleDateString())}</td>
        <td>${Ce(Ue.status)}</td>
      </tr>`).join(""),Me=`
      <!DOCTYPE html>
      <html>
        <head><title>Invoices Export</title>
          <style>
            body { font-family: Arial, sans-serif; padding: 20px; }
            table { width: 100%; border-collapse: collapse; margin-top: 16px; }
            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; font-size: 12px; }
            th { background: #f5f5f5; }
          </style>
        </head>
        <body>
          <h1>Invoices</h1>
          <p>Exported ${new Date().toLocaleString()}  ${G.length} record(s)</p>
          <table>
            <thead><tr>
              <th>Invoice ID</th><th>Patient</th><th>Service</th><th>Amount</th><th>Date</th><th>Due Date</th><th>Status</th>
            </tr></thead>
            <tbody>${je}</tbody>
          </table>
          <p class="no-print" style="margin-top: 20px;">
            <button onclick="window.print()" style="padding: 10px 20px; background: #2563eb; color: white; border: none; border-radius: 6px; cursor: pointer;">Print / Save as PDF</button>
          </p>
        </body>
      </html>`;be.document.write(Me),be.document.close(),Te.success("Export opened in new window. Use Print to save as PDF.")};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Billing & Invoices"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage invoices and payment tracking"})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{type:"button",onClick:()=>S(be=>!be),onBlur:()=>setTimeout(()=>S(!1),150),className:"btn-outline flex items-center gap-2","aria-haspopup":"true","aria-expanded":w,children:[a.jsx(Ud,{className:"h-4 w-4"}),"Export",a.jsx("svg",{className:"h-4 w-4 opacity-70",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),w&&a.jsxs("div",{className:"absolute right-0 mt-1 w-56 rounded-lg border border-gray-200 bg-white py-1 shadow-lg z-20",children:[a.jsxs("button",{type:"button",onClick:()=>{S(!1),Ae()},className:"flex w-full items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 text-left",children:[a.jsx(DF,{className:"h-4 w-4 text-green-600 shrink-0"}),"Invoices to CSV"]}),a.jsxs("button",{type:"button",onClick:()=>{S(!1),Y()},className:"flex w-full items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 text-left",children:[a.jsx(nw,{className:"h-4 w-4 text-blue-600 shrink-0"}),"Summary to CSV"]}),a.jsxs("button",{type:"button",onClick:()=>{S(!1),qe()},className:"flex w-full items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 text-left",children:[a.jsx(sw,{className:"h-4 w-4 text-gray-600 shrink-0"}),"Print list (PDF)"]})]})]}),a.jsxs("button",{onClick:()=>h(!0),className:"btn-primary flex items-center",children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Create Invoice"]})]})]}),P&&a.jsxs("div",{className:"card text-sm text-red-500 flex items-center gap-2",children:[a.jsx(Bo,{className:"h-4 w-4"})," Unable to load invoices. Please try again later."]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[a.jsx(nw,{className:"h-5 w-5 mr-2 text-primary-600"}),"Billing Reports"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Period:"}),a.jsxs("select",{value:d,onChange:be=>f(be.target.value),className:"input-field py-1.5 text-sm",children:[a.jsx("option",{value:"day",children:"Today"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4",children:[a.jsxs("div",{className:"p-3 rounded-lg bg-green-50 border border-green-100",children:[a.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Revenue"}),a.jsx("p",{className:"text-lg font-bold text-green-700",children:R?Qr(R.revenue):""}),a.jsxs("p",{className:"text-xs text-gray-500",children:[(R==null?void 0:R.revenueCount)??0," payments"]})]}),a.jsxs("div",{className:"p-3 rounded-lg bg-blue-50 border border-blue-100",children:[a.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Invoiced"}),a.jsx("p",{className:"text-lg font-bold text-blue-700",children:R?Qr(R.totalInvoiced):""})]}),a.jsxs("div",{className:"p-3 rounded-lg bg-yellow-50 border border-yellow-100",children:[a.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Pending"}),a.jsx("p",{className:"text-lg font-bold text-yellow-700",children:R?Qr(R.totalPending):""}),a.jsxs("p",{className:"text-xs text-gray-500",children:[(R==null?void 0:R.pendingCount)??0," invoices"]})]}),a.jsxs("div",{className:"p-3 rounded-lg bg-red-50 border border-red-100",children:[a.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Overdue"}),a.jsx("p",{className:"text-lg font-bold text-red-700",children:R?Qr(R.totalOverdue):""}),a.jsxs("p",{className:"text-xs text-gray-500",children:[(R==null?void 0:R.overdueCount)??0," invoices"]})]}),a.jsxs("div",{className:"p-3 rounded-lg bg-primary-50 border border-primary-100",children:[a.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Profit"}),a.jsx("p",{className:"text-lg font-bold text-primary-700",children:R?Qr(R.profit):""})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-blue-100",children:a.jsx(Sa,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total (this list)"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Qr(te)})]})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-green-100",children:a.jsx(Sa,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Paid"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Qr(ue)})]})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-yellow-100",children:a.jsx(Sa,{className:"h-6 w-6 text-yellow-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Qr(q)})]})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-red-100",children:a.jsx(Sa,{className:"h-6 w-6 text-red-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Qr(X)})]})]})})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"relative",children:[a.jsx(Fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search invoices...",value:r,onChange:be=>n(be.target.value),className:"input-field pl-10"})]})}),a.jsx("div",{children:a.jsxs("select",{value:s,onChange:be=>i(be.target.value),className:"input-field",children:[a.jsx("option",{value:"unpaid",children:"Unpaid (Pending + Overdue)"}),a.jsx("option",{value:"paid",children:"Paid only"}),a.jsx("option",{value:"all",children:"All statuses"})]})}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:o,onChange:be=>l(be.target.checked),className:"rounded border-gray-300 text-primary-600"}),"Include archived"]})}),a.jsx("div",{children:a.jsxs("select",{value:c,onChange:be=>u(be.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Time"}),a.jsx("option",{value:"last30",children:"Last 30 Days"}),a.jsx("option",{value:"overdue",children:"Overdue Only"})]})})]})}),k?a.jsx("div",{className:"card text-sm text-gray-500",children:"Loading invoices..."}):a.jsx("div",{className:"card",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Patient"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:G.map(be=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Aa,{className:"h-4 w-4 text-gray-400 mr-2"}),a.jsx("div",{className:"text-sm font-medium text-gray-900",children:be.id})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Yr,{className:"h-4 w-4 text-gray-400 mr-2"}),a.jsx("div",{className:"text-sm text-gray-900",children:be.patientName})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900",children:be.serviceName}),a.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:be.description})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Qr(be.amount)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mt,{className:"h-4 w-4 text-gray-400 mr-2"}),a.jsx("div",{className:"text-sm text-gray-900",children:new Date(be.date).toLocaleDateString()})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mt,{className:"h-4 w-4 text-gray-400 mr-2"}),a.jsx("div",{className:"text-sm text-gray-900",children:new Date(be.dueDate).toLocaleDateString()})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`status-badge ${be.status==="paid"?"status-paid":be.status==="pending"?"status-pending":"status-overdue"}`,children:be.status})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[a.jsxs("button",{onClick:()=>W(be),className:"text-primary-600 hover:text-primary-900 mr-4",children:[a.jsx(Ln,{className:"h-4 w-4 inline mr-1"}),"View"]}),a.jsxs("button",{onClick:()=>fe(be),className:"text-secondary-600 hover:text-secondary-900 mr-4",children:[a.jsx(Ud,{className:"h-4 w-4 inline mr-1"}),"PDF"]}),a.jsxs("button",{onClick:()=>{N(be),y(!0)},className:"text-blue-600 hover:text-blue-800 mr-4",children:[a.jsx(Fn,{className:"h-4 w-4 inline mr-1"}),"Edit"]}),a.jsxs("button",{onClick:()=>pe(be.id,be.patientName),className:"text-amber-600 hover:text-amber-800",title:"Archive invoice",children:[a.jsx(EF,{className:"h-4 w-4 inline mr-1"}),"Archive"]}),t&&a.jsxs("button",{onClick:()=>se(be.id,be.patientName),className:"text-red-600 hover:text-red-800 ml-2",title:"Permanently delete (admin only)",children:[a.jsx(Ur,{className:"h-4 w-4 inline mr-1"}),"Delete"]})]})]},be.id))})]})})}),G.length===0&&!k&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400",children:a.jsx(Fr,{className:"h-12 w-12"})}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No invoices found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your search or filter criteria."})]}),a.jsx(yC,{isOpen:m,onClose:()=>h(!1),onSave:Q,mode:"add",patients:z,services:Z}),a.jsx(yC,{isOpen:p,onClose:()=>{y(!1),N(null)},onSave:ne,invoice:b,mode:"edit",patients:z,services:Z}),v&&b&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsxs("div",{className:"w-full max-w-3xl max-h-[90vh] overflow-y-auto rounded-xl bg-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b px-6 py-4 sticky top-0 bg-white z-10",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Invoice Details"}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Invoice #",b.id]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{onClick:()=>fe(b),className:"btn-outline flex items-center",title:"Print/Download PDF",children:[a.jsx(sw,{className:"h-4 w-4 mr-2"}),"Print"]}),a.jsx("button",{type:"button",className:"rounded-full p-2 text-gray-400 transition hover:bg-gray-100 hover:text-gray-600",onClick:()=>{x(!1),N(null)},"aria-label":"Close",children:a.jsx(Dt,{className:"h-5 w-5"})})]})]}),a.jsxs("div",{className:"px-6 py-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Bill To"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:b.patientName}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Patient ID: ",b.patientId]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Invoice Information"}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:"text-sm text-gray-900",children:[a.jsx("span",{className:"font-medium",children:"Date:"})," ",new Date(b.date).toLocaleDateString()]}),a.jsxs("p",{className:"text-sm text-gray-900",children:[a.jsx("span",{className:"font-medium",children:"Due Date:"})," ",new Date(b.dueDate).toLocaleDateString()]}),a.jsxs("p",{className:"text-sm",children:[a.jsx("span",{className:"font-medium text-gray-900",children:"Status:"})," ",a.jsx("span",{className:`status-badge ${b.status==="paid"?"status-paid":b.status==="pending"?"status-pending":"status-overdue"}`,children:b.status})]})]})]})]}),a.jsxs("div",{className:"border-t pt-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-4",children:"Service Details"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:b.serviceName}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:b.description})]}),a.jsx("div",{className:"text-right",children:a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Qr(b.amount)})})]})})]}),a.jsx("div",{className:"border-t pt-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total Amount"}),a.jsx("span",{className:"text-2xl font-bold text-gray-900",children:Qr(b.amount)})]})}),a.jsxs("div",{className:"border-t pt-4 flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>{x(!1),N(null)},className:"btn-outline",children:"Close"}),a.jsxs("button",{onClick:()=>{N(b),x(!1),y(!0)},className:"btn-primary flex items-center",children:[a.jsx(Fn,{className:"h-4 w-4 mr-2"}),"Edit Invoice"]})]})]})]})})]})}function Mh(e){if(!e)return{};if(e.data)return e.data;const{data:t,...r}=e;return r}class yve{async getRevenueReport(t){const r=await me.get(xe.REPORTS.REVENUE,{params:t});return Mh(r.data)}async getAppointmentReport(t){const r=await me.get(xe.REPORTS.APPOINTMENTS,{params:t});return Mh(r.data)}async getPatientSatisfactionReport(t){const r=await me.get(xe.REPORTS.PATIENT_SATISFACTION,{params:t});return Mh(r.data)}async getNurseUtilizationReport(t){const r=await me.get(xe.REPORTS.NURSE_UTILIZATION,{params:t}),n=Mh(r.data);return Array.isArray(n)?n:[]}async getReportTemplates(){const t=await me.get(xe.REPORTS.TEMPLATES),r=Mh(t.data);return Array.isArray(r)?r:[]}}const Yb=new yve;function yS(e){const t=new Date(e);return{label:`${t.toLocaleString("default",{month:"short"})} ${t.getFullYear()}`,timestamp:t.getTime()}}function vve(e=[]){const t=new Map;return e.forEach(r=>{const n=r.dueDate??r.date??r.createdAt??new Date().toISOString(),{label:s,timestamp:i}=yS(n),o=t.get(s)??{outstanding:0,timestamp:i};o.outstanding+=r.amount,o.timestamp=i,t.set(s,o)}),t}function bve(e=[]){const t=new Map;return e.forEach(r=>{const n=r.date??r.createdAt??new Date().toISOString(),{label:s,timestamp:i}=yS(n),o=t.get(s)??{revenue:0,timestamp:i};o.revenue+=r.amount,o.timestamp=i,t.set(s,o)}),t}function wve(e=[],t=[],r=[]){const n=new Map,s=(i,o)=>{i.forEach(l=>{const c=l.createdAt??l.date??new Date().toISOString(),{label:u,timestamp:d}=yS(c),f=n.get(u)??{label:u,timestamp:d,patients:0,appointments:0,revenue:0};o(f,l),f.timestamp=d,n.set(u,f)})};return s(e,(i,o)=>{const l=typeof o._count=="number"?o._count:1;i.patients+=l}),s(t,(i,o)=>{const l=typeof o._count=="number"?o._count:1;i.appointments+=l}),s(r,(i,o)=>{var c;const l=((c=o._sum)==null?void 0:c.amount)??0;i.revenue+=l}),Array.from(n.values()).sort((i,o)=>i.timestamp-o.timestamp).slice(-6)}const bC=["#0D6EFD","#20B486","#6F42C1","#FD7E14","#DC3545","#20C997"];function Nve(){var D,A,I,$;const[e,t]=L.useState("last30"),{data:r,loading:n}=st(()=>So.getOverview(),[]),{data:s,loading:i}=st(()=>So.getTrends(),[]),{data:o,loading:l}=st(()=>So.getPerformance(),[]),{data:c,loading:u}=st(()=>So.getServicePopularity(),[]),{data:d,loading:f}=st(()=>So.getAppointmentAnalytics(),[]),{data:m,loading:h}=st(()=>Yb.getRevenueReport(),[]),{data:p,loading:y}=st(()=>Yb.getNurseUtilizationReport(),[]),{data:v,loading:x}=st(()=>Yb.getPatientSatisfactionReport(),[]),b=n||i||l||u||f||h||y||x,N=L.useMemo(()=>wve((s==null?void 0:s.patients)??[],(s==null?void 0:s.appointments)??[],(s==null?void 0:s.revenue)??[]),[s]),w=L.useMemo(()=>{const E=bve(m==null?void 0:m.payments),M=vve(m==null?void 0:m.pendingInvoices),z=new Map;return E.forEach((Z,R)=>{z.set(R,{label:R,timestamp:Z.timestamp,revenue:Z.revenue,outstanding:0})}),M.forEach((Z,R)=>{const U=z.get(R);U?U.outstanding=Z.outstanding:z.set(R,{label:R,timestamp:Z.timestamp,revenue:0,outstanding:Z.outstanding})}),Array.from(z.values()).sort((Z,R)=>Z.timestamp-R.timestamp).slice(-6)},[m]),S=L.useMemo(()=>(c??[]).map((E,M)=>{var Z,R;const z=typeof E.count=="number"?E.count:((Z=E.count)==null?void 0:Z.serviceId)??0;return{name:((R=E.service)==null?void 0:R.name)??`Service ${M+1}`,value:z}}),[c]),_=L.useMemo(()=>((d==null?void 0:d.byStatus)??[]).map(E=>{var R;const z=(E.status??"unknown").toString().toLowerCase().split("-").map(U=>U.charAt(0).toUpperCase()+U.slice(1)).join(" "),Z=typeof E._count=="number"?E._count:((R=E._count)==null?void 0:R.status)??0;return{status:z,count:Z}}),[d]),T=L.useMemo(()=>(p??[]).filter(E=>E==null?void 0:E.nurse).sort((E,M)=>(M.appointmentCount??0)-(E.appointmentCount??0)).slice(0,3).map(E=>({name:E.nurse.name,appointments:E.appointmentCount,utilization:E.utilization})),[p]),k=L.useMemo(()=>(c??[]).map(E=>{var z,Z;const M=typeof E.count=="number"?E.count:((z=E.count)==null?void 0:z.serviceId)??0;return{name:((Z=E.service)==null?void 0:Z.name)??"Service",requests:M}}).sort((E,M)=>M.requests-E.requests).slice(0,3),[c]),P=L.useMemo(()=>{const E=[];return v!=null&&v.averageRating&&E.push(`Average patient satisfaction is ${v.averageRating.toFixed(1)}/5.`),o!=null&&o.completedRate&&E.push(`Appointment completion rate at ${o.completedRate.toFixed(0)}%.`),m!=null&&m.totalRevenue&&E.push(`Completed payments total $${m.totalRevenue.toLocaleString(void 0,{maximumFractionDigits:0})}.`),E},[v,o,m]);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports & Analytics"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Comprehensive insights into your homecare operations"})]}),a.jsxs("div",{className:"mt-4 sm:mt-0 flex space-x-2",children:[a.jsxs("select",{value:e,onChange:E=>t(E.target.value),className:"input-field",children:[a.jsx("option",{value:"last7",children:"Last 7 Days"}),a.jsx("option",{value:"last30",children:"Last 30 Days"}),a.jsx("option",{value:"last90",children:"Last 90 Days"}),a.jsx("option",{value:"lastyear",children:"Last Year"})]}),a.jsxs("button",{className:"btn-primary",children:[a.jsx(Ud,{className:"h-4 w-4 mr-2"}),"Export Report"]})]})]}),b&&a.jsxs("div",{className:"card flex items-center justify-center py-12 text-gray-500",children:[a.jsx(Or,{className:"h-5 w-5 mr-2 animate-spin"}),"Loading analytics..."]}),!b&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-blue-100",children:a.jsx(Ua,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Patients"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:((D=r==null?void 0:r.totalPatients)==null?void 0:D.toLocaleString())??"0"})]})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-green-100",children:a.jsx(Ls,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Appointments"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:((A=r==null?void 0:r.totalAppointments)==null?void 0:A.toLocaleString())??"0"})]})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-purple-100",children:a.jsx(km,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Nurses"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:((I=r==null?void 0:r.totalNurses)==null?void 0:I.toLocaleString())??"0"})]})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-orange-100",children:a.jsx(Sa,{className:"h-6 w-6 text-orange-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),a.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",(($=r==null?void 0:r.totalRevenue)==null?void 0:$.toLocaleString())??"0"]})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Patients & Appointments Trend"}),a.jsx(km,{className:"h-5 w-5 text-primary-500"})]}),a.jsx("div",{className:"h-64",children:a.jsx(zh,{width:"100%",height:"100%",children:a.jsxs(TR,{data:N,children:[a.jsx(im,{strokeDasharray:"3 3"}),a.jsx(Io,{dataKey:"label"}),a.jsx(Lo,{}),a.jsx(Fa,{}),a.jsx(mu,{type:"monotone",dataKey:"patients",stroke:"#0D6EFD",strokeWidth:2,name:"New Patients"}),a.jsx(mu,{type:"monotone",dataKey:"appointments",stroke:"#20B486",strokeWidth:2,name:"Appointments"})]})})})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Revenue vs Outstanding"}),a.jsx(Sa,{className:"h-5 w-5 text-green-500"})]}),a.jsx("div",{className:"h-64",children:a.jsx(zh,{width:"100%",height:"100%",children:a.jsxs(tge,{data:w,children:[a.jsx(im,{strokeDasharray:"3 3"}),a.jsx(Io,{dataKey:"label"}),a.jsx(Lo,{}),a.jsx(Fa,{formatter:E=>[`$${Number(E).toLocaleString()}`,""]}),a.jsx(Ho,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#20B486",fill:"#20B486",fillOpacity:.6,name:"Payments"}),a.jsx(Ho,{type:"monotone",dataKey:"outstanding",stackId:"2",stroke:"#DC3545",fill:"#DC3545",fillOpacity:.6,name:"Pending Invoices"})]})})})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Appointment Status Breakdown"}),a.jsx(Mt,{className:"h-5 w-5 text-blue-500"})]}),a.jsx("div",{className:"h-64",children:a.jsx(zh,{width:"100%",height:"100%",children:a.jsxs(Q0e,{data:_,children:[a.jsx(im,{strokeDasharray:"3 3"}),a.jsx(Io,{dataKey:"status",interval:0,angle:-20,textAnchor:"end",height:80}),a.jsx(Lo,{}),a.jsx(Fa,{}),a.jsx(Su,{dataKey:"count",fill:"#0D6EFD",name:"Appointments"})]})})})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Service Distribution"}),a.jsx(Ls,{className:"h-5 w-5 text-purple-500"})]}),a.jsx("div",{className:"h-64",children:a.jsx(zh,{width:"100%",height:"100%",children:a.jsxs(ege,{children:[a.jsx(Xo,{data:S,cx:"50%",cy:"50%",labelLine:!1,label:({name:E,percent:M})=>`${E} ${(M*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:S.map((E,M)=>a.jsx(fv,{fill:bC[M%bC.length]},`cell-${M}`))}),a.jsx(Fa,{})]})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Performing Nurses"}),a.jsxs("div",{className:"space-y-3",children:[T.map((E,M)=>{var z,Z;return a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:E.name}),a.jsxs("p",{className:"text-xs text-gray-600",children:[E.appointments," appointments"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[((Z=(z=E.utilization)==null?void 0:z.toFixed)==null?void 0:Z.call(z,0))??0,"%"]}),a.jsx("p",{className:"text-xs text-gray-600",children:"utilization"})]})]},M)}),T.length===0&&a.jsx("p",{className:"text-sm text-gray-500",children:"No nurse analytics available."})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Most Requested Services"}),a.jsxs("div",{className:"space-y-3",children:[k.map((E,M)=>a.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:E.name}),a.jsxs("p",{className:"text-xs text-gray-600",children:[E.requests," requests"]})]})},M)),k.length===0&&a.jsx("p",{className:"text-sm text-gray-500",children:"No service popularity data available."})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Key Insights"}),a.jsx("div",{className:"space-y-3",children:P.length>0?P.map((E,M)=>a.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm text-blue-800",children:E},M)):a.jsx("p",{className:"text-sm text-gray-500",children:"No insights available yet."})})]})]})]})]})}const jve=[{value:"admin",label:"Administrator"},{value:"receptionist",label:"Receptionist"},{value:"doctor",label:"Doctor"},{value:"specialist",label:"Specialist"},{value:"nurse",label:"Nurse"},{value:"physiotherapist",label:"Physiotherapist"},{value:"clinical-psychologist",label:"Clinical Psychologist"},{value:"nutritionist",label:"Nutritionist"},{value:"critical-care-nurse",label:"Critical Care Nurse"},{value:"medical-doctor",label:"Medical Doctor"},{value:"geriatrician",label:"Geriatrician"},{value:"palliative-care-specialist",label:"Palliative Care Specialist"},{value:"senior-midwife",label:"Senior Midwife"},{value:"patient",label:"Patient"}],wC={username:"",name:"",email:"",password:"",role:"nurse",phone:"",department:"",doctorSpecialization:"",isActive:!0,avatar:""},Sve=[{value:"NEUROLOGIST",label:"Neurologist"},{value:"ORTHOPEDIST",label:"Orthopedist"},{value:"PHYSIOTHERAPIST",label:"Physiotherapist"}];function NC({isOpen:e,onClose:t,onSave:r,isSaving:n,user:s,title:i,description:o,hideRoleSelector:l=!1,defaultRole:c="nurse",showSpecialization:u=!1}){const d=!!s,[f,m]=L.useState({...wC,role:c}),[h,p]=L.useState(null),[y,v]=L.useState(null),[x,b]=L.useState(null),[N,w]=L.useState(!1),S=i||(d?"Edit User":"Add New User"),_=o||(d?"Update user information and password.":"Provision a new staff or patient account.");if(L.useEffect(()=>{if(e){if(s)if(m({username:s.username||"",name:s.name||"",email:s.email||"",password:"",role:s.role||"nurse",phone:s.phone||"",department:s.department||"",doctorSpecialization:"",isActive:s.isActive!==!1,avatar:s.avatar||""}),s.avatar){const A=s.avatar.startsWith("http")?s.avatar:Oa(s.avatar);b(A)}else b(null);else m({...wC,role:c}),b(null);v(null),p(null),w(!1)}},[e,s,c]),!e)return null;const T=A=>{const{name:I,value:$,type:E}=A.target,M=A.target.checked;m(z=>({...z,[I]:E==="checkbox"?M:$}))},k=async A=>{var E;const I=(E=A.target.files)==null?void 0:E[0];if(!I)return;if(!I.type.startsWith("image/")){p("Please select a valid image file");return}if(I.size>10*1024*1024){p("Image size must be less than 10MB");return}v(I),p(null);const $=new FileReader;$.onloadend=()=>{b($.result)},$.readAsDataURL(I),w(!0);try{const M=await me.uploadFile(xe.UPLOAD.IMAGE,I);if(M.success&&M.data){const Z=M.data.url||M.data.url;if(Z){const R=Z.startsWith("http")?Z.replace(/^https?:\/\/[^\/]+/,""):Z.startsWith("/")?Z:"/"+Z;m(de=>({...de,avatar:R}));const re=`${iu.API_ORIGIN}${R}`;b(re)}}}catch(M){p((M==null?void 0:M.message)||"Failed to upload image"),v(null),b(null)}finally{w(!1)}},P=()=>{v(null),b(null),m(A=>({...A,avatar:""}))},D=async A=>{var I,$,E;if(A.preventDefault(),p(null),!d&&!((I=f.username)!=null&&I.trim())){p("Username is required for new users.");return}if(!d&&(!f.password||f.password.length<8)){p("Password must be at least 8 characters long.");return}if(d&&f.password&&f.password.length<8){p("Password must be at least 8 characters long.");return}try{const M={name:f.name,email:f.email,phone:f.phone,department:f.department,isActive:f.isActive};($=f.username)!=null&&$.trim()&&(M.username=f.username.trim().toLowerCase()),u&&f.doctorSpecialization&&(M.doctorSpecialization=f.doctorSpecialization),f.avatar&&(M.avatar=f.avatar),d?f.password&&(M.password=f.password):(M.password=f.password,M.role=f.role,!M.username&&((E=f.username)!=null&&E.trim())&&(M.username=f.username.trim().toLowerCase())),await r(M),t()}catch(M){p((M==null?void 0:M.message)||"Unable to save user.")}};return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40",onClick:t}),a.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-lg mx-4 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"bg-primary-100 text-primary-600 rounded-lg h-10 w-10 flex items-center justify-center",children:a.jsx(t5,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:S}),a.jsx("p",{className:"text-sm text-gray-500",children:_})]})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-xl leading-none","aria-label":"Close modal",children:""})]}),h&&a.jsx("div",{className:"mb-4 p-3 rounded-md bg-red-50 border border-red-200 text-sm text-red-700",children:h}),a.jsxs("form",{className:"space-y-4",onSubmit:D,children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Username ",!d&&"*"]}),a.jsx("input",{type:"text",name:"username",value:f.username,onChange:T,placeholder:"e.g. jane.doe (used for login)",disabled:d,className:"input-field disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed"}),d&&a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Username cannot be changed after creation"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),a.jsx("input",{type:"text",name:"name",value:f.name,onChange:T,required:!0,className:"input-field",placeholder:"e.g. Sarah Johnson"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",name:"email",value:f.email,onChange:T,className:"input-field",placeholder:"user@teamworkhomecare.com"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[!l&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role *"}),a.jsx("select",{name:"role",value:f.role,onChange:T,required:!0,disabled:d||l,className:"input-field disabled:bg-gray-100 disabled:cursor-not-allowed",children:jve.map(A=>a.jsx("option",{value:A.value,children:A.label},A.value))}),d&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Role cannot be changed"})]}),a.jsxs("div",{className:l?"md:col-span-2":"",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),a.jsx("input",{type:"text",name:"department",value:f.department,onChange:T,className:"input-field",placeholder:"e.g. Medical, Cardiology"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Picture"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[x?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:x,alt:"Avatar preview",className:"h-20 w-20 rounded-full object-cover border-2 border-gray-200"}),a.jsx("button",{type:"button",onClick:P,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:a.jsx(Dt,{className:"h-4 w-4"})})]}):a.jsx("div",{className:"h-20 w-20 rounded-full bg-gray-100 flex items-center justify-center border-2 border-dashed border-gray-300",children:a.jsx(jp,{className:"h-8 w-8 text-gray-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("label",{className:"cursor-pointer",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:k,className:"hidden",disabled:N}),a.jsx("div",{className:"btn-outline flex items-center justify-center",children:N?a.jsxs(a.Fragment,{children:[a.jsx(Or,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(jf,{className:"h-4 w-4 mr-2"}),x?"Change Picture":"Upload Picture"]})})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG or GIF (max 10MB)"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specialization *"}),a.jsxs("select",{name:"doctorSpecialization",value:f.doctorSpecialization,onChange:T,required:u,className:"input-field",children:[a.jsx("option",{value:"",children:"Select specialization"}),Sve.map(A=>a.jsx("option",{value:A.value,children:A.label},A.value))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",name:"phone",value:f.phone,onChange:T,className:"input-field",placeholder:"+1-555-0100"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:d?"New Password (leave blank to keep current)":"Temporary Password *"}),a.jsx("input",{type:"password",name:"password",value:f.password,onChange:T,required:!d,minLength:8,className:"input-field",placeholder:d?"Leave blank to keep current password":"Minimum 8 characters"})]}),a.jsxs("div",{className:"flex items-center pt-6",children:[a.jsx("input",{type:"checkbox",name:"isActive",id:"isActive",checked:f.isActive,onChange:T,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-700",children:"Active"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[a.jsx("button",{type:"button",className:"btn-outline",onClick:t,disabled:n,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary flex items-center",disabled:n,children:n?a.jsxs(a.Fragment,{children:[a.jsx(Or,{className:"h-4 w-4 mr-2 animate-spin"}),d?"Updating...":"Creating..."]}):d?i!=null&&i.toLowerCase().includes("doctor")?"Update Doctor":"Update User":i!=null&&i.toLowerCase().includes("doctor")?"Create Doctor":"Create User"})]})]})]})]})}function Ave(){const{user:e}=dr(),[t]=z9(),r=t.get("role"),[n,s]=L.useState(!1),[i,o]=L.useState(!1),[l,c]=L.useState(null),[u,d]=L.useState(null),[f,m]=L.useState(""),[h,p]=L.useState(r?r.toLowerCase():"all"),[y,v]=L.useState("all");L.useEffect(()=>{r&&p(r.toLowerCase())},[r]);const N=(e==null?void 0:e.role)==="admin"||!(h==="specialist"||h==="nurse"),{addNotification:w}=Rr(),{data:S,loading:_,error:T,refetch:k}=st(()=>Qt.getUsers({role:h!=="all"?h.toUpperCase():void 0,limit:50}),[h]),P=ot(Qt.createUser.bind(Qt)),D=ot(({id:q,payload:X})=>Qt.updateUser(q,X)),A=ot(({id:q,isActive:X})=>Qt.updateUserStatus(q,X)),I=ot(Qt.deleteUser.bind(Qt)),$=(S==null?void 0:S.users)??[],E=L.useMemo(()=>{const q=f.trim().toLowerCase();return $.filter(X=>{var se;const Q=!q||X.name.toLowerCase().includes(q)||((se=X.email)==null?void 0:se.toLowerCase().includes(q))||X.role.toLowerCase().includes(q),ne=h==="all"||X.role===h,pe=y==="all"||y==="active"&&X.isActive!==!1||y==="inactive"&&X.isActive===!1;return Q&&ne&&pe})},[$,f,h,y]),M=async q=>{var Q;if(!q.role)throw new Error("Role is required");const X={username:q.username??((Q=q.email)==null?void 0:Q.trim().split("@")[0])??q.name.replace(/\s+/g,"").toLowerCase()??"user",name:q.name,email:q.email,password:q.password,role:q.role,phone:q.phone,department:q.department};try{await P.mutate(X),Te.success(`User ${X.name} has been created successfully`),w({title:"User created",message:`${X.name} has been provisioned.`,type:"success",priority:"medium",category:"system",userId:""}),await k()}catch(ne){throw Te.error((ne==null?void 0:ne.message)||"Failed to create user"),ne}},z=q=>{c(q),o(!0)},Z=async q=>{if(l)try{const X={name:q.name,email:q.email,phone:q.phone,department:q.department};q.password&&q.password.trim()&&(X.password=q.password),await D.mutate({id:l.id,payload:X}),Te.success(`User ${q.name} has been updated successfully`),w({title:"User updated",message:`${q.name}'s information has been updated.`,type:"success",priority:"medium",category:"system",userId:""}),o(!1),c(null),await k()}catch(X){throw Te.error((X==null?void 0:X.message)||"Failed to update user"),X}},R=q=>{d(q)},U=async()=>{if(u)try{await I.mutate(u.id),Te.success(`User ${u.name} has been permanently deleted`),w({title:"User deleted",message:`${u.name} has been permanently removed from the system.`,type:"success",priority:"medium",category:"system",userId:""}),d(null),await k()}catch(q){Te.error((q==null?void 0:q.message)||"Failed to delete user")}},re=async(q,X)=>{await A.mutate({id:q.id,isActive:X}),w({title:"User status updated",message:`${q.name} is now ${X?"active":"inactive"}.`,type:"success",priority:"medium",category:"system",userId:""}),await k()},de=[{value:"all",label:"All Roles"},{value:"admin",label:"Administrator"},{value:"receptionist",label:"Receptionist"},{value:"doctor",label:"Doctor"},{value:"specialist",label:"Specialist"},{value:"nurse",label:"Nurse"}],B=()=>{const q=h;return q==="specialist"?"Specialists":q==="nurse"?"Nurses":q==="receptionist"?"Receptionists":q==="admin"?"Administrators":q==="therapist"?"Therapists":q==="biller"?"Billers":"User Management"},G=()=>{const q=h;return q==="specialist"?"Manage specialists and their specializations.":q==="nurse"?"Manage nurses and their assignments.":q==="receptionist"?"Manage receptionist staff.":q==="admin"?"Manage system administrators.":q==="therapist"?"Manage therapists and their specializations.":q==="biller"?"Manage billing staff.":"Provision and manage staff and patient access."},ue=h==="specialist"?zd:e5;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center space-x-2",children:[a.jsx(ue,{className:"h-6 w-6 text-primary-500"}),a.jsx("span",{children:B()})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:G()})]}),N&&a.jsxs("button",{className:"btn-primary flex items-center",onClick:()=>s(!0),children:[a.jsx(t5,{className:"h-4 w-4 mr-2"}),"Add User"]})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{className:"relative w-full md:w-72",children:[a.jsx(Fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search users...",value:f,onChange:q=>m(q.target.value),className:"input-field pl-10"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(My,{className:"h-4 w-4 text-gray-400"}),a.jsx("select",{className:"input-field",value:h,onChange:q=>p(q.target.value),children:de.map(q=>a.jsx("option",{value:q.value,children:q.label},q.value))}),a.jsxs("select",{className:"input-field",value:y,onChange:q=>v(q.target.value),children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})}),T&&a.jsx("div",{className:"card bg-red-50 border border-red-200 text-red-700",children:"Unable to load users. Please refresh or try again later."}),a.jsx("div",{className:"card overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx(Or,{className:"h-5 w-5 mr-2 animate-spin"}),"Loading users..."]})})}):E.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:"No users match your current filters."})}):E.map(q=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-600 font-semibold",children:q.name.split(" ").map(X=>X[0]).join("").slice(0,2)}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.name}),a.jsx("div",{className:"text-xs text-gray-500 capitalize",children:q.role.replace(/-/g," ")})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:q.email}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 capitalize",children:q.role.replace(/-/g," ")}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:q.department??""}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:q.isActive!==!1?a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:"Active"}):a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600",children:"Inactive"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:N?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{className:"text-blue-600 hover:text-blue-800 flex items-center text-xs disabled:opacity-50",onClick:()=>z(q),disabled:D.loading,title:"Edit user",children:[a.jsx(Fn,{className:"h-4 w-4 mr-1"})," Edit"]}),a.jsxs("button",{className:"text-green-600 hover:text-green-800 flex items-center text-xs disabled:opacity-50",onClick:()=>re(q,!0),disabled:A.loading||q.isActive!==!1,title:"Activate user",children:[a.jsx($n,{className:"h-4 w-4 mr-1"})," Activate"]}),a.jsxs("button",{className:"text-yellow-600 hover:text-yellow-800 flex items-center text-xs disabled:opacity-50",onClick:()=>re(q,!1),disabled:A.loading||q.isActive===!1,title:"Deactivate user",children:[a.jsx(Vl,{className:"h-4 w-4 mr-1"})," Deactivate"]}),a.jsxs("button",{className:"text-red-600 hover:text-red-800 flex items-center text-xs disabled:opacity-50",onClick:()=>R(q),disabled:I.loading,title:"Delete user permanently",children:[a.jsx(Ur,{className:"h-4 w-4 mr-1"})," Delete"]})]}):a.jsx("span",{className:"text-gray-400 text-xs",children:"View only"})})]},q.id))})]})})}),a.jsx(NC,{isOpen:n,onClose:()=>s(!1),onSave:M,isSaving:P.loading}),a.jsx(NC,{isOpen:i,onClose:()=>{o(!1),c(null)},onSave:Z,isSaving:D.loading,user:l}),u&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40",onClick:()=>d(null)}),a.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-md mx-4 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"bg-red-100 text-red-600 rounded-lg h-10 w-10 flex items-center justify-center",children:a.jsx(Ur,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Delete User"}),a.jsx("p",{className:"text-sm text-gray-500",children:"This action cannot be undone"})]})]}),a.jsx("button",{onClick:()=>d(null),className:"text-gray-400 hover:text-gray-600 text-xl leading-none","aria-label":"Close modal",children:""})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("p",{className:"text-sm text-gray-700",children:["Are you sure you want to permanently delete ",a.jsx("strong",{children:u.name}),"?"]}),a.jsx("p",{className:"text-sm text-red-600 mt-2",children:"This will permanently remove the user and all associated data from the system."})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",className:"btn-outline",onClick:()=>d(null),disabled:I.loading,children:"Cancel"}),a.jsx("button",{type:"button",className:"btn-primary bg-red-600 hover:bg-red-700 text-white",onClick:U,disabled:I.loading,children:I.loading?a.jsxs(a.Fragment,{children:[a.jsx(Or,{className:"h-4 w-4 mr-2 animate-spin"}),"Deleting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ur,{className:"h-4 w-4 mr-2"}),"Delete Permanently"]})})]})]})]})]})}const _ve={ACTIVE:"active",INACTIVE:"inactive",ON_LEAVE:"on-leave"},Eve={active:"ACTIVE",inactive:"INACTIVE","on-leave":"ON_LEAVE"};function hg(e){var r;const t=(r=e.status)==null?void 0:r.toUpperCase();return{...e,status:_ve[t]??"active",hireDate:e.hireDate?new Date(e.hireDate).toISOString().split("T")[0]:""}}function jC(e){const t={...e};return e.username&&(t.username=e.username.trim().toLowerCase()),e.status&&(t.status=Eve[e.status]),e.hireDate&&(t.hireDate=new Date(e.hireDate).toISOString()),t}class Pve{async getTherapists(t){const r=await me.get(xe.THERAPISTS.BASE,{params:t});return{therapists:Array.isArray(r.data)?r.data.map(hg):[],pagination:r.pagination}}async getTherapist(t){const r=await me.get(xe.THERAPISTS.BY_ID(t));return hg(r.data)}async createTherapist(t){const r=await me.post(xe.THERAPISTS.BASE,jC(t));return hg(r.data)}async updateTherapist(t,r){const n=await me.put(xe.THERAPISTS.BY_ID(t),jC(r));return hg(n.data)}async deleteTherapist(t){await me.delete(xe.THERAPISTS.BY_ID(t))}}const Tc=new Pve;class Cve{async getSpecializations(t){const r=await me.get(xe.SPECIALIZATIONS.BASE,{params:t});return Array.isArray(r.data)?r.data:[]}async getSpecialization(t){return(await me.get(xe.SPECIALIZATIONS.BY_ID(t))).data}async createSpecialization(t){return(await me.post(xe.SPECIALIZATIONS.BASE,t)).data}async updateSpecialization(t,r){return(await me.put(xe.SPECIALIZATIONS.BY_ID(t),r)).data}async deleteSpecialization(t){await me.delete(xe.SPECIALIZATIONS.BY_ID(t))}}const wl=new Cve,Kb={username:"",name:"",email:"",password:"",phone:"",specialization:"",licenseNumber:"",experience:0,certifications:[],hourlyRate:0,bio:"",hireDate:new Date().toISOString().split("T")[0],avatar:""};function SC({isOpen:e,onClose:t,onSave:r,therapist:n,mode:s,isSaving:i=!1}){const[o,l]=L.useState(Kb),[c,u]=L.useState(null),[d,f]=L.useState(null),[m,h]=L.useState(null),[p,y]=L.useState(!1),[v,x]=L.useState(""),[b,N]=L.useState([]),[w,S]=L.useState(!0),_=s==="edit"&&n;L.useEffect(()=>{e&&(async()=>{try{S(!0);const E=await wl.getSpecializations({type:"THERAPIST"});N(E)}catch(E){console.error("Failed to load specializations:",E)}finally{S(!1)}})()},[e]),L.useEffect(()=>{if(!e){l(Kb),u(null),f(null),h(null),y(!1);return}_&&n?(async()=>{try{const E=await Tc.getTherapist(n.id);if(l({username:E.username||"",name:E.name||"",email:E.email||"",password:"",phone:E.phone||"",specialization:E.specialization||"",licenseNumber:E.licenseNumber||"",experience:E.experience||0,certifications:E.certifications||[],hourlyRate:E.hourlyRate||0,bio:E.bio||"",hireDate:E.hireDate?new Date(E.hireDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],avatar:E.avatar||""}),E.avatar){const M=E.avatar.startsWith("http")?E.avatar:Oa(E.avatar);h(M)}}catch{l({username:n.username||"",name:n.name||"",email:n.email||"",password:"",phone:n.phone||"",specialization:n.specialization||n.therapistSpecialization||"",licenseNumber:n.licenseNumber||"",experience:n.experience||0,certifications:n.certifications||[],hourlyRate:n.hourlyRate||0,bio:n.bio||"",hireDate:n.hireDate?new Date(n.hireDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],avatar:n.avatar||""})}})():(l(Kb),h(null))},[e,_,n]);const T=$=>{const{name:E,value:M,type:z}=$.target;l(Z=>({...Z,[E]:z==="checkbox"?$.target.checked:z==="number"?Number(M):M}))},k=()=>{v.trim()&&(l($=>({...$,certifications:[...$.certifications,v.trim()]})),x(""))},P=$=>{l(E=>({...E,certifications:E.certifications.filter((M,z)=>z!==$)}))},D=async $=>{var z;const E=(z=$.target.files)==null?void 0:z[0];if(!E)return;if(!E.type.startsWith("image/")){u("Please select a valid image file");return}if(E.size>10*1024*1024){u("Image size must be less than 10MB");return}f(E),u(null);const M=new FileReader;M.onloadend=()=>{h(M.result)},M.readAsDataURL(E),y(!0);try{const Z=await me.uploadFile(xe.UPLOAD.IMAGE,E);if(Z.success&&Z.data){const U=Z.data.url||Z.data.url;if(U){const re=U.startsWith("http")?U.replace(/^https?:\/\/[^\/]+/,""):U.startsWith("/")?U:"/"+U;l(de=>({...de,avatar:re}))}}}catch(Z){u((Z==null?void 0:Z.message)||"Failed to upload image"),f(null),h(null)}finally{y(!1)}},A=()=>{f(null),h(null),l($=>({...$,avatar:""}))},I=async $=>{var E;if($.preventDefault(),u(null),s==="add"&&!((E=o.username)!=null&&E.trim())){u("Username is required for new therapists.");return}if(s==="add"&&(!o.password||o.password.length<8)){u("Password must be at least 8 characters long.");return}if(s==="edit"&&o.password&&o.password.length<8){u("Password must be at least 8 characters long.");return}if(!o.name||!o.email){u("Name and email are required.");return}if(s==="add"&&!o.specialization){u("Therapist specialization is required.");return}if(s==="add"&&(!o.experience||o.experience<0)){u("Experience must be a valid number.");return}if(s==="add"&&(!o.hourlyRate||o.hourlyRate<=0)){u("Hourly rate must be greater than 0.");return}if(s==="add"&&!o.hireDate){u("Hire date is required.");return}try{await r(o),t()}catch(M){u((M==null?void 0:M.message)??"Unable to save therapist. Please try again.")}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"bg-primary-100 text-primary-600 rounded-lg h-10 w-10 flex items-center justify-center",children:a.jsx(t5,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s==="add"?"Add New Therapist":"Edit Therapist"}),a.jsx("p",{className:"text-sm text-gray-500",children:s==="add"?"Create a new therapist account with login credentials":"Update therapist information"})]})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Dt,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:I,className:"p-6 space-y-6",children:[c&&a.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:c}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Basic Information"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username *"}),a.jsx("input",{type:"text",name:"username",value:o.username,onChange:T,required:s==="add",disabled:s==="edit",className:"input-field disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed",placeholder:"e.g. lisa.anderson (used for login)"}),s==="edit"&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Username cannot be changed after creation"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),a.jsx("input",{type:"text",name:"name",value:o.name,onChange:T,required:!0,className:"input-field",placeholder:"Enter full name",disabled:i})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",name:"email",value:o.email,onChange:T,className:"input-field",placeholder:"Enter email address",disabled:i||_}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will be used for login"})]}),s==="add"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),a.jsx("input",{type:"password",name:"password",value:o.password,onChange:T,required:s==="add",minLength:8,className:"input-field",placeholder:"Minimum 8 characters",disabled:i}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Provide this to the therapist for login"})]}),s==="edit"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password (optional)"}),a.jsx("input",{type:"password",name:"password",value:o.password,onChange:T,minLength:8,className:"input-field",placeholder:"Leave blank to keep current password",disabled:i}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only fill if you want to change the password"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:T,className:"input-field",placeholder:"Enter phone number",disabled:i})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Professional Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Therapist Specialization *"}),a.jsxs("select",{name:"specialization",value:o.specialization,onChange:T,required:s==="add",className:"input-field",disabled:i||w,children:[a.jsx("option",{value:"",children:"Select specialization"}),w?a.jsx("option",{disabled:!0,children:"Loading specializations..."}):b.map($=>a.jsx("option",{value:$.name.toUpperCase().replace(/\s+/g,"_"),children:$.name},$.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"License Number *"}),a.jsx("input",{type:"text",name:"licenseNumber",value:o.licenseNumber,onChange:T,required:s==="add",className:"input-field",placeholder:"Enter license number",disabled:i})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Years of Experience *"}),a.jsx("input",{type:"number",name:"experience",value:o.experience,onChange:T,required:s==="add",min:"0",className:"input-field",placeholder:"Enter years of experience",disabled:i})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hourly Rate ($) *"}),a.jsx("input",{type:"number",name:"hourlyRate",value:o.hourlyRate,onChange:T,required:s==="add",min:"0",step:"0.01",className:"input-field",placeholder:"Enter hourly rate",disabled:i})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hire Date *"}),a.jsx("input",{type:"date",name:"hireDate",value:o.hireDate,onChange:T,required:s==="add",className:"input-field",disabled:i})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Certifications"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:v,onChange:$=>x($.target.value),onKeyPress:$=>{$.key==="Enter"&&($.preventDefault(),k())},className:"input-field flex-1",placeholder:"Enter certification (e.g., APTA Certified)",disabled:i}),a.jsxs("button",{type:"button",onClick:k,className:"btn-outline flex items-center",disabled:i||!v.trim(),children:[a.jsx(zt,{className:"h-4 w-4 mr-1"}),"Add"]})]}),o.certifications.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:o.certifications.map(($,E)=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-primary-100 text-primary-800",children:[$,a.jsx("button",{type:"button",onClick:()=>P(E),className:"ml-2 text-primary-600 hover:text-primary-800",disabled:i,children:a.jsx(Dt,{className:"h-3 w-3"})})]},E))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio / Professional Summary"}),a.jsx("textarea",{name:"bio",value:o.bio,onChange:T,rows:4,className:"input-field",placeholder:"Enter professional bio or summary",disabled:i})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Picture"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[m?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:m,alt:"Avatar preview",className:"h-20 w-20 rounded-full object-cover border-2 border-gray-200"}),a.jsx("button",{type:"button",onClick:A,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:a.jsx(Dt,{className:"h-4 w-4"})})]}):a.jsx("div",{className:"h-20 w-20 rounded-full bg-gray-100 flex items-center justify-center border-2 border-dashed border-gray-300",children:a.jsx(jp,{className:"h-8 w-8 text-gray-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("label",{className:"cursor-pointer",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:D,className:"hidden",disabled:p||i}),a.jsx("div",{className:"btn-outline flex items-center justify-center",children:p?a.jsxs(a.Fragment,{children:[a.jsx(Or,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(jf,{className:"h-4 w-4 mr-2"}),m?"Change Picture":"Upload Picture"]})})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG or GIF (max 10MB)"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-2 border-t",children:[a.jsx("button",{type:"button",className:"btn-outline",onClick:t,disabled:i,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary flex items-center",disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(Or,{className:"h-4 w-4 mr-2 animate-spin"}),s==="edit"?"Updating...":"Creating..."]}):s==="edit"?"Update Therapist":"Create Therapist"})]})]})]})}):null}function Tve(){const{user:e}=dr(),t=(e==null?void 0:e.role)==="admin",[r,n]=L.useState(""),[s,i]=L.useState("all"),[o,l]=L.useState(!1),[c,u]=L.useState(!1),[d,f]=L.useState(null),{addNotification:m}=Rr(),{data:h,loading:p,error:y,refetch:v}=st(()=>Tc.getTherapists({limit:200}),[]),x=(h==null?void 0:h.therapists)??[],b=ot(Tc.createTherapist.bind(Tc)),N=ot(({id:P,payload:D})=>Tc.updateTherapist(P,D)),w=ot(Tc.deleteTherapist.bind(Tc)),S=L.useMemo(()=>{const P=r.trim().toLowerCase();return x.filter(D=>{var $;const A=!P||D.name.toLowerCase().includes(P)||D.email.toLowerCase().includes(P)||D.specialization.toLowerCase().includes(P)||(($=D.licenseNumber)==null?void 0:$.toLowerCase().includes(P)),I=s==="all"||s==="active"&&D.status==="active"||s==="inactive"&&D.status==="inactive";return A&&I})},[x,r,s]),_=async P=>{var D,A;try{const I={username:P.username??((D=P.email)==null?void 0:D.trim().split("@")[0])??((A=P.name)==null?void 0:A.replace(/\s+/g,"").toLowerCase())??"therapist",name:P.name,email:P.email,password:P.password,phone:P.phone,specialization:P.specialization,licenseNumber:P.licenseNumber,experience:P.experience,certifications:P.certifications||[],hourlyRate:P.hourlyRate,bio:P.bio||"",hireDate:P.hireDate,avatar:P.avatar||""};await b.mutate(I),Te.success(`Therapist ${P.name} has been created successfully`),m({title:"Therapist created",message:`${P.name} has been added to the team.`,type:"success",priority:"medium",category:"system",userId:"system"}),l(!1),await v()}catch(I){Te.error((I==null?void 0:I.message)??"Failed to create therapist")}},T=async P=>{if(d)try{const D={name:P.name,phone:P.phone,specialization:P.specialization,licenseNumber:P.licenseNumber,experience:P.experience,certifications:P.certifications||[],hourlyRate:P.hourlyRate,bio:P.bio||"",hireDate:P.hireDate,avatar:P.avatar||""};await N.mutate({id:d.id,payload:D}),Te.success(`Therapist ${P.name} has been updated`),m({title:"Therapist updated",message:`${P.name} details have been updated.`,type:"info",priority:"medium",category:"system",userId:"system"}),u(!1),f(null),await v()}catch(D){Te.error((D==null?void 0:D.message)??"Failed to update therapist")}},k=async P=>{if(window.confirm("Are you sure you want to remove this therapist?"))try{await w.mutate(P),Te.success("Therapist removed"),await v()}catch(D){Te.error((D==null?void 0:D.message)??"Failed to remove therapist")}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Therapists"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Manage therapists and their availability."})]}),t&&a.jsxs("button",{onClick:()=>l(!0),className:"btn-primary inline-flex items-center gap-2",children:[a.jsx(zt,{className:"h-4 w-4"}),"Add Therapist"]})]}),a.jsxs("div",{className:"mt-4 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Fr,{className:"pointer-events-none absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",value:r,onChange:P=>n(P.target.value),placeholder:"Search therapists...",className:"input-field pl-10"})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("select",{value:s,onChange:P=>i(P.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})})]})]}),a.jsx("div",{className:"card",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Specialization"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Phone"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),t&&a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:p?a.jsx("tr",{children:a.jsx("td",{colSpan:t?6:5,className:"px-6 py-8 text-center text-sm text-gray-500",children:"Loading therapists..."})}):y?a.jsx("tr",{children:a.jsx("td",{colSpan:t?6:5,className:"px-6 py-8 text-center text-sm text-red-500",children:y instanceof Error?y.message:String(y)})}):S.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:t?6:5,className:"px-6 py-8 text-center text-sm text-gray-500",children:"No therapists found."})}):S.map(P=>a.jsxs("tr",{children:[a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-50 flex items-center justify-center text-blue-600",children:a.jsx(zd,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900",children:P.name}),a.jsx("div",{className:"text-xs text-gray-500",children:P.licenseNumber??""})]})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-700",children:P.email}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-700 capitalize",children:P.specialization??""}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-700",children:P.phone??""}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm",children:a.jsxs("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${P.status==="active"?"bg-green-50 text-green-700":P.status==="inactive"?"bg-gray-100 text-gray-600":"bg-yellow-50 text-yellow-700"}`,children:[a.jsx("span",{className:`mr-2 inline-block h-2 w-2 rounded-full ${P.status==="active"?"bg-green-500":P.status==="inactive"?"bg-gray-400":"bg-yellow-500"}`}),P.status==="active"?"Active":P.status==="inactive"?"Inactive":"On Leave"]})}),t&&a.jsxs("td",{className:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium space-x-2",children:[a.jsxs("button",{onClick:()=>{f(P),u(!0)},className:"text-secondary-600 hover:text-secondary-900 inline-flex items-center",children:[a.jsx(Fn,{className:"mr-1 h-4 w-4"}),"Edit"]}),a.jsxs("button",{onClick:()=>k(P.id),className:"text-red-600 hover:text-red-900 inline-flex items-center",children:[a.jsx(Ur,{className:"mr-1 h-4 w-4"}),"Delete"]})]})]},P.id))})]})})}),t&&a.jsx(SC,{isOpen:o,onClose:()=>l(!1),onSave:_,mode:"add",isSaving:b.loading}),t&&d&&a.jsx(SC,{isOpen:c,onClose:()=>{u(!1),f(null)},onSave:T,therapist:d,mode:"edit",isSaving:N.loading})]})}const kve=["08:00","09:00","10:00","11:00","13:00","14:00","15:00","16:00"],Ove={"Mental Health":["clinical-psychologist"],Nutrition:["nutritionist"],Nursing:["critical-care-nurse","medical-doctor"],"Palliative Care":["palliative-care-specialist"],"Maternal Care":["senior-midwife"],Physiotherapy:["medical-doctor"]};function Ive(){var U,re,de,B,G,te,ue;const[e,t]=L.useState(""),[r,n]=L.useState("home"),[s,i]=L.useState(""),[o,l]=L.useState(""),[c,u]=L.useState(""),[d,f]=L.useState(""),[m,h]=L.useState(""),[p,y]=L.useState(!1),[v,x]=L.useState(!1),{user:b}=dr(),{addNotification:N}=Rr(),{data:w,loading:S,error:_}=st(()=>Mi.getServices({isActive:!0,limit:200}),[]),{data:T,loading:k}=st(()=>Ic.getSpecialists({limit:200,status:"active"}),[]),{data:P,loading:D}=st(()=>b!=null&&b.email?Mn.getPatients({query:b.email,limit:1}):Promise.resolve({patients:[]}),[b==null?void 0:b.email]),A=ot(Xn.createAppointment.bind(Xn)),I=(w==null?void 0:w.services)??[],$=((T==null?void 0:T.specialists)??[]).filter(q=>q.status==="active"),E=(U=P==null?void 0:P.patients)==null?void 0:U[0],M=()=>I.find(q=>q.id===e)??null,z=L.useMemo(()=>{const q=M();if(!q)return $;const X=Ove[q.category]??[];return X.length?$.filter(Q=>X.includes(Q.specialization)):$},[e,$]),Z=()=>{t(""),n("home"),i(""),l(""),u(""),f(""),h("")},R=async()=>{if(!E){N({title:"Patient profile required",message:"We could not locate a patient record for your account. Please contact support.",type:"error",userId:(b==null?void 0:b.id)??"system",priority:"high",category:"system"});return}const q=M();if(!q||!s||!o){N({title:"Missing details",message:"Please complete all required fields before booking.",type:"warning",userId:(b==null?void 0:b.id)??"system",priority:"medium",category:"system"});return}y(!0);try{const X={patientId:E.id,serviceId:q.id,specialistId:c||void 0,nurseId:void 0,date:s,time:o,duration:q.duration,notes:[`Visit type: ${r}`,r==="home"&&d?`Address: ${d}`:"",m?`Notes: ${m}`:""].filter(Boolean).join(" | ")};await A.mutate(X),N({title:"Appointment Confirmed",message:`${q.name} booked for ${s} at ${o}.`,type:"success",userId:(b==null?void 0:b.id)??"system",priority:"medium",category:"appointment"}),x(!0)}catch(X){N({title:"Unable to book appointment",message:(X==null?void 0:X.message)??"Please try again later.",type:"error",userId:(b==null?void 0:b.id)??"system",priority:"high",category:"system"})}finally{y(!1)}};if(v){const q=M(),X=(re=$.find(Q=>Q.id===c))==null?void 0:re.name;return a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx($n,{className:"h-16 w-16 text-green-500"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Appointment Booked Successfully!"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Your appointment has been confirmed. You will receive a confirmation email shortly."}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Appointment Details"}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Service:"})," ",q==null?void 0:q.name]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Date:"})," ",s]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Time:"})," ",o]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Type:"})," ",r]}),X&&a.jsxs("p",{children:[a.jsx("strong",{children:"Specialist:"})," ",X]})]})]}),a.jsx("button",{onClick:()=>{x(!1),Z()},className:"btn-primary",children:"Book Another Appointment"})]})})}return S||k||D?a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsx("div",{className:"card text-center py-12 text-sm text-gray-500",children:"Loading booking data"})}):_?a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsx("div",{className:"card text-center py-12 text-sm text-red-500",children:"Unable to load services. Please try again later."})}):E?a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Book an Appointment"}),a.jsx("p",{className:"text-gray-600",children:"Schedule your healthcare service with our qualified specialists"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"1. Select Service"}),a.jsx("div",{className:"space-y-3",children:I.map(q=>a.jsx("button",{onClick:()=>t(q.id),className:`w-full p-4 border-2 rounded-lg text-left transition-all duration-200 ${e===q.id?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:q.name}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:q.description}),a.jsxs("div",{className:"flex items-center mt-2 space-x-4 text-sm text-gray-500",children:[a.jsxs("span",{children:["$",(q.price??0).toFixed(2)]}),a.jsxs("span",{children:[q.duration," min"]})]})]})})},q.id))})]}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"2. Choose Visit Type"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:()=>n("home"),className:`w-full p-4 border-2 rounded-lg text-left transition-all duration-200 ${r==="home"?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(fO,{className:"h-6 w-6 text-primary-500 mr-3"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Home Visit"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Care provided at your location"})]})]})}),a.jsx("button",{onClick:()=>n("clinic"),className:`w-full p-4 border-2 rounded-lg text-left transition-all duration-200 ${r==="clinic"?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(au,{className:"h-6 w-6 text-primary-500 mr-3"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Clinic Visit"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Visit our medical facility"})]})]})}),a.jsx("button",{onClick:()=>n("telemedicine"),className:`w-full p-4 border-2 rounded-lg text-left transition-all duration-200 ${r==="telemedicine"?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(XF,{className:"h-6 w-6 text-primary-500 mr-3"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Telemedicine"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Remote consultation via video call"})]})]})})]})]}),e&&a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"3. Choose Specialist"}),a.jsx("div",{className:"space-y-3",children:z.map(q=>a.jsx("button",{onClick:()=>u(q.id),className:`w-full p-4 border-2 rounded-lg text-left transition-all duration-200 ${c===q.id?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-12 w-12 bg-primary-100 rounded-full flex items-center justify-center mr-4",children:a.jsx("span",{className:"text-primary-600 font-medium",children:q.name.split(" ").map(X=>X[0]).join("")})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:q.name}),a.jsx("p",{className:"text-sm text-gray-600 capitalize",children:q.specialization.replace("-"," ")}),a.jsxs("p",{className:"text-sm text-gray-500",children:[q.experience," years experience"]})]})]})},q.id))})]}),e&&a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"4. Select Date & Time"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),a.jsx("input",{type:"date",value:s,onChange:q=>i(q.target.value),min:new Date().toISOString().split("T")[0],className:"input-field"})]}),s&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:kve.map(q=>a.jsx("button",{onClick:()=>l(q),className:`p-2 text-sm border rounded-lg transition-all duration-200 ${o===q?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 hover:border-gray-300"}`,children:q},q))})]})]}),r==="home"&&e&&a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"5. Address"}),a.jsx("textarea",{value:d,onChange:q=>f(q.target.value),placeholder:"Enter your full address...",className:"input-field h-24 resize-none"})]}),e&&a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"6. Additional Notes"}),a.jsx("textarea",{value:m,onChange:q=>h(q.target.value),placeholder:"Any specific requirements or notes...",className:"input-field h-24 resize-none"})]})]}),e&&s&&o&&a.jsx("div",{className:"mt-8",children:a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Booking Summary"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Service Details"}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Service:"})," ",(de=M())==null?void 0:de.name]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Date:"})," ",s]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Time:"})," ",o]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Duration:"})," ",(B=M())==null?void 0:B.duration," minutes"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Type:"})," ",r]}),c&&a.jsxs("p",{children:[a.jsx("strong",{children:"Specialist:"})," ",(G=z.find(q=>q.id===c))==null?void 0:G.name]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Payment"}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Service Fee:"})," $",(((te=M())==null?void 0:te.price)??0).toFixed(2)]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Total:"})," $",(((ue=M())==null?void 0:ue.price)??0).toFixed(2)]})]})]})]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Di,{className:"h-4 w-4 mr-2"}),a.jsx("span",{children:"Payment will be processed after service completion"})]}),a.jsx("button",{onClick:R,disabled:p,className:"btn-primary flex items-center",children:p?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Booking..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Book Appointment"]})})]})]})})]}):a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"card text-center py-12",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No patient profile found"}),a.jsx("p",{className:"text-gray-600",children:"We couldn't locate a patient record for your account. Please contact support to create one before booking an appointment."})]})})}const Xb=["scheduled","confirmed","in-progress","rescheduled"];function Lve(){var N;const[e,t]=L.useState("all"),{user:r}=dr(),{addNotification:n}=Rr(),{data:s,loading:i}=st(()=>r!=null&&r.email?Mn.getPatients({query:r.email,limit:1}):Promise.resolve({patients:[]}),[r==null?void 0:r.email]),o=((N=s==null?void 0:s.patients)==null?void 0:N[0])??null,{data:l,loading:c,error:u,refetch:d}=st(()=>o?Xn.getPatientAppointments(o.id,{limit:100}):Promise.resolve({appointments:[]}),[o==null?void 0:o.id]),f=ot(w=>Xn.cancelAppointment(w.id,w.reason)),m=(l==null?void 0:l.appointments)??[],h=L.useMemo(()=>{switch(e){case"upcoming":return m.filter(w=>Xb.includes(w.status));case"completed":return m.filter(w=>w.status==="completed");case"cancelled":return m.filter(w=>w.status==="cancelled"||w.status==="no-show");default:return m}},[m,e]),p=w=>{switch(w){case"confirmed":case"in-progress":case"scheduled":return a.jsx(rr,{className:"h-5 w-5 text-yellow-500"});case"completed":return a.jsx($n,{className:"h-5 w-5 text-green-500"});case"cancelled":case"no-show":return a.jsx(Vl,{className:"h-5 w-5 text-red-500"});default:return a.jsx(Bo,{className:"h-5 w-5 text-gray-500"})}},y=w=>{switch(w){case"completed":return"bg-blue-100 text-blue-800";case"cancelled":case"no-show":return"bg-red-100 text-red-800";case"confirmed":case"in-progress":case"scheduled":return"bg-yellow-100 text-yellow-800";case"rescheduled":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},v=w=>new Date(w).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),x=w=>new Date(`2000-01-01T${w}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),b=async w=>{if(window.confirm(`Cancel appointment for ${w.patientName} on ${v(w.date)}?`))try{await f.mutate({id:w.id,reason:"Cancelled by patient"}),n({title:"Appointment Cancelled",message:`${w.serviceName} has been cancelled.`,type:"info",userId:(r==null?void 0:r.id)??"system",priority:"medium",category:"appointment"}),await d()}catch(S){n({title:"Unable to cancel appointment",message:(S==null?void 0:S.message)??"Please try again later.",type:"error",userId:(r==null?void 0:r.id)??"system",priority:"high",category:"system"})}};return i||c?a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsx("div",{className:"card text-center py-12 text-sm text-gray-500",children:"Loading appointments"})}):o?u?a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsx("div",{className:"card text-center py-12 text-sm text-red-500",children:"Unable to load your appointments. Please try again later."})}):a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Appointments"}),a.jsx("p",{className:"text-gray-600",children:"Manage your scheduled healthcare appointments"})]}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:[{key:"all",label:"All Appointments",count:m.length},{key:"upcoming",label:"Upcoming",count:m.filter(w=>Xb.includes(w.status)).length},{key:"completed",label:"Completed",count:m.filter(w=>w.status==="completed").length},{key:"cancelled",label:"Cancelled",count:m.filter(w=>["cancelled","no-show"].includes(w.status)).length}].map(w=>a.jsxs("button",{onClick:()=>t(w.key),className:`py-2 px-1 border-b-2 font-medium text-sm ${e===w.key?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[w.label,a.jsx("span",{className:`ml-2 py-0.5 px-2 rounded-full text-xs ${e===w.key?"bg-primary-100 text-primary-600":"bg-gray-100 text-gray-600"}`,children:w.count})]},w.key))})})}),a.jsx("div",{className:"space-y-4",children:h.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Mt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No appointments found"}),a.jsx("p",{className:"text-gray-600",children:"You don't have any appointments matching your current filter."})]}):h.map(w=>a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[p(w.status),a.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${y(w.status)}`,children:w.status.replace("-"," ").replace(/ \w/g,S=>S.toUpperCase())})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:w.serviceName}),a.jsx("p",{className:"text-sm text-gray-600",children:w.specialistName&&`Specialist: ${w.specialistName}`}),a.jsx("p",{className:"text-sm text-gray-600",children:w.nurseName&&`Nurse: ${w.nurseName}`})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[a.jsx(Mt,{className:"h-4 w-4 mr-2"}),v(w.date)]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(rr,{className:"h-4 w-4 mr-2"}),x(w.time)]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-1",children:[a.jsx("strong",{children:"Duration:"})," ",w.duration," minutes"]}),w.notes&&a.jsxs("div",{className:"text-sm text-gray-600 truncate",children:[a.jsx("strong",{children:"Notes:"})," ",w.notes]})]})]})]}),a.jsx("div",{className:"ml-4 flex flex-col space-y-2",children:Xb.includes(w.status)&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{className:"btn-outline text-sm py-1 px-3",disabled:!0,children:[a.jsx(HF,{className:"h-3 w-3 mr-1"}),"Reschedule"]}),a.jsx("button",{className:"text-red-600 hover:text-red-700 text-sm py-1 px-3 border border-red-300 rounded hover:bg-red-50",onClick:()=>b(w),children:"Cancel"})]})})]})},w.id))}),a.jsx("div",{className:"mt-8 flex justify-center",children:a.jsxs("button",{className:"btn-primary",children:[a.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Book New Appointment"]})})]}):a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsxs("div",{className:"card text-center py-12",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No patient profile found"}),a.jsx("p",{className:"text-gray-600",children:"We couldn't locate a patient record associated with your account. Please contact support to continue."})]})})}function Rve(){var v;const[e,t]=L.useState("vitals"),{user:r}=dr(),n=r==null?void 0:r.id,{data:s,loading:i,error:o,refetch:l}=st(async()=>{if(!n)return null;const[x,b]=await Promise.all([ds.getPatientHealthRecords(n),ds.getMedications(n)]);return{records:x,medicationRecords:b}},[n]),c=(s==null?void 0:s.records)??[],u=(s==null?void 0:s.medicationRecords)??[],d=L.useMemo(()=>c.filter(x=>x.recordType==="vital").sort((x,b)=>new Date(b.timestamp).getTime()-new Date(x.timestamp).getTime()),[c]),f=L.useMemo(()=>c.filter(x=>x.recordType==="symptom").sort((x,b)=>new Date(b.timestamp).getTime()-new Date(x.timestamp).getTime()),[c]),m=((v=d[0])==null?void 0:v.data)??null,h=x=>new Date(x).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),p=x=>new Date(x).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),y=(x,b)=>{switch(x){case"bloodPressure":{const[N,w]=String(b).split("/").map(Number);return N<120&&w<80?{status:"normal",color:"text-green-600"}:N<140&&w<90?{status:"elevated",color:"text-yellow-600"}:{status:"high",color:"text-red-600"}}case"heartRate":return b>=60&&b<=100?{status:"normal",color:"text-green-600"}:{status:"abnormal",color:"text-red-600"};case"temperature":return b>=97.8&&b<=99.1?{status:"normal",color:"text-green-600"}:{status:"fever",color:"text-red-600"};default:return{status:"normal",color:"text-gray-600"}}};return n?i?a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsxs("div",{className:"card text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading health data"}),a.jsx("p",{className:"text-gray-600",children:"Please wait while we fetch your latest health updates."})]})}):o?a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsxs("div",{className:"card text-center py-12",children:[a.jsx(ha,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Unable to load health data"}),a.jsx("p",{className:"text-gray-600",children:o.message??"Please try again later."}),a.jsx("button",{className:"btn-primary mt-4",onClick:l,children:"Retry"})]})}):a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Health Monitoring"}),a.jsx("p",{className:"text-gray-600",children:"Track your vital signs, medications, and health symptoms"})]}),m&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:a.jsx(Wc,{className:"h-6 w-6 text-red-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Blood Pressure"}),a.jsx("p",{className:`text-lg font-semibold ${y("bloodPressure",m.bloodPressure).color}`,children:m.bloodPressure??""})]})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(Ls,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Heart Rate"}),a.jsx("p",{className:`text-lg font-semibold ${y("heartRate",m.heartRate).color}`,children:m.heartRate?`${m.heartRate} bpm`:""})]})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:a.jsx(iw,{className:"h-6 w-6 text-orange-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Temperature"}),a.jsx("p",{className:`text-lg font-semibold ${y("temperature",m.temperature).color}`,children:m.temperature?`${m.temperature}F`:""})]})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(w4,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Weight"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:m.weight?`${m.weight} lbs`:""})]})]})})]}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:[{key:"vitals",label:"Vital Signs",icon:Ls},{key:"medications",label:"Medications",icon:b4},{key:"symptoms",label:"Symptoms",icon:Wc}].map(x=>a.jsxs("button",{onClick:()=>t(x.key),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${e===x.key?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(x.icon,{className:"h-4 w-4 mr-2"}),x.label]},x.key))})})}),e==="vitals"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Vital Signs History"}),a.jsxs("button",{className:"btn-primary flex items-center",disabled:!0,children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Add Reading"]})]}),a.jsx("div",{className:"space-y-4",children:d.length?d.map(x=>a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Mt,{className:"h-4 w-4 text-gray-400 mr-2"}),a.jsxs("span",{className:"text-sm text-gray-600",children:[p(x.timestamp)," at ",h(x.timestamp)]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[x.data.bloodPressure&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Wc,{className:"h-4 w-4 text-red-500 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Blood Pressure"}),a.jsx("p",{className:"font-medium",children:x.data.bloodPressure})]})]}),x.data.heartRate&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ls,{className:"h-4 w-4 text-blue-500 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Heart Rate"}),a.jsxs("p",{className:"font-medium",children:[x.data.heartRate," bpm"]})]})]}),x.data.temperature&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(iw,{className:"h-4 w-4 text-orange-500 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Temperature"}),a.jsxs("p",{className:"font-medium",children:[x.data.temperature,"F"]})]})]}),x.data.weight&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(w4,{className:"h-4 w-4 text-green-500 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Weight"}),a.jsxs("p",{className:"font-medium",children:[x.data.weight," lbs"]})]})]})]}),x.notes&&a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:x.notes})]}),a.jsxs("span",{className:"text-xs text-gray-500",children:["Recorded by ",x.updatedByName]})]})},x.id)):a.jsx("p",{className:"text-sm text-gray-500",children:"No vital sign records available."})})]}),e==="medications"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Medication Schedule"}),a.jsxs("button",{className:"btn-primary flex items-center",disabled:!0,children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Add Medication"]})]}),a.jsx("div",{className:"space-y-4",children:u.length?u.map(x=>a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 rounded-lg bg-green-100",children:a.jsx(b4,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:x.data.medication??"Medication entry"}),a.jsx("p",{className:"text-sm text-gray-600",children:x.data.dosage?`${x.data.dosage}`:"Dosage not specified"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Logged ",p(x.timestamp)," at ",h(x.timestamp)]})]})]}),x.data.taken!==void 0&&a.jsx("span",{className:`text-sm font-medium ${x.data.taken?"text-green-600":"text-yellow-600"}`,children:x.data.taken?"Taken":"Pending"})]})},x.id)):a.jsx("p",{className:"text-sm text-gray-500",children:"No medication records available."})})]}),e==="symptoms"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Symptom Tracking"}),a.jsxs("button",{className:"btn-primary flex items-center",disabled:!0,children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Log Symptoms"]})]}),a.jsx("div",{className:"space-y-4",children:f.length?f.map(x=>{var b;return a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Mt,{className:"h-4 w-4 text-gray-400 mr-2"}),a.jsxs("span",{className:"text-sm text-gray-600",children:[p(x.timestamp)," at ",h(x.timestamp)]})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:(b=x.data.symptoms)==null?void 0:b.map((N,w)=>a.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-sm rounded-full",children:N},w))}),x.data.notes&&a.jsx("p",{className:"text-sm text-gray-600",children:x.data.notes}),x.notes&&a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[a.jsx("strong",{children:"Notes:"})," ",x.notes]})]}),a.jsxs("span",{className:"text-xs text-gray-500",children:["Recorded by ",x.updatedByName]})]})},x.id)}):a.jsx("p",{className:"text-sm text-gray-500",children:"No symptom records available."})})]})]}):a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsxs("div",{className:"card text-center py-12",children:[a.jsx(ha,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No patient selected"}),a.jsx("p",{className:"text-gray-600",children:"Log in as a patient to view health monitoring details."})]})})}class Mve{async getFeedbacks(t){return(await me.get(xe.FEEDBACK.BASE,{params:t})).data}async getFeedback(t){var n;const r=await me.get(xe.FEEDBACK.BY_ID(t));return(n=r.data)!=null&&n.data?r.data.data:r.data}async getPatientFeedbacks(t,r){var s;const n=await me.get(xe.FEEDBACK.BY_PATIENT(t),{params:r});return"data"in n&&Array.isArray(n.data)?n.data:((s=n.data)==null?void 0:s.data)??[]}async getServiceFeedbacks(t,r){var s;const n=await me.get(xe.FEEDBACK.BY_SERVICE(t),{params:r});return"data"in n&&Array.isArray(n.data)?n.data:((s=n.data)==null?void 0:s.data)??[]}async submitFeedback(t){var n;const r=await me.post(xe.FEEDBACK.SUBMIT,t);return(n=r.data)!=null&&n.data?{success:r.data.success??!0,message:r.data.message,feedback:r.data.data}:r.data??{success:!0}}}const Jb=new Mve;function Dve(){var M,z,Z;const[e,t]=L.useState("give"),[r,n]=L.useState(""),[s,i]=L.useState(0),[o,l]=L.useState(""),[c,u]=L.useState({professionalism:0,punctuality:0,communication:0,careQuality:0}),[d,f]=L.useState(!1),{user:m}=dr(),{addNotification:h}=Rr(),{data:p,loading:y,error:v}=st(()=>m!=null&&m.id?Xn.getPatientAppointments(m.id,{limit:100}):Promise.resolve({appointments:[]}),[m==null?void 0:m.id]),{data:x,loading:b,error:N,refetch:w}=st(()=>m!=null&&m.id?Jb.getPatientFeedbacks(m.id):Promise.resolve([]),[m==null?void 0:m.id]),S=ot(Jb.submitFeedback.bind(Jb)),_=(p==null?void 0:p.appointments)??[],T=L.useMemo(()=>_.filter(R=>R.status==="completed"),[_]),k=(x??[]).slice().sort((R,U)=>new Date(U.date).getTime()-new Date(R.date).getTime()),P=R=>{i(R)},D=(R,U)=>{u(re=>({...re,[R]:U}))},A=()=>T.find(R=>R.id===r),I=R=>new Date(R).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),$=(R,U)=>a.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(re=>a.jsx("button",{type:"button",onClick:()=>U==null?void 0:U(re),className:`transition-colors duration-200 ${re<=R?"text-yellow-400":"text-gray-300"} ${U?"hover:text-yellow-400":""}`,disabled:!U,children:a.jsx(Qh,{className:"h-6 w-6 fill-current"})},re))}),E=async()=>{if(!m||!r)return;const R=A();if(!R)return;const U={appointmentId:R.id,patientId:m.id,patientName:m.name,serviceId:R.serviceId,serviceName:R.serviceName,specialistId:R.specialistId,specialistName:R.specialistName,rating:s,comment:o,categories:c};try{await S.mutate(U),h({title:"Feedback submitted",message:"Thank you for sharing your experience.",type:"success",userId:m.id,priority:"medium",category:"feedback"}),f(!0),setTimeout(()=>{f(!1),n(""),i(0),l(""),u({professionalism:0,punctuality:0,communication:0,careQuality:0})},3e3),await w()}catch(re){h({title:"Feedback not submitted",message:(re==null?void 0:re.message)??"Please try again later.",type:"error",userId:m.id,priority:"high",category:"system"})}};return m?d?a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx($n,{className:"h-16 w-16 text-green-500"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Thank You!"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Your feedback has been submitted successfully. We appreciate your input and will use it to improve our services."}),a.jsx("button",{onClick:()=>f(!1),className:"btn-primary",children:"Submit Another Review"})]})}):a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Feedback & Ratings"}),a.jsx("p",{className:"text-gray-600",children:"Share your experience and help us improve our services"})]}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsxs("button",{onClick:()=>t("give"),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${e==="give"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(aw,{className:"h-4 w-4 mr-2"}),"Give Feedback"]}),a.jsxs("button",{onClick:()=>t("history"),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${e==="history"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(Qh,{className:"h-4 w-4 mr-2"}),"My Reviews (",k.length,")"]})]})})}),e==="give"&&a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Rate Your Experience"}),v&&a.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded text-sm text-red-700 mb-4",children:"Unable to load appointments. Please try again later."}),y?a.jsx("div",{className:"text-sm text-gray-500",children:"Loading completed appointments..."}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Appointment to Review"}),a.jsxs("select",{value:r,onChange:R=>n(R.target.value),className:"input-field",children:[a.jsx("option",{value:"",children:"Choose an appointment..."}),T.map(R=>a.jsxs("option",{value:R.id,children:[R.serviceName," - ",I(R.date)]},R.id))]})]}),r&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Appointment Details"}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Service:"})," ",(M=A())==null?void 0:M.serviceName]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Date:"})," ",I(((z=A())==null?void 0:z.date)||"")]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Specialist:"})," ",((Z=A())==null?void 0:Z.specialistName)??""]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Overall Rating"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[$(s,P),a.jsx("span",{className:"text-sm text-gray-600",children:s>0&&(s===1?"Poor":s===2?"Fair":s===3?"Good":s===4?"Very Good":"Excellent")})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Rate Specific Aspects"}),a.jsx("div",{className:"space-y-4",children:[{key:"professionalism",label:"Professionalism"},{key:"punctuality",label:"Punctuality"},{key:"communication",label:"Communication"},{key:"careQuality",label:"Quality of Care"}].map(R=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:R.label}),$(c[R.key],U=>D(R.key,U))]},R.key))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Comments (Optional)"}),a.jsx("textarea",{value:o,onChange:R=>l(R.target.value),placeholder:"Tell us about your experience...",className:"input-field h-32 resize-none"})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:E,disabled:S.loading||s===0,className:"btn-primary flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:S.loading?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(WF,{className:"h-4 w-4 mr-2"}),"Submit Feedback"]})})})]}),!r&&a.jsx("p",{className:"text-sm text-gray-500",children:"Select a completed appointment to begin your review."})]})]}),e==="history"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"My Reviews"}),N&&a.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded text-sm text-red-700 mb-4",children:"Unable to load feedback history."}),b?a.jsx("div",{className:"text-sm text-gray-500",children:"Loading your reviews..."}):k.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Qh,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No reviews yet"}),a.jsx("p",{className:"text-gray-600",children:"You haven't submitted any feedback yet."})]}):a.jsx("div",{className:"space-y-4",children:k.map(R=>a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:R.serviceName}),a.jsxs("p",{className:"text-sm text-gray-600",children:["with ",R.specialistName??"","  ",I(R.date)]})]}),a.jsx("div",{className:"flex items-center",children:$(R.rating)})]}),R.comment&&a.jsx("p",{className:"text-gray-700 mb-4",children:R.comment}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Professionalism"}),a.jsx("div",{className:"flex justify-center",children:$(R.categories.professionalism)})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Punctuality"}),a.jsx("div",{className:"flex justify-center",children:$(R.categories.punctuality)})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Communication"}),a.jsx("div",{className:"flex justify-center",children:$(R.categories.communication)})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Quality of Care"}),a.jsx("div",{className:"flex justify-center",children:$(R.categories.careQuality)})]})]})]},R.id))})]})]}):a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsxs("div",{className:"card text-center py-12",children:[a.jsx(ha,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Please sign in"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"You need to be signed in as a patient to submit feedback."})]})})}function $ve(){const[e,t]=L.useState(new Date().toISOString().split("T")[0]),[r,n]=L.useState("day"),{user:s}=dr(),i=(s==null?void 0:s.role)??"nurse",o=L.useMemo(()=>async()=>{if(!s)return{appointments:[]};switch(i){case"nurse":return Xn.getNurseAppointments(s.id,{limit:200});case"specialist":return Xn.getSpecialistAppointments(s.id,{limit:200});default:return Xn.getAppointments({limit:200})}},[i,s]),{data:l,loading:c,error:u}=st(o,[o]),d=(l==null?void 0:l.appointments)??[],f=b=>d.filter(N=>N.date===b),m=b=>{switch(b){case"confirmed":case"in-progress":return"bg-green-100 text-green-800 border-green-200";case"scheduled":case"rescheduled":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"completed":return"bg-blue-100 text-blue-800 border-blue-200";case"cancelled":case"no-show":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},h=b=>{switch(b){case"confirmed":case"in-progress":case"completed":return a.jsx($n,{className:"h-4 w-4"});case"cancelled":case"no-show":return a.jsx(Bo,{className:"h-4 w-4"});default:return a.jsx(rr,{className:"h-4 w-4"})}},p=b=>new Date(`2000-01-01T${b}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),y=b=>new Date(b).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),v=b=>{const N=new Date(b),w=[];for(let S=0;S<7;S++){const _=new Date(N);_.setDate(N.getDate()+S),w.push(_.toISOString().split("T")[0])}return w},x=f(e);return a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Schedule"}),a.jsx("p",{className:"text-gray-600",children:"Manage your appointments and patient visits"})]}),a.jsx("div",{className:"card mb-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),a.jsx("input",{type:"date",value:e,onChange:b=>t(b.target.value),className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"View"}),a.jsxs("select",{value:r,onChange:b=>n(b.target.value),className:"input-field",children:[a.jsx("option",{value:"day",children:"Day View"}),a.jsx("option",{value:"week",children:"Week View"})]})]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:x.length})," appointments on this date"]})})]})}),c&&a.jsxs("div",{className:"card text-center py-12",children:[a.jsx(Mt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4 animate-spin"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading schedule"}),a.jsx("p",{className:"text-gray-600",children:"Fetching your latest appointments..."})]}),u&&!c&&a.jsxs("div",{className:"card text-center py-12",children:[a.jsx(Bo,{className:"h-12 w-12 text-red-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Unable to load schedule"}),a.jsx("p",{className:"text-gray-600",children:u.message??"Please try again later."})]}),!c&&!u&&a.jsx(a.Fragment,{children:r==="day"?a.jsxs("div",{children:[a.jsx("div",{className:"mb-4",children:a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:y(e)})}),x.length===0?a.jsxs("div",{className:"card text-center py-12",children:[a.jsx(Mt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No appointments scheduled"}),a.jsx("p",{className:"text-gray-600",children:"You have no appointments scheduled for this date."})]}):a.jsx("div",{className:"space-y-4",children:x.sort((b,N)=>b.time.localeCompare(N.time)).map(b=>a.jsx("div",{className:"card",children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsxs("div",{className:`flex items-center px-2 py-1 rounded-full text-xs font-medium border ${m(b.status)}`,children:[h(b.status),a.jsx("span",{className:"ml-1 capitalize",children:b.status})]}),a.jsxs("div",{className:"ml-4 flex items-center text-gray-500",children:[a.jsx(rr,{className:"h-4 w-4 mr-1"}),a.jsx("span",{className:"text-sm",children:p(b.time)})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:b.serviceName}),a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Patient: ",b.patientName||"Unassigned"]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(Yr,{className:"h-4 w-4 mr-1"}),a.jsxs("span",{children:["ID: ",b.patientId]})]}),b.nurseName&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Nurse: ",b.nurseName]}),b.specialistName&&a.jsxs("p",{className:"text-xs text-gray-500",children:["Specialist: ",b.specialistName]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"Duration:"})," ",b.duration," minutes"]}),b.notes&&a.jsx("div",{className:"text-xs text-gray-500",children:b.notes})]})]})]})})},b.id))})]}):a.jsxs("div",{children:[a.jsx("div",{className:"mb-4",children:a.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Week of ",y(e)]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v(e).map(b=>{const N=f(b);return a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:y(b)}),a.jsxs("p",{className:"text-xs text-gray-500",children:[N.length," appointments"]})]}),a.jsx(Mt,{className:"h-5 w-5 text-gray-400"})]}),N.length===0?a.jsx("p",{className:"text-sm text-gray-500",children:"No appointments scheduled."}):a.jsx("div",{className:"space-y-3",children:N.map(w=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.serviceName}),a.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${m(w.status)}`,children:w.status})]}),a.jsxs("div",{className:"text-xs text-gray-600",children:[p(w.time),"  ",w.patientName||"Unassigned"]})]},w.id))})]},b)})})]})})]})}const jc={vital:"Vital Signs",medication:"Medication",symptom:"Symptoms",note:"Clinical Note",assessment:"Assessment",treatment:"Treatment"},Fve={vital:"bg-blue-100 text-blue-800",medication:"bg-green-100 text-green-800",symptom:"bg-red-100 text-red-800",note:"bg-gray-100 text-gray-800",assessment:"bg-purple-100 text-purple-800",treatment:"bg-yellow-100 text-yellow-800"};function Bve(){const[e,t]=L.useState("records"),[r,n]=L.useState(""),[s,i]=L.useState("all"),[o,l]=L.useState({patientId:"",recordType:"note",data:{},notes:""}),{user:c}=dr(),{addNotification:u}=Rr(),d=(c==null?void 0:c.role)==="admin",[f,m]=L.useState(null),[h,p]=L.useState(!1),{data:y,loading:v,error:x,refetch:b}=st(async()=>({records:(await ds.getHealthRecords({limit:200})).records}),[]),N=(y==null?void 0:y.records)??[],w=L.useMemo(()=>{const E=r.toLowerCase();return N.filter(M=>{var U,re,de,B;const z=M.patientId.toLowerCase().includes(E)||M.patientName.toLowerCase().includes(E)||M.updatedByName.toLowerCase().includes(E)||((U=M.notes)==null?void 0:U.toLowerCase().includes(E))||((B=(de=(re=M.data)==null?void 0:re.notes)==null?void 0:de.toLowerCase)==null?void 0:B.call(de).includes(E??"")),Z=s==="all"||M.recordType===s,R=c?M.updatedBy===c.id||M.updatedByRole===c.role:!0;return z&&Z&&R})},[N,r,s,c]),S=ot(ds.createHealthRecord.bind(ds)),_=E=>new Date(E).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}),T=async E=>{E.preventDefault();try{await S.mutate({...o,data:{...o.data}}),u({title:"Record Added",message:"The clinical entry was saved successfully.",type:"success",userId:(c==null?void 0:c.id)??"system",priority:"medium",category:"health"}),l({patientId:"",recordType:"note",data:{},notes:""}),t("records"),await b()}catch(M){u({title:"Unable to save record",message:(M==null?void 0:M.message)??"Please verify the information and try again.",type:"error",userId:(c==null?void 0:c.id)??"system",priority:"high",category:"system"})}},k=E=>{switch(E.recordType){case"vital":return a.jsxs("div",{className:"space-y-1 text-sm",children:[E.data.bloodPressure&&a.jsxs("p",{children:[a.jsx("strong",{children:"Blood Pressure:"})," ",typeof E.data.bloodPressure=="object"&&E.data.bloodPressure!==null?`${E.data.bloodPressure.systolic??""}${E.data.bloodPressure.diastolic!=null?`/${E.data.bloodPressure.diastolic}`:""}`.trim():String(E.data.bloodPressure)]}),E.data.heartRate&&a.jsxs("p",{children:[a.jsx("strong",{children:"Heart Rate:"})," ",E.data.heartRate," bpm"]}),E.data.temperature&&a.jsxs("p",{children:[a.jsx("strong",{children:"Temperature:"})," ",E.data.temperature,"F"]}),E.data.weight&&a.jsxs("p",{children:[a.jsx("strong",{children:"Weight:"})," ",E.data.weight," lbs"]}),E.data.oxygenSaturation&&a.jsxs("p",{children:[a.jsx("strong",{children:"Oxygen Saturation:"})," ",E.data.oxygenSaturation,"%"]})]});case"medication":return a.jsxs("div",{className:"space-y-1 text-sm",children:[E.data.medication&&a.jsxs("p",{children:[a.jsx("strong",{children:"Medication:"})," ",E.data.medication]}),E.data.dosage&&a.jsxs("p",{children:[a.jsx("strong",{children:"Dosage:"})," ",E.data.dosage]}),E.data.taken!==void 0&&a.jsxs("p",{children:[a.jsx("strong",{children:"Taken:"})," ",E.data.taken?"Yes":"No"]})]});case"symptom":return a.jsx("div",{className:"space-y-1 text-sm",children:Array.isArray(E.data.symptoms)&&E.data.symptoms.length>0&&a.jsxs("div",{children:[a.jsx("strong",{children:"Symptoms:"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:E.data.symptoms.map((M,z)=>a.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full",children:M},z))})]})});default:return E.notes?a.jsx("p",{className:"text-sm text-gray-600",children:E.notes}):a.jsx("p",{className:"text-sm text-gray-500",children:"No additional details provided."})}},P=E=>{const M=[];switch(E.recordType){case"vital":{if(E.data.bloodPressure){const z=typeof E.data.bloodPressure=="object"&&E.data.bloodPressure!==null?`${E.data.bloodPressure.systolic??""}${E.data.bloodPressure.diastolic!=null?`/${E.data.bloodPressure.diastolic}`:""}`.trim():String(E.data.bloodPressure);M.push(`Blood Pressure: ${z}`)}E.data.heartRate&&M.push(`Heart Rate: ${E.data.heartRate} bpm`),E.data.temperature&&M.push(`Temperature: ${E.data.temperature}F`),E.data.weight&&M.push(`Weight: ${E.data.weight} lbs`),E.data.oxygenSaturation&&M.push(`Oxygen Saturation: ${E.data.oxygenSaturation}%`);break}case"medication":{E.data.medication&&M.push(`Medication: ${E.data.medication}`),E.data.dosage&&M.push(`Dosage: ${E.data.dosage}`),E.data.taken!==void 0&&M.push(`Taken: ${E.data.taken?"Yes":"No"}`);break}case"symptom":{Array.isArray(E.data.symptoms)&&E.data.symptoms.length>0&&M.push(`Symptoms: ${E.data.symptoms.join(", ")}`);break}}return M.length===0?"No additional structured data recorded.":M.join("<br />")},D=E=>{m(E),p(!0)},A=()=>{p(!1),m(null)},I=E=>{l({patientId:E.patientId,recordType:E.recordType,data:E.data??{},notes:E.notes??"",location:E.location}),t("new-entry")},$=E=>{const M=window.open("","_blank");if(!M)return;const z=`
      <h1>Clinical Record</h1>
      <p><strong>Patient:</strong> ${E.patientName}</p>
      <p><strong>Type:</strong> ${jc[E.recordType]}</p>
      <p><strong>Recorded At:</strong> ${_(E.timestamp)}</p>
      <p><strong>Updated By:</strong> ${E.updatedByName??""} (${E.updatedByRole})</p>
      ${E.location?`<p><strong>Location:</strong> ${E.location}</p>`:""}
      <h2>Clinical Notes</h2>
      <p>${E.notes||"No additional notes"}</p>
      <h2>Clinical Data</h2>
      <p>${P(E)}</p>
    `;M.document.open(),M.document.write(`
      <html>
        <head>
          <title>Clinical Record - ${E.patientName}</title>
          <style>
            body { font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; padding: 24px; }
            h1 { font-size: 24px; margin-bottom: 8px; }
            h2 { font-size: 18px; margin-top: 16px; margin-bottom: 4px; }
            p { margin: 4px 0; }
            pre { background: #f3f4f6; padding: 12px; border-radius: 4px; font-size: 12px; overflow-x: auto; }
          </style>
        </head>
        <body>
          ${z}
        </body>
      </html>
    `),M.document.close(),M.focus(),M.print()};return a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Clinical Documentation"}),a.jsx("p",{className:"text-gray-600",children:"Manage patient records and clinical notes"})]}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsxs("button",{onClick:()=>t("records"),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${e==="records"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(Aa,{className:"h-4 w-4 mr-2"}),"Patient Records (",w.length,")"]}),a.jsxs("button",{onClick:()=>t("new-entry"),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${e==="new-entry"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"New Entry"]})]})})}),e==="records"&&a.jsxs("div",{children:[a.jsx("div",{className:"card mb-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(Fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search records...",value:r,onChange:E=>n(E.target.value),className:"pl-10 input-field"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(My,{className:"h-4 w-4 text-gray-400"}),a.jsxs("select",{value:s,onChange:E=>i(E.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Types"}),Object.keys(jc).map(E=>a.jsx("option",{value:E,children:jc[E]},E))]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{className:"btn-outline flex items-center",disabled:!0,children:[a.jsx(Ud,{className:"h-4 w-4 mr-2"}),"Export"]}),a.jsxs("button",{className:"btn-outline flex items-center",disabled:!0,children:[a.jsx(jf,{className:"h-4 w-4 mr-2"}),"Import"]})]})]})}),v&&a.jsxs("div",{className:"card text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading clinical records"}),a.jsx("p",{className:"text-gray-600",children:"Please wait while we fetch the latest records."})]}),x&&!v&&a.jsxs("div",{className:"card text-center py-12",children:[a.jsx(ha,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Unable to load records"}),a.jsx("p",{className:"text-gray-600",children:x.message??"Please try again later."}),a.jsx("button",{className:"btn-primary mt-4",onClick:b,children:"Retry"})]}),!v&&!x&&a.jsx("div",{className:"space-y-4",children:w.length===0?a.jsxs("div",{className:"card text-center py-12",children:[a.jsx(Aa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No records found"}),a.jsx("p",{className:"text-gray-600",children:"No clinical records match your current search criteria."})]}):a.jsx("div",{className:"card overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Patient"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date/Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Updated By"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map(E=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.patientName})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Fve[E.recordType]}`,children:jc[E.recordType]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:_(E.timestamp)}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[E.updatedByName||E.updatedBy||"Unknown",a.jsx("div",{className:"text-xs text-gray-500 capitalize",children:E.updatedByRole})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 max-w-xs truncate",children:E.notes||""}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsxs("button",{onClick:()=>D(E),className:"btn-outline text-xs px-2 py-1",children:[a.jsx(Ln,{className:"h-3 w-3 mr-1 inline"}),"View"]}),d&&a.jsxs("button",{onClick:()=>I(E),className:"btn-outline text-xs px-2 py-1",children:[a.jsx(Aa,{className:"h-3 w-3 mr-1 inline"}),"Edit"]}),a.jsx("button",{onClick:()=>$(E),className:"btn-outline text-xs px-2 py-1",children:"Print / PDF"})]})})]},E.id))})]})})})]}),e==="new-entry"&&a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"New Clinical Entry"}),a.jsxs("form",{className:"space-y-6",onSubmit:T,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient ID"}),a.jsx("input",{type:"text",placeholder:"Enter patient ID...",value:o.patientId,onChange:E=>l(M=>({...M,patientId:E.target.value})),className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Entry Type"}),a.jsx("select",{className:"input-field",value:o.recordType,onChange:E=>l(M=>({...M,recordType:E.target.value})),children:Object.keys(jc).map(E=>a.jsx("option",{value:E,children:jc[E]},E))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Clinical Notes"}),a.jsx("textarea",{placeholder:"Enter clinical observations, assessments, and notes...",className:"input-field h-32 resize-none",value:o.notes??"",onChange:E=>l(M=>({...M,notes:E.target.value}))})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location (optional)"}),a.jsx("input",{type:"text",placeholder:"e.g. Home visit, Clinic",className:"input-field",value:o.location??"",onChange:E=>l(M=>({...M,location:E.target.value||void 0}))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Data (JSON)"}),a.jsx("textarea",{placeholder:'{ "bloodPressure": "120/80" }',className:"input-field h-24",value:JSON.stringify(o.data??{},null,2),onChange:E=>{try{const M=JSON.parse(E.target.value||"{}");l(z=>({...z,data:M}))}catch{}}})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",className:"btn-outline",onClick:()=>l({patientId:"",recordType:"note",data:{},notes:""}),children:"Cancel"}),a.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:S.loading,children:[a.jsx($y,{className:"h-4 w-4 mr-2"}),S.loading?"Saving...":"Save Entry"]})]})]})]}),h&&f&&a.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30",onClick:A}),a.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-3xl w-full mx-4 p-6 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Record Details"}),a.jsx("button",{className:"text-gray-400 hover:text-gray-600",onClick:A,children:""})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-700",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Patient:"})," ",f.patientName," (",f.patientId,")"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Type:"})," ",jc[f.recordType]]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Recorded At:"})," ",_(f.timestamp)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Updated By:"})," ",f.updatedByName??f.updatedBy," ","(",f.updatedByRole,")"]}),f.location&&a.jsxs("div",{children:[a.jsx("strong",{children:"Location:"})," ",f.location]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Clinical Details"}),k(f)]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Notes"}),a.jsx("p",{className:"text-sm text-gray-700",children:f.notes||"No additional notes"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Raw Data"}),a.jsx("pre",{className:"text-xs bg-gray-50 p-3 rounded border border-gray-100 overflow-x-auto",children:JSON.stringify(f.data??{},null,2)})]})]}),a.jsxs("div",{className:"mt-4 flex justify-end space-x-3",children:[a.jsx("button",{className:"btn-outline",onClick:()=>$(f),children:"Print / PDF"}),a.jsx("button",{className:"btn-primary",onClick:A,children:"Close"})]})]})]})]})}function Uve(e){if(!e)return{};if(typeof e=="string")try{return JSON.parse(e)}catch{return{message:e}}return typeof e=="object"?e:{}}function AC(e){if(!e)throw new Error("Invalid incident payload received from API");const t=Uve(e.details),r=e.user??{},n=(t.severity||t.level||e.severity||"medium").toString().toLowerCase(),i=["low","medium","high","critical"].includes(n)?n:"medium",o=(t.status||e.status||"open").toString().toLowerCase(),l=t.description||e.description||t.message||e.action||"Security incident reported",c=e.timestamp??e.createdAt??e.updatedAt??new Date().toISOString();return{id:e.id,type:(t.type||e.type||e.action||"security-incident").toString(),severity:i,status:["open","investigating","resolved","closed"].includes(o||"")?o:"open",description:l,action:e.action||"SECURITY_INCIDENT",userId:e.userId??t.userId,userName:r.name??t.userName??t.reportedBy,userEmail:r.email??t.userEmail,ipAddress:e.ipAddress??t.ipAddress,userAgent:e.userAgent??t.userAgent,timestamp:new Date(c).toISOString(),createdAt:e.createdAt?new Date(e.createdAt).toISOString():void 0,updatedAt:e.updatedAt?new Date(e.updatedAt).toISOString():void 0,metadata:t}}class zve{async getIncidents(t){const r=await me.get(xe.SECURITY.INCIDENTS,{params:{page:t==null?void 0:t.page,limit:t==null?void 0:t.limit}});return{incidents:(Array.isArray(r.data)?r.data:Array.isArray(r.incidents)?r.incidents:[]).map(AC),pagination:r.pagination}}async reportIncident(t){const r=await me.post(xe.SECURITY.REPORT_INCIDENT,t),n=r.data??r;return AC(n)}}const _C=new zve,qve={searchTerm:"",severity:"all",status:"all"},EC={show:!1,type:"",severity:"medium",description:"",status:"open",metadata:{}};function Hve(e){if(!e)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return e}}function Vve(e){switch(e){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-orange-100 text-orange-800";case"critical":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}function Wve(e){switch(e){case"open":return"bg-red-100 text-red-800";case"investigating":return"bg-yellow-100 text-yellow-800";case"resolved":return"bg-green-100 text-green-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}}function Gve(){var S;const[e,t]=L.useState(qve),[r,n]=L.useState(EC),{addNotification:s}=Rr(),{user:i}=dr(),o=(i==null?void 0:i.role)==="admin",{data:l,loading:c,error:u,refetch:d}=st(()=>o?_C.getIncidents({page:1,limit:50}):Promise.resolve({incidents:[],pagination:void 0}),[o]),f=ot(_C.reportIncident),m=(l==null?void 0:l.incidents)??[],h=L.useMemo(()=>{const _=e.searchTerm.trim().toLowerCase();return m.filter(T=>{var A;const k=e.severity==="all"||T.severity===e.severity,P=e.status==="all"||T.status===e.status,D=!_||[T.type,T.description,T.action,T.userName,T.userEmail,(A=T.metadata)==null?void 0:A.message].filter(Boolean).some(I=>I.toString().toLowerCase().includes(_));return k&&P&&D})},[e,m]),p=h.filter(_=>_.severity==="high"||_.severity==="critical").length,y=h.filter(_=>_.status==="investigating").length,v=h.filter(_=>_.status==="resolved").length,x=(_,T)=>{t(k=>({...k,[_]:T}))},b=_=>{n(T=>({...EC,show:_}))},N=(_,T)=>{n(k=>({...k,[_]:T,show:!0}))},w=async _=>{_.preventDefault();try{await f.mutate({type:r.type,severity:r.severity,description:r.description,status:r.status,metadata:r.metadata}),s({title:"Incident reported",message:"The security team has been notified.",type:"success",priority:"high",category:"system",userId:""}),b(!1),await d()}catch(T){s({title:"Unable to submit incident",message:(T==null?void 0:T.message)||"We could not file this incident. Please try again.",type:"error",priority:"high",category:"system",userId:""})}};return a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Security Incidents"}),a.jsx("p",{className:"text-gray-600",children:"Track and manage security-related events, breaches, and investigations"}),!o&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"You can report incidents, but only administrators can view the full incident log."})]}),a.jsxs("button",{className:"btn-primary flex items-center",onClick:()=>b(!0),children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Report Incident"]})]})}),u&&o&&a.jsx("div",{className:"card bg-red-50 border border-red-200 text-red-700 mb-6",children:"We could not load incidents. Please refresh the page or try again later."}),a.jsx("div",{className:"card mb-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[a.jsxs("div",{className:"flex items-center space-x-4 w-full sm:w-auto",children:[a.jsxs("div",{className:"relative flex-1 sm:flex-initial sm:w-72",children:[a.jsx(Fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search incidents...",value:e.searchTerm,onChange:_=>x("searchTerm",_.target.value),className:"pl-10 input-field"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(My,{className:"h-4 w-4 text-gray-400"}),a.jsxs("select",{value:e.severity,onChange:_=>x("severity",_.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Severity"}),a.jsx("option",{value:"low",children:"Low"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"high",children:"High"}),a.jsx("option",{value:"critical",children:"Critical"})]}),a.jsxs("select",{value:e.status,onChange:_=>x("status",_.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"open",children:"Open"}),a.jsx("option",{value:"investigating",children:"Investigating"}),a.jsx("option",{value:"resolved",children:"Resolved"}),a.jsx("option",{value:"closed",children:"Closed"})]})]})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:h.length})," incidents match your filters"]})]})}),a.jsxs("div",{className:"space-y-4",children:[c&&a.jsxs("div",{className:"card flex justify-center items-center py-12 text-gray-500",children:[a.jsx(Or,{className:"h-5 w-5 mr-2 animate-spin"}),"Loading incidents..."]}),!c&&h.length===0&&a.jsxs("div",{className:"card text-center py-12",children:[a.jsx(ha,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No incidents found"}),a.jsx("p",{className:"text-gray-600",children:"There are no incidents that match your current filters."})]}),h.map(_=>{var T;return a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(ha,{className:"h-5 w-5 text-red-500 mr-2"}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Vve(_.severity)}`,children:_.severity.charAt(0).toUpperCase()+_.severity.slice(1)}),a.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${Wve(_.status)}`,children:(_.status??"open").charAt(0).toUpperCase()+(_.status??"open").slice(1)}),a.jsx("span",{className:"ml-4 text-sm text-gray-500",children:Hve(_.timestamp)})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:_.type.replace(/[-_]/g," ").replace(/\b\w/g,k=>k.toUpperCase())}),a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Action: ",_.action]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Reported by:"," ",_.userName||_.userEmail||_.userId||"System"]}),_.ipAddress&&a.jsxs("p",{className:"text-sm text-gray-600",children:["IP: ",_.ipAddress]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Description"}),a.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-line",children:_.description}),((T=_.metadata)==null?void 0:T.details)&&a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Details: ",JSON.stringify(_.metadata.details)]})]})]})]}),a.jsx("div",{className:"ml-4 flex flex-col space-y-2",children:a.jsxs("button",{className:"btn-outline text-sm py-1 px-3",disabled:!0,children:[a.jsx(Ln,{className:"h-3 w-3 mr-1"}),"View Log"]})})]})},_.id)})]}),a.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-red-600",children:p}),a.jsx("div",{className:"text-sm text-gray-600",children:"High/Critical Priority"})]}),a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:y}),a.jsx("div",{className:"text-sm text-gray-600",children:"Under Investigation"})]}),a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:v}),a.jsx("div",{className:"text-sm text-gray-600",children:"Resolved"})]}),a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-600",children:h.length}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Total (",((S=l==null?void 0:l.pagination)==null?void 0:S.total)??m.length,")"]})]})]}),r.show&&a.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30",onClick:()=>b(!1)}),a.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-lg w-full mx-4 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Report Security Incident"}),a.jsx("button",{className:"text-gray-400 hover:text-gray-600",onClick:()=>b(!1),children:""})]}),a.jsxs("form",{className:"space-y-4",onSubmit:w,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Incident Type"}),a.jsx("input",{type:"text",className:"input-field",placeholder:"e.g., Unauthorized Access",value:r.type,onChange:_=>N("type",_.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Severity"}),a.jsxs("select",{className:"input-field",value:r.severity,onChange:_=>N("severity",_.target.value),required:!0,children:[a.jsx("option",{value:"low",children:"Low"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"high",children:"High"}),a.jsx("option",{value:"critical",children:"Critical"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{className:"input-field h-24 resize-none",placeholder:"Provide details about the incident...",value:r.description,onChange:_=>N("description",_.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),a.jsxs("select",{className:"input-field",value:r.status,onChange:_=>N("status",_.target.value),children:[a.jsx("option",{value:"open",children:"Open"}),a.jsx("option",{value:"investigating",children:"Investigating"}),a.jsx("option",{value:"resolved",children:"Resolved"}),a.jsx("option",{value:"closed",children:"Closed"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",className:"btn-outline",onClick:()=>b(!1),children:"Cancel"}),a.jsxs("button",{type:"submit",className:"btn-primary",disabled:f.loading,children:[f.loading?a.jsx(Or,{className:"h-4 w-4 mr-2 inline animate-spin"}):null,"Submit Incident"]})]})]})]})]})]})}function PC({isOpen:e,onClose:t,onSave:r,specialist:n,mode:s}){const[i,o]=L.useState({username:"",name:"",email:"",password:"",phone:"",licenseNumber:"",specialization:"clinical-psychologist",experience:0,certifications:[],hourlyRate:0,bio:"",hireDate:new Date().toISOString().split("T")[0],avatar:"",status:"active"}),[l,c]=L.useState(""),[u,d]=L.useState(!1),[f,m]=L.useState(null),[h,p]=L.useState(null),[y,v]=L.useState(null),[x,b]=L.useState(!1),[N,w]=L.useState([]),[S,_]=L.useState(!0),T=s==="edit"&&n;L.useEffect(()=>{e&&(async()=>{try{_(!0);const M=await wl.getSpecializations({type:"SPECIALIST"});w(M)}catch(M){console.error("Failed to load specializations:",M)}finally{_(!1)}})()},[e]),L.useEffect(()=>{e||(d(!1),m(null),p(null),v(null),b(!1))},[e]),L.useEffect(()=>{if(T&&n)if(o({username:n.username??"",name:n.name,email:n.email,password:"",phone:n.phone,licenseNumber:n.licenseNumber,specialization:n.specialization,experience:n.experience,certifications:n.certifications,hourlyRate:n.hourlyRate,bio:n.bio??"",hireDate:n.hireDate?new Date(n.hireDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],avatar:n.avatar??"",status:n.status}),n.avatar){const E=n.avatar.startsWith("http")?n.avatar:Oa(n.avatar);v(E)}else v(null);else s==="add"&&(o({username:"",name:"",email:"",password:"",phone:"",licenseNumber:"",specialization:"clinical-psychologist",experience:0,certifications:[],hourlyRate:0,bio:"",hireDate:new Date().toISOString().split("T")[0],avatar:"",status:"active"}),v(null))},[T,n,s,e]);const k=E=>{const{name:M,value:z}=E.target;o(Z=>({...Z,[M]:["experience","hourlyRate"].includes(M)?Number(z)||0:z}))},P=()=>{const E=l.trim();E&&!i.certifications.includes(E)&&(o(M=>({...M,certifications:[...M.certifications,E]})),c(""))},D=E=>{o(M=>({...M,certifications:M.certifications.filter(z=>z!==E)}))},A=async E=>{var Z;const M=(Z=E.target.files)==null?void 0:Z[0];if(!M)return;if(!M.type.startsWith("image/")){m("Please select a valid image file");return}if(M.size>10*1024*1024){m("Image size must be less than 10MB");return}p(M),m(null);const z=new FileReader;z.onloadend=()=>{v(z.result)},z.readAsDataURL(M),b(!0);try{const R=await me.uploadFile(xe.UPLOAD.IMAGE,M);if(R.success&&R.data){const re=R.data.url||R.data.url;if(re){const de=re.startsWith("http")?re.replace(/^https?:\/\/[^\/]+/,""):re.startsWith("/")?re:"/"+re;o(te=>({...te,avatar:de}));const G=`${iu.API_ORIGIN}${de}`;v(G)}}}catch(R){m((R==null?void 0:R.message)||"Failed to upload image"),p(null),v(null)}finally{b(!1)}},I=()=>{p(null),v(null),o(E=>({...E,avatar:""}))},$=async E=>{var M;if(E.preventDefault(),d(!0),m(null),s==="add"&&!((M=i.username)!=null&&M.trim())){m("Username is required for new specialists."),d(!1);return}if(s==="add"&&(!i.password||i.password.length<8)){m("Password must be at least 8 characters long."),d(!1);return}if(s==="edit"&&i.password&&i.password.length<8){m("Password must be at least 8 characters long."),d(!1);return}try{await r({...i,certifications:i.certifications.map(z=>z.trim()).filter(Boolean),experience:Number(i.experience)||0,hourlyRate:Number(i.hourlyRate)||0}),t()}catch(z){m((z==null?void 0:z.message)??"Unable to save specialist. Please try again.")}finally{d(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s==="add"?"Add New Specialist":"Edit Specialist"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Dt,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:$,className:"p-6 space-y-6",children:[f&&a.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:f}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Basic Information"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username *"}),a.jsx("input",{type:"text",name:"username",value:i.username,onChange:k,required:s==="add",disabled:s==="edit"||u,className:"input-field disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed",placeholder:"e.g. dr.smith (used for login)"}),s==="edit"&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Username cannot be changed after creation"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),a.jsx("input",{type:"text",name:"name",value:i.name,onChange:k,required:!0,className:"input-field",placeholder:"Enter full name",disabled:u})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",name:"email",value:i.email,onChange:k,className:"input-field",placeholder:"Enter email address",disabled:u})]}),s==="add"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),a.jsx("input",{type:"password",name:"password",value:i.password,onChange:k,required:s==="add",minLength:8,className:"input-field",placeholder:"Minimum 8 characters",disabled:u}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Provide this to the specialist for login"})]}),s==="edit"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password (optional)"}),a.jsx("input",{type:"password",name:"password",value:i.password,onChange:k,minLength:8,className:"input-field",placeholder:"Leave blank to keep current password",disabled:u}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only fill if you want to change the password"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),a.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:k,required:!0,className:"input-field",placeholder:"Enter phone number",disabled:u})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"License Number *"}),a.jsx("input",{type:"text",name:"licenseNumber",value:i.licenseNumber,onChange:k,required:!0,className:"input-field",placeholder:"Enter license number",disabled:u})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specialization *"}),a.jsxs("select",{name:"specialization",value:i.specialization,onChange:k,required:!0,className:"input-field",disabled:u||S,children:[a.jsx("option",{value:"",children:"Select specialization"}),S?a.jsx("option",{disabled:!0,children:"Loading specializations..."}):N.map(E=>a.jsx("option",{value:E.name.toUpperCase().replace(/\s+/g,"_"),children:E.name},E.id))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Picture"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[y?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:y,alt:"Avatar preview",className:"h-20 w-20 rounded-full object-cover border-2 border-gray-200"}),a.jsx("button",{type:"button",onClick:I,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:a.jsx(Dt,{className:"h-4 w-4"})})]}):a.jsx("div",{className:"h-20 w-20 rounded-full bg-gray-100 flex items-center justify-center border-2 border-dashed border-gray-300",children:a.jsx(jp,{className:"h-8 w-8 text-gray-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("label",{className:"cursor-pointer",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:A,className:"hidden",disabled:x||u}),a.jsx("div",{className:"btn-outline flex items-center justify-center",children:x?a.jsxs(a.Fragment,{children:[a.jsx(Or,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(jf,{className:"h-4 w-4 mr-2"}),y?"Change Picture":"Upload Picture"]})})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG or GIF (max 10MB)"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),a.jsx("textarea",{name:"bio",value:i.bio,onChange:k,rows:3,className:"input-field",placeholder:"Enter specialist bio",disabled:u})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Certifications"}),a.jsxs("div",{className:"space-y-3",children:[i.certifications.map((E,M)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsx("span",{className:"text-sm text-gray-900",children:E}),a.jsx("button",{type:"button",onClick:()=>D(E),className:"text-red-600 hover:text-red-800",disabled:u,children:a.jsx(Ur,{className:"h-4 w-4"})})]},M)),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",value:l,onChange:E=>c(E.target.value),className:"input-field flex-1",placeholder:"Enter certification name",disabled:u}),a.jsxs("button",{type:"button",onClick:P,className:"btn-secondary flex items-center",disabled:u,children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Add"]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Professional Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Years of Experience *"}),a.jsx("input",{type:"number",name:"experience",value:i.experience,onChange:k,min:0,max:50,required:!0,className:"input-field",placeholder:"Enter years of experience",disabled:u})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hourly Rate *"}),a.jsx("input",{type:"number",name:"hourlyRate",value:i.hourlyRate,onChange:k,min:0,step:"0.01",required:!0,className:"input-field",placeholder:"Enter hourly rate",disabled:u})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Employment Details"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),a.jsxs("select",{name:"status",value:i.status,onChange:k,required:!0,className:"input-field",disabled:u,children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"}),a.jsx("option",{value:"on-leave",children:"On Leave"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hire Date *"}),a.jsx("input",{type:"date",name:"hireDate",value:i.hireDate,onChange:k,required:!0,className:"input-field",disabled:u})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-outline",disabled:u,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:u,children:u?"Saving...":s==="add"?"Add Specialist":"Save Changes"})]})]})]})}):null}const Yve=e=>e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),Kve=e=>{switch(e){case"clinical-psychologist":return"bg-purple-100 text-purple-800";case"nutritionist":return"bg-green-100 text-green-800";case"critical-care-nurse":return"bg-red-100 text-red-800";case"medical-doctor":return"bg-blue-100 text-blue-800";case"geriatrician":return"bg-indigo-100 text-indigo-800";case"palliative-care-specialist":return"bg-gray-100 text-gray-800";case"senior-midwife":return"bg-rose-100 text-rose-800";default:return"bg-gray-100 text-gray-800"}},Xve=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"on-leave":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};function Jve({isOpen:e,onClose:t,specialist:r}){if(!e||!r)return null;const n=i=>`${(i==null?void 0:i.filter(l=>l.isAvailable).length)||0} days/week`,s=r.avatar?r.avatar.startsWith("http")?r.avatar:Oa(r.avatar):null;return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Specialist Details"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Dt,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-start space-x-4 pb-6 border-b border-gray-200",children:[s?a.jsx("img",{src:s,alt:r.name,className:"h-20 w-20 rounded-full object-cover border-2 border-gray-200"}):a.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-primary-100 text-xl font-semibold text-primary-700",children:r.name.split(" ").map(i=>i[0]).join("").slice(0,2).toUpperCase()}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r.name}),a.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${Kve(r.specialization)}`,children:Yve(r.specialization)}),a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${Xve(r.status)}`,children:r.status.charAt(0).toUpperCase()+r.status.slice(1)})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Dy,{className:"h-5 w-5 text-gray-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),a.jsx("p",{className:"font-semibold text-gray-900",children:r.email})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(ui,{className:"h-5 w-5 text-gray-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),a.jsx("p",{className:"font-semibold text-gray-900",children:r.phone||""})]})]})]}),a.jsxs("div",{className:"rounded-lg bg-gray-50 p-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Professional Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Jn,{className:"h-5 w-5 text-gray-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"License Number"}),a.jsx("p",{className:"font-semibold text-gray-900",children:r.licenseNumber||""})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(dO,{className:"h-5 w-5 text-gray-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Experience"}),a.jsxs("p",{className:"font-semibold text-gray-900",children:[r.experience," years"]})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Sa,{className:"h-5 w-5 text-gray-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Hourly Rate"}),a.jsxs("p",{className:"font-semibold text-gray-900",children:["$",r.hourlyRate,"/hr"]})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Mt,{className:"h-5 w-5 text-gray-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Hire Date"}),a.jsx("p",{className:"font-semibold text-gray-900",children:new Date(r.hireDate).toLocaleDateString()})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(rr,{className:"h-5 w-5 text-gray-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Availability"}),a.jsx("p",{className:"font-semibold text-gray-900",children:n(r.availability)})]})]})]})]}),r.certifications&&r.certifications.length>0&&a.jsxs("div",{className:"rounded-lg border border-gray-200 p-4",children:[a.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[a.jsx(Jn,{className:"h-5 w-5 text-gray-400"}),a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Certifications"})]}),a.jsx("ul",{className:"space-y-2",children:r.certifications.map((i,o)=>a.jsxs("li",{className:"flex items-center text-gray-700",children:[a.jsx("span",{className:"mr-2 text-primary-600",children:""}),i]},o))})]}),r.bio&&a.jsxs("div",{className:"rounded-lg bg-blue-50 p-4",children:[a.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[a.jsx(Aa,{className:"h-5 w-5 text-blue-600"}),a.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"Bio"})]}),a.jsx("p",{className:"text-sm text-blue-800 whitespace-pre-wrap",children:r.bio})]})]}),a.jsx("div",{className:"flex justify-end gap-3 border-t border-gray-200 px-6 py-4",children:a.jsx("button",{onClick:t,className:"btn-primary",children:"Close"})})]})})}function Zve(){const{user:e}=dr(),t=(e==null?void 0:e.role)==="admin",[r,n]=L.useState(""),[s,i]=L.useState("all"),[o,l]=L.useState("all"),[c,u]=L.useState(!1),[d,f]=L.useState(!1),[m,h]=L.useState(!1),[p,y]=L.useState(null),{addNotification:v}=Rr(),{data:x,loading:b,error:N,refetch:w}=st(()=>Ic.getSpecialists({limit:200}),[]),S=(x==null?void 0:x.specialists)??[],_=L.useMemo(()=>S.filter(U=>{const re=U.name.toLowerCase().includes(r.toLowerCase())||U.specialization.toLowerCase().includes(r.toLowerCase())||U.email.toLowerCase().includes(r.toLowerCase()),de=s==="all"||U.specialization===s,B=o==="all"||U.status===o;return re&&de&&B}),[S,r,s,o]),T=ot(Ic.createSpecialist.bind(Ic)),k=ot(U=>Ic.updateSpecialist(U.id,U.data)),P=ot(U=>Ic.deleteSpecialist(U)),D=async U=>{var re,de;try{await T.mutate(U),Te.success(`Specialist ${U.name} has been added successfully`),v({title:"Specialist Added",message:`${U.name} has been added to the roster.`,type:"success",userId:"system",priority:"medium",category:"specialist"}),await w(),u(!1)}catch(B){const G=((de=(re=B==null?void 0:B.response)==null?void 0:re.data)==null?void 0:de.message)||(B==null?void 0:B.message)||"Failed to add specialist";throw Te.error(G),v({title:"Unable to add specialist",message:G,type:"error",userId:"system",priority:"high",category:"system"}),B}},A=async U=>{var re,de;if(p)try{await k.mutate({id:p.id,data:U}),Te.success(`Specialist ${U.name??p.name} has been updated successfully`),v({title:"Specialist Updated",message:`${U.name??p.name} has been updated.`,type:"success",userId:"system",priority:"medium",category:"specialist"}),await w(),f(!1),y(null)}catch(B){const G=((de=(re=B==null?void 0:B.response)==null?void 0:re.data)==null?void 0:de.message)||(B==null?void 0:B.message)||"Failed to update specialist";throw Te.error(G),v({title:"Unable to update specialist",message:G,type:"error",userId:"system",priority:"high",category:"system"}),B}},I=async(U,re)=>{var de,B;if(window.confirm(`Mark ${re} as inactive?`))try{await P.mutate(U),Te.success(`Specialist ${re} has been marked as inactive`),v({title:"Specialist Updated",message:`${re} is now marked as inactive.`,type:"info",userId:"system",priority:"medium",category:"specialist"}),await w()}catch(G){const te=((B=(de=G==null?void 0:G.response)==null?void 0:de.data)==null?void 0:B.message)||(G==null?void 0:G.message)||"Failed to update specialist";Te.error(te),v({title:"Unable to update specialist",message:te,type:"error",userId:"system",priority:"high",category:"system"})}},$=U=>{y(U),f(!0)},E=U=>{y(U),h(!0)},M=U=>{switch(U){case"clinical-psychologist":return"bg-purple-100 text-purple-800";case"nutritionist":return"bg-green-100 text-green-800";case"critical-care-nurse":return"bg-red-100 text-red-800";case"medical-doctor":return"bg-blue-100 text-blue-800";case"geriatrician":return"bg-indigo-100 text-indigo-800";case"palliative-care-specialist":return"bg-gray-100 text-gray-800";case"senior-midwife":return"bg-rose-100 text-rose-800";default:return"bg-gray-100 text-gray-800"}},z=U=>{switch(U){case"active":return"status-active";case"inactive":return"status-inactive";case"on-leave":return"bg-yellow-100 text-yellow-800";default:return"status-inactive"}},Z=U=>U.split("-").map(re=>re.charAt(0).toUpperCase()+re.slice(1)).join(" "),R=U=>`${(U==null?void 0:U.filter(de=>de.isAvailable).length)||0} days/week`;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center space-x-2",children:[a.jsx(Jn,{className:"h-6 w-6 text-primary-500"}),a.jsx("span",{children:"Specialists"})]}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage healthcare specialists and their availability."})]}),t&&a.jsx("div",{className:"mt-4 sm:mt-0",children:a.jsxs("button",{onClick:()=>u(!0),className:"btn-primary flex items-center",children:[a.jsx(zt,{className:"mr-2 h-4 w-4"}),"Add Specialist"]})})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Fr,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search specialists...",value:r,onChange:U=>n(U.target.value),className:"input-field pl-10"})]})}),a.jsx("div",{className:"sm:w-48",children:a.jsxs("select",{value:s,onChange:U=>i(U.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Specializations"}),a.jsx("option",{value:"clinical-psychologist",children:"Clinical Psychologist"}),a.jsx("option",{value:"nutritionist",children:"Nutritionist"}),a.jsx("option",{value:"critical-care-nurse",children:"Critical Care Nurse"}),a.jsx("option",{value:"medical-doctor",children:"Medical Doctor"}),a.jsx("option",{value:"geriatrician",children:"Geriatrician"}),a.jsx("option",{value:"palliative-care-specialist",children:"Palliative Care Specialist"}),a.jsx("option",{value:"senior-midwife",children:"Senior Midwife"})]})}),a.jsx("div",{className:"sm:w-48",children:a.jsxs("select",{value:o,onChange:U=>l(U.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"}),a.jsx("option",{value:"on-leave",children:"On Leave"})]})})]})}),N&&a.jsx("div",{className:"card bg-red-50 border border-red-200 text-red-700",children:"Unable to load specialists. Please refresh or try again later."}),a.jsx("div",{className:"card",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Specialist"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Specialization"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Contact"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Experience"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Hourly Rate"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Availability"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:b?a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"px-6 py-10 text-center text-sm text-gray-500",children:"Loading specialists..."})}):_.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"px-6 py-10 text-center text-sm text-gray-500",children:"No specialists match your filters yet."})}):_.map(U=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[U.avatar?a.jsx("img",{src:U.avatar.startsWith("http")?U.avatar:Oa(U.avatar),alt:U.name,className:"h-10 w-10 rounded-full object-cover"}):a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary-100 text-sm font-semibold text-primary-700",children:U.name.split(" ").map(re=>re[0]).join("").slice(0,2).toUpperCase()}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:U.name}),a.jsx("div",{className:"text-sm text-gray-500",children:U.email})]})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${M(U.specialization)}`,children:Z(U.specialization)})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900",children:U.phone?a.jsxs("div",{className:"flex items-center",children:[a.jsx(ui,{className:"mr-2 h-4 w-4 text-gray-400"}),U.phone]}):a.jsx("span",{className:"text-gray-400",children:"No phone"})})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Jn,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsxs("div",{className:"text-sm text-gray-900",children:[U.experience," years"]})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Qh,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsxs("div",{className:"text-sm text-gray-900",children:["$",U.hourlyRate,"/hr"]})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(rr,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm text-gray-900",children:R(U.availability)})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`status-badge ${z(U.status)}`,children:U.status.charAt(0).toUpperCase()+U.status.slice(1)})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:()=>E(U),className:"text-primary-600 hover:text-primary-900",title:"View specialist details",children:[a.jsx(Ln,{className:"mr-1 inline h-4 w-4"}),"View"]}),t&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>$(U),className:"text-secondary-600 hover:text-secondary-900",children:[a.jsx(Fn,{className:"mr-1 inline h-4 w-4"}),"Edit"]}),a.jsxs("button",{onClick:()=>I(U.id,U.name),className:"text-red-600 hover:text-red-900",children:[a.jsx(Ur,{className:"mr-1 inline h-4 w-4"}),"Delete"]})]})]})})]},U.id))})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-primary-600",children:S.filter(U=>U.status==="active").length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Active Specialists"})]}),a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:S.filter(U=>U.specialization==="clinical-psychologist").length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Psychologists"})]}),a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:S.filter(U=>U.specialization==="nutritionist").length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Nutritionists"})]})]}),a.jsx(PC,{isOpen:c,onClose:()=>u(!1),onSave:D,mode:"add"}),a.jsx(PC,{isOpen:d,onClose:()=>{f(!1),y(null)},onSave:A,specialist:p,mode:"edit"}),a.jsx(Jve,{isOpen:m,onClose:()=>{h(!1),y(null)},specialist:p})]})}function Xu(e){if(!e)return{};if(e.settings)return e.settings;const{settings:t,...r}=e;return r}class Qve{async getSystemSettings(){const t=await me.get(xe.SETTINGS.SYSTEM);return Xu(t.data)}async updateSystemSettings(t){const r=await me.put(xe.SETTINGS.SYSTEM,t);return Xu(r.data)}async getNotificationSettings(){const t=await me.get(xe.SETTINGS.NOTIFICATIONS);return Xu(t.data)}async updateNotificationSettings(t){const r=await me.put(xe.SETTINGS.NOTIFICATIONS,t);return Xu(r.data)}async getReminderSettings(){const t=await me.get(xe.SETTINGS.REMINDERS);return Xu(t.data)}async updateReminderSettings(t){const r=await me.put(xe.SETTINGS.REMINDERS,t);return Xu(r.data)}}const No=new Qve,e1e={firstName:"",lastName:"",email:"",phone:"",department:""},CC={currentPassword:"",newPassword:"",confirmPassword:""},Zb={emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,appointmentReminders:!0,paymentReminders:!0},t1e={siteName:"Teamwork Homecare",siteEmail:"support@homecare.com",sitePhone:"+1-555-0101",maintenanceMode:!1,registrationEnabled:!0,emailVerificationRequired:!0,passwordMinLength:8,sessionTimeout:3600};function r1e(){const[e,t]=L.useState("profile"),{user:r,updateProfile:n,changePassword:s}=dr(),{addNotification:i}=Rr(),[o,l]=L.useState(e1e),[c,u]=L.useState(CC),[d,f]=L.useState(Zb),[m,h]=L.useState(t1e),[p,y]=L.useState(!1),[v,x]=L.useState(!1),[b,N]=L.useState(!1),[w,S]=L.useState(!1),{data:_,loading:T,error:k,refetch:P}=st(()=>No.getNotificationSettings(),[]),{data:D,loading:A,error:I,refetch:$}=st(()=>No.getSystemSettings(),[]),E=ot(No.updateNotificationSettings.bind(No)),M=ot(No.updateSystemSettings.bind(No));L.useEffect(()=>{if(r){const[q,...X]=r.name.split(" ");l({firstName:q??"",lastName:X.join(" "),email:r.email??"",phone:r.phone??"",department:r.department??""})}},[r]),L.useEffect(()=>{if(_!=null&&_.notifications){f({...Zb,..._.notifications});return}_&&f({...Zb,..._})},[_]),L.useEffect(()=>{D&&h(q=>({...q,...D}))},[D]);const z=(q,X)=>{l(Q=>({...Q,[q]:X}))},Z=q=>{f(X=>({...X,[q]:!X[q]}))},R=(q,X)=>{h(Q=>({...Q,[q]:X}))},U=async q=>{if(q.preventDefault(),!!r){y(!0);try{const X=`${o.firstName} ${o.lastName}`.trim()||r.name;await n({name:X,email:o.email,phone:o.phone,department:o.department}),i({title:"Profile updated",message:"Your profile information was saved successfully.",type:"success",priority:"medium",category:"system",userId:r.id})}catch(X){i({title:"Profile update failed",message:(X==null?void 0:X.message)||"We could not update your profile. Please try again.",type:"error",priority:"high",category:"system",userId:(r==null?void 0:r.id)??""})}finally{y(!1)}}},re=async q=>{if(q.preventDefault(),c.newPassword!==c.confirmPassword){i({title:"Password mismatch",message:"Please make sure the new passwords match.",type:"warning",priority:"medium",category:"system",userId:(r==null?void 0:r.id)??""});return}x(!0);try{await s(c.currentPassword,c.newPassword),i({title:"Password updated",message:"Your password has been updated securely.",type:"success",priority:"medium",category:"system",userId:(r==null?void 0:r.id)??""}),u(CC)}catch(X){i({title:"Password update failed",message:(X==null?void 0:X.message)||"Unable to change password. Please verify your current password.",type:"error",priority:"high",category:"system",userId:(r==null?void 0:r.id)??""})}finally{x(!1)}},de=async q=>{q.preventDefault(),N(!0);try{const X=await E.mutate(d);f(X),i({title:"Notification preferences saved",message:"We will use your preferences for future alerts.",type:"success",priority:"medium",category:"system",userId:(r==null?void 0:r.id)??""}),await P()}catch(X){i({title:"Unable to save preferences",message:(X==null?void 0:X.message)||"Please try again later.",type:"error",priority:"high",category:"system",userId:(r==null?void 0:r.id)??""})}finally{N(!1)}},B=async q=>{q.preventDefault(),S(!0);try{const X={passwordMinLength:m.passwordMinLength,sessionTimeout:m.sessionTimeout,emailVerificationRequired:m.emailVerificationRequired},Q=await M.mutate(X);h(ne=>({...ne,...Q})),i({title:"Security policies updated",message:"Password and session policies have been refreshed.",type:"success",priority:"medium",category:"system",userId:(r==null?void 0:r.id)??""}),await $()}catch(X){i({title:"Unable to update security settings",message:(X==null?void 0:X.message)||"Please try again later.",type:"error",priority:"high",category:"system",userId:(r==null?void 0:r.id)??""})}finally{S(!1)}},G=async q=>{q.preventDefault(),S(!0);try{const X={siteName:m.siteName,siteEmail:m.siteEmail,sitePhone:m.sitePhone,maintenanceMode:m.maintenanceMode,registrationEnabled:m.registrationEnabled},Q=await M.mutate(X);h(ne=>({...ne,...Q})),i({title:"System settings saved",message:"Core system preferences were updated successfully.",type:"success",priority:"medium",category:"system",userId:(r==null?void 0:r.id)??""}),await $()}catch(X){i({title:"Unable to save system settings",message:(X==null?void 0:X.message)||"Please try again later.",type:"error",priority:"high",category:"system",userId:(r==null?void 0:r.id)??""})}finally{S(!1)}},te=A||M.loading,ue=T||E.loading;return a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),a.jsx("p",{className:"text-gray-600",children:"Manage your account and system preferences"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsx("nav",{className:"space-y-1",children:[{key:"profile",label:"Profile",icon:Yr},{key:"notifications",label:"Notifications",icon:jo},{key:"security",label:"Security",icon:e5},{key:"system",label:"System",icon:RF},{key:"specializations",label:"Specializations",icon:FF,adminOnly:!0}].filter(q=>!q.adminOnly||(r==null?void 0:r.role)==="admin").map(q=>a.jsxs("button",{onClick:()=>t(q.key),className:`w-full flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 ${e===q.key?"bg-primary-50 text-primary-700 border-r-2 border-primary-500":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[a.jsx(q.icon,{className:"h-4 w-4 mr-3"}),q.label]},q.key))})}),a.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[e==="profile"&&a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Profile Settings"}),a.jsxs("form",{className:"space-y-6",onSubmit:U,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),a.jsx("input",{type:"text",className:"input-field",value:o.firstName,onChange:q=>z("firstName",q.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),a.jsx("input",{type:"text",className:"input-field",value:o.lastName,onChange:q=>z("lastName",q.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),a.jsx("input",{type:"email",className:"input-field",value:o.email,onChange:q=>z("email",q.target.value),required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),a.jsx("input",{type:"tel",className:"input-field",value:o.phone??"",onChange:q=>z("phone",q.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),a.jsx("input",{type:"text",className:"input-field",value:o.department??"",onChange:q=>z("department",q.target.value)})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{className:"btn-primary",disabled:p,children:[p?a.jsx(Or,{className:"h-4 w-4 mr-2 inline animate-spin"}):null,"Save Changes"]})})]})]}),e==="notifications"&&a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Notification Preferences"}),k&&a.jsx("div",{className:"p-4 mb-4 text-sm text-red-700 bg-red-50 border border-red-200 rounded-md",children:"Unable to load your notification preferences right now."}),a.jsxs("form",{className:"space-y-6",onSubmit:de,children:[ue?a.jsxs("div",{className:"flex items-center justify-center py-8 text-gray-500",children:[a.jsx(Or,{className:"h-5 w-5 mr-2 animate-spin"})," Loading preferences..."]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Email Notifications"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Receive notifications via email."})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:!!d.emailNotifications,onChange:()=>Z("emailNotifications")}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"SMS Notifications"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Receive alerts via SMS."})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:!!d.smsNotifications,onChange:()=>Z("smsNotifications")}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Push Notifications"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Enable in-app push notifications."})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:!!d.pushNotifications,onChange:()=>Z("pushNotifications")}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Appointment Reminders"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Get reminded about upcoming appointments."})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:!!d.appointmentReminders,onChange:()=>Z("appointmentReminders")}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Payment Reminders"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Stay on top of invoice due dates."})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:!!d.paymentReminders,onChange:()=>Z("paymentReminders")}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{className:"btn-primary",disabled:b||ue,children:[b?a.jsx(Or,{className:"h-4 w-4 mr-2 inline animate-spin"}):null,"Save Preferences"]})})]})]}),e==="security"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Security Settings"}),a.jsxs("form",{className:"space-y-6",onSubmit:re,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),a.jsx("input",{type:"password",className:"input-field",value:c.currentPassword,onChange:q=>u(X=>({...X,currentPassword:q.target.value})),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),a.jsx("input",{type:"password",className:"input-field",value:c.newPassword,onChange:q=>u(X=>({...X,newPassword:q.target.value})),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),a.jsx("input",{type:"password",className:"input-field",value:c.confirmPassword,onChange:q=>u(X=>({...X,confirmPassword:q.target.value})),required:!0})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{className:"btn-primary",disabled:v,children:[v?a.jsx(Or,{className:"h-4 w-4 mr-2 inline animate-spin"}):null,"Update Password"]})})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Password & Session Policies"}),I&&a.jsx("div",{className:"p-4 mb-4 text-sm text-red-700 bg-red-50 border border-red-200 rounded-md",children:"Unable to load security-related system settings."}),te?a.jsxs("div",{className:"flex items-center justify-center py-8 text-gray-500",children:[a.jsx(Or,{className:"h-5 w-5 mr-2 animate-spin"})," Loading security policies..."]}):a.jsxs("form",{className:"space-y-6",onSubmit:B,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password Minimum Length"}),a.jsx("input",{type:"number",min:4,className:"input-field",value:m.passwordMinLength??8,onChange:q=>R("passwordMinLength",Number(q.target.value)||8),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Timeout (seconds)"}),a.jsx("input",{type:"number",min:300,className:"input-field",value:m.sessionTimeout??3600,onChange:q=>R("sessionTimeout",Number(q.target.value)||3600),required:!0})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Require email verification"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Users must verify their email before accessing the system."})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:!!m.emailVerificationRequired,onChange:()=>R("emailVerificationRequired",!m.emailVerificationRequired)}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{className:"btn-primary",disabled:w||te,children:[w?a.jsx(Or,{className:"h-4 w-4 mr-2 inline animate-spin"}):null,"Save Security Policies"]})})]})]})]}),e==="system"&&a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"System Settings"}),I&&a.jsx("div",{className:"p-4 mb-4 text-sm text-red-700 bg-red-50 border border-red-200 rounded-md",children:"Unable to load core system settings."}),te?a.jsxs("div",{className:"flex items-center justify-center py-8 text-gray-500",children:[a.jsx(Or,{className:"h-5 w-5 mr-2 animate-spin"})," Loading system settings..."]}):a.jsxs("form",{className:"space-y-6",onSubmit:G,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Site Name"}),a.jsx("input",{type:"text",className:"input-field",value:m.siteName??"",onChange:q=>R("siteName",q.target.value),required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Support Email"}),a.jsx("input",{type:"email",className:"input-field",value:m.siteEmail??"",onChange:q=>R("siteEmail",q.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Support Phone"}),a.jsx("input",{type:"tel",className:"input-field",value:m.sitePhone??"",onChange:q=>R("sitePhone",q.target.value),required:!0})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Maintenance Mode"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Temporarily disable non-admin access while maintenance is performed."})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:!!m.maintenanceMode,onChange:()=>R("maintenanceMode",!m.maintenanceMode)}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Allow New Registrations"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Control whether new users can sign up."})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:!!m.registrationEnabled,onChange:()=>R("registrationEnabled",!m.registrationEnabled)}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{className:"btn-primary",disabled:w||te,children:[w?a.jsx(Or,{className:"h-4 w-4 mr-2 inline animate-spin"}):null,"Save Settings"]})})]})]}),e==="specializations"&&(r==null?void 0:r.role)==="admin"&&a.jsx(n1e,{})]})]})]})}function n1e(){const[e,t]=L.useState("all"),[r,n]=L.useState(!1),[s,i]=L.useState(null),[o,l]=L.useState({name:"",type:"SPECIALIST",description:"",isActive:!0,displayOrder:0}),{data:c,loading:u,error:d,refetch:f}=st(()=>wl.getSpecializations({type:e!=="all"?e:void 0,includeInactive:!0}),[e]),m=ot(wl.createSpecialization.bind(wl)),h=ot(({id:w,data:S})=>wl.updateSpecialization(w,S)),p=ot(wl.deleteSpecialization.bind(wl)),y=L.useMemo(()=>c?e==="all"?c:c.filter(w=>w.type===e):[],[c,e]),v=()=>{l({name:"",type:"SPECIALIST",description:"",isActive:!0,displayOrder:0}),i(null),n(!0)},x=w=>{l({name:w.name,type:w.type,description:w.description||"",isActive:w.isActive,displayOrder:w.displayOrder}),i(w),n(!0)},b=async()=>{try{s?(await h.mutate({id:s.id,data:o}),Te.success("Specialization updated successfully")):(await m.mutate(o),Te.success("Specialization created successfully")),n(!1),i(null),await f()}catch(w){Te.error((w==null?void 0:w.message)||"Failed to save specialization")}},N=async w=>{if(window.confirm("Are you sure you want to delete this specialization?"))try{await p.mutate(w),Te.success("Specialization deleted successfully"),await f()}catch(S){Te.error((S==null?void 0:S.message)||"Failed to delete specialization")}};return a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Specializations Management"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage specializations for Specialists and Therapists"})]}),a.jsxs("button",{onClick:v,className:"btn-primary inline-flex items-center",children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Add Specialization"]})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>t("all"),className:`px-4 py-2 rounded-lg text-sm font-medium ${e==="all"?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All"}),a.jsx("button",{onClick:()=>t("SPECIALIST"),className:`px-4 py-2 rounded-lg text-sm font-medium ${e==="SPECIALIST"?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Specialists"}),a.jsx("button",{onClick:()=>t("THERAPIST"),className:`px-4 py-2 rounded-lg text-sm font-medium ${e==="THERAPIST"?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Therapists"})]})}),u?a.jsxs("div",{className:"flex items-center justify-center py-8 text-gray-500",children:[a.jsx(Or,{className:"h-5 w-5 mr-2 animate-spin"})," Loading specializations..."]}):d?a.jsx("div",{className:"p-4 text-sm text-red-700 bg-red-50 border border-red-200 rounded-md",children:"Failed to load specializations"}):a.jsx("div",{className:"space-y-2",children:y.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500",children:'No specializations found. Click "Add Specialization" to create one.'}):y.map(w=>a.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:w.name}),a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${w.type==="SPECIALIST"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:w.type}),!w.isActive&&a.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded bg-gray-100 text-gray-600",children:"Inactive"})]}),w.description&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:w.description}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Order: ",w.displayOrder]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>x(w),className:"p-2 text-secondary-600 hover:bg-secondary-50 rounded",title:"Edit",children:a.jsx(Fn,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>N(w.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Delete",children:a.jsx(Ur,{className:"h-4 w-4"})})]})]},w.id))}),r&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s?"Edit Specialization":"Add Specialization"}),a.jsx("button",{onClick:()=>{n(!1),i(null)},className:"text-gray-400 hover:text-gray-600",children:a.jsx(Dt,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),a.jsx("input",{type:"text",value:o.name,onChange:w=>l({...o,name:w.target.value}),className:"input-field",placeholder:"e.g., Physiotherapy",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type *"}),a.jsxs("select",{value:o.type,onChange:w=>l({...o,type:w.target.value}),className:"input-field",required:!0,children:[a.jsx("option",{value:"SPECIALIST",children:"Specialist"}),a.jsx("option",{value:"THERAPIST",children:"Therapist"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{value:o.description,onChange:w=>l({...o,description:w.target.value}),className:"input-field",rows:3,placeholder:"Optional description"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Order"}),a.jsx("input",{type:"number",value:o.displayOrder,onChange:w=>l({...o,displayOrder:Number(w.target.value)}),className:"input-field",min:"0"})]}),a.jsx("div",{className:"flex items-center pt-6",children:a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:o.isActive,onChange:w=>l({...o,isActive:w.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Active"})]})})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx("button",{onClick:()=>{n(!1),i(null)},className:"btn-outline",children:"Cancel"}),a.jsx("button",{onClick:b,className:"btn-primary",disabled:!o.name||m.loading||h.loading,children:m.loading||h.loading?a.jsxs(a.Fragment,{children:[a.jsx(Or,{className:"h-4 w-4 mr-2 inline animate-spin"}),"Saving..."]}):"Save"})]})]})]})})]})}const mg={patientId:"",patientName:"",patientPhone:"",type:"appointment",title:"",message:"",scheduledTime:new Date().toISOString().slice(0,16),method:"sms",priority:"medium",maxAttempts:3};function a1e(){const[e,t]=L.useState("reminders"),[r,n]=L.useState("all"),[s,i]=L.useState("all"),[o,l]=L.useState(""),[c,u]=L.useState(!1),[d,f]=L.useState(mg),[m,h]=L.useState([]),[p,y]=L.useState(!1),{addNotification:v}=Rr(),{data:x,loading:b,error:N,refetch:w}=st(()=>gl.getReminders({limit:200}),[]),{data:S,loading:_,error:T,refetch:k}=st(()=>No.getReminderSettings(),[]),P=ot(gl.sendReminder.bind(gl)),D=ot(gl.cancelReminder.bind(gl)),A=ot(gl.createReminder.bind(gl)),I=ot(No.updateReminderSettings.bind(No)),$=L.useMemo(()=>(x==null?void 0:x.reminders)??[],[x]),E=S;L.useEffect(()=>{c&&(async()=>{y(!0);try{const{patients:Q}=await Mn.getPatients({limit:200,status:"active"});h(Q)}catch(Q){console.error("Failed to load patients",Q)}finally{y(!1)}})()},[c]);const M=X=>{switch(X){case"sent":case"delivered":return a.jsx($n,{className:"h-4 w-4 text-green-500"});case"failed":return a.jsx(Vl,{className:"h-4 w-4 text-red-500"});case"pending":return a.jsx(rr,{className:"h-4 w-4 text-yellow-500"});default:return a.jsx(Bo,{className:"h-4 w-4 text-gray-500"})}},z=X=>{switch(X){case"sent":case"delivered":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},Z=X=>{switch(X){case"urgent":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},R=X=>{switch(X){case"sms":return a.jsx(aw,{className:"h-4 w-4"});case"call":return a.jsx(ui,{className:"h-4 w-4"});case"both":return a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(aw,{className:"h-3 w-3"}),a.jsx(ui,{className:"h-3 w-3"})]});default:return a.jsx(jo,{className:"h-4 w-4"})}},U=X=>new Date(X).toLocaleString(),re=$.filter(X=>{const Q=r==="all"||X.status===r,ne=s==="all"||X.type===s,pe=X.patientName.toLowerCase().includes(o.toLowerCase())||X.title.toLowerCase().includes(o.toLowerCase());return Q&&ne&&pe}),de=async X=>{try{await P.mutate(X.id),v({title:"Reminder Sent",message:`Reminder "${X.title}" has been queued again.`,type:"success",userId:"system",priority:"medium",category:"general"}),await w()}catch(Q){v({title:"Unable to send reminder",message:(Q==null?void 0:Q.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"})}},B=async X=>{if(window.confirm(`Cancel reminder "${X.title}" for ${X.patientName}?`))try{await D.mutate(X.id),v({title:"Reminder Cancelled",message:`${X.title} has been cancelled.`,type:"info",userId:"system",priority:"medium",category:"general"}),await w()}catch(Q){v({title:"Unable to cancel reminder",message:(Q==null?void 0:Q.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"})}},G=async X=>{X.preventDefault();try{const Q={...d,scheduledTime:new Date(d.scheduledTime).toISOString()};await A.mutate(Q),v({title:"Reminder Scheduled",message:`Reminder "${Q.title}" has been created successfully.`,type:"success",userId:"system",priority:"medium",category:"general"}),u(!1),f(mg),await w()}catch(Q){v({title:"Unable to create reminder",message:(Q==null?void 0:Q.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"})}},te=async(X,Q)=>{if(!(!E||!E[X]))try{await I.mutate({[X]:{...E[X],enabled:Q}}),await k(),v({title:"Reminder settings updated",message:"Changes saved successfully.",type:"success",userId:"system",priority:"medium",category:"system"})}catch(ne){v({title:"Unable to update settings",message:(ne==null?void 0:ne.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"})}},ue=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search reminders...",value:o,onChange:X=>l(X.target.value),className:"input-field pl-10"})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("select",{value:r,onChange:X=>n(X.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"sent",children:"Sent"}),a.jsx("option",{value:"delivered",children:"Delivered"}),a.jsx("option",{value:"failed",children:"Failed"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]}),a.jsxs("select",{value:s,onChange:X=>i(X.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Types"}),a.jsx("option",{value:"appointment",children:"Appointment"}),a.jsx("option",{value:"medication",children:"Medication"}),a.jsx("option",{value:"health-check",children:"Health Check"}),a.jsx("option",{value:"follow-up",children:"Follow-up"})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{className:"btn-primary flex items-center",onClick:()=>u(!0),children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"New Reminder"]})}),b&&a.jsx("div",{className:"card text-sm text-gray-500",children:"Loading reminders..."}),N&&a.jsx("div",{className:"card text-sm text-red-500",children:"Unable to load reminders. Please try again later."}),!b&&!N&&re.length===0&&a.jsx("div",{className:"card text-center py-12 text-sm text-gray-500",children:"No reminders match your filters."}),a.jsx("div",{className:"space-y-4",children:re.map(X=>a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[M(X.status),a.jsx("h3",{className:"font-semibold text-lg",children:X.title}),a.jsx("span",{className:`status-badge ${z(X.status)}`,children:X.status}),a.jsx("span",{className:`status-badge ${Z(X.priority)}`,children:X.priority})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(Yr,{className:"h-4 w-4"}),a.jsx("span",{children:X.patientName})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(ui,{className:"h-4 w-4"}),a.jsx("span",{children:X.patientPhone})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(Mt,{className:"h-4 w-4"}),a.jsx("span",{children:U(X.scheduledTime)})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[R(X.method),a.jsx("span",{className:"capitalize",children:X.method})]})]}),a.jsx("p",{className:"text-gray-700 mb-3",children:X.message}),X.response&&a.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mb-3",children:a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"Response:"})," ",X.response]})}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[a.jsxs("span",{children:["Attempts: ",X.attempts,"/",X.maxAttempts]}),X.lastAttempt&&a.jsxs("span",{children:["Last attempt: ",U(X.lastAttempt)]})]})]}),a.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[X.status==="failed"&&a.jsx("button",{onClick:()=>de(X),className:"btn-primary text-sm",children:"Resend"}),X.status==="pending"&&a.jsx("button",{onClick:()=>B(X),className:"btn-outline text-sm text-red-600 hover:text-red-800",children:"Cancel"})]})]})},X.id))})]}),q=()=>{var X,Q,ne,pe,se,W,fe,Ae,Y,Ce,qe,be,je;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Reminder Settings"}),a.jsxs("button",{className:"btn-primary",disabled:!0,children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Add Settings"]})]}),T&&a.jsx("div",{className:"card text-sm text-red-500",children:"Unable to load reminder settings. Please try again later."}),_&&a.jsx("div",{className:"card text-sm text-gray-500",children:"Loading reminder settings..."}),!_&&!T&&E&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Appointment Reminders"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Enabled"}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:((X=E.appointmentReminders)==null?void 0:X.enabled)??!1,onChange:Me=>te("appointmentReminders",Me.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Advance Time"}),a.jsxs("span",{className:"text-sm font-medium",children:[((Q=E.appointmentReminders)==null?void 0:Q.advanceTime)??0," minutes"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Phone Number"}),a.jsx("span",{className:"text-sm font-medium",children:((ne=E.appointmentReminders)==null?void 0:ne.phoneNumber)??"N/A"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Methods"}),a.jsx("div",{className:"flex gap-1",children:(((pe=E.appointmentReminders)==null?void 0:pe.methods)??[]).map(Me=>a.jsx("span",{className:"status-badge bg-blue-100 text-blue-800 text-xs",children:Me.toUpperCase()},Me))})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Medication Reminders"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Enabled"}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:((se=E.medicationReminders)==null?void 0:se.enabled)??!1,onChange:Me=>te("medicationReminders",Me.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Advance Time"}),a.jsxs("span",{className:"text-sm font-medium",children:[((W=E.medicationReminders)==null?void 0:W.advanceTime)??0," minutes"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Phone Number"}),a.jsx("span",{className:"text-sm font-medium",children:((fe=E.medicationReminders)==null?void 0:fe.phoneNumber)??"N/A"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Methods"}),a.jsx("div",{className:"flex gap-1",children:(((Ae=E.medicationReminders)==null?void 0:Ae.methods)??[]).map(Me=>a.jsx("span",{className:"status-badge bg-green-100 text-green-800 text-xs",children:Me.toUpperCase()},Me))})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Health Check Reminders"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Enabled"}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:((Y=E.healthCheckReminders)==null?void 0:Y.enabled)??!1,onChange:Me=>te("healthCheckReminders",Me.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Frequency"}),a.jsx("span",{className:"text-sm font-medium capitalize",children:((Ce=E.healthCheckReminders)==null?void 0:Ce.frequency)??"N/A"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Time"}),a.jsx("span",{className:"text-sm font-medium",children:((qe=E.healthCheckReminders)==null?void 0:qe.time)??"N/A"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Methods"}),a.jsx("div",{className:"flex gap-1",children:(((be=E.healthCheckReminders)==null?void 0:be.methods)??[]).map(Me=>a.jsx("span",{className:"status-badge bg-purple-100 text-purple-800 text-xs",children:Me.toUpperCase()},Me))})]})]})]}),(je=E.emergencyContacts)!=null&&je.length?a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Emergency Contacts"}),a.jsx("div",{className:"space-y-2",children:E.emergencyContacts.map((Me,Ue)=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-sm",children:Me.name}),a.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",Me.relationship,")"]})]}),a.jsx("span",{className:"text-sm font-medium",children:Me.phone})]},Ue))})]}):null]})]})};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Phone Reminders"}),a.jsx("p",{className:"text-gray-600",children:"Manage appointment and medication reminders via phone calls and SMS"})]}),a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsxs("button",{onClick:()=>t("reminders"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="reminders"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Reminders (",$.length,")"]}),a.jsx("button",{onClick:()=>t("settings"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="settings"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Settings"})]})}),e==="reminders"?ue():q(),c&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Create Reminder"}),a.jsx("button",{onClick:()=>{u(!1),f(mg)},className:"text-gray-400 hover:text-gray-600",children:a.jsx(Vl,{className:"h-5 w-5"})})]}),a.jsxs("form",{onSubmit:G,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Patient"}),p?a.jsx("div",{className:"input-field text-gray-500",children:"Loading patients..."}):a.jsxs("select",{value:d.patientId,onChange:X=>{const Q=m.find(ne=>ne.id===X.target.value);f(ne=>({...ne,patientId:X.target.value,patientName:(Q==null?void 0:Q.name)||"",patientPhone:(Q==null?void 0:Q.phone)||""}))},className:"input-field",required:!0,children:[a.jsx("option",{value:"",children:"Select a patient"}),m.map(X=>a.jsxs("option",{value:X.id,children:[X.name," ",X.email?`(${X.email})`:""]},X.id))]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Phone"}),a.jsx("input",{type:"tel",value:d.patientPhone,onChange:X=>f(Q=>({...Q,patientPhone:X.target.value})),className:"input-field",placeholder:"Auto-filled from patient selection"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Type"}),a.jsxs("select",{value:d.type,onChange:X=>f(Q=>({...Q,type:X.target.value})),className:"input-field",required:!0,children:[a.jsx("option",{value:"appointment",children:"Appointment"}),a.jsx("option",{value:"medication",children:"Medication"}),a.jsx("option",{value:"health-check",children:"Health Check"}),a.jsx("option",{value:"follow-up",children:"Follow-up"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Title"}),a.jsx("input",{type:"text",value:d.title,onChange:X=>f(Q=>({...Q,title:X.target.value})),className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Message"}),a.jsx("textarea",{value:d.message,onChange:X=>f(Q=>({...Q,message:X.target.value})),className:"input-field",rows:4,required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Scheduled Time"}),a.jsx("input",{type:"datetime-local",value:d.scheduledTime,onChange:X=>f(Q=>({...Q,scheduledTime:X.target.value})),className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Method"}),a.jsxs("select",{value:d.method,onChange:X=>f(Q=>({...Q,method:X.target.value})),className:"input-field",required:!0,children:[a.jsx("option",{value:"sms",children:"SMS"}),a.jsx("option",{value:"call",children:"Call"}),a.jsx("option",{value:"both",children:"Both"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Priority"}),a.jsxs("select",{value:d.priority,onChange:X=>f(Q=>({...Q,priority:X.target.value})),className:"input-field",required:!0,children:[a.jsx("option",{value:"urgent",children:"Urgent"}),a.jsx("option",{value:"high",children:"High"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"low",children:"Low"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Max Attempts"}),a.jsx("input",{type:"number",min:1,max:5,value:d.maxAttempts??3,onChange:X=>f(Q=>({...Q,maxAttempts:Number(X.target.value)})),className:"input-field"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",className:"btn-outline",onClick:()=>{u(!1),f(mg)},children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:A.loading,children:A.loading?"Creating...":"Create Reminder"})]})]})]})})]})}const s1e={PENDING:"pending",COLLECTED:"collected",IN_TRANSIT:"in-transit",RECEIVED:"received",PROCESSING:"processing",COMPLETED:"completed",CANCELLED:"cancelled"},i1e={ROUTINE:"routine",URGENT:"urgent",STAT:"stat"},o1e={BLOOD:"blood",URINE:"urine",STOOL:"stool",SPUTUM:"sputum",TISSUE:"tissue",SWAB:"swab",OTHER:"other"},l1e={NORMAL:"normal",ABNORMAL:"abnormal",CRITICAL:"critical",PENDING:"pending"};function _M(e){var t;return{...e,status:l1e[(t=e.status)==null?void 0:t.toUpperCase()]??"pending",reportedDate:e.reportedDate?new Date(e.reportedDate).toISOString():e.reportedDate,verifiedDate:e.verifiedDate?new Date(e.verifiedDate).toISOString():e.verifiedDate}}function Qb(e){var t,r,n,s;return{...e,patientName:e.patientName??((t=e.patient)==null?void 0:t.name)??"Unknown Patient",sampleType:o1e[(r=e.sampleType)==null?void 0:r.toUpperCase()]??"other",status:s1e[(n=e.status)==null?void 0:n.toUpperCase()]??"pending",priority:i1e[(s=e.priority)==null?void 0:s.toUpperCase()]??"routine",results:e.results?e.results.map(_M):[],collectionDate:e.collectionDate?new Date(e.collectionDate).toISOString():e.collectionDate,createdAt:e.createdAt?new Date(e.createdAt).toISOString():e.createdAt,updatedAt:e.updatedAt?new Date(e.updatedAt).toISOString():e.updatedAt}}class c1e{async getLabSamples(t){const r=await me.get(xe.LAB.SAMPLES,{params:t});return Array.isArray(r.data)?r.data.map(Qb):[]}async getLabResults(t){const r=await me.get(xe.LAB.RESULTS,{params:t});return Array.isArray(r.data)?r.data.map(_M):[]}async collectSample(t){var n;const r=await me.post(xe.LAB.COLLECT,t);return Qb(((n=r.data)==null?void 0:n.data)||r.data)}async updateLabSample(t,r){var s;const n=await me.put(xe.LAB.SAMPLE_BY_ID(t),r);return Qb(((s=n.data)==null?void 0:s.data)||n.data)}async deleteLabSample(t){await me.delete(xe.LAB.SAMPLE_BY_ID(t))}}const e2=new c1e,u1e={DOCTOR:"doctor",NURSE:"nurse",SPECIALIST:"specialist"},d1e={SPECIALIST:"specialist",LAB:"lab",IMAGING:"imaging",THERAPY:"therapy",OTHER:"other"},f1e={CONSULTATION:"consultation",LAB_WORK:"lab-work",IMAGING:"imaging",THERAPY:"therapy",SURGERY:"surgery",FOLLOW_UP:"follow-up"},h1e={ROUTINE:"routine",URGENT:"urgent",EMERGENCY:"emergency"},m1e={PENDING:"pending",SENT:"sent",ACCEPTED:"accepted",SCHEDULED:"scheduled",COMPLETED:"completed",CANCELLED:"cancelled",DECLINED:"declined"};function Ju(e){var t,r,n,s,i,o;return{...e,patientName:e.patientName??((t=e.patient)==null?void 0:t.name)??"Unknown Patient",referredByRole:u1e[(r=e.referredByRole)==null?void 0:r.toUpperCase()]??"doctor",referredToRole:d1e[(n=e.referredToRole)==null?void 0:n.toUpperCase()]??"other",referralType:f1e[(s=e.referralType)==null?void 0:s.toUpperCase()]??"consultation",urgency:h1e[(i=e.urgency)==null?void 0:i.toUpperCase()]??"routine",status:m1e[(o=e.status)==null?void 0:o.toUpperCase()]??"pending",referralDate:e.referralDate?new Date(e.referralDate).toISOString():e.referralDate,appointmentDate:e.appointmentDate?new Date(e.appointmentDate).toISOString():e.appointmentDate,followUpDate:e.followUpDate?new Date(e.followUpDate).toISOString():e.followUpDate,createdAt:e.createdAt?new Date(e.createdAt).toISOString():e.createdAt,updatedAt:e.updatedAt?new Date(e.updatedAt).toISOString():e.updatedAt}}class p1e{async getReferrals(t){const r=await me.get(xe.REFERRALS.BASE,{params:t});return Array.isArray(r.data)?r.data.map(Ju):[]}async getReferralsByPatient(t){const r=await me.get(xe.REFERRALS.BY_PATIENT(t));return Array.isArray(r.data)?r.data.map(Ju):[]}async sendReferral(t){var n;const r=await me.post(xe.REFERRALS.SEND,t);return Ju(((n=r.data)==null?void 0:n.data)||r.data)}async updateReferral(t,r){var s;const n=await me.put(xe.REFERRALS.BY_ID(t),r);return Ju(((s=n.data)==null?void 0:s.data)||n.data)}async acceptReferral(t){var n;const r=await me.patch(xe.REFERRALS.ACCEPT(t));return Ju(((n=r.data)==null?void 0:n.data)||r.data)}async declineReferral(t){var n;const r=await me.patch(xe.REFERRALS.DECLINE(t));return Ju(((n=r.data)==null?void 0:n.data)||r.data)}async deleteReferral(t){await me.delete(xe.REFERRALS.BY_ID(t))}}const Dh=new p1e;function g1e({isOpen:e,onClose:t,record:r}){if(!e||!r)return null;const n=i=>i?new Date(i).toLocaleString():"",s=(i,o)=>{if(o==null||o==="")return null;let l;if(i==="bloodPressure"&&typeof o=="object"&&!Array.isArray(o)){const u=o;u.systolic!==void 0&&u.diastolic!==void 0?l=`${u.systolic}/${u.diastolic} mmHg`:u.systolic!==void 0?l=`Systolic: ${u.systolic} mmHg`:u.diastolic!==void 0?l=`Diastolic: ${u.diastolic} mmHg`:l=JSON.stringify(o,null,2)}else typeof o=="object"&&!Array.isArray(o)?l=JSON.stringify(o,null,2):Array.isArray(o)?l=o.join(", "):typeof o=="boolean"?l=o?"Yes":"No":l=String(o);const c=i.replace(/([A-Z])/g," $1").replace(/^./,u=>u.toUpperCase()).trim();return a.jsxs("div",{className:"flex flex-col gap-1 border-b border-gray-100 py-2 last:border-0",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600",children:c}),a.jsx("span",{className:"text-sm text-gray-900",children:l})]},i)};return a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),a.jsxs("div",{className:"relative w-full max-w-3xl rounded-lg bg-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Health Record Details"}),a.jsx("button",{onClick:t,className:"rounded-lg p-1 text-gray-400 hover:bg-gray-100 hover:text-gray-600",children:a.jsx(Dt,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"max-h-[calc(100vh-200px)] overflow-y-auto px-6 py-4",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yr,{className:"h-5 w-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Patient"}),a.jsx("p",{className:"font-medium text-gray-900",children:r.patientName})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Mt,{className:"h-5 w-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Date & Time"}),a.jsx("p",{className:"font-medium text-gray-900",children:n(r.timestamp)})]})]}),r.location&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(au,{className:"h-5 w-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Location"}),a.jsx("p",{className:"font-medium text-gray-900",children:r.location})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[r.verified?a.jsx($n,{className:"h-5 w-5 text-green-500"}):a.jsx(rr,{className:"h-5 w-5 text-yellow-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),a.jsx("p",{className:"font-medium text-gray-900",children:r.verified?"Verified":"Pending Verification"})]})]})]}),a.jsx("div",{className:"rounded-lg bg-gray-50 p-4",children:a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Record Type"}),a.jsx("p",{className:"mt-1 font-medium text-gray-900 capitalize",children:r.recordType})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Updated By"}),a.jsxs("p",{className:"mt-1 font-medium text-gray-900",children:[r.updatedByName," (",r.updatedByRole,")"]})]}),r.verified&&r.verifiedAt&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Verified At"}),a.jsx("p",{className:"mt-1 font-medium text-gray-900",children:n(r.verifiedAt)})]})]})}),a.jsxs("div",{className:"rounded-lg border border-gray-200 p-4",children:[a.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[a.jsx(Aa,{className:"h-5 w-5 text-gray-400"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Record Data"})]}),a.jsx("div",{className:"space-y-2",children:Object.entries(r.data||{}).map(([i,o])=>s(i,o))})]}),r.notes&&a.jsxs("div",{className:"rounded-lg bg-blue-50 p-4",children:[a.jsx("h3",{className:"mb-2 text-sm font-medium text-blue-900",children:"Notes"}),a.jsx("p",{className:"text-sm text-blue-800",children:r.notes})]})]})}),a.jsx("div",{className:"flex justify-end gap-3 border-t border-gray-200 px-6 py-4",children:a.jsx("button",{onClick:t,className:"btn-outline",children:"Close"})})]})]})})}const TC={vital:"Vital",medication:"Medication",symptom:"Symptom",note:"Note",assessment:"Assessment",treatment:"Treatment"},x1e={vital:"bg-green-100 text-green-800",medication:"bg-blue-100 text-blue-800",symptom:"bg-yellow-100 text-yellow-800",note:"bg-gray-100 text-gray-800",assessment:"bg-purple-100 text-purple-800",treatment:"bg-red-100 text-red-800"};function y1e(){const[e,t]=L.useState("records"),[r,n]=L.useState([]),[s,i]=L.useState(!1),[o,l]=L.useState(null),[c,u]=L.useState([]),[d,f]=L.useState(!1),[m,h]=L.useState(null),[p,y]=L.useState([]),[v,x]=L.useState(!1),[b,N]=L.useState(null),[w,S]=L.useState(!1),[_,T]=L.useState(null),[k,P]=L.useState(null),[D,A]=L.useState(!1),[I,$]=L.useState(!1),[E,M]=L.useState([]),[z,Z]=L.useState(!1),[R,U]=L.useState("all"),[re,de]=L.useState("all"),[B,G]=L.useState("all"),[te,ue]=L.useState(""),{addNotification:q}=Rr(),{user:X}=dr(),Q=(X==null?void 0:X.role)==="admin",ne=async()=>{i(!0),l(null);try{const{records:ye}=await ds.getHealthRecords({limit:50});n(ye)}catch(ye){console.error("Failed to load health records",ye),l((ye==null?void 0:ye.message)??"Unable to load health records.")}finally{i(!1)}},pe=async()=>{f(!0),h(null);try{const ye=await e2.getLabSamples({limit:20});u(ye)}catch(ye){console.error("Failed to load lab samples",ye),h((ye==null?void 0:ye.message)??"Unable to load lab samples.")}finally{f(!1)}},se=async()=>{x(!0),N(null);try{const ye=await Dh.getReferrals({limit:20});y(ye)}catch(ye){console.error("Failed to load referrals",ye),N((ye==null?void 0:ye.message)??"Unable to load referrals.")}finally{x(!1)}};L.useEffect(()=>{ne(),pe(),se()},[]),L.useEffect(()=>{(D||I)&&(async()=>{Z(!0);try{const{patients:Be}=await Mn.getPatients({limit:200,status:"active"});M(Be)}catch(Be){console.error("Failed to load patients",Be)}finally{Z(!1)}})()},[D,I]);const W=L.useMemo(()=>r.filter(ye=>{var Ft,At;const Be=R==="all"||ye.recordType===R,Je=re==="all"||ye.updatedByRole===re,Fe=B==="all"||B==="verified"&&ye.verified||B==="unverified"&&!ye.verified,Pt=((Ft=ye.patientName)==null?void 0:Ft.toLowerCase().includes(te.toLowerCase()))||((At=ye.updatedByName)==null?void 0:At.toLowerCase().includes(te.toLowerCase()));return Be&&Je&&Fe&&Pt}),[r,R,re,B,te]),fe=async ye=>{try{const{recordId:Be,...Je}=ye;await ds.createHealthRecord(Je),q({title:"Health record added",message:"A new health record has been added successfully.",type:"success",priority:"medium",userId:"system",category:"system"}),await ne()}catch(Be){throw q({title:"Unable to add record",message:Be instanceof Error?Be.message:"Please try again later.",type:"error",priority:"high",userId:"system",category:"system"}),Be}},Ae=async ye=>{if(ye.recordId)try{await ds.updateHealthRecord(ye.recordId,{recordType:ye.recordType,data:ye.data,location:ye.location,notes:ye.notes}),q({title:"Health record updated",message:"The health record has been updated.",type:"success",priority:"medium",userId:"system",category:"system"}),await ne()}catch(Be){throw q({title:"Unable to update record",message:Be instanceof Error?Be.message:"Please try again later.",type:"error",priority:"high",userId:"system",category:"system"}),Be}},Y=async ye=>{if(window.confirm("Delete this health record?"))try{await ds.deleteHealthRecord(ye.id),q({title:"Health record removed",message:"The health record has been deleted.",type:"info",priority:"medium",userId:"system",category:"system"}),await ne()}catch(Be){q({title:"Unable to delete record",message:Be instanceof Error?Be.message:"Please try again later.",type:"error",priority:"high",userId:"system",category:"system"})}},Ce=async ye=>{const Be={verified:!0};try{await ds.verifyRecord(ye.id,Be),q({title:"Health record verified",message:"The record has been marked as verified.",type:"success",priority:"medium",userId:"system",category:"system"}),await ne()}catch(Je){q({title:"Unable to verify record",message:Je instanceof Error?Je.message:"Please try again later.",type:"error",priority:"high",userId:"system",category:"system"})}},qe=async ye=>{var Be,Je;try{await e2.collectSample(ye),Te.success("Lab sample collected successfully"),q({title:"Lab sample collected",message:"The lab sample has been recorded successfully.",type:"success",priority:"medium",userId:"system",category:"system"}),await pe(),A(!1)}catch(Fe){const Pt=((Je=(Be=Fe==null?void 0:Fe.response)==null?void 0:Be.data)==null?void 0:Je.message)||(Fe==null?void 0:Fe.message)||"Failed to collect lab sample";throw Te.error(Pt),q({title:"Unable to collect lab sample",message:Pt,type:"error",priority:"high",userId:"system",category:"system"}),Fe}},be=async ye=>{var Be,Je;try{await Dh.sendReferral(ye),Te.success("Referral sent successfully"),q({title:"Referral sent",message:"The referral has been sent successfully.",type:"success",priority:"medium",userId:"system",category:"system"}),await se(),$(!1)}catch(Fe){const Pt=((Je=(Be=Fe==null?void 0:Fe.response)==null?void 0:Be.data)==null?void 0:Je.message)||(Fe==null?void 0:Fe.message)||"Failed to send referral";throw Te.error(Pt),q({title:"Unable to send referral",message:Pt,type:"error",priority:"high",userId:"system",category:"system"}),Fe}},je=ye=>{alert(`Lab Sample Details:

Patient: ${ye.patientName}
Test: ${ye.testName} (${ye.testCode})
Type: ${ye.sampleType}
Status: ${ye.status}
Priority: ${ye.priority}
Collection Date: ${new Date(ye.collectionDate).toLocaleDateString()} ${ye.collectionTime}
Location: ${ye.collectionLocation||"N/A"}`)},Me=ye=>{alert("Edit functionality will be implemented with a modal")},Ue=async ye=>{var Be,Je;if(window.confirm("Delete this lab sample?"))try{await e2.deleteLabSample(ye.id),Te.success("Lab sample deleted successfully"),q({title:"Lab sample deleted",message:"The lab sample has been deleted.",type:"info",priority:"medium",userId:"system",category:"system"}),await pe()}catch(Fe){const Pt=((Je=(Be=Fe==null?void 0:Fe.response)==null?void 0:Be.data)==null?void 0:Je.message)||(Fe==null?void 0:Fe.message)||"Failed to delete lab sample";Te.error(Pt),q({title:"Unable to delete lab sample",message:Pt,type:"error",priority:"high",userId:"system",category:"system"})}},Ge=ye=>{alert(`Referral Details:

Patient: ${ye.patientName}
Type: ${ye.referralType}
Referred By: ${ye.referredByName} (${ye.referredByRole})
Referred To: ${ye.referredToName} (${ye.referredToRole})
Reason: ${ye.reason}
Status: ${ye.status}
Urgency: ${ye.urgency}`)},We=ye=>{alert("Edit functionality will be implemented with a modal")},Et=async ye=>{var Be,Je;try{await Dh.acceptReferral(ye.id),Te.success("Referral accepted successfully"),q({title:"Referral accepted",message:"The referral has been accepted.",type:"success",priority:"medium",userId:"system",category:"system"}),await se()}catch(Fe){const Pt=((Je=(Be=Fe==null?void 0:Fe.response)==null?void 0:Be.data)==null?void 0:Je.message)||(Fe==null?void 0:Fe.message)||"Failed to accept referral";Te.error(Pt),q({title:"Unable to accept referral",message:Pt,type:"error",priority:"high",userId:"system",category:"system"})}},pt=async ye=>{var Be,Je;if(window.confirm("Decline this referral?"))try{await Dh.declineReferral(ye.id),Te.success("Referral declined successfully"),q({title:"Referral declined",message:"The referral has been declined.",type:"info",priority:"medium",userId:"system",category:"system"}),await se()}catch(Fe){const Pt=((Je=(Be=Fe==null?void 0:Fe.response)==null?void 0:Be.data)==null?void 0:Je.message)||(Fe==null?void 0:Fe.message)||"Failed to decline referral";Te.error(Pt),q({title:"Unable to decline referral",message:Pt,type:"error",priority:"high",userId:"system",category:"system"})}},vt=async ye=>{var Be,Je;if(window.confirm("Delete this referral?"))try{await Dh.deleteReferral(ye.id),Te.success("Referral deleted successfully"),q({title:"Referral deleted",message:"The referral has been deleted.",type:"info",priority:"medium",userId:"system",category:"system"}),await se()}catch(Fe){const Pt=((Je=(Be=Fe==null?void 0:Fe.response)==null?void 0:Be.data)==null?void 0:Je.message)||(Fe==null?void 0:Fe.message)||"Failed to delete referral";Te.error(Pt),q({title:"Unable to delete referral",message:Pt,type:"error",priority:"high",userId:"system",category:"system"})}},$t=ye=>{switch(ye){case"patient":return a.jsx(Yr,{className:"h-4 w-4 text-blue-500"});case"nurse":return a.jsx(zd,{className:"h-4 w-4 text-green-500"});case"doctor":return a.jsx(Wc,{className:"h-4 w-4 text-red-500"});case"caregiver":return a.jsx(Yr,{className:"h-4 w-4 text-purple-500"});case"specialist":return a.jsx(Ls,{className:"h-4 w-4 text-orange-500"});default:return a.jsx(Yr,{className:"h-4 w-4 text-gray-500"})}};return a.jsxs("div",{className:"space-y-6 p-6",children:[a.jsxs("header",{className:"flex flex-col gap-3 border-b border-gray-200 pb-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Clinical Documentation"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Comprehensive patient health records, assessments, lab samples, and clinical referrals."})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{className:"btn-outline text-sm",onClick:ne,disabled:s,children:"Refresh"}),e==="records"&&a.jsxs("button",{className:"btn-primary flex items-center",onClick:()=>S(!0),children:[a.jsx(zt,{className:"mr-2 h-4 w-4"}),"Add record"]})]})]}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:[a.jsxs("button",{onClick:()=>t("records"),className:`whitespace-nowrap border-b-2 px-1 py-2 text-sm font-medium ${e==="records"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,children:["Health records (",r.length,")"]}),a.jsxs("button",{onClick:()=>t("labs"),className:`whitespace-nowrap border-b-2 px-1 py-2 text-sm font-medium ${e==="labs"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,children:["Lab samples (",c.length,")"]}),a.jsxs("button",{onClick:()=>t("referrals"),className:`whitespace-nowrap border-b-2 px-1 py-2 text-sm font-medium ${e==="referrals"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,children:["Referrals (",p.length,")"]})]})}),e==="records"&&a.jsxs("section",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"relative",children:[a.jsx(Fr,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",value:te,onChange:ye=>ue(ye.target.value),placeholder:"Search by patient or author...",className:"input-field pl-10"})]})}),a.jsxs("select",{className:"input-field",value:R,onChange:ye=>U(ye.target.value),children:[a.jsx("option",{value:"all",children:"All record types"}),Object.entries(TC).map(([ye,Be])=>a.jsx("option",{value:ye,children:Be},ye))]}),a.jsxs("select",{className:"input-field",value:B,onChange:ye=>G(ye.target.value),children:[a.jsx("option",{value:"all",children:"All statuses"}),a.jsx("option",{value:"verified",children:"Verified"}),a.jsx("option",{value:"unverified",children:"Unverified"})]})]}),s?a.jsx("div",{className:"rounded-lg border border-dashed border-gray-200 p-10 text-center text-sm text-gray-500",children:"Loading health records..."}):o?a.jsx("div",{className:"rounded-lg border border-dashed border-red-200 bg-red-50 p-10 text-center text-sm text-red-600",children:o}):W.length===0?a.jsx("div",{className:"rounded-lg border border-dashed border-gray-200 p-10 text-center text-sm text-gray-500",children:"No records match your filters."}):a.jsx("div",{className:"card",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Patient"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Record Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Updated By"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Date & Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Location"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:W.map(ye=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Yr,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm font-medium text-gray-900",children:ye.patientName})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`status-badge ${x1e[ye.recordType]??"bg-gray-100 text-gray-800"}`,children:TC[ye.recordType]??ye.recordType})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[$t(ye.updatedByRole),a.jsxs("div",{className:"ml-2",children:[a.jsx("div",{className:"text-sm text-gray-900",children:ye.updatedByName}),a.jsx("div",{className:"text-xs text-gray-500 capitalize",children:ye.updatedByRole})]})]})}),a.jsxs("td",{className:"whitespace-nowrap px-6 py-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mt,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm text-gray-900",children:new Date(ye.timestamp).toLocaleDateString()})]}),a.jsx("div",{className:"text-xs text-gray-500",children:new Date(ye.timestamp).toLocaleTimeString()})]}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:ye.location?a.jsxs("div",{className:"flex items-center",children:[a.jsx(au,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm text-gray-900",children:ye.location})]}):a.jsx("span",{className:"text-sm text-gray-400",children:""})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:ye.verified?a.jsxs("span",{className:"inline-flex items-center rounded-full bg-green-100 px-2 py-1 text-xs font-medium text-green-700",children:[a.jsx($n,{className:"mr-1 h-3 w-3"}),"Verified"]}):a.jsxs("span",{className:"inline-flex items-center rounded-full bg-yellow-100 px-2 py-1 text-xs font-medium text-yellow-700",children:[a.jsx(rr,{className:"mr-1 h-3 w-3"}),"Pending"]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:()=>P(ye),className:"text-primary-600 hover:text-primary-900",children:[a.jsx(Ln,{className:"mr-1 inline h-4 w-4"}),"View"]}),Q&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>T(ye),className:"text-secondary-600 hover:text-secondary-900",children:[a.jsx(Fn,{className:"mr-1 inline h-4 w-4"}),"Edit"]}),!ye.verified&&a.jsxs("button",{onClick:()=>Ce(ye),className:"text-green-600 hover:text-green-900",children:[a.jsx($n,{className:"mr-1 inline h-4 w-4"}),"Verify"]}),a.jsxs("button",{onClick:()=>Y(ye),className:"text-red-600 hover:text-red-900",children:[a.jsx(Ur,{className:"mr-1 inline h-4 w-4"}),"Delete"]})]})]})})]},ye.id))})]})})})]}),e==="labs"&&a.jsxs("section",{className:"space-y-4",children:[a.jsx("div",{className:"flex justify-end mb-4",children:a.jsxs("button",{onClick:()=>A(!0),className:"btn-primary flex items-center",children:[a.jsx(zt,{className:"mr-2 h-4 w-4"}),"Add Lab Sample"]})}),d?a.jsx("div",{className:"rounded-lg border border-dashed border-gray-200 p-10 text-center text-sm text-gray-500",children:"Loading lab samples..."}):m?a.jsx("div",{className:"rounded-lg border border-dashed border-red-200 bg-red-50 p-10 text-center text-sm text-red-600",children:m}):c.length===0?a.jsx("div",{className:"rounded-lg border border-dashed border-gray-200 p-10 text-center text-sm text-gray-500",children:"No lab samples available."}):a.jsx("div",{className:"card",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Patient"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Test Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Test Code"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Sample Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Collection Date & Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Location"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Priority"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:c.map(ye=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Yr,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm font-medium text-gray-900",children:ye.patientName})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Li,{className:"mr-2 h-4 w-4 text-blue-500"}),a.jsx("div",{className:"text-sm text-gray-900",children:ye.testName})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-900",children:ye.testCode}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:"status-badge bg-gray-100 text-gray-800 capitalize",children:ye.sampleType})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mt,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-900",children:new Date(ye.collectionDate).toLocaleDateString()}),a.jsx("div",{className:"text-xs text-gray-500",children:ye.collectionTime})]})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:ye.collectionLocation?a.jsxs("div",{className:"flex items-center",children:[a.jsx(au,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm text-gray-900",children:ye.collectionLocation})]}):a.jsx("span",{className:"text-sm text-gray-400",children:""})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`status-badge ${ye.priority==="urgent"?"bg-orange-100 text-orange-800":ye.priority==="stat"?"bg-red-100 text-red-800":"bg-purple-100 text-purple-800"} capitalize`,children:ye.priority})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${ye.status==="completed"?"bg-green-100 text-green-700":ye.status==="cancelled"?"bg-red-100 text-red-700":ye.status==="processing"||ye.status==="in-transit"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"} capitalize`,children:ye.status.replace("-"," ")})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:()=>je(ye),className:"text-primary-600 hover:text-primary-900",children:[a.jsx(Ln,{className:"mr-1 inline h-4 w-4"}),"View"]}),a.jsxs("button",{onClick:()=>Me(),className:"text-secondary-600 hover:text-secondary-900",children:[a.jsx(Fn,{className:"mr-1 inline h-4 w-4"}),"Edit"]}),a.jsxs("button",{onClick:()=>Ue(ye),className:"text-red-600 hover:text-red-900",children:[a.jsx(Ur,{className:"mr-1 inline h-4 w-4"}),"Delete"]})]})})]},ye.id))})]})})})]}),e==="referrals"&&a.jsxs("section",{className:"space-y-4",children:[a.jsx("div",{className:"flex justify-end mb-4",children:a.jsxs("button",{onClick:()=>$(!0),className:"btn-primary flex items-center",children:[a.jsx(zt,{className:"mr-2 h-4 w-4"}),"Add Referral"]})}),v?a.jsx("div",{className:"rounded-lg border border-dashed border-gray-200 p-10 text-center text-sm text-gray-500",children:"Loading referrals..."}):b?a.jsx("div",{className:"rounded-lg border border-dashed border-red-200 bg-red-50 p-10 text-center text-sm text-red-600",children:b}):p.length===0?a.jsx("div",{className:"rounded-lg border border-dashed border-gray-200 p-10 text-center text-sm text-gray-500",children:"No referrals recorded."}):a.jsx("div",{className:"card",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Patient"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Referral Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Referred By"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Referred To"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Referral Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Urgency"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:p.map(ye=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Yr,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm font-medium text-gray-900",children:ye.patientName})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(CF,{className:"mr-2 h-4 w-4 text-green-500"}),a.jsx("span",{className:"text-sm text-gray-900 capitalize",children:ye.referralType.replace("-"," ")})]})}),a.jsxs("td",{className:"whitespace-nowrap px-6 py-4",children:[a.jsx("div",{className:"text-sm text-gray-900",children:ye.referredByName}),a.jsx("div",{className:"text-xs text-gray-500 capitalize",children:ye.referredByRole})]}),a.jsxs("td",{className:"whitespace-nowrap px-6 py-4",children:[a.jsx("div",{className:"text-sm text-gray-900",children:ye.referredToName}),a.jsx("div",{className:"text-xs text-gray-500 capitalize",children:ye.referredToRole})]}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:ye.referralDate?a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mt,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm text-gray-900",children:new Date(ye.referralDate).toLocaleDateString()})]}):a.jsx("span",{className:"text-sm text-gray-400",children:""})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`status-badge ${ye.urgency==="emergency"?"bg-red-100 text-red-800":ye.urgency==="urgent"?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"} capitalize`,children:ye.urgency})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${ye.status==="completed"?"bg-green-100 text-green-700":ye.status==="cancelled"||ye.status==="declined"?"bg-red-100 text-red-700":ye.status==="accepted"||ye.status==="scheduled"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"} capitalize`,children:ye.status.replace("-"," ")})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:()=>Ge(ye),className:"text-primary-600 hover:text-primary-900",children:[a.jsx(Ln,{className:"mr-1 inline h-4 w-4"}),"View"]}),a.jsxs("button",{onClick:()=>We(),className:"text-secondary-600 hover:text-secondary-900",children:[a.jsx(Fn,{className:"mr-1 inline h-4 w-4"}),"Edit"]}),ye.status==="pending"||ye.status==="sent"?a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>Et(ye),className:"text-green-600 hover:text-green-900",children:[a.jsx($n,{className:"mr-1 inline h-4 w-4"}),"Accept"]}),a.jsxs("button",{onClick:()=>pt(ye),className:"text-orange-600 hover:text-orange-900",children:[a.jsx(Dt,{className:"mr-1 inline h-4 w-4"}),"Decline"]})]}):null,a.jsxs("button",{onClick:()=>vt(ye),className:"text-red-600 hover:text-red-900",children:[a.jsx(Ur,{className:"mr-1 inline h-4 w-4"}),"Delete"]})]})})]},ye.id))})]})})})]}),a.jsx(qN,{isOpen:w,onClose:()=>S(!1),onSave:fe,mode:"add"}),a.jsx(qN,{isOpen:!!_,onClose:()=>T(null),onSave:Ae,record:_??void 0,mode:"edit"}),a.jsx(g1e,{isOpen:!!k,onClose:()=>P(null),record:k}),D&&a.jsx(v1e,{isOpen:D,onClose:()=>A(!1),onSave:qe,patients:E,loadingPatients:z,currentUser:X}),I&&a.jsx(b1e,{isOpen:I,onClose:()=>$(!1),onSave:be,patients:E,loadingPatients:z,currentUser:X})]})}function v1e({isOpen:e,onClose:t,onSave:r,patients:n,loadingPatients:s,currentUser:i}){const[o,l]=L.useState({patientId:"",sampleType:"BLOOD",testName:"",testCode:"",collectionDate:new Date().toISOString().split("T")[0],collectionTime:new Date().toTimeString().slice(0,5),collectedBy:(i==null?void 0:i.id)||"",collectionLocation:"",priority:"ROUTINE",instructions:"",fastingRequired:!1,fastingHours:void 0,specialInstructions:"",labName:"",notes:""}),[c,u]=L.useState(!1),[d,f]=L.useState(null);if(L.useEffect(()=>{e||(l({patientId:"",sampleType:"BLOOD",testName:"",testCode:"",collectionDate:new Date().toISOString().split("T")[0],collectionTime:new Date().toTimeString().slice(0,5),collectedBy:(i==null?void 0:i.id)||"",collectionLocation:"",priority:"ROUTINE",instructions:"",fastingRequired:!1,fastingHours:void 0,specialInstructions:"",labName:"",notes:""}),f(null))},[e,i]),!e)return null;const m=async h=>{h.preventDefault(),u(!0),f(null);try{await r(o)}catch{}finally{u(!1)}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsxs("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-xl bg-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b px-6 py-4 sticky top-0 bg-white z-10",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Collect Lab Sample"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Record a new lab sample collection"})]}),a.jsx("button",{type:"button",className:"rounded-full p-2 text-gray-400 transition hover:bg-gray-100 hover:text-gray-600",onClick:t,"aria-label":"Close",children:a.jsx(Dt,{className:"h-5 w-5"})})]}),a.jsxs("form",{onSubmit:m,className:"space-y-6 px-6 py-6",children:[d&&a.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:d}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient *"}),a.jsxs("select",{value:o.patientId,onChange:h=>l({...o,patientId:h.target.value}),required:!0,className:"input-field",disabled:c||s,children:[a.jsx("option",{value:"",children:"Select patient"}),n.map(h=>a.jsx("option",{value:h.id,children:h.name},h.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sample Type *"}),a.jsxs("select",{value:o.sampleType,onChange:h=>l({...o,sampleType:h.target.value}),required:!0,className:"input-field",disabled:c,children:[a.jsx("option",{value:"BLOOD",children:"Blood"}),a.jsx("option",{value:"URINE",children:"Urine"}),a.jsx("option",{value:"STOOL",children:"Stool"}),a.jsx("option",{value:"SPUTUM",children:"Sputum"}),a.jsx("option",{value:"TISSUE",children:"Tissue"}),a.jsx("option",{value:"SWAB",children:"Swab"}),a.jsx("option",{value:"OTHER",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Test Name *"}),a.jsx("input",{type:"text",value:o.testName,onChange:h=>l({...o,testName:h.target.value}),required:!0,className:"input-field",placeholder:"e.g., Complete Blood Count",disabled:c})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Test Code *"}),a.jsx("input",{type:"text",value:o.testCode,onChange:h=>l({...o,testCode:h.target.value}),required:!0,className:"input-field",placeholder:"e.g., CBC-001",disabled:c})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Collection Date *"}),a.jsx("input",{type:"date",value:o.collectionDate,onChange:h=>l({...o,collectionDate:h.target.value}),required:!0,className:"input-field",disabled:c})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Collection Time *"}),a.jsx("input",{type:"time",value:o.collectionTime,onChange:h=>l({...o,collectionTime:h.target.value}),required:!0,className:"input-field",disabled:c})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Collection Location *"}),a.jsx("input",{type:"text",value:o.collectionLocation,onChange:h=>l({...o,collectionLocation:h.target.value}),required:!0,className:"input-field",placeholder:"e.g., Home, Clinic",disabled:c})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),a.jsxs("select",{value:o.priority,onChange:h=>l({...o,priority:h.target.value}),className:"input-field",disabled:c,children:[a.jsx("option",{value:"ROUTINE",children:"Routine"}),a.jsx("option",{value:"URGENT",children:"Urgent"}),a.jsx("option",{value:"STAT",children:"Stat"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instructions *"}),a.jsx("textarea",{value:o.instructions,onChange:h=>l({...o,instructions:h.target.value}),required:!0,rows:3,className:"input-field",placeholder:"Collection instructions...",disabled:c})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"fastingRequired",checked:o.fastingRequired,onChange:h=>l({...o,fastingRequired:h.target.checked}),className:"mr-2",disabled:c}),a.jsx("label",{htmlFor:"fastingRequired",className:"text-sm text-gray-700",children:"Fasting Required"})]}),o.fastingRequired&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fasting Hours"}),a.jsx("input",{type:"number",value:o.fastingHours||"",onChange:h=>l({...o,fastingHours:h.target.value?Number(h.target.value):void 0}),className:"input-field",placeholder:"Hours",min:0,disabled:c})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions"}),a.jsx("textarea",{value:o.specialInstructions,onChange:h=>l({...o,specialInstructions:h.target.value}),rows:2,className:"input-field",placeholder:"Any special handling instructions...",disabled:c})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lab Name"}),a.jsx("input",{type:"text",value:o.labName,onChange:h=>l({...o,labName:h.target.value}),className:"input-field",placeholder:"Lab facility name",disabled:c})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),a.jsx("textarea",{value:o.notes,onChange:h=>l({...o,notes:h.target.value}),rows:2,className:"input-field",placeholder:"Additional notes...",disabled:c})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-outline",disabled:c,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:c,children:c?"Saving...":"Collect Sample"})]})]})]})})}function b1e({isOpen:e,onClose:t,onSave:r,patients:n,loadingPatients:s,currentUser:i}){const o=p=>{if(!p)return"DOCTOR";const y=p.toUpperCase();return y==="DOCTOR"||y==="NURSE"||y==="SPECIALIST"?y:p==="doctor"?"DOCTOR":p==="nurse"?"NURSE":p==="specialist"?"SPECIALIST":"DOCTOR"},[l,c]=L.useState({patientId:"",referredBy:(i==null?void 0:i.id)||"",referredByName:(i==null?void 0:i.name)||"",referredByRole:o(i==null?void 0:i.role),referredTo:"",referredToName:"",referredToRole:"SPECIALIST",referralType:"CONSULTATION",reason:"",urgency:"ROUTINE",followUpRequired:!1}),[u,d]=L.useState(!1),[f,m]=L.useState(null);if(L.useEffect(()=>{e||(c({patientId:"",referredBy:(i==null?void 0:i.id)||"",referredByName:(i==null?void 0:i.name)||"",referredByRole:o(i==null?void 0:i.role),referredTo:"",referredToName:"",referredToRole:"SPECIALIST",referralType:"CONSULTATION",reason:"",urgency:"ROUTINE",followUpRequired:!1}),m(null))},[e,i]),!e)return null;const h=async p=>{p.preventDefault(),d(!0),m(null);try{await r(l)}catch{}finally{d(!1)}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsxs("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-xl bg-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b px-6 py-4 sticky top-0 bg-white z-10",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Send Referral"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Create a new patient referral"})]}),a.jsx("button",{type:"button",className:"rounded-full p-2 text-gray-400 transition hover:bg-gray-100 hover:text-gray-600",onClick:t,"aria-label":"Close",children:a.jsx(Dt,{className:"h-5 w-5"})})]}),a.jsxs("form",{onSubmit:h,className:"space-y-6 px-6 py-6",children:[f&&a.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:f}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient *"}),a.jsxs("select",{value:l.patientId,onChange:p=>c({...l,patientId:p.target.value}),required:!0,className:"input-field",disabled:u||s,children:[a.jsx("option",{value:"",children:"Select patient"}),n.map(p=>a.jsx("option",{value:p.id,children:p.name},p.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Referral Type *"}),a.jsxs("select",{value:l.referralType,onChange:p=>c({...l,referralType:p.target.value}),required:!0,className:"input-field",disabled:u,children:[a.jsx("option",{value:"CONSULTATION",children:"Consultation"}),a.jsx("option",{value:"LAB_WORK",children:"Lab Work"}),a.jsx("option",{value:"IMAGING",children:"Imaging"}),a.jsx("option",{value:"THERAPY",children:"Therapy"}),a.jsx("option",{value:"SURGERY",children:"Surgery"}),a.jsx("option",{value:"FOLLOW_UP",children:"Follow-up"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Referred By Role *"}),a.jsxs("select",{value:l.referredByRole,onChange:p=>c({...l,referredByRole:p.target.value}),required:!0,className:"input-field",disabled:u,children:[a.jsx("option",{value:"DOCTOR",children:"Doctor"}),a.jsx("option",{value:"NURSE",children:"Nurse"}),a.jsx("option",{value:"SPECIALIST",children:"Specialist"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Referred To Role *"}),a.jsxs("select",{value:l.referredToRole,onChange:p=>c({...l,referredToRole:p.target.value}),required:!0,className:"input-field",disabled:u,children:[a.jsx("option",{value:"SPECIALIST",children:"Specialist"}),a.jsx("option",{value:"LAB",children:"Lab"}),a.jsx("option",{value:"IMAGING",children:"Imaging"}),a.jsx("option",{value:"THERAPY",children:"Therapy"}),a.jsx("option",{value:"OTHER",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Referred To Name *"}),a.jsx("input",{type:"text",value:l.referredToName,onChange:p=>c({...l,referredToName:p.target.value}),required:!0,className:"input-field",placeholder:"Name of provider/facility",disabled:u})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Referred To ID"}),a.jsx("input",{type:"text",value:l.referredTo,onChange:p=>c({...l,referredTo:p.target.value}),className:"input-field",placeholder:"Provider ID (optional)",disabled:u})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Urgency"}),a.jsxs("select",{value:l.urgency,onChange:p=>c({...l,urgency:p.target.value}),className:"input-field",disabled:u,children:[a.jsx("option",{value:"ROUTINE",children:"Routine"}),a.jsx("option",{value:"URGENT",children:"Urgent"}),a.jsx("option",{value:"EMERGENCY",children:"Emergency"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for Referral *"}),a.jsx("textarea",{value:l.reason,onChange:p=>c({...l,reason:p.target.value}),required:!0,rows:3,className:"input-field",placeholder:"Describe the reason for this referral...",disabled:u})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Appointment Date"}),a.jsx("input",{type:"date",value:l.appointmentDate||"",onChange:p=>c({...l,appointmentDate:p.target.value||void 0}),className:"input-field",disabled:u})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Appointment Time"}),a.jsx("input",{type:"time",value:l.appointmentTime||"",onChange:p=>c({...l,appointmentTime:p.target.value||void 0}),className:"input-field",disabled:u})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),a.jsx("input",{type:"text",value:l.location||"",onChange:p=>c({...l,location:p.target.value||void 0}),className:"input-field",placeholder:"Facility location",disabled:u})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Info"}),a.jsx("input",{type:"text",value:l.contactInfo||"",onChange:p=>c({...l,contactInfo:p.target.value||void 0}),className:"input-field",placeholder:"Phone or email",disabled:u})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specialty"}),a.jsx("input",{type:"text",value:l.specialty||"",onChange:p=>c({...l,specialty:p.target.value||void 0}),className:"input-field",placeholder:"e.g., Cardiology, Neurology",disabled:u})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"followUpRequired",checked:l.followUpRequired,onChange:p=>c({...l,followUpRequired:p.target.checked}),className:"mr-2",disabled:u}),a.jsx("label",{htmlFor:"followUpRequired",className:"text-sm text-gray-700",children:"Follow-up Required"})]}),l.followUpRequired&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Follow-up Date"}),a.jsx("input",{type:"date",value:l.followUpDate||"",onChange:p=>c({...l,followUpDate:p.target.value||void 0}),className:"input-field",disabled:u})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),a.jsx("textarea",{value:l.notes||"",onChange:p=>c({...l,notes:p.target.value||void 0}),rows:2,className:"input-field",placeholder:"Additional notes...",disabled:u})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-outline",disabled:u,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:u,children:u?"Sending...":"Send Referral"})]})]})]})})}function w1e(){const[e,t]=L.useState(""),[r,n]=L.useState("all"),{data:s,loading:i}=st(()=>Mn.getPatients({limit:500}),[]),{data:o,loading:l}=st(()=>Mi.getServices({limit:500}),[]),{data:c,loading:u}=st(()=>ei.getInvoices({limit:500,status:"all"}),[]),[d,f]=L.useState(null),m=(s==null?void 0:s.patients)??[],h=(o==null?void 0:o.services)??[],p=(c==null?void 0:c.invoices)??[],y=L.useMemo(()=>m.filter(N=>p.some(w=>w.patientId===N.id)).map(N=>{const w=p.filter(A=>A.patientId===N.id),S=w.reduce((A,I)=>A+Number(I.amount),0),_=w.filter(A=>A.status==="paid").reduce((A,I)=>A+Number(I.amount),0),T=S-_,k=N.serviceIds||[],P=h.filter(A=>k.includes(A.id)),D=w.filter(A=>(A.serviceName||A.description||"").toLowerCase().includes("consultation")).reduce((A,I)=>A+Number(I.amount),0);return{patient:N,services:P,assignmentFeeUgx:D,totalAmount:S,paidAmount:_,pendingAmount:T,invoices:w}}),[m,h,p]),v=L.useMemo(()=>y.filter(N=>{var _;const w=N.patient.name.toLowerCase().includes(e.toLowerCase())||((_=N.patient.email)==null?void 0:_.toLowerCase().includes(e.toLowerCase()))||N.patient.phone.toLowerCase().includes(e.toLowerCase());let S=!0;return r==="pending"?S=N.pendingAmount>0:r==="paid"?S=N.pendingAmount===0&&N.totalAmount>0:r==="overdue"&&(S=N.invoices.some(T=>T.status==="overdue")),w&&S}),[y,e,r]),x=L.useMemo(()=>{const N=y.length,w=y.reduce((k,P)=>k+P.totalAmount,0),S=y.reduce((k,P)=>k+P.paidAmount,0),_=y.reduce((k,P)=>k+P.pendingAmount,0),T=y.filter(k=>k.invoices.some(P=>P.status==="overdue")).length;return{totalPatients:N,totalRevenue:w,totalPaid:S,totalPending:_,overdueCount:T}},[y]);return i||l||u?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Biller Dashboard"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage patient bills: services and consultation fees (specialist/therapist assignments)"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[a.jsx("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Patients"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:x.totalPatients})]}),a.jsx("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(Ua,{className:"h-6 w-6 text-blue-600"})})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:[x.totalRevenue.toLocaleString()," UGX"]})]}),a.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx(Sa,{className:"h-6 w-6 text-green-600"})})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Paid Amount"}),a.jsxs("p",{className:"text-2xl font-bold text-green-600 mt-1",children:[x.totalPaid.toLocaleString()," UGX"]})]}),a.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx($n,{className:"h-6 w-6 text-green-600"})})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Amount"}),a.jsxs("p",{className:"text-2xl font-bold text-yellow-600 mt-1",children:[x.totalPending.toLocaleString()," UGX"]})]}),a.jsx("div",{className:"h-12 w-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:a.jsx(rr,{className:"h-6 w-6 text-yellow-600"})})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue Bills"}),a.jsx("p",{className:"text-2xl font-bold text-red-600 mt-1",children:x.overdueCount})]}),a.jsx("div",{className:"h-12 w-12 bg-red-100 rounded-lg flex items-center justify-center",children:a.jsx(Bo,{className:"h-6 w-6 text-red-600"})})]})})]}),a.jsx("div",{className:"bg-white rounded-lg shadow p-4 border border-gray-200",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search patients by name, email, or phone...",value:e,onChange:N=>t(N.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),a.jsx("div",{className:"md:w-48",children:a.jsxs("select",{value:r,onChange:N=>n(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"paid",children:"Paid"}),a.jsx("option",{value:"overdue",children:"Overdue"})]})})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200 overflow-hidden",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Patient Bills"}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[v.length," ",v.length===1?"patient":"patients"," found"]})]}),v.length===0?a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(Aa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 font-medium",children:"No patient bills found"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e||r!=="all"?"Try adjusting your search or filter criteria":"Patients with invoices (consultation or services) will appear here"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-10",children:" "}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Patient"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice lines"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paid"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pending"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(N=>{const w=N.invoices.some(T=>T.status==="overdue"),S=N.pendingAmount===0&&N.totalAmount>0;N.pendingAmount>0;const _=d===N.patient.id;return a.jsxs(L.Fragment,{children:[a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-2 py-4 whitespace-nowrap",children:a.jsx("button",{type:"button",onClick:()=>f(T=>T===N.patient.id?null:N.patient.id),className:"p-1 rounded hover:bg-gray-100 text-gray-500","aria-label":_?"Collapse details":"Expand invoice details",children:_?a.jsx(OF,{className:"h-5 w-5"}):a.jsx(IF,{className:"h-5 w-5"})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.patient.name}),a.jsx("div",{className:"text-sm text-gray-500",children:N.patient.email}),a.jsx("div",{className:"text-xs text-gray-400",children:N.patient.phone})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"text-sm text-gray-900",children:[N.invoices.length," ",N.invoices.length===1?"line":"lines",N.assignmentFeeUgx>0&&a.jsxs("span",{className:"text-xs text-gray-600 block mt-0.5",children:["(incl. ",N.assignmentFeeUgx.toLocaleString()," UGX consultation)"]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[N.totalAmount.toLocaleString()," UGX"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm text-green-600 font-medium",children:[N.paidAmount.toLocaleString()," UGX"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm text-yellow-600 font-medium",children:[N.pendingAmount.toLocaleString()," UGX"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${w?"bg-red-100 text-red-800":S?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:w?"Overdue":S?"Paid":"Pending"})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[a.jsx(Rn,{to:`/patients/${N.patient.id}`,className:"text-primary-600 hover:text-primary-900 mr-4",children:a.jsx(Ln,{className:"h-5 w-5 inline"})}),a.jsx(Rn,{to:"/billing",className:"text-primary-600 hover:text-primary-900",children:a.jsx(Di,{className:"h-5 w-5 inline"})})]})]}),_&&a.jsx("tr",{className:"bg-gray-50",children:a.jsxs("td",{colSpan:8,className:"px-6 py-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Invoice details"}),a.jsxs("table",{className:"min-w-full text-sm border border-gray-200 rounded-lg overflow-hidden",children:[a.jsx("thead",{className:"bg-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-600",children:"Description"}),a.jsx("th",{className:"px-4 py-2 text-right font-medium text-gray-600",children:"Amount (UGX)"}),a.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-600",children:"Status"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:N.invoices.map(T=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 text-gray-900",children:T.description||T.serviceName||""}),a.jsx("td",{className:"px-4 py-2 text-right font-medium",children:Number(T.amount).toLocaleString()}),a.jsx("td",{className:"px-4 py-2",children:a.jsx("span",{className:`inline-flex px-2 py-0.5 rounded text-xs ${T.status==="paid"?"bg-green-100 text-green-800":T.status==="overdue"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:T.status})})]},T.id))}),a.jsx("tfoot",{className:"bg-gray-100 font-semibold",children:a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 text-gray-700",children:"Total"}),a.jsxs("td",{className:"px-4 py-2 text-right",children:[N.totalAmount.toLocaleString()," UGX"]}),a.jsx("td",{})]})})]})]})},`${N.patient.id}-details`)]},N.patient.id)})})]})})]})]})}function kC({isOpen:e,onClose:t,onSave:r,biller:n,mode:s}){const[i,o]=L.useState({username:"",name:"",email:"",password:"",phone:"",department:"Finance",isActive:!0}),[l,c]=L.useState(!1),[u,d]=L.useState(null),f=s==="edit"&&n;L.useEffect(()=>{e||(c(!1),d(null))},[e]),L.useEffect(()=>{o(f&&n?{username:n.username||"",name:n.name||"",email:n.email||"",password:"",phone:n.phone||"",department:n.department||"Finance",isActive:n.isActive??!0}:{username:"",name:"",email:"",password:"",phone:"",department:"Finance",isActive:!0})},[f,n,e]);const m=async h=>{if(h.preventDefault(),d(null),!i.username.trim()){d("Username is required");return}if(!i.name.trim()){d("Name is required");return}if(!f&&!i.password.trim()){d("Password is required for new billers");return}c(!0);try{const p={username:i.username.trim().toLowerCase(),name:i.name.trim(),email:i.email.trim()||void 0,phone:i.phone.trim()||void 0,department:i.department.trim()||void 0,isActive:i.isActive,role:"biller"};f?i.password.trim()&&(p.password=i.password):p.password=i.password,await r(p)}catch(p){d((p==null?void 0:p.message)||"Failed to save biller")}finally{c(!1)}};return e?a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t}),a.jsxs("div",{className:"relative w-full max-w-2xl rounded-lg bg-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f?"Edit Biller":"Add New Biller"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Dt,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:m,children:[a.jsxs("div",{className:"px-6 py-4 space-y-4",children:[u&&a.jsx("div",{className:"rounded-md bg-red-50 p-4 text-sm text-red-700",children:u}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Username ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:i.username,onChange:h=>o({...i,username:h.target.value}),placeholder:"e.g. john.doe (used for login)",className:"input-field disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed",required:!0,disabled:s==="edit"}),s==="edit"&&a.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Username cannot be changed after creation"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Full Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:i.name,onChange:h=>o({...i,name:h.target.value}),placeholder:"Enter full name (e.g., John Doe)",className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",value:i.email,onChange:h=>o({...i,email:h.target.value}),placeholder:"biller@example.com",className:"input-field disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed",disabled:s==="edit"}),s==="edit"&&a.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Email cannot be changed after creation"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Password ",!f&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"password",value:i.password,onChange:h=>o({...i,password:h.target.value}),placeholder:f?"Enter new password (leave blank to keep current)":"Enter password (minimum 8 characters)",className:"input-field",required:!f}),f?a.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Leave blank to keep current password"}):a.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Password must be at least 8 characters long"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",value:i.phone,onChange:h=>o({...i,phone:h.target.value}),placeholder:"+1234567890 (optional)",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Department"}),a.jsx("input",{type:"text",value:i.department,onChange:h=>o({...i,department:h.target.value}),placeholder:"Finance (default)",className:"input-field"})]}),a.jsxs("div",{className:"flex items-center pt-2",children:[a.jsx("input",{type:"checkbox",id:"isActive",checked:i.isActive,onChange:h=>o({...i,isActive:h.target.checked}),className:"h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-2 focus:ring-primary-500"}),a.jsx("label",{htmlFor:"isActive",className:"ml-2 text-sm font-medium text-gray-900",children:"Active Status"}),a.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(Biller can log in and access the system)"})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-200 px-6 py-4",children:[a.jsx("button",{type:"button",onClick:t,className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",disabled:l,children:"Cancel"}),a.jsx("button",{type:"submit",className:"rounded-md bg-primary-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50",disabled:l,children:l?"Saving...":f?"Update Biller":"Add Biller"})]})]})]})]})}):null}const N1e=e=>e?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800";function j1e({isOpen:e,onClose:t,biller:r}){if(!e||!r)return null;const n=r.avatar?r.avatar.startsWith("http")?r.avatar:Oa(r.avatar):null;return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Biller Details"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Dt,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-start space-x-4 pb-6 border-b border-gray-200",children:[n?a.jsx("img",{src:n,alt:r.name,className:"h-20 w-20 rounded-full object-cover border-2 border-gray-200"}):a.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-primary-100 text-xl font-semibold text-primary-700",children:r.name.split(" ").map(s=>s[0]).join("").slice(0,2).toUpperCase()}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r.name}),a.jsx("div",{className:"mt-2",children:a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${N1e(r.isActive??!0)}`,children:r.isActive?"Active":"Inactive"})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Dy,{className:"h-5 w-5 text-gray-400 mt-0.5 shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),a.jsx("p",{className:"font-medium text-gray-900",children:r.email})]})]}),r.username&&a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Yr,{className:"h-5 w-5 text-gray-400 mt-0.5 shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Username"}),a.jsx("p",{className:"font-medium text-gray-900",children:r.username})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(ui,{className:"h-5 w-5 text-gray-400 mt-0.5 shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),a.jsx("p",{className:"font-medium text-gray-900",children:r.phone||""})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(dO,{className:"h-5 w-5 text-gray-400 mt-0.5 shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Department"}),a.jsx("p",{className:"font-medium text-gray-900",children:r.department||""})]})]}),r.employeeId&&a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Di,{className:"h-5 w-5 text-gray-400 mt-0.5 shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Employee ID"}),a.jsx("p",{className:"font-medium text-gray-900",children:r.employeeId})]})]}),r.createdAt&&a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Mt,{className:"h-5 w-5 text-gray-400 mt-0.5 shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Joined"}),a.jsx("p",{className:"font-medium text-gray-900",children:new Date(r.createdAt).toLocaleDateString()})]})]})]})]}),a.jsx("div",{className:"flex justify-end border-t border-gray-200 px-6 py-4",children:a.jsx("button",{onClick:t,className:"btn-primary",children:"Close"})})]})})}function S1e(){const{user:e}=dr(),t=(e==null?void 0:e.role)==="admin",[r,n]=L.useState(""),[s,i]=L.useState("all"),[o,l]=L.useState(!1),[c,u]=L.useState(!1),[d,f]=L.useState(!1),[m,h]=L.useState(null),{addNotification:p}=Rr(),y=E=>{h(E),f(!0)},{data:v,loading:x,error:b,refetch:N}=st(()=>Qt.getUsers({role:"biller",limit:200}),[]),w=(v==null?void 0:v.users)??[],S=L.useMemo(()=>w.filter(E=>{var Z;const M=E.name.toLowerCase().includes(r.toLowerCase())||((Z=E.email)==null?void 0:Z.toLowerCase().includes(r.toLowerCase()))||E.phone&&E.phone.toLowerCase().includes(r.toLowerCase()),z=s==="all"||s==="active"&&E.isActive||s==="inactive"&&!E.isActive;return M&&z}),[w,r,s]),_=ot(Qt.createUser.bind(Qt)),T=ot(E=>Qt.updateUser(E.id,E.data)),k=ot(E=>Qt.deleteUser(E)),P=async E=>{var M,z,Z;try{const R={...E,role:"biller",username:(E.username??((M=E.email)==null?void 0:M.trim().split("@")[0])??E.name.replace(/\s+/g,"").toLowerCase())||"biller"};await _.mutate(R),Te.success(`Biller ${E.name} has been added successfully`),p({title:"Biller Added",message:`${E.name} has been added to the system.`,type:"success",userId:"system",priority:"medium",category:"system"}),await N(),l(!1)}catch(R){const U=((Z=(z=R==null?void 0:R.response)==null?void 0:z.data)==null?void 0:Z.message)||(R==null?void 0:R.message)||"Failed to add biller";throw Te.error(U),p({title:"Unable to add biller",message:U,type:"error",userId:"system",priority:"high",category:"system"}),R}},D=async E=>{var M,z;if(m)try{await T.mutate({id:m.id,data:E}),Te.success(`Biller ${E.name??m.name} has been updated successfully`),p({title:"Biller Updated",message:`${E.name??m.name} has been updated.`,type:"success",userId:"system",priority:"medium",category:"system"}),await N(),u(!1),h(null)}catch(Z){const R=((z=(M=Z==null?void 0:Z.response)==null?void 0:M.data)==null?void 0:z.message)||(Z==null?void 0:Z.message)||"Failed to update biller";throw Te.error(R),p({title:"Unable to update biller",message:R,type:"error",userId:"system",priority:"high",category:"system"}),Z}},A=async(E,M)=>{var z,Z;if(window.confirm(`Are you sure you want to deactivate ${M}?`))try{await k.mutate(E),Te.success(`Biller ${M} has been deactivated`),p({title:"Biller Deactivated",message:`${M} is now deactivated.`,type:"info",userId:"system",priority:"medium",category:"system"}),await N()}catch(R){const U=((Z=(z=R==null?void 0:R.response)==null?void 0:z.data)==null?void 0:Z.message)||(R==null?void 0:R.message)||"Failed to deactivate biller";Te.error(U),p({title:"Unable to deactivate biller",message:U,type:"error",userId:"system",priority:"high",category:"system"})}},I=E=>{h(E),u(!0)},$=E=>E?"status-active":"status-inactive";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center space-x-2",children:[a.jsx(Di,{className:"h-6 w-6 text-primary-500"}),a.jsx("span",{children:"Billers"})]}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage finance and billing staff."})]}),t&&a.jsx("div",{className:"mt-4 sm:mt-0",children:a.jsxs("button",{onClick:()=>l(!0),className:"btn-primary flex items-center",children:[a.jsx(zt,{className:"mr-2 h-4 w-4"}),"Add Biller"]})})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Fr,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search billers...",value:r,onChange:E=>n(E.target.value),className:"input-field pl-10"})]})}),a.jsx("div",{className:"sm:w-48",children:a.jsxs("select",{value:s,onChange:E=>i(E.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})})]})}),b&&a.jsx("div",{className:"card bg-red-50 border border-red-200 text-red-700",children:"Unable to load billers. Please refresh or try again later."}),a.jsx("div",{className:"card",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Biller"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Contact"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Department"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:x?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-sm text-gray-500",children:"Loading billers..."})}):S.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-sm text-gray-500",children:"No billers match your filters yet."})}):S.map(E=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[E.avatar?a.jsx("img",{src:E.avatar.startsWith("http")?E.avatar:Oa(E.avatar),alt:E.name,className:"h-10 w-10 rounded-full object-cover"}):a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary-100 text-sm font-semibold text-primary-700",children:E.name.split(" ").map(M=>M[0]).join("").slice(0,2).toUpperCase()}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.name}),a.jsx("div",{className:"text-sm text-gray-500",children:E.email})]})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900",children:E.phone?a.jsxs("div",{className:"flex items-center",children:[a.jsx(ui,{className:"mr-2 h-4 w-4 text-gray-400"}),E.phone]}):a.jsx("span",{className:"text-gray-400",children:"No phone"})})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900",children:E.department||a.jsx("span",{className:"text-gray-400",children:"No department"})})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`status-badge ${$(E.isActive)}`,children:E.isActive?"Active":"Inactive"})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:()=>y(E),className:"text-primary-600 hover:text-primary-900",title:"View biller details",children:[a.jsx(Ln,{className:"mr-1 inline h-4 w-4"}),"View details"]}),t&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>I(E),className:"text-secondary-600 hover:text-secondary-900",children:[a.jsx(Fn,{className:"mr-1 inline h-4 w-4"}),"Edit"]}),a.jsxs("button",{onClick:()=>A(E.id,E.name),className:"text-red-600 hover:text-red-900",children:[a.jsx(Ur,{className:"mr-1 inline h-4 w-4"}),"Delete"]})]})]})})]},E.id))})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-primary-600",children:w.filter(E=>E.isActive).length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Active Billers"})]}),a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-600",children:w.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Billers"})]})]}),a.jsx(kC,{isOpen:o,onClose:()=>l(!1),onSave:P,mode:"add"}),a.jsx(kC,{isOpen:c,onClose:()=>{u(!1),h(null)},onSave:D,biller:m,mode:"edit"}),a.jsx(j1e,{isOpen:d,onClose:()=>{f(!1),h(null)},biller:m})]})}function A1e(){const{user:e}=dr(),t=(e==null?void 0:e.role)==="biller"||(e==null?void 0:e.role)==="admin",[r,n]=L.useState(null);if(!t)return a.jsx(Qj,{to:"/dashboard",replace:!0});const{data:s,loading:i,refetch:o}=st(()=>Qt.getUsers({role:"specialist",limit:200}),[]),{data:l,loading:c,refetch:u}=st(()=>Qt.getUsers({role:"therapist",limit:200}),[]),d=(s==null?void 0:s.users)??[],f=(l==null?void 0:l.users)??[],m=ot(y=>Qt.updateUser(y.id,{consultationFee:y.consultationFee})),h=async(y,v)=>{var b,N;const x=v.trim()===""?null:Math.max(0,Math.floor(Number(v)));if(v.trim()!==""&&(x==null||Number.isNaN(x)||x<0)){Te.error("Please enter a valid number (0 or greater)");return}n(y.id);try{await m.mutate({id:y.id,consultationFee:x}),Te.success(`Consultation fee for ${y.name} updated`),await Promise.all([o(),u()])}catch(w){const S=((N=(b=w==null?void 0:w.response)==null?void 0:b.data)==null?void 0:N.message)||(w==null?void 0:w.message)||"Failed to update fee";Te.error(S)}finally{n(null)}},p=i||c;return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Consultation rates"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Set consultation fees (UGX) for specialists and therapists. These appear on the biller dashboard when a patient is assigned."})]}),p?a.jsx("div",{className:"flex items-center justify-center h-48",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200 overflow-hidden",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center gap-2",children:[a.jsx(zd,{className:"h-5 w-5 text-primary-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Specialists"})]}),a.jsx("div",{className:"divide-y divide-gray-200",children:d.length===0?a.jsx("div",{className:"px-6 py-8 text-center text-gray-500",children:"No specialists found."}):d.map(y=>a.jsx(OC,{user:y,saving:r===y.id,onSave:h},y.id))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200 overflow-hidden",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center gap-2",children:[a.jsx(Wc,{className:"h-5 w-5 text-primary-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Therapists"})]}),a.jsx("div",{className:"divide-y divide-gray-200",children:f.length===0?a.jsx("div",{className:"px-6 py-8 text-center text-gray-500",children:"No therapists found."}):f.map(y=>a.jsx(OC,{user:y,saving:r===y.id,onSave:h},y.id))})]})]})]})}function OC({user:e,saving:t,onSave:r}){const n=e.consultationFee!=null?String(e.consultationFee):"",[s,i]=L.useState(n);L.useEffect(()=>{i(e.consultationFee!=null?String(e.consultationFee):"")},[e.id,e.consultationFee]);const o=s!==n;return a.jsxs("div",{className:"px-6 py-4 flex flex-wrap items-center gap-4",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name}),e.specialistSpecialization||e.therapistSpecialization?a.jsx("div",{className:"text-xs text-gray-500",children:e.specialistSpecialization||e.therapistSpecialization}):null]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center rounded-lg border border-gray-300 bg-gray-50 px-3 py-1.5",children:[a.jsx(Sa,{className:"h-4 w-4 text-gray-400 mr-1"}),a.jsx("input",{type:"number",min:0,step:1,placeholder:"0",value:s,onChange:l=>i(l.target.value),className:"w-28 bg-transparent border-0 p-0 text-sm text-gray-900 focus:ring-0"}),a.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"UGX"})]}),a.jsxs("button",{type:"button",disabled:t||!o,onClick:()=>r(e,s),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-primary-600 text-white text-sm font-medium hover:bg-primary-700 disabled:opacity-50 disabled:pointer-events-none",children:[t?a.jsx(Or,{className:"h-4 w-4 animate-spin"}):a.jsx($y,{className:"h-4 w-4"}),"Save"]})]})]})}function IC({isOpen:e,onClose:t,onSave:r,receptionist:n,mode:s}){const[i,o]=L.useState({username:"",name:"",email:"",password:"",phone:"",department:"Reception",isActive:!0}),[l,c]=L.useState(!1),[u,d]=L.useState(null),f=s==="edit"&&n;L.useEffect(()=>{e||(c(!1),d(null))},[e]),L.useEffect(()=>{o(f&&n?{username:n.username||"",name:n.name||"",email:n.email||"",password:"",phone:n.phone||"",department:n.department||"Reception",isActive:n.isActive??!0}:{username:"",name:"",email:"",password:"",phone:"",department:"Reception",isActive:!0})},[f,n,e]);const m=async h=>{if(h.preventDefault(),d(null),!i.username.trim()){d("Username is required");return}if(!i.name.trim()){d("Name is required");return}if(!f&&!i.password.trim()){d("Password is required for new receptionists");return}c(!0);try{const p={username:i.username.trim().toLowerCase(),name:i.name.trim(),email:i.email.trim()||void 0,phone:i.phone.trim()||void 0,department:i.department.trim()||void 0,isActive:i.isActive,role:"receptionist"};f?i.password.trim()&&(p.password=i.password):p.password=i.password,await r(p)}catch(p){d(p instanceof Error?p.message:"Failed to save receptionist")}finally{c(!1)}};return e?a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t}),a.jsxs("div",{className:"relative w-full max-w-2xl rounded-lg bg-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f?"Edit Receptionist":"Add New Receptionist"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Dt,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:m,children:[a.jsxs("div",{className:"px-6 py-4 space-y-4",children:[u&&a.jsx("div",{className:"rounded-md bg-red-50 p-4 text-sm text-red-700",children:u}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Username ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:i.username,onChange:h=>o({...i,username:h.target.value}),placeholder:"e.g. jane.smith (used for login)",className:"input-field disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed",required:!0,disabled:s==="edit"}),s==="edit"&&a.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Username cannot be changed after creation"}),s!=="edit"&&a.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Letters, numbers, dots, hyphens, underscores only"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Full Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:i.name,onChange:h=>o({...i,name:h.target.value}),placeholder:"Enter full name (e.g., Jane Smith)",className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",value:i.email,onChange:h=>o({...i,email:h.target.value}),placeholder:"receptionist@example.com",className:"input-field disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed",disabled:s==="edit"}),s==="edit"&&a.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Email cannot be changed after creation"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Password ",!f&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"password",value:i.password,onChange:h=>o({...i,password:h.target.value}),placeholder:f?"Enter new password (leave blank to keep current)":"Enter password (minimum 8 characters)",className:"input-field",required:!f}),f?a.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Leave blank to keep current password"}):a.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Password must be at least 8 characters long"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",value:i.phone,onChange:h=>o({...i,phone:h.target.value}),placeholder:"+1234567890 (optional)",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Department"}),a.jsx("input",{type:"text",value:i.department,onChange:h=>o({...i,department:h.target.value}),placeholder:"Reception (default)",className:"input-field"})]}),a.jsxs("div",{className:"flex items-center pt-2",children:[a.jsx("input",{type:"checkbox",id:"isActive",checked:i.isActive,onChange:h=>o({...i,isActive:h.target.checked}),className:"h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-2 focus:ring-primary-500"}),a.jsx("label",{htmlFor:"isActive",className:"ml-2 text-sm font-medium text-gray-900",children:"Active Status"}),a.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(Receptionist can log in and access the system)"})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-200 px-6 py-4",children:[a.jsx("button",{type:"button",onClick:t,className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",disabled:l,children:"Cancel"}),a.jsx("button",{type:"submit",className:"rounded-md bg-primary-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50",disabled:l,children:l?"Saving...":f?"Update Receptionist":"Add Receptionist"})]})]})]})]})}):null}function _1e(){const{user:e}=dr(),t=(e==null?void 0:e.role)==="admin",[r,n]=L.useState(""),[s,i]=L.useState("all"),[o,l]=L.useState(!1),[c,u]=L.useState(!1),[d,f]=L.useState(null),{addNotification:m}=Rr(),{data:h,loading:p,error:y,refetch:v}=st(()=>Qt.getUsers({role:"receptionist",limit:200}),[]),x=(h==null?void 0:h.users)??[],b=L.useMemo(()=>x.filter(A=>{var E;const I=A.name.toLowerCase().includes(r.toLowerCase())||((E=A.email)==null?void 0:E.toLowerCase().includes(r.toLowerCase()))||A.phone&&A.phone.toLowerCase().includes(r.toLowerCase()),$=s==="all"||s==="active"&&A.isActive||s==="inactive"&&!A.isActive;return I&&$}),[x,r,s]),N=ot(Qt.createUser.bind(Qt)),w=ot(A=>Qt.updateUser(A.id,A.data)),S=ot(A=>Qt.deleteUser(A)),_=async A=>{var I,$,E;try{const M={...A,role:"receptionist",username:(A.username??((I=A.email)==null?void 0:I.trim().split("@")[0])??A.name.replace(/\s+/g,"").toLowerCase())||"receptionist"};await N.mutate(M),Te.success(`Receptionist ${A.name} has been added successfully`),m({title:"Receptionist Added",message:`${A.name} has been added to the system.`,type:"success",userId:"system",priority:"medium",category:"system"}),await v(),l(!1)}catch(M){const z=((E=($=M==null?void 0:M.response)==null?void 0:$.data)==null?void 0:E.message)||(M==null?void 0:M.message)||"Failed to add receptionist";throw Te.error(z),m({title:"Unable to add receptionist",message:z,type:"error",userId:"system",priority:"high",category:"system"}),M}},T=async A=>{var I,$;if(d)try{await w.mutate({id:d.id,data:A}),Te.success(`Receptionist ${A.name??d.name} has been updated successfully`),m({title:"Receptionist Updated",message:`${A.name??d.name} has been updated.`,type:"success",userId:"system",priority:"medium",category:"system"}),await v(),u(!1),f(null)}catch(E){const M=(($=(I=E==null?void 0:E.response)==null?void 0:I.data)==null?void 0:$.message)||(E==null?void 0:E.message)||"Failed to update receptionist";throw Te.error(M),m({title:"Unable to update receptionist",message:M,type:"error",userId:"system",priority:"high",category:"system"}),E}},k=async(A,I)=>{var $,E;if(window.confirm(`Are you sure you want to deactivate ${I}?`))try{await S.mutate(A),Te.success(`Receptionist ${I} has been deactivated`),m({title:"Receptionist Deactivated",message:`${I} is now deactivated.`,type:"info",userId:"system",priority:"medium",category:"system"}),await v()}catch(M){const z=((E=($=M==null?void 0:M.response)==null?void 0:$.data)==null?void 0:E.message)||(M==null?void 0:M.message)||"Failed to deactivate receptionist";Te.error(z),m({title:"Unable to deactivate receptionist",message:z,type:"error",userId:"system",priority:"high",category:"system"})}},P=A=>{f(A),u(!0)},D=A=>A?"status-active":"status-inactive";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center space-x-2",children:[a.jsx(LF,{className:"h-6 w-6 text-primary-500"}),a.jsx("span",{children:"Receptionists"})]}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage front-desk and patient registration staff."})]}),t&&a.jsx("div",{className:"mt-4 sm:mt-0",children:a.jsxs("button",{onClick:()=>l(!0),className:"btn-primary flex items-center",children:[a.jsx(zt,{className:"mr-2 h-4 w-4"}),"Add Receptionist"]})})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Fr,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search receptionists...",value:r,onChange:A=>n(A.target.value),className:"input-field pl-10"})]})}),a.jsx("div",{className:"sm:w-48",children:a.jsxs("select",{value:s,onChange:A=>i(A.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})})]})}),y&&a.jsx("div",{className:"card bg-red-50 border border-red-200 text-red-700",children:"Unable to load receptionists. Please refresh or try again later."}),a.jsx("div",{className:"card",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Receptionist"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Contact"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Department"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:p?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-sm text-gray-500",children:"Loading receptionists..."})}):b.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-sm text-gray-500",children:"No receptionists match your filters yet."})}):b.map(A=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[A.avatar?a.jsx("img",{src:A.avatar.startsWith("http")?A.avatar:Oa(A.avatar),alt:A.name,className:"h-10 w-10 rounded-full object-cover"}):a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary-100 text-sm font-semibold text-primary-700",children:A.name.split(" ").map(I=>I[0]).join("").slice(0,2).toUpperCase()}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.name}),a.jsx("div",{className:"text-sm text-gray-500",children:A.email})]})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900",children:A.phone?a.jsxs("div",{className:"flex items-center",children:[a.jsx(ui,{className:"mr-2 h-4 w-4 text-gray-400"}),A.phone]}):a.jsx("span",{className:"text-gray-400",children:"No phone"})})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900",children:A.department||a.jsx("span",{className:"text-gray-400",children:"No department"})})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`status-badge ${D(A.isActive)}`,children:A.isActive?"Active":"Inactive"})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium",children:a.jsx("div",{className:"flex items-center space-x-3",children:t&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>P(A),className:"text-secondary-600 hover:text-secondary-900",children:[a.jsx(Fn,{className:"mr-1 inline h-4 w-4"}),"Edit"]}),a.jsxs("button",{onClick:()=>k(A.id,A.name),className:"text-red-600 hover:text-red-900",children:[a.jsx(Ur,{className:"mr-1 inline h-4 w-4"}),"Delete"]})]})})})]},A.id))})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-primary-600",children:x.filter(A=>A.isActive).length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Active Receptionists"})]}),a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-600",children:x.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Receptionists"})]})]}),a.jsx(IC,{isOpen:o,onClose:()=>l(!1),onSave:_,mode:"add"}),a.jsx(IC,{isOpen:c,onClose:()=>{u(!1),f(null)},onSave:T,receptionist:d,mode:"edit"})]})}function LC({isOpen:e,onClose:t,onSave:r,labAttendant:n,mode:s}){const[i,o]=L.useState({username:"",name:"",email:"",password:"",phone:"",department:"Laboratory",isActive:!0}),[l,c]=L.useState(!1),[u,d]=L.useState(null),f=s==="edit"&&n;L.useEffect(()=>{e||(c(!1),d(null))},[e]),L.useEffect(()=>{o(f&&n?{username:n.username||"",name:n.name||"",email:n.email||"",password:"",phone:n.phone||"",department:n.department||"Laboratory",isActive:n.isActive??!0}:{username:"",name:"",email:"",password:"",phone:"",department:"Laboratory",isActive:!0})},[f,n,e]);const m=async h=>{if(h.preventDefault(),d(null),!i.username.trim()){d("Username is required");return}if(!i.name.trim()){d("Name is required");return}if(!f&&!i.password.trim()){d("Password is required for new lab attendants");return}c(!0);try{const p={username:i.username.trim().toLowerCase(),name:i.name.trim(),email:i.email.trim()||void 0,phone:i.phone.trim()||void 0,department:i.department.trim()||void 0,isActive:i.isActive,role:"lab_attendant"};f?i.password.trim()&&(p.password=i.password):p.password=i.password,await r(p)}catch(p){d(p instanceof Error?p.message:"Failed to save lab attendant")}finally{c(!1)}};return e?a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t}),a.jsxs("div",{className:"relative w-full max-w-2xl rounded-lg bg-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f?"Edit Lab Attendant":"Add New Lab Attendant"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Dt,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:m,children:[a.jsxs("div",{className:"px-6 py-4 space-y-4",children:[u&&a.jsx("div",{className:"rounded-md bg-red-50 p-4 text-sm text-red-700",children:u}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Username ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:i.username,onChange:h=>o({...i,username:h.target.value}),placeholder:"e.g. lab.john (used for login)",className:"input-field disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed",required:!0,disabled:s==="edit"}),s==="edit"&&a.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Username cannot be changed after creation"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Full Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:i.name,onChange:h=>o({...i,name:h.target.value}),placeholder:"Enter full name",className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",value:i.email,onChange:h=>o({...i,email:h.target.value}),placeholder:"lab@example.com",className:"input-field disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed",disabled:s==="edit"}),s==="edit"&&a.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Email cannot be changed after creation"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Password ",!f&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"password",value:i.password,onChange:h=>o({...i,password:h.target.value}),placeholder:f?"Leave blank to keep current":"Minimum 8 characters",className:"input-field",required:!f})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",value:i.phone,onChange:h=>o({...i,phone:h.target.value}),placeholder:"+1234567890",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Department"}),a.jsx("input",{type:"text",value:i.department,onChange:h=>o({...i,department:h.target.value}),placeholder:"Laboratory",className:"input-field"})]}),a.jsxs("div",{className:"flex items-center pt-2",children:[a.jsx("input",{type:"checkbox",id:"isActive",checked:i.isActive,onChange:h=>o({...i,isActive:h.target.checked}),className:"h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-2 focus:ring-primary-500"}),a.jsx("label",{htmlFor:"isActive",className:"ml-2 text-sm font-medium text-gray-900",children:"Active Status"})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-200 px-6 py-4",children:[a.jsx("button",{type:"button",onClick:t,className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",disabled:l,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:l,children:l?"Saving...":f?"Update Lab Attendant":"Add Lab Attendant"})]})]})]})]})}):null}function E1e(){const{user:e}=dr(),t=(e==null?void 0:e.role)==="admin",[r,n]=L.useState(""),[s,i]=L.useState("all"),[o,l]=L.useState(!1),[c,u]=L.useState(!1),[d,f]=L.useState(null),{addNotification:m}=Rr(),{data:h,loading:p,error:y,refetch:v}=st(()=>Qt.getUsers({role:"lab_attendant",limit:200}),[]),x=(h==null?void 0:h.users)??[],b=L.useMemo(()=>x.filter(A=>{var E;const I=A.name.toLowerCase().includes(r.toLowerCase())||((E=A.email)==null?void 0:E.toLowerCase().includes(r.toLowerCase()))||A.phone&&A.phone.toLowerCase().includes(r.toLowerCase()),$=s==="all"||s==="active"&&A.isActive||s==="inactive"&&!A.isActive;return I&&$}),[x,r,s]),N=ot(Qt.createUser.bind(Qt)),w=ot(A=>Qt.updateUser(A.id,A.data)),S=ot(A=>Qt.deleteUser(A)),_=async A=>{var I,$,E;try{const M={...A,username:(A.username??((I=A.email)==null?void 0:I.trim().split("@")[0])??A.name.replace(/\s+/g,"").toLowerCase())||"lab_attendant",role:"lab_attendant"};await N.mutate(M),Te.success(`Lab attendant ${A.name} has been added successfully`),m({title:"Lab Attendant Added",message:`${A.name} has been added to the system.`,type:"success",userId:"system",priority:"medium",category:"system"}),await v(),l(!1)}catch(M){const z=((E=($=M==null?void 0:M.response)==null?void 0:$.data)==null?void 0:E.message)||(M==null?void 0:M.message)||"Failed to add lab attendant";throw Te.error(z),m({title:"Unable to add lab attendant",message:z,type:"error",userId:"system",priority:"high",category:"system"}),M}},T=async A=>{var I,$;if(d)try{await w.mutate({id:d.id,data:A}),Te.success(`Lab attendant ${A.name??d.name} has been updated successfully`),m({title:"Lab Attendant Updated",message:`${A.name??d.name} has been updated.`,type:"success",userId:"system",priority:"medium",category:"system"}),await v(),u(!1),f(null)}catch(E){const M=(($=(I=E==null?void 0:E.response)==null?void 0:I.data)==null?void 0:$.message)||(E==null?void 0:E.message)||"Failed to update lab attendant";throw Te.error(M),m({title:"Unable to update lab attendant",message:M,type:"error",userId:"system",priority:"high",category:"system"}),E}},k=async(A,I)=>{var $,E;if(window.confirm(`Are you sure you want to deactivate ${I}?`))try{await S.mutate(A),Te.success(`Lab attendant ${I} has been deactivated`),m({title:"Lab Attendant Deactivated",message:`${I} is now deactivated.`,type:"info",userId:"system",priority:"medium",category:"system"}),await v()}catch(M){const z=((E=($=M==null?void 0:M.response)==null?void 0:$.data)==null?void 0:E.message)||(M==null?void 0:M.message)||"Failed to deactivate lab attendant";Te.error(z),m({title:"Unable to deactivate lab attendant",message:z,type:"error",userId:"system",priority:"high",category:"system"})}},P=A=>{f(A),u(!0)},D=A=>A?"status-active":"status-inactive";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center space-x-2",children:[a.jsx(Li,{className:"h-6 w-6 text-primary-500"}),a.jsx("span",{children:"Lab Attendants"})]}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage lab staff who handle investigations and record lab details."})]}),t&&a.jsx("div",{className:"mt-4 sm:mt-0",children:a.jsxs("button",{onClick:()=>l(!0),className:"btn-primary flex items-center",children:[a.jsx(zt,{className:"mr-2 h-4 w-4"}),"Add Lab Attendant"]})})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Fr,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search lab attendants...",value:r,onChange:A=>n(A.target.value),className:"input-field pl-10"})]})}),a.jsx("div",{className:"sm:w-48",children:a.jsxs("select",{value:s,onChange:A=>i(A.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})})]})}),y&&a.jsx("div",{className:"card bg-red-50 border border-red-200 text-red-700",children:"Unable to load lab attendants. Please refresh or try again later."}),a.jsx("div",{className:"card",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Lab Attendant"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Contact"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Department"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:p?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-sm text-gray-500",children:"Loading lab attendants..."})}):b.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-sm text-gray-500",children:"No lab attendants match your filters yet."})}):b.map(A=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[A.avatar?a.jsx("img",{src:A.avatar.startsWith("http")?A.avatar:Oa(A.avatar),alt:A.name,className:"h-10 w-10 rounded-full object-cover"}):a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary-100 text-sm font-semibold text-primary-700",children:A.name.split(" ").map(I=>I[0]).join("").slice(0,2).toUpperCase()}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.name}),a.jsx("div",{className:"text-sm text-gray-500",children:A.email})]})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900",children:A.phone?a.jsxs("div",{className:"flex items-center",children:[a.jsx(ui,{className:"mr-2 h-4 w-4 text-gray-400"}),A.phone]}):a.jsx("span",{className:"text-gray-400",children:"No phone"})})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900",children:A.department||a.jsx("span",{className:"text-gray-400",children:"No department"})})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`status-badge ${D(A.isActive)}`,children:A.isActive?"Active":"Inactive"})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium",children:a.jsx("div",{className:"flex items-center space-x-3",children:t&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>P(A),className:"text-secondary-600 hover:text-secondary-900",children:[a.jsx(Fn,{className:"mr-1 inline h-4 w-4"}),"Edit"]}),a.jsxs("button",{onClick:()=>k(A.id,A.name),className:"text-red-600 hover:text-red-900",children:[a.jsx(Ur,{className:"mr-1 inline h-4 w-4"}),"Delete"]})]})})})]},A.id))})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-primary-600",children:x.filter(A=>A.isActive).length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Active Lab Attendants"})]}),a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-600",children:x.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Lab Attendants"})]})]}),a.jsx(LC,{isOpen:o,onClose:()=>l(!1),onSave:_,mode:"add"}),a.jsx(LC,{isOpen:c,onClose:()=>{u(!1),f(null)},onSave:T,labAttendant:d,mode:"edit"})]})}const P1e=["CBC","Malaria RDT","Renal Function Test","Liver Function Test","CRP","Extended Electrolyte Panel","Fasting Blood Sugar","HbA1c","Lipid Profile","Thyroid Function Test","Urinalysis","Stool Analysis","Blood Culture","Widal Test","Other"],t2={PENDING:"Pending",IN_PROGRESS:"In Progress",COMPLETED:"Completed",CANCELLED:"Cancelled"},C1e={PENDING:"bg-yellow-100 text-yellow-800",IN_PROGRESS:"bg-blue-100 text-blue-800",COMPLETED:"bg-green-100 text-green-800",CANCELLED:"bg-gray-100 text-gray-800"};function T1e(){const{user:e}=dr(),{addNotification:t}=Rr(),r=(e==null?void 0:e.role)==="receptionist"||(e==null?void 0:e.role)==="biller"||(e==null?void 0:e.role)==="specialist"||(e==null?void 0:e.role)==="therapist"||(e==null?void 0:e.role)==="admin",n=(e==null?void 0:e.role)==="lab_attendant"||(e==null?void 0:e.role)==="admin",s=(e==null?void 0:e.role)==="lab_attendant"||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="specialist"||(e==null?void 0:e.role)==="therapist",[i,o]=L.useState(""),[l,c]=L.useState("all"),[u,d]=L.useState(!1),[f,m]=L.useState(""),[h,p]=L.useState(""),[y,v]=L.useState(""),[x,b]=L.useState(""),[N,w]=L.useState("ROUTINE"),{data:S,loading:_,refetch:T}=st(()=>qc.list({limit:100}),[]),{data:k,loading:P}=st(()=>Mn.getPatients({limit:200,page:1}),[]),D=(k==null?void 0:k.patients)??[],A=(S==null?void 0:S.requests)??[],I=ot(qc.create.bind(qc)),$=ot(R=>qc.update(R.id,R.data)),E=L.useMemo(()=>A.filter(R=>{var de;const U=R.investigationName.toLowerCase().includes(i.toLowerCase())||((de=R.patient)==null?void 0:de.name)&&R.patient.name.toLowerCase().includes(i.toLowerCase())||R.requestedByName.toLowerCase().includes(i.toLowerCase()),re=l==="all"||R.status===l;return U&&re}),[A,i,l]),M=A.filter(R=>R.status==="PENDING").length,z=async R=>{var re,de;R.preventDefault();const U=h==="Other"?y.trim():h;if(!U){t({title:"Validation",message:"Please select or enter an investigation.",type:"error",userId:"",priority:"medium",category:"system"});return}if(!f){t({title:"Validation",message:"Please select a patient.",type:"error",userId:"",priority:"medium",category:"system"});return}try{await I.mutate({patientId:f,investigationName:U,priority:N,notes:x||void 0}),t({title:"Investigation requested",message:`${U} has been requested for the patient.`,type:"success",userId:"",priority:"low",category:"system"}),d(!1),m(""),p(""),v(""),b(""),w("ROUTINE"),T()}catch(B){const G=((de=(re=B==null?void 0:B.response)==null?void 0:re.data)==null?void 0:de.message)??(B==null?void 0:B.message)??"Failed to submit request";t({title:"Request failed",message:String(G),type:"error",userId:"",priority:"medium",category:"system"})}},Z=async(R,U)=>{var re,de;try{await $.mutate({id:R,data:{status:U}}),t({title:"Status updated",message:`Request marked as ${t2[U]}.`,type:"success",userId:"",priority:"low",category:"system"}),T()}catch(B){const G=((de=(re=B==null?void 0:B.response)==null?void 0:re.data)==null?void 0:de.message)??(B==null?void 0:B.message)??"Failed to update";t({title:"Update failed",message:String(G),type:"error",userId:"",priority:"medium",category:"system"})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Lab Requests"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:r&&n?"Submit lab requests for patients and manage them (collect samples, record results).":r?"Submit lab requests for patients. Lab staff will process requests and record results; you will see status updates only.":"Manage lab requests: collect samples and record lab results."})]}),r&&a.jsx("div",{className:"mt-4 sm:mt-0",children:a.jsxs("button",{type:"button",onClick:()=>d(!0),className:"btn-primary flex items-center gap-2",children:[a.jsx(zt,{className:"h-4 w-4"}),"New Lab Request"]})})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Fr,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search by investigation, patient, or requester...",value:i,onChange:R=>o(R.target.value),className:"input-field pl-10"})]})}),a.jsx("div",{className:"sm:w-48",children:a.jsxs("select",{value:l,onChange:R=>c(R.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All statuses"}),Object.entries(t2).map(([R,U])=>a.jsx("option",{value:R,children:U},R))]})})]})}),M>0&&n&&a.jsxs("div",{className:"card bg-amber-50 border border-amber-200 flex items-center gap-3",children:[a.jsx(Bo,{className:"h-5 w-5 text-amber-600 shrink-0"}),a.jsxs("span",{className:"text-sm text-amber-800",children:[a.jsx("strong",{children:M})," investigation request",M!==1?"s":""," pending. Go to"," ",a.jsx(Rn,{to:"/health-records",className:"underline font-medium",children:"Health Records  Lab samples"})," ","to collect samples and record results."]})]}),a.jsx("div",{className:"card",children:_?a.jsx("div",{className:"py-10 text-center text-sm text-gray-500",children:"Loading investigation requests..."}):E.length===0?a.jsxs("div",{className:"py-10 text-center text-sm text-gray-500",children:["No investigation requests match your filters.",r&&' Use "Request Investigation" to add one.']}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Investigation"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Patient"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Requested by"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),n&&a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:E.map(R=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"whitespace-nowrap px-6 py-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.investigationName}),R.notes&&a.jsx("div",{className:"text-xs text-gray-500 mt-0.5 truncate max-w-xs",children:R.notes})]}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:R.patient?a.jsxs(Rn,{to:`/patients/${R.patientId}`,className:"text-primary-600 hover:text-primary-900 flex items-center gap-1",children:[a.jsx(Yr,{className:"h-4 w-4"}),R.patient.name]}):a.jsx("span",{className:"text-gray-400",children:""})}),a.jsxs("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-600",children:[R.requestedByName," (",R.requestedByRole,")"]}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(rr,{className:"h-4 w-4 text-gray-400"}),new Date(R.requestedAt).toLocaleString()]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${C1e[R.status]??"bg-gray-100 text-gray-800"}`,children:t2[R.status]??R.status})}),n&&a.jsxs("td",{className:"whitespace-nowrap px-6 py-4 text-sm",children:[R.status==="PENDING"&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>Z(R.id,"IN_PROGRESS"),className:"text-blue-600 hover:text-blue-800",children:"Mark In Progress"}),a.jsxs("button",{type:"button",onClick:()=>Z(R.id,"COMPLETED"),className:"text-green-600 hover:text-green-800 flex items-center gap-1",children:[a.jsx($n,{className:"h-4 w-4"}),"Mark Completed"]})]}),R.status==="IN_PROGRESS"&&a.jsxs("button",{type:"button",onClick:()=>Z(R.id,"COMPLETED"),className:"text-green-600 hover:text-green-800 flex items-center gap-1",children:[a.jsx($n,{className:"h-4 w-4"}),"Mark Completed"]}),(R.status==="PENDING"||R.status==="IN_PROGRESS")&&s?a.jsx(Rn,{to:"/health-records",className:"ml-2 text-primary-600 hover:text-primary-900 text-xs",children:"Collect sample "}):null]})]},R.id))})]})})}),u&&a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>d(!1)}),a.jsxs("div",{className:"relative w-full max-w-lg rounded-lg bg-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Lab Request Form"}),a.jsx("button",{type:"button",onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),a.jsxs("form",{onSubmit:z,className:"px-6 py-4 space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Patient ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:f,onChange:R=>m(R.target.value),className:"input-field",required:!0,disabled:P,children:[a.jsx("option",{value:"",children:P?"Loading patients...":D.length===0?"No patients in system":"Select patient"}),D.map(R=>a.jsx("option",{value:R.id,children:R.name},R.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Test / Investigation ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:h,onChange:R=>p(R.target.value),className:"input-field",required:!0,children:[a.jsx("option",{value:"",children:"Select test or choose Other"}),P1e.filter(R=>R!=="Other").map(R=>a.jsx("option",{value:R,children:R},R)),a.jsx("option",{value:"Other",children:"Other (specify below)"})]}),h==="Other"&&a.jsx("input",{type:"text",value:y,onChange:R=>v(R.target.value),placeholder:"Specify test/investigation name",className:"input-field mt-2",maxLength:200})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),a.jsxs("select",{value:N,onChange:R=>w(R.target.value),className:"input-field",children:[a.jsx("option",{value:"ROUTINE",children:"Routine"}),a.jsx("option",{value:"URGENT",children:"Urgent"}),a.jsx("option",{value:"STAT",children:"Stat"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason for request / Clinical notes"}),a.jsx("textarea",{value:x,onChange:R=>b(R.target.value),placeholder:"e.g. Pre-op workup, routine monitoring, clinical indication",className:"input-field resize-none",rows:3})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[a.jsx("button",{type:"button",onClick:()=>d(!1),className:"btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:I.loading,children:I.loading?"Submitting...":"Submit Lab Request"})]})]})]})]})})]})}function k1e(){const{user:e,isAuthenticated:t,isLoading:r}=dr();return r?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):!t||!e?a.jsx(VU,{}):a.jsx($9,{children:a.jsx(MU,{user:e,children:a.jsxs(T9,{children:[a.jsx(Wt,{path:"/",element:a.jsx(Qj,{to:"/dashboard",replace:!0})}),a.jsx(Wt,{path:"/dashboard",element:a.jsx(ZU,{})}),a.jsx(Wt,{path:"/biller-dashboard",element:a.jsx(w1e,{})}),a.jsx(Wt,{path:"/book-appointment",element:a.jsx(Ive,{})}),a.jsx(Wt,{path:"/my-appointments",element:a.jsx(Lve,{})}),a.jsx(Wt,{path:"/health-monitoring",element:a.jsx(Rve,{})}),a.jsx(Wt,{path:"/feedback",element:a.jsx(Dve,{})}),a.jsx(Wt,{path:"/my-schedule",element:a.jsx($ve,{})}),a.jsx(Wt,{path:"/documentation",element:a.jsx(Bve,{})}),a.jsx(Wt,{path:"/incidents",element:a.jsx(Gve,{})}),a.jsx(Wt,{path:"/nurses",element:a.jsx(rz,{})}),a.jsx(Wt,{path:"/nurses/:id",element:a.jsx(nz,{})}),a.jsx(Wt,{path:"/users",element:a.jsx(Ave,{})}),a.jsx(Wt,{path:"/specialists",element:a.jsx(Zve,{})}),a.jsx(Wt,{path:"/therapists",element:a.jsx(Tve,{})}),a.jsx(Wt,{path:"/billers",element:a.jsx(S1e,{})}),a.jsx(Wt,{path:"/consultation-rates",element:a.jsx(A1e,{})}),a.jsx(Wt,{path:"/receptionists",element:a.jsx(_1e,{})}),a.jsx(Wt,{path:"/lab-attendants",element:a.jsx(E1e,{})}),a.jsx(Wt,{path:"/investigations",element:a.jsx(T1e,{})}),a.jsx(Wt,{path:"/health-records",element:a.jsx(y1e,{})}),a.jsx(Wt,{path:"/phone-reminders",element:a.jsx(a1e,{})}),a.jsx(Wt,{path:"/scheduling",element:a.jsx(mve,{})}),a.jsx(Wt,{path:"/services",element:a.jsx(gve,{})}),a.jsx(Wt,{path:"/training",element:a.jsx(ave,{})}),a.jsx(Wt,{path:"/training/exam/:id",element:a.jsx(sve,{})}),a.jsx(Wt,{path:"/training/exam/:id/take",element:a.jsx(ive,{})}),a.jsx(Wt,{path:"/training/exam/:id/result/:attemptId?",element:a.jsx(ove,{})}),a.jsx(Wt,{path:"/billing",element:a.jsx(xve,{})}),a.jsx(Wt,{path:"/reports",element:a.jsx(Nve,{})}),a.jsx(Wt,{path:"/settings",element:a.jsx(r1e,{})}),a.jsx(Wt,{path:"/patients",element:a.jsx(hz,{})}),a.jsx(Wt,{path:"/patients/:id",element:a.jsx(rve,{})})]})})})}function O1e(){return a.jsx(DU,{children:a.jsx(CU,{children:a.jsxs(LU,{children:[a.jsx(k1e,{}),a.jsx(jF,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})})})}r2.createRoot(document.getElementById("root")).render(a.jsx(ce.StrictMode,{children:a.jsx(O1e,{})}));export{sr as _,v0 as c,or as g};
