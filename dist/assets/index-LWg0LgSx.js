var n_=Object.defineProperty;var a_=(e,t,r)=>t in e?n_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ai=(e,t,r)=>a_(e,typeof t!="symbol"?t+"":t,r);function s_(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var pu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Be(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var QS={exports:{}},Wm={},JS={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hc=Symbol.for("react.element"),i_=Symbol.for("react.portal"),o_=Symbol.for("react.fragment"),l_=Symbol.for("react.strict_mode"),c_=Symbol.for("react.profiler"),u_=Symbol.for("react.provider"),d_=Symbol.for("react.context"),m_=Symbol.for("react.forward_ref"),f_=Symbol.for("react.suspense"),p_=Symbol.for("react.memo"),h_=Symbol.for("react.lazy"),D0=Symbol.iterator;function x_(e){return e===null||typeof e!="object"?null:(e=D0&&e[D0]||e["@@iterator"],typeof e=="function"?e:null)}var ZS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eA=Object.assign,tA={};function So(e,t,r){this.props=e,this.context=t,this.refs=tA,this.updater=r||ZS}So.prototype.isReactComponent={};So.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};So.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function rA(){}rA.prototype=So.prototype;function xg(e,t,r){this.props=e,this.context=t,this.refs=tA,this.updater=r||ZS}var yg=xg.prototype=new rA;yg.constructor=xg;eA(yg,So.prototype);yg.isPureReactComponent=!0;var L0=Array.isArray,nA=Object.prototype.hasOwnProperty,gg={current:null},aA={key:!0,ref:!0,__self:!0,__source:!0};function sA(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)nA.call(t,n)&&!aA.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Hc,type:e,key:i,ref:o,props:s,_owner:gg.current}}function y_(e,t){return{$$typeof:Hc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hc}function g_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var B0=/\/+/g;function fp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?g_(""+e.key):t.toString(36)}function td(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Hc:case i_:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+fp(o,0):n,L0(s)?(r="",e!=null&&(r=e.replace(B0,"$&/")+"/"),td(s,t,r,"",function(u){return u})):s!=null&&(vg(s)&&(s=y_(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(B0,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",L0(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+fp(i,l);o+=td(i,t,r,c,s)}else if(c=x_(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+fp(i,l++),o+=td(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function hu(e,t,r){if(e==null)return e;var n=[],s=0;return td(e,n,"","",function(i){return t.call(r,i,s++)}),n}function v_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var dr={current:null},rd={transition:null},b_={ReactCurrentDispatcher:dr,ReactCurrentBatchConfig:rd,ReactCurrentOwner:gg};function iA(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:hu,forEach:function(e,t,r){hu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return hu(e,function(){t++}),t},toArray:function(e){return hu(e,function(t){return t})||[]},only:function(e){if(!vg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ce.Component=So;Ce.Fragment=o_;Ce.Profiler=c_;Ce.PureComponent=xg;Ce.StrictMode=l_;Ce.Suspense=f_;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b_;Ce.act=iA;Ce.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=eA({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=gg.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)nA.call(t,c)&&!aA.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Hc,type:e.type,key:s,ref:i,props:n,_owner:o}};Ce.createContext=function(e){return e={$$typeof:d_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:u_,_context:e},e.Consumer=e};Ce.createElement=sA;Ce.createFactory=function(e){var t=sA.bind(null,e);return t.type=e,t};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(e){return{$$typeof:m_,render:e}};Ce.isValidElement=vg;Ce.lazy=function(e){return{$$typeof:h_,_payload:{_status:-1,_result:e},_init:v_}};Ce.memo=function(e,t){return{$$typeof:p_,type:e,compare:t===void 0?null:t}};Ce.startTransition=function(e){var t=rd.transition;rd.transition={};try{e()}finally{rd.transition=t}};Ce.unstable_act=iA;Ce.useCallback=function(e,t){return dr.current.useCallback(e,t)};Ce.useContext=function(e){return dr.current.useContext(e)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(e){return dr.current.useDeferredValue(e)};Ce.useEffect=function(e,t){return dr.current.useEffect(e,t)};Ce.useId=function(){return dr.current.useId()};Ce.useImperativeHandle=function(e,t,r){return dr.current.useImperativeHandle(e,t,r)};Ce.useInsertionEffect=function(e,t){return dr.current.useInsertionEffect(e,t)};Ce.useLayoutEffect=function(e,t){return dr.current.useLayoutEffect(e,t)};Ce.useMemo=function(e,t){return dr.current.useMemo(e,t)};Ce.useReducer=function(e,t,r){return dr.current.useReducer(e,t,r)};Ce.useRef=function(e){return dr.current.useRef(e)};Ce.useState=function(e){return dr.current.useState(e)};Ce.useSyncExternalStore=function(e,t,r){return dr.current.useSyncExternalStore(e,t,r)};Ce.useTransition=function(){return dr.current.useTransition()};Ce.version="18.3.1";JS.exports=Ce;var E=JS.exports;const L=Be(E),j_=s_({__proto__:null,default:L},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_=E,w_=Symbol.for("react.element"),S_=Symbol.for("react.fragment"),A_=Object.prototype.hasOwnProperty,E_=N_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,T_={key:!0,ref:!0,__self:!0,__source:!0};function oA(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)A_.call(t,n)&&!T_.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:w_,type:e,key:i,ref:o,props:s,_owner:E_.current}}Wm.Fragment=S_;Wm.jsx=oA;Wm.jsxs=oA;QS.exports=Wm;var a=QS.exports,Ch={},lA={exports:{}},Dr={},cA={exports:{}},uA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,R){var F=I.length;I.push(R);e:for(;0<F;){var V=F-1>>>1,W=I[V];if(0<s(W,R))I[V]=R,I[F]=W,F=V;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var R=I[0],F=I.pop();if(F!==R){I[0]=F;e:for(var V=0,W=I.length,ee=W>>>1;V<ee;){var se=2*(V+1)-1,ye=I[se],$=se+1,B=I[$];if(0>s(ye,F))$<W&&0>s(B,ye)?(I[V]=B,I[$]=F,V=$):(I[V]=ye,I[se]=F,V=se);else if($<W&&0>s(B,F))I[V]=B,I[$]=F,V=$;else break e}}return R}function s(I,R){var F=I.sortIndex-R.sortIndex;return F!==0?F:I.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,m=null,f=3,p=!1,h=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(I){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=I)n(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=r(u)}}function N(I){if(g=!1,b(I),!h)if(r(c)!==null)h=!0,U(j);else{var R=r(u);R!==null&&z(N,R.startTime-I)}}function j(I,R){h=!1,g&&(g=!1,x(T),T=-1),p=!0;var F=f;try{for(b(R),m=r(c);m!==null&&(!(m.expirationTime>R)||I&&!P());){var V=m.callback;if(typeof V=="function"){m.callback=null,f=m.priorityLevel;var W=V(m.expirationTime<=R);R=e.unstable_now(),typeof W=="function"?m.callback=W:m===r(c)&&n(c),b(R)}else n(c);m=r(c)}if(m!==null)var ee=!0;else{var se=r(u);se!==null&&z(N,se.startTime-R),ee=!1}return ee}finally{m=null,f=F,p=!1}}var w=!1,A=null,T=-1,S=5,_=-1;function P(){return!(e.unstable_now()-_<S)}function k(){if(A!==null){var I=e.unstable_now();_=I;var R=!0;try{R=A(!0,I)}finally{R?O():(w=!1,A=null)}}else w=!1}var O;if(typeof y=="function")O=function(){y(k)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,D=C.port2;C.port1.onmessage=k,O=function(){D.postMessage(null)}}else O=function(){v(k,0)};function U(I){A=I,w||(w=!0,O())}function z(I,R){T=v(function(){I(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){h||p||(h=!0,U(j))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var F=f;f=R;try{return I()}finally{f=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,R){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var F=f;f=I;try{return R()}finally{f=F}},e.unstable_scheduleCallback=function(I,R,F){var V=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?V+F:V):F=V,I){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=F+W,I={id:d++,callback:R,priorityLevel:I,startTime:F,expirationTime:W,sortIndex:-1},F>V?(I.sortIndex=F,t(u,I),r(c)===null&&I===r(u)&&(g?(x(T),T=-1):g=!0,z(N,F-V))):(I.sortIndex=W,t(c,I),h||p||(h=!0,U(j))),I},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(I){var R=f;return function(){var F=f;f=R;try{return I.apply(this,arguments)}finally{f=F}}}})(uA);cA.exports=uA;var P_=cA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_=E,Mr=P_;function ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dA=new Set,Bl={};function Ks(e,t){zi(e,t),zi(e+"Capture",t)}function zi(e,t){for(Bl[e]=t,e=0;e<t.length;e++)dA.add(t[e])}var ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_h=Object.prototype.hasOwnProperty,C_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,U0={},F0={};function __(e){return _h.call(F0,e)?!0:_h.call(U0,e)?!1:C_.test(e)?F0[e]=!0:(U0[e]=!0,!1)}function k_(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function I_(e,t,r,n){if(t===null||typeof t>"u"||k_(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function mr(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Vt[e]=new mr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Vt[t]=new mr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Vt[e]=new mr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Vt[e]=new mr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Vt[e]=new mr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Vt[e]=new mr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Vt[e]=new mr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Vt[e]=new mr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Vt[e]=new mr(e,5,!1,e.toLowerCase(),null,!1,!1)});var bg=/[\-:]([a-z])/g;function jg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(bg,jg);Vt[t]=new mr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(bg,jg);Vt[t]=new mr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(bg,jg);Vt[t]=new mr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Vt[e]=new mr(e,1,!1,e.toLowerCase(),null,!1,!1)});Vt.xlinkHref=new mr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Vt[e]=new mr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ng(e,t,r,n){var s=Vt.hasOwnProperty(t)?Vt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(I_(t,r,s,n)&&(r=null),n||s===null?__(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var da=O_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xu=Symbol.for("react.element"),fi=Symbol.for("react.portal"),pi=Symbol.for("react.fragment"),wg=Symbol.for("react.strict_mode"),kh=Symbol.for("react.profiler"),mA=Symbol.for("react.provider"),fA=Symbol.for("react.context"),Sg=Symbol.for("react.forward_ref"),Ih=Symbol.for("react.suspense"),$h=Symbol.for("react.suspense_list"),Ag=Symbol.for("react.memo"),ba=Symbol.for("react.lazy"),pA=Symbol.for("react.offscreen"),z0=Symbol.iterator;function Wo(e){return e===null||typeof e!="object"?null:(e=z0&&e[z0]||e["@@iterator"],typeof e=="function"?e:null)}var at=Object.assign,pp;function hl(e){if(pp===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);pp=t&&t[1]||""}return`
`+pp+e}var hp=!1;function xp(e,t){if(!e||hp)return"";hp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{hp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?hl(e):""}function $_(e){switch(e.tag){case 5:return hl(e.type);case 16:return hl("Lazy");case 13:return hl("Suspense");case 19:return hl("SuspenseList");case 0:case 2:case 15:return e=xp(e.type,!1),e;case 11:return e=xp(e.type.render,!1),e;case 1:return e=xp(e.type,!0),e;default:return""}}function Rh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pi:return"Fragment";case fi:return"Portal";case kh:return"Profiler";case wg:return"StrictMode";case Ih:return"Suspense";case $h:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fA:return(e.displayName||"Context")+".Consumer";case mA:return(e._context.displayName||"Context")+".Provider";case Sg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ag:return t=e.displayName||null,t!==null?t:Rh(e.type)||"Memo";case ba:t=e._payload,e=e._init;try{return Rh(e(t))}catch{}}return null}function R_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rh(t);case 8:return t===wg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hA(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function M_(e){var t=hA(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yu(e){e._valueTracker||(e._valueTracker=M_(e))}function xA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=hA(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function yd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mh(e,t){var r=t.checked;return at({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function H0(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=qa(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function yA(e,t){t=t.checked,t!=null&&Ng(e,"checked",t,!1)}function Dh(e,t){yA(e,t);var r=qa(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lh(e,t.type,r):t.hasOwnProperty("defaultValue")&&Lh(e,t.type,qa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function V0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Lh(e,t,r){(t!=="number"||yd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var xl=Array.isArray;function _i(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+qa(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Bh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ne(91));return at({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function q0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ne(92));if(xl(r)){if(1<r.length)throw Error(ne(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:qa(r)}}function gA(e,t){var r=qa(t.value),n=qa(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function W0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vA(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vA(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gu,bA=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gu=gu||document.createElement("div"),gu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ul(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var jl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},D_=["Webkit","ms","Moz","O"];Object.keys(jl).forEach(function(e){D_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jl[t]=jl[e]})});function jA(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||jl.hasOwnProperty(e)&&jl[e]?(""+t).trim():t+"px"}function NA(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=jA(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var L_=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fh(e,t){if(t){if(L_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ne(62))}}function zh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hh=null;function Eg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vh=null,ki=null,Ii=null;function G0(e){if(e=Wc(e)){if(typeof Vh!="function")throw Error(ne(280));var t=e.stateNode;t&&(t=Qm(t),Vh(e.stateNode,e.type,t))}}function wA(e){ki?Ii?Ii.push(e):Ii=[e]:ki=e}function SA(){if(ki){var e=ki,t=Ii;if(Ii=ki=null,G0(e),t)for(e=0;e<t.length;e++)G0(t[e])}}function AA(e,t){return e(t)}function EA(){}var yp=!1;function TA(e,t,r){if(yp)return e(t,r);yp=!0;try{return AA(e,t,r)}finally{yp=!1,(ki!==null||Ii!==null)&&(EA(),SA())}}function Fl(e,t){var r=e.stateNode;if(r===null)return null;var n=Qm(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ne(231,t,typeof r));return r}var qh=!1;if(ra)try{var Go={};Object.defineProperty(Go,"passive",{get:function(){qh=!0}}),window.addEventListener("test",Go,Go),window.removeEventListener("test",Go,Go)}catch{qh=!1}function B_(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Nl=!1,gd=null,vd=!1,Wh=null,U_={onError:function(e){Nl=!0,gd=e}};function F_(e,t,r,n,s,i,o,l,c){Nl=!1,gd=null,B_.apply(U_,arguments)}function z_(e,t,r,n,s,i,o,l,c){if(F_.apply(this,arguments),Nl){if(Nl){var u=gd;Nl=!1,gd=null}else throw Error(ne(198));vd||(vd=!0,Wh=u)}}function Xs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function PA(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Y0(e){if(Xs(e)!==e)throw Error(ne(188))}function H_(e){var t=e.alternate;if(!t){if(t=Xs(e),t===null)throw Error(ne(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Y0(s),e;if(i===n)return Y0(s),t;i=i.sibling}throw Error(ne(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(ne(189))}}if(r.alternate!==n)throw Error(ne(190))}if(r.tag!==3)throw Error(ne(188));return r.stateNode.current===r?e:t}function OA(e){return e=H_(e),e!==null?CA(e):null}function CA(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=CA(e);if(t!==null)return t;e=e.sibling}return null}var _A=Mr.unstable_scheduleCallback,K0=Mr.unstable_cancelCallback,V_=Mr.unstable_shouldYield,q_=Mr.unstable_requestPaint,mt=Mr.unstable_now,W_=Mr.unstable_getCurrentPriorityLevel,Tg=Mr.unstable_ImmediatePriority,kA=Mr.unstable_UserBlockingPriority,bd=Mr.unstable_NormalPriority,G_=Mr.unstable_LowPriority,IA=Mr.unstable_IdlePriority,Gm=null,Pn=null;function Y_(e){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(Gm,e,void 0,(e.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:Q_,K_=Math.log,X_=Math.LN2;function Q_(e){return e>>>=0,e===0?32:31-(K_(e)/X_|0)|0}var vu=64,bu=4194304;function yl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=yl(l):(i&=o,i!==0&&(n=yl(i)))}else o=r&~s,o!==0?n=yl(o):i!==0&&(n=yl(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-fn(t),s=1<<r,n|=e[r],t&=~s;return n}function J_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Z_(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-fn(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=J_(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Gh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $A(){var e=vu;return vu<<=1,!(vu&4194240)&&(vu=64),e}function gp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Vc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-fn(t),e[t]=r}function ek(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-fn(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Pg(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-fn(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Le=0;function RA(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var MA,Og,DA,LA,BA,Yh=!1,ju=[],$a=null,Ra=null,Ma=null,zl=new Map,Hl=new Map,Aa=[],tk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function X0(e,t){switch(e){case"focusin":case"focusout":$a=null;break;case"dragenter":case"dragleave":Ra=null;break;case"mouseover":case"mouseout":Ma=null;break;case"pointerover":case"pointerout":zl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(t.pointerId)}}function Yo(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Wc(t),t!==null&&Og(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function rk(e,t,r,n,s){switch(t){case"focusin":return $a=Yo($a,e,t,r,n,s),!0;case"dragenter":return Ra=Yo(Ra,e,t,r,n,s),!0;case"mouseover":return Ma=Yo(Ma,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return zl.set(i,Yo(zl.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Hl.set(i,Yo(Hl.get(i)||null,e,t,r,n,s)),!0}return!1}function UA(e){var t=ys(e.target);if(t!==null){var r=Xs(t);if(r!==null){if(t=r.tag,t===13){if(t=PA(r),t!==null){e.blockedOn=t,BA(e.priority,function(){DA(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Kh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Hh=n,r.target.dispatchEvent(n),Hh=null}else return t=Wc(r),t!==null&&Og(t),e.blockedOn=r,!1;t.shift()}return!0}function Q0(e,t,r){nd(e)&&r.delete(t)}function nk(){Yh=!1,$a!==null&&nd($a)&&($a=null),Ra!==null&&nd(Ra)&&(Ra=null),Ma!==null&&nd(Ma)&&(Ma=null),zl.forEach(Q0),Hl.forEach(Q0)}function Ko(e,t){e.blockedOn===t&&(e.blockedOn=null,Yh||(Yh=!0,Mr.unstable_scheduleCallback(Mr.unstable_NormalPriority,nk)))}function Vl(e){function t(s){return Ko(s,e)}if(0<ju.length){Ko(ju[0],e);for(var r=1;r<ju.length;r++){var n=ju[r];n.blockedOn===e&&(n.blockedOn=null)}}for($a!==null&&Ko($a,e),Ra!==null&&Ko(Ra,e),Ma!==null&&Ko(Ma,e),zl.forEach(t),Hl.forEach(t),r=0;r<Aa.length;r++)n=Aa[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Aa.length&&(r=Aa[0],r.blockedOn===null);)UA(r),r.blockedOn===null&&Aa.shift()}var $i=da.ReactCurrentBatchConfig,Nd=!0;function ak(e,t,r,n){var s=Le,i=$i.transition;$i.transition=null;try{Le=1,Cg(e,t,r,n)}finally{Le=s,$i.transition=i}}function sk(e,t,r,n){var s=Le,i=$i.transition;$i.transition=null;try{Le=4,Cg(e,t,r,n)}finally{Le=s,$i.transition=i}}function Cg(e,t,r,n){if(Nd){var s=Kh(e,t,r,n);if(s===null)Pp(e,t,n,wd,r),X0(e,n);else if(rk(s,e,t,r,n))n.stopPropagation();else if(X0(e,n),t&4&&-1<tk.indexOf(e)){for(;s!==null;){var i=Wc(s);if(i!==null&&MA(i),i=Kh(e,t,r,n),i===null&&Pp(e,t,n,wd,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Pp(e,t,n,null,r)}}var wd=null;function Kh(e,t,r,n){if(wd=null,e=Eg(n),e=ys(e),e!==null)if(t=Xs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=PA(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wd=e,null}function FA(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(W_()){case Tg:return 1;case kA:return 4;case bd:case G_:return 16;case IA:return 536870912;default:return 16}default:return 16}}var Oa=null,_g=null,ad=null;function zA(){if(ad)return ad;var e,t=_g,r=t.length,n,s="value"in Oa?Oa.value:Oa.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return ad=s.slice(e,1<n?1-n:void 0)}function sd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Nu(){return!0}function J0(){return!1}function Lr(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Nu:J0,this.isPropagationStopped=J0,this}return at(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Nu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Nu)},persist:function(){},isPersistent:Nu}),t}var Ao={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kg=Lr(Ao),qc=at({},Ao,{view:0,detail:0}),ik=Lr(qc),vp,bp,Xo,Ym=at({},qc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ig,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xo&&(Xo&&e.type==="mousemove"?(vp=e.screenX-Xo.screenX,bp=e.screenY-Xo.screenY):bp=vp=0,Xo=e),vp)},movementY:function(e){return"movementY"in e?e.movementY:bp}}),Z0=Lr(Ym),ok=at({},Ym,{dataTransfer:0}),lk=Lr(ok),ck=at({},qc,{relatedTarget:0}),jp=Lr(ck),uk=at({},Ao,{animationName:0,elapsedTime:0,pseudoElement:0}),dk=Lr(uk),mk=at({},Ao,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fk=Lr(mk),pk=at({},Ao,{data:0}),eb=Lr(pk),hk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yk[e])?!!t[e]:!1}function Ig(){return gk}var vk=at({},qc,{key:function(e){if(e.key){var t=hk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=sd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ig,charCode:function(e){return e.type==="keypress"?sd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bk=Lr(vk),jk=at({},Ym,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tb=Lr(jk),Nk=at({},qc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ig}),wk=Lr(Nk),Sk=at({},Ao,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ak=Lr(Sk),Ek=at({},Ym,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tk=Lr(Ek),Pk=[9,13,27,32],$g=ra&&"CompositionEvent"in window,wl=null;ra&&"documentMode"in document&&(wl=document.documentMode);var Ok=ra&&"TextEvent"in window&&!wl,HA=ra&&(!$g||wl&&8<wl&&11>=wl),rb=" ",nb=!1;function VA(e,t){switch(e){case"keyup":return Pk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qA(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hi=!1;function Ck(e,t){switch(e){case"compositionend":return qA(t);case"keypress":return t.which!==32?null:(nb=!0,rb);case"textInput":return e=t.data,e===rb&&nb?null:e;default:return null}}function _k(e,t){if(hi)return e==="compositionend"||!$g&&VA(e,t)?(e=zA(),ad=_g=Oa=null,hi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return HA&&t.locale!=="ko"?null:t.data;default:return null}}var kk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ab(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kk[e.type]:t==="textarea"}function WA(e,t,r,n){wA(n),t=Sd(t,"onChange"),0<t.length&&(r=new kg("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Sl=null,ql=null;function Ik(e){n2(e,0)}function Km(e){var t=gi(e);if(xA(t))return e}function $k(e,t){if(e==="change")return t}var GA=!1;if(ra){var Np;if(ra){var wp="oninput"in document;if(!wp){var sb=document.createElement("div");sb.setAttribute("oninput","return;"),wp=typeof sb.oninput=="function"}Np=wp}else Np=!1;GA=Np&&(!document.documentMode||9<document.documentMode)}function ib(){Sl&&(Sl.detachEvent("onpropertychange",YA),ql=Sl=null)}function YA(e){if(e.propertyName==="value"&&Km(ql)){var t=[];WA(t,ql,e,Eg(e)),TA(Ik,t)}}function Rk(e,t,r){e==="focusin"?(ib(),Sl=t,ql=r,Sl.attachEvent("onpropertychange",YA)):e==="focusout"&&ib()}function Mk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Km(ql)}function Dk(e,t){if(e==="click")return Km(t)}function Lk(e,t){if(e==="input"||e==="change")return Km(t)}function Bk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xn=typeof Object.is=="function"?Object.is:Bk;function Wl(e,t){if(xn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!_h.call(t,s)||!xn(e[s],t[s]))return!1}return!0}function ob(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lb(e,t){var r=ob(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ob(r)}}function KA(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?KA(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function XA(){for(var e=window,t=yd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=yd(e.document)}return t}function Rg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Uk(e){var t=XA(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&KA(r.ownerDocument.documentElement,r)){if(n!==null&&Rg(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=lb(r,i);var o=lb(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Fk=ra&&"documentMode"in document&&11>=document.documentMode,xi=null,Xh=null,Al=null,Qh=!1;function cb(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qh||xi==null||xi!==yd(n)||(n=xi,"selectionStart"in n&&Rg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Al&&Wl(Al,n)||(Al=n,n=Sd(Xh,"onSelect"),0<n.length&&(t=new kg("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=xi)))}function wu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var yi={animationend:wu("Animation","AnimationEnd"),animationiteration:wu("Animation","AnimationIteration"),animationstart:wu("Animation","AnimationStart"),transitionend:wu("Transition","TransitionEnd")},Sp={},QA={};ra&&(QA=document.createElement("div").style,"AnimationEvent"in window||(delete yi.animationend.animation,delete yi.animationiteration.animation,delete yi.animationstart.animation),"TransitionEvent"in window||delete yi.transitionend.transition);function Xm(e){if(Sp[e])return Sp[e];if(!yi[e])return e;var t=yi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in QA)return Sp[e]=t[r];return e}var JA=Xm("animationend"),ZA=Xm("animationiteration"),e2=Xm("animationstart"),t2=Xm("transitionend"),r2=new Map,ub="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ka(e,t){r2.set(e,t),Ks(t,[e])}for(var Ap=0;Ap<ub.length;Ap++){var Ep=ub[Ap],zk=Ep.toLowerCase(),Hk=Ep[0].toUpperCase()+Ep.slice(1);Ka(zk,"on"+Hk)}Ka(JA,"onAnimationEnd");Ka(ZA,"onAnimationIteration");Ka(e2,"onAnimationStart");Ka("dblclick","onDoubleClick");Ka("focusin","onFocus");Ka("focusout","onBlur");Ka(t2,"onTransitionEnd");zi("onMouseEnter",["mouseout","mouseover"]);zi("onMouseLeave",["mouseout","mouseover"]);zi("onPointerEnter",["pointerout","pointerover"]);zi("onPointerLeave",["pointerout","pointerover"]);Ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ks("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vk=new Set("cancel close invalid load scroll toggle".split(" ").concat(gl));function db(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,z_(n,t,void 0,e),e.currentTarget=null}function n2(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;db(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;db(s,l,u),i=c}}}if(vd)throw e=Wh,vd=!1,Wh=null,e}function Ye(e,t){var r=t[rx];r===void 0&&(r=t[rx]=new Set);var n=e+"__bubble";r.has(n)||(a2(t,e,2,!1),r.add(n))}function Tp(e,t,r){var n=0;t&&(n|=4),a2(r,e,n,t)}var Su="_reactListening"+Math.random().toString(36).slice(2);function Gl(e){if(!e[Su]){e[Su]=!0,dA.forEach(function(r){r!=="selectionchange"&&(Vk.has(r)||Tp(r,!1,e),Tp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Su]||(t[Su]=!0,Tp("selectionchange",!1,t))}}function a2(e,t,r,n){switch(FA(t)){case 1:var s=ak;break;case 4:s=sk;break;default:s=Cg}r=s.bind(null,t,r,e),s=void 0,!qh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Pp(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ys(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}TA(function(){var u=i,d=Eg(r),m=[];e:{var f=r2.get(e);if(f!==void 0){var p=kg,h=e;switch(e){case"keypress":if(sd(r)===0)break e;case"keydown":case"keyup":p=bk;break;case"focusin":h="focus",p=jp;break;case"focusout":h="blur",p=jp;break;case"beforeblur":case"afterblur":p=jp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Z0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=lk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=wk;break;case JA:case ZA:case e2:p=dk;break;case t2:p=Ak;break;case"scroll":p=ik;break;case"wheel":p=Tk;break;case"copy":case"cut":case"paste":p=fk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=tb}var g=(t&4)!==0,v=!g&&e==="scroll",x=g?f!==null?f+"Capture":null:f;g=[];for(var y=u,b;y!==null;){b=y;var N=b.stateNode;if(b.tag===5&&N!==null&&(b=N,x!==null&&(N=Fl(y,x),N!=null&&g.push(Yl(y,N,b)))),v)break;y=y.return}0<g.length&&(f=new p(f,h,null,r,d),m.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==Hh&&(h=r.relatedTarget||r.fromElement)&&(ys(h)||h[na]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(h=r.relatedTarget||r.toElement,p=u,h=h?ys(h):null,h!==null&&(v=Xs(h),h!==v||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=u),p!==h)){if(g=Z0,N="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=tb,N="onPointerLeave",x="onPointerEnter",y="pointer"),v=p==null?f:gi(p),b=h==null?f:gi(h),f=new g(N,y+"leave",p,r,d),f.target=v,f.relatedTarget=b,N=null,ys(d)===u&&(g=new g(x,y+"enter",h,r,d),g.target=b,g.relatedTarget=v,N=g),v=N,p&&h)t:{for(g=p,x=h,y=0,b=g;b;b=si(b))y++;for(b=0,N=x;N;N=si(N))b++;for(;0<y-b;)g=si(g),y--;for(;0<b-y;)x=si(x),b--;for(;y--;){if(g===x||x!==null&&g===x.alternate)break t;g=si(g),x=si(x)}g=null}else g=null;p!==null&&mb(m,f,p,g,!1),h!==null&&v!==null&&mb(m,v,h,g,!0)}}e:{if(f=u?gi(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var j=$k;else if(ab(f))if(GA)j=Lk;else{j=Mk;var w=Rk}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=Dk);if(j&&(j=j(e,u))){WA(m,j,r,d);break e}w&&w(e,f,u),e==="focusout"&&(w=f._wrapperState)&&w.controlled&&f.type==="number"&&Lh(f,"number",f.value)}switch(w=u?gi(u):window,e){case"focusin":(ab(w)||w.contentEditable==="true")&&(xi=w,Xh=u,Al=null);break;case"focusout":Al=Xh=xi=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,cb(m,r,d);break;case"selectionchange":if(Fk)break;case"keydown":case"keyup":cb(m,r,d)}var A;if($g)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else hi?VA(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(HA&&r.locale!=="ko"&&(hi||T!=="onCompositionStart"?T==="onCompositionEnd"&&hi&&(A=zA()):(Oa=d,_g="value"in Oa?Oa.value:Oa.textContent,hi=!0)),w=Sd(u,T),0<w.length&&(T=new eb(T,e,null,r,d),m.push({event:T,listeners:w}),A?T.data=A:(A=qA(r),A!==null&&(T.data=A)))),(A=Ok?Ck(e,r):_k(e,r))&&(u=Sd(u,"onBeforeInput"),0<u.length&&(d=new eb("onBeforeInput","beforeinput",null,r,d),m.push({event:d,listeners:u}),d.data=A))}n2(m,t)})}function Yl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Sd(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Fl(e,r),i!=null&&n.unshift(Yl(e,i,s)),i=Fl(e,t),i!=null&&n.push(Yl(e,i,s))),e=e.return}return n}function si(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mb(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Fl(r,i),c!=null&&o.unshift(Yl(r,c,l))):s||(c=Fl(r,i),c!=null&&o.push(Yl(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var qk=/\r\n?/g,Wk=/\u0000|\uFFFD/g;function fb(e){return(typeof e=="string"?e:""+e).replace(qk,`
`).replace(Wk,"")}function Au(e,t,r){if(t=fb(t),fb(e)!==t&&r)throw Error(ne(425))}function Ad(){}var Jh=null,Zh=null;function ex(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tx=typeof setTimeout=="function"?setTimeout:void 0,Gk=typeof clearTimeout=="function"?clearTimeout:void 0,pb=typeof Promise=="function"?Promise:void 0,Yk=typeof queueMicrotask=="function"?queueMicrotask:typeof pb<"u"?function(e){return pb.resolve(null).then(e).catch(Kk)}:tx;function Kk(e){setTimeout(function(){throw e})}function Op(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Vl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Vl(t)}function Da(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Eo=Math.random().toString(36).slice(2),An="__reactFiber$"+Eo,Kl="__reactProps$"+Eo,na="__reactContainer$"+Eo,rx="__reactEvents$"+Eo,Xk="__reactListeners$"+Eo,Qk="__reactHandles$"+Eo;function ys(e){var t=e[An];if(t)return t;for(var r=e.parentNode;r;){if(t=r[na]||r[An]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=hb(e);e!==null;){if(r=e[An])return r;e=hb(e)}return t}e=r,r=e.parentNode}return null}function Wc(e){return e=e[An]||e[na],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ne(33))}function Qm(e){return e[Kl]||null}var nx=[],vi=-1;function Xa(e){return{current:e}}function Qe(e){0>vi||(e.current=nx[vi],nx[vi]=null,vi--)}function We(e,t){vi++,nx[vi]=e.current,e.current=t}var Wa={},tr=Xa(Wa),gr=Xa(!1),Is=Wa;function Hi(e,t){var r=e.type.contextTypes;if(!r)return Wa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function vr(e){return e=e.childContextTypes,e!=null}function Ed(){Qe(gr),Qe(tr)}function xb(e,t,r){if(tr.current!==Wa)throw Error(ne(168));We(tr,t),We(gr,r)}function s2(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(ne(108,R_(e)||"Unknown",s));return at({},r,n)}function Td(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wa,Is=tr.current,We(tr,e),We(gr,gr.current),!0}function yb(e,t,r){var n=e.stateNode;if(!n)throw Error(ne(169));r?(e=s2(e,t,Is),n.__reactInternalMemoizedMergedChildContext=e,Qe(gr),Qe(tr),We(tr,e)):Qe(gr),We(gr,r)}var Fn=null,Jm=!1,Cp=!1;function i2(e){Fn===null?Fn=[e]:Fn.push(e)}function Jk(e){Jm=!0,i2(e)}function Qa(){if(!Cp&&Fn!==null){Cp=!0;var e=0,t=Le;try{var r=Fn;for(Le=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Fn=null,Jm=!1}catch(s){throw Fn!==null&&(Fn=Fn.slice(e+1)),_A(Tg,Qa),s}finally{Le=t,Cp=!1}}return null}var bi=[],ji=0,Pd=null,Od=0,zr=[],Hr=0,$s=null,qn=1,Wn="";function cs(e,t){bi[ji++]=Od,bi[ji++]=Pd,Pd=e,Od=t}function o2(e,t,r){zr[Hr++]=qn,zr[Hr++]=Wn,zr[Hr++]=$s,$s=e;var n=qn;e=Wn;var s=32-fn(n)-1;n&=~(1<<s),r+=1;var i=32-fn(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,qn=1<<32-fn(t)+s|r<<s|n,Wn=i+e}else qn=1<<i|r<<s|n,Wn=e}function Mg(e){e.return!==null&&(cs(e,1),o2(e,1,0))}function Dg(e){for(;e===Pd;)Pd=bi[--ji],bi[ji]=null,Od=bi[--ji],bi[ji]=null;for(;e===$s;)$s=zr[--Hr],zr[Hr]=null,Wn=zr[--Hr],zr[Hr]=null,qn=zr[--Hr],zr[Hr]=null}var Ir=null,kr=null,Je=!1,cn=null;function l2(e,t){var r=qr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function gb(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ir=e,kr=Da(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ir=e,kr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=$s!==null?{id:qn,overflow:Wn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=qr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ir=e,kr=null,!0):!1;default:return!1}}function ax(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sx(e){if(Je){var t=kr;if(t){var r=t;if(!gb(e,t)){if(ax(e))throw Error(ne(418));t=Da(r.nextSibling);var n=Ir;t&&gb(e,t)?l2(n,r):(e.flags=e.flags&-4097|2,Je=!1,Ir=e)}}else{if(ax(e))throw Error(ne(418));e.flags=e.flags&-4097|2,Je=!1,Ir=e}}}function vb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ir=e}function Eu(e){if(e!==Ir)return!1;if(!Je)return vb(e),Je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ex(e.type,e.memoizedProps)),t&&(t=kr)){if(ax(e))throw c2(),Error(ne(418));for(;t;)l2(e,t),t=Da(t.nextSibling)}if(vb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){kr=Da(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}kr=null}}else kr=Ir?Da(e.stateNode.nextSibling):null;return!0}function c2(){for(var e=kr;e;)e=Da(e.nextSibling)}function Vi(){kr=Ir=null,Je=!1}function Lg(e){cn===null?cn=[e]:cn.push(e)}var Zk=da.ReactCurrentBatchConfig;function Qo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ne(309));var n=r.stateNode}if(!n)throw Error(ne(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ne(284));if(!r._owner)throw Error(ne(290,e))}return e}function Tu(e,t){throw e=Object.prototype.toString.call(t),Error(ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bb(e){var t=e._init;return t(e._payload)}function u2(e){function t(x,y){if(e){var b=x.deletions;b===null?(x.deletions=[y],x.flags|=16):b.push(y)}}function r(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function s(x,y){return x=Fa(x,y),x.index=0,x.sibling=null,x}function i(x,y,b){return x.index=b,e?(b=x.alternate,b!==null?(b=b.index,b<y?(x.flags|=2,y):b):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,y,b,N){return y===null||y.tag!==6?(y=Dp(b,x.mode,N),y.return=x,y):(y=s(y,b),y.return=x,y)}function c(x,y,b,N){var j=b.type;return j===pi?d(x,y,b.props.children,N,b.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ba&&bb(j)===y.type)?(N=s(y,b.props),N.ref=Qo(x,y,b),N.return=x,N):(N=md(b.type,b.key,b.props,null,x.mode,N),N.ref=Qo(x,y,b),N.return=x,N)}function u(x,y,b,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Lp(b,x.mode,N),y.return=x,y):(y=s(y,b.children||[]),y.return=x,y)}function d(x,y,b,N,j){return y===null||y.tag!==7?(y=Ps(b,x.mode,N,j),y.return=x,y):(y=s(y,b),y.return=x,y)}function m(x,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Dp(""+y,x.mode,b),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case xu:return b=md(y.type,y.key,y.props,null,x.mode,b),b.ref=Qo(x,null,y),b.return=x,b;case fi:return y=Lp(y,x.mode,b),y.return=x,y;case ba:var N=y._init;return m(x,N(y._payload),b)}if(xl(y)||Wo(y))return y=Ps(y,x.mode,b,null),y.return=x,y;Tu(x,y)}return null}function f(x,y,b,N){var j=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:l(x,y,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case xu:return b.key===j?c(x,y,b,N):null;case fi:return b.key===j?u(x,y,b,N):null;case ba:return j=b._init,f(x,y,j(b._payload),N)}if(xl(b)||Wo(b))return j!==null?null:d(x,y,b,N,null);Tu(x,b)}return null}function p(x,y,b,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(b)||null,l(y,x,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case xu:return x=x.get(N.key===null?b:N.key)||null,c(y,x,N,j);case fi:return x=x.get(N.key===null?b:N.key)||null,u(y,x,N,j);case ba:var w=N._init;return p(x,y,b,w(N._payload),j)}if(xl(N)||Wo(N))return x=x.get(b)||null,d(y,x,N,j,null);Tu(y,N)}return null}function h(x,y,b,N){for(var j=null,w=null,A=y,T=y=0,S=null;A!==null&&T<b.length;T++){A.index>T?(S=A,A=null):S=A.sibling;var _=f(x,A,b[T],N);if(_===null){A===null&&(A=S);break}e&&A&&_.alternate===null&&t(x,A),y=i(_,y,T),w===null?j=_:w.sibling=_,w=_,A=S}if(T===b.length)return r(x,A),Je&&cs(x,T),j;if(A===null){for(;T<b.length;T++)A=m(x,b[T],N),A!==null&&(y=i(A,y,T),w===null?j=A:w.sibling=A,w=A);return Je&&cs(x,T),j}for(A=n(x,A);T<b.length;T++)S=p(A,x,T,b[T],N),S!==null&&(e&&S.alternate!==null&&A.delete(S.key===null?T:S.key),y=i(S,y,T),w===null?j=S:w.sibling=S,w=S);return e&&A.forEach(function(P){return t(x,P)}),Je&&cs(x,T),j}function g(x,y,b,N){var j=Wo(b);if(typeof j!="function")throw Error(ne(150));if(b=j.call(b),b==null)throw Error(ne(151));for(var w=j=null,A=y,T=y=0,S=null,_=b.next();A!==null&&!_.done;T++,_=b.next()){A.index>T?(S=A,A=null):S=A.sibling;var P=f(x,A,_.value,N);if(P===null){A===null&&(A=S);break}e&&A&&P.alternate===null&&t(x,A),y=i(P,y,T),w===null?j=P:w.sibling=P,w=P,A=S}if(_.done)return r(x,A),Je&&cs(x,T),j;if(A===null){for(;!_.done;T++,_=b.next())_=m(x,_.value,N),_!==null&&(y=i(_,y,T),w===null?j=_:w.sibling=_,w=_);return Je&&cs(x,T),j}for(A=n(x,A);!_.done;T++,_=b.next())_=p(A,x,T,_.value,N),_!==null&&(e&&_.alternate!==null&&A.delete(_.key===null?T:_.key),y=i(_,y,T),w===null?j=_:w.sibling=_,w=_);return e&&A.forEach(function(k){return t(x,k)}),Je&&cs(x,T),j}function v(x,y,b,N){if(typeof b=="object"&&b!==null&&b.type===pi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case xu:e:{for(var j=b.key,w=y;w!==null;){if(w.key===j){if(j=b.type,j===pi){if(w.tag===7){r(x,w.sibling),y=s(w,b.props.children),y.return=x,x=y;break e}}else if(w.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ba&&bb(j)===w.type){r(x,w.sibling),y=s(w,b.props),y.ref=Qo(x,w,b),y.return=x,x=y;break e}r(x,w);break}else t(x,w);w=w.sibling}b.type===pi?(y=Ps(b.props.children,x.mode,N,b.key),y.return=x,x=y):(N=md(b.type,b.key,b.props,null,x.mode,N),N.ref=Qo(x,y,b),N.return=x,x=N)}return o(x);case fi:e:{for(w=b.key;y!==null;){if(y.key===w)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(x,y.sibling),y=s(y,b.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else t(x,y);y=y.sibling}y=Lp(b,x.mode,N),y.return=x,x=y}return o(x);case ba:return w=b._init,v(x,y,w(b._payload),N)}if(xl(b))return h(x,y,b,N);if(Wo(b))return g(x,y,b,N);Tu(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(x,y.sibling),y=s(y,b),y.return=x,x=y):(r(x,y),y=Dp(b,x.mode,N),y.return=x,x=y),o(x)):r(x,y)}return v}var qi=u2(!0),d2=u2(!1),Cd=Xa(null),_d=null,Ni=null,Bg=null;function Ug(){Bg=Ni=_d=null}function Fg(e){var t=Cd.current;Qe(Cd),e._currentValue=t}function ix(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ri(e,t){_d=e,Bg=Ni=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xr=!0),e.firstContext=null)}function Xr(e){var t=e._currentValue;if(Bg!==e)if(e={context:e,memoizedValue:t,next:null},Ni===null){if(_d===null)throw Error(ne(308));Ni=e,_d.dependencies={lanes:0,firstContext:e}}else Ni=Ni.next=e;return t}var gs=null;function zg(e){gs===null?gs=[e]:gs.push(e)}function m2(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,zg(t)):(r.next=s.next,s.next=r),t.interleaved=r,aa(e,n)}function aa(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ja=!1;function Hg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function f2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function La(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,_e&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,aa(e,r)}return s=n.interleaved,s===null?(t.next=t,zg(n)):(t.next=s.next,s.next=t),n.interleaved=t,aa(e,r)}function id(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Pg(e,r)}}function jb(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function kd(e,t,r,n){var s=e.updateQueue;ja=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var m=s.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=e,g=l;switch(f=t,p=r,g.tag){case 1:if(h=g.payload,typeof h=="function"){m=h.call(p,m,f);break e}m=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=g.payload,f=typeof h=="function"?h.call(p,m,f):h,f==null)break e;m=at({},m,f);break e;case 2:ja=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=m):d=d.next=p,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=m),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=m}}function Nb(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(ne(191,s));s.call(n)}}}var Gc={},On=Xa(Gc),Xl=Xa(Gc),Ql=Xa(Gc);function vs(e){if(e===Gc)throw Error(ne(174));return e}function Vg(e,t){switch(We(Ql,t),We(Xl,e),We(On,Gc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Uh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Uh(t,e)}Qe(On),We(On,t)}function Wi(){Qe(On),Qe(Xl),Qe(Ql)}function p2(e){vs(Ql.current);var t=vs(On.current),r=Uh(t,e.type);t!==r&&(We(Xl,e),We(On,r))}function qg(e){Xl.current===e&&(Qe(On),Qe(Xl))}var tt=Xa(0);function Id(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _p=[];function Wg(){for(var e=0;e<_p.length;e++)_p[e]._workInProgressVersionPrimary=null;_p.length=0}var od=da.ReactCurrentDispatcher,kp=da.ReactCurrentBatchConfig,Rs=0,nt=null,At=null,kt=null,$d=!1,El=!1,Jl=0,eI=0;function qt(){throw Error(ne(321))}function Gg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!xn(e[r],t[r]))return!1;return!0}function Yg(e,t,r,n,s,i){if(Rs=i,nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,od.current=e===null||e.memoizedState===null?aI:sI,e=r(n,s),El){i=0;do{if(El=!1,Jl=0,25<=i)throw Error(ne(301));i+=1,kt=At=null,t.updateQueue=null,od.current=iI,e=r(n,s)}while(El)}if(od.current=Rd,t=At!==null&&At.next!==null,Rs=0,kt=At=nt=null,$d=!1,t)throw Error(ne(300));return e}function Kg(){var e=Jl!==0;return Jl=0,e}function Sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?nt.memoizedState=kt=e:kt=kt.next=e,kt}function Qr(){if(At===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=At.next;var t=kt===null?nt.memoizedState:kt.next;if(t!==null)kt=t,At=e;else{if(e===null)throw Error(ne(310));At=e,e={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},kt===null?nt.memoizedState=kt=e:kt=kt.next=e}return kt}function Zl(e,t){return typeof t=="function"?t(e):t}function Ip(e){var t=Qr(),r=t.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=e;var n=At,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Rs&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=m,o=n):c=c.next=m,nt.lanes|=d,Ms|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,xn(n,t.memoizedState)||(xr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,nt.lanes|=i,Ms|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function $p(e){var t=Qr(),r=t.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);xn(i,t.memoizedState)||(xr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function h2(){}function x2(e,t){var r=nt,n=Qr(),s=t(),i=!xn(n.memoizedState,s);if(i&&(n.memoizedState=s,xr=!0),n=n.queue,Xg(v2.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||kt!==null&&kt.memoizedState.tag&1){if(r.flags|=2048,ec(9,g2.bind(null,r,n,s,t),void 0,null),Rt===null)throw Error(ne(349));Rs&30||y2(r,t,s)}return s}function y2(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function g2(e,t,r,n){t.value=r,t.getSnapshot=n,b2(t)&&j2(e)}function v2(e,t,r){return r(function(){b2(t)&&j2(e)})}function b2(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!xn(e,r)}catch{return!0}}function j2(e){var t=aa(e,1);t!==null&&pn(t,e,1,-1)}function wb(e){var t=Sn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zl,lastRenderedState:e},t.queue=e,e=e.dispatch=nI.bind(null,nt,e),[t.memoizedState,e]}function ec(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function N2(){return Qr().memoizedState}function ld(e,t,r,n){var s=Sn();nt.flags|=e,s.memoizedState=ec(1|t,r,void 0,n===void 0?null:n)}function Zm(e,t,r,n){var s=Qr();n=n===void 0?null:n;var i=void 0;if(At!==null){var o=At.memoizedState;if(i=o.destroy,n!==null&&Gg(n,o.deps)){s.memoizedState=ec(t,r,i,n);return}}nt.flags|=e,s.memoizedState=ec(1|t,r,i,n)}function Sb(e,t){return ld(8390656,8,e,t)}function Xg(e,t){return Zm(2048,8,e,t)}function w2(e,t){return Zm(4,2,e,t)}function S2(e,t){return Zm(4,4,e,t)}function A2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function E2(e,t,r){return r=r!=null?r.concat([e]):null,Zm(4,4,A2.bind(null,t,e),r)}function Qg(){}function T2(e,t){var r=Qr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Gg(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function P2(e,t){var r=Qr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Gg(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function O2(e,t,r){return Rs&21?(xn(r,t)||(r=$A(),nt.lanes|=r,Ms|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xr=!0),e.memoizedState=r)}function tI(e,t){var r=Le;Le=r!==0&&4>r?r:4,e(!0);var n=kp.transition;kp.transition={};try{e(!1),t()}finally{Le=r,kp.transition=n}}function C2(){return Qr().memoizedState}function rI(e,t,r){var n=Ua(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},_2(e))k2(t,r);else if(r=m2(e,t,r,n),r!==null){var s=cr();pn(r,e,n,s),I2(r,t,n)}}function nI(e,t,r){var n=Ua(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(_2(e))k2(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,xn(l,o)){var c=t.interleaved;c===null?(s.next=s,zg(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=m2(e,t,s,n),r!==null&&(s=cr(),pn(r,e,n,s),I2(r,t,n))}}function _2(e){var t=e.alternate;return e===nt||t!==null&&t===nt}function k2(e,t){El=$d=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function I2(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Pg(e,r)}}var Rd={readContext:Xr,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},aI={readContext:Xr,useCallback:function(e,t){return Sn().memoizedState=[e,t===void 0?null:t],e},useContext:Xr,useEffect:Sb,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ld(4194308,4,A2.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ld(4194308,4,e,t)},useInsertionEffect:function(e,t){return ld(4,2,e,t)},useMemo:function(e,t){var r=Sn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Sn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=rI.bind(null,nt,e),[n.memoizedState,e]},useRef:function(e){var t=Sn();return e={current:e},t.memoizedState=e},useState:wb,useDebugValue:Qg,useDeferredValue:function(e){return Sn().memoizedState=e},useTransition:function(){var e=wb(!1),t=e[0];return e=tI.bind(null,e[1]),Sn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=nt,s=Sn();if(Je){if(r===void 0)throw Error(ne(407));r=r()}else{if(r=t(),Rt===null)throw Error(ne(349));Rs&30||y2(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Sb(v2.bind(null,n,i,e),[e]),n.flags|=2048,ec(9,g2.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Sn(),t=Rt.identifierPrefix;if(Je){var r=Wn,n=qn;r=(n&~(1<<32-fn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Jl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=eI++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sI={readContext:Xr,useCallback:T2,useContext:Xr,useEffect:Xg,useImperativeHandle:E2,useInsertionEffect:w2,useLayoutEffect:S2,useMemo:P2,useReducer:Ip,useRef:N2,useState:function(){return Ip(Zl)},useDebugValue:Qg,useDeferredValue:function(e){var t=Qr();return O2(t,At.memoizedState,e)},useTransition:function(){var e=Ip(Zl)[0],t=Qr().memoizedState;return[e,t]},useMutableSource:h2,useSyncExternalStore:x2,useId:C2,unstable_isNewReconciler:!1},iI={readContext:Xr,useCallback:T2,useContext:Xr,useEffect:Xg,useImperativeHandle:E2,useInsertionEffect:w2,useLayoutEffect:S2,useMemo:P2,useReducer:$p,useRef:N2,useState:function(){return $p(Zl)},useDebugValue:Qg,useDeferredValue:function(e){var t=Qr();return At===null?t.memoizedState=e:O2(t,At.memoizedState,e)},useTransition:function(){var e=$p(Zl)[0],t=Qr().memoizedState;return[e,t]},useMutableSource:h2,useSyncExternalStore:x2,useId:C2,unstable_isNewReconciler:!1};function an(e,t){if(e&&e.defaultProps){t=at({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ox(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:at({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ef={isMounted:function(e){return(e=e._reactInternals)?Xs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=cr(),s=Ua(e),i=Xn(n,s);i.payload=t,r!=null&&(i.callback=r),t=La(e,i,s),t!==null&&(pn(t,e,s,n),id(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=cr(),s=Ua(e),i=Xn(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=La(e,i,s),t!==null&&(pn(t,e,s,n),id(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=cr(),n=Ua(e),s=Xn(r,n);s.tag=2,t!=null&&(s.callback=t),t=La(e,s,n),t!==null&&(pn(t,e,n,r),id(t,e,n))}};function Ab(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Wl(r,n)||!Wl(s,i):!0}function $2(e,t,r){var n=!1,s=Wa,i=t.contextType;return typeof i=="object"&&i!==null?i=Xr(i):(s=vr(t)?Is:tr.current,n=t.contextTypes,i=(n=n!=null)?Hi(e,s):Wa),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ef,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Eb(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ef.enqueueReplaceState(t,t.state,null)}function lx(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Hg(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Xr(i):(i=vr(t)?Is:tr.current,s.context=Hi(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ox(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ef.enqueueReplaceState(s,s.state,null),kd(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Gi(e,t){try{var r="",n=t;do r+=$_(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Rp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function cx(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var oI=typeof WeakMap=="function"?WeakMap:Map;function R2(e,t,r){r=Xn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Dd||(Dd=!0,vx=n),cx(e,t)},r}function M2(e,t,r){r=Xn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){cx(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){cx(e,t),typeof n!="function"&&(Ba===null?Ba=new Set([this]):Ba.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Tb(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new oI;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=jI.bind(null,e,t,r),t.then(e,e))}function Pb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ob(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Xn(-1,1),t.tag=2,La(r,t,1))),r.lanes|=1),e)}var lI=da.ReactCurrentOwner,xr=!1;function nr(e,t,r,n){t.child=e===null?d2(t,null,r,n):qi(t,e.child,r,n)}function Cb(e,t,r,n,s){r=r.render;var i=t.ref;return Ri(t,s),n=Yg(e,t,r,n,i,s),r=Kg(),e!==null&&!xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,sa(e,t,s)):(Je&&r&&Mg(t),t.flags|=1,nr(e,t,n,s),t.child)}function _b(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!sv(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,D2(e,t,i,n,s)):(e=md(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Wl,r(o,n)&&e.ref===t.ref)return sa(e,t,s)}return t.flags|=1,e=Fa(i,n),e.ref=t.ref,e.return=t,t.child=e}function D2(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Wl(i,n)&&e.ref===t.ref)if(xr=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(xr=!0);else return t.lanes=e.lanes,sa(e,t,s)}return ux(e,t,r,n,s)}function L2(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Si,Tr),Tr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,We(Si,Tr),Tr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,We(Si,Tr),Tr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,We(Si,Tr),Tr|=n;return nr(e,t,s,r),t.child}function B2(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ux(e,t,r,n,s){var i=vr(r)?Is:tr.current;return i=Hi(t,i),Ri(t,s),r=Yg(e,t,r,n,i,s),n=Kg(),e!==null&&!xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,sa(e,t,s)):(Je&&n&&Mg(t),t.flags|=1,nr(e,t,r,s),t.child)}function kb(e,t,r,n,s){if(vr(r)){var i=!0;Td(t)}else i=!1;if(Ri(t,s),t.stateNode===null)cd(e,t),$2(t,r,n),lx(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Xr(u):(u=vr(r)?Is:tr.current,u=Hi(t,u));var d=r.getDerivedStateFromProps,m=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Eb(t,o,n,u),ja=!1;var f=t.memoizedState;o.state=f,kd(t,n,o,s),c=t.memoizedState,l!==n||f!==c||gr.current||ja?(typeof d=="function"&&(ox(t,r,d,n),c=t.memoizedState),(l=ja||Ab(t,r,l,n,f,c,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,f2(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:an(t.type,l),o.props=u,m=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Xr(c):(c=vr(r)?Is:tr.current,c=Hi(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||f!==c)&&Eb(t,o,n,c),ja=!1,f=t.memoizedState,o.state=f,kd(t,n,o,s);var h=t.memoizedState;l!==m||f!==h||gr.current||ja?(typeof p=="function"&&(ox(t,r,p,n),h=t.memoizedState),(u=ja||Ab(t,r,u,n,f,h,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,h,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,h,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),o.props=n,o.state=h,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return dx(e,t,r,n,i,s)}function dx(e,t,r,n,s,i){B2(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&yb(t,r,!1),sa(e,t,i);n=t.stateNode,lI.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=qi(t,e.child,null,i),t.child=qi(t,null,l,i)):nr(e,t,l,i),t.memoizedState=n.state,s&&yb(t,r,!0),t.child}function U2(e){var t=e.stateNode;t.pendingContext?xb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xb(e,t.context,!1),Vg(e,t.containerInfo)}function Ib(e,t,r,n,s){return Vi(),Lg(s),t.flags|=256,nr(e,t,r,n),t.child}var mx={dehydrated:null,treeContext:null,retryLane:0};function fx(e){return{baseLanes:e,cachePool:null,transitions:null}}function F2(e,t,r){var n=t.pendingProps,s=tt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),We(tt,s&1),e===null)return sx(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=nf(o,n,0,null),e=Ps(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=fx(r),t.memoizedState=mx,e):Jg(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return cI(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Fa(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Fa(l,i):(i=Ps(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?fx(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=mx,n}return i=e.child,e=i.sibling,n=Fa(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Jg(e,t){return t=nf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Pu(e,t,r,n){return n!==null&&Lg(n),qi(t,e.child,null,r),e=Jg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cI(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Rp(Error(ne(422))),Pu(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=nf({mode:"visible",children:n.children},s,0,null),i=Ps(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&qi(t,e.child,null,o),t.child.memoizedState=fx(o),t.memoizedState=mx,i);if(!(t.mode&1))return Pu(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(ne(419)),n=Rp(i,n,void 0),Pu(e,t,o,n)}if(l=(o&e.childLanes)!==0,xr||l){if(n=Rt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,aa(e,s),pn(n,e,s,-1))}return av(),n=Rp(Error(ne(421))),Pu(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=NI.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,kr=Da(s.nextSibling),Ir=t,Je=!0,cn=null,e!==null&&(zr[Hr++]=qn,zr[Hr++]=Wn,zr[Hr++]=$s,qn=e.id,Wn=e.overflow,$s=t),t=Jg(t,n.children),t.flags|=4096,t)}function $b(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ix(e.return,t,r)}function Mp(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function z2(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(nr(e,t,n.children,r),n=tt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$b(e,r,t);else if(e.tag===19)$b(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(We(tt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Id(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Mp(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Id(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Mp(t,!0,r,null,i);break;case"together":Mp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function cd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function sa(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ms|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ne(153));if(t.child!==null){for(e=t.child,r=Fa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Fa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function uI(e,t,r){switch(t.tag){case 3:U2(t),Vi();break;case 5:p2(t);break;case 1:vr(t.type)&&Td(t);break;case 4:Vg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;We(Cd,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(We(tt,tt.current&1),t.flags|=128,null):r&t.child.childLanes?F2(e,t,r):(We(tt,tt.current&1),e=sa(e,t,r),e!==null?e.sibling:null);We(tt,tt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return z2(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),We(tt,tt.current),n)break;return null;case 22:case 23:return t.lanes=0,L2(e,t,r)}return sa(e,t,r)}var H2,px,V2,q2;H2=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};px=function(){};V2=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,vs(On.current);var i=null;switch(r){case"input":s=Mh(e,s),n=Mh(e,n),i=[];break;case"select":s=at({},s,{value:void 0}),n=at({},n,{value:void 0}),i=[];break;case"textarea":s=Bh(e,s),n=Bh(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ad)}Fh(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Bl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Bl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ye("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};q2=function(e,t,r,n){r!==n&&(t.flags|=4)};function Jo(e,t){if(!Je)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function dI(e,t,r){var n=t.pendingProps;switch(Dg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(t),null;case 1:return vr(t.type)&&Ed(),Wt(t),null;case 3:return n=t.stateNode,Wi(),Qe(gr),Qe(tr),Wg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Eu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,cn!==null&&(Nx(cn),cn=null))),px(e,t),Wt(t),null;case 5:qg(t);var s=vs(Ql.current);if(r=t.type,e!==null&&t.stateNode!=null)V2(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ne(166));return Wt(t),null}if(e=vs(On.current),Eu(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[An]=t,n[Kl]=i,e=(t.mode&1)!==0,r){case"dialog":Ye("cancel",n),Ye("close",n);break;case"iframe":case"object":case"embed":Ye("load",n);break;case"video":case"audio":for(s=0;s<gl.length;s++)Ye(gl[s],n);break;case"source":Ye("error",n);break;case"img":case"image":case"link":Ye("error",n),Ye("load",n);break;case"details":Ye("toggle",n);break;case"input":H0(n,i),Ye("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ye("invalid",n);break;case"textarea":q0(n,i),Ye("invalid",n)}Fh(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Au(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Au(n.textContent,l,e),s=["children",""+l]):Bl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ye("scroll",n)}switch(r){case"input":yu(n),V0(n,i,!0);break;case"textarea":yu(n),W0(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ad)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vA(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[An]=t,e[Kl]=n,H2(e,t,!1,!1),t.stateNode=e;e:{switch(o=zh(r,n),r){case"dialog":Ye("cancel",e),Ye("close",e),s=n;break;case"iframe":case"object":case"embed":Ye("load",e),s=n;break;case"video":case"audio":for(s=0;s<gl.length;s++)Ye(gl[s],e);s=n;break;case"source":Ye("error",e),s=n;break;case"img":case"image":case"link":Ye("error",e),Ye("load",e),s=n;break;case"details":Ye("toggle",e),s=n;break;case"input":H0(e,n),s=Mh(e,n),Ye("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=at({},n,{value:void 0}),Ye("invalid",e);break;case"textarea":q0(e,n),s=Bh(e,n),Ye("invalid",e);break;default:s=n}Fh(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?NA(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&bA(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ul(e,c):typeof c=="number"&&Ul(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Bl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ye("scroll",e):c!=null&&Ng(e,i,c,o))}switch(r){case"input":yu(e),V0(e,n,!1);break;case"textarea":yu(e),W0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+qa(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?_i(e,!!n.multiple,i,!1):n.defaultValue!=null&&_i(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ad)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Wt(t),null;case 6:if(e&&t.stateNode!=null)q2(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ne(166));if(r=vs(Ql.current),vs(On.current),Eu(t)){if(n=t.stateNode,r=t.memoizedProps,n[An]=t,(i=n.nodeValue!==r)&&(e=Ir,e!==null))switch(e.tag){case 3:Au(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Au(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[An]=t,t.stateNode=n}return Wt(t),null;case 13:if(Qe(tt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Je&&kr!==null&&t.mode&1&&!(t.flags&128))c2(),Vi(),t.flags|=98560,i=!1;else if(i=Eu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ne(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ne(317));i[An]=t}else Vi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Wt(t),i=!1}else cn!==null&&(Nx(cn),cn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||tt.current&1?Tt===0&&(Tt=3):av())),t.updateQueue!==null&&(t.flags|=4),Wt(t),null);case 4:return Wi(),px(e,t),e===null&&Gl(t.stateNode.containerInfo),Wt(t),null;case 10:return Fg(t.type._context),Wt(t),null;case 17:return vr(t.type)&&Ed(),Wt(t),null;case 19:if(Qe(tt),i=t.memoizedState,i===null)return Wt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Jo(i,!1);else{if(Tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Id(e),o!==null){for(t.flags|=128,Jo(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return We(tt,tt.current&1|2),t.child}e=e.sibling}i.tail!==null&&mt()>Yi&&(t.flags|=128,n=!0,Jo(i,!1),t.lanes=4194304)}else{if(!n)if(e=Id(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Jo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Je)return Wt(t),null}else 2*mt()-i.renderingStartTime>Yi&&r!==1073741824&&(t.flags|=128,n=!0,Jo(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=mt(),t.sibling=null,r=tt.current,We(tt,n?r&1|2:r&1),t):(Wt(t),null);case 22:case 23:return nv(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Tr&1073741824&&(Wt(t),t.subtreeFlags&6&&(t.flags|=8192)):Wt(t),null;case 24:return null;case 25:return null}throw Error(ne(156,t.tag))}function mI(e,t){switch(Dg(t),t.tag){case 1:return vr(t.type)&&Ed(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wi(),Qe(gr),Qe(tr),Wg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qg(t),null;case 13:if(Qe(tt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ne(340));Vi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qe(tt),null;case 4:return Wi(),null;case 10:return Fg(t.type._context),null;case 22:case 23:return nv(),null;case 24:return null;default:return null}}var Ou=!1,Kt=!1,fI=typeof WeakSet=="function"?WeakSet:Set,ce=null;function wi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ot(e,t,n)}else r.current=null}function hx(e,t,r){try{r()}catch(n){ot(e,t,n)}}var Rb=!1;function pI(e,t){if(Jh=Nd,e=XA(),Rg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,m=e,f=null;t:for(;;){for(var p;m!==r||s!==0&&m.nodeType!==3||(l=o+s),m!==i||n!==0&&m.nodeType!==3||(c=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(p=m.firstChild)!==null;)f=m,m=p;for(;;){if(m===e)break t;if(f===r&&++u===s&&(l=o),f===i&&++d===n&&(c=o),(p=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zh={focusedElem:e,selectionRange:r},Nd=!1,ce=t;ce!==null;)if(t=ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ce=e;else for(;ce!==null;){t=ce;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var g=h.memoizedProps,v=h.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:an(t.type,g),v);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(N){ot(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,ce=e;break}ce=t.return}return h=Rb,Rb=!1,h}function Tl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&hx(t,r,i)}s=s.next}while(s!==n)}}function tf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function xx(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function W2(e){var t=e.alternate;t!==null&&(e.alternate=null,W2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[An],delete t[Kl],delete t[rx],delete t[Xk],delete t[Qk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function G2(e){return e.tag===5||e.tag===3||e.tag===4}function Mb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||G2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yx(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ad));else if(n!==4&&(e=e.child,e!==null))for(yx(e,t,r),e=e.sibling;e!==null;)yx(e,t,r),e=e.sibling}function gx(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(gx(e,t,r),e=e.sibling;e!==null;)gx(e,t,r),e=e.sibling}var Lt=null,sn=!1;function ya(e,t,r){for(r=r.child;r!==null;)Y2(e,t,r),r=r.sibling}function Y2(e,t,r){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(Gm,r)}catch{}switch(r.tag){case 5:Kt||wi(r,t);case 6:var n=Lt,s=sn;Lt=null,ya(e,t,r),Lt=n,sn=s,Lt!==null&&(sn?(e=Lt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Lt.removeChild(r.stateNode));break;case 18:Lt!==null&&(sn?(e=Lt,r=r.stateNode,e.nodeType===8?Op(e.parentNode,r):e.nodeType===1&&Op(e,r),Vl(e)):Op(Lt,r.stateNode));break;case 4:n=Lt,s=sn,Lt=r.stateNode.containerInfo,sn=!0,ya(e,t,r),Lt=n,sn=s;break;case 0:case 11:case 14:case 15:if(!Kt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&hx(r,t,o),s=s.next}while(s!==n)}ya(e,t,r);break;case 1:if(!Kt&&(wi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ot(r,t,l)}ya(e,t,r);break;case 21:ya(e,t,r);break;case 22:r.mode&1?(Kt=(n=Kt)||r.memoizedState!==null,ya(e,t,r),Kt=n):ya(e,t,r);break;default:ya(e,t,r)}}function Db(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new fI),t.forEach(function(n){var s=wI.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function rn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Lt=l.stateNode,sn=!1;break e;case 3:Lt=l.stateNode.containerInfo,sn=!0;break e;case 4:Lt=l.stateNode.containerInfo,sn=!0;break e}l=l.return}if(Lt===null)throw Error(ne(160));Y2(i,o,s),Lt=null,sn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ot(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)K2(t,e),t=t.sibling}function K2(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rn(t,e),jn(e),n&4){try{Tl(3,e,e.return),tf(3,e)}catch(g){ot(e,e.return,g)}try{Tl(5,e,e.return)}catch(g){ot(e,e.return,g)}}break;case 1:rn(t,e),jn(e),n&512&&r!==null&&wi(r,r.return);break;case 5:if(rn(t,e),jn(e),n&512&&r!==null&&wi(r,r.return),e.flags&32){var s=e.stateNode;try{Ul(s,"")}catch(g){ot(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&yA(s,i),zh(l,o);var u=zh(l,i);for(o=0;o<c.length;o+=2){var d=c[o],m=c[o+1];d==="style"?NA(s,m):d==="dangerouslySetInnerHTML"?bA(s,m):d==="children"?Ul(s,m):Ng(s,d,m,u)}switch(l){case"input":Dh(s,i);break;case"textarea":gA(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?_i(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?_i(s,!!i.multiple,i.defaultValue,!0):_i(s,!!i.multiple,i.multiple?[]:"",!1))}s[Kl]=i}catch(g){ot(e,e.return,g)}}break;case 6:if(rn(t,e),jn(e),n&4){if(e.stateNode===null)throw Error(ne(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){ot(e,e.return,g)}}break;case 3:if(rn(t,e),jn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Vl(t.containerInfo)}catch(g){ot(e,e.return,g)}break;case 4:rn(t,e),jn(e);break;case 13:rn(t,e),jn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(tv=mt())),n&4&&Db(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Kt=(u=Kt)||d,rn(t,e),Kt=u):rn(t,e),jn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ce=e,d=e.child;d!==null;){for(m=ce=d;ce!==null;){switch(f=ce,p=f.child,f.tag){case 0:case 11:case 14:case 15:Tl(4,f,f.return);break;case 1:wi(f,f.return);var h=f.stateNode;if(typeof h.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(g){ot(n,r,g)}}break;case 5:wi(f,f.return);break;case 22:if(f.memoizedState!==null){Bb(m);continue}}p!==null?(p.return=f,ce=p):Bb(m)}d=d.sibling}e:for(d=null,m=e;;){if(m.tag===5){if(d===null){d=m;try{s=m.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=jA("display",o))}catch(g){ot(e,e.return,g)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(g){ot(e,e.return,g)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:rn(t,e),jn(e),n&4&&Db(e);break;case 21:break;default:rn(t,e),jn(e)}}function jn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(G2(r)){var n=r;break e}r=r.return}throw Error(ne(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ul(s,""),n.flags&=-33);var i=Mb(e);gx(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Mb(e);yx(e,l,o);break;default:throw Error(ne(161))}}catch(c){ot(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hI(e,t,r){ce=e,X2(e)}function X2(e,t,r){for(var n=(e.mode&1)!==0;ce!==null;){var s=ce,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ou;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Kt;l=Ou;var u=Kt;if(Ou=o,(Kt=c)&&!u)for(ce=s;ce!==null;)o=ce,c=o.child,o.tag===22&&o.memoizedState!==null?Ub(s):c!==null?(c.return=o,ce=c):Ub(s);for(;i!==null;)ce=i,X2(i),i=i.sibling;ce=s,Ou=l,Kt=u}Lb(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ce=i):Lb(e)}}function Lb(e){for(;ce!==null;){var t=ce;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Kt||tf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Kt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:an(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Nb(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Nb(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&Vl(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}Kt||t.flags&512&&xx(t)}catch(f){ot(t,t.return,f)}}if(t===e){ce=null;break}if(r=t.sibling,r!==null){r.return=t.return,ce=r;break}ce=t.return}}function Bb(e){for(;ce!==null;){var t=ce;if(t===e){ce=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ce=r;break}ce=t.return}}function Ub(e){for(;ce!==null;){var t=ce;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{tf(4,t)}catch(c){ot(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){ot(t,s,c)}}var i=t.return;try{xx(t)}catch(c){ot(t,i,c)}break;case 5:var o=t.return;try{xx(t)}catch(c){ot(t,o,c)}}}catch(c){ot(t,t.return,c)}if(t===e){ce=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ce=l;break}ce=t.return}}var xI=Math.ceil,Md=da.ReactCurrentDispatcher,Zg=da.ReactCurrentOwner,Kr=da.ReactCurrentBatchConfig,_e=0,Rt=null,bt=null,Ht=0,Tr=0,Si=Xa(0),Tt=0,tc=null,Ms=0,rf=0,ev=0,Pl=null,hr=null,tv=0,Yi=1/0,Bn=null,Dd=!1,vx=null,Ba=null,Cu=!1,Ca=null,Ld=0,Ol=0,bx=null,ud=-1,dd=0;function cr(){return _e&6?mt():ud!==-1?ud:ud=mt()}function Ua(e){return e.mode&1?_e&2&&Ht!==0?Ht&-Ht:Zk.transition!==null?(dd===0&&(dd=$A()),dd):(e=Le,e!==0||(e=window.event,e=e===void 0?16:FA(e.type)),e):1}function pn(e,t,r,n){if(50<Ol)throw Ol=0,bx=null,Error(ne(185));Vc(e,r,n),(!(_e&2)||e!==Rt)&&(e===Rt&&(!(_e&2)&&(rf|=r),Tt===4&&Ea(e,Ht)),br(e,n),r===1&&_e===0&&!(t.mode&1)&&(Yi=mt()+500,Jm&&Qa()))}function br(e,t){var r=e.callbackNode;Z_(e,t);var n=jd(e,e===Rt?Ht:0);if(n===0)r!==null&&K0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&K0(r),t===1)e.tag===0?Jk(Fb.bind(null,e)):i2(Fb.bind(null,e)),Yk(function(){!(_e&6)&&Qa()}),r=null;else{switch(RA(n)){case 1:r=Tg;break;case 4:r=kA;break;case 16:r=bd;break;case 536870912:r=IA;break;default:r=bd}r=aE(r,Q2.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Q2(e,t){if(ud=-1,dd=0,_e&6)throw Error(ne(327));var r=e.callbackNode;if(Mi()&&e.callbackNode!==r)return null;var n=jd(e,e===Rt?Ht:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Bd(e,n);else{t=n;var s=_e;_e|=2;var i=Z2();(Rt!==e||Ht!==t)&&(Bn=null,Yi=mt()+500,Ts(e,t));do try{vI();break}catch(l){J2(e,l)}while(!0);Ug(),Md.current=i,_e=s,bt!==null?t=0:(Rt=null,Ht=0,t=Tt)}if(t!==0){if(t===2&&(s=Gh(e),s!==0&&(n=s,t=jx(e,s))),t===1)throw r=tc,Ts(e,0),Ea(e,n),br(e,mt()),r;if(t===6)Ea(e,n);else{if(s=e.current.alternate,!(n&30)&&!yI(s)&&(t=Bd(e,n),t===2&&(i=Gh(e),i!==0&&(n=i,t=jx(e,i))),t===1))throw r=tc,Ts(e,0),Ea(e,n),br(e,mt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(ne(345));case 2:us(e,hr,Bn);break;case 3:if(Ea(e,n),(n&130023424)===n&&(t=tv+500-mt(),10<t)){if(jd(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){cr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=tx(us.bind(null,e,hr,Bn),t);break}us(e,hr,Bn);break;case 4:if(Ea(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-fn(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=mt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xI(n/1960))-n,10<n){e.timeoutHandle=tx(us.bind(null,e,hr,Bn),n);break}us(e,hr,Bn);break;case 5:us(e,hr,Bn);break;default:throw Error(ne(329))}}}return br(e,mt()),e.callbackNode===r?Q2.bind(null,e):null}function jx(e,t){var r=Pl;return e.current.memoizedState.isDehydrated&&(Ts(e,t).flags|=256),e=Bd(e,t),e!==2&&(t=hr,hr=r,t!==null&&Nx(t)),e}function Nx(e){hr===null?hr=e:hr.push.apply(hr,e)}function yI(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!xn(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ea(e,t){for(t&=~ev,t&=~rf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-fn(t),n=1<<r;e[r]=-1,t&=~n}}function Fb(e){if(_e&6)throw Error(ne(327));Mi();var t=jd(e,0);if(!(t&1))return br(e,mt()),null;var r=Bd(e,t);if(e.tag!==0&&r===2){var n=Gh(e);n!==0&&(t=n,r=jx(e,n))}if(r===1)throw r=tc,Ts(e,0),Ea(e,t),br(e,mt()),r;if(r===6)throw Error(ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,us(e,hr,Bn),br(e,mt()),null}function rv(e,t){var r=_e;_e|=1;try{return e(t)}finally{_e=r,_e===0&&(Yi=mt()+500,Jm&&Qa())}}function Ds(e){Ca!==null&&Ca.tag===0&&!(_e&6)&&Mi();var t=_e;_e|=1;var r=Kr.transition,n=Le;try{if(Kr.transition=null,Le=1,e)return e()}finally{Le=n,Kr.transition=r,_e=t,!(_e&6)&&Qa()}}function nv(){Tr=Si.current,Qe(Si)}function Ts(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Gk(r)),bt!==null)for(r=bt.return;r!==null;){var n=r;switch(Dg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ed();break;case 3:Wi(),Qe(gr),Qe(tr),Wg();break;case 5:qg(n);break;case 4:Wi();break;case 13:Qe(tt);break;case 19:Qe(tt);break;case 10:Fg(n.type._context);break;case 22:case 23:nv()}r=r.return}if(Rt=e,bt=e=Fa(e.current,null),Ht=Tr=t,Tt=0,tc=null,ev=rf=Ms=0,hr=Pl=null,gs!==null){for(t=0;t<gs.length;t++)if(r=gs[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}gs=null}return e}function J2(e,t){do{var r=bt;try{if(Ug(),od.current=Rd,$d){for(var n=nt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}$d=!1}if(Rs=0,kt=At=nt=null,El=!1,Jl=0,Zg.current=null,r===null||r.return===null){Tt=1,tc=t,bt=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Ht,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Pb(o);if(p!==null){p.flags&=-257,Ob(p,o,l,i,t),p.mode&1&&Tb(i,u,t),t=p,c=u;var h=t.updateQueue;if(h===null){var g=new Set;g.add(c),t.updateQueue=g}else h.add(c);break e}else{if(!(t&1)){Tb(i,u,t),av();break e}c=Error(ne(426))}}else if(Je&&l.mode&1){var v=Pb(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Ob(v,o,l,i,t),Lg(Gi(c,l));break e}}i=c=Gi(c,l),Tt!==4&&(Tt=2),Pl===null?Pl=[i]:Pl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=R2(i,c,t);jb(i,x);break e;case 1:l=c;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ba===null||!Ba.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=M2(i,l,t);jb(i,N);break e}}i=i.return}while(i!==null)}tE(r)}catch(j){t=j,bt===r&&r!==null&&(bt=r=r.return);continue}break}while(!0)}function Z2(){var e=Md.current;return Md.current=Rd,e===null?Rd:e}function av(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Rt===null||!(Ms&268435455)&&!(rf&268435455)||Ea(Rt,Ht)}function Bd(e,t){var r=_e;_e|=2;var n=Z2();(Rt!==e||Ht!==t)&&(Bn=null,Ts(e,t));do try{gI();break}catch(s){J2(e,s)}while(!0);if(Ug(),_e=r,Md.current=n,bt!==null)throw Error(ne(261));return Rt=null,Ht=0,Tt}function gI(){for(;bt!==null;)eE(bt)}function vI(){for(;bt!==null&&!V_();)eE(bt)}function eE(e){var t=nE(e.alternate,e,Tr);e.memoizedProps=e.pendingProps,t===null?tE(e):bt=t,Zg.current=null}function tE(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=mI(r,t),r!==null){r.flags&=32767,bt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Tt=6,bt=null;return}}else if(r=dI(r,t,Tr),r!==null){bt=r;return}if(t=t.sibling,t!==null){bt=t;return}bt=t=e}while(t!==null);Tt===0&&(Tt=5)}function us(e,t,r){var n=Le,s=Kr.transition;try{Kr.transition=null,Le=1,bI(e,t,r,n)}finally{Kr.transition=s,Le=n}return null}function bI(e,t,r,n){do Mi();while(Ca!==null);if(_e&6)throw Error(ne(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ne(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(ek(e,i),e===Rt&&(bt=Rt=null,Ht=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Cu||(Cu=!0,aE(bd,function(){return Mi(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Kr.transition,Kr.transition=null;var o=Le;Le=1;var l=_e;_e|=4,Zg.current=null,pI(e,r),K2(r,e),Uk(Zh),Nd=!!Jh,Zh=Jh=null,e.current=r,hI(r),q_(),_e=l,Le=o,Kr.transition=i}else e.current=r;if(Cu&&(Cu=!1,Ca=e,Ld=s),i=e.pendingLanes,i===0&&(Ba=null),Y_(r.stateNode),br(e,mt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Dd)throw Dd=!1,e=vx,vx=null,e;return Ld&1&&e.tag!==0&&Mi(),i=e.pendingLanes,i&1?e===bx?Ol++:(Ol=0,bx=e):Ol=0,Qa(),null}function Mi(){if(Ca!==null){var e=RA(Ld),t=Kr.transition,r=Le;try{if(Kr.transition=null,Le=16>e?16:e,Ca===null)var n=!1;else{if(e=Ca,Ca=null,Ld=0,_e&6)throw Error(ne(331));var s=_e;for(_e|=4,ce=e.current;ce!==null;){var i=ce,o=i.child;if(ce.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ce=u;ce!==null;){var d=ce;switch(d.tag){case 0:case 11:case 15:Tl(8,d,i)}var m=d.child;if(m!==null)m.return=d,ce=m;else for(;ce!==null;){d=ce;var f=d.sibling,p=d.return;if(W2(d),d===u){ce=null;break}if(f!==null){f.return=p,ce=f;break}ce=p}}}var h=i.alternate;if(h!==null){var g=h.child;if(g!==null){h.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}ce=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ce=o;else e:for(;ce!==null;){if(i=ce,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Tl(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,ce=x;break e}ce=i.return}}var y=e.current;for(ce=y;ce!==null;){o=ce;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ce=b;else e:for(o=y;ce!==null;){if(l=ce,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:tf(9,l)}}catch(j){ot(l,l.return,j)}if(l===o){ce=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,ce=N;break e}ce=l.return}}if(_e=s,Qa(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(Gm,e)}catch{}n=!0}return n}finally{Le=r,Kr.transition=t}}return!1}function zb(e,t,r){t=Gi(r,t),t=R2(e,t,1),e=La(e,t,1),t=cr(),e!==null&&(Vc(e,1,t),br(e,t))}function ot(e,t,r){if(e.tag===3)zb(e,e,r);else for(;t!==null;){if(t.tag===3){zb(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ba===null||!Ba.has(n))){e=Gi(r,e),e=M2(t,e,1),t=La(t,e,1),e=cr(),t!==null&&(Vc(t,1,e),br(t,e));break}}t=t.return}}function jI(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=cr(),e.pingedLanes|=e.suspendedLanes&r,Rt===e&&(Ht&r)===r&&(Tt===4||Tt===3&&(Ht&130023424)===Ht&&500>mt()-tv?Ts(e,0):ev|=r),br(e,t)}function rE(e,t){t===0&&(e.mode&1?(t=bu,bu<<=1,!(bu&130023424)&&(bu=4194304)):t=1);var r=cr();e=aa(e,t),e!==null&&(Vc(e,t,r),br(e,r))}function NI(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),rE(e,r)}function wI(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ne(314))}n!==null&&n.delete(t),rE(e,r)}var nE;nE=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||gr.current)xr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return xr=!1,uI(e,t,r);xr=!!(e.flags&131072)}else xr=!1,Je&&t.flags&1048576&&o2(t,Od,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;cd(e,t),e=t.pendingProps;var s=Hi(t,tr.current);Ri(t,r),s=Yg(null,t,n,e,s,r);var i=Kg();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vr(n)?(i=!0,Td(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Hg(t),s.updater=ef,t.stateNode=s,s._reactInternals=t,lx(t,n,e,r),t=dx(null,t,n,!0,i,r)):(t.tag=0,Je&&i&&Mg(t),nr(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(cd(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=AI(n),e=an(n,e),s){case 0:t=ux(null,t,n,e,r);break e;case 1:t=kb(null,t,n,e,r);break e;case 11:t=Cb(null,t,n,e,r);break e;case 14:t=_b(null,t,n,an(n.type,e),r);break e}throw Error(ne(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:an(n,s),ux(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:an(n,s),kb(e,t,n,s,r);case 3:e:{if(U2(t),e===null)throw Error(ne(387));n=t.pendingProps,i=t.memoizedState,s=i.element,f2(e,t),kd(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Gi(Error(ne(423)),t),t=Ib(e,t,n,r,s);break e}else if(n!==s){s=Gi(Error(ne(424)),t),t=Ib(e,t,n,r,s);break e}else for(kr=Da(t.stateNode.containerInfo.firstChild),Ir=t,Je=!0,cn=null,r=d2(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Vi(),n===s){t=sa(e,t,r);break e}nr(e,t,n,r)}t=t.child}return t;case 5:return p2(t),e===null&&sx(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,ex(n,s)?o=null:i!==null&&ex(n,i)&&(t.flags|=32),B2(e,t),nr(e,t,o,r),t.child;case 6:return e===null&&sx(t),null;case 13:return F2(e,t,r);case 4:return Vg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=qi(t,null,n,r):nr(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:an(n,s),Cb(e,t,n,s,r);case 7:return nr(e,t,t.pendingProps,r),t.child;case 8:return nr(e,t,t.pendingProps.children,r),t.child;case 12:return nr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,We(Cd,n._currentValue),n._currentValue=o,i!==null)if(xn(i.value,o)){if(i.children===s.children&&!gr.current){t=sa(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Xn(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),ix(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ne(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),ix(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}nr(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ri(t,r),s=Xr(s),n=n(s),t.flags|=1,nr(e,t,n,r),t.child;case 14:return n=t.type,s=an(n,t.pendingProps),s=an(n.type,s),_b(e,t,n,s,r);case 15:return D2(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:an(n,s),cd(e,t),t.tag=1,vr(n)?(e=!0,Td(t)):e=!1,Ri(t,r),$2(t,n,s),lx(t,n,s,r),dx(null,t,n,!0,e,r);case 19:return z2(e,t,r);case 22:return L2(e,t,r)}throw Error(ne(156,t.tag))};function aE(e,t){return _A(e,t)}function SI(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(e,t,r,n){return new SI(e,t,r,n)}function sv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function AI(e){if(typeof e=="function")return sv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Sg)return 11;if(e===Ag)return 14}return 2}function Fa(e,t){var r=e.alternate;return r===null?(r=qr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function md(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")sv(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case pi:return Ps(r.children,s,i,t);case wg:o=8,s|=8;break;case kh:return e=qr(12,r,t,s|2),e.elementType=kh,e.lanes=i,e;case Ih:return e=qr(13,r,t,s),e.elementType=Ih,e.lanes=i,e;case $h:return e=qr(19,r,t,s),e.elementType=$h,e.lanes=i,e;case pA:return nf(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mA:o=10;break e;case fA:o=9;break e;case Sg:o=11;break e;case Ag:o=14;break e;case ba:o=16,n=null;break e}throw Error(ne(130,e==null?e:typeof e,""))}return t=qr(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Ps(e,t,r,n){return e=qr(7,e,n,t),e.lanes=r,e}function nf(e,t,r,n){return e=qr(22,e,n,t),e.elementType=pA,e.lanes=r,e.stateNode={isHidden:!1},e}function Dp(e,t,r){return e=qr(6,e,null,t),e.lanes=r,e}function Lp(e,t,r){return t=qr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function EI(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gp(0),this.expirationTimes=gp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gp(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function iv(e,t,r,n,s,i,o,l,c){return e=new EI(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=qr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hg(i),e}function TI(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function sE(e){if(!e)return Wa;e=e._reactInternals;e:{if(Xs(e)!==e||e.tag!==1)throw Error(ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ne(171))}if(e.tag===1){var r=e.type;if(vr(r))return s2(e,r,t)}return t}function iE(e,t,r,n,s,i,o,l,c){return e=iv(r,n,!0,e,s,i,o,l,c),e.context=sE(null),r=e.current,n=cr(),s=Ua(r),i=Xn(n,s),i.callback=t??null,La(r,i,s),e.current.lanes=s,Vc(e,s,n),br(e,n),e}function af(e,t,r,n){var s=t.current,i=cr(),o=Ua(s);return r=sE(r),t.context===null?t.context=r:t.pendingContext=r,t=Xn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=La(s,t,o),e!==null&&(pn(e,s,o,i),id(e,s,o)),o}function Ud(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Hb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ov(e,t){Hb(e,t),(e=e.alternate)&&Hb(e,t)}function PI(){return null}var oE=typeof reportError=="function"?reportError:function(e){console.error(e)};function lv(e){this._internalRoot=e}sf.prototype.render=lv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ne(409));af(e,t,null,null)};sf.prototype.unmount=lv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ds(function(){af(null,e,null,null)}),t[na]=null}};function sf(e){this._internalRoot=e}sf.prototype.unstable_scheduleHydration=function(e){if(e){var t=LA();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Aa.length&&t!==0&&t<Aa[r].priority;r++);Aa.splice(r,0,e),r===0&&UA(e)}};function cv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function of(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vb(){}function OI(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Ud(o);i.call(u)}}var o=iE(t,n,e,0,null,!1,!1,"",Vb);return e._reactRootContainer=o,e[na]=o.current,Gl(e.nodeType===8?e.parentNode:e),Ds(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Ud(c);l.call(u)}}var c=iv(e,0,!1,null,null,!1,!1,"",Vb);return e._reactRootContainer=c,e[na]=c.current,Gl(e.nodeType===8?e.parentNode:e),Ds(function(){af(t,c,r,n)}),c}function lf(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Ud(o);l.call(c)}}af(t,o,e,s)}else o=OI(r,t,e,s,n);return Ud(o)}MA=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=yl(t.pendingLanes);r!==0&&(Pg(t,r|1),br(t,mt()),!(_e&6)&&(Yi=mt()+500,Qa()))}break;case 13:Ds(function(){var n=aa(e,1);if(n!==null){var s=cr();pn(n,e,1,s)}}),ov(e,1)}};Og=function(e){if(e.tag===13){var t=aa(e,134217728);if(t!==null){var r=cr();pn(t,e,134217728,r)}ov(e,134217728)}};DA=function(e){if(e.tag===13){var t=Ua(e),r=aa(e,t);if(r!==null){var n=cr();pn(r,e,t,n)}ov(e,t)}};LA=function(){return Le};BA=function(e,t){var r=Le;try{return Le=e,t()}finally{Le=r}};Vh=function(e,t,r){switch(t){case"input":if(Dh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Qm(n);if(!s)throw Error(ne(90));xA(n),Dh(n,s)}}}break;case"textarea":gA(e,r);break;case"select":t=r.value,t!=null&&_i(e,!!r.multiple,t,!1)}};AA=rv;EA=Ds;var CI={usingClientEntryPoint:!1,Events:[Wc,gi,Qm,wA,SA,rv]},Zo={findFiberByHostInstance:ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_I={bundleType:Zo.bundleType,version:Zo.version,rendererPackageName:Zo.rendererPackageName,rendererConfig:Zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:da.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=OA(e),e===null?null:e.stateNode},findFiberByHostInstance:Zo.findFiberByHostInstance||PI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_u.isDisabled&&_u.supportsFiber)try{Gm=_u.inject(_I),Pn=_u}catch{}}Dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CI;Dr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cv(t))throw Error(ne(200));return TI(e,t,null,r)};Dr.createRoot=function(e,t){if(!cv(e))throw Error(ne(299));var r=!1,n="",s=oE;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=iv(e,1,!1,null,null,r,!1,n,s),e[na]=t.current,Gl(e.nodeType===8?e.parentNode:e),new lv(t)};Dr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ne(188)):(e=Object.keys(e).join(","),Error(ne(268,e)));return e=OA(t),e=e===null?null:e.stateNode,e};Dr.flushSync=function(e){return Ds(e)};Dr.hydrate=function(e,t,r){if(!of(t))throw Error(ne(200));return lf(null,e,t,!0,r)};Dr.hydrateRoot=function(e,t,r){if(!cv(e))throw Error(ne(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=oE;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=iE(t,null,e,1,r??null,s,!1,i,o),e[na]=t.current,Gl(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new sf(t)};Dr.render=function(e,t,r){if(!of(t))throw Error(ne(200));return lf(null,e,t,!1,r)};Dr.unmountComponentAtNode=function(e){if(!of(e))throw Error(ne(40));return e._reactRootContainer?(Ds(function(){lf(null,null,e,!1,function(){e._reactRootContainer=null,e[na]=null})}),!0):!1};Dr.unstable_batchedUpdates=rv;Dr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!of(r))throw Error(ne(200));if(e==null||e._reactInternals===void 0)throw Error(ne(38));return lf(e,t,r,!1,n)};Dr.version="18.3.1-next-f1338f8080-20240426";function lE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lE)}catch(e){console.error(e)}}lE(),lA.exports=Dr;var kI=lA.exports,qb=kI;Ch.createRoot=qb.createRoot,Ch.hydrateRoot=qb.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rc.apply(this,arguments)}var _a;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(_a||(_a={}));const Wb="popstate";function II(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return wx("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Fd(s)}return RI(t,r,null,e)}function pt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function cE(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $I(){return Math.random().toString(36).substr(2,8)}function Gb(e,t){return{usr:e.state,key:e.key,idx:t}}function wx(e,t,r,n){return r===void 0&&(r=null),rc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?To(t):t,{state:r,key:t&&t.key||n||$I()})}function Fd(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function To(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function RI(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=_a.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(rc({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function m(){l=_a.Pop;let v=d(),x=v==null?null:v-u;u=v,c&&c({action:l,location:g.location,delta:x})}function f(v,x){l=_a.Push;let y=wx(g.location,v,x);u=d()+1;let b=Gb(y,u),N=g.createHref(y);try{o.pushState(b,"",N)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(N)}i&&c&&c({action:l,location:g.location,delta:1})}function p(v,x){l=_a.Replace;let y=wx(g.location,v,x);u=d();let b=Gb(y,u),N=g.createHref(y);o.replaceState(b,"",N),i&&c&&c({action:l,location:g.location,delta:0})}function h(v){let x=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof v=="string"?v:Fd(v);return y=y.replace(/ $/,"%20"),pt(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let g={get action(){return l},get location(){return e(s,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Wb,m),c=v,()=>{s.removeEventListener(Wb,m),c=null}},createHref(v){return t(s,v)},createURL:h,encodeLocation(v){let x=h(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:p,go(v){return o.go(v)}};return g}var Yb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Yb||(Yb={}));function MI(e,t,r){return r===void 0&&(r="/"),DI(e,t,r)}function DI(e,t,r,n){let s=typeof t=="string"?To(t):t,i=uv(s.pathname||"/",r);if(i==null)return null;let o=uE(e);LI(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=XI(i);l=GI(o[c],u)}return l}function uE(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(pt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=za([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(pt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),uE(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:qI(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of dE(i.path))s(i,o,c)}),t}function dE(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=dE(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function LI(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:WI(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const BI=/^:[\w-]+$/,UI=3,FI=2,zI=1,HI=10,VI=-2,Kb=e=>e==="*";function qI(e,t){let r=e.split("/"),n=r.length;return r.some(Kb)&&(n+=VI),t&&(n+=FI),r.filter(s=>!Kb(s)).reduce((s,i)=>s+(BI.test(i)?UI:i===""?zI:HI),n)}function WI(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function GI(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",m=YI({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:za([i,m.pathname]),pathnameBase:e4(za([i,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(i=za([i,m.pathnameBase]))}return o}function YI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=KI(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,m)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let g=l[m]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const h=l[m];return p&&!h?u[f]=void 0:u[f]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function KI(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),cE(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function XI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return cE(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function uv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function QI(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?To(e):e;return{pathname:r?r.startsWith("/")?r:JI(r,t):t,search:t4(n),hash:r4(s)}}function JI(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Bp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ZI(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function dv(e,t){let r=ZI(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function mv(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=To(e):(s=rc({},e),pt(!s.pathname||!s.pathname.includes("?"),Bp("?","pathname","search",s)),pt(!s.pathname||!s.pathname.includes("#"),Bp("#","pathname","hash",s)),pt(!s.search||!s.search.includes("#"),Bp("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let m=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),m-=1;s.pathname=f.join("/")}l=m>=0?t[m]:"/"}let c=QI(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const za=e=>e.join("/").replace(/\/\/+/g,"/"),e4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),t4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,r4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function n4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const mE=["post","put","patch","delete"];new Set(mE);const a4=["get",...mE];new Set(a4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nc(){return nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nc.apply(this,arguments)}const fv=E.createContext(null),s4=E.createContext(null),Ja=E.createContext(null),cf=E.createContext(null),ma=E.createContext({outlet:null,matches:[],isDataRoute:!1}),fE=E.createContext(null);function i4(e,t){let{relative:r}=t===void 0?{}:t;Po()||pt(!1);let{basename:n,navigator:s}=E.useContext(Ja),{hash:i,pathname:o,search:l}=hE(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:za([n,o])),s.createHref({pathname:c,search:l,hash:i})}function Po(){return E.useContext(cf)!=null}function Za(){return Po()||pt(!1),E.useContext(cf).location}function pE(e){E.useContext(Ja).static||E.useLayoutEffect(e)}function Oo(){let{isDataRoute:e}=E.useContext(ma);return e?v4():o4()}function o4(){Po()||pt(!1);let e=E.useContext(fv),{basename:t,future:r,navigator:n}=E.useContext(Ja),{matches:s}=E.useContext(ma),{pathname:i}=Za(),o=JSON.stringify(dv(s,r.v7_relativeSplatPath)),l=E.useRef(!1);return pE(()=>{l.current=!0}),E.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let m=mv(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:za([t,m.pathname])),(d.replace?n.replace:n.push)(m,d.state,d)},[t,n,o,i,e])}function Yc(){let{matches:e}=E.useContext(ma),t=e[e.length-1];return t?t.params:{}}function hE(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=E.useContext(Ja),{matches:s}=E.useContext(ma),{pathname:i}=Za(),o=JSON.stringify(dv(s,n.v7_relativeSplatPath));return E.useMemo(()=>mv(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function l4(e,t){return c4(e,t)}function c4(e,t,r,n){Po()||pt(!1);let{navigator:s}=E.useContext(Ja),{matches:i}=E.useContext(ma),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Za(),d;if(t){var m;let v=typeof t=="string"?To(t):t;c==="/"||(m=v.pathname)!=null&&m.startsWith(c)||pt(!1),d=v}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let h=MI(e,{pathname:p}),g=p4(h&&h.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:za([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:za([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&g?E.createElement(cf.Provider,{value:{location:nc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:_a.Pop}},g):g}function u4(){let e=g4(),t=n4(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),r?E.createElement("pre",{style:s},r):null,null)}const d4=E.createElement(u4,null);class m4 extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?E.createElement(ma.Provider,{value:this.props.routeContext},E.createElement(fE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function f4(e){let{routeContext:t,match:r,children:n}=e,s=E.useContext(fv);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),E.createElement(ma.Provider,{value:t},n)}function p4(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);d>=0||pt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let m=o[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=d),m.route.id){let{loaderData:f,errors:p}=r,h=m.route.loader&&f[m.route.id]===void 0&&(!p||p[m.route.id]===void 0);if(m.route.lazy||h){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,m,f)=>{let p,h=!1,g=null,v=null;r&&(p=l&&m.route.id?l[m.route.id]:void 0,g=m.route.errorElement||d4,c&&(u<0&&f===0?(b4("route-fallback"),h=!0,v=null):u===f&&(h=!0,v=m.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,f+1)),y=()=>{let b;return p?b=g:h?b=v:m.route.Component?b=E.createElement(m.route.Component,null):m.route.element?b=m.route.element:b=d,E.createElement(f4,{match:m,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:b})};return r&&(m.route.ErrorBoundary||m.route.errorElement||f===0)?E.createElement(m4,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var xE=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(xE||{}),yE=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(yE||{});function h4(e){let t=E.useContext(fv);return t||pt(!1),t}function x4(e){let t=E.useContext(s4);return t||pt(!1),t}function y4(e){let t=E.useContext(ma);return t||pt(!1),t}function gE(e){let t=y4(),r=t.matches[t.matches.length-1];return r.route.id||pt(!1),r.route.id}function g4(){var e;let t=E.useContext(fE),r=x4(),n=gE();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function v4(){let{router:e}=h4(xE.UseNavigateStable),t=gE(yE.UseNavigateStable),r=E.useRef(!1);return pE(()=>{r.current=!0}),E.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,nc({fromRouteId:t},i)))},[e,t])}const Xb={};function b4(e,t,r){Xb[e]||(Xb[e]=!0)}function j4(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function vE(e){let{to:t,replace:r,state:n,relative:s}=e;Po()||pt(!1);let{future:i,static:o}=E.useContext(Ja),{matches:l}=E.useContext(ma),{pathname:c}=Za(),u=Oo(),d=mv(t,dv(l,i.v7_relativeSplatPath),c,s==="path"),m=JSON.stringify(d);return E.useEffect(()=>u(JSON.parse(m),{replace:r,state:n,relative:s}),[u,m,s,r,n]),null}function Me(e){pt(!1)}function N4(e){let{basename:t="/",children:r=null,location:n,navigationType:s=_a.Pop,navigator:i,static:o=!1,future:l}=e;Po()&&pt(!1);let c=t.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:c,navigator:i,static:o,future:nc({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=To(n));let{pathname:d="/",search:m="",hash:f="",state:p=null,key:h="default"}=n,g=E.useMemo(()=>{let v=uv(d,c);return v==null?null:{location:{pathname:v,search:m,hash:f,state:p,key:h},navigationType:s}},[c,d,m,f,p,h,s]);return g==null?null:E.createElement(Ja.Provider,{value:u},E.createElement(cf.Provider,{children:r,value:g}))}function w4(e){let{children:t,location:r}=e;return l4(Sx(t),r)}new Promise(()=>{});function Sx(e,t){t===void 0&&(t=[]);let r=[];return E.Children.forEach(e,(n,s)=>{if(!E.isValidElement(n))return;let i=[...t,s];if(n.type===E.Fragment){r.push.apply(r,Sx(n.props.children,i));return}n.type!==Me&&pt(!1),!n.props.index||!n.props.children||pt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Sx(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ax(){return Ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ax.apply(this,arguments)}function S4(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function A4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function E4(e,t){return e.button===0&&(!t||t==="_self")&&!A4(e)}function Ex(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function T4(e,t){let r=Ex(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const P4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],O4="6";try{window.__reactRouterVersion=O4}catch{}const C4="startTransition",Qb=j_[C4];function _4(e){let{basename:t,children:r,future:n,window:s}=e,i=E.useRef();i.current==null&&(i.current=II({window:s,v5Compat:!0}));let o=i.current,[l,c]=E.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=E.useCallback(m=>{u&&Qb?Qb(()=>c(m)):c(m)},[c,u]);return E.useLayoutEffect(()=>o.listen(d),[o,d]),E.useEffect(()=>j4(n),[n]),E.createElement(N4,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const k4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",I4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ar=E.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:m}=t,f=S4(t,P4),{basename:p}=E.useContext(Ja),h,g=!1;if(typeof u=="string"&&I4.test(u)&&(h=u,k4))try{let b=new URL(window.location.href),N=u.startsWith("//")?new URL(b.protocol+u):new URL(u),j=uv(N.pathname,p);N.origin===b.origin&&j!=null?u=j+N.search+N.hash:g=!0}catch{}let v=i4(u,{relative:s}),x=$4(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:m});function y(b){n&&n(b),b.defaultPrevented||x(b)}return E.createElement("a",Ax({},f,{href:h||v,onClick:g||i?n:y,ref:r,target:c}))});var Jb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Jb||(Jb={}));var Zb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Zb||(Zb={}));function $4(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Oo(),u=Za(),d=hE(e,{relative:o});return E.useCallback(m=>{if(E4(m,r)){m.preventDefault();let f=n!==void 0?n:Fd(u)===Fd(d);c(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}function R4(e){let t=E.useRef(Ex(e)),r=E.useRef(!1),n=Za(),s=E.useMemo(()=>T4(n.search,r.current?null:t.current),[n.search]),i=Oo(),o=E.useCallback((l,c)=>{const u=Ex(typeof l=="function"?l(s):l);r.current=!0,i("?"+u,c)},[i,s]);return[s,o]}function bE(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=bE(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function be(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=bE(e))&&(n&&(n+=" "),n+=t);return n}function M4(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}M4(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Kc=e=>typeof e=="number"&&!isNaN(e),Ls=e=>typeof e=="string",ia=e=>typeof e=="function",D4=e=>Ls(e)||Kc(e),Tx=e=>Ls(e)||ia(e)?e:null,L4=(e,t)=>e===!1||Kc(e)&&e>0?e:t,Px=e=>E.isValidElement(e)||Ls(e)||ia(e)||Kc(e);function B4(e,t,r=300){let{scrollHeight:n,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=n+"px",s.transition=`all ${r}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,r)})})}function U4({enter:e,exit:t,appendPosition:r=!1,collapse:n=!0,collapseDuration:s=300}){return function({children:i,position:o,preventExitTransition:l,done:c,nodeRef:u,isIn:d,playToast:m}){let f=r?`${e}--${o}`:e,p=r?`${t}--${o}`:t,h=E.useRef(0);return E.useLayoutEffect(()=>{let g=u.current,v=f.split(" "),x=y=>{y.target===u.current&&(m(),g.removeEventListener("animationend",x),g.removeEventListener("animationcancel",x),h.current===0&&y.type!=="animationcancel"&&g.classList.remove(...v))};g.classList.add(...v),g.addEventListener("animationend",x),g.addEventListener("animationcancel",x)},[]),E.useEffect(()=>{let g=u.current,v=()=>{g.removeEventListener("animationend",v),n?B4(g,c,s):c()};d||(l?v():(h.current=1,g.className+=` ${p}`,g.addEventListener("animationend",v)))},[d]),L.createElement(L.Fragment,null,i)}}function ej(e,t){return{content:jE(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function jE(e,t,r=!1){return E.isValidElement(e)&&!Ls(e.type)?E.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):ia(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):e}function F4({closeToast:e,theme:t,ariaLabel:r="close"}){return L.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:n=>{n.stopPropagation(),e(!0)},"aria-label":r},L.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},L.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function z4({delay:e,isRunning:t,closeToast:r,type:n="default",hide:s,className:i,controlledProgress:o,progress:l,rtl:c,isIn:u,theme:d}){let m=s||o&&l===0,f={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};o&&(f.transform=`scaleX(${l})`);let p=be("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":c}),h=ia(i)?i({rtl:c,type:n,defaultClassName:p}):be(p,i),g={[o&&l>=1?"onTransitionEnd":"onAnimationEnd"]:o&&l<1?null:()=>{u&&r()}};return L.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":m},L.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${n}`}),L.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:h,style:f,...g}))}var H4=1,NE=()=>`${H4++}`;function V4(e,t,r){let n=1,s=0,i=[],o=[],l=t,c=new Map,u=new Set,d=y=>(u.add(y),()=>u.delete(y)),m=()=>{o=Array.from(c.values()),u.forEach(y=>y())},f=({containerId:y,toastId:b,updateId:N})=>{let j=y?y!==e:e!==1,w=c.has(b)&&N==null;return j||w},p=(y,b)=>{c.forEach(N=>{var j;(b==null||b===N.props.toastId)&&((j=N.toggle)==null||j.call(N,y))})},h=y=>{var b,N;(N=(b=y.props)==null?void 0:b.onClose)==null||N.call(b,y.removalReason),y.isActive=!1},g=y=>{if(y==null)c.forEach(h);else{let b=c.get(y);b&&h(b)}m()},v=()=>{s-=i.length,i=[]},x=y=>{var b,N;let{toastId:j,updateId:w}=y.props,A=w==null;y.staleId&&c.delete(y.staleId),y.isActive=!0,c.set(j,y),m(),r(ej(y,A?"added":"updated")),A&&((N=(b=y.props).onOpen)==null||N.call(b))};return{id:e,props:l,observe:d,toggle:p,removeToast:g,toasts:c,clearQueue:v,buildToast:(y,b)=>{if(f(b))return;let{toastId:N,updateId:j,data:w,staleId:A,delay:T}=b,S=j==null;S&&s++;let _={...l,style:l.toastStyle,key:n++,...Object.fromEntries(Object.entries(b).filter(([k,O])=>O!=null)),toastId:N,updateId:j,data:w,isIn:!1,className:Tx(b.className||l.toastClassName),progressClassName:Tx(b.progressClassName||l.progressClassName),autoClose:b.isLoading?!1:L4(b.autoClose,l.autoClose),closeToast(k){c.get(N).removalReason=k,g(N)},deleteToast(){let k=c.get(N);if(k!=null){if(r(ej(k,"removed")),c.delete(N),s--,s<0&&(s=0),i.length>0){x(i.shift());return}m()}}};_.closeButton=l.closeButton,b.closeButton===!1||Px(b.closeButton)?_.closeButton=b.closeButton:b.closeButton===!0&&(_.closeButton=Px(l.closeButton)?l.closeButton:!0);let P={content:y,props:_,staleId:A};l.limit&&l.limit>0&&s>l.limit&&S?i.push(P):Kc(T)?setTimeout(()=>{x(P)},T):x(P)},setProps(y){l=y},setToggle:(y,b)=>{let N=c.get(y);N&&(N.toggle=b)},isToastActive:y=>{var b;return(b=c.get(y))==null?void 0:b.isActive},getSnapshot:()=>o}}var sr=new Map,ac=[],Ox=new Set,q4=e=>Ox.forEach(t=>t(e)),wE=()=>sr.size>0;function W4(){ac.forEach(e=>AE(e.content,e.options)),ac=[]}var G4=(e,{containerId:t})=>{var r;return(r=sr.get(t||1))==null?void 0:r.toasts.get(e)};function SE(e,t){var r;if(t)return!!((r=sr.get(t))!=null&&r.isToastActive(e));let n=!1;return sr.forEach(s=>{s.isToastActive(e)&&(n=!0)}),n}function Y4(e){if(!wE()){ac=ac.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||D4(e))sr.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=sr.get(e.containerId);t?t.removeToast(e.id):sr.forEach(r=>{r.removeToast(e.id)})}}var K4=(e={})=>{sr.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function AE(e,t){Px(e)&&(wE()||ac.push({content:e,options:t}),sr.forEach(r=>{r.buildToast(e,t)}))}function X4(e){var t;(t=sr.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function EE(e,t){sr.forEach(r=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===r.id)&&r.toggle(e,t==null?void 0:t.id)})}function Q4(e){let t=e.containerId||1;return{subscribe(r){let n=V4(t,e,q4);sr.set(t,n);let s=n.observe(r);return W4(),()=>{s(),sr.delete(t)}},setProps(r){var n;(n=sr.get(t))==null||n.setProps(r)},getSnapshot(){var r;return(r=sr.get(t))==null?void 0:r.getSnapshot()}}}function J4(e){return Ox.add(e),()=>{Ox.delete(e)}}function Z4(e){return e&&(Ls(e.toastId)||Kc(e.toastId))?e.toastId:NE()}function Xc(e,t){return AE(e,t),t.toastId}function uf(e,t){return{...t,type:t&&t.type||e,toastId:Z4(t)}}function df(e){return(t,r)=>Xc(t,uf(e,r))}function te(e,t){return Xc(e,uf("default",t))}te.loading=(e,t)=>Xc(e,uf("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function e$(e,{pending:t,error:r,success:n},s){let i;t&&(i=Ls(t)?te.loading(t,s):te.loading(t.render,{...s,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,m)=>{if(d==null){te.dismiss(i);return}let f={type:u,...o,...s,data:m},p=Ls(d)?{render:d}:d;return i?te.update(i,{...f,...p}):te(p.render,{...f,...p}),m},c=ia(e)?e():e;return c.then(u=>l("success",n,u)).catch(u=>l("error",r,u)),c}te.promise=e$;te.success=df("success");te.info=df("info");te.error=df("error");te.warning=df("warning");te.warn=te.warning;te.dark=(e,t)=>Xc(e,uf("default",{theme:"dark",...t}));function t$(e){Y4(e)}te.dismiss=t$;te.clearWaitingQueue=K4;te.isActive=SE;te.update=(e,t={})=>{let r=G4(e,t);if(r){let{props:n,content:s}=r,i={delay:100,...n,...t,toastId:t.toastId||e,updateId:NE()};i.toastId!==e&&(i.staleId=e);let o=i.render||s;delete i.render,Xc(o,i)}};te.done=e=>{te.update(e,{progress:1})};te.onChange=J4;te.play=e=>EE(!0,e);te.pause=e=>EE(!1,e);function r$(e){var t;let{subscribe:r,getSnapshot:n,setProps:s}=E.useRef(Q4(e)).current;s(e);let i=(t=E.useSyncExternalStore(r,n,n))==null?void 0:t.slice();function o(l){if(!i)return[];let c=new Map;return e.newestOnTop&&i.reverse(),i.forEach(u=>{let{position:d}=u.props;c.has(d)||c.set(d,[]),c.get(d).push(u)}),Array.from(c,u=>l(u[0],u[1]))}return{getToastToRender:o,isToastActive:SE,count:i==null?void 0:i.length}}function n$(e){let[t,r]=E.useState(!1),[n,s]=E.useState(!1),i=E.useRef(null),o=E.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:m}=e;X4({id:e.toastId,containerId:e.containerId,fn:r}),E.useEffect(()=>{if(e.pauseOnFocusLoss)return f(),()=>{p()}},[e.pauseOnFocusLoss]);function f(){document.hasFocus()||x(),window.addEventListener("focus",v),window.addEventListener("blur",x)}function p(){window.removeEventListener("focus",v),window.removeEventListener("blur",x)}function h(A){if(e.draggable===!0||e.draggable===A.pointerType){y();let T=i.current;o.canCloseOnClick=!0,o.canDrag=!0,T.style.transition="none",e.draggableDirection==="x"?(o.start=A.clientX,o.removalDistance=T.offsetWidth*(e.draggablePercent/100)):(o.start=A.clientY,o.removalDistance=T.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function g(A){let{top:T,bottom:S,left:_,right:P}=i.current.getBoundingClientRect();A.nativeEvent.type!=="touchend"&&e.pauseOnHover&&A.clientX>=_&&A.clientX<=P&&A.clientY>=T&&A.clientY<=S?x():v()}function v(){r(!0)}function x(){r(!1)}function y(){o.didMove=!1,document.addEventListener("pointermove",N),document.addEventListener("pointerup",j)}function b(){document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",j)}function N(A){let T=i.current;if(o.canDrag&&T){o.didMove=!0,t&&x(),e.draggableDirection==="x"?o.delta=A.clientX-o.start:o.delta=A.clientY-o.start,o.start!==A.clientX&&(o.canCloseOnClick=!1);let S=e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;T.style.transform=`translate3d(${S},0)`,T.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function j(){b();let A=i.current;if(o.canDrag&&o.didMove&&A){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){s(!0),e.closeToast(!0),e.collapseAll();return}A.style.transition="transform 0.2s, opacity 0.2s",A.style.removeProperty("transform"),A.style.removeProperty("opacity")}}let w={onPointerDown:h,onPointerUp:g};return l&&c&&(w.onMouseEnter=x,e.stacked||(w.onMouseLeave=v)),m&&(w.onClick=A=>{d&&d(A),o.canCloseOnClick&&u(!0)}),{playToast:v,pauseToast:x,isRunning:t,preventExitTransition:n,toastRef:i,eventHandlers:w}}var a$=typeof window<"u"?E.useLayoutEffect:E.useEffect,mf=({theme:e,type:t,isLoading:r,...n})=>L.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...n});function s$(e){return L.createElement(mf,{...e},L.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function i$(e){return L.createElement(mf,{...e},L.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function o$(e){return L.createElement(mf,{...e},L.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function l$(e){return L.createElement(mf,{...e},L.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function c$(){return L.createElement("div",{className:"Toastify__spinner"})}var Cx={info:i$,warning:s$,success:o$,error:l$,spinner:c$},u$=e=>e in Cx;function d$({theme:e,type:t,isLoading:r,icon:n}){let s=null,i={theme:e,type:t};return n===!1||(ia(n)?s=n({...i,isLoading:r}):E.isValidElement(n)?s=E.cloneElement(n,i):r?s=Cx.spinner():u$(t)&&(s=Cx[t](i))),s}var m$=e=>{let{isRunning:t,preventExitTransition:r,toastRef:n,eventHandlers:s,playToast:i}=n$(e),{closeButton:o,children:l,autoClose:c,onClick:u,type:d,hideProgressBar:m,closeToast:f,transition:p,position:h,className:g,style:v,progressClassName:x,updateId:y,role:b,progress:N,rtl:j,toastId:w,deleteToast:A,isIn:T,isLoading:S,closeOnClick:_,theme:P,ariaLabel:k}=e,O=be("Toastify__toast",`Toastify__toast-theme--${P}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":j},{"Toastify__toast--close-on-click":_}),C=ia(g)?g({rtl:j,position:h,type:d,defaultClassName:O}):be(O,g),D=d$(e),U=!!N||!c,z={closeToast:f,type:d,theme:P},I=null;return o===!1||(ia(o)?I=o(z):E.isValidElement(o)?I=E.cloneElement(o,z):I=F4(z)),L.createElement(p,{isIn:T,done:A,position:h,preventExitTransition:r,nodeRef:n,playToast:i},L.createElement("div",{id:w,tabIndex:0,onClick:u,"data-in":T,className:C,...s,style:v,ref:n,...T&&{role:b,"aria-label":k}},D!=null&&L.createElement("div",{className:be("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!S})},D),jE(l,e,!t),I,!e.customProgressBar&&L.createElement(z4,{...y&&!U?{key:`p-${y}`}:{},rtl:j,theme:P,delay:c,isRunning:t,isIn:T,closeToast:f,hide:m,type:d,className:x,controlledProgress:U,progress:N||0})))},f$=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),p$=U4(f$("bounce",!0)),h$={position:"top-right",transition:p$,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function x$(e){let t={...h$,...e},r=e.stacked,[n,s]=E.useState(!0),i=E.useRef(null),{getToastToRender:o,isToastActive:l,count:c}=r$(t),{className:u,style:d,rtl:m,containerId:f,hotKeys:p}=t;function h(v){let x=be("Toastify__toast-container",`Toastify__toast-container--${v}`,{"Toastify__toast-container--rtl":m});return ia(u)?u({position:v,rtl:m,defaultClassName:x}):be(x,Tx(u))}function g(){r&&(s(!0),te.play())}return a$(()=>{var v;if(r){let x=i.current.querySelectorAll('[data-in="true"]'),y=12,b=(v=t.position)==null?void 0:v.includes("top"),N=0,j=0;Array.from(x).reverse().forEach((w,A)=>{let T=w;T.classList.add("Toastify__toast--stacked"),A>0&&(T.dataset.collapsed=`${n}`),T.dataset.pos||(T.dataset.pos=b?"top":"bot");let S=N*(n?.2:1)+(n?0:y*A);T.style.setProperty("--y",`${b?S:S*-1}px`),T.style.setProperty("--g",`${y}`),T.style.setProperty("--s",`${1-(n?j:0)}`),N+=T.offsetHeight,j+=.025})}},[n,c,r]),E.useEffect(()=>{function v(x){var y;let b=i.current;p(x)&&((y=b.querySelector('[tabIndex="0"]'))==null||y.focus(),s(!1),te.pause()),x.key==="Escape"&&(document.activeElement===b||b!=null&&b.contains(document.activeElement))&&(s(!0),te.play())}return document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[p]),L.createElement("section",{ref:i,className:"Toastify",id:f,onMouseEnter:()=>{r&&(s(!1),te.pause())},onMouseLeave:g,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((v,x)=>{let y=x.length?{...d}:{...d,pointerEvents:"none"};return L.createElement("div",{tabIndex:-1,className:h(v),"data-stacked":r,style:y,key:`c-${v}`},x.map(({content:b,props:N})=>L.createElement(m$,{...N,stacked:r,collapseAll:g,isIn:l(N.toastId,N.containerId),key:`t-${N.key}`},b)))}))}/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),TE=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var g$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=E.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>E.createElement("svg",{ref:c,...g$,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:TE("lucide",s),...l},[...o.map(([u,d])=>E.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(e,t)=>{const r=E.forwardRef(({className:n,...s},i)=>E.createElement(v$,{ref:i,iconNode:t,className:TE(`lucide-${y$(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=le("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=le("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=le("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=le("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=le("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=le("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=le("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=le("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=le("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=le("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=le("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=le("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=le("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=le("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=le("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=le("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=le("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=le("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=le("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=le("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=le("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=le("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=le("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=le("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=le("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=le("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=le("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=le("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=le("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=le("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=le("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=le("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=le("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=le("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=le("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=le("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=le("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=le("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=le("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=le("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=le("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"10lez9"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6a6 6 0 0 0 6-6v-4",key:"ce9bce"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=le("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=le("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=le("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=le("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=le("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=le("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=le("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=le("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=le("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=le("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function OE(e,t){return function(){return e.apply(t,arguments)}}const{toString:H$}=Object.prototype,{getPrototypeOf:gv}=Object,{iterator:hf,toStringTag:CE}=Symbol,xf=(e=>t=>{const r=H$.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),gn=e=>(e=e.toLowerCase(),t=>xf(t)===e),yf=e=>t=>typeof t===e,{isArray:_o}=Array,Xi=yf("undefined");function Jc(e){return e!==null&&!Xi(e)&&e.constructor!==null&&!Xi(e.constructor)&&jr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const _E=gn("ArrayBuffer");function V$(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&_E(e.buffer),t}const q$=yf("string"),jr=yf("function"),kE=yf("number"),Zc=e=>e!==null&&typeof e=="object",W$=e=>e===!0||e===!1,fd=e=>{if(xf(e)!=="object")return!1;const t=gv(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(CE in e)&&!(hf in e)},G$=e=>{if(!Zc(e)||Jc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Y$=gn("Date"),K$=gn("File"),X$=gn("Blob"),Q$=gn("FileList"),J$=e=>Zc(e)&&jr(e.pipe),Z$=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||jr(e.append)&&((t=xf(e))==="formdata"||t==="object"&&jr(e.toString)&&e.toString()==="[object FormData]"))},eR=gn("URLSearchParams"),[tR,rR,nR,aR]=["ReadableStream","Request","Response","Headers"].map(gn),sR=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function eu(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),_o(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(Jc(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function IE(e,t){if(Jc(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const js=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$E=e=>!Xi(e)&&e!==js;function Ix(){const{caseless:e,skipUndefined:t}=$E(this)&&this||{},r={},n=(s,i)=>{const o=e&&IE(r,i)||i;fd(r[o])&&fd(s)?r[o]=Ix(r[o],s):fd(s)?r[o]=Ix({},s):_o(s)?r[o]=s.slice():(!t||!Xi(s))&&(r[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&eu(arguments[s],n);return r}const iR=(e,t,r,{allOwnKeys:n}={})=>(eu(t,(s,i)=>{r&&jr(s)?e[i]=OE(s,r):e[i]=s},{allOwnKeys:n}),e),oR=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),lR=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},cR=(e,t,r,n)=>{let s,i,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&gv(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},uR=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},dR=e=>{if(!e)return null;if(_o(e))return e;let t=e.length;if(!kE(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},mR=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&gv(Uint8Array)),fR=(e,t)=>{const n=(e&&e[hf]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},pR=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},hR=gn("HTMLFormElement"),xR=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),nj=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),yR=gn("RegExp"),RE=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};eu(r,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(n[i]=o||s)}),Object.defineProperties(e,n)},gR=e=>{RE(e,(t,r)=>{if(jr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(jr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},vR=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return _o(e)?n(e):n(String(e).split(t)),r},bR=()=>{},jR=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function NR(e){return!!(e&&jr(e.append)&&e[CE]==="FormData"&&e[hf])}const wR=e=>{const t=new Array(10),r=(n,s)=>{if(Zc(n)){if(t.indexOf(n)>=0)return;if(Jc(n))return n;if(!("toJSON"in n)){t[s]=n;const i=_o(n)?[]:{};return eu(n,(o,l)=>{const c=r(o,s+1);!Xi(c)&&(i[l]=c)}),t[s]=void 0,i}}return n};return r(e,0)},SR=gn("AsyncFunction"),AR=e=>e&&(Zc(e)||jr(e))&&jr(e.then)&&jr(e.catch),ME=((e,t)=>e?setImmediate:t?((r,n)=>(js.addEventListener("message",({source:s,data:i})=>{s===js&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),js.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",jr(js.postMessage)),ER=typeof queueMicrotask<"u"?queueMicrotask.bind(js):typeof process<"u"&&process.nextTick||ME,TR=e=>e!=null&&jr(e[hf]),K={isArray:_o,isArrayBuffer:_E,isBuffer:Jc,isFormData:Z$,isArrayBufferView:V$,isString:q$,isNumber:kE,isBoolean:W$,isObject:Zc,isPlainObject:fd,isEmptyObject:G$,isReadableStream:tR,isRequest:rR,isResponse:nR,isHeaders:aR,isUndefined:Xi,isDate:Y$,isFile:K$,isBlob:X$,isRegExp:yR,isFunction:jr,isStream:J$,isURLSearchParams:eR,isTypedArray:mR,isFileList:Q$,forEach:eu,merge:Ix,extend:iR,trim:sR,stripBOM:oR,inherits:lR,toFlatObject:cR,kindOf:xf,kindOfTest:gn,endsWith:uR,toArray:dR,forEachEntry:fR,matchAll:pR,isHTMLForm:hR,hasOwnProperty:nj,hasOwnProp:nj,reduceDescriptors:RE,freezeMethods:gR,toObjectSet:vR,toCamelCase:xR,noop:bR,toFiniteNumber:jR,findKey:IE,global:js,isContextDefined:$E,isSpecCompliantForm:NR,toJSONObject:wR,isAsyncFn:SR,isThenable:AR,setImmediate:ME,asap:ER,isIterable:TR};function Ae(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}K.inherits(Ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.status}}});const DE=Ae.prototype,LE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{LE[e]={value:e}});Object.defineProperties(Ae,LE);Object.defineProperty(DE,"isAxiosError",{value:!0});Ae.from=(e,t,r,n,s,i)=>{const o=Object.create(DE);K.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Ae.call(o,l,c,r,n,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const PR=null;function $x(e){return K.isPlainObject(e)||K.isArray(e)}function BE(e){return K.endsWith(e,"[]")?e.slice(0,-2):e}function aj(e,t,r){return e?e.concat(t).map(function(s,i){return s=BE(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function OR(e){return K.isArray(e)&&!e.some($x)}const CR=K.toFlatObject(K,{},null,function(t){return/^is[A-Z]/.test(t)});function gf(e,t,r){if(!K.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=K.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!K.isUndefined(v[g])});const n=r.metaTokens,s=r.visitor||d,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&K.isSpecCompliantForm(t);if(!K.isFunction(s))throw new TypeError("visitor must be a function");function u(h){if(h===null)return"";if(K.isDate(h))return h.toISOString();if(K.isBoolean(h))return h.toString();if(!c&&K.isBlob(h))throw new Ae("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(h)||K.isTypedArray(h)?c&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function d(h,g,v){let x=h;if(h&&!v&&typeof h=="object"){if(K.endsWith(g,"{}"))g=n?g:g.slice(0,-2),h=JSON.stringify(h);else if(K.isArray(h)&&OR(h)||(K.isFileList(h)||K.endsWith(g,"[]"))&&(x=K.toArray(h)))return g=BE(g),x.forEach(function(b,N){!(K.isUndefined(b)||b===null)&&t.append(o===!0?aj([g],N,i):o===null?g:g+"[]",u(b))}),!1}return $x(h)?!0:(t.append(aj(v,g,i),u(h)),!1)}const m=[],f=Object.assign(CR,{defaultVisitor:d,convertValue:u,isVisitable:$x});function p(h,g){if(!K.isUndefined(h)){if(m.indexOf(h)!==-1)throw Error("Circular reference detected in "+g.join("."));m.push(h),K.forEach(h,function(x,y){(!(K.isUndefined(x)||x===null)&&s.call(t,x,K.isString(y)?y.trim():y,g,f))===!0&&p(x,g?g.concat(y):[y])}),m.pop()}}if(!K.isObject(e))throw new TypeError("data must be an object");return p(e),t}function sj(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function vv(e,t){this._pairs=[],e&&gf(e,this,t)}const UE=vv.prototype;UE.append=function(t,r){this._pairs.push([t,r])};UE.toString=function(t){const r=t?function(n){return t.call(this,n,sj)}:sj;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function _R(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function FE(e,t,r){if(!t)return e;const n=r&&r.encode||_R;K.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=K.isURLSearchParams(t)?t.toString():new vv(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class ij{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){K.forEach(this.handlers,function(n){n!==null&&t(n)})}}const zE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kR=typeof URLSearchParams<"u"?URLSearchParams:vv,IR=typeof FormData<"u"?FormData:null,$R=typeof Blob<"u"?Blob:null,RR={isBrowser:!0,classes:{URLSearchParams:kR,FormData:IR,Blob:$R},protocols:["http","https","file","blob","url","data"]},bv=typeof window<"u"&&typeof document<"u",Rx=typeof navigator=="object"&&navigator||void 0,MR=bv&&(!Rx||["ReactNative","NativeScript","NS"].indexOf(Rx.product)<0),DR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",LR=bv&&window.location.href||"http://localhost",BR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:bv,hasStandardBrowserEnv:MR,hasStandardBrowserWebWorkerEnv:DR,navigator:Rx,origin:LR},Symbol.toStringTag,{value:"Module"})),Qt={...BR,...RR};function UR(e,t){return gf(e,new Qt.classes.URLSearchParams,{visitor:function(r,n,s,i){return Qt.isNode&&K.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function FR(e){return K.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function zR(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function HE(e){function t(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&K.isArray(s)?s.length:o,c?(K.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!K.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],i)&&K.isArray(s[o])&&(s[o]=zR(s[o])),!l)}if(K.isFormData(e)&&K.isFunction(e.entries)){const r={};return K.forEachEntry(e,(n,s)=>{t(FR(n),s,r,0)}),r}return null}function HR(e,t,r){if(K.isString(e))try{return(t||JSON.parse)(e),K.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const tu={transitional:zE,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=K.isObject(t);if(i&&K.isHTMLForm(t)&&(t=new FormData(t)),K.isFormData(t))return s?JSON.stringify(HE(t)):t;if(K.isArrayBuffer(t)||K.isBuffer(t)||K.isStream(t)||K.isFile(t)||K.isBlob(t)||K.isReadableStream(t))return t;if(K.isArrayBufferView(t))return t.buffer;if(K.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return UR(t,this.formSerializer).toString();if((l=K.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return gf(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),HR(t)):t}],transformResponse:[function(t){const r=this.transitional||tu.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(K.isResponse(t)||K.isReadableStream(t))return t;if(t&&K.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Ae.from(l,Ae.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qt.classes.FormData,Blob:Qt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};K.forEach(["delete","get","head","post","put","patch"],e=>{tu.headers[e]={}});const VR=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qR=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&VR[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},oj=Symbol("internals");function el(e){return e&&String(e).trim().toLowerCase()}function pd(e){return e===!1||e==null?e:K.isArray(e)?e.map(pd):String(e)}function WR(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const GR=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Up(e,t,r,n,s){if(K.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!K.isString(t)){if(K.isString(n))return t.indexOf(n)!==-1;if(K.isRegExp(n))return n.test(t)}}function YR(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function KR(e,t){const r=K.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,o){return this[n].call(this,t,s,i,o)},configurable:!0})})}let Nr=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(l,c,u){const d=el(c);if(!d)throw new Error("header name must be a non-empty string");const m=K.findKey(s,d);(!m||s[m]===void 0||u===!0||u===void 0&&s[m]!==!1)&&(s[m||c]=pd(l))}const o=(l,c)=>K.forEach(l,(u,d)=>i(u,d,c));if(K.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(K.isString(t)&&(t=t.trim())&&!GR(t))o(qR(t),r);else if(K.isObject(t)&&K.isIterable(t)){let l={},c,u;for(const d of t){if(!K.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?K.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=el(t),t){const n=K.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return WR(s);if(K.isFunction(r))return r.call(this,s,n);if(K.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=el(t),t){const n=K.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Up(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(o){if(o=el(o),o){const l=K.findKey(n,o);l&&(!r||Up(n,n[l],l,r))&&(delete n[l],s=!0)}}return K.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||Up(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return K.forEach(this,(s,i)=>{const o=K.findKey(n,i);if(o){r[o]=pd(s),delete r[i];return}const l=t?YR(i):String(i).trim();l!==i&&delete r[i],r[l]=pd(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return K.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&K.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[oj]=this[oj]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=el(o);n[l]||(KR(s,o),n[l]=!0)}return K.isArray(t)?t.forEach(i):i(t),this}};Nr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);K.reduceDescriptors(Nr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});K.freezeMethods(Nr);function Fp(e,t){const r=this||tu,n=t||r,s=Nr.from(n.headers);let i=n.data;return K.forEach(e,function(l){i=l.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function VE(e){return!!(e&&e.__CANCEL__)}function ko(e,t,r){Ae.call(this,e??"canceled",Ae.ERR_CANCELED,t,r),this.name="CanceledError"}K.inherits(ko,Ae,{__CANCEL__:!0});function qE(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Ae("Request failed with status code "+r.status,[Ae.ERR_BAD_REQUEST,Ae.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function XR(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function QR(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[i];o||(o=u),r[s]=c,n[s]=u;let m=i,f=0;for(;m!==s;)f+=r[m++],m=m%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const p=d&&u-d;return p?Math.round(f*1e3/p):void 0}}function JR(e,t){let r=0,n=1e3/t,s,i;const o=(u,d=Date.now())=>{r=d,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),m=d-r;m>=n?o(u,d):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},n-m)))},()=>s&&o(s)]}const Hd=(e,t,r=3)=>{let n=0;const s=QR(50,250);return JR(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-n,u=s(c),d=o<=l;n=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},r)},lj=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},cj=e=>(...t)=>K.asap(()=>e(...t)),ZR=Qt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Qt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Qt.origin),Qt.navigator&&/(msie|trident)/i.test(Qt.navigator.userAgent)):()=>!0,eM=Qt.hasStandardBrowserEnv?{write(e,t,r,n,s,i){const o=[e+"="+encodeURIComponent(t)];K.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),K.isString(n)&&o.push("path="+n),K.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function tM(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function rM(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function WE(e,t,r){let n=!tM(t);return e&&(n||r==!1)?rM(e,t):t}const uj=e=>e instanceof Nr?{...e}:e;function Us(e,t){t=t||{};const r={};function n(u,d,m,f){return K.isPlainObject(u)&&K.isPlainObject(d)?K.merge.call({caseless:f},u,d):K.isPlainObject(d)?K.merge({},d):K.isArray(d)?d.slice():d}function s(u,d,m,f){if(K.isUndefined(d)){if(!K.isUndefined(u))return n(void 0,u,m,f)}else return n(u,d,m,f)}function i(u,d){if(!K.isUndefined(d))return n(void 0,d)}function o(u,d){if(K.isUndefined(d)){if(!K.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,m){if(m in t)return n(u,d);if(m in e)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,m)=>s(uj(u),uj(d),m,!0)};return K.forEach(Object.keys({...e,...t}),function(d){const m=c[d]||s,f=m(e[d],t[d],d);K.isUndefined(f)&&m!==l||(r[d]=f)}),r}const GE=e=>{const t=Us({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=Nr.from(o),t.url=FE(WE(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),K.isFormData(r)){if(Qt.hasStandardBrowserEnv||Qt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(K.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,m])=>{u.includes(d.toLowerCase())&&o.set(d,m)})}}if(Qt.hasStandardBrowserEnv&&(n&&K.isFunction(n)&&(n=n(t)),n||n!==!1&&ZR(t.url))){const c=s&&i&&eM.read(i);c&&o.set(s,c)}return t},nM=typeof XMLHttpRequest<"u",aM=nM&&function(e){return new Promise(function(r,n){const s=GE(e);let i=s.data;const o=Nr.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,m,f,p,h;function g(){p&&p(),h&&h(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function x(){if(!v)return;const b=Nr.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),j={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:b,config:e,request:v};qE(function(A){r(A),g()},function(A){n(A),g()},j),v=null}"onloadend"in v?v.onloadend=x:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(x)},v.onabort=function(){v&&(n(new Ae("Request aborted",Ae.ECONNABORTED,e,v)),v=null)},v.onerror=function(N){const j=N&&N.message?N.message:"Network Error",w=new Ae(j,Ae.ERR_NETWORK,e,v);w.event=N||null,n(w),v=null},v.ontimeout=function(){let N=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const j=s.transitional||zE;s.timeoutErrorMessage&&(N=s.timeoutErrorMessage),n(new Ae(N,j.clarifyTimeoutError?Ae.ETIMEDOUT:Ae.ECONNABORTED,e,v)),v=null},i===void 0&&o.setContentType(null),"setRequestHeader"in v&&K.forEach(o.toJSON(),function(N,j){v.setRequestHeader(j,N)}),K.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),l&&l!=="json"&&(v.responseType=s.responseType),u&&([f,h]=Hd(u,!0),v.addEventListener("progress",f)),c&&v.upload&&([m,p]=Hd(c),v.upload.addEventListener("progress",m),v.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(d=b=>{v&&(n(!b||b.type?new ko(null,e,v):b),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const y=XR(s.url);if(y&&Qt.protocols.indexOf(y)===-1){n(new Ae("Unsupported protocol "+y+":",Ae.ERR_BAD_REQUEST,e));return}v.send(i||null)})},sM=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Ae?d:new ko(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new Ae(`timeout ${t} of ms exceeded`,Ae.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>K.asap(l),c}},iM=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},oM=async function*(e,t){for await(const r of lM(e))yield*iM(r,t)},lM=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},dj=(e,t,r,n)=>{const s=oM(e,t);let i=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let m=d.byteLength;if(r){let f=i+=m;r(f)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},mj=64*1024,{isFunction:ku}=K,cM=(({Request:e,Response:t})=>({Request:e,Response:t}))(K.global),{ReadableStream:fj,TextEncoder:pj}=K.global,hj=(e,...t)=>{try{return!!e(...t)}catch{return!1}},uM=e=>{e=K.merge.call({skipUndefined:!0},cM,e);const{fetch:t,Request:r,Response:n}=e,s=t?ku(t):typeof fetch=="function",i=ku(r),o=ku(n);if(!s)return!1;const l=s&&ku(fj),c=s&&(typeof pj=="function"?(h=>g=>h.encode(g))(new pj):async h=>new Uint8Array(await new r(h).arrayBuffer())),u=i&&l&&hj(()=>{let h=!1;const g=new r(Qt.origin,{body:new fj,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!g}),d=o&&l&&hj(()=>K.isReadableStream(new n("").body)),m={stream:d&&(h=>h.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!m[h]&&(m[h]=(g,v)=>{let x=g&&g[h];if(x)return x.call(g);throw new Ae(`Response type '${h}' is not supported`,Ae.ERR_NOT_SUPPORT,v)})});const f=async h=>{if(h==null)return 0;if(K.isBlob(h))return h.size;if(K.isSpecCompliantForm(h))return(await new r(Qt.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(K.isArrayBufferView(h)||K.isArrayBuffer(h))return h.byteLength;if(K.isURLSearchParams(h)&&(h=h+""),K.isString(h))return(await c(h)).byteLength},p=async(h,g)=>{const v=K.toFiniteNumber(h.getContentLength());return v??f(g)};return async h=>{let{url:g,method:v,data:x,signal:y,cancelToken:b,timeout:N,onDownloadProgress:j,onUploadProgress:w,responseType:A,headers:T,withCredentials:S="same-origin",fetchOptions:_}=GE(h),P=t||fetch;A=A?(A+"").toLowerCase():"text";let k=sM([y,b&&b.toAbortSignal()],N),O=null;const C=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let D;try{if(w&&u&&v!=="get"&&v!=="head"&&(D=await p(T,x))!==0){let V=new r(g,{method:"POST",body:x,duplex:"half"}),W;if(K.isFormData(x)&&(W=V.headers.get("content-type"))&&T.setContentType(W),V.body){const[ee,se]=lj(D,Hd(cj(w)));x=dj(V.body,mj,ee,se)}}K.isString(S)||(S=S?"include":"omit");const U=i&&"credentials"in r.prototype,z={..._,signal:k,method:v.toUpperCase(),headers:T.normalize().toJSON(),body:x,duplex:"half",credentials:U?S:void 0};O=i&&new r(g,z);let I=await(i?P(O,_):P(g,z));const R=d&&(A==="stream"||A==="response");if(d&&(j||R&&C)){const V={};["status","statusText","headers"].forEach(ye=>{V[ye]=I[ye]});const W=K.toFiniteNumber(I.headers.get("content-length")),[ee,se]=j&&lj(W,Hd(cj(j),!0))||[];I=new n(dj(I.body,mj,ee,()=>{se&&se(),C&&C()}),V)}A=A||"text";let F=await m[K.findKey(m,A)||"text"](I,h);return!R&&C&&C(),await new Promise((V,W)=>{qE(V,W,{data:F,headers:Nr.from(I.headers),status:I.status,statusText:I.statusText,config:h,request:O})})}catch(U){throw C&&C(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new Ae("Network Error",Ae.ERR_NETWORK,h,O),{cause:U.cause||U}):Ae.from(U,U&&U.code,h,O)}}},dM=new Map,YE=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:s}=t,i=[n,s,r];let o=i.length,l=o,c,u,d=dM;for(;l--;)c=i[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:uM(t)),d=u;return u};YE();const Mx={http:PR,xhr:aM,fetch:{get:YE}};K.forEach(Mx,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const xj=e=>`- ${e}`,mM=e=>K.isFunction(e)||e===null||e===!1,KE={getAdapter:(e,t)=>{e=K.isArray(e)?e:[e];const{length:r}=e;let n,s;const i={};for(let o=0;o<r;o++){n=e[o];let l;if(s=n,!mM(n)&&(s=Mx[(l=String(n)).toLowerCase()],s===void 0))throw new Ae(`Unknown adapter '${l}'`);if(s&&(K.isFunction(s)||(s=s.get(t))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(xj).join(`
`):" "+xj(o[0]):"as no adapter specified";throw new Ae("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:Mx};function zp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ko(null,e)}function yj(e){return zp(e),e.headers=Nr.from(e.headers),e.data=Fp.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),KE.getAdapter(e.adapter||tu.adapter,e)(e).then(function(n){return zp(e),n.data=Fp.call(e,e.transformResponse,n),n.headers=Nr.from(n.headers),n},function(n){return VE(n)||(zp(e),n&&n.response&&(n.response.data=Fp.call(e,e.transformResponse,n.response),n.response.headers=Nr.from(n.response.headers))),Promise.reject(n)})}const XE="1.12.2",vf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{vf[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const gj={};vf.transitional=function(t,r,n){function s(i,o){return"[Axios v"+XE+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new Ae(s(o," has been removed"+(r?" in "+r:"")),Ae.ERR_DEPRECATED);return r&&!gj[o]&&(gj[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};vf.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function fM(e,t,r){if(typeof e!="object")throw new Ae("options must be an object",Ae.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new Ae("option "+i+" must be "+c,Ae.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ae("Unknown option "+i,Ae.ERR_BAD_OPTION)}}const hd={assertOptions:fM,validators:vf},Nn=hd.validators;let Os=class{constructor(t){this.defaults=t||{},this.interceptors={request:new ij,response:new ij}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Us(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&hd.assertOptions(n,{silentJSONParsing:Nn.transitional(Nn.boolean),forcedJSONParsing:Nn.transitional(Nn.boolean),clarifyTimeoutError:Nn.transitional(Nn.boolean)},!1),s!=null&&(K.isFunction(s)?r.paramsSerializer={serialize:s}:hd.assertOptions(s,{encode:Nn.function,serialize:Nn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),hd.assertOptions(r,{baseUrl:Nn.spelling("baseURL"),withXsrfToken:Nn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&K.merge(i.common,i[r.method]);i&&K.forEach(["delete","get","head","post","put","patch","common"],h=>{delete i[h]}),r.headers=Nr.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(c=c&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,m=0,f;if(!c){const h=[yj.bind(this),void 0];for(h.unshift(...l),h.push(...u),f=h.length,d=Promise.resolve(r);m<f;)d=d.then(h[m++],h[m++]);return d}f=l.length;let p=r;for(;m<f;){const h=l[m++],g=l[m++];try{p=h(p)}catch(v){g.call(this,v);break}}try{d=yj.call(this,p)}catch(h){return Promise.reject(h)}for(m=0,f=u.length;m<f;)d=d.then(u[m++],u[m++]);return d}getUri(t){t=Us(this.defaults,t);const r=WE(t.baseURL,t.url,t.allowAbsoluteUrls);return FE(r,t.params,t.paramsSerializer)}};K.forEach(["delete","get","head","options"],function(t){Os.prototype[t]=function(r,n){return this.request(Us(n||{},{method:t,url:r,data:(n||{}).data}))}});K.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(Us(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Os.prototype[t]=r(),Os.prototype[t+"Form"]=r(!0)});let pM=class QE{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new ko(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new QE(function(s){t=s}),cancel:t}}};function hM(e){return function(r){return e.apply(null,r)}}function xM(e){return K.isObject(e)&&e.isAxiosError===!0}const Dx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Dx).forEach(([e,t])=>{Dx[t]=e});function JE(e){const t=new Os(e),r=OE(Os.prototype.request,t);return K.extend(r,Os.prototype,t,{allOwnKeys:!0}),K.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return JE(Us(e,s))},r}const xt=JE(tu);xt.Axios=Os;xt.CanceledError=ko;xt.CancelToken=pM;xt.isCancel=VE;xt.VERSION=XE;xt.toFormData=gf;xt.AxiosError=Ae;xt.Cancel=xt.CanceledError;xt.all=function(t){return Promise.all(t)};xt.spread=hM;xt.isAxiosError=xM;xt.mergeConfig=Us;xt.AxiosHeaders=Nr;xt.formToJSON=e=>HE(K.isHTMLForm(e)?new FormData(e):e);xt.getAdapter=KE.getAdapter;xt.HttpStatusCode=Dx;xt.default=xt;const{Axios:Soe,AxiosError:Aoe,CanceledError:Eoe,isCancel:Toe,CancelToken:Poe,VERSION:Ooe,all:Coe,Cancel:_oe,isAxiosError:koe,spread:Ioe,toFormData:$oe,AxiosHeaders:Roe,HttpStatusCode:Moe,formToJSON:Doe,getAdapter:Loe,mergeConfig:Boe}=xt,vj={BASE_URL:"http://3.89.141.154:3007/api",TIMEOUT:1e4},q={AUTH:{LOGIN:"/v1/auth/login",LOGOUT:"/v1/auth/logout",REFRESH:"/v1/auth/refresh",REGISTER:"/v1/auth/register",FORGOT_PASSWORD:"/v1/auth/forgot-password",RESET_PASSWORD:"/v1/auth/reset-password",VERIFY_EMAIL:"/v1/auth/verify-email",CHANGE_PASSWORD:"/v1/auth/change-password",RESEND_VERIFICATION:"/v1/auth/resend-verification",ENABLE_2FA:"/v1/auth/2fa/enable",VERIFY_2FA:"/v1/auth/2fa/verify",GET_PROFILE:"/v1/auth/me",UPDATE_PROFILE:"/v1/auth/profile",CHECK_STATUS:"/v1/auth/status",SESSIONS:"/v1/auth/sessions",REVOKE_SESSION:e=>`/v1/auth/sessions/${e}`,REVOKE_ALL_SESSIONS:"/v1/auth/sessions",HEALTH:"/v1/auth/health"},USERS:{BASE:"/v1/users",BY_ID:e=>`/v1/users/${e}`,SEARCH:"/v1/users/search",MEDICAL_STAFF:"/v1/users/medical-staff",UPDATE_STATUS:e=>`/v1/users/${e}/status`,PROFILE:"/v1/users/profile",UPDATE_PROFILE:"/v1/users/profile",UPLOAD_AVATAR:"/v1/users/avatar"},PATIENTS:{BASE:"/v1/patients",BY_ID:e=>`/v1/patients/${e}`,SEARCH:"/v1/patients/search",REGISTER:"/v1/patients",DASHBOARD:e=>`/v1/patients/${e}/dashboard`,TIMELINE:e=>`/v1/patients/${e}/timeline`,MERGE:e=>`/v1/patients/${e}/merge`,MEDICAL_HISTORY:e=>`/v1/patients/${e}/medical-history`,PROGRESS:e=>`/v1/patients/${e}/progress`,CASES:e=>`/v1/patients/${e}/cases`},NURSES:{BASE:"/v1/nurses",BY_ID:e=>`/v1/nurses/${e}`,SCHEDULE:e=>`/v1/nurses/${e}/schedule`,CERTIFICATIONS:e=>`/v1/nurses/${e}/certifications`,ASSIGNMENTS:e=>`/v1/nurses/${e}/assignments`},SPECIALISTS:{BASE:"/v1/specialists",BY_ID:e=>`/v1/specialists/${e}`,AVAILABILITY:e=>`/v1/specialists/${e}/availability`,SPECIALIZATIONS:"/v1/specialists/specializations"},THERAPISTS:{BASE:"/v1/therapists",BY_ID:e=>`/v1/therapists/${e}`},SPECIALIZATIONS:{BASE:"/v1/specializations",BY_ID:e=>`/v1/specializations/${e}`},APPOINTMENTS:{BASE:"/v1/appointments",BY_ID:e=>`/v1/appointments/${e}`,BY_PATIENT:e=>`/v1/appointments/patient/${e}`,BY_NURSE:e=>`/v1/appointments/nurse/${e}`,BY_SPECIALIST:e=>`/v1/appointments/specialist/${e}`,AVAILABLE_SLOTS:"/v1/appointments/available-slots",CHECK_CONFLICTS:"/v1/appointments/check-conflicts",CALENDAR:e=>`/v1/appointments/calendar/${e}`,SEARCH:"/v1/appointments/search",CANCEL:e=>`/v1/appointments/${e}/cancel`,RESCHEDULE:e=>`/v1/appointments/${e}/reschedule`,COMPLETE:e=>`/v1/appointments/${e}/complete`,START:e=>`/v1/appointments/${e}/start`,NO_SHOW:e=>`/v1/appointments/${e}/no-show`,NOTES:e=>`/v1/appointments/${e}/notes`},SERVICES:{BASE:"/v1/services",BY_ID:e=>`/v1/services/${e}`,CATEGORIES:"/v1/services/categories",TYPES:"/v1/services/types"},HEALTH_RECORDS:{BASE:"/v1/health-records",BY_ID:e=>`/v1/health-records/${e}`,BY_PATIENT:e=>`/v1/health-records/patient/${e}`,VITALS:e=>`/v1/health-records/patient/${e}/vitals`,MEDICATIONS:e=>`/v1/health-records/patient/${e}/medications`,SYMPTOMS:e=>`/v1/health-records/patient/${e}/symptoms`,VERIFY:e=>`/v1/health-records/${e}/verify`,EXPORT:e=>`/v1/health-records/patient/${e}/export`},BILLING:{INVOICES:"/v1/billing/invoices",INVOICE_BY_ID:e=>`/v1/billing/invoices/${e}`,PAYMENTS:"/v1/billing/payments",PAYMENT_BY_ID:e=>`/v1/billing/payments/${e}`,PROCESS_PAYMENT:"/v1/billing/process-payment",GENERATE_INVOICE:"/v1/billing/generate-invoice",REVENUE_REPORT:"/v1/billing/reports/revenue",OUTSTANDING_REPORT:"/v1/billing/reports/outstanding"},PHYSIOTHERAPY:{ASSESSMENTS:"/v1/physiotherapy/assessments",ASSESSMENT_BY_ID:e=>`/v1/physiotherapy/assessments/${e}`,TREATMENT_PLANS:"/v1/physiotherapy/treatment-plans",TREATMENT_PLAN_BY_ID:e=>`/v1/physiotherapy/treatment-plans/${e}`,SESSIONS:"/v1/physiotherapy/sessions",SESSION_BY_ID:e=>`/v1/physiotherapy/sessions/${e}`,EXERCISES:"/v1/physiotherapy/exercises",MODALITIES:"/v1/physiotherapy/modalities"},TRAINING:{CLASSES:"/v1/training/classes",CLASS_BY_ID:e=>`/v1/training/classes/${e}`,ENROLL:e=>`/v1/training/classes/${e}/enroll`,EXAMS:"/v1/training/exams",EXAM_BY_ID:e=>`/v1/training/exams/${e}`,SUBMIT_EXAM:e=>`/v1/training/exams/${e}/submit`,CERTIFICATIONS:"/v1/training/certifications",CERTIFICATION_BY_ID:e=>`/v1/training/certifications/${e}`,EXAMS_V2:"/v1/training/exams-v2",EXAM_V2_BY_ID:e=>`/v1/training/exams-v2/${e}`,START_EXAM:e=>`/v1/training/exams-v2/${e}/start`,ATTEMPTS:"/v1/training/attempts",ATTEMPT_BY_ID:e=>`/v1/training/attempts/${e}`,SUBMIT_ATTEMPT:e=>`/v1/training/attempts/${e}/submit`,CERTIFICATES_V2:"/v1/training/certificates",CERTIFICATE_V2_BY_ID:e=>`/v1/training/certificates/${e}`,CERTIFICATES_MINE:"/v1/training/certificates/mine",APPROVE_CERTIFICATE:e=>`/v1/training/certificates/${e}/approve`},NOTIFICATIONS:{BASE:"/v1/notifications",BY_ID:e=>`/v1/notifications/${e}`,MARK_READ:e=>`/v1/notifications/${e}/read`,MARK_ALL_READ:"/v1/notifications/mark-all-read",PREFERENCES:"/v1/notifications/preferences",UNREAD_COUNT:"/v1/notifications/unread-count",TEST:"/v1/notifications/test",HISTORY:"/v1/notifications/history",BULK_READ:"/v1/notifications/bulk-read",BULK_DELETE:"/v1/notifications/bulk-delete"},PHONE_REMINDERS:{BASE:"/v1/phone-reminders",BY_ID:e=>`/v1/phone-reminders/${e}`,SEND:e=>`/v1/phone-reminders/${e}/send`,CANCEL:e=>`/v1/phone-reminders/${e}/cancel`,TEMPLATES:"/v1/phone-reminders/templates"},COMMUNICATION:{MESSAGES:"/v1/communication/messages",MESSAGE_BY_ID:e=>`/v1/communication/messages/${e}`,SEND_MESSAGE:"/v1/communication/send",CONVERSATIONS:"/v1/communication/conversations",CONVERSATION_BY_ID:e=>`/v1/communication/conversations/${e}`},REPORTS:{BASE:"/v1/reports",CUSTOM:"/v1/reports/custom",SCHEDULE:"/v1/reports/schedule",TEMPLATES:"/v1/reports/templates",APPOINTMENTS:"/v1/reports/appointments",REVENUE:"/v1/reports/revenue",PATIENT_SATISFACTION:"/v1/reports/patient-satisfaction",NURSE_UTILIZATION:"/v1/reports/nurse-utilization",EXPORT:e=>`/v1/reports/export/${e}`},ANALYTICS:{DASHBOARD:"/v1/analytics/dashboard",OVERVIEW:"/v1/analytics/overview",TRENDS:"/v1/analytics/trends",PERFORMANCE:"/v1/analytics/performance",APPOINTMENTS:"/v1/analytics/appointments",REVENUE:"/v1/analytics/revenue",PATIENTS:"/v1/analytics/patients",NURSES:"/v1/analytics/nurses",SERVICE_POPULARITY:"/v1/analytics/service-popularity"},FEEDBACK:{BASE:"/v1/feedback",BY_ID:e=>`/v1/feedback/${e}`,BY_PATIENT:e=>`/v1/feedback/patient/${e}`,BY_SERVICE:e=>`/v1/feedback/service/${e}`,SUBMIT:"/v1/feedback/submit"},LAB:{SAMPLES:"/v1/lab/samples",SAMPLE_BY_ID:e=>`/v1/lab/samples/${e}`,RESULTS:"/v1/lab/results",RESULT_BY_ID:e=>`/v1/lab/results/${e}`,COLLECT:"/v1/lab/collect",UPDATE_STATUS:e=>`/v1/lab/samples/${e}/status`},REFERRALS:{BASE:"/v1/referrals",BY_ID:e=>`/v1/referrals/${e}`,BY_PATIENT:e=>`/v1/referrals/patient/${e}`,SEND:"/v1/referrals/send",ACCEPT:e=>`/v1/referrals/${e}/accept`,DECLINE:e=>`/v1/referrals/${e}/decline`},UPLOAD:{AVATAR:"/v1/upload/avatar",DOCUMENT:"/v1/upload/document",IMAGE:"/v1/upload/image",DELETE:e=>`/v1/upload/${e}`},SETTINGS:{SYSTEM:"/v1/settings/system",NOTIFICATIONS:"/v1/settings/notifications",REMINDERS:"/v1/settings/reminders",BACKUP:"/v1/settings/backup",RESTORE:"/v1/settings/restore"},SYSTEM:{HEALTH:"/v1/health",HEALTH_DETAILED:"/v1/health/detailed",METRICS:"/v1/metrics",STATUS:"/v1/status",AUDIT_LOGS:"/v1/audit/logs",USER_ACTIVITIES:e=>`/v1/audit/activities${e?`/${e}`:""}`,LOGIN_ATTEMPTS:"/v1/audit/login-attempts",EXPORT_AUDIT:"/v1/audit/export",APP_CONFIG:"/v1/config/app",FEATURE_FLAGS:"/v1/config/features",DATA_BACKUP:"/v1/data/backup",DATA_RESTORE:"/v1/data/restore",DATA_EXPORT:"/v1/data/export",DATA_IMPORT:"/v1/data/import",DATA_CLEANUP:"/v1/data/cleanup"},SECURITY:{POLICIES:"/v1/security/policies",INCIDENTS:"/v1/security/incidents",REPORT_INCIDENT:"/v1/security/incidents",COMPLIANCE_AUDIT:"/v1/compliance/audit",DATA_REQUESTS:"/v1/privacy/data-requests",DATA_EXPORT:e=>`/v1/privacy/data-export${e?`/${e}`:""}`,DATA_DELETE:e=>`/v1/privacy/data-delete${e?`/${e}`:""}`},MOBILE:{CONFIG:"/v1/mobile/config",PUSH_TOKEN:"/v1/mobile/push-token",OFFLINE_SYNC:"/v1/mobile/offline-sync"},INTEGRATIONS:{AVAILABLE:"/v1/integrations/available",CONNECT:"/v1/integrations/connect",WEBHOOK:e=>`/v1/integrations/webhook${e?`/${e}`:""}`}},wn={AUTH:{LOGIN:"/v1/auth/login",LOGOUT:"/v1/auth/logout",REFRESH:"/v1/auth/refresh",REGISTER:"/v1/auth/register",FORGOT_PASSWORD:"/v1/auth/forgot-password",RESET_PASSWORD:"/v1/auth/reset-password",VERIFY_EMAIL:"/v1/auth/verify-email",CHANGE_PASSWORD:"/v1/auth/change-password",ME:"/v1/auth/me"},USERS:{BASE:"/v1/users",BY_ID:e=>`/v1/users/${e}`,PROFILE:"/v1/users/profile",AVATAR:"/v1/users/avatar",SEARCH:"/v1/users/search"},PATIENTS:{BASE:"/v1/patients",BY_ID:e=>`/v1/patients/${e}`,SEARCH:"/v1/patients/search",MEDICAL_HISTORY:e=>`/v1/patients/${e}/medical-history`,PROGRESS:e=>`/v1/patients/${e}/progress`,CASES:e=>`/v1/patients/${e}/cases`},NURSES:{BASE:"/v1/nurses",BY_ID:e=>`/v1/nurses/${e}`,SCHEDULE:e=>`/v1/nurses/${e}/schedule`,CERTIFICATIONS:e=>`/v1/nurses/${e}/certifications`,ASSIGNMENTS:e=>`/v1/nurses/${e}/assignments`,SEARCH:"/v1/nurses/search"},SPECIALISTS:{BASE:"/v1/specialists",BY_ID:e=>`/v1/specialists/${e}`,AVAILABILITY:e=>`/v1/specialists/${e}/availability`,SPECIALIZATIONS:"/v1/specialists/specializations",SEARCH:"/v1/specialists/search"},APPOINTMENTS:{BASE:"/v1/appointments",BY_ID:e=>`/v1/appointments/${e}`,PATIENT:e=>`/v1/appointments/patient/${e}`,NURSE:e=>`/v1/appointments/nurse/${e}`,AVAILABLE_SLOTS:"/v1/appointments/available-slots",CANCEL:e=>`/v1/appointments/${e}/cancel`,RESCHEDULE:e=>`/v1/appointments/${e}/reschedule`,COMPLETE:e=>`/v1/appointments/${e}/complete`,START:e=>`/v1/appointments/${e}/start`},SERVICES:{BASE:"/v1/services",BY_ID:e=>`/v1/services/${e}`,CATEGORIES:"/v1/services/categories",TYPES:"/v1/services/types",SEARCH:"/v1/services/search"},HEALTH_RECORDS:{BASE:"/v1/health-records",BY_ID:e=>`/v1/health-records/${e}`,PATIENT:e=>`/v1/health-records/patient/${e}`,VITALS:e=>`/v1/health-records/patient/${e}/vitals`,MEDICATIONS:e=>`/v1/health-records/patient/${e}/medications`,SYMPTOMS:e=>`/v1/health-records/patient/${e}/symptoms`,VERIFY:e=>`/v1/health-records/${e}/verify`,EXPORT:e=>`/v1/health-records/patient/${e}/export`},BILLING:{INVOICES:"/v1/billing/invoices",INVOICE_BY_ID:e=>`/v1/billing/invoices/${e}`,GENERATE_INVOICE:"/v1/billing/generate-invoice",PAYMENTS:"/v1/billing/payments",PAYMENT_BY_ID:e=>`/v1/billing/payments/${e}`,PROCESS_PAYMENT:"/v1/billing/process-payment",REVENUE_REPORTS:"/v1/billing/reports/revenue",OUTSTANDING_REPORTS:"/v1/billing/reports/outstanding"},NOTIFICATIONS:{BASE:"/v1/notifications",BY_ID:e=>`/v1/notifications/${e}`,MARK_READ:e=>`/v1/notifications/${e}/read`,MARK_ALL_READ:"/v1/notifications/mark-all-read",UNREAD_COUNT:"/v1/notifications/unread-count",PREFERENCES:"/v1/notifications/preferences",TEST:"/v1/notifications/test",HISTORY:"/v1/notifications/history",BULK_READ:"/v1/notifications/bulk-read",BULK_DELETE:"/v1/notifications/bulk-delete"},UPLOAD:{AVATAR:"/v1/upload/avatar",DOCUMENT:"/v1/upload/document",IMAGE:"/v1/upload/image",BY_ID:e=>`/v1/upload/${e}`}};class Ta extends Error{constructor(t,r,n){super(r),this.status=t,this.message=r,this.errors=n,this.name="ApiError"}}class yM{constructor(){ai(this,"client");ai(this,"token",null);ai(this,"refreshTokenValue",null);this.client=xt.create({baseURL:vj.BASE_URL,timeout:vj.TIMEOUT,headers:{"Content-Type":"application/json"}}),this.setupInterceptors(),this.loadTokens()}isAuthEndpoint(t){return t?[wn.AUTH.LOGIN,wn.AUTH.REFRESH,wn.AUTH.LOGOUT,wn.AUTH.REGISTER,wn.AUTH.FORGOT_PASSWORD,wn.AUTH.RESET_PASSWORD,wn.AUTH.VERIFY_EMAIL].some(n=>t.includes(n)):!1}setupInterceptors(){this.client.interceptors.request.use(t=>(this.token&&(t.headers.Authorization=`Bearer ${this.token}`),t),t=>Promise.reject(t)),this.client.interceptors.response.use(t=>t,async t=>{var n;const r=t.config;if(((n=t.response)==null?void 0:n.status)===401&&r&&!r._retry&&!this.isAuthEndpoint(r.url)){r._retry=!0;try{return await this.refreshToken(),this.client(r)}catch(s){return this.logout(),Promise.reject(s)}}return Promise.reject(this.handleError(t))})}handleError(t){var r,n,s;if(t.response){const{status:i,data:o}=t.response,c=(o==null?void 0:o.message)||(typeof(o==null?void 0:o.error)=="string"?o.error:(r=o==null?void 0:o.error)==null?void 0:r.message)||((n=o==null?void 0:o.errors)==null?void 0:n[0])||"An error occurred",u=Array.isArray(o==null?void 0:o.errors)?o.errors:typeof(o==null?void 0:o.error)=="object"&&Array.isArray((s=o.error)==null?void 0:s.details)?o.error.details:void 0;return new Ta(i,c,u)}else return t.request?new Ta(0,"Network error - please check your connection"):new Ta(0,t.message||"An unexpected error occurred")}loadTokens(){this.token=localStorage.getItem("auth_token"),this.refreshTokenValue=localStorage.getItem("refresh_token")}saveToken(t){this.token=t,localStorage.setItem("auth_token",t)}saveRefreshToken(t){this.refreshTokenValue=t,localStorage.setItem("refresh_token",t)}removeToken(){this.token=null,localStorage.removeItem("auth_token")}removeRefreshToken(){this.refreshTokenValue=null,localStorage.removeItem("refresh_token")}setTokens(t){t!=null&&t.accessToken?this.saveToken(t.accessToken):this.removeToken(),t!=null&&t.refreshToken?this.saveRefreshToken(t.refreshToken):(t==null?void 0:t.refreshToken)===null&&this.removeRefreshToken()}clearTokens(){this.removeToken(),this.removeRefreshToken()}async login(t){const r=await this.client.post(wn.AUTH.LOGIN,t);if(!r.data.success){let n="Login failed. Please check your credentials.";throw r.data.message?n=r.data.message:r.data.error?typeof r.data.error=="string"?n=r.data.error:r.data.error.message&&(n=r.data.error.message):r.data.errors&&Array.isArray(r.data.errors)&&r.data.errors.length>0&&(n=r.data.errors[0]),new Ta(r.status||400,n,Array.isArray(r.data.errors)?r.data.errors:void 0)}return r.data.success&&r.data.data&&this.setTokens({accessToken:r.data.data.accessToken,refreshToken:r.data.data.refreshToken}),r.data}async logout(){try{await this.client.post(wn.AUTH.LOGOUT)}finally{this.clearTokens()}}async refreshToken(){if(!this.refreshTokenValue)throw new Ta(401,"Session expired. Please log in again.");const t=await this.client.post(wn.AUTH.REFRESH,{refreshToken:this.refreshTokenValue});return t.data.success&&t.data.data&&this.setTokens({accessToken:t.data.data.accessToken,refreshToken:t.data.data.refreshToken??void 0}),t.data}async get(t,r){return(await this.client.get(t,r)).data}async post(t,r,n){return(await this.client.post(t,r,n)).data}async put(t,r,n){return(await this.client.put(t,r,n)).data}async patch(t,r,n){return(await this.client.patch(t,r,n)).data}async delete(t,r){return(await this.client.delete(t,r)).data}async uploadFile(t,r,n){const s=new FormData;return s.append("file",r),(await this.client.post(t,s,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:o=>{if(n&&o.total){const l=Math.round(o.loaded*100/o.total);n(l)}}})).data}isAuthenticated(){return!!this.token}getToken(){return this.token}}const H=new yM;class gM{async getNotifications(t){const r=await H.get(q.NOTIFICATIONS.BASE,{params:t});return r.success&&Array.isArray(r.data)&&r.pagination?{data:r.data,pagination:r.pagination}:r.data||r}async getNotification(t){return(await H.get(q.NOTIFICATIONS.BY_ID(t))).data}async createNotification(t){return(await H.post(q.NOTIFICATIONS.BASE,t)).data}async markAsRead(t){return(await H.patch(q.NOTIFICATIONS.MARK_READ(t))).data}async markAllAsRead(){await H.patch(q.NOTIFICATIONS.MARK_ALL_READ)}async deleteNotification(t){await H.delete(q.NOTIFICATIONS.BY_ID(t))}async getUnreadCount(){return(await H.get(`${q.NOTIFICATIONS.BASE}/unread-count`)).data.count}async getPreferences(){return(await H.get(q.NOTIFICATIONS.PREFERENCES)).data}async updatePreferences(t){return(await H.put(q.NOTIFICATIONS.PREFERENCES,t)).data}async sendTestNotification(t,r){await H.post(`${q.NOTIFICATIONS.BASE}/test`,{type:t,phoneNumber:r})}async getNotificationHistory(t,r=50){return(await H.get(`${q.NOTIFICATIONS.BASE}/history`,{params:{userId:t,limit:r}})).data}async bulkMarkAsRead(t){await H.patch(`${q.NOTIFICATIONS.BASE}/bulk-read`,{notificationIds:t})}async bulkDelete(t){await H.delete(`${q.NOTIFICATIONS.BASE}/bulk-delete`,{data:{notificationIds:t}})}}const un=new gM,jv=E.createContext(void 0),yt=()=>{const e=E.useContext(jv);if(!e)throw new Error("useNotifications must be used within a NotificationProvider");return e},Hp=e=>({...e,id:e.id||e._id||"",date:e.date||e.createdAt||new Date().toISOString(),read:e.read??e.isRead??!1,title:e.title||"",message:e.message||"",type:(e.type||"info").toLowerCase(),priority:e.priority||"medium",category:e.category||"general",userId:e.userId||"",phoneNotification:e.phoneNotification??!1}),vM=({children:e})=>{const[t,r]=E.useState([]),[n,s]=E.useState(!0);E.useEffect(()=>{let m=!0;return(async()=>{try{const p=await un.getNotifications({limit:50});let h=[];Array.isArray(p)?h=p:p&&typeof p=="object"&&(Array.isArray(p.data)?h=p.data:p.data&&typeof p.data=="object"&&Array.isArray(p.data.data)?h=p.data.data:p.success&&Array.isArray(p.data)&&(h=p.data)),m&&r(h.map(Hp))}catch(p){console.error("Failed to load notifications",p),m&&r([])}finally{m&&s(!1)}})(),()=>{m=!1}},[]);const i=E.useCallback(async(m,f)=>{const p=(f==null?void 0:f.persist)??!0,h=`notif-${Date.now()}-${Math.random().toString(36).slice(2)}`,g=Hp({id:h,date:new Date().toISOString(),read:!1,...m});if(r(v=>[g,...v]),p)try{const v={title:m.title,message:m.message,type:m.type,priority:m.priority,category:m.category,userId:m.userId,phoneNotification:m.phoneNotification},x=await un.createNotification(v);r(y=>y.map(b=>b.id===h?Hp(x):b))}catch(v){console.error("Failed to persist notification",v)}!p&&(m.type==="success"||m.type==="info")&&setTimeout(()=>{r(v=>v.filter(x=>x.id!==h))},5e3)},[]),o=E.useCallback(async m=>{r(f=>f.filter(p=>p.id!==m));try{await un.deleteNotification(m)}catch(f){console.error("Failed to delete notification",f)}},[]),l=E.useCallback(async m=>{r(f=>f.map(p=>p.id===m?{...p,read:!0}:p));try{await un.markAsRead(m)}catch(f){console.error("Failed to mark notification as read",f)}},[]),c=E.useCallback(async()=>{r(m=>m.map(f=>({...f,read:!0})));try{await un.markAllAsRead()}catch(m){console.error("Failed to mark notifications as read",m)}},[]),u=t.filter(m=>!m.read).length,d={notifications:t,addNotification:i,removeNotification:o,markAsRead:l,markAllAsRead:c,unreadCount:u,isLoading:n};return a.jsx(jv.Provider,{value:d,children:e})};function bM(){const{notifications:e,removeNotification:t,markAsRead:r,markAllAsRead:n,unreadCount:s,isLoading:i}=yt(),[o,l]=E.useState(!1),[c,u]=E.useState(!1);E.useEffect(()=>{o&&(u(!0),un.getNotifications({limit:50}).then(p=>{Array.isArray(p)||(Array.isArray(p.data)||p&&typeof p=="object"&&Array.isArray(p.data))&&p.data}).catch(p=>{console.error("Failed to refresh notifications",p)}).finally(()=>{u(!1)}))},[o]);const d=p=>{switch(String(p||"info").toLowerCase()){case"success":case"SUCCESS":return a.jsx(Zt,{className:"h-5 w-5 text-green-500"});case"error":case"ERROR":return a.jsx(Ga,{className:"h-5 w-5 text-red-500"});case"warning":case"WARNING":return a.jsx(Jt,{className:"h-5 w-5 text-yellow-500"});default:return a.jsx(C$,{className:"h-5 w-5 text-blue-500"})}},m=p=>{switch(String(p||"info").toLowerCase()){case"success":case"SUCCESS":return"border-l-green-500 bg-green-50";case"error":case"ERROR":return"border-l-red-500 bg-red-50";case"warning":case"WARNING":return"border-l-yellow-500 bg-yellow-50";default:return"border-l-blue-500 bg-blue-50"}},f=p=>{const h=new Date(p),v=Math.floor((new Date().getTime()-h.getTime())/(1e3*60));return v<1?"Just now":v<60?`${v}m ago`:v<1440?`${Math.floor(v/60)}h ago`:h.toLocaleDateString()};return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>l(!o),className:"relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[a.jsx(Hn,{className:"h-6 w-6"}),s>0&&a.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:s>9?"9+":s})]}),o&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>l(!1)}),a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-96 bg-white rounded-lg shadow-xl border border-gray-200 z-50 max-h-96 overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[s>0&&a.jsxs("button",{onClick:n,className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:[a.jsx(A$,{className:"h-4 w-4 mr-1"}),"Mark all read"]}),a.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(Pe,{className:"h-5 w-5"})})]})]})}),a.jsx("div",{className:"max-h-80 overflow-y-auto",children:i?a.jsxs("div",{className:"p-6 flex items-center justify-center text-gray-500",children:[a.jsx(rt,{className:"h-5 w-5 mr-2 animate-spin"})," Loading notifications..."]}):e.length===0?a.jsxs("div",{className:"p-8 text-center text-gray-500",children:[a.jsx(Hn,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No notifications yet"})]}):a.jsx("div",{className:"divide-y divide-gray-200",children:e.map(p=>a.jsx("div",{className:`p-4 border-l-4 ${m(p.type)} ${p.read?"bg-opacity-50":"bg-opacity-100"}`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:d(p.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:`text-sm font-medium ${p.read?"text-gray-600":"text-gray-900"}`,children:p.title}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-xs text-gray-500",children:f(p.date||new Date().toISOString())}),a.jsx("button",{onClick:()=>t(p.id),className:"text-gray-400 hover:text-gray-600",title:"Delete notification",children:a.jsx(Pe,{className:"h-4 w-4"})})]})]}),a.jsx("p",{className:`text-sm mt-1 ${p.read?"text-gray-500":"text-gray-700"}`,children:p.message}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[p.category&&a.jsx("span",{className:"text-xs text-gray-400 capitalize",children:p.category.toLowerCase().replace("_"," ")}),!p.read&&a.jsx("button",{onClick:()=>r(p.id),className:"text-xs text-blue-600 hover:text-blue-800",children:"Mark as read"})]})]})]})},p.id))})})]})]})]})}class jM{async getSessions(){var r,n;return((n=(r=(await H.get(q.AUTH.SESSIONS)).data)==null?void 0:r.data)==null?void 0:n.sessions)||[]}async revokeSession(t){await H.delete(q.AUTH.REVOKE_SESSION(t))}async revokeAllSessions(){await H.delete(q.AUTH.REVOKE_ALL_SESSIONS)}getCurrentSessionInfo(){const t=localStorage.getItem("auth_token");if(!t)return null;try{const r=JSON.parse(atob(t.split(".")[1]));return{id:r.sessionId||"current",deviceInfo:navigator.userAgent,isActive:!0,createdAt:new Date(r.iat*1e3).toISOString(),lastActiveAt:new Date().toISOString()}}catch{return null}}formatDeviceInfo(t){if(t.deviceInfo){const r=t.deviceInfo;if(r.includes("Mobile"))return"Mobile Device";if(r.includes("Tablet"))return"Tablet";if(r.includes("Windows"))return"Windows PC";if(r.includes("Mac"))return"Mac";if(r.includes("Linux"))return"Linux PC"}return"Unknown Device"}isCurrentSession(t){const r=this.getCurrentSessionInfo();return(r==null?void 0:r.id)===t.id}}const Vp=new jM,NM=["admin","receptionist","specialist","nurse","biller"],bj={ADMIN:"admin",RECEPTIONIST:"receptionist",SPECIALIST:"specialist",NURSE:"nurse",BILLER:"biller"};class wM{async login(t){const r=await H.login(t);return this.normalizeAuthPayload(r),r}async register(t){const r=await H.post(q.AUTH.REGISTER,t);return r.success&&r.data&&H.setTokens({accessToken:r.data.accessToken,refreshToken:r.data.refreshToken}),this.normalizeAuthPayload(r),r}async logout(){await H.logout()}async refreshToken(){return H.refreshToken()}async forgotPassword(t){await H.post(q.AUTH.FORGOT_PASSWORD,t)}async resetPassword(t){await H.post(q.AUTH.RESET_PASSWORD,t)}async changePassword(t,r){await H.post(q.AUTH.CHANGE_PASSWORD,{currentPassword:t,newPassword:r})}async verifyEmail(t){await H.post(q.AUTH.VERIFY_EMAIL,{token:t})}async resendVerification(){await H.post(q.AUTH.RESEND_VERIFICATION)}async getProfile(){var r;const t=await H.get(q.AUTH.GET_PROFILE);if((r=t.data)!=null&&r.user)return this.normalizeUser(t.data.user);throw new Error("Unable to fetch user profile")}async updateProfile(t){var n;const r=await H.put(q.AUTH.UPDATE_PROFILE,t);if((n=r.data)!=null&&n.user)return this.normalizeUser(r.data.user);throw new Error("Unable to update profile")}async checkStatus(){try{const t=await H.get(q.AUTH.CHECK_STATUS);if(t.data){const r=t.data.user?this.normalizeUser(t.data.user):void 0;return{...t.data,user:r}}return{isAuthenticated:!1}}catch{return{isAuthenticated:!1}}}async getSessions(){return Vp.getSessions()}async revokeSession(t){return Vp.revokeSession(t)}async revokeAllSessions(){return Vp.revokeAllSessions()}isAuthenticated(){return H.isAuthenticated()}getCurrentUser(){const t=localStorage.getItem("current_user");if(!t)return null;try{const r=JSON.parse(t);return this.normalizeUser(r)}catch{return this.clearCurrentUser(),null}}setCurrentUser(t){const r=this.normalizeUser(t);localStorage.setItem("current_user",JSON.stringify(r))}clearCurrentUser(){localStorage.removeItem("current_user")}normalizeAuthPayload(t){var r;(r=t.data)!=null&&r.user&&(t.data={...t.data,user:this.normalizeUser(t.data.user)})}normalizeUser(t){const r=this.normalizeRole(t.role??t.roleCode??""),n=t.roleCode??this.mapRoleToCode(r);return{...t,role:r,roleCode:n}}normalizeRole(t){if(!t)return"admin";const r=t.trim().toUpperCase().replace(/[\s-]+/g,"_"),n=bj[r];if(n)return n;const s=t.trim().toLowerCase();return NM.includes(s),s}mapRoleToCode(t){const r=Object.entries(bj).find(([,n])=>n===t);return r?r[0]:t.toUpperCase().replace(/-/g,"_")}}const et=new wM,ZE=E.createContext(void 0),st=()=>{const e=E.useContext(ZE);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},SM=({children:e})=>{const[t,r]=E.useState(null),[n,s]=E.useState(!0),i=E.useContext(jv),o=(i==null?void 0:i.addNotification)||(N=>{console.warn("NotificationProvider not available, using toast notifications only")}),l=E.useCallback(async({silent:N,skipServer:j}={})=>{const w=et.getCurrentUser();try{j||await et.logout()}catch(A){console.error("Error logging out:",A)}finally{H.clearTokens(),et.clearCurrentUser(),w&&!N&&o({title:"Signed Out",message:"You have been logged out. See you soon!",type:"info",priority:"low",userId:w.id,category:"system"}),r(null)}},[o]),c=E.useCallback(async()=>{await l()},[l]),u=E.useCallback(async()=>{try{const N=await et.checkStatus();if(N.isAuthenticated&&N.user){et.setCurrentUser(N.user),r(N.user);return}if((await et.refreshToken()).success){const w=await et.getProfile();et.setCurrentUser(w),r(w);return}await l({silent:!0,skipServer:!0})}catch(N){throw console.error("Error refreshing user:",N),await l({silent:!0,skipServer:!0}),N}},[l]);E.useEffect(()=>{let N=!0;return(async()=>{s(!0);try{if(!et.isAuthenticated()){H.clearTokens(),et.clearCurrentUser(),N&&r(null);return}const w=et.getCurrentUser();if(w){N&&r(w);return}await u()}catch(w){console.error("Auth initialization error:",w),await l({silent:!0,skipServer:!0})}finally{N&&s(!1)}})(),()=>{N=!1}},[u,l]);const b={user:t,isAuthenticated:!!t,isLoading:n,login:async N=>{try{s(!0);const j=await et.login(N);if(j.success&&j.data){et.setCurrentUser(j.data.user),r(j.data.user);const w=j.message||`Welcome back, ${j.data.user.name}!`;te.success(w),o({title:"Login Successful",message:w,type:"success",priority:"medium",userId:j.data.user.id,category:"system"})}else{let w="Login failed. Please check your credentials.";throw j.message?w=j.message:j.error?typeof j.error=="string"?w=j.error:j.error.message&&(w=j.error.message):j.errors&&Array.isArray(j.errors)&&j.errors.length>0&&(w=j.errors[0]),new Error(w)}}catch(j){throw j}finally{s(!1)}},register:async N=>{try{s(!0);const j=await et.register(N);j.success&&j.data&&(et.setCurrentUser(j.data.user),r(j.data.user),o({title:"Registration Complete",message:j.message||"Your account has been created successfully.",type:"success",priority:"medium",userId:j.data.user.id,category:"system"}))}catch(j){throw j}finally{s(!1)}},logout:c,refreshUser:u,updateProfile:async N=>{try{const j=await et.updateProfile(N);r(j),et.setCurrentUser(j)}catch(j){throw console.error("Error updating profile:",j),j}},changePassword:async(N,j)=>{try{await et.changePassword(N,j)}catch(w){throw console.error("Error changing password:",w),w}},verifyEmail:async N=>{try{await et.verifyEmail(N)}catch(j){throw console.error("Error verifying email:",j),j}},resendVerification:async()=>{try{await et.resendVerification()}catch(N){throw console.error("Error resending verification:",N),N}},getSessions:async()=>{try{return await et.getSessions()}catch(N){throw console.error("Error getting sessions:",N),N}},revokeSession:async N=>{try{await et.revokeSession(N)}catch(j){throw console.error("Error revoking session:",j),j}},revokeAllSessions:async()=>{try{await et.revokeAllSessions()}catch(N){throw console.error("Error revoking all sessions:",N),N}}};return a.jsx(ZE.Provider,{value:b,children:e})},AM=e=>{const t=[{name:"Dashboard",href:"/dashboard",icon:_$}],r=[...t,{name:"Patients",href:"/patients",icon:Or},{name:"Appointments",href:"/scheduling?view=appointments",icon:Te},{name:"Specialists",href:"/specialists",icon:Wr},{name:"Therapists",href:"/therapists",icon:ic}],n=[...t,{name:"My Schedule",href:"/my-schedule",icon:Te},{name:"Patients",href:"/patients",icon:bs},{name:"Clinical Documentation",href:"/health-records",icon:ur},{name:"Schedule Session",href:"/scheduling",icon:Te}],s=[...t,{name:"My Schedule",href:"/my-schedule",icon:Te},{name:"Patients",href:"/patients",icon:bs},{name:"Clinical Documentation",href:"/health-records",icon:ur},{name:"Schedule Session",href:"/scheduling",icon:Te}],i=[...t,{name:"Patients",href:"/patients",icon:bs}],o=[...t,{name:"Patients",href:"/patients",icon:bs},{name:"Specialists",href:"/specialists",icon:Wr},{name:"Therapists",href:"/therapists",icon:ic},{name:"Nurses",href:"/nurses",icon:Di},{name:"Billers",href:"/billers",icon:Qn},{name:"Scheduling",href:"/scheduling",icon:Te},{name:"Services",href:"/services",icon:zd},{name:"Clinical Documentation",href:"/health-records",icon:ur},{name:"Billing",href:"/billing",icon:Qn},{name:"Reports & Analytics",href:"/reports",icon:w$},{name:"Training & Exams",href:"/training",icon:Ki},{name:"Settings",href:"/settings",icon:L$}],l=[...t,{name:"Services",href:"/services",icon:zd},{name:"Billing",href:"/billing",icon:Qn}];switch(e){case"receptionist":return r;case"doctor":return n;case"specialist":return s;case"nurse":return i;case"admin":return o;case"biller":return l;default:return t}};function EM({children:e,user:t}){const{logout:r}=st(),[n,s]=E.useState(!1),i=Za(),o=AM(t.role);return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsxs("div",{className:`fixed inset-0 z-50 lg:hidden ${n?"block":"hidden"}`,children:[a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>s(!1)}),a.jsxs("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white",children:[a.jsxs("div",{className:"flex h-16 items-center justify-between px-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-8 w-8 bg-primary-500 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-sm",children:"TH"})}),a.jsx("span",{className:"ml-2 text-lg font-semibold text-gray-900",children:"Physiotherapy Center"})]}),a.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(Pe,{className:"h-6 w-6"})})]}),a.jsx("nav",{className:"flex-1 px-4 py-4 space-y-1",children:o.map(l=>{const c=i.pathname===l.href;return a.jsxs(ar,{to:l.href,className:`sidebar-item ${c?"sidebar-item-active":"sidebar-item-inactive"}`,onClick:()=>s(!1),children:[a.jsx(l.icon,{className:"mr-3 h-5 w-5"}),l.name]},l.name)})})]})]}),a.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:a.jsxs("div",{className:"flex flex-col flex-grow bg-white border-r border-gray-200",children:[a.jsxs("div",{className:"flex h-16 items-center px-4",children:[a.jsx("div",{className:"h-8 w-8 bg-primary-500 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-sm",children:"TH"})}),a.jsx("span",{className:"ml-2 text-lg font-semibold text-gray-900",children:"Physiotherapy Center"})]}),a.jsx("nav",{className:"flex-1 px-4 py-4 space-y-1",children:o.map(l=>{const c=i.pathname===l.href;return a.jsxs(ar,{to:l.href,className:`sidebar-item ${c?"sidebar-item-active":"sidebar-item-inactive"}`,children:[a.jsx(l.icon,{className:"mr-3 h-5 w-5"}),l.name]},l.name)})})]})}),a.jsxs("div",{className:"lg:pl-64",children:[a.jsxs("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:[a.jsx("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-700 lg:hidden",onClick:()=>s(!0),children:a.jsx(I$,{className:"h-6 w-6"})}),a.jsxs("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[a.jsxs("div",{className:"relative flex flex-1 items-center",children:[a.jsx(jt,{className:"pointer-events-none absolute inset-y-0 left-0 h-full w-5 text-gray-400 ml-3"}),a.jsx("input",{type:"text",placeholder:"Search...",className:"block h-10 w-full rounded-lg border-0 py-1.5 pl-10 pr-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-primary-500 sm:text-sm sm:leading-6"})]}),a.jsxs("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[a.jsx(bM,{}),a.jsxs("div",{className:"flex items-center gap-x-2",children:[a.jsx("div",{className:"h-8 w-8 bg-primary-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-medium text-sm",children:t.name.split(" ").map(l=>l[0]).join("")})}),a.jsxs("div",{className:"hidden lg:block",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.name}),a.jsx("p",{className:"text-xs text-gray-500 capitalize",children:t.role})]}),a.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600",title:"Logout",children:a.jsx(k$,{className:"h-5 w-5"})})]})]})]})]}),a.jsx("main",{className:"py-6",children:a.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:e})})]})]})}class TM extends E.Component{constructor(r){super(r);ai(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})});ai(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("ErrorBoundary caught an error:",r,n),this.setState({error:r,errorInfo:n})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(Jt,{className:"mx-auto h-12 w-12 text-red-500"}),a.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Oops! Something went wrong"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"We're sorry, but something unexpected happened. Please try again."})]}),a.jsxs("div",{className:"mt-8 space-y-4",children:[a.jsxs("button",{onClick:this.handleRetry,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[a.jsx(M$,{className:"h-4 w-4 mr-2"}),"Try Again"]}),a.jsxs("button",{onClick:this.handleGoHome,className:"group relative w-full flex justify-center py-2 px-4 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[a.jsx(PE,{className:"h-4 w-4 mr-2"}),"Go Home"]})]}),!1]})}):this.props.children}}const PM={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"};function OM({size:e="md",text:t,className:r=""}){return a.jsx("div",{className:`flex items-center justify-center ${r}`,children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(rt,{className:`animate-spin text-primary-600 ${PM[e]}`}),t&&a.jsx("p",{className:"text-sm text-gray-600",children:t})]})})}function Lx({label:e,error:t,required:r=!1,children:n,className:s=""}){return a.jsxs("div",{className:`space-y-1 ${s}`,children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[e,r&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n,t&&a.jsxs("div",{className:"flex items-center space-x-1 text-sm text-red-600",children:[a.jsx(Ga,{className:"h-4 w-4"}),a.jsx("span",{children:t})]})]})}function jj({error:e,label:t,required:r=!1,className:n="",...s}){const i=`input-field ${e?"border-red-300 focus:ring-red-500 focus:border-red-500":""} ${n}`,o=a.jsx("input",{className:i,...s});return t?a.jsx(Lx,{label:t,error:e,required:r,children:o}):o}function CM(e,t){return t.required&&(!e||e.toString().trim()==="")?t.message||"This field is required":e&&t.minLength&&e.toString().length<t.minLength?t.message||`Minimum length is ${t.minLength} characters`:e&&t.maxLength&&e.toString().length>t.maxLength?t.message||`Maximum length is ${t.maxLength} characters`:e&&t.pattern&&!t.pattern.test(e.toString())?t.message||"Invalid format":e&&t.custom?t.custom(e):null}function _M(e,t){const r={};return Object.keys(t).forEach(n=>{const s=t[n],i=e[n],o=CM(i,s);o&&(r[n]=o)}),r}const kM={email:{required:!0,pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Please enter a valid email address"}};function IM(e){return e instanceof Ta||e instanceof Error?e.message:typeof e=="string"?e:"An unexpected error occurred"}function $M(e){if(e instanceof Ta){const t=e.message;switch(e.status){case 400:return{title:"Invalid Request",message:t||"Please check your input and try again.",type:"error"};case 401:return{title:"Authentication Required",message:t||"Please log in to continue.",type:"warning"};case 403:return{title:"Access Denied",message:"You do not have permission to perform this action.",type:"error"};case 404:return{title:"Not Found",message:t||"The requested resource was not found.",type:"error"};case 409:return{title:"Conflict",message:t||"This action conflicts with existing data.",type:"warning"};case 422:return{title:"Validation Error",message:t||"Please check your input and try again.",type:"error"};case 429:return{title:"Too Many Requests",message:t||"Please wait a moment before trying again.",type:"warning"};case 500:return{title:"Server Error",message:"Something went wrong on our end. Please try again later.",type:"error"};case 503:return{title:"Service Unavailable",message:"The service is temporarily unavailable. Please try again later.",type:"warning"};default:return{title:"Error",message:e.message||"An unexpected error occurred.",type:"error"}}}return e instanceof Error?{title:"Error",message:e.message,type:"error"}:{title:"Error",message:"An unexpected error occurred.",type:"error"}}function RM(e,t){const r=IM(e),n=`[${t}] ${r}`;console.error(n,e)}function Nj(e,t){return RM(e,t),$M(e)}function MM(){const{login:e,isLoading:t}=st(),[r,n]=E.useState({email:"",password:""}),[s,i]=E.useState({}),[o,l]=E.useState(!1),c=d=>{const{name:m,value:f}=d.target;n(p=>({...p,[m]:f})),s[m]&&i(p=>({...p,[m]:""}))},u=async d=>{d.preventDefault();const m={email:kM.email,password:{required:!0,message:"Password is required"}},f=_M(r,m);if(Object.keys(f).length>0){i(f);const p=Object.values(f)[0];p&&te.error(p);return}try{await e({email:r.email,password:r.password})}catch(p){let h="Login failed. Please check your credentials.";p instanceof Ta?h=Nj(p,"Login").message:p instanceof Error?h=p.message:typeof p=="string"?h=p:h=Nj(p,"Login").message,te.error(h)}};return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[a.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Physiotherapy Center"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in to your account"})]})}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:a.jsxs("form",{className:"space-y-6",onSubmit:u,children:[a.jsx(Lx,{label:"Email Address",error:s.email,required:!0,children:a.jsx(jj,{type:"email",name:"email",value:r.email,onChange:c,placeholder:"Enter your email",error:s.email})}),a.jsx(Lx,{label:"Password",error:s.password,required:!0,children:a.jsxs("div",{className:"relative",children:[a.jsx(jj,{type:o?"text":"password",name:"password",value:r.password,onChange:c,placeholder:"Enter your password",error:s.password}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>l(!o),children:o?a.jsx(T$,{className:"h-5 w-5 text-gray-400"}):a.jsx(Bt,{className:"h-5 w-5 text-gray-400"})})]})}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:t,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:t?a.jsx(OM,{size:"sm",text:"Signing in..."}):"Sign in"})})]})})})]})}class DM{async getDashboardAnalytics(){var r;const t=await H.get(q.ANALYTICS.DASHBOARD);return(r=t.data)!=null&&r.data?t.data.data:t.data}async getOverview(){var r;const t=await H.get(q.ANALYTICS.OVERVIEW);return((r=t.data)==null?void 0:r.data)??t.data}async getTrends(){var r;const t=await H.get(q.ANALYTICS.TRENDS);return((r=t.data)==null?void 0:r.data)??t.data}async getPerformance(){var r;const t=await H.get(q.ANALYTICS.PERFORMANCE);return((r=t.data)==null?void 0:r.data)??t.data}async getServicePopularity(){var r;const t=await H.get(q.ANALYTICS.SERVICE_POPULARITY);return((r=t.data)==null?void 0:r.data)??t.data}async getAppointmentAnalytics(t){var n;const r=await H.get(q.ANALYTICS.APPOINTMENTS,{params:t});return((n=r.data)==null?void 0:n.data)??r.data}}const Vn=new DM,eT={SCHEDULED:"scheduled",CONFIRMED:"confirmed",IN_PROGRESS:"in-progress",COMPLETED:"completed",CANCELLED:"cancelled",RESCHEDULED:"rescheduled",NO_SHOW:"no-show"},Bx=Object.entries(eT).reduce((e,[t,r])=>(e[r]=t,e),{}),Iu=e=>typeof e=="number"?Math.min(Math.max(e,1),100):e;function Gt(e){var n,s,i,o,l;const t=(n=e.status)==null?void 0:n.toUpperCase(),r=eT[t]??"scheduled";return{id:e.id,patientId:e.patientId,patientName:((s=e.patient)==null?void 0:s.name)??"",nurseId:e.nurseId??"",nurseName:((i=e.nurse)==null?void 0:i.name)??"",specialistId:e.specialistId??void 0,specialistName:((o=e.specialist)==null?void 0:o.name)??void 0,serviceId:e.serviceId,serviceName:((l=e.service)==null?void 0:l.name)??"",date:e.date?new Date(e.date).toISOString().split("T")[0]:"",time:e.time,duration:e.duration,status:r,notes:e.notes??void 0}}function qp(e,t=!1){const r={...e};return t&&"status"in r&&delete r.status,e.date&&(r.date=new Date(e.date).toISOString()),!t&&e.status&&(r.status=Bx[e.status]??e.status),r}class LM{async getAppointments(t){const r=await H.get(q.APPOINTMENTS.BASE,{params:{patientId:t==null?void 0:t.patientId,nurseId:t==null?void 0:t.nurseId,specialistId:t==null?void 0:t.specialistId,status:t!=null&&t.status?Bx[t.status]:void 0,startDate:t==null?void 0:t.dateFrom,endDate:t==null?void 0:t.dateTo,page:t==null?void 0:t.page,limit:Iu(t==null?void 0:t.limit)}});return{appointments:Array.isArray(r.data)?r.data.map(Gt):[],pagination:r.pagination}}async getAppointment(t){const r=await H.get(q.APPOINTMENTS.BY_ID(t));return Gt(r.data)}async createAppointment(t){const r=await H.post(q.APPOINTMENTS.BASE,qp(t,!0));return Gt(r.data)}async updateAppointment(t,r){const n=await H.put(q.APPOINTMENTS.BY_ID(t),qp(r,!1));return Gt(n.data)}async deleteAppointment(t){await H.delete(q.APPOINTMENTS.BY_ID(t))}async getPatientAppointments(t,r){const n=await H.get(q.APPOINTMENTS.BY_PATIENT(t),{params:r&&{...r,limit:Iu(r.limit)}});return{appointments:Array.isArray(n.data)?n.data.map(Gt):[],pagination:n.pagination}}async getNurseAppointments(t,r){const n=await H.get(q.APPOINTMENTS.BY_NURSE(t),{params:r&&{...r,limit:Iu(r.limit)}});return{appointments:Array.isArray(n.data)?n.data.map(Gt):[],pagination:n.pagination}}async getSpecialistAppointments(t,r){const n=await H.get(q.APPOINTMENTS.BY_SPECIALIST(t),{params:r&&{...r,limit:Iu(r.limit)}});return{appointments:Array.isArray(n.data)?n.data.map(Gt):[],pagination:n.pagination}}async getCalendar(t,r){const n=await H.get(q.APPOINTMENTS.CALENDAR(t),{params:r});return Array.isArray(n.data)?n.data.map(Gt):[]}async searchAppointments(t){const r=await H.get(q.APPOINTMENTS.SEARCH,{params:{...t,status:t.status?Bx[t.status]:void 0}});return Array.isArray(r.data)?r.data.map(Gt):[]}async checkConflicts(t){const r=await H.post(q.APPOINTMENTS.CHECK_CONFLICTS,{...qp(t)});return Array.isArray(r.data)?r.data.map(Gt):[]}async getAvailableSlots(t,r){const n=await H.get(q.APPOINTMENTS.AVAILABLE_SLOTS,{params:{nurseId:t,date:r}});return Array.isArray(n.data)?n.data:[]}async cancelAppointment(t,r){const n=await H.patch(q.APPOINTMENTS.CANCEL(t),{reason:r});return Gt(n.data)}async rescheduleAppointment(t,r){const n=await H.patch(q.APPOINTMENTS.RESCHEDULE(t),{date:new Date(r.date).toISOString(),time:r.time,reason:r.reason});return Gt(n.data)}async markAsCompleted(t,r){const n=await H.patch(`${q.APPOINTMENTS.BY_ID(t)}/complete`,{notes:r});return Gt(n.data)}async markAsInProgress(t){const r=await H.patch(`${q.APPOINTMENTS.BY_ID(t)}/start`,{});return Gt(r.data)}async markAsNoShow(t,r){const n=await H.patch(q.APPOINTMENTS.NO_SHOW(t),{notes:r});return Gt(n.data)}async addAppointmentNotes(t,r){const n=await H.post(q.APPOINTMENTS.NOTES(t),{notes:r});return Gt(n.data)}}const Ut=new LM;function $u(e){return{...e,scheduledTime:e.scheduledTime?new Date(e.scheduledTime).toISOString():e.scheduledTime,createdAt:e.createdAt?new Date(e.createdAt).toISOString():e.createdAt,updatedAt:e.updatedAt?new Date(e.updatedAt).toISOString():e.updatedAt,lastAttempt:e.lastAttempt?new Date(e.lastAttempt).toISOString():e.lastAttempt}}class BM{async getReminders(t){const r=await H.get(q.PHONE_REMINDERS.BASE,{params:t});return{reminders:Array.isArray(r.data)?r.data.map($u):[],pagination:r.pagination}}async getReminder(t){const r=await H.get(q.PHONE_REMINDERS.BY_ID(t));return $u(r.data)}async getTemplates(){const t=await H.get(q.PHONE_REMINDERS.TEMPLATES);return Array.isArray(t.data)?t.data:[]}async createReminder(t){const r=await H.post(q.PHONE_REMINDERS.BASE,t);return $u(r.data)}async updateReminder(t,r){const n=await H.put(q.PHONE_REMINDERS.BY_ID(t),r);return $u(n.data)}async deleteReminder(t){await H.delete(q.PHONE_REMINDERS.BY_ID(t))}async sendReminder(t){return(await H.post(q.PHONE_REMINDERS.SEND(t))).data}async cancelReminder(t){return(await H.post(q.PHONE_REMINDERS.CANCEL(t))).data}}const ga=new BM;function Ru(e){const t=r=>r==="scheduled"||r==="upcoming"?"upcoming":r==="ongoing"||r==="in-progress"?"ongoing":r==="completed"||r==="finished"?"completed":"upcoming";return{id:e.id,title:e.name||e.title||"",description:e.description||"",instructor:e.instructorName||e.instructor||"",date:e.startDate||e.date||"",duration:e.duration||0,maxParticipants:e.capacity||e.maxParticipants||0,enrolledCount:e.enrolledCount||0,status:t(e.status||"upcoming"),category:e.category||"",location:e.location||""}}class UM{async getClasses(t){const r=await H.get(q.TRAINING.CLASSES,{params:t});return{classes:(Array.isArray(r.data)?r.data:[]).map(Ru),pagination:r.pagination}}async getClass(t){const r=await H.get(q.TRAINING.CLASS_BY_ID(t));return Ru(r.data)}async createClass(t){const r=await H.post(q.TRAINING.CLASSES,t);return Ru(r.data)}async updateClass(t,r){const n=await H.put(q.TRAINING.CLASS_BY_ID(t),r);return Ru(n.data)}async deleteClass(t){await H.delete(q.TRAINING.CLASS_BY_ID(t))}async enrollInClass(t,r){return(await H.post(q.TRAINING.ENROLL(t),r)).data??{success:!0}}async getExams(t){const r=await H.get(q.TRAINING.EXAMS,{params:t});return{exams:Array.isArray(r.data)?r.data:[],pagination:r.pagination}}async getExam(t){return(await H.get(q.TRAINING.EXAM_BY_ID(t))).data}async createExam(t){return(await H.post(q.TRAINING.EXAMS,t)).data}async updateExam(t,r){return(await H.put(q.TRAINING.EXAM_BY_ID(t),r)).data}async deleteExam(t){await H.delete(q.TRAINING.EXAM_BY_ID(t))}async submitExam(t,r){return(await H.post(q.TRAINING.SUBMIT_EXAM(t),r)).data}async getCertifications(t){const r=await H.get(q.TRAINING.CERTIFICATIONS,{params:t});return{certifications:Array.isArray(r.data)?r.data:[],pagination:r.pagination}}async getCertification(t){return(await H.get(q.TRAINING.CERTIFICATION_BY_ID(t))).data}async createCertification(t){return(await H.post(q.TRAINING.CERTIFICATIONS,t)).data}async updateCertification(t,r){return(await H.put(q.TRAINING.CERTIFICATION_BY_ID(t),r)).data}async deleteCertification(t){await H.delete(q.TRAINING.CERTIFICATION_BY_ID(t))}}const fr=new UM,Wp=e=>typeof e=="number"?Math.min(Math.max(e,1),100):e;class FM{async getExams(t){const r={...t,limit:Wp(t==null?void 0:t.limit)},n=await H.get(q.TRAINING.EXAMS_V2,{params:r});return{exams:Array.isArray(n.data)?n.data:[],pagination:n.pagination}}async getExam(t,r=!1){return(await H.get(q.TRAINING.EXAM_V2_BY_ID(t),{params:r?{includeAnswers:"true"}:{}})).data}async createExam(t){return(await H.post(q.TRAINING.EXAMS_V2,t)).data}async updateExam(t,r){return(await H.put(q.TRAINING.EXAM_V2_BY_ID(t),r)).data}async deleteExam(t){await H.delete(q.TRAINING.EXAM_V2_BY_ID(t))}async startAttempt(t){return(await H.post(q.TRAINING.START_EXAM(t),{})).data}async submitAttempt(t,r){return(await H.post(q.TRAINING.SUBMIT_ATTEMPT(t),{answers:r})).data}async getAttempts(t){const r={...t,limit:Wp(t==null?void 0:t.limit)},n=await H.get(q.TRAINING.ATTEMPTS,{params:r});return{attempts:Array.isArray(n.data)?n.data:[],pagination:n.pagination}}async getAttemptById(t){return(await H.get(q.TRAINING.ATTEMPT_BY_ID(t))).data}async getCertificates(t){const r={...t,limit:Wp(t==null?void 0:t.limit)},n=await H.get(q.TRAINING.CERTIFICATES_V2,{params:r});return{certificates:Array.isArray(n.data)?n.data:[],pagination:n.pagination}}async getMyCertificates(t){const r=await H.get(q.TRAINING.CERTIFICATES_MINE,{params:t?{status:t}:void 0});return Array.isArray(r.data)?r.data:[]}async getCertificate(t){return(await H.get(q.TRAINING.CERTIFICATE_V2_BY_ID(t))).data}async approveCertificate(t){return(await H.post(q.TRAINING.APPROVE_CERTIFICATE(t),{})).data}}const rr=new FM,zM={success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",error:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"};function HM(){var u;const{user:e}=st(),t=((u=e==null?void 0:e.role)==null?void 0:u.toLowerCase())??"admin",[r,n]=E.useState({stats:[],sections:[]}),[s,i]=E.useState(!0),[o,l]=E.useState(null);if(t==="biller")return a.jsx(vE,{to:"/biller-dashboard",replace:!0});E.useEffect(()=>{let d=!1;async function m(){if(e){i(!0),l(null);try{const f=new Date().toISOString().split("T")[0];if(t==="biller"){d||(n({stats:[],sections:[]}),i(!1));return}if(t==="nurse"){const[T,S,_,P]=await Promise.all([Ut.getNurseAppointments(e.id,{limit:50}),un.getNotifications({limit:10}),fr.getClasses({limit:5}),rr.getMyCertificates()]),k=T.appointments,O=k.filter(F=>F.date===f),C=new Set(k.map(F=>F.patientId)),D=S.data??[],U=P??[],z=U.filter(F=>F.status==="APPROVED"),I=[{name:"Today's Appointments",value:O.length,icon:Te,color:"text-blue-600",bgColor:"bg-blue-100"},{name:"Patients Assigned",value:C.size,icon:bs,color:"text-green-600",bgColor:"bg-green-100"},{name:"Upcoming Visits",value:k.filter(F=>F.date>=f).length,icon:De,color:"text-purple-600",bgColor:"bg-purple-100"},{name:"Training Sessions",value:_.classes.length,icon:Ft,color:"text-orange-600",bgColor:"bg-orange-100"},{name:"Certificates Earned",value:z.length,icon:Ft,color:"text-indigo-600",bgColor:"bg-indigo-100"}],R=[{title:"Today's Schedule",icon:De,items:O.slice(0,5).map(F=>({id:F.id,primary:F.serviceName,secondary:`${F.time}  ${F.patientName}`,meta:F.status,statusLabel:F.status,statusTone:F.status==="confirmed"?"success":F.status==="cancelled"?"error":"warning"})),emptyText:"No appointments scheduled today."},{title:"Latest Notifications",icon:Hn,items:D.slice(0,5).map(F=>({id:F.id,primary:F.title,secondary:F.message,meta:new Date(F.date??Date.now()).toLocaleString(),statusLabel:F.type,statusTone:"info"})),emptyText:"No notifications."},{title:"Training Opportunities",icon:Ft,items:_.classes.map(F=>({id:F.id,primary:F.title,secondary:new Date(F.date).toLocaleDateString(),meta:F.instructor})),emptyText:"No upcoming classes."},{title:"Professional Certificates",icon:Ft,items:U.slice(0,5).map(F=>({id:F.id,primary:F.examTitle??"Training Exam",secondary:`Issued ${new Date(F.issuedAt).toLocaleDateString()}`,meta:F.certificateNumber,statusLabel:F.status==="APPROVED"?"Approved":"Pending Approval",statusTone:F.status==="APPROVED"?"success":"warning"})),emptyText:"No certificates yet. Complete exams to earn certificates."}];d||n({stats:I,sections:R});return}if(t==="receptionist"){const[T,S,_]=await Promise.allSettled([Vn.getDashboardAnalytics(),Ut.getAppointments({limit:10}),un.getNotifications({limit:5})]),P=T.status==="fulfilled"?T.value:{totalPatients:0,totalAppointments:0,todayAppointments:0,pendingInvoices:0,upcomingAppointments:[]},k=S.status==="fulfilled"?S.value:{appointments:[]},O=_.status==="fulfilled"?_.value:{data:[]},C=[{name:"Total Patients",value:P.totalPatients??P.activePatients??0,icon:Or,color:"text-blue-600",bgColor:"bg-blue-100"},{name:"Active Patients",value:P.activePatients??P.totalPatients??0,icon:bs,color:"text-indigo-600",bgColor:"bg-indigo-100"},{name:"Today's Appointments",value:P.todayAppointments??0,icon:Te,color:"text-purple-600",bgColor:"bg-purple-100"},{name:"Total Appointments",value:P.totalAppointments??0,icon:De,color:"text-green-600",bgColor:"bg-green-100"},{name:"Pending Invoices",value:P.pendingInvoices??0,icon:Qn,color:"text-orange-600",bgColor:"bg-orange-100"}],D=[{title:"Upcoming Appointments",icon:De,items:(P.upcomingAppointments??[]).slice(0,5).map(U=>{var z,I;return{id:U.id,primary:((z=U.service)==null?void 0:z.name)??"Appointment",secondary:`${((I=U.patient)==null?void 0:I.name)??"Unknown"}  ${new Date(U.date).toLocaleDateString()}`,meta:U.status,statusLabel:U.status,statusTone:U.status==="CANCELLED"?"error":U.status==="CONFIRMED"?"success":"warning"}}),emptyText:"No upcoming appointments."},{title:"Recent Appointments",icon:Te,items:k.appointments.slice(0,5).map(U=>({id:U.id,primary:U.serviceName??"Appointment",secondary:`${U.patientName??"Unknown"}  ${U.date??""} ${U.time??""}`,meta:U.status,statusLabel:U.status,statusTone:U.status==="cancelled"?"error":U.status==="confirmed"?"success":"warning"})),emptyText:"No recent appointments."},{title:"Announcements",icon:Hn,items:(O.data??[]).slice(0,5).map(U=>({id:U.id,primary:U.title,secondary:U.message,meta:new Date(U.date??Date.now()).toLocaleString()})),emptyText:"No announcements available."}];d||n({stats:C,sections:D});return}if(t==="doctor"){const[T,S]=await Promise.allSettled([Vn.getDashboardAnalytics(),un.getNotifications({limit:5})]),_=T.status==="fulfilled"?T.value:{assignedPatients:0,totalAppointments:0,todayAppointments:0,pendingReferrals:0,recentPatients:[]},P=S.status==="fulfilled"?S.value:{data:[]},k=[{name:"Assigned Patients",value:_.assignedPatients??0,icon:Or,color:"text-blue-600",bgColor:"bg-blue-100"},{name:"Today's Appointments",value:_.todayAppointments??0,icon:Te,color:"text-purple-600",bgColor:"bg-purple-100"},{name:"Total Appointments",value:_.totalAppointments??0,icon:De,color:"text-green-600",bgColor:"bg-green-100"},{name:"Pending Referrals",value:_.pendingReferrals??0,icon:ur,color:"text-orange-600",bgColor:"bg-orange-100"}],O=[{title:"Recent Patients",icon:Or,items:(_.recentPatients??[]).slice(0,5).map(C=>({id:C.id,primary:C.name,secondary:C.condition??"No condition specified",meta:C.status,statusLabel:C.status,statusTone:C.status==="ACTIVE"?"success":"info"})),emptyText:"No patients assigned."},{title:"Announcements",icon:Hn,items:(P.data??[]).slice(0,5).map(C=>({id:C.id,primary:C.title,secondary:C.message,meta:new Date(C.date??Date.now()).toLocaleString()})),emptyText:"No announcements available."}];d||n({stats:k,sections:O});return}if(t==="specialist"){const[T,S]=await Promise.allSettled([Vn.getDashboardAnalytics(),un.getNotifications({limit:5})]),_=T.status==="fulfilled"?T.value:{assignedPatients:0,totalAppointments:0,todayAppointments:0,readyForDischarge:0,recentPatients:[]},P=S.status==="fulfilled"?S.value:{data:[]},k=[{name:"Assigned Patients",value:_.assignedPatients??0,icon:Or,color:"text-blue-600",bgColor:"bg-blue-100"},{name:"Today's Appointments",value:_.todayAppointments??0,icon:Te,color:"text-purple-600",bgColor:"bg-purple-100"},{name:"Total Appointments",value:_.totalAppointments??0,icon:De,color:"text-green-600",bgColor:"bg-green-100"},{name:"Ready for Discharge",value:_.readyForDischarge??0,icon:U$,color:"text-orange-600",bgColor:"bg-orange-100"}],O=[{title:"Recent Patients",icon:Or,items:(_.recentPatients??[]).slice(0,5).map(C=>({id:C.id,primary:C.name,secondary:C.condition??"No condition specified",meta:C.status,statusLabel:C.status,statusTone:C.status==="ACTIVE"?"success":"info"})),emptyText:"No patients referred."},{title:"Announcements",icon:Hn,items:(P.data??[]).slice(0,5).map(C=>({id:C.id,primary:C.title,secondary:C.message,meta:new Date(C.date??Date.now()).toLocaleString()})),emptyText:"No announcements available."}];d||n({stats:k,sections:O});return}const[p,h,g,v]=await Promise.allSettled([Vn.getDashboardAnalytics(),Ut.getAppointments({limit:10}),ga.getReminders({limit:10}),un.getNotifications({limit:5})]),x=p.status==="fulfilled"?p.value:{totalPatients:0,totalAppointments:0,totalNurses:0,totalRevenue:0,recentAppointments:[]},y=h.status==="fulfilled"?h.value:{appointments:[]},b=g.status==="fulfilled"?g.value:{reminders:[]},j=(v.status==="fulfilled"?v.value:{data:[]}).data??[],w=[{name:"Total Patients",value:x.totalPatients??0,icon:Or,color:"text-blue-600",bgColor:"bg-blue-100"},{name:"Total Appointments",value:x.totalAppointments??0,icon:Te,color:"text-purple-600",bgColor:"bg-purple-100"},{name:"Active Nurses",value:x.totalNurses??0,icon:bs,color:"text-green-600",bgColor:"bg-green-100"},{name:"Total Revenue",value:`$${(x.totalRevenue??0).toLocaleString()}`,icon:Qn,color:"text-orange-600",bgColor:"bg-orange-100"}],A=[{title:"Recent Appointments",icon:Te,items:(x.recentAppointments??[]).slice(0,5).map(T=>{var S,_;return{id:T.id,primary:((S=T.service)==null?void 0:S.name)??"Appointment",secondary:`${((_=T.patient)==null?void 0:_.name)??"Unknown patient"}  ${new Date(T.date).toLocaleDateString()}`,meta:T.status,statusLabel:T.status,statusTone:T.status==="CANCELLED"?"error":"info"}}),emptyText:"No recent appointments."},{title:"Upcoming Appointments",icon:De,items:y.appointments.slice(0,5).map(T=>({id:T.id,primary:T.serviceName,secondary:`${T.patientName}  ${T.date} ${T.time}`,meta:T.status,statusLabel:T.status,statusTone:T.status==="cancelled"?"error":T.status==="confirmed"?"success":"warning"})),emptyText:"No upcoming appointments."},{title:"Latest Reminders",icon:Hn,items:b.reminders.slice(0,5).map(T=>({id:T.id,primary:T.title,secondary:`${T.patientName}  ${new Date(T.scheduledTime).toLocaleString()}`,meta:T.status,statusLabel:T.priority,statusTone:T.priority==="urgent"?"error":T.priority==="high"?"warning":"info"})),emptyText:"No reminders scheduled."},{title:"Announcements",icon:oc,items:j.slice(0,5).map(T=>({id:T.id,primary:T.title,secondary:T.message,meta:new Date(T.date??Date.now()).toLocaleString()})),emptyText:"No announcements available."}];d||n({stats:w,sections:A})}catch(f){d||l((f==null?void 0:f.message)??"Something went wrong while loading the dashboard.")}finally{d||i(!1)}}}return m(),()=>{d=!0}},[t,e]);const c=E.useMemo(()=>{switch(t){case"nurse":return{title:"Nurse Dashboard",subtitle:"Manage your patients and schedule"};case"receptionist":return{title:"Receptionist Dashboard",subtitle:"Manage patients, appointments, and billing"};case"doctor":return{title:"Doctor Dashboard",subtitle:"Review patients and manage referrals"};case"specialist":return{title:"Specialist Dashboard",subtitle:"Treat patients and prepare for discharge"};case"biller":return{title:"Biller Dashboard",subtitle:"Manage patient bills and payments"};default:return{title:"Admin Dashboard",subtitle:"Monitor system performance and operations"}}},[t]);return s?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:c.title}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:c.subtitle})]}),a.jsx("div",{className:"card text-sm text-gray-500",children:"Loading dashboard data..."})]}):o?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:c.title}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:c.subtitle})]}),a.jsx("div",{className:"card text-sm text-red-500",children:o})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:c.title}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:c.subtitle})]}),a.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:r.stats.map(d=>a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`flex-shrink-0 p-3 rounded-lg ${d.bgColor}`,children:a.jsx(d.icon,{className:`h-6 w-6 ${d.color}`})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:d.name}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:d.value})]})]})},d.name))}),a.jsx("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:r.sections.map(d=>a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:d.title}),a.jsx(d.icon,{className:"h-5 w-5 text-primary-500"})]}),d.items.length===0?a.jsx("p",{className:"text-sm text-gray-500",children:d.emptyText??"No data available."}):a.jsx("div",{className:"space-y-3",children:d.items.map(m=>a.jsxs("div",{className:"flex items-start justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:m.primary}),m.secondary&&a.jsx("p",{className:"text-xs text-gray-600 truncate",children:m.secondary}),m.meta&&a.jsx("p",{className:"text-xs text-gray-500 truncate",children:m.meta})]}),m.statusLabel&&m.statusTone&&a.jsx("span",{className:`ml-3 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${zM[m.statusTone]}`,children:m.statusLabel})]},m.id))})]})},d.title))})]})}const Gp={name:"",email:"",password:"",phone:"",licenseNumber:"",specialization:"",experience:0,certifications:[],status:"active",hireDate:new Date().toISOString().split("T")[0],avatar:""};function wj({isOpen:e,onClose:t,onSave:r,nurse:n,mode:s}){const[i,o]=E.useState(Gp),[l,c]=E.useState(""),[u,d]=E.useState(!1),[m,f]=E.useState(null),[p,h]=E.useState(null),[g,v]=E.useState(null),[x,y]=E.useState(!1);if(E.useEffect(()=>{if(!e){o(Gp),c(""),f(null),d(!1),h(null),v(null),y(!1);return}if(s==="edit"&&n)if(o({name:n.name,email:n.email,password:"",phone:n.phone,licenseNumber:n.licenseNumber,specialization:n.specialization,experience:n.experience,certifications:n.certifications,status:n.status,hireDate:n.hireDate?new Date(n.hireDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],avatar:n.avatar??""}),n.avatar){const S=n.avatar.startsWith("http")?n.avatar:`http://51.20.55.20:3007${n.avatar.startsWith("/")?n.avatar:"/"+n.avatar}`;v(S)}else v(null);else o(Gp),v(null)},[e,s,n]),!e)return null;const b=S=>{const{name:_,value:P}=S.target;o(k=>({...k,[_]:_==="experience"?Number.isNaN(Number(P))?0:parseInt(P,10):P}))},N=()=>{const S=l.trim();!S||i.certifications.includes(S)||(o(_=>({..._,certifications:[..._.certifications,S]})),c(""))},j=S=>{o(_=>({..._,certifications:_.certifications.filter(P=>P!==S)}))},w=async S=>{var k;const _=(k=S.target.files)==null?void 0:k[0];if(!_)return;if(!_.type.startsWith("image/")){f("Please select a valid image file");return}if(_.size>10*1024*1024){f("Image size must be less than 10MB");return}h(_),f(null);const P=new FileReader;P.onloadend=()=>{v(P.result)},P.readAsDataURL(_),y(!0);try{const O=await H.uploadFile(q.UPLOAD.IMAGE,_);if(O.success&&O.data){const D=O.data.url||O.data.url;if(D){const U=D.startsWith("http")?D.replace(/^https?:\/\/[^\/]+/,""):D.startsWith("/")?D:"/"+D;o(R=>({...R,avatar:U}));const I=`http://51.20.55.20:3007${U}`;v(I)}}}catch(O){f((O==null?void 0:O.message)||"Failed to upload image"),h(null),v(null)}finally{y(!1)}},A=()=>{h(null),v(null),o(S=>({...S,avatar:""}))},T=async S=>{if(S.preventDefault(),d(!0),f(null),s==="add"&&(!i.password||i.password.length<8)){f("Password must be at least 8 characters long."),d(!1);return}if(s==="edit"&&i.password&&i.password.length<8){f("Password must be at least 8 characters long."),d(!1);return}try{await r(i),t()}catch(_){f((_==null?void 0:_.message)??"Unable to save nurse. Please try again.")}finally{d(!1)}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsxs("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-xl bg-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-5",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s==="add"?"Add Nurse":"Edit Nurse"}),a.jsx("p",{className:"text-sm text-gray-500",children:s==="add"?"Create a new nurse profile":"Update the nurse details"})]}),a.jsx("button",{onClick:t,className:"rounded-lg p-2 transition-colors hover:bg-gray-100","aria-label":"Close modal",children:a.jsx(Pe,{className:"h-5 w-5 text-gray-500"})})]}),a.jsxs("form",{onSubmit:T,className:"space-y-6 px-6 py-6",children:[m&&a.jsx("div",{className:"rounded-md border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:m}),a.jsxs("section",{className:"space-y-4",children:[a.jsxs("h3",{className:"flex items-center text-lg font-medium text-gray-900",children:[a.jsx(vt,{className:"mr-2 h-5 w-5 text-primary-600"}),"Personal Information"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Full name",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",value:i.name,onChange:b,required:!0,className:"input-field mt-1",placeholder:"Sarah Johnson"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Email address",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"email",name:"email",value:i.email,onChange:b,required:!0,className:"input-field mt-1",placeholder:"sarah@example.com"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will be used for login"})]}),s==="add"&&a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Password",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"password",name:"password",value:i.password,onChange:b,required:!0,minLength:8,className:"input-field mt-1",placeholder:"Minimum 8 characters"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Provide this to the nurse for login"})]}),s==="edit"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"New Password (optional)"}),a.jsx("input",{type:"password",name:"password",value:i.password,onChange:b,minLength:8,className:"input-field mt-1",placeholder:"Leave blank to keep current password"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only fill if you want to change the password"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Phone number",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:b,required:!0,className:"input-field mt-1",placeholder:"+1 (555) 123-4567"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["License number",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"licenseNumber",value:i.licenseNumber,onChange:b,required:!0,className:"input-field mt-1",placeholder:"RN-001234"})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsxs("h3",{className:"flex items-center text-lg font-medium text-gray-900",children:[a.jsx(Ft,{className:"mr-2 h-5 w-5 text-primary-600"}),"Professional Information"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Specialization",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"specialization",value:i.specialization,onChange:b,required:!0,className:"input-field mt-1",children:[a.jsx("option",{value:"",children:"Select specialization"}),a.jsx("option",{value:"General Nursing",children:"General Nursing"}),a.jsx("option",{value:"Critical Care",children:"Critical Care"}),a.jsx("option",{value:"Pediatric Nursing",children:"Pediatric Nursing"}),a.jsx("option",{value:"Geriatric Nursing",children:"Geriatric Nursing"}),a.jsx("option",{value:"Mental Health",children:"Mental Health"}),a.jsx("option",{value:"Home Health",children:"Home Health"}),a.jsx("option",{value:"Wound Care",children:"Wound Care"}),a.jsx("option",{value:"Palliative Care",children:"Palliative Care"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Years of experience",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",name:"experience",value:i.experience,onChange:b,min:0,max:50,required:!0,className:"input-field mt-1",placeholder:"5"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Status",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"status",value:i.status,onChange:b,required:!0,className:"input-field mt-1",children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"}),a.jsx("option",{value:"on-leave",children:"On leave"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Hire date",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",name:"hireDate",value:i.hireDate,onChange:b,required:!0,className:"input-field mt-1"})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsxs("h3",{className:"flex items-center text-lg font-medium text-gray-900",children:[a.jsx(Ft,{className:"mr-2 h-5 w-5 text-primary-600"}),"Certifications"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:l,onChange:S=>c(S.target.value),className:"input-field flex-1",placeholder:"Add certification",onKeyDown:S=>{S.key==="Enter"&&(S.preventDefault(),N())}}),a.jsx("button",{type:"button",onClick:N,className:"btn-primary",children:"Add"})]}),i.certifications.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:i.certifications.map(S=>a.jsxs("span",{className:"inline-flex items-center rounded-full bg-primary-100 px-3 py-1 text-sm text-primary-800",children:[S,a.jsx("button",{type:"button",onClick:()=>j(S),className:"ml-2 text-primary-600 hover:text-primary-800",children:a.jsx(Pe,{className:"h-3 w-3"})})]},S))})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsxs("h3",{className:"flex items-center text-lg font-medium text-gray-900",children:[a.jsx(vt,{className:"mr-2 h-5 w-5 text-primary-600"}),"Profile picture"]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Picture"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[g?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:g,alt:"Avatar preview",className:"h-20 w-20 rounded-full object-cover border-2 border-gray-200"}),a.jsx("button",{type:"button",onClick:A,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:a.jsx(Pe,{className:"h-4 w-4"})})]}):a.jsx("div",{className:"h-20 w-20 rounded-full bg-gray-100 flex items-center justify-center border-2 border-dashed border-gray-300",children:a.jsx(Qc,{className:"h-8 w-8 text-gray-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("label",{className:"cursor-pointer",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:w,className:"hidden",disabled:x}),a.jsx("div",{className:"btn-outline flex items-center justify-center",children:x?a.jsxs(a.Fragment,{children:[a.jsx(rt,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Co,{className:"h-4 w-4 mr-2"}),g?"Change Picture":"Upload Picture"]})})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG or GIF (max 10MB)"})]})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-4 border-t border-gray-200 pt-6",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-outline",disabled:u,children:"Cancel"}),a.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:u,children:[a.jsx(hv,{className:"mr-2 h-4 w-4"}),u?"Saving...":s==="add"?"Add Nurse":"Update Nurse"]})]})]})]})})}const VM={ACTIVE:"active",INACTIVE:"inactive",ON_LEAVE:"on-leave"},qM={active:"ACTIVE",inactive:"INACTIVE","on-leave":"ON_LEAVE"};function Mu(e){return{...e,status:e.status?VM[e.status.toUpperCase()]??"active":"active",hireDate:new Date(e.hireDate).toISOString().split("T")[0]}}function Sj(e){const t={...e};return e.status&&(t.status=qM[e.status]??e.status),e.hireDate&&(t.hireDate=new Date(e.hireDate).toISOString()),t}class WM{async getNurses(t){const r=await H.get(q.NURSES.BASE,{params:t});return{nurses:Array.isArray(r.data)?r.data.map(Mu):[],pagination:r.pagination}}async getNurse(t){const r=await H.get(q.NURSES.BY_ID(t));return Mu(r.data)}async createNurse(t){const r=Sj(t),n=await H.post(q.NURSES.BASE,r);return Mu(n.data)}async updateNurse(t,r){const n=Sj(r),s=await H.put(q.NURSES.BY_ID(t),n);return Mu(s.data)}async deleteNurse(t){await H.delete(q.NURSES.BY_ID(t))}}const Ai=new WM;function GM(){const{user:e}=st(),t=(e==null?void 0:e.role)==="admin",[r,n]=E.useState(""),[s,i]=E.useState("all"),[o,l]=E.useState([]),[c,u]=E.useState(!1),[d,m]=E.useState(!1),[f,p]=E.useState(null),[h,g]=E.useState(!1),[v,x]=E.useState(null),{addNotification:y}=yt(),b=async()=>{g(!0),x(null);try{const{nurses:S}=await Ai.getNurses({page:1,limit:50});l(S)}catch(S){console.error("Failed to load nurses",S),x((S==null?void 0:S.message)??"Unable to load nurses right now.")}finally{g(!1)}};E.useEffect(()=>{b()},[]);const N=E.useMemo(()=>o.filter(S=>{const _=S.name.toLowerCase().includes(r.toLowerCase())||S.specialization.toLowerCase().includes(r.toLowerCase()),P=s==="all"||S.status===s;return _&&P}),[o,r,s]),j=async S=>{try{await Ai.createNurse(S),te.success(`Nurse ${S.name} has been added successfully`),y({title:"Nurse added",message:`${S.name} has been added to the team.`,type:"success",priority:"medium",userId:"system",category:"system"}),await b()}catch(_){const P=_ instanceof Error?_.message:"Failed to add nurse";throw te.error(P),y({title:"Unable to add nurse",message:P,type:"error",priority:"high",userId:"system",category:"system"}),_}},w=async S=>{if(f)try{await Ai.updateNurse(f.id,S),te.success(`Nurse ${S.name} has been updated successfully`),y({title:"Nurse updated",message:`${S.name}'s profile has been updated.`,type:"success",priority:"medium",userId:"system",category:"system"}),await b()}catch(_){const P=_ instanceof Error?_.message:"Failed to update nurse";throw te.error(P),y({title:"Unable to update nurse",message:P,type:"error",priority:"high",userId:"system",category:"system"}),_}finally{p(null)}},A=async S=>{const _=o.find(k=>k.id===S),P=_?`Deactivate ${_.name}? They will be marked inactive.`:"Deactivate this nurse?";if(window.confirm(P))try{await Ai.deleteNurse(S),te.success(_?`Nurse ${_.name} has been deactivated`:"Nurse has been deactivated"),y({title:"Nurse deactivated",message:_?`${_.name} is now marked as inactive.`:"Nurse has been marked inactive.",type:"info",priority:"medium",userId:"system",category:"system"}),await b()}catch(k){const O=k instanceof Error?k.message:"Failed to deactivate nurse";te.error(O),y({title:"Unable to deactivate nurse",message:O,type:"error",priority:"high",userId:"system",category:"system"})}},T=S=>{p(S),m(!0)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Nurses"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage nursing staff assignments and certifications."})]}),t&&a.jsx("div",{className:"mt-4 sm:mt-0",children:a.jsxs("button",{onClick:()=>u(!0),className:"btn-primary flex items-center",children:[a.jsx(Ie,{className:"mr-2 h-4 w-4"}),"Add Nurse"]})})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(jt,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search nurses...",value:r,onChange:S=>n(S.target.value),className:"input-field pl-10"})]})}),a.jsx("div",{className:"sm:w-48",children:a.jsxs("select",{value:s,onChange:S=>i(S.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"}),a.jsx("option",{value:"on-leave",children:"On Leave"})]})})]})}),a.jsx("div",{className:"card",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Nurse"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Specialization"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"License Number"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Experience"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:h?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-sm text-gray-500",children:"Loading nurses..."})}):v?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-sm text-red-500",children:v})}):N.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-sm text-gray-500",children:"No nurses match your filters yet."})}):N.map(S=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[S.avatar?a.jsx("img",{src:S.avatar.startsWith("http")?S.avatar:`http://51.20.55.20:3007${S.avatar.startsWith("/")?S.avatar:"/"+S.avatar}`,alt:S.name,className:"h-10 w-10 rounded-full object-cover"}):a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-secondary-100 text-sm font-semibold text-secondary-700",children:S.name.split(" ").map(_=>_[0]).join("").slice(0,2).toUpperCase()}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:S.name}),a.jsx("div",{className:"text-sm text-gray-500",children:S.email})]})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900",children:S.specialization})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ft,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm text-gray-900",children:S.licenseNumber})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"text-sm text-gray-900",children:[S.experience," ",S.experience===1?"year":"years"]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`status-badge ${S.status==="active"?"status-active":S.status==="on-leave"?"status-pending":"status-inactive"}`,children:S.status.replace("-"," ")})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(ar,{to:`/nurses/${S.id}`,className:"text-primary-600 hover:text-primary-900",children:[a.jsx(Bt,{className:"mr-1 inline h-4 w-4"}),"View"]}),t&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>T(S),className:"text-secondary-600 hover:text-secondary-900",children:[a.jsx(er,{className:"mr-1 inline h-4 w-4"}),"Edit"]}),a.jsxs("button",{onClick:()=>A(S.id),className:"text-red-600 hover:text-red-900",children:[a.jsx(ht,{className:"mr-1 inline h-4 w-4"}),"Delete"]})]})]})})]},S.id))})]})})}),a.jsx(wj,{isOpen:c,onClose:()=>u(!1),onSave:j,mode:"add"}),a.jsx(wj,{isOpen:d,onClose:()=>{m(!1),p(null)},onSave:w,nurse:f??void 0,mode:"edit"})]})}function xe(e,t=[]){const[r,n]=E.useState(null),[s,i]=E.useState(!0),[o,l]=E.useState(null),c=E.useCallback(async()=>{try{i(!0),l(null);const u=await e();n(u)}catch(u){l(u)}finally{i(!1)}},t);return E.useEffect(()=>{c()},[c]),{data:r,loading:s,error:o,refetch:c}}function je(e){const[t,r]=E.useState(null),[n,s]=E.useState(!1),[i,o]=E.useState(null),l=E.useCallback(async u=>{try{s(!0),o(null);const d=await e(u);return r(d),d}catch(d){throw o(d),d}finally{s(!1)}},[e]),c=E.useCallback(()=>{r(null),o(null),s(!1)},[]);return{data:t,loading:n,error:i,mutate:l,reset:c}}function YM(){const{id:e}=Yc(),{data:t,loading:r,error:n,refetch:s}=xe(async()=>{if(!e)return null;const[d,m,f,p]=await Promise.all([Ai.getNurse(e),Ut.getNurseAppointments(e,{limit:200}),fr.getClasses({limit:25}),fr.getExams({limit:10})]);return{nurse:d,appointments:m.appointments,classes:f.classes,exams:p.exams}},[e]),i=t==null?void 0:t.nurse,o=new Date().toISOString().split("T")[0],l=E.useMemo(()=>((t==null?void 0:t.appointments)??[]).filter(d=>d.date===o),[t==null?void 0:t.appointments,o]),c=E.useMemo(()=>((t==null?void 0:t.appointments)??[]).filter(d=>d.date>=o).sort((d,m)=>(d.date+d.time).localeCompare(m.date+m.time)).slice(0,5),[t==null?void 0:t.appointments,o]),u=E.useMemo(()=>{if(!i)return[];const d=(t==null?void 0:t.classes)??[],m=d.filter(h=>{var g,v;return((g=h.instructor)==null?void 0:g.toLowerCase())===i.name.toLowerCase()||((v=h.category)==null?void 0:v.toLowerCase().includes(i.specialization.toLowerCase()))}),f=d.slice().sort((h,g)=>new Date(h.date).getTime()-new Date(g.date).getTime());return(m.length?m:f).slice(0,3)},[t==null?void 0:t.classes,i]);return e?r?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Loading nurse profile..."})]}):n||!i?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Jt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Unable to load nurse profile"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:(n==null?void 0:n.message)??"Please try again later."}),a.jsx("button",{onClick:s,className:"mt-4 btn-primary",children:"Retry"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(ar,{to:"/nurses",className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:a.jsx(sc,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:i.name}),a.jsx("p",{className:"text-sm text-gray-600",children:"Nurse Profile"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"text-center",children:[i.avatar&&a.jsx("img",{src:i.avatar.startsWith("http")?i.avatar:`http://51.20.55.20:3007${i.avatar.startsWith("/")?i.avatar:"/"+i.avatar}`,alt:i.name,className:"h-24 w-24 rounded-full object-cover mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:i.name}),a.jsx("p",{className:"text-gray-600",children:i.specialization}),a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium mt-2 ${i.status==="active"?"status-active":i.status==="on-leave"?"status-pending":"status-inactive"}`,children:i.status.replace("-"," ")})]}),a.jsxs("div",{className:"mt-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(pv,{className:"h-4 w-4 mr-3"}),i.email]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Ha,{className:"h-4 w-4 mr-3"}),i.phone]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Ft,{className:"h-4 w-4 mr-3"}),"License: ",i.licenseNumber]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Te,{className:"h-4 w-4 mr-3"}),"Hired: ",new Date(i.hireDate).toLocaleDateString()]})]}),a.jsx("div",{className:"mt-6",children:a.jsx("button",{className:"w-full btn-primary",disabled:!0,children:"Edit Profile"})})]})}),a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Certification Progress"}),a.jsx(oc,{className:"h-5 w-5 text-primary-500"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[a.jsx("span",{className:"text-gray-600",children:"Overall Progress"}),a.jsxs("span",{className:"font-medium",children:[i.certificationProgress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:a.jsx("div",{className:"bg-primary-500 h-3 rounded-full transition-all duration-300",style:{width:`${i.certificationProgress}%`}})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Current Certifications"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:i.certifications.length?i.certifications.map((d,m)=>a.jsxs("div",{className:"flex items-center p-3 bg-green-50 rounded-lg",children:[a.jsx(Ft,{className:"h-5 w-5 text-green-600 mr-3"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:d})]},m)):a.jsx("p",{className:"text-sm text-gray-500",children:"No certifications on file."})})]}),a.jsx("div",{className:"mt-6 flex items-center gap-2",children:a.jsxs("button",{className:"btn-secondary",disabled:!0,children:[a.jsx(Ki,{className:"h-4 w-4 mr-2"}),"Take Exam"]})})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Upcoming Schedule"}),a.jsx(De,{className:"h-5 w-5 text-secondary-500"})]}),c.length?a.jsx("div",{className:"space-y-3",children:c.map(d=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:d.serviceName}),a.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[d.patientName,"  ",new Date(d.date).toLocaleDateString()," at ",d.time]})]}),a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${d.status==="confirmed"?"bg-green-100 text-green-800":d.status==="scheduled"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:d.status})]},d.id))}):a.jsx("p",{className:"text-sm text-gray-500",children:"No upcoming appointments scheduled."})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Upcoming Training"}),a.jsx(De,{className:"h-5 w-5 text-secondary-500"})]}),u.length?a.jsx("div",{className:"space-y-3",children:u.map(d=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:d.title}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:d.description}),a.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-500",children:[a.jsx(Te,{className:"h-3 w-3 mr-1"}),d.date?new Date(d.date).toLocaleDateString():"Date TBD"]})]}),a.jsx("div",{className:"ml-4",children:a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-primary-100 text-primary-800",children:d.status})})]},d.id))}):a.jsx("p",{className:"text-sm text-gray-500",children:"No upcoming training sessions found."}),a.jsx("div",{className:"mt-4",children:a.jsx(ar,{to:"/training",className:"btn-outline",children:"View Training Portal"})})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Performance Metrics"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:i.experience}),a.jsx("div",{className:"text-sm text-gray-600",children:"Years Experience"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Visits Today"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:(t==null?void 0:t.appointments.length)??0}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Visits Scheduled"})]})]})]}),t!=null&&t.exams.length?a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Upcoming Exams"}),a.jsx(Ki,{className:"h-5 w-5 text-primary-500"})]}),a.jsx("div",{className:"space-y-3",children:t.exams.slice(0,3).map(d=>a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:d.title}),a.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Passing Score: ",d.passingScore,"%  Questions: ",d.questions.length]})]},d.id))})]}):null]})]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Nurse not found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"The requested nurse profile could not be found."}),a.jsx(ar,{to:"/nurses",className:"mt-4 btn-primary inline-block",children:"Back to Nurses"})]})}const tT={NURSING:"Nursing",PHYSIOTHERAPY:"Physiotherapy",PALLIATIVE:"Palliative Care",NUTRITION:"Nutrition",MENTAL_HEALTH:"Mental Health",MATERNAL_CARE:"Maternal Care"},KM=Object.entries(tT).reduce((e,[t,r])=>(e[r]=t,e),{});function Du(e){var r;const t=(r=e.category)==null?void 0:r.toUpperCase();return{...e,category:tT[t]??e.category,features:e.features??[]}}function Aj(e){const t={...e};return e.category&&(t.category=KM[e.category]??e.category),e.features&&(t.features=e.features),t}class XM{async getServices(t){const r={...t,limit:typeof(t==null?void 0:t.limit)=="number"?Math.min(Math.max(t.limit,1),100):t==null?void 0:t.limit},n=await H.get(q.SERVICES.BASE,{params:r});return{services:Array.isArray(n.data)?n.data.map(Du):[],pagination:n.pagination}}async getService(t){const r=await H.get(q.SERVICES.BY_ID(t));return Du(r.data)}async createService(t){const r=await H.post(q.SERVICES.BASE,Aj(t));return Du(r.data)}async updateService(t,r){const n=await H.put(q.SERVICES.BY_ID(t),Aj(r));return Du(n.data)}async deleteService(t){await H.delete(q.SERVICES.BY_ID(t))}}const dn=new XM,Yp={name:"",email:"",phone:"",dateOfBirth:"",address:"",city:"",state:"",zipCode:"",condition:"",assignedSpecialistId:"",assignedTherapistId:"",serviceIds:[],status:"active",avatar:"",emergencyContact:"",emergencyPhone:"",allergies:"",paymentType:"CASH",insuranceProvider:"",insuranceNumber:"",referralSource:""};function Ej({isOpen:e,onClose:t,onSave:r,patient:n,mode:s,specialists:i,therapists:o}){const[l,c]=E.useState(Yp),[u,d]=E.useState(!1),[m,f]=E.useState(null),[p,h]=E.useState(null),[g,v]=E.useState(null),[x,y]=E.useState(!1),{data:b,loading:N}=xe(()=>dn.getServices({isActive:!0,limit:200}),[]),j=(b==null?void 0:b.services)??[];if(E.useEffect(()=>{var _,P;if(!e){c(Yp),d(!1),f(null),h(null),v(null);return}if(n&&s==="edit"){const k=((_=n.address)==null?void 0:_.split(", "))||[],O=k[0]||n.address||"",C=k[1]||"",D=((P=k[2])==null?void 0:P.split(" "))||[],U=D[0]||"",z=D[1]||"";if(c({name:n.name,email:n.email,phone:n.phone,dateOfBirth:n.dateOfBirth?new Date(n.dateOfBirth).toISOString().split("T")[0]:"",address:O,city:C,state:U,zipCode:z,condition:n.condition,assignedSpecialistId:n.assignedSpecialistId??"",assignedTherapistId:n.assignedTherapistId??"",serviceIds:n.serviceIds??[],status:n.status??"active",avatar:n.avatar??"",emergencyContact:n.emergencyContact??"",emergencyPhone:n.emergencyPhone??"",allergies:n.allergies??"",paymentType:n.paymentType==="INSURANCE"?"INSURANCE":"CASH",insuranceProvider:n.insuranceProvider??"",insuranceNumber:n.insuranceNumber??"",referralSource:n.referralSource??""}),n.avatar){const I=n.avatar.startsWith("http")?n.avatar:`http://51.20.55.20:3007${n.avatar.startsWith("/")?n.avatar:"/"+n.avatar}`;v(I)}else v(null)}else c({...Yp,dateOfBirth:"",status:"active"})},[e,n,s]),!e)return null;const w=_=>{const{name:P,value:k}=_.target;c(O=>{const C={...O,[P]:k};return P==="paymentType"&&k==="CASH"&&(C.insuranceProvider="",C.insuranceNumber=""),P==="assignedSpecialistId"&&k&&(C.assignedTherapistId=""),P==="assignedTherapistId"&&k&&(C.assignedSpecialistId=""),C})},A=_=>{c(P=>{const k=P.serviceIds||[],O=k.includes(_);return{...P,serviceIds:O?k.filter(C=>C!==_):[...k,_]}})},T=async _=>{var O;const P=(O=_.target.files)==null?void 0:O[0];if(!P)return;if(!P.type.startsWith("image/")){f("Please select a valid image file");return}if(P.size>10*1024*1024){f("Image size must be less than 10MB");return}h(P),f(null);const k=new FileReader;k.onloadend=()=>{v(k.result)},k.readAsDataURL(P),y(!0);try{const C=await H.uploadFile(q.UPLOAD.IMAGE,P);if(C.success&&C.data){const U=C.data.url||C.data.url;if(U){const z=U.startsWith("http")?U.replace(/^https?:\/\/[^\/]+/,""):U.startsWith("/")?U:"/"+U;c(F=>({...F,avatar:z}));const R=`http://51.20.55.20:3007${z}`;v(R)}}}catch(C){f((C==null?void 0:C.message)||"Failed to upload image"),h(null),v(null)}finally{y(!1)}},S=async _=>{_.preventDefault(),d(!0),f(null);try{const P=[l.address,l.city,l.state,l.zipCode].filter(Boolean).join(", "),k={...l,address:P||l.address};await r(k),t()}catch(P){f((P==null?void 0:P.message)??"Unable to save patient. Please try again.")}finally{d(!1)}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsxs("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-xl bg-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b px-6 py-4 sticky top-0 bg-white z-10",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s==="add"?"Register New Patient":"Update Patient Details"}),a.jsx("p",{className:"text-sm text-gray-500",children:s==="add"?"Complete patient registration form":"Edit patient profile and assignment details"})]}),a.jsx("button",{type:"button",className:"rounded-full p-2 text-gray-400 transition hover:bg-gray-100 hover:text-gray-600",onClick:t,"aria-label":"Close",children:a.jsx(Pe,{className:"h-5 w-5"})})]}),a.jsxs("form",{onSubmit:S,className:"space-y-6 px-6 py-6",children:[m&&a.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:m}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Personal Information"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Required information about the patient"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Full Name",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",value:l.name,onChange:w,required:!0,className:"input-field mt-1",placeholder:"Jane Doe"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Email Address",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"email",name:"email",value:l.email,onChange:w,required:!0,className:"input-field mt-1",placeholder:"jane@example.com"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Phone Number",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"tel",name:"phone",value:l.phone,onChange:w,required:!0,className:"input-field mt-1",placeholder:"+1 (555) 123-4567"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Date of Birth",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",name:"dateOfBirth",value:l.dateOfBirth,onChange:w,required:!0,className:"input-field mt-1"})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Address Information"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Patient's residential address"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Street Address",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"address",value:l.address,onChange:w,required:!0,className:"input-field mt-1",placeholder:"123 Main Street"})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),a.jsx("input",{type:"text",name:"city",value:l.city,onChange:w,className:"input-field mt-1",placeholder:"City"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"State"}),a.jsx("input",{type:"text",name:"state",value:l.state,onChange:w,className:"input-field mt-1",placeholder:"State"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ZIP Code"}),a.jsx("input",{type:"text",name:"zipCode",value:l.zipCode,onChange:w,className:"input-field mt-1",placeholder:"12345"})]})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Medical Information"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Primary condition and medical history"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Primary Condition",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"condition",value:l.condition,onChange:w,required:!0,className:"input-field mt-1",placeholder:"e.g., Cardiac rehabilitation, Post-surgical recovery"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Allergies"}),a.jsx("input",{type:"text",name:"allergies",value:l.allergies,onChange:w,className:"input-field mt-1",placeholder:"Known allergies (medications, food, etc.)"})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Next of Kin Contact"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Next of kin contact information"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Next of Kin Name"}),a.jsx("input",{type:"text",name:"emergencyContact",value:l.emergencyContact,onChange:w,className:"input-field mt-1",placeholder:"Contact name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Next of Kin Phone"}),a.jsx("input",{type:"tel",name:"emergencyPhone",value:l.emergencyPhone,onChange:w,className:"input-field mt-1",placeholder:"+1 (555) 123-4567"})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Payment & Insurance Information"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Payment method and insurance details"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Payment Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"paymentType",value:l.paymentType||"CASH",onChange:w,className:"input-field mt-1",required:!0,children:[a.jsx("option",{value:"CASH",children:"Cash"}),a.jsx("option",{value:"INSURANCE",children:"Insurance"})]})]}),l.paymentType==="INSURANCE"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Insurance Provider ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"insuranceProvider",value:l.insuranceProvider,onChange:w,className:"input-field mt-1",placeholder:"Insurance company name",required:l.paymentType==="INSURANCE"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Insurance Number ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"insuranceNumber",value:l.insuranceNumber,onChange:w,className:"input-field mt-1",placeholder:"Policy number",required:l.paymentType==="INSURANCE"})]})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Assignment & Care Details"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Assign patient to care providers (select either Specialist or Therapist)"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Assigned Specialist"}),a.jsxs("select",{name:"assignedSpecialistId",value:l.assignedSpecialistId??"",onChange:w,className:"input-field mt-1",disabled:!!l.assignedTherapistId,children:[a.jsx("option",{value:"",children:"Select specialist"}),i&&i.length>0?i.map(_=>a.jsxs("option",{value:_.id,children:[_.name,_.specialization?` (${_.specialization})`:""]},_.id)):a.jsx("option",{value:"",disabled:!0,children:"No specialists available"})]}),l.assignedTherapistId&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Clear Therapist assignment first"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Assigned Therapist"}),a.jsxs("select",{name:"assignedTherapistId",value:l.assignedTherapistId??"",onChange:w,className:"input-field mt-1",disabled:!!l.assignedSpecialistId,children:[a.jsx("option",{value:"",children:"Select therapist"}),o&&o.length>0?o.map(_=>a.jsxs("option",{value:_.id,children:[_.name,_.specialization?` (${_.specialization})`:""]},_.id)):a.jsx("option",{value:"",disabled:!0,children:"No therapists available"})]}),l.assignedSpecialistId&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Clear Specialist assignment first"})]}),s==="edit"&&a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Status",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"status",value:l.status,onChange:w,required:!0,className:"input-field mt-1",children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"discharged",children:"Discharged"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Referral Source"}),a.jsx("input",{type:"text",name:"referralSource",value:l.referralSource,onChange:w,className:"input-field mt-1",placeholder:"How did patient find us?"})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Services"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Select one or more services. Invoices will be created automatically for selected services."})]}),N?a.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-blue-600 border-t-transparent rounded-full mx-auto mb-2"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Loading services..."})]}):j&&j.length>0?a.jsx(a.Fragment,{children:a.jsx("div",{className:"max-h-64 overflow-y-auto border border-gray-200 rounded-lg p-3 bg-gray-50 mb-4",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:j.map(_=>{var k;const P=((k=l.serviceIds)==null?void 0:k.includes(_.id))||!1;return a.jsxs("div",{onClick:()=>A(_.id),className:`
                              relative border-2 rounded-lg p-3 cursor-pointer transition-all duration-200
                              ${P?"border-blue-500 bg-blue-50 shadow-sm":"border-gray-200 bg-white hover:border-blue-300"}
                            `,children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("input",{type:"checkbox",checked:P,onChange:()=>A(_.id),onClick:O=>O.stopPropagation(),className:"h-4 w-4 mt-0.5 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"flex items-center justify-between mb-1",children:a.jsx("h4",{className:"text-sm font-semibold text-gray-900 truncate",children:_.name})}),_.category&&a.jsx("p",{className:"text-xs text-gray-500 capitalize",children:_.category.toLowerCase().replace("_"," ")})]})]}),P&&a.jsx("div",{className:"absolute top-2 right-2",children:a.jsx("div",{className:"h-5 w-5 bg-blue-500 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"h-3 w-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})})]},_.id)})})})}):a.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsx(ur,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-xs font-medium text-gray-700",children:"No services available"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Please add services to the system first"})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient Photo"}),a.jsxs("div",{className:"flex items-center gap-4",children:[g?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:g,alt:"Avatar preview",className:"h-20 w-20 rounded-full object-cover border-2 border-gray-300"}),a.jsx("button",{type:"button",onClick:()=>{h(null),v(null),c(_=>({..._,avatar:""}))},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:a.jsx(Pe,{className:"h-3 w-3"})})]}):a.jsx("div",{className:"h-20 w-20 rounded-full bg-gray-100 border-2 border-dashed border-gray-300 flex items-center justify-center",children:a.jsx(Qc,{className:"h-8 w-8 text-gray-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("label",{className:"cursor-pointer",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:T,disabled:x,className:"hidden"}),a.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Co,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:x?"Uploading...":"Upload Photo"})]})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG or GIF (max 10MB)"})]})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 border-t pt-6 sticky bottom-0 bg-white",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-outline",disabled:u,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:u,children:u?"Saving...":s==="add"?"Register Patient":"Update Patient"})]})]})]})})}const QM={ACTIVE:"active",DISCHARGED:"discharged",PENDING:"pending"},JM={active:"ACTIVE",discharged:"DISCHARGED",pending:"PENDING"};function tl(e){var n,s,i,o,l,c;const t=e.medicalHistoryNotes??"",r=e.medicalHistory??[];return{...e,status:e.status?QM[e.status.toUpperCase()]??"active":"active",medicalHistory:r,medicalHistoryText:t,progress:e.progress??[],assignedSpecialistId:((n=e.assignedSpecialist)==null?void 0:n.id)??e.assignedSpecialistId,assignedSpecialistName:(s=e.assignedSpecialist)==null?void 0:s.name,assignedTherapistId:((i=e.assignedTherapist)==null?void 0:i.id)??e.assignedTherapistId,assignedTherapistName:(o=e.assignedTherapist)==null?void 0:o.name,assignedDoctorId:((l=e.assignedSpecialist)==null?void 0:l.id)??e.assignedSpecialistId,assignedNurseId:void 0,referredSpecialistId:((c=e.assignedTherapist)==null?void 0:c.id)??e.assignedTherapistId}}function Tj(e){const t={...e};return e.status&&(t.status=JM[e.status]??e.status),e.dateOfBirth&&(t.dateOfBirth=new Date(e.dateOfBirth).toISOString()),e.medicalHistory!==void 0&&(t.medicalHistory=e.medicalHistory),t}class ZM{async getPatients(t){const r=await H.get(q.PATIENTS.BASE,{params:t});return{patients:Array.isArray(r.data)?r.data.map(tl):[],pagination:r.pagination}}async getPatient(t){const r=await H.get(q.PATIENTS.BY_ID(t));return tl(r.data)}async createPatient(t){const r=Tj(t),n=await H.post(q.PATIENTS.REGISTER,r);return tl(n.data)}async updatePatient(t,r){const n=Tj(r),s=await H.put(q.PATIENTS.BY_ID(t),n);return tl(s.data)}async deletePatient(t){await H.delete(q.PATIENTS.BY_ID(t))}async searchPatients(t){const r=await H.get(q.PATIENTS.SEARCH,{params:{query:t}});return Array.isArray(r.data)?r.data.map(tl):[]}async getMedicalHistory(t){return(await H.get(q.PATIENTS.MEDICAL_HISTORY(t))).data??[]}async addMedicalRecord(t,r){return(await H.post(q.PATIENTS.MEDICAL_HISTORY(t),r)).data}async updateMedicalRecord(t,r,n){return(await H.put(`${q.PATIENTS.MEDICAL_HISTORY(t)}/${r}`,n)).data}async deleteMedicalRecord(t,r){await H.delete(`${q.PATIENTS.MEDICAL_HISTORY(t)}/${r}`)}async getProgressRecords(t){return(await H.get(q.PATIENTS.PROGRESS(t))).data??[]}async addProgressRecord(t,r){return(await H.post(q.PATIENTS.PROGRESS(t),r)).data}async updateProgressRecord(t,r,n){return(await H.put(`${q.PATIENTS.PROGRESS(t)}/${r}`,n)).data}async deleteProgressRecord(t,r){await H.delete(`${q.PATIENTS.PROGRESS(t)}/${r}`)}async getPatientCases(t){return(await H.get(q.PATIENTS.CASES(t))).data??[]}async getPatientDashboard(t){return(await H.get(q.PATIENTS.DASHBOARD(t))).data??{}}async getPatientTimeline(t){const r=await H.get(q.PATIENTS.TIMELINE(t));return Array.isArray(r.data)?r.data:[]}async createPatientCase(t,r){return(await H.post(q.PATIENTS.CASES(t),r)).data}async updatePatientCase(t,r,n){return(await H.put(`${q.PATIENTS.CASES(t)}/${r}`,n)).data}async closePatientCase(t,r){return(await H.patch(`${q.PATIENTS.CASES(t)}/${r}/close`)).data}}const zt=new ZM,eD=["admin","receptionist","specialist","therapist","nurse","biller"];function tD(e){if(!e)return"admin";const t=e.trim().toLowerCase().replace(/\s+/g,"-"),r=eD.find(i=>i===t);if(r)return r;const n=e.trim().toUpperCase().replace(/[\s-]+/g,"_");return{ADMIN:"admin",RECEPTIONIST:"receptionist",SPECIALIST:"specialist",THERAPIST:"therapist",NURSE:"nurse",BILLER:"biller"}[n]??"admin"}function rD(e){return{admin:"ADMIN",receptionist:"RECEPTIONIST",specialist:"SPECIALIST",therapist:"THERAPIST",nurse:"NURSE",biller:"BILLER"}[e]??"ADMIN"}function ii(e){if(!e)throw new Error("Invalid user payload received from API");const t=tD(e.role??e.roleCode);return{id:e.id,name:e.name??`${e.firstName??""} ${e.lastName??""}`.trim(),email:e.email,role:t,roleCode:e.roleCode,specialistSpecialization:e.specialistSpecialization??e.doctorSpecialization,therapistSpecialization:e.therapistSpecialization,avatar:e.avatar,phone:e.phone??e.phoneNumber,department:e.department,employeeId:e.employeeId,licenseNumber:e.licenseNumber,isActive:e.isActive??!0,createdAt:e.createdAt,updatedAt:e.updatedAt}}class nD{async getUsers(t){const r=await H.get(q.USERS.BASE,{params:t});return{users:(Array.isArray(r.data)?r.data:Array.isArray(r.users)?r.users:[]).map(ii),pagination:r.pagination}}async getMedicalStaff(t){const r=await H.get(q.USERS.MEDICAL_STAFF,{params:t});return{users:(Array.isArray(r.data)?r.data:Array.isArray(r.users)?r.users:[]).map(ii),pagination:r.pagination}}async getUser(t){const r=await H.get(q.USERS.BY_ID(t)),n=r.data??r;return ii(n)}async createUser(t){const r=await H.post(q.USERS.BASE,{...t,role:rD(t.role)}),n=r.data??r;return ii(n)}async updateUser(t,r){const n=await H.put(q.USERS.BY_ID(t),r),s=n.data??n;return ii(s)}async updateUserStatus(t,r){const n=await H.patch(q.USERS.UPDATE_STATUS(t),{isActive:r}),s=n.data??n;return ii(s)}async deleteUser(t){await H.delete(q.USERS.BY_ID(t))}async searchUsers(t){return this.getUsers(t)}}const It=new nD;function aD(){const[e,t]=E.useState(""),[r,n]=E.useState("all"),[s,i]=E.useState(!1),[o,l]=E.useState(!1),[c,u]=E.useState(null),[d,m]=E.useState([]),[f,p]=E.useState(!1),[h,g]=E.useState(null),[v,x]=E.useState([]),[y,b]=E.useState([]),[N,j]=E.useState([]),{user:w}=st(),{addNotification:A}=yt(),T=(w==null?void 0:w.role)==="admin"||(w==null?void 0:w.role)==="receptionist",{data:S,loading:_}=xe(()=>dn.getServices({limit:500}),[]),P=(S==null?void 0:S.services)??[],k=E.useMemo(()=>{const $=new Map;return P.forEach(B=>$.set(B.id,B)),$},[P]),O=E.useMemo(()=>{const $=new Map;return v.forEach(B=>$.set(B.id,B.name)),$},[v]),C=E.useMemo(()=>{const $=new Map;return y.forEach(B=>$.set(B.id,B.name)),$},[y]),D=E.useMemo(()=>{const $=new Map;return N.forEach(B=>$.set(B.id,B.name)),$},[N]),U=async()=>{try{const{users:$}=await It.getMedicalStaff({role:"SPECIALIST",limit:500});b($.map(B=>{const J=X=>{if(X)return X.split("_").map(ie=>ie.charAt(0)+ie.slice(1).toLowerCase()).join(" ")};return{id:B.id,name:B.name,specialization:J(B.therapistSpecialization)}}))}catch($){console.error("Failed to load therapists",$);try{const{users:B}=await It.getUsers({limit:500}),J=B.filter(X=>X.role==="therapist");b(J.map(X=>{const ie=de=>{if(de)return de.split("_").map(M=>M.charAt(0)+M.slice(1).toLowerCase()).join(" ")};return{id:X.id,name:X.name,specialization:ie(X.therapistSpecialization)}}))}catch(B){console.error("Fallback load failed",B),b([])}}},z=async()=>{try{const{users:$}=await It.getMedicalStaff({role:"SPECIALIST",limit:500});x($.map(B=>{const J=X=>{if(X)return X.split("_").map(ie=>ie.charAt(0)+ie.slice(1).toLowerCase()).join(" ")};return{id:B.id,name:B.name,specialization:J(B.specialistSpecialization)}}))}catch($){console.error("Failed to load specialists",$);try{const{users:B}=await It.getUsers({limit:500}),J=B.filter(X=>X.role==="specialist");x(J.map(X=>{const ie=de=>{if(de)return de.split("_").map(M=>M.charAt(0)+M.slice(1).toLowerCase()).join(" ")};return{id:X.id,name:X.name,specialization:ie(X.specialistSpecialization)}}))}catch(B){console.error("Fallback load failed",B),x([])}}},I=async()=>{p(!0),g(null);try{const{patients:$}=await zt.getPatients({query:e||void 0,status:r!=="all"?r:void 0});m($)}catch($){console.error("Failed to load patients",$),g(($==null?void 0:$.message)??"Unable to load patient records.")}finally{p(!1)}},R=async()=>{try{const{users:$}=await It.getMedicalStaff({role:"NURSE",limit:500});j($.map(B=>({id:B.id,name:B.name})))}catch($){console.error("Failed to load nurses",$);try{const{users:B}=await It.getUsers({limit:500}),J=B.filter(X=>X.role==="nurse");j(J.map(X=>({id:X.id,name:X.name})))}catch(B){console.error("Fallback load failed",B),j([])}}};E.useEffect(()=>{z(),U(),R()},[]),E.useEffect(()=>{I()},[r,e]);const F=E.useMemo(()=>d.filter($=>{var de,M,Q,ae,oe,pe,he;$.assignedNurseId?(de=D.get($.assignedNurseId))==null||de.toLowerCase():(M=$.assignedNurseName)==null||M.toLowerCase();const B=$.assignedSpecialistId?(Q=O.get($.assignedSpecialistId))==null?void 0:Q.toLowerCase():(ae=$.assignedSpecialistName)==null?void 0:ae.toLowerCase(),J=$.assignedTherapistId?(oe=C.get($.assignedTherapistId))==null?void 0:oe.toLowerCase():(pe=$.assignedTherapistName)==null?void 0:pe.toLowerCase(),X=$.name.toLowerCase().includes(e.toLowerCase())||((he=$.email)==null?void 0:he.toLowerCase().includes(e.toLowerCase()))||((B==null?void 0:B.includes(e.toLowerCase()))??!1)||((J==null?void 0:J.includes(e.toLowerCase()))??!1)||V($).some(Ee=>Ee.name.toLowerCase().includes(e.toLowerCase())),ie=r==="all"||$.status===r;return X&&ie}),[d,e,r,O,C,k]),V=$=>!$.serviceIds||$.serviceIds.length===0?[]:$.serviceIds.map(B=>k.get(B)).filter(B=>B!==void 0),W=async $=>{try{await zt.createPatient($),te.success(`Patient ${$.name} has been created successfully`),A&&A({title:"Patient created",message:`${$.name} has been added.`,type:"success",priority:"medium",userId:"system",category:"system"}),await I()}catch(B){const J=B instanceof Error?B.message:"Failed to create patient";throw te.error(J),A&&A({title:"Unable to create patient",message:J,type:"error",priority:"high",userId:"system",category:"system"}),B}},ee=async $=>{if(c)try{await zt.updatePatient(c.id,$),te.success(`Patient ${$.name} has been updated successfully`),A({title:"Patient updated",message:`${$.name} has been updated.`,type:"success",priority:"medium",userId:"system",category:"system"}),await I()}catch(B){const J=B instanceof Error?B.message:"Failed to update patient";throw te.error(J),A({title:"Unable to update patient",message:J,type:"error",priority:"high",userId:"system",category:"system"}),B}finally{u(null)}},se=async $=>{const B=d.find(X=>X.id===$),J=B?`Archive ${B.name}? They will no longer appear in active lists.`:"Archive this patient?";if(window.confirm(J))try{await zt.deletePatient($),te.success(B?`Patient ${B.name} has been archived`:"Patient archived successfully"),A&&A({title:"Patient archived",message:B?`${B.name} has been marked as discharged.`:"Patient archived successfully.",type:"info",priority:"medium",userId:"system",category:"system"}),await I()}catch(X){const ie=X instanceof Error?X.message:"Failed to archive patient";te.error(ie),A&&A({title:"Archive failed",message:X instanceof Error?X.message:"Unable to archive patient.",type:"error",priority:"high",userId:"system",category:"system"})}},ye=$=>{u($),l(!0)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Patients"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage patient information and live care details."})]}),T&&a.jsx("div",{className:"mt-4 sm:mt-0",children:a.jsxs("button",{onClick:()=>i(!0),className:"btn-primary flex items-center",children:[a.jsx(Ie,{className:"mr-2 h-4 w-4"}),"Add Patient"]})})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"relative",children:[a.jsx(jt,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search patients...",value:e,onChange:$=>t($.target.value),className:"input-field pl-10"})]})}),a.jsx("div",{children:a.jsxs("select",{value:r,onChange:$=>n($.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"discharged",children:"Discharged"}),a.jsx("option",{value:"pending",children:"Pending"})]})}),a.jsx("div",{})]})}),a.jsx("div",{className:"card",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Patient"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Services"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Assigned Specialist"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Assigned Therapist"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Admission Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:f?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-10 text-center text-sm text-gray-500",children:"Loading patients..."})}):h?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-10 text-center text-sm text-red-500",children:h})}):F.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-10 text-center text-sm text-gray-500",children:"No patients match your filters yet."})}):F.map($=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[$.avatar?a.jsx("img",{src:$.avatar.startsWith("http")?$.avatar:`http://51.20.55.20:3007${$.avatar.startsWith("/")?$.avatar:"/"+$.avatar}`,alt:$.name,className:"h-10 w-10 rounded-full object-cover"}):a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary-100 text-sm font-semibold text-primary-600",children:$.name.split(" ").map(B=>B[0]).join("").slice(0,2).toUpperCase()}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.name}),a.jsx("div",{className:"text-sm text-gray-500",children:$.email})]})]})}),a.jsx("td",{className:"px-6 py-4",children:_?a.jsx("div",{className:"text-sm text-gray-500",children:"Loading..."}):(()=>{const B=V($);return B.length===0?a.jsx("div",{className:"text-sm text-gray-400",children:"No services"}):a.jsxs("div",{className:"flex flex-wrap gap-1",children:[B.slice(0,2).map(J=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-50 text-blue-700 border border-blue-200",children:J.name},J.id)),B.length>2&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-600 border border-gray-200",children:["+",B.length-2," more"]})]})})()}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(vt,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm text-gray-900",children:$.assignedSpecialistId?O.get($.assignedSpecialistId)??$.assignedSpecialistName??"Unassigned":"Unassigned"})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(vt,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm text-gray-900",children:$.assignedTherapistId?C.get($.assignedTherapistId)??$.assignedTherapistName??"Unassigned":"Unassigned"})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Te,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm text-gray-900",children:$.admissionDate?new Date($.admissionDate).toLocaleDateString():""})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`status-badge ${$.status==="active"?"status-active":$.status==="discharged"?"status-inactive":"status-pending"}`,children:$.status})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(ar,{to:`/patients/${$.id}`,className:"text-primary-600 hover:text-primary-900 inline-flex items-center",children:[a.jsx(Bt,{className:"mr-1 h-4 w-4"}),"View"]}),a.jsxs("button",{onClick:()=>ye($),className:"text-secondary-600 hover:text-secondary-900 inline-flex items-center",type:"button",children:[a.jsx(er,{className:"mr-1 h-4 w-4"}),"Edit"]}),a.jsxs("button",{onClick:()=>se($.id),className:"text-red-600 hover:text-red-900 inline-flex items-center",type:"button",children:[a.jsx(ht,{className:"mr-1 h-4 w-4"}),"Archive"]})]})})]},$.id))})]})})}),a.jsx(Ej,{isOpen:s,onClose:()=>i(!1),onSave:W,mode:"add",specialists:v,therapists:y}),a.jsx(Ej,{isOpen:o,onClose:()=>{l(!1),u(null)},onSave:ee,patient:c??void 0,mode:"edit",specialists:v,therapists:y})]})}var sD=Array.isArray,wr=sD,iD=typeof pu=="object"&&pu&&pu.Object===Object&&pu,rT=iD,oD=rT,lD=typeof self=="object"&&self&&self.Object===Object&&self,cD=oD||lD||Function("return this")(),$n=cD,uD=$n,dD=uD.Symbol,ru=dD,Pj=ru,nT=Object.prototype,mD=nT.hasOwnProperty,fD=nT.toString,rl=Pj?Pj.toStringTag:void 0;function pD(e){var t=mD.call(e,rl),r=e[rl];try{e[rl]=void 0;var n=!0}catch{}var s=fD.call(e);return n&&(t?e[rl]=r:delete e[rl]),s}var hD=pD,xD=Object.prototype,yD=xD.toString;function gD(e){return yD.call(e)}var vD=gD,Oj=ru,bD=hD,jD=vD,ND="[object Null]",wD="[object Undefined]",Cj=Oj?Oj.toStringTag:void 0;function SD(e){return e==null?e===void 0?wD:ND:Cj&&Cj in Object(e)?bD(e):jD(e)}var fa=SD;function AD(e){return e!=null&&typeof e=="object"}var pa=AD,ED=fa,TD=pa,PD="[object Symbol]";function OD(e){return typeof e=="symbol"||TD(e)&&ED(e)==PD}var Io=OD,CD=wr,_D=Io,kD=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ID=/^\w*$/;function $D(e,t){if(CD(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||_D(e)?!0:ID.test(e)||!kD.test(e)||t!=null&&e in Object(t)}var Nv=$D;function RD(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var es=RD;const $o=Be(es);var MD=fa,DD=es,LD="[object AsyncFunction]",BD="[object Function]",UD="[object GeneratorFunction]",FD="[object Proxy]";function zD(e){if(!DD(e))return!1;var t=MD(e);return t==BD||t==UD||t==LD||t==FD}var wv=zD;const ve=Be(wv);var HD=$n,VD=HD["__core-js_shared__"],qD=VD,Kp=qD,_j=function(){var e=/[^.]+$/.exec(Kp&&Kp.keys&&Kp.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function WD(e){return!!_j&&_j in e}var GD=WD,YD=Function.prototype,KD=YD.toString;function XD(e){if(e!=null){try{return KD.call(e)}catch{}try{return e+""}catch{}}return""}var aT=XD,QD=wv,JD=GD,ZD=es,e5=aT,t5=/[\\^$.*+?()[\]{}|]/g,r5=/^\[object .+?Constructor\]$/,n5=Function.prototype,a5=Object.prototype,s5=n5.toString,i5=a5.hasOwnProperty,o5=RegExp("^"+s5.call(i5).replace(t5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function l5(e){if(!ZD(e)||JD(e))return!1;var t=QD(e)?o5:r5;return t.test(e5(e))}var c5=l5;function u5(e,t){return e==null?void 0:e[t]}var d5=u5,m5=c5,f5=d5;function p5(e,t){var r=f5(e,t);return m5(r)?r:void 0}var Qs=p5,h5=Qs,x5=h5(Object,"create"),bf=x5,kj=bf;function y5(){this.__data__=kj?kj(null):{},this.size=0}var g5=y5;function v5(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var b5=v5,j5=bf,N5="__lodash_hash_undefined__",w5=Object.prototype,S5=w5.hasOwnProperty;function A5(e){var t=this.__data__;if(j5){var r=t[e];return r===N5?void 0:r}return S5.call(t,e)?t[e]:void 0}var E5=A5,T5=bf,P5=Object.prototype,O5=P5.hasOwnProperty;function C5(e){var t=this.__data__;return T5?t[e]!==void 0:O5.call(t,e)}var _5=C5,k5=bf,I5="__lodash_hash_undefined__";function $5(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=k5&&t===void 0?I5:t,this}var R5=$5,M5=g5,D5=b5,L5=E5,B5=_5,U5=R5;function Ro(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ro.prototype.clear=M5;Ro.prototype.delete=D5;Ro.prototype.get=L5;Ro.prototype.has=B5;Ro.prototype.set=U5;var F5=Ro;function z5(){this.__data__=[],this.size=0}var H5=z5;function V5(e,t){return e===t||e!==e&&t!==t}var Sv=V5,q5=Sv;function W5(e,t){for(var r=e.length;r--;)if(q5(e[r][0],t))return r;return-1}var jf=W5,G5=jf,Y5=Array.prototype,K5=Y5.splice;function X5(e){var t=this.__data__,r=G5(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():K5.call(t,r,1),--this.size,!0}var Q5=X5,J5=jf;function Z5(e){var t=this.__data__,r=J5(t,e);return r<0?void 0:t[r][1]}var eL=Z5,tL=jf;function rL(e){return tL(this.__data__,e)>-1}var nL=rL,aL=jf;function sL(e,t){var r=this.__data__,n=aL(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var iL=sL,oL=H5,lL=Q5,cL=eL,uL=nL,dL=iL;function Mo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Mo.prototype.clear=oL;Mo.prototype.delete=lL;Mo.prototype.get=cL;Mo.prototype.has=uL;Mo.prototype.set=dL;var Nf=Mo,mL=Qs,fL=$n,pL=mL(fL,"Map"),Av=pL,Ij=F5,hL=Nf,xL=Av;function yL(){this.size=0,this.__data__={hash:new Ij,map:new(xL||hL),string:new Ij}}var gL=yL;function vL(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var bL=vL,jL=bL;function NL(e,t){var r=e.__data__;return jL(t)?r[typeof t=="string"?"string":"hash"]:r.map}var wf=NL,wL=wf;function SL(e){var t=wL(this,e).delete(e);return this.size-=t?1:0,t}var AL=SL,EL=wf;function TL(e){return EL(this,e).get(e)}var PL=TL,OL=wf;function CL(e){return OL(this,e).has(e)}var _L=CL,kL=wf;function IL(e,t){var r=kL(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var $L=IL,RL=gL,ML=AL,DL=PL,LL=_L,BL=$L;function Do(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Do.prototype.clear=RL;Do.prototype.delete=ML;Do.prototype.get=DL;Do.prototype.has=LL;Do.prototype.set=BL;var Ev=Do,sT=Ev,UL="Expected a function";function Tv(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(UL);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(Tv.Cache||sT),r}Tv.Cache=sT;var iT=Tv;const FL=Be(iT);var zL=iT,HL=500;function VL(e){var t=zL(e,function(n){return r.size===HL&&r.clear(),n}),r=t.cache;return t}var qL=VL,WL=qL,GL=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,YL=/\\(\\)?/g,KL=WL(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(GL,function(r,n,s,i){t.push(s?i.replace(YL,"$1"):n||r)}),t}),XL=KL;function QL(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var Pv=QL,$j=ru,JL=Pv,ZL=wr,e6=Io,Rj=$j?$j.prototype:void 0,Mj=Rj?Rj.toString:void 0;function oT(e){if(typeof e=="string")return e;if(ZL(e))return JL(e,oT)+"";if(e6(e))return Mj?Mj.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var t6=oT,r6=t6;function n6(e){return e==null?"":r6(e)}var lT=n6,a6=wr,s6=Nv,i6=XL,o6=lT;function l6(e,t){return a6(e)?e:s6(e,t)?[e]:i6(o6(e))}var cT=l6,c6=Io;function u6(e){if(typeof e=="string"||c6(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Sf=u6,d6=cT,m6=Sf;function f6(e,t){t=d6(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[m6(t[r++])];return r&&r==n?e:void 0}var Ov=f6,p6=Ov;function h6(e,t,r){var n=e==null?void 0:p6(e,t);return n===void 0?r:n}var uT=h6;const $r=Be(uT);function x6(e){return e==null}var y6=x6;const we=Be(y6);var g6=fa,v6=wr,b6=pa,j6="[object String]";function N6(e){return typeof e=="string"||!v6(e)&&b6(e)&&g6(e)==j6}var w6=N6;const Fs=Be(w6);var dT={exports:{}},Ue={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv=Symbol.for("react.element"),_v=Symbol.for("react.portal"),Af=Symbol.for("react.fragment"),Ef=Symbol.for("react.strict_mode"),Tf=Symbol.for("react.profiler"),Pf=Symbol.for("react.provider"),Of=Symbol.for("react.context"),S6=Symbol.for("react.server_context"),Cf=Symbol.for("react.forward_ref"),_f=Symbol.for("react.suspense"),kf=Symbol.for("react.suspense_list"),If=Symbol.for("react.memo"),$f=Symbol.for("react.lazy"),A6=Symbol.for("react.offscreen"),mT;mT=Symbol.for("react.module.reference");function Zr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Cv:switch(e=e.type,e){case Af:case Tf:case Ef:case _f:case kf:return e;default:switch(e=e&&e.$$typeof,e){case S6:case Of:case Cf:case $f:case If:case Pf:return e;default:return t}}case _v:return t}}}Ue.ContextConsumer=Of;Ue.ContextProvider=Pf;Ue.Element=Cv;Ue.ForwardRef=Cf;Ue.Fragment=Af;Ue.Lazy=$f;Ue.Memo=If;Ue.Portal=_v;Ue.Profiler=Tf;Ue.StrictMode=Ef;Ue.Suspense=_f;Ue.SuspenseList=kf;Ue.isAsyncMode=function(){return!1};Ue.isConcurrentMode=function(){return!1};Ue.isContextConsumer=function(e){return Zr(e)===Of};Ue.isContextProvider=function(e){return Zr(e)===Pf};Ue.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cv};Ue.isForwardRef=function(e){return Zr(e)===Cf};Ue.isFragment=function(e){return Zr(e)===Af};Ue.isLazy=function(e){return Zr(e)===$f};Ue.isMemo=function(e){return Zr(e)===If};Ue.isPortal=function(e){return Zr(e)===_v};Ue.isProfiler=function(e){return Zr(e)===Tf};Ue.isStrictMode=function(e){return Zr(e)===Ef};Ue.isSuspense=function(e){return Zr(e)===_f};Ue.isSuspenseList=function(e){return Zr(e)===kf};Ue.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Af||e===Tf||e===Ef||e===_f||e===kf||e===A6||typeof e=="object"&&e!==null&&(e.$$typeof===$f||e.$$typeof===If||e.$$typeof===Pf||e.$$typeof===Of||e.$$typeof===Cf||e.$$typeof===mT||e.getModuleId!==void 0)};Ue.typeOf=Zr;dT.exports=Ue;var E6=dT.exports,T6=fa,P6=pa,O6="[object Number]";function C6(e){return typeof e=="number"||P6(e)&&T6(e)==O6}var fT=C6;const _6=Be(fT);var k6=fT;function I6(e){return k6(e)&&e!=+e}var $6=I6;const Lo=Be($6);var ir=function(t){return t===0?0:t>0?1:-1},Ns=function(t){return Fs(t)&&t.indexOf("%")===t.length-1},re=function(t){return _6(t)&&!Lo(t)},R6=function(t){return we(t)},Pt=function(t){return re(t)||Fs(t)},M6=0,Js=function(t){var r=++M6;return"".concat(t||"").concat(r)},or=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!re(t)&&!Fs(t))return n;var i;if(Ns(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Lo(i)&&(i=n),s&&i>r&&(i=r),i},Pa=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},D6=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},Et=function(t,r){return re(t)&&re(r)?function(n){return t+n*(r-t)}:function(){return r}};function Vd(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):$r(n,t))===r})}var L6=function(t,r){return re(t)&&re(r)?t-r:Fs(t)&&Fs(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Li(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Ux(e){"@babel/helpers - typeof";return Ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ux(e)}var B6=["viewBox","children"],U6=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Dj=["points","pathLength"],Xp={svg:B6,polygon:Dj,polyline:Dj},kv=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],qd=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(E.isValidElement(t)&&(n=t.props),!$o(n))return null;var s={};return Object.keys(n).forEach(function(i){kv.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},F6=function(t,r,n){return function(s){return t(r,n,s),null}},zs=function(t,r,n){if(!$o(t)||Ux(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];kv.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=F6(o,r,n))}),s},z6=["children"],H6=["children"];function Lj(e,t){if(e==null)return{};var r=V6(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function V6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fx(e){"@babel/helpers - typeof";return Fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fx(e)}var Bj={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Jn=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Uj=null,Qp=null,Iv=function e(t){if(t===Uj&&Array.isArray(Qp))return Qp;var r=[];return E.Children.forEach(t,function(n){we(n)||(E6.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Qp=r,Uj=t,r};function Rr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return Jn(s)}):n=[Jn(t)],Iv(e).forEach(function(s){var i=$r(s,"type.displayName")||$r(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function Pr(e,t){var r=Rr(e,t);return r&&r[0]}var Fj=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!re(n)||n<=0||!re(s)||s<=0)},q6=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],W6=function(t){return t&&t.type&&Fs(t.type)&&q6.indexOf(t.type)>=0},pT=function(t){return t&&Fx(t)==="object"&&"clipDot"in t},G6=function(t,r,n,s){var i,o=(i=Xp==null?void 0:Xp[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!ve(t)&&(s&&o.includes(r)||U6.includes(r))||n&&kv.includes(r)},me=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(E.isValidElement(t)&&(s=t.props),!$o(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;G6((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},zx=function e(t,r){if(t===r)return!0;var n=E.Children.count(t);if(n!==E.Children.count(r))return!1;if(n===0)return!0;if(n===1)return zj(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!zj(i,o))return!1}return!0},zj=function(t,r){if(we(t)&&we(r))return!0;if(!we(t)&&!we(r)){var n=t.props||{},s=n.children,i=Lj(n,z6),o=r.props||{},l=o.children,c=Lj(o,H6);return s&&l?Li(i,c)&&zx(s,l):!s&&!l?Li(i,c):!1}return!1},Hj=function(t,r){var n=[],s={};return Iv(t).forEach(function(i,o){if(W6(i))n.push(i);else if(i){var l=Jn(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var m=u(i,l,o);n.push(m),s[l]=!0}}}),n},Y6=function(t){var r=t&&t.type;return r&&Bj[r]?Bj[r]:null},K6=function(t,r){return Iv(r).indexOf(t)},X6=["children","width","height","viewBox","className","style","title","desc"];function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hx.apply(this,arguments)}function Q6(e,t){if(e==null)return{};var r=J6(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function J6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vx(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=Q6(e,X6),d=s||{width:r,height:n,x:0,y:0},m=be("recharts-surface",i);return L.createElement("svg",Hx({},me(u,!0,"svg"),{className:m,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),L.createElement("title",null,l),L.createElement("desc",null,c),t)}var Z6=["children","className"];function qx(){return qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qx.apply(this,arguments)}function e3(e,t){if(e==null)return{};var r=t3(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function t3(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Oe=L.forwardRef(function(e,t){var r=e.children,n=e.className,s=e3(e,Z6),i=be("recharts-layer",n);return L.createElement("g",qx({className:i},me(s,!0),{ref:t}),r)}),hn=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function r3(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++n<s;)i[n]=e[n+t];return i}var n3=r3,a3=n3;function s3(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:a3(e,t,r)}var i3=s3,o3="\\ud800-\\udfff",l3="\\u0300-\\u036f",c3="\\ufe20-\\ufe2f",u3="\\u20d0-\\u20ff",d3=l3+c3+u3,m3="\\ufe0e\\ufe0f",f3="\\u200d",p3=RegExp("["+f3+o3+d3+m3+"]");function h3(e){return p3.test(e)}var hT=h3;function x3(e){return e.split("")}var y3=x3,xT="\\ud800-\\udfff",g3="\\u0300-\\u036f",v3="\\ufe20-\\ufe2f",b3="\\u20d0-\\u20ff",j3=g3+v3+b3,N3="\\ufe0e\\ufe0f",w3="["+xT+"]",Wx="["+j3+"]",Gx="\\ud83c[\\udffb-\\udfff]",S3="(?:"+Wx+"|"+Gx+")",yT="[^"+xT+"]",gT="(?:\\ud83c[\\udde6-\\uddff]){2}",vT="[\\ud800-\\udbff][\\udc00-\\udfff]",A3="\\u200d",bT=S3+"?",jT="["+N3+"]?",E3="(?:"+A3+"(?:"+[yT,gT,vT].join("|")+")"+jT+bT+")*",T3=jT+bT+E3,P3="(?:"+[yT+Wx+"?",Wx,gT,vT,w3].join("|")+")",O3=RegExp(Gx+"(?="+Gx+")|"+P3+T3,"g");function C3(e){return e.match(O3)||[]}var _3=C3,k3=y3,I3=hT,$3=_3;function R3(e){return I3(e)?$3(e):k3(e)}var M3=R3,D3=i3,L3=hT,B3=M3,U3=lT;function F3(e){return function(t){t=U3(t);var r=L3(t)?B3(t):void 0,n=r?r[0]:t.charAt(0),s=r?D3(r,1).join(""):t.slice(1);return n[e]()+s}}var z3=F3,H3=z3,V3=H3("toUpperCase"),q3=V3;const Rf=Be(q3);function qe(e){return function(){return e}}const NT=Math.cos,Wd=Math.sin,vn=Math.sqrt,Gd=Math.PI,Mf=2*Gd,Yx=Math.PI,Kx=2*Yx,ds=1e-6,W3=Kx-ds;function wT(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function G3(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return wT;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class Y3{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?wT:G3(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,d=o-t,m=l-r,f=d*d+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>ds)if(!(Math.abs(m*c-u*d)>ds)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,h=s-l,g=c*c+u*u,v=p*p+h*h,x=Math.sqrt(g),y=Math.sqrt(f),b=i*Math.tan((Yx-Math.acos((g+f-v)/(2*x*y)))/2),N=b/y,j=b/x;Math.abs(N-1)>ds&&this._append`L${t+N*d},${r+N*m}`,this._append`A${i},${i},0,0,${+(m*p>d*h)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,m=1^o,f=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ds||Math.abs(this._y1-d)>ds)&&this._append`L${u},${d}`,n&&(f<0&&(f=f%Kx+Kx),f>W3?this._append`A${n},${n},0,1,${m},${t-l},${r-c}A${n},${n},0,1,${m},${this._x1=u},${this._y1=d}`:f>ds&&this._append`A${n},${n},0,${+(f>=Yx)},${m},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function $v(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Y3(t)}function Rv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ST(e){this._context=e}ST.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Df(e){return new ST(e)}function AT(e){return e[0]}function ET(e){return e[1]}function TT(e,t){var r=qe(!0),n=null,s=Df,i=null,o=$v(l);e=typeof e=="function"?e:e===void 0?AT:qe(e),t=typeof t=="function"?t:t===void 0?ET:qe(t);function l(c){var u,d=(c=Rv(c)).length,m,f=!1,p;for(n==null&&(i=s(p=o())),u=0;u<=d;++u)!(u<d&&r(m=c[u],u,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(m,u,c),+t(m,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:qe(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:qe(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:qe(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function Lu(e,t,r){var n=null,s=qe(!0),i=null,o=Df,l=null,c=$v(u);e=typeof e=="function"?e:e===void 0?AT:qe(+e),t=typeof t=="function"?t:qe(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?ET:qe(+r);function u(m){var f,p,h,g=(m=Rv(m)).length,v,x=!1,y,b=new Array(g),N=new Array(g);for(i==null&&(l=o(y=c())),f=0;f<=g;++f){if(!(f<g&&s(v=m[f],f,m))===x)if(x=!x)p=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),h=f-1;h>=p;--h)l.point(b[h],N[h]);l.lineEnd(),l.areaEnd()}x&&(b[f]=+e(v,f,m),N[f]=+t(v,f,m),l.point(n?+n(v,f,m):b[f],r?+r(v,f,m):N[f]))}if(y)return l=null,y+""||null}function d(){return TT().defined(s).curve(o).context(i)}return u.x=function(m){return arguments.length?(e=typeof m=="function"?m:qe(+m),n=null,u):e},u.x0=function(m){return arguments.length?(e=typeof m=="function"?m:qe(+m),u):e},u.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:qe(+m),u):n},u.y=function(m){return arguments.length?(t=typeof m=="function"?m:qe(+m),r=null,u):t},u.y0=function(m){return arguments.length?(t=typeof m=="function"?m:qe(+m),u):t},u.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:qe(+m),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(m){return arguments.length?(s=typeof m=="function"?m:qe(!!m),u):s},u.curve=function(m){return arguments.length?(o=m,i!=null&&(l=o(i)),u):o},u.context=function(m){return arguments.length?(m==null?i=l=null:l=o(i=m),u):i},u}class PT{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function K3(e){return new PT(e,!0)}function X3(e){return new PT(e,!1)}const Mv={draw(e,t){const r=vn(t/Gd);e.moveTo(r,0),e.arc(0,0,r,0,Mf)}},Q3={draw(e,t){const r=vn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},OT=vn(1/3),J3=OT*2,Z3={draw(e,t){const r=vn(t/J3),n=r*OT;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},eB={draw(e,t){const r=vn(t),n=-r/2;e.rect(n,n,r,r)}},tB=.8908130915292852,CT=Wd(Gd/10)/Wd(7*Gd/10),rB=Wd(Mf/10)*CT,nB=-NT(Mf/10)*CT,aB={draw(e,t){const r=vn(t*tB),n=rB*r,s=nB*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=Mf*i/5,l=NT(o),c=Wd(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},Jp=vn(3),sB={draw(e,t){const r=-vn(t/(Jp*3));e.moveTo(0,r*2),e.lineTo(-Jp*r,-r),e.lineTo(Jp*r,-r),e.closePath()}},Br=-.5,Ur=vn(3)/2,Xx=1/vn(12),iB=(Xx/2+1)*3,oB={draw(e,t){const r=vn(t/iB),n=r/2,s=r*Xx,i=n,o=r*Xx+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Br*n-Ur*s,Ur*n+Br*s),e.lineTo(Br*i-Ur*o,Ur*i+Br*o),e.lineTo(Br*l-Ur*c,Ur*l+Br*c),e.lineTo(Br*n+Ur*s,Br*s-Ur*n),e.lineTo(Br*i+Ur*o,Br*o-Ur*i),e.lineTo(Br*l+Ur*c,Br*c-Ur*l),e.closePath()}};function lB(e,t){let r=null,n=$v(s);e=typeof e=="function"?e:qe(e||Mv),t=typeof t=="function"?t:qe(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:qe(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:qe(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Yd(){}function Kd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function _T(e){this._context=e}_T.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Kd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Kd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cB(e){return new _T(e)}function kT(e){this._context=e}kT.prototype={areaStart:Yd,areaEnd:Yd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Kd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uB(e){return new kT(e)}function IT(e){this._context=e}IT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Kd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dB(e){return new IT(e)}function $T(e){this._context=e}$T.prototype={areaStart:Yd,areaEnd:Yd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function mB(e){return new $T(e)}function Vj(e){return e<0?-1:1}function qj(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(Vj(i)+Vj(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function Wj(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Zp(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function Xd(e){this._context=e}Xd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Zp(this,this._t0,Wj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Zp(this,Wj(this,r=qj(this,e,t)),r);break;default:Zp(this,this._t0,r=qj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function RT(e){this._context=new MT(e)}(RT.prototype=Object.create(Xd.prototype)).point=function(e,t){Xd.prototype.point.call(this,t,e)};function MT(e){this._context=e}MT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function fB(e){return new Xd(e)}function pB(e){return new RT(e)}function DT(e){this._context=e}DT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Gj(e),s=Gj(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Gj(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function hB(e){return new DT(e)}function Lf(e,t){this._context=e,this._t=t}Lf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function xB(e){return new Lf(e,.5)}function yB(e){return new Lf(e,0)}function gB(e){return new Lf(e,1)}function Qi(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Qx(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function vB(e,t){return e[t]}function bB(e){const t=[];return t.key=e,t}function jB(){var e=qe([]),t=Qx,r=Qi,n=vB;function s(i){var o=Array.from(e.apply(this,arguments),bB),l,c=o.length,u=-1,d;for(const m of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(m,o[l].key,u,i)]).data=m;for(l=0,d=Rv(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:qe(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:qe(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?Qx:typeof i=="function"?i:qe(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Qi,s):r},s}function NB(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}Qi(e,t)}}function wB(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Qi(e,t)}}function SB(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],m=d[n][1]||0,f=d[n-1][1]||0,p=(m-f)/2,h=0;h<l;++h){var g=e[t[h]],v=g[n][1]||0,x=g[n-1][1]||0;p+=v-x}c+=m,u+=p*m}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,Qi(e,t)}}function lc(e){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(e)}var AB=["type","size","sizeType"];function Jx(){return Jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jx.apply(this,arguments)}function Yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Kj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yj(Object(r),!0).forEach(function(n){EB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EB(e,t,r){return t=TB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TB(e){var t=PB(e,"string");return lc(t)=="symbol"?t:t+""}function PB(e,t){if(lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OB(e,t){if(e==null)return{};var r=CB(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var LT={symbolCircle:Mv,symbolCross:Q3,symbolDiamond:Z3,symbolSquare:eB,symbolStar:aB,symbolTriangle:sB,symbolWye:oB},_B=Math.PI/180,kB=function(t){var r="symbol".concat(Rf(t));return LT[r]||Mv},IB=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*_B;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},$B=function(t,r){LT["symbol".concat(Rf(t))]=r},Dv=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=OB(t,AB),u=Kj(Kj({},c),{},{type:n,size:i,sizeType:l}),d=function(){var v=kB(n),x=lB().type(v).size(IB(i,l,n));return x()},m=u.className,f=u.cx,p=u.cy,h=me(u,!0);return f===+f&&p===+p&&i===+i?L.createElement("path",Jx({},h,{className:be("recharts-symbols",m),transform:"translate(".concat(f,", ").concat(p,")"),d:d()})):null};Dv.registerSymbol=$B;function Ji(e){"@babel/helpers - typeof";return Ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ji(e)}function Zx(){return Zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zx.apply(this,arguments)}function Xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function RB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(r),!0).forEach(function(n){cc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UT(n.key),n)}}function LB(e,t,r){return t&&DB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BB(e,t,r){return t=Qd(t),UB(e,BT()?Reflect.construct(t,r||[],Qd(e).constructor):t.apply(e,r))}function UB(e,t){if(t&&(Ji(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FB(e)}function FB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BT=function(){return!!e})()}function Qd(e){return Qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qd(e)}function zB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ey(e,t)}function ey(e,t){return ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ey(e,t)}function cc(e,t,r){return t=UT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UT(e){var t=HB(e,"string");return Ji(t)=="symbol"?t:t+""}function HB(e,t){if(Ji(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ji(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fr=32,Lv=function(e){function t(){return MB(this,t),BB(this,t,arguments)}return zB(t,e),LB(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=Fr/2,o=Fr/6,l=Fr/3,c=n.inactive?s:n.color;if(n.type==="plainline")return L.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Fr,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return L.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Fr,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return L.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Fr/8,"h").concat(Fr,"v").concat(Fr*3/4,"h").concat(-Fr,"z"),className:"recharts-legend-icon"});if(L.isValidElement(n.legendIcon)){var u=RB({},n);return delete u.legendIcon,L.cloneElement(n.legendIcon,u)}return L.createElement(Dv,{fill:c,cx:i,cy:i,size:Fr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:Fr,height:Fr},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,h){var g=p.formatter||c,v=be(cc(cc({"recharts-legend-item":!0},"legend-item-".concat(h),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=ve(p.value)?null:p.value;hn(!ve(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return L.createElement("li",Zx({className:v,style:m,key:"legend-item-".concat(h)},zs(n.props,p,h)),L.createElement(Vx,{width:o,height:o,viewBox:d,style:f},n.renderIcon(p)),L.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g?g(x,p,h):x))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return L.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(E.PureComponent);cc(Lv,"displayName","Legend");cc(Lv,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var VB=Nf;function qB(){this.__data__=new VB,this.size=0}var WB=qB;function GB(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var YB=GB;function KB(e){return this.__data__.get(e)}var XB=KB;function QB(e){return this.__data__.has(e)}var JB=QB,ZB=Nf,eU=Av,tU=Ev,rU=200;function nU(e,t){var r=this.__data__;if(r instanceof ZB){var n=r.__data__;if(!eU||n.length<rU-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new tU(n)}return r.set(e,t),this.size=r.size,this}var aU=nU,sU=Nf,iU=WB,oU=YB,lU=XB,cU=JB,uU=aU;function Bo(e){var t=this.__data__=new sU(e);this.size=t.size}Bo.prototype.clear=iU;Bo.prototype.delete=oU;Bo.prototype.get=lU;Bo.prototype.has=cU;Bo.prototype.set=uU;var FT=Bo,dU="__lodash_hash_undefined__";function mU(e){return this.__data__.set(e,dU),this}var fU=mU;function pU(e){return this.__data__.has(e)}var hU=pU,xU=Ev,yU=fU,gU=hU;function Jd(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new xU;++t<r;)this.add(e[t])}Jd.prototype.add=Jd.prototype.push=yU;Jd.prototype.has=gU;var zT=Jd;function vU(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var HT=vU;function bU(e,t){return e.has(t)}var VT=bU,jU=zT,NU=HT,wU=VT,SU=1,AU=2;function EU(e,t,r,n,s,i){var o=r&SU,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var m=-1,f=!0,p=r&AU?new jU:void 0;for(i.set(e,t),i.set(t,e);++m<l;){var h=e[m],g=t[m];if(n)var v=o?n(g,h,m,t,e,i):n(h,g,m,e,t,i);if(v!==void 0){if(v)continue;f=!1;break}if(p){if(!NU(t,function(x,y){if(!wU(p,y)&&(h===x||s(h,x,r,n,i)))return p.push(y)})){f=!1;break}}else if(!(h===g||s(h,g,r,n,i))){f=!1;break}}return i.delete(e),i.delete(t),f}var qT=EU,TU=$n,PU=TU.Uint8Array,OU=PU;function CU(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var _U=CU;function kU(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Bv=kU,Qj=ru,Jj=OU,IU=Sv,$U=qT,RU=_U,MU=Bv,DU=1,LU=2,BU="[object Boolean]",UU="[object Date]",FU="[object Error]",zU="[object Map]",HU="[object Number]",VU="[object RegExp]",qU="[object Set]",WU="[object String]",GU="[object Symbol]",YU="[object ArrayBuffer]",KU="[object DataView]",Zj=Qj?Qj.prototype:void 0,eh=Zj?Zj.valueOf:void 0;function XU(e,t,r,n,s,i,o){switch(r){case KU:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case YU:return!(e.byteLength!=t.byteLength||!i(new Jj(e),new Jj(t)));case BU:case UU:case HU:return IU(+e,+t);case FU:return e.name==t.name&&e.message==t.message;case VU:case WU:return e==t+"";case zU:var l=RU;case qU:var c=n&DU;if(l||(l=MU),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=LU,o.set(e,t);var d=$U(l(e),l(t),n,s,i,o);return o.delete(e),d;case GU:if(eh)return eh.call(e)==eh.call(t)}return!1}var QU=XU;function JU(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var WT=JU,ZU=WT,eF=wr;function tF(e,t,r){var n=t(e);return eF(e)?n:ZU(n,r(e))}var rF=tF;function nF(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var aF=nF;function sF(){return[]}var iF=sF,oF=aF,lF=iF,cF=Object.prototype,uF=cF.propertyIsEnumerable,eN=Object.getOwnPropertySymbols,dF=eN?function(e){return e==null?[]:(e=Object(e),oF(eN(e),function(t){return uF.call(e,t)}))}:lF,mF=dF;function fF(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var pF=fF,hF=fa,xF=pa,yF="[object Arguments]";function gF(e){return xF(e)&&hF(e)==yF}var vF=gF,tN=vF,bF=pa,GT=Object.prototype,jF=GT.hasOwnProperty,NF=GT.propertyIsEnumerable,wF=tN(function(){return arguments}())?tN:function(e){return bF(e)&&jF.call(e,"callee")&&!NF.call(e,"callee")},Uv=wF,Zd={exports:{}};function SF(){return!1}var AF=SF;Zd.exports;(function(e,t){var r=$n,n=AF,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Zd,Zd.exports);var YT=Zd.exports,EF=9007199254740991,TF=/^(?:0|[1-9]\d*)$/;function PF(e,t){var r=typeof e;return t=t??EF,!!t&&(r=="number"||r!="symbol"&&TF.test(e))&&e>-1&&e%1==0&&e<t}var Fv=PF,OF=9007199254740991;function CF(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=OF}var zv=CF,_F=fa,kF=zv,IF=pa,$F="[object Arguments]",RF="[object Array]",MF="[object Boolean]",DF="[object Date]",LF="[object Error]",BF="[object Function]",UF="[object Map]",FF="[object Number]",zF="[object Object]",HF="[object RegExp]",VF="[object Set]",qF="[object String]",WF="[object WeakMap]",GF="[object ArrayBuffer]",YF="[object DataView]",KF="[object Float32Array]",XF="[object Float64Array]",QF="[object Int8Array]",JF="[object Int16Array]",ZF="[object Int32Array]",e8="[object Uint8Array]",t8="[object Uint8ClampedArray]",r8="[object Uint16Array]",n8="[object Uint32Array]",Ke={};Ke[KF]=Ke[XF]=Ke[QF]=Ke[JF]=Ke[ZF]=Ke[e8]=Ke[t8]=Ke[r8]=Ke[n8]=!0;Ke[$F]=Ke[RF]=Ke[GF]=Ke[MF]=Ke[YF]=Ke[DF]=Ke[LF]=Ke[BF]=Ke[UF]=Ke[FF]=Ke[zF]=Ke[HF]=Ke[VF]=Ke[qF]=Ke[WF]=!1;function a8(e){return IF(e)&&kF(e.length)&&!!Ke[_F(e)]}var s8=a8;function i8(e){return function(t){return e(t)}}var KT=i8,em={exports:{}};em.exports;(function(e,t){var r=rT,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(em,em.exports);var o8=em.exports,l8=s8,c8=KT,rN=o8,nN=rN&&rN.isTypedArray,u8=nN?c8(nN):l8,XT=u8,d8=pF,m8=Uv,f8=wr,p8=YT,h8=Fv,x8=XT,y8=Object.prototype,g8=y8.hasOwnProperty;function v8(e,t){var r=f8(e),n=!r&&m8(e),s=!r&&!n&&p8(e),i=!r&&!n&&!s&&x8(e),o=r||n||s||i,l=o?d8(e.length,String):[],c=l.length;for(var u in e)(t||g8.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||h8(u,c)))&&l.push(u);return l}var b8=v8,j8=Object.prototype;function N8(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||j8;return e===r}var w8=N8;function S8(e,t){return function(r){return e(t(r))}}var QT=S8,A8=QT,E8=A8(Object.keys,Object),T8=E8,P8=w8,O8=T8,C8=Object.prototype,_8=C8.hasOwnProperty;function k8(e){if(!P8(e))return O8(e);var t=[];for(var r in Object(e))_8.call(e,r)&&r!="constructor"&&t.push(r);return t}var I8=k8,$8=wv,R8=zv;function M8(e){return e!=null&&R8(e.length)&&!$8(e)}var nu=M8,D8=b8,L8=I8,B8=nu;function U8(e){return B8(e)?D8(e):L8(e)}var Bf=U8,F8=rF,z8=mF,H8=Bf;function V8(e){return F8(e,H8,z8)}var q8=V8,aN=q8,W8=1,G8=Object.prototype,Y8=G8.hasOwnProperty;function K8(e,t,r,n,s,i){var o=r&W8,l=aN(e),c=l.length,u=aN(t),d=u.length;if(c!=d&&!o)return!1;for(var m=c;m--;){var f=l[m];if(!(o?f in t:Y8.call(t,f)))return!1}var p=i.get(e),h=i.get(t);if(p&&h)return p==t&&h==e;var g=!0;i.set(e,t),i.set(t,e);for(var v=o;++m<c;){f=l[m];var x=e[f],y=t[f];if(n)var b=o?n(y,x,f,t,e,i):n(x,y,f,e,t,i);if(!(b===void 0?x===y||s(x,y,r,n,i):b)){g=!1;break}v||(v=f=="constructor")}if(g&&!v){var N=e.constructor,j=t.constructor;N!=j&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof j=="function"&&j instanceof j)&&(g=!1)}return i.delete(e),i.delete(t),g}var X8=K8,Q8=Qs,J8=$n,Z8=Q8(J8,"DataView"),e7=Z8,t7=Qs,r7=$n,n7=t7(r7,"Promise"),a7=n7,s7=Qs,i7=$n,o7=s7(i7,"Set"),JT=o7,l7=Qs,c7=$n,u7=l7(c7,"WeakMap"),d7=u7,ty=e7,ry=Av,ny=a7,ay=JT,sy=d7,ZT=fa,Uo=aT,sN="[object Map]",m7="[object Object]",iN="[object Promise]",oN="[object Set]",lN="[object WeakMap]",cN="[object DataView]",f7=Uo(ty),p7=Uo(ry),h7=Uo(ny),x7=Uo(ay),y7=Uo(sy),ms=ZT;(ty&&ms(new ty(new ArrayBuffer(1)))!=cN||ry&&ms(new ry)!=sN||ny&&ms(ny.resolve())!=iN||ay&&ms(new ay)!=oN||sy&&ms(new sy)!=lN)&&(ms=function(e){var t=ZT(e),r=t==m7?e.constructor:void 0,n=r?Uo(r):"";if(n)switch(n){case f7:return cN;case p7:return sN;case h7:return iN;case x7:return oN;case y7:return lN}return t});var g7=ms,th=FT,v7=qT,b7=QU,j7=X8,uN=g7,dN=wr,mN=YT,N7=XT,w7=1,fN="[object Arguments]",pN="[object Array]",Bu="[object Object]",S7=Object.prototype,hN=S7.hasOwnProperty;function A7(e,t,r,n,s,i){var o=dN(e),l=dN(t),c=o?pN:uN(e),u=l?pN:uN(t);c=c==fN?Bu:c,u=u==fN?Bu:u;var d=c==Bu,m=u==Bu,f=c==u;if(f&&mN(e)){if(!mN(t))return!1;o=!0,d=!1}if(f&&!d)return i||(i=new th),o||N7(e)?v7(e,t,r,n,s,i):b7(e,t,c,r,n,s,i);if(!(r&w7)){var p=d&&hN.call(e,"__wrapped__"),h=m&&hN.call(t,"__wrapped__");if(p||h){var g=p?e.value():e,v=h?t.value():t;return i||(i=new th),s(g,v,r,n,i)}}return f?(i||(i=new th),j7(e,t,r,n,s,i)):!1}var E7=A7,T7=E7,xN=pa;function eP(e,t,r,n,s){return e===t?!0:e==null||t==null||!xN(e)&&!xN(t)?e!==e&&t!==t:T7(e,t,r,n,eP,s)}var Hv=eP,P7=FT,O7=Hv,C7=1,_7=2;function k7(e,t,r,n){var s=r.length,i=s,o=!n;if(e==null)return!i;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=r[s];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var m=new P7;if(n)var f=n(u,d,c,e,t,m);if(!(f===void 0?O7(d,u,C7|_7,n,m):f))return!1}}return!0}var I7=k7,$7=es;function R7(e){return e===e&&!$7(e)}var tP=R7,M7=tP,D7=Bf;function L7(e){for(var t=D7(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,M7(s)]}return t}var B7=L7;function U7(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var rP=U7,F7=I7,z7=B7,H7=rP;function V7(e){var t=z7(e);return t.length==1&&t[0][2]?H7(t[0][0],t[0][1]):function(r){return r===e||F7(r,e,t)}}var q7=V7;function W7(e,t){return e!=null&&t in Object(e)}var G7=W7,Y7=cT,K7=Uv,X7=wr,Q7=Fv,J7=zv,Z7=Sf;function ez(e,t,r){t=Y7(t,e);for(var n=-1,s=t.length,i=!1;++n<s;){var o=Z7(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=s?i:(s=e==null?0:e.length,!!s&&J7(s)&&Q7(o,s)&&(X7(e)||K7(e)))}var tz=ez,rz=G7,nz=tz;function az(e,t){return e!=null&&nz(e,t,rz)}var sz=az,iz=Hv,oz=uT,lz=sz,cz=Nv,uz=tP,dz=rP,mz=Sf,fz=1,pz=2;function hz(e,t){return cz(e)&&uz(t)?dz(mz(e),t):function(r){var n=oz(r,e);return n===void 0&&n===t?lz(r,e):iz(t,n,fz|pz)}}var xz=hz;function yz(e){return e}var Fo=yz;function gz(e){return function(t){return t==null?void 0:t[e]}}var vz=gz,bz=Ov;function jz(e){return function(t){return bz(t,e)}}var Nz=jz,wz=vz,Sz=Nz,Az=Nv,Ez=Sf;function Tz(e){return Az(e)?wz(Ez(e)):Sz(e)}var Pz=Tz,Oz=q7,Cz=xz,_z=Fo,kz=wr,Iz=Pz;function $z(e){return typeof e=="function"?e:e==null?_z:typeof e=="object"?kz(e)?Cz(e[0],e[1]):Oz(e):Iz(e)}var Rn=$z;function Rz(e,t,r,n){for(var s=e.length,i=r+(n?1:-1);n?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var nP=Rz;function Mz(e){return e!==e}var Dz=Mz;function Lz(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var Bz=Lz,Uz=nP,Fz=Dz,zz=Bz;function Hz(e,t,r){return t===t?zz(e,t,r):Uz(e,Fz,r)}var Vz=Hz,qz=Vz;function Wz(e,t){var r=e==null?0:e.length;return!!r&&qz(e,t,0)>-1}var Gz=Wz;function Yz(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var Kz=Yz;function Xz(){}var Qz=Xz,rh=JT,Jz=Qz,Zz=Bv,e9=1/0,t9=rh&&1/Zz(new rh([,-0]))[1]==e9?function(e){return new rh(e)}:Jz,r9=t9,n9=zT,a9=Gz,s9=Kz,i9=VT,o9=r9,l9=Bv,c9=200;function u9(e,t,r){var n=-1,s=a9,i=e.length,o=!0,l=[],c=l;if(r)o=!1,s=s9;else if(i>=c9){var u=t?null:o9(e);if(u)return l9(u);o=!1,s=i9,c=new n9}else c=t?[]:l;e:for(;++n<i;){var d=e[n],m=t?t(d):d;if(d=r||d!==0?d:0,o&&m===m){for(var f=c.length;f--;)if(c[f]===m)continue e;t&&c.push(m),l.push(d)}else s(c,m,r)||(c!==l&&c.push(m),l.push(d))}return l}var d9=u9,m9=Rn,f9=d9;function p9(e,t){return e&&e.length?f9(e,m9(t)):[]}var h9=p9;const yN=Be(h9);function aP(e,t,r){return t===!0?yN(e,r):ve(t)?yN(e,t):e}function Zi(e){"@babel/helpers - typeof";return Zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zi(e)}var x9=["ref"];function gN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gN(Object(r),!0).forEach(function(n){Uf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iP(n.key),n)}}function g9(e,t,r){return t&&vN(e.prototype,t),r&&vN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v9(e,t,r){return t=tm(t),b9(e,sP()?Reflect.construct(t,r||[],tm(e).constructor):t.apply(e,r))}function b9(e,t){if(t&&(Zi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j9(e)}function j9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sP=function(){return!!e})()}function tm(e){return tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tm(e)}function N9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iy(e,t)}function iy(e,t){return iy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},iy(e,t)}function Uf(e,t,r){return t=iP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iP(e){var t=w9(e,"string");return Zi(t)=="symbol"?t:t+""}function w9(e,t){if(Zi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function S9(e,t){if(e==null)return{};var r=A9(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function A9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function E9(e){return e.value}function T9(e,t){if(L.isValidElement(e))return L.cloneElement(e,t);if(typeof e=="function")return L.createElement(e,t);t.ref;var r=S9(t,x9);return L.createElement(Lv,r)}var bN=1,Bi=function(e){function t(){var r;y9(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=v9(this,t,[].concat(s)),Uf(r,"lastBoundingBox",{width:-1,height:-1}),r}return N9(t,e),g9(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>bN||Math.abs(s.height-this.lastBoundingBox.height)>bN)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Dn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,m,f;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();m={left:((u||0)-p.width)/2}}else m=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var h=this.getBBoxSnapshot();f={top:((d||0)-h.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Dn(Dn({},m),f)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,m=Dn(Dn({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return L.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(p){n.wrapperNode=p}},T9(i,Dn(Dn({},this.props),{},{payload:aP(d,u,E9)})))}}],[{key:"getWithHeight",value:function(n,s){var i=Dn(Dn({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&re(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(E.PureComponent);Uf(Bi,"displayName","Legend");Uf(Bi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var jN=ru,P9=Uv,O9=wr,NN=jN?jN.isConcatSpreadable:void 0;function C9(e){return O9(e)||P9(e)||!!(NN&&e&&e[NN])}var _9=C9,k9=WT,I9=_9;function oP(e,t,r,n,s){var i=-1,o=e.length;for(r||(r=I9),s||(s=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?oP(l,t-1,r,n,s):k9(s,l):n||(s[s.length]=l)}return s}var lP=oP;function $9(e){return function(t,r,n){for(var s=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++s];if(r(i[c],c,i)===!1)break}return t}}var R9=$9,M9=R9,D9=M9(),L9=D9,B9=L9,U9=Bf;function F9(e,t){return e&&B9(e,t,U9)}var cP=F9,z9=nu;function H9(e,t){return function(r,n){if(r==null)return r;if(!z9(r))return e(r,n);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&n(o[i],i,o)!==!1;);return r}}var V9=H9,q9=cP,W9=V9,G9=W9(q9),Vv=G9,Y9=Vv,K9=nu;function X9(e,t){var r=-1,n=K9(e)?Array(e.length):[];return Y9(e,function(s,i,o){n[++r]=t(s,i,o)}),n}var uP=X9;function Q9(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var J9=Q9,wN=Io;function Z9(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,i=wN(e),o=t!==void 0,l=t===null,c=t===t,u=wN(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!i&&!u&&e<t||u&&r&&s&&!n&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}var eH=Z9,tH=eH;function rH(e,t,r){for(var n=-1,s=e.criteria,i=t.criteria,o=s.length,l=r.length;++n<o;){var c=tH(s[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var nH=rH,nh=Pv,aH=Ov,sH=Rn,iH=uP,oH=J9,lH=KT,cH=nH,uH=Fo,dH=wr;function mH(e,t,r){t.length?t=nh(t,function(i){return dH(i)?function(o){return aH(o,i.length===1?i[0]:i)}:i}):t=[uH];var n=-1;t=nh(t,lH(sH));var s=iH(e,function(i,o,l){var c=nh(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return oH(s,function(i,o){return cH(i,o,r)})}var fH=mH;function pH(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var hH=pH,xH=hH,SN=Math.max;function yH(e,t,r){return t=SN(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=SN(n.length-t,0),o=Array(i);++s<i;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(o),xH(e,this,l)}}var gH=yH;function vH(e){return function(){return e}}var bH=vH,jH=Qs,NH=function(){try{var e=jH(Object,"defineProperty");return e({},"",{}),e}catch{}}(),dP=NH,wH=bH,AN=dP,SH=Fo,AH=AN?function(e,t){return AN(e,"toString",{configurable:!0,enumerable:!1,value:wH(t),writable:!0})}:SH,EH=AH,TH=800,PH=16,OH=Date.now;function CH(e){var t=0,r=0;return function(){var n=OH(),s=PH-(n-r);if(r=n,s>0){if(++t>=TH)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var _H=CH,kH=EH,IH=_H,$H=IH(kH),RH=$H,MH=Fo,DH=gH,LH=RH;function BH(e,t){return LH(DH(e,t,MH),e+"")}var UH=BH,FH=Sv,zH=nu,HH=Fv,VH=es;function qH(e,t,r){if(!VH(r))return!1;var n=typeof t;return(n=="number"?zH(r)&&HH(t,r.length):n=="string"&&t in r)?FH(r[t],e):!1}var Ff=qH,WH=lP,GH=fH,YH=UH,EN=Ff,KH=YH(function(e,t){if(e==null)return[];var r=t.length;return r>1&&EN(e,t[0],t[1])?t=[]:r>2&&EN(t[0],t[1],t[2])&&(t=[t[0]]),GH(e,WH(t,1),[])}),XH=KH;const qv=Be(XH);function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}function oy(){return oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oy.apply(this,arguments)}function QH(e,t){return tV(e)||eV(e,t)||ZH(e,t)||JH()}function JH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZH(e,t){if(e){if(typeof e=="string")return TN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TN(e,t)}}function TN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function tV(e){if(Array.isArray(e))return e}function PN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ah(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PN(Object(r),!0).forEach(function(n){rV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rV(e,t,r){return t=nV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nV(e){var t=aV(e,"string");return uc(t)=="symbol"?t:t+""}function aV(e,t){if(uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sV(e){return Array.isArray(e)&&Pt(e[0])&&Pt(e[1])?e.join(" ~ "):e}var iV=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,m=t.formatter,f=t.itemSorter,p=t.wrapperClassName,h=t.labelClassName,g=t.label,v=t.labelFormatter,x=t.accessibilityLayer,y=x===void 0?!1:x,b=function(){if(d&&d.length){var k={padding:0,margin:0},O=(f?qv(d,f):d).map(function(C,D){if(C.type==="none")return null;var U=ah({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},l),z=C.formatter||m||sV,I=C.value,R=C.name,F=I,V=R;if(z&&F!=null&&V!=null){var W=z(I,R,C,D,d);if(Array.isArray(W)){var ee=QH(W,2);F=ee[0],V=ee[1]}else F=W}return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:U},Pt(V)?L.createElement("span",{className:"recharts-tooltip-item-name"},V):null,Pt(V)?L.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,L.createElement("span",{className:"recharts-tooltip-item-value"},F),L.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:k},O)}return null},N=ah({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=ah({margin:0},u),w=!we(g),A=w?g:"",T=be("recharts-default-tooltip",p),S=be("recharts-tooltip-label",h);w&&v&&d!==void 0&&d!==null&&(A=v(g,d));var _=y?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",oy({className:T,style:N},_),L.createElement("p",{className:S,style:j},L.isValidElement(A)?A:"".concat(A)),b())};function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function Uu(e,t,r){return t=oV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oV(e){var t=lV(e,"string");return dc(t)=="symbol"?t:t+""}function lV(e,t){if(dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nl="recharts-tooltip-wrapper",cV={visibility:"hidden"};function uV(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return be(nl,Uu(Uu(Uu(Uu({},"".concat(nl,"-right"),re(r)&&t&&re(t.x)&&r>=t.x),"".concat(nl,"-left"),re(r)&&t&&re(t.x)&&r<t.x),"".concat(nl,"-bottom"),re(n)&&t&&re(t.y)&&n>=t.y),"".concat(nl,"-top"),re(n)&&t&&re(t.y)&&n<t.y))}function ON(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&re(i[n]))return i[n];var d=r[n]-l-s,m=r[n]+s;if(t[n])return o[n]?d:m;if(o[n]){var f=d,p=c[n];return f<p?Math.max(m,c[n]):Math.max(d,c[n])}var h=m+l,g=c[n]+u;return h>g?Math.max(d,c[n]):Math.max(m,c[n])}function dV(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function mV(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,m;return o.height>0&&o.width>0&&r?(d=ON({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=ON({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=dV({translateX:d,translateY:m,useTranslate3d:l})):u=cV,{cssProperties:u,cssClasses:uV({translateX:d,translateY:m,coordinate:r})}}function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}function CN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _N(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CN(Object(r),!0).forEach(function(n){cy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fP(n.key),n)}}function hV(e,t,r){return t&&pV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xV(e,t,r){return t=rm(t),yV(e,mP()?Reflect.construct(t,r||[],rm(e).constructor):t.apply(e,r))}function yV(e,t){if(t&&(eo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gV(e)}function gV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mP=function(){return!!e})()}function rm(e){return rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rm(e)}function vV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ly(e,t)}function ly(e,t){return ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ly(e,t)}function cy(e,t,r){return t=fP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fP(e){var t=bV(e,"string");return eo(t)=="symbol"?t:t+""}function bV(e,t){if(eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kN=1,jV=function(e){function t(){var r;fV(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=xV(this,t,[].concat(s)),cy(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),cy(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return vV(t,e),hV(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>kN||Math.abs(n.height-this.state.lastBoundingBox.height)>kN)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,m=s.hasPayload,f=s.isAnimationActive,p=s.offset,h=s.position,g=s.reverseDirection,v=s.useTranslate3d,x=s.viewBox,y=s.wrapperStyle,b=mV({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:h,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),N=b.cssClasses,j=b.cssProperties,w=_N(_N({transition:f&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},y);return L.createElement("div",{tabIndex:-1,className:N,style:w,ref:function(T){n.wrapperNode=T}},u)}}])}(E.PureComponent),NV=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ts={isSsr:NV()};function to(e){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(e)}function IN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $N(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(r),!0).forEach(function(n){Wv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hP(n.key),n)}}function AV(e,t,r){return t&&SV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EV(e,t,r){return t=nm(t),TV(e,pP()?Reflect.construct(t,r||[],nm(e).constructor):t.apply(e,r))}function TV(e,t){if(t&&(to(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PV(e)}function PV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pP=function(){return!!e})()}function nm(e){return nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nm(e)}function OV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uy(e,t)}function uy(e,t){return uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},uy(e,t)}function Wv(e,t,r){return t=hP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hP(e){var t=CV(e,"string");return to(t)=="symbol"?t:t+""}function CV(e,t){if(to(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(to(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _V(e){return e.dataKey}function kV(e,t){return L.isValidElement(e)?L.cloneElement(e,t):typeof e=="function"?L.createElement(e,t):L.createElement(iV,t)}var pr=function(e){function t(){return wV(this,t),EV(this,t,arguments)}return OV(t,e),AV(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,m=s.filterNull,f=s.isAnimationActive,p=s.offset,h=s.payload,g=s.payloadUniqBy,v=s.position,x=s.reverseDirection,y=s.useTranslate3d,b=s.viewBox,N=s.wrapperStyle,j=h??[];m&&j.length&&(j=aP(h.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),g,_V));var w=j.length>0;return L.createElement(jV,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:i,coordinate:d,hasPayload:w,offset:p,position:v,reverseDirection:x,useTranslate3d:y,viewBox:b,wrapperStyle:N},kV(u,$N($N({},this.props),{},{payload:j})))}}])}(E.PureComponent);Wv(pr,"displayName","Tooltip");Wv(pr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ts.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var IV=$n,$V=function(){return IV.Date.now()},RV=$V,MV=/\s/;function DV(e){for(var t=e.length;t--&&MV.test(e.charAt(t)););return t}var LV=DV,BV=LV,UV=/^\s+/;function FV(e){return e&&e.slice(0,BV(e)+1).replace(UV,"")}var zV=FV,HV=zV,RN=es,VV=Io,MN=NaN,qV=/^[-+]0x[0-9a-f]+$/i,WV=/^0b[01]+$/i,GV=/^0o[0-7]+$/i,YV=parseInt;function KV(e){if(typeof e=="number")return e;if(VV(e))return MN;if(RN(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=RN(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=HV(e);var r=WV.test(e);return r||GV.test(e)?YV(e.slice(2),r?2:8):qV.test(e)?MN:+e}var xP=KV,XV=es,sh=RV,DN=xP,QV="Expected a function",JV=Math.max,ZV=Math.min;function eq(e,t,r){var n,s,i,o,l,c,u=0,d=!1,m=!1,f=!0;if(typeof e!="function")throw new TypeError(QV);t=DN(t)||0,XV(r)&&(d=!!r.leading,m="maxWait"in r,i=m?JV(DN(r.maxWait)||0,t):i,f="trailing"in r?!!r.trailing:f);function p(w){var A=n,T=s;return n=s=void 0,u=w,o=e.apply(T,A),o}function h(w){return u=w,l=setTimeout(x,t),d?p(w):o}function g(w){var A=w-c,T=w-u,S=t-A;return m?ZV(S,i-T):S}function v(w){var A=w-c,T=w-u;return c===void 0||A>=t||A<0||m&&T>=i}function x(){var w=sh();if(v(w))return y(w);l=setTimeout(x,g(w))}function y(w){return l=void 0,f&&n?p(w):(n=s=void 0,o)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function N(){return l===void 0?o:y(sh())}function j(){var w=sh(),A=v(w);if(n=arguments,s=this,c=w,A){if(l===void 0)return h(c);if(m)return clearTimeout(l),l=setTimeout(x,t),p(c)}return l===void 0&&(l=setTimeout(x,t)),o}return j.cancel=b,j.flush=N,j}var tq=eq,rq=tq,nq=es,aq="Expected a function";function sq(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(aq);return nq(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),rq(e,t,{leading:n,maxWait:t,trailing:s})}var iq=sq;const yP=Be(iq);function mc(e){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(e)}function LN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LN(Object(r),!0).forEach(function(n){oq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oq(e,t,r){return t=lq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lq(e){var t=cq(e,"string");return mc(t)=="symbol"?t:t+""}function cq(e,t){if(mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uq(e,t){return pq(e)||fq(e,t)||mq(e,t)||dq()}function dq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mq(e,t){if(e){if(typeof e=="string")return BN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BN(e,t)}}function BN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function pq(e){if(Array.isArray(e))return e}var vl=E.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,m=e.minHeight,f=e.maxHeight,p=e.children,h=e.debounce,g=h===void 0?0:h,v=e.id,x=e.className,y=e.onResize,b=e.style,N=b===void 0?{}:b,j=E.useRef(null),w=E.useRef();w.current=y,E.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var A=E.useState({containerWidth:s.width,containerHeight:s.height}),T=uq(A,2),S=T[0],_=T[1],P=E.useCallback(function(O,C){_(function(D){var U=Math.round(O),z=Math.round(C);return D.containerWidth===U&&D.containerHeight===z?D:{containerWidth:U,containerHeight:z}})},[]);E.useEffect(function(){var O=function(R){var F,V=R[0].contentRect,W=V.width,ee=V.height;P(W,ee),(F=w.current)===null||F===void 0||F.call(w,W,ee)};g>0&&(O=yP(O,g,{trailing:!0,leading:!1}));var C=new ResizeObserver(O),D=j.current.getBoundingClientRect(),U=D.width,z=D.height;return P(U,z),C.observe(j.current),function(){C.disconnect()}},[P,g]);var k=E.useMemo(function(){var O=S.containerWidth,C=S.containerHeight;if(O<0||C<0)return null;hn(Ns(o)||Ns(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),hn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var D=Ns(o)?O:o,U=Ns(c)?C:c;r&&r>0&&(D?U=D/r:U&&(D=U*r),f&&U>f&&(U=f)),hn(D>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,U,o,c,d,m,r);var z=!Array.isArray(p)&&Jn(p.type).endsWith("Chart");return L.Children.map(p,function(I){return L.isValidElement(I)?E.cloneElement(I,Fu({width:D,height:U},z?{style:Fu({height:"100%",width:"100%",maxHeight:U,maxWidth:D},I.props.style)}:{})):I})},[r,p,c,f,m,d,S,o]);return L.createElement("div",{id:v?"".concat(v):void 0,className:be("recharts-responsive-container",x),style:Fu(Fu({},N),{},{width:o,height:c,minWidth:d,minHeight:m,maxHeight:f}),ref:j},k)}),zf=function(t){return null};zf.displayName="Cell";function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function UN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UN(Object(r),!0).forEach(function(n){hq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hq(e,t,r){return t=xq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xq(e){var t=yq(e,"string");return fc(t)=="symbol"?t:t+""}function yq(e,t){if(fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oi={widthCache:{},cacheCount:0},gq=2e3,vq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},FN="recharts_measurement_span";function bq(e){var t=dy({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var _l=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ts.isSsr)return{width:0,height:0};var n=bq(r),s=JSON.stringify({text:t,copyStyle:n});if(oi.widthCache[s])return oi.widthCache[s];try{var i=document.getElementById(FN);i||(i=document.createElement("span"),i.setAttribute("id",FN),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=dy(dy({},vq),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return oi.widthCache[s]=c,++oi.cacheCount>gq&&(oi.cacheCount=0,oi.widthCache={}),c}catch{return{width:0,height:0}}},jq=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function am(e,t){return Aq(e)||Sq(e,t)||wq(e,t)||Nq()}function Nq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wq(e,t){if(e){if(typeof e=="string")return zN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zN(e,t)}}function zN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Sq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Aq(e){if(Array.isArray(e))return e}function Eq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pq(n.key),n)}}function Tq(e,t,r){return t&&HN(e.prototype,t),r&&HN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pq(e){var t=Oq(e,"string");return pc(t)=="symbol"?t:t+""}function Oq(e,t){if(pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var VN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Cq=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_q=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,gP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},kq=Object.keys(gP),Ei="NaN";function Iq(e,t){return e*gP[t]}var zu=function(){function e(t,r){Eq(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Cq.test(r)&&(this.num=NaN,this.unit=""),kq.includes(r)&&(this.num=Iq(t,r),this.unit="px")}return Tq(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=_q.exec(r))!==null&&n!==void 0?n:[],i=am(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function vP(e){if(e.includes(Ei))return Ei;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=VN.exec(t))!==null&&r!==void 0?r:[],s=am(n,4),i=s[1],o=s[2],l=s[3],c=zu.parse(i??""),u=zu.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Ei;t=t.replace(VN,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,f=(m=qN.exec(t))!==null&&m!==void 0?m:[],p=am(f,4),h=p[1],g=p[2],v=p[3],x=zu.parse(h??""),y=zu.parse(v??""),b=g==="+"?x.add(y):x.subtract(y);if(b.isNaN())return Ei;t=t.replace(qN,b.toString())}return t}var WN=/\(([^()]*)\)/;function $q(e){for(var t=e;t.includes("(");){var r=WN.exec(t),n=am(r,2),s=n[1];t=t.replace(WN,vP(s))}return t}function Rq(e){var t=e.replace(/\s+/g,"");return t=$q(t),t=vP(t),t}function Mq(e){try{return Rq(e)}catch{return Ei}}function ih(e){var t=Mq(e.slice(5,-1));return t===Ei?"":t}var Dq=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Lq=["dx","dy","angle","className","breakAll"];function my(){return my=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},my.apply(this,arguments)}function GN(e,t){if(e==null)return{};var r=Bq(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function YN(e,t){return Hq(e)||zq(e,t)||Fq(e,t)||Uq()}function Uq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fq(e,t){if(e){if(typeof e=="string")return KN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KN(e,t)}}function KN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Hq(e){if(Array.isArray(e))return e}var bP=/[ \f\n\r\t\v\u2028\u2029]+/,jP=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];we(r)||(n?i=r.toString().split(""):i=r.toString().split(bP));var o=i.map(function(c){return{word:c,width:_l(c,s).width}}),l=n?0:_l("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Vq=function(t,r,n,s,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=re(o),m=l,f=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(U,z){var I=z.word,R=z.width,F=U[U.length-1];if(F&&(s==null||i||F.width+R+n<Number(s)))F.words.push(I),F.width+=R+n;else{var V={words:[I],width:R};U.push(V)}return U},[])},p=f(r),h=function(D){return D.reduce(function(U,z){return U.width>z.width?U:z})};if(!d)return p;for(var g="",v=function(D){var U=m.slice(0,D),z=jP({breakAll:u,style:c,children:U+g}).wordsWithComputedWidth,I=f(z),R=I.length>o||h(I).width>Number(s);return[R,I]},x=0,y=m.length-1,b=0,N;x<=y&&b<=m.length-1;){var j=Math.floor((x+y)/2),w=j-1,A=v(w),T=YN(A,2),S=T[0],_=T[1],P=v(j),k=YN(P,1),O=k[0];if(!S&&!O&&(x=j+1),S&&O&&(y=j-1),!S&&O){N=_;break}b++}return N||p},XN=function(t){var r=we(t)?[]:t.toString().split(bP);return[{words:r}]},qq=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!ts.isSsr){var c,u,d=jP({breakAll:o,children:s,style:i});if(d){var m=d.wordsWithComputedWidth,f=d.spaceWidth;c=m,u=f}else return XN(s);return Vq({breakAll:o,children:s,maxLines:l,style:i},c,u,r,n)}return XN(s)},QN="#808080",Hs=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,m=d===void 0?!1:d,f=t.textAnchor,p=f===void 0?"start":f,h=t.verticalAnchor,g=h===void 0?"end":h,v=t.fill,x=v===void 0?QN:v,y=GN(t,Dq),b=E.useMemo(function(){return qq({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:m,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,m,y.style,y.width]),N=y.dx,j=y.dy,w=y.angle,A=y.className,T=y.breakAll,S=GN(y,Lq);if(!Pt(n)||!Pt(i))return null;var _=n+(re(N)?N:0),P=i+(re(j)?j:0),k;switch(g){case"start":k=ih("calc(".concat(u,")"));break;case"middle":k=ih("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:k=ih("calc(".concat(b.length-1," * -").concat(l,")"));break}var O=[];if(m){var C=b[0].width,D=y.width;O.push("scale(".concat((re(D)?D/C:1)/C,")"))}return w&&O.push("rotate(".concat(w,", ").concat(_,", ").concat(P,")")),O.length&&(S.transform=O.join(" ")),L.createElement("text",my({},me(S,!0),{x:_,y:P,className:be("recharts-text",A),textAnchor:p,fill:x.includes("url")?QN:x}),b.map(function(U,z){var I=U.words.join(T?"":" ");return L.createElement("tspan",{x:_,dy:z===0?k:l,key:"".concat(I,"-").concat(z)},I)}))};function Va(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Wq(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Gv(e){let t,r,n;e.length!==2?(t=Va,r=(l,c)=>Va(e(l),c),n=(l,c)=>e(l)-c):(t=e===Va||e===Wq?e:Gq,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const m=u+d>>>1;r(l[m],c)<0?u=m+1:d=m}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const m=u+d>>>1;r(l[m],c)<=0?u=m+1:d=m}while(u<d)}return u}function o(l,c,u=0,d=l.length){const m=s(l,c,u,d-1);return m>u&&n(l[m-1],c)>-n(l[m],c)?m-1:m}return{left:s,center:o,right:i}}function Gq(){return 0}function NP(e){return e===null?NaN:+e}function*Yq(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Kq=Gv(Va),au=Kq.right;Gv(NP).center;class JN extends Map{constructor(t,r=Jq){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(ZN(this,t))}has(t){return super.has(ZN(this,t))}set(t,r){return super.set(Xq(this,t),r)}delete(t){return super.delete(Qq(this,t))}}function ZN({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Xq({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Qq({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Jq(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Zq(e=Va){if(e===Va)return wP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function wP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const eW=Math.sqrt(50),tW=Math.sqrt(10),rW=Math.sqrt(2);function sm(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=eW?10:i>=tW?5:i>=rW?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?sm(e,t,r*2):[l,c,u]}function fy(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?sm(t,e,r):sm(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function py(e,t,r){return t=+t,e=+e,r=+r,sm(e,t,r)[2]}function hy(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?py(t,e,r):py(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function ew(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function tw(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function SP(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?wP:Zq(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),m=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*m*(c-m)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*m/c+f)),h=Math.min(n,Math.floor(t+(c-u)*m/c+f));SP(e,t,p,h,s)}const i=e[t];let o=r,l=n;for(al(e,r,t),s(e[n],i)>0&&al(e,r,n);o<l;){for(al(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?al(e,r,l):(++l,al(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function al(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function nW(e,t,r){if(e=Float64Array.from(Yq(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return tw(e);if(t>=1)return ew(e);var n,s=(n-1)*t,i=Math.floor(s),o=ew(SP(e,i).subarray(0,i+1)),l=tw(e.subarray(i+1));return o+(l-o)*(s-i)}}function aW(e,t,r=NP){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function sW(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function en(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ha(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const xy=Symbol("implicit");function Yv(){var e=new JN,t=[],r=[],n=xy;function s(i){let o=e.get(i);if(o===void 0){if(n!==xy)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new JN;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return Yv(t,r).unknown(n)},en.apply(s,arguments),s}function hc(){var e=Yv().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function m(){var f=t().length,p=s<n,h=p?s:n,g=p?n:s;i=(g-h)/Math.max(1,f-c+u*2),l&&(i=Math.floor(i)),h+=(g-h-i*(f-c))*d,o=i*(1-c),l&&(h=Math.round(h),o=Math.round(o));var v=sW(f).map(function(x){return h+i*x});return r(p?v.reverse():v)}return e.domain=function(f){return arguments.length?(t(f),m()):t()},e.range=function(f){return arguments.length?([n,s]=f,n=+n,s=+s,m()):[n,s]},e.rangeRound=function(f){return[n,s]=f,n=+n,s=+s,l=!0,m()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(l=!!f,m()):l},e.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),m()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),m()):c},e.paddingOuter=function(f){return arguments.length?(u=+f,m()):u},e.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),m()):d},e.copy=function(){return hc(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},en.apply(m(),arguments)}function AP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return AP(t())},e}function kl(){return AP(hc.apply(null,arguments).paddingInner(1))}function Kv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function EP(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function su(){}var xc=.7,im=1/xc,Ui="\\s*([+-]?\\d+)\\s*",yc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iW=/^#([0-9a-f]{3,8})$/,oW=new RegExp(`^rgb\\(${Ui},${Ui},${Ui}\\)$`),lW=new RegExp(`^rgb\\(${Cn},${Cn},${Cn}\\)$`),cW=new RegExp(`^rgba\\(${Ui},${Ui},${Ui},${yc}\\)$`),uW=new RegExp(`^rgba\\(${Cn},${Cn},${Cn},${yc}\\)$`),dW=new RegExp(`^hsl\\(${yc},${Cn},${Cn}\\)$`),mW=new RegExp(`^hsla\\(${yc},${Cn},${Cn},${yc}\\)$`),rw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Kv(su,gc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:nw,formatHex:nw,formatHex8:fW,formatHsl:pW,formatRgb:aw,toString:aw});function nw(){return this.rgb().formatHex()}function fW(){return this.rgb().formatHex8()}function pW(){return TP(this).formatHsl()}function aw(){return this.rgb().formatRgb()}function gc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=iW.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?sw(t):r===3?new yr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Hu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Hu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=oW.exec(e))?new yr(t[1],t[2],t[3],1):(t=lW.exec(e))?new yr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=cW.exec(e))?Hu(t[1],t[2],t[3],t[4]):(t=uW.exec(e))?Hu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=dW.exec(e))?lw(t[1],t[2]/100,t[3]/100,1):(t=mW.exec(e))?lw(t[1],t[2]/100,t[3]/100,t[4]):rw.hasOwnProperty(e)?sw(rw[e]):e==="transparent"?new yr(NaN,NaN,NaN,0):null}function sw(e){return new yr(e>>16&255,e>>8&255,e&255,1)}function Hu(e,t,r,n){return n<=0&&(e=t=r=NaN),new yr(e,t,r,n)}function hW(e){return e instanceof su||(e=gc(e)),e?(e=e.rgb(),new yr(e.r,e.g,e.b,e.opacity)):new yr}function yy(e,t,r,n){return arguments.length===1?hW(e):new yr(e,t,r,n??1)}function yr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Kv(yr,yy,EP(su,{brighter(e){return e=e==null?im:Math.pow(im,e),new yr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?xc:Math.pow(xc,e),new yr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yr(Cs(this.r),Cs(this.g),Cs(this.b),om(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iw,formatHex:iw,formatHex8:xW,formatRgb:ow,toString:ow}));function iw(){return`#${ws(this.r)}${ws(this.g)}${ws(this.b)}`}function xW(){return`#${ws(this.r)}${ws(this.g)}${ws(this.b)}${ws((isNaN(this.opacity)?1:this.opacity)*255)}`}function ow(){const e=om(this.opacity);return`${e===1?"rgb(":"rgba("}${Cs(this.r)}, ${Cs(this.g)}, ${Cs(this.b)}${e===1?")":`, ${e})`}`}function om(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Cs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ws(e){return e=Cs(e),(e<16?"0":"")+e.toString(16)}function lw(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new mn(e,t,r,n)}function TP(e){if(e instanceof mn)return new mn(e.h,e.s,e.l,e.opacity);if(e instanceof su||(e=gc(e)),!e)return new mn;if(e instanceof mn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new mn(o,l,c,e.opacity)}function yW(e,t,r,n){return arguments.length===1?TP(e):new mn(e,t,r,n??1)}function mn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Kv(mn,yW,EP(su,{brighter(e){return e=e==null?im:Math.pow(im,e),new mn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?xc:Math.pow(xc,e),new mn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new yr(oh(e>=240?e-240:e+120,s,n),oh(e,s,n),oh(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new mn(cw(this.h),Vu(this.s),Vu(this.l),om(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=om(this.opacity);return`${e===1?"hsl(":"hsla("}${cw(this.h)}, ${Vu(this.s)*100}%, ${Vu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function cw(e){return e=(e||0)%360,e<0?e+360:e}function Vu(e){return Math.max(0,Math.min(1,e||0))}function oh(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Xv=e=>()=>e;function gW(e,t){return function(r){return e+r*t}}function vW(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function bW(e){return(e=+e)==1?PP:function(t,r){return r-t?vW(t,r,e):Xv(isNaN(t)?r:t)}}function PP(e,t){var r=t-e;return r?gW(e,r):Xv(isNaN(e)?t:e)}const uw=function e(t){var r=bW(t);function n(s,i){var o=r((s=yy(s)).r,(i=yy(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=PP(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function jW(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function NW(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function wW(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=zo(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function SW(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function lm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function AW(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=zo(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var gy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lh=new RegExp(gy.source,"g");function EW(e){return function(){return e}}function TW(e){return function(t){return e(t)+""}}function PW(e,t){var r=gy.lastIndex=lh.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=gy.exec(e))&&(s=lh.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:lm(n,s)})),r=lh.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?TW(c[0].x):EW(t):(t=c.length,function(u){for(var d=0,m;d<t;++d)l[(m=c[d]).i]=m.x(u);return l.join("")})}function zo(e,t){var r=typeof t,n;return t==null||r==="boolean"?Xv(t):(r==="number"?lm:r==="string"?(n=gc(t))?(t=n,uw):PW:t instanceof gc?uw:t instanceof Date?SW:NW(t)?jW:Array.isArray(t)?wW:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?AW:lm)(e,t)}function Qv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function OW(e,t){t===void 0&&(t=e,e=zo);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function CW(e){return function(){return e}}function cm(e){return+e}var dw=[0,1];function lr(e){return e}function vy(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:CW(isNaN(t)?NaN:.5)}function _W(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function kW(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=vy(s,n),i=r(o,i)):(n=vy(n,s),i=r(i,o)),function(l){return i(n(l))}}function IW(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=vy(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=au(e,l,1,n)-1;return i[c](s[c](l))}}function iu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Hf(){var e=dw,t=dw,r=zo,n,s,i,o=lr,l,c,u;function d(){var f=Math.min(e.length,t.length);return o!==lr&&(o=_W(e[0],e[f-1])),l=f>2?IW:kW,c=u=null,m}function m(f){return f==null||isNaN(f=+f)?i:(c||(c=l(e.map(n),t,r)))(n(o(f)))}return m.invert=function(f){return o(s((u||(u=l(t,e.map(n),lm)))(f)))},m.domain=function(f){return arguments.length?(e=Array.from(f,cm),d()):e.slice()},m.range=function(f){return arguments.length?(t=Array.from(f),d()):t.slice()},m.rangeRound=function(f){return t=Array.from(f),r=Qv,d()},m.clamp=function(f){return arguments.length?(o=f?!0:lr,d()):o!==lr},m.interpolate=function(f){return arguments.length?(r=f,d()):r},m.unknown=function(f){return arguments.length?(i=f,m):i},function(f,p){return n=f,s=p,d()}}function Jv(){return Hf()(lr,lr)}function $W(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function um(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ro(e){return e=um(Math.abs(e)),e?e[1]:NaN}function RW(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function MW(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var DW=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vc(e){if(!(t=DW.exec(e)))throw new Error("invalid format: "+e);var t;return new Zv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}vc.prototype=Zv.prototype;function Zv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Zv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function LW(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var OP;function BW(e,t){var r=um(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(OP=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+um(e,Math.max(0,t+i-1))[0]}function mw(e,t){var r=um(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const fw={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:$W,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>mw(e*100,t),r:mw,s:BW,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function pw(e){return e}var hw=Array.prototype.map,xw=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function UW(e){var t=e.grouping===void 0||e.thousands===void 0?pw:RW(hw.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?pw:MW(hw.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(m){m=vc(m);var f=m.fill,p=m.align,h=m.sign,g=m.symbol,v=m.zero,x=m.width,y=m.comma,b=m.precision,N=m.trim,j=m.type;j==="n"?(y=!0,j="g"):fw[j]||(b===void 0&&(b=12),N=!0,j="g"),(v||f==="0"&&p==="=")&&(v=!0,f="0",p="=");var w=g==="$"?r:g==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",A=g==="$"?n:/[%p]/.test(j)?o:"",T=fw[j],S=/[defgprs%]/.test(j);b=b===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function _(P){var k=w,O=A,C,D,U;if(j==="c")O=T(P)+O,P="";else{P=+P;var z=P<0||1/P<0;if(P=isNaN(P)?c:T(Math.abs(P),b),N&&(P=LW(P)),z&&+P==0&&h!=="+"&&(z=!1),k=(z?h==="("?h:l:h==="-"||h==="("?"":h)+k,O=(j==="s"?xw[8+OP/3]:"")+O+(z&&h==="("?")":""),S){for(C=-1,D=P.length;++C<D;)if(U=P.charCodeAt(C),48>U||U>57){O=(U===46?s+P.slice(C+1):P.slice(C))+O,P=P.slice(0,C);break}}}y&&!v&&(P=t(P,1/0));var I=k.length+P.length+O.length,R=I<x?new Array(x-I+1).join(f):"";switch(y&&v&&(P=t(R+P,R.length?x-O.length:1/0),R=""),p){case"<":P=k+P+O+R;break;case"=":P=k+R+P+O;break;case"^":P=R.slice(0,I=R.length>>1)+k+P+O+R.slice(I);break;default:P=R+k+P+O;break}return i(P)}return _.toString=function(){return m+""},_}function d(m,f){var p=u((m=vc(m),m.type="f",m)),h=Math.max(-8,Math.min(8,Math.floor(ro(f)/3)))*3,g=Math.pow(10,-h),v=xw[8+h/3];return function(x){return p(g*x)+v}}return{format:u,formatPrefix:d}}var qu,e0,CP;FW({thousands:",",grouping:[3],currency:["$",""]});function FW(e){return qu=UW(e),e0=qu.format,CP=qu.formatPrefix,qu}function zW(e){return Math.max(0,-ro(Math.abs(e)))}function HW(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ro(t)/3)))*3-ro(Math.abs(e)))}function VW(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ro(t)-ro(e))+1}function _P(e,t,r,n){var s=hy(e,t,r),i;switch(n=vc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=HW(s,o))&&(n.precision=i),CP(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=VW(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=zW(s))&&(n.precision=i-(n.type==="%")*2);break}}return e0(n)}function rs(e){var t=e.domain;return e.ticks=function(r){var n=t();return fy(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return _P(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=py(o,l,r),u===c)return n[s]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function dm(){var e=Jv();return e.copy=function(){return iu(e,dm())},en.apply(e,arguments),rs(e)}function kP(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,cm),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return kP(e).unknown(t)},e=arguments.length?Array.from(e,cm):[0,1],rs(r)}function IP(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function yw(e){return Math.log(e)}function gw(e){return Math.exp(e)}function qW(e){return-Math.log(-e)}function WW(e){return-Math.exp(-e)}function GW(e){return isFinite(e)?+("1e"+e):e<0?0:e}function YW(e){return e===10?GW:e===Math.E?Math.exp:t=>Math.pow(e,t)}function KW(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function vw(e){return(t,r)=>-e(-t,r)}function t0(e){const t=e(yw,gw),r=t.domain;let n=10,s,i;function o(){return s=KW(n),i=YW(n),r()[0]<0?(s=vw(s),i=vw(i),e(qW,WW)):e(yw,gw),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const m=d<u;m&&([u,d]=[d,u]);let f=s(u),p=s(d),h,g;const v=l==null?10:+l;let x=[];if(!(n%1)&&p-f<v){if(f=Math.floor(f),p=Math.ceil(p),u>0){for(;f<=p;++f)for(h=1;h<n;++h)if(g=f<0?h/i(-f):h*i(f),!(g<u)){if(g>d)break;x.push(g)}}else for(;f<=p;++f)for(h=n-1;h>=1;--h)if(g=f>0?h/i(-f):h*i(f),!(g<u)){if(g>d)break;x.push(g)}x.length*2<v&&(x=fy(u,d,v))}else x=fy(f,p,Math.min(p-f,v)).map(i);return m?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=vc(c)).precision==null&&(c.trim=!0),c=e0(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let m=d/i(Math.round(s(d)));return m*n<n-.5&&(m*=n),m<=u?c(d):""}},t.nice=()=>r(IP(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function $P(){const e=t0(Hf()).domain([1,10]);return e.copy=()=>iu(e,$P()).base(e.base()),en.apply(e,arguments),e}function bw(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function jw(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function r0(e){var t=1,r=e(bw(t),jw(t));return r.constant=function(n){return arguments.length?e(bw(t=+n),jw(t)):t},rs(r)}function RP(){var e=r0(Hf());return e.copy=function(){return iu(e,RP()).constant(e.constant())},en.apply(e,arguments)}function Nw(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function XW(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function QW(e){return e<0?-e*e:e*e}function n0(e){var t=e(lr,lr),r=1;function n(){return r===1?e(lr,lr):r===.5?e(XW,QW):e(Nw(r),Nw(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},rs(t)}function a0(){var e=n0(Hf());return e.copy=function(){return iu(e,a0()).exponent(e.exponent())},en.apply(e,arguments),e}function JW(){return a0.apply(null,arguments).exponent(.5)}function ww(e){return Math.sign(e)*e*e}function ZW(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function MP(){var e=Jv(),t=[0,1],r=!1,n;function s(i){var o=ZW(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(ww(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,cm)).map(ww)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return MP(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},en.apply(s,arguments),rs(s)}function DP(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=aW(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[au(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Va),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return DP().domain(e).range(t).unknown(n)},en.apply(i,arguments)}function LP(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[au(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return LP().domain([e,t]).range(s).unknown(i)},en.apply(rs(o),arguments)}function BP(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[au(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return BP().domain(e).range(t).unknown(r)},en.apply(s,arguments)}const ch=new Date,uh=new Date;function Ot(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>Ot(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(ch.setTime(+i),uh.setTime(+o),e(ch),e(uh),Math.floor(r(ch,uh))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const mm=Ot(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);mm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ot(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):mm);mm.range;const Gn=1e3,Yr=Gn*60,Yn=Yr*60,oa=Yn*24,s0=oa*7,Sw=oa*30,dh=oa*365,Ss=Ot(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Gn)},(e,t)=>(t-e)/Gn,e=>e.getUTCSeconds());Ss.range;const i0=Ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gn)},(e,t)=>{e.setTime(+e+t*Yr)},(e,t)=>(t-e)/Yr,e=>e.getMinutes());i0.range;const o0=Ot(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Yr)},(e,t)=>(t-e)/Yr,e=>e.getUTCMinutes());o0.range;const l0=Ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gn-e.getMinutes()*Yr)},(e,t)=>{e.setTime(+e+t*Yn)},(e,t)=>(t-e)/Yn,e=>e.getHours());l0.range;const c0=Ot(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Yn)},(e,t)=>(t-e)/Yn,e=>e.getUTCHours());c0.range;const ou=Ot(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Yr)/oa,e=>e.getDate()-1);ou.range;const Vf=Ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/oa,e=>e.getUTCDate()-1);Vf.range;const UP=Ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/oa,e=>Math.floor(e/oa));UP.range;function Zs(e){return Ot(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Yr)/s0)}const qf=Zs(0),fm=Zs(1),eG=Zs(2),tG=Zs(3),no=Zs(4),rG=Zs(5),nG=Zs(6);qf.range;fm.range;eG.range;tG.range;no.range;rG.range;nG.range;function ei(e){return Ot(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/s0)}const Wf=ei(0),pm=ei(1),aG=ei(2),sG=ei(3),ao=ei(4),iG=ei(5),oG=ei(6);Wf.range;pm.range;aG.range;sG.range;ao.range;iG.range;oG.range;const u0=Ot(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());u0.range;const d0=Ot(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());d0.range;const la=Ot(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());la.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ot(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});la.range;const ca=Ot(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ca.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ot(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ca.range;function FP(e,t,r,n,s,i){const o=[[Ss,1,Gn],[Ss,5,5*Gn],[Ss,15,15*Gn],[Ss,30,30*Gn],[i,1,Yr],[i,5,5*Yr],[i,15,15*Yr],[i,30,30*Yr],[s,1,Yn],[s,3,3*Yn],[s,6,6*Yn],[s,12,12*Yn],[n,1,oa],[n,2,2*oa],[r,1,s0],[t,1,Sw],[t,3,3*Sw],[e,1,dh]];function l(u,d,m){const f=d<u;f&&([u,d]=[d,u]);const p=m&&typeof m.range=="function"?m:c(u,d,m),h=p?p.range(u,+d+1):[];return f?h.reverse():h}function c(u,d,m){const f=Math.abs(d-u)/m,p=Gv(([,,v])=>v).right(o,f);if(p===o.length)return e.every(hy(u/dh,d/dh,m));if(p===0)return mm.every(Math.max(hy(u,d,m),1));const[h,g]=o[f/o[p-1][2]<o[p][2]/f?p-1:p];return h.every(g)}return[l,c]}const[lG,cG]=FP(ca,d0,Wf,UP,c0,o0),[uG,dG]=FP(la,u0,qf,ou,l0,i0);function mh(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function fh(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function sl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function mG(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=il(s),d=ol(s),m=il(i),f=ol(i),p=il(o),h=ol(o),g=il(l),v=ol(l),x=il(c),y=ol(c),b={a:z,A:I,b:R,B:F,c:null,d:Cw,e:Cw,f:RG,g:qG,G:GG,H:kG,I:IG,j:$G,L:zP,m:MG,M:DG,p:V,q:W,Q:Iw,s:$w,S:LG,u:BG,U:UG,V:FG,w:zG,W:HG,x:null,X:null,y:VG,Y:WG,Z:YG,"%":kw},N={a:ee,A:se,b:ye,B:$,c:null,d:_w,e:_w,f:JG,g:lY,G:uY,H:KG,I:XG,j:QG,L:VP,m:ZG,M:eY,p:B,q:J,Q:Iw,s:$w,S:tY,u:rY,U:nY,V:aY,w:sY,W:iY,x:null,X:null,y:oY,Y:cY,Z:dY,"%":kw},j={a:_,A:P,b:k,B:O,c:C,d:Pw,e:Pw,f:PG,g:Tw,G:Ew,H:Ow,I:Ow,j:SG,L:TG,m:wG,M:AG,p:S,q:NG,Q:CG,s:_G,S:EG,u:yG,U:gG,V:vG,w:xG,W:bG,x:D,X:U,y:Tw,Y:Ew,Z:jG,"%":OG};b.x=w(r,b),b.X=w(n,b),b.c=w(t,b),N.x=w(r,N),N.X=w(n,N),N.c=w(t,N);function w(X,ie){return function(de){var M=[],Q=-1,ae=0,oe=X.length,pe,he,Ee;for(de instanceof Date||(de=new Date(+de));++Q<oe;)X.charCodeAt(Q)===37&&(M.push(X.slice(ae,Q)),(he=Aw[pe=X.charAt(++Q)])!=null?pe=X.charAt(++Q):he=pe==="e"?" ":"0",(Ee=ie[pe])&&(pe=Ee(de,he)),M.push(pe),ae=Q+1);return M.push(X.slice(ae,Q)),M.join("")}}function A(X,ie){return function(de){var M=sl(1900,void 0,1),Q=T(M,X,de+="",0),ae,oe;if(Q!=de.length)return null;if("Q"in M)return new Date(M.Q);if("s"in M)return new Date(M.s*1e3+("L"in M?M.L:0));if(ie&&!("Z"in M)&&(M.Z=0),"p"in M&&(M.H=M.H%12+M.p*12),M.m===void 0&&(M.m="q"in M?M.q:0),"V"in M){if(M.V<1||M.V>53)return null;"w"in M||(M.w=1),"Z"in M?(ae=fh(sl(M.y,0,1)),oe=ae.getUTCDay(),ae=oe>4||oe===0?pm.ceil(ae):pm(ae),ae=Vf.offset(ae,(M.V-1)*7),M.y=ae.getUTCFullYear(),M.m=ae.getUTCMonth(),M.d=ae.getUTCDate()+(M.w+6)%7):(ae=mh(sl(M.y,0,1)),oe=ae.getDay(),ae=oe>4||oe===0?fm.ceil(ae):fm(ae),ae=ou.offset(ae,(M.V-1)*7),M.y=ae.getFullYear(),M.m=ae.getMonth(),M.d=ae.getDate()+(M.w+6)%7)}else("W"in M||"U"in M)&&("w"in M||(M.w="u"in M?M.u%7:"W"in M?1:0),oe="Z"in M?fh(sl(M.y,0,1)).getUTCDay():mh(sl(M.y,0,1)).getDay(),M.m=0,M.d="W"in M?(M.w+6)%7+M.W*7-(oe+5)%7:M.w+M.U*7-(oe+6)%7);return"Z"in M?(M.H+=M.Z/100|0,M.M+=M.Z%100,fh(M)):mh(M)}}function T(X,ie,de,M){for(var Q=0,ae=ie.length,oe=de.length,pe,he;Q<ae;){if(M>=oe)return-1;if(pe=ie.charCodeAt(Q++),pe===37){if(pe=ie.charAt(Q++),he=j[pe in Aw?ie.charAt(Q++):pe],!he||(M=he(X,de,M))<0)return-1}else if(pe!=de.charCodeAt(M++))return-1}return M}function S(X,ie,de){var M=u.exec(ie.slice(de));return M?(X.p=d.get(M[0].toLowerCase()),de+M[0].length):-1}function _(X,ie,de){var M=p.exec(ie.slice(de));return M?(X.w=h.get(M[0].toLowerCase()),de+M[0].length):-1}function P(X,ie,de){var M=m.exec(ie.slice(de));return M?(X.w=f.get(M[0].toLowerCase()),de+M[0].length):-1}function k(X,ie,de){var M=x.exec(ie.slice(de));return M?(X.m=y.get(M[0].toLowerCase()),de+M[0].length):-1}function O(X,ie,de){var M=g.exec(ie.slice(de));return M?(X.m=v.get(M[0].toLowerCase()),de+M[0].length):-1}function C(X,ie,de){return T(X,t,ie,de)}function D(X,ie,de){return T(X,r,ie,de)}function U(X,ie,de){return T(X,n,ie,de)}function z(X){return o[X.getDay()]}function I(X){return i[X.getDay()]}function R(X){return c[X.getMonth()]}function F(X){return l[X.getMonth()]}function V(X){return s[+(X.getHours()>=12)]}function W(X){return 1+~~(X.getMonth()/3)}function ee(X){return o[X.getUTCDay()]}function se(X){return i[X.getUTCDay()]}function ye(X){return c[X.getUTCMonth()]}function $(X){return l[X.getUTCMonth()]}function B(X){return s[+(X.getUTCHours()>=12)]}function J(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var ie=w(X+="",b);return ie.toString=function(){return X},ie},parse:function(X){var ie=A(X+="",!1);return ie.toString=function(){return X},ie},utcFormat:function(X){var ie=w(X+="",N);return ie.toString=function(){return X},ie},utcParse:function(X){var ie=A(X+="",!0);return ie.toString=function(){return X},ie}}}var Aw={"-":"",_:" ",0:"0"},Mt=/^\s*\d+/,fG=/^%/,pG=/[\\^$*+?|[\]().{}]/g;function $e(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function hG(e){return e.replace(pG,"\\$&")}function il(e){return new RegExp("^(?:"+e.map(hG).join("|")+")","i")}function ol(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function xG(e,t,r){var n=Mt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function yG(e,t,r){var n=Mt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function gG(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function vG(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function bG(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Ew(e,t,r){var n=Mt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Tw(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function jG(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function NG(e,t,r){var n=Mt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function wG(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Pw(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function SG(e,t,r){var n=Mt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Ow(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function AG(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function EG(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function TG(e,t,r){var n=Mt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function PG(e,t,r){var n=Mt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function OG(e,t,r){var n=fG.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function CG(e,t,r){var n=Mt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function _G(e,t,r){var n=Mt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Cw(e,t){return $e(e.getDate(),t,2)}function kG(e,t){return $e(e.getHours(),t,2)}function IG(e,t){return $e(e.getHours()%12||12,t,2)}function $G(e,t){return $e(1+ou.count(la(e),e),t,3)}function zP(e,t){return $e(e.getMilliseconds(),t,3)}function RG(e,t){return zP(e,t)+"000"}function MG(e,t){return $e(e.getMonth()+1,t,2)}function DG(e,t){return $e(e.getMinutes(),t,2)}function LG(e,t){return $e(e.getSeconds(),t,2)}function BG(e){var t=e.getDay();return t===0?7:t}function UG(e,t){return $e(qf.count(la(e)-1,e),t,2)}function HP(e){var t=e.getDay();return t>=4||t===0?no(e):no.ceil(e)}function FG(e,t){return e=HP(e),$e(no.count(la(e),e)+(la(e).getDay()===4),t,2)}function zG(e){return e.getDay()}function HG(e,t){return $e(fm.count(la(e)-1,e),t,2)}function VG(e,t){return $e(e.getFullYear()%100,t,2)}function qG(e,t){return e=HP(e),$e(e.getFullYear()%100,t,2)}function WG(e,t){return $e(e.getFullYear()%1e4,t,4)}function GG(e,t){var r=e.getDay();return e=r>=4||r===0?no(e):no.ceil(e),$e(e.getFullYear()%1e4,t,4)}function YG(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+$e(t/60|0,"0",2)+$e(t%60,"0",2)}function _w(e,t){return $e(e.getUTCDate(),t,2)}function KG(e,t){return $e(e.getUTCHours(),t,2)}function XG(e,t){return $e(e.getUTCHours()%12||12,t,2)}function QG(e,t){return $e(1+Vf.count(ca(e),e),t,3)}function VP(e,t){return $e(e.getUTCMilliseconds(),t,3)}function JG(e,t){return VP(e,t)+"000"}function ZG(e,t){return $e(e.getUTCMonth()+1,t,2)}function eY(e,t){return $e(e.getUTCMinutes(),t,2)}function tY(e,t){return $e(e.getUTCSeconds(),t,2)}function rY(e){var t=e.getUTCDay();return t===0?7:t}function nY(e,t){return $e(Wf.count(ca(e)-1,e),t,2)}function qP(e){var t=e.getUTCDay();return t>=4||t===0?ao(e):ao.ceil(e)}function aY(e,t){return e=qP(e),$e(ao.count(ca(e),e)+(ca(e).getUTCDay()===4),t,2)}function sY(e){return e.getUTCDay()}function iY(e,t){return $e(pm.count(ca(e)-1,e),t,2)}function oY(e,t){return $e(e.getUTCFullYear()%100,t,2)}function lY(e,t){return e=qP(e),$e(e.getUTCFullYear()%100,t,2)}function cY(e,t){return $e(e.getUTCFullYear()%1e4,t,4)}function uY(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ao(e):ao.ceil(e),$e(e.getUTCFullYear()%1e4,t,4)}function dY(){return"+0000"}function kw(){return"%"}function Iw(e){return+e}function $w(e){return Math.floor(+e/1e3)}var li,WP,GP;mY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mY(e){return li=mG(e),WP=li.format,li.parse,GP=li.utcFormat,li.utcParse,li}function fY(e){return new Date(e)}function pY(e){return e instanceof Date?+e:+new Date(+e)}function m0(e,t,r,n,s,i,o,l,c,u){var d=Jv(),m=d.invert,f=d.domain,p=u(".%L"),h=u(":%S"),g=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),y=u("%b %d"),b=u("%B"),N=u("%Y");function j(w){return(c(w)<w?p:l(w)<w?h:o(w)<w?g:i(w)<w?v:n(w)<w?s(w)<w?x:y:r(w)<w?b:N)(w)}return d.invert=function(w){return new Date(m(w))},d.domain=function(w){return arguments.length?f(Array.from(w,pY)):f().map(fY)},d.ticks=function(w){var A=f();return e(A[0],A[A.length-1],w??10)},d.tickFormat=function(w,A){return A==null?j:u(A)},d.nice=function(w){var A=f();return(!w||typeof w.range!="function")&&(w=t(A[0],A[A.length-1],w??10)),w?f(IP(A,w)):d},d.copy=function(){return iu(d,m0(e,t,r,n,s,i,o,l,c,u))},d}function hY(){return en.apply(m0(uG,dG,la,u0,qf,ou,l0,i0,Ss,WP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xY(){return en.apply(m0(lG,cG,ca,d0,Wf,Vf,c0,o0,Ss,GP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Gf(){var e=0,t=1,r,n,s,i,o=lr,l=!1,c;function u(m){return m==null||isNaN(m=+m)?c:o(s===0?.5:(m=(i(m)-r)*s,l?Math.max(0,Math.min(1,m)):m))}u.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(m){return arguments.length?(l=!!m,u):l},u.interpolator=function(m){return arguments.length?(o=m,u):o};function d(m){return function(f){var p,h;return arguments.length?([p,h]=f,o=m(p,h),u):[o(0),o(1)]}}return u.range=d(zo),u.rangeRound=d(Qv),u.unknown=function(m){return arguments.length?(c=m,u):c},function(m){return i=m,r=m(e),n=m(t),s=r===n?0:1/(n-r),u}}function ns(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function YP(){var e=rs(Gf()(lr));return e.copy=function(){return ns(e,YP())},ha.apply(e,arguments)}function KP(){var e=t0(Gf()).domain([1,10]);return e.copy=function(){return ns(e,KP()).base(e.base())},ha.apply(e,arguments)}function XP(){var e=r0(Gf());return e.copy=function(){return ns(e,XP()).constant(e.constant())},ha.apply(e,arguments)}function f0(){var e=n0(Gf());return e.copy=function(){return ns(e,f0()).exponent(e.exponent())},ha.apply(e,arguments)}function yY(){return f0.apply(null,arguments).exponent(.5)}function QP(){var e=[],t=lr;function r(n){if(n!=null&&!isNaN(n=+n))return t((au(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Va),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>nW(e,i/n))},r.copy=function(){return QP(t).domain(e)},ha.apply(r,arguments)}function Yf(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,u=lr,d,m=!1,f;function p(g){return isNaN(g=+g)?f:(g=.5+((g=+d(g))-i)*(n*g<n*i?l:c),u(m?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,r]=g,s=d(e=+e),i=d(t=+t),o=d(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p):[e,t,r]},p.clamp=function(g){return arguments.length?(m=!!g,p):m},p.interpolator=function(g){return arguments.length?(u=g,p):u};function h(g){return function(v){var x,y,b;return arguments.length?([x,y,b]=v,u=OW(g,[x,y,b]),p):[u(0),u(.5),u(1)]}}return p.range=h(zo),p.rangeRound=h(Qv),p.unknown=function(g){return arguments.length?(f=g,p):f},function(g){return d=g,s=g(e),i=g(t),o=g(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p}}function JP(){var e=rs(Yf()(lr));return e.copy=function(){return ns(e,JP())},ha.apply(e,arguments)}function ZP(){var e=t0(Yf()).domain([.1,1,10]);return e.copy=function(){return ns(e,ZP()).base(e.base())},ha.apply(e,arguments)}function eO(){var e=r0(Yf());return e.copy=function(){return ns(e,eO()).constant(e.constant())},ha.apply(e,arguments)}function p0(){var e=n0(Yf());return e.copy=function(){return ns(e,p0()).exponent(e.exponent())},ha.apply(e,arguments)}function gY(){return p0.apply(null,arguments).exponent(.5)}const Rw=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:hc,scaleDiverging:JP,scaleDivergingLog:ZP,scaleDivergingPow:p0,scaleDivergingSqrt:gY,scaleDivergingSymlog:eO,scaleIdentity:kP,scaleImplicit:xy,scaleLinear:dm,scaleLog:$P,scaleOrdinal:Yv,scalePoint:kl,scalePow:a0,scaleQuantile:DP,scaleQuantize:LP,scaleRadial:MP,scaleSequential:YP,scaleSequentialLog:KP,scaleSequentialPow:f0,scaleSequentialQuantile:QP,scaleSequentialSqrt:yY,scaleSequentialSymlog:XP,scaleSqrt:JW,scaleSymlog:RP,scaleThreshold:BP,scaleTime:hY,scaleUtc:xY,tickFormat:_P},Symbol.toStringTag,{value:"Module"}));var vY=Io;function bY(e,t,r){for(var n=-1,s=e.length;++n<s;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!vY(o):r(o,l)))var l=o,c=i}return c}var Kf=bY;function jY(e,t){return e>t}var tO=jY,NY=Kf,wY=tO,SY=Fo;function AY(e){return e&&e.length?NY(e,SY,wY):void 0}var EY=AY;const ka=Be(EY);function TY(e,t){return e<t}var rO=TY,PY=Kf,OY=rO,CY=Fo;function _Y(e){return e&&e.length?PY(e,CY,OY):void 0}var kY=_Y;const Xf=Be(kY);var IY=Pv,$Y=Rn,RY=uP,MY=wr;function DY(e,t){var r=MY(e)?IY:RY;return r(e,$Y(t))}var LY=DY,BY=lP,UY=LY;function FY(e,t){return BY(UY(e,t),1)}var zY=FY;const HY=Be(zY);var VY=Hv;function qY(e,t){return VY(e,t)}var WY=qY;const Vs=Be(WY);var Ho=1e9,GY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},x0,Ze=!0,Jr="[DecimalError] ",_s=Jr+"Invalid argument: ",h0=Jr+"Exponent out of range: ",Vo=Math.floor,fs=Math.pow,YY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Cr,_t=1e7,Xe=7,nO=9007199254740991,hm=Vo(nO/Xe),ue={};ue.absoluteValue=ue.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ue.comparedTo=ue.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};ue.decimalPlaces=ue.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Xe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ue.dividedBy=ue.div=function(e){return Zn(this,new this.constructor(e))};ue.dividedToIntegerBy=ue.idiv=function(e){var t=this,r=t.constructor;return ze(Zn(t,new r(e),0,1),r.precision)};ue.equals=ue.eq=function(e){return!this.cmp(e)};ue.exponent=function(){return Nt(this)};ue.greaterThan=ue.gt=function(e){return this.cmp(e)>0};ue.greaterThanOrEqualTo=ue.gte=function(e){return this.cmp(e)>=0};ue.isInteger=ue.isint=function(){return this.e>this.d.length-2};ue.isNegative=ue.isneg=function(){return this.s<0};ue.isPositive=ue.ispos=function(){return this.s>0};ue.isZero=function(){return this.s===0};ue.lessThan=ue.lt=function(e){return this.cmp(e)<0};ue.lessThanOrEqualTo=ue.lte=function(e){return this.cmp(e)<1};ue.logarithm=ue.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Cr))throw Error(Jr+"NaN");if(r.s<1)throw Error(Jr+(r.s?"NaN":"-Infinity"));return r.eq(Cr)?new n(0):(Ze=!1,t=Zn(bc(r,i),bc(e,i),i),Ze=!0,ze(t,s))};ue.minus=ue.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?iO(t,e):aO(t,(e.s=-e.s,e))};ue.modulo=ue.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Jr+"NaN");return r.s?(Ze=!1,t=Zn(r,e,0,1).times(e),Ze=!0,r.minus(t)):ze(new n(r),s)};ue.naturalExponential=ue.exp=function(){return sO(this)};ue.naturalLogarithm=ue.ln=function(){return bc(this)};ue.negated=ue.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ue.plus=ue.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?aO(t,e):iO(t,(e.s=-e.s,e))};ue.precision=ue.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(_s+e);if(t=Nt(s)+1,n=s.d.length-1,r=n*Xe+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ue.squareRoot=ue.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Jr+"NaN")}for(e=Nt(l),Ze=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=En(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Vo((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(Zn(l,i,o+2)).times(.5),En(i.d).slice(0,o)===(t=En(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(ze(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Ze=!0,ze(n,r)};ue.times=ue.mul=function(e){var t,r,n,s,i,o,l,c,u,d=this,m=d.constructor,f=d.d,p=(e=new m(e)).d;if(!d.s||!e.s)return new m(0);for(e.s*=d.s,r=d.e+e.e,c=f.length,u=p.length,c<u&&(i=f,f=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+p[n]*f[s-n-1]+t,i[s--]=l%_t|0,t=l/_t|0;i[s]=(i[s]+t)%_t|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ze?ze(e,m.precision):e};ue.toDecimalPlaces=ue.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(In(e,0,Ho),t===void 0?t=n.rounding:In(t,0,8),ze(r,e+Nt(r)+1,t))};ue.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=qs(n,!0):(In(e,0,Ho),t===void 0?t=s.rounding:In(t,0,8),n=ze(new s(n),e+1,t),r=qs(n,!0,e+1)),r};ue.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?qs(s):(In(e,0,Ho),t===void 0?t=i.rounding:In(t,0,8),n=ze(new i(s),e+Nt(s)+1,t),r=qs(n.abs(),!1,e+Nt(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};ue.toInteger=ue.toint=function(){var e=this,t=e.constructor;return ze(new t(e),Nt(e)+1,t.rounding)};ue.toNumber=function(){return+this};ue.toPower=ue.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Cr);if(l=new c(l),!l.s){if(e.s<1)throw Error(Jr+"Infinity");return l}if(l.eq(Cr))return l;if(n=c.precision,e.eq(Cr))return ze(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=nO){for(s=new c(Cr),t=Math.ceil(n/Xe+4),Ze=!1;r%2&&(s=s.times(l),Dw(s.d,t)),r=Vo(r/2),r!==0;)l=l.times(l),Dw(l.d,t);return Ze=!0,e.s<0?new c(Cr).div(s):ze(s,n)}}else if(i<0)throw Error(Jr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ze=!1,s=e.times(bc(l,n+u)),Ze=!0,s=sO(s),s.s=i,s};ue.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=Nt(s),n=qs(s,r<=i.toExpNeg||r>=i.toExpPos)):(In(e,1,Ho),t===void 0?t=i.rounding:In(t,0,8),s=ze(new i(s),e,t),r=Nt(s),n=qs(s,e<=r||r<=i.toExpNeg,e)),n};ue.toSignificantDigits=ue.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(In(e,1,Ho),t===void 0?t=n.rounding:In(t,0,8)),ze(new n(r),e,t)};ue.toString=ue.valueOf=ue.val=ue.toJSON=ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Nt(e),r=e.constructor;return qs(e,t<=r.toExpNeg||t>=r.toExpPos)};function aO(e,t){var r,n,s,i,o,l,c,u,d=e.constructor,m=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ze?ze(t,m):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(m/Xe),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/_t|0,c[i]%=_t;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,Ze?ze(t,m):t}function In(e,t,r){if(e!==~~e||e<t||e>r)throw Error(_s+e)}function En(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Xe-n.length,r&&(i+=Na(r)),i+=n;o=e[t],n=o+"",r=Xe-n.length,r&&(i+=Na(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Zn=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%_t|0,o=i/_t|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*_t+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,u,d,m,f,p,h,g,v,x,y,b,N,j,w,A,T,S=n.constructor,_=n.s==s.s?1:-1,P=n.d,k=s.d;if(!n.s)return new S(n);if(!s.s)throw Error(Jr+"Division by zero");for(c=n.e-s.e,A=k.length,j=P.length,p=new S(_),h=p.d=[],u=0;k[u]==(P[u]||0);)++u;if(k[u]>(P[u]||0)&&--c,i==null?y=i=S.precision:o?y=i+(Nt(n)-Nt(s))+1:y=i,y<0)return new S(0);if(y=y/Xe+2|0,u=0,A==1)for(d=0,k=k[0],y++;(u<j||d)&&y--;u++)b=d*_t+(P[u]||0),h[u]=b/k|0,d=b%k|0;else{for(d=_t/(k[0]+1)|0,d>1&&(k=e(k,d),P=e(P,d),A=k.length,j=P.length),N=A,g=P.slice(0,A),v=g.length;v<A;)g[v++]=0;T=k.slice(),T.unshift(0),w=k[0],k[1]>=_t/2&&++w;do d=0,l=t(k,g,A,v),l<0?(x=g[0],A!=v&&(x=x*_t+(g[1]||0)),d=x/w|0,d>1?(d>=_t&&(d=_t-1),m=e(k,d),f=m.length,v=g.length,l=t(m,g,f,v),l==1&&(d--,r(m,A<f?T:k,f))):(d==0&&(l=d=1),m=k.slice()),f=m.length,f<v&&m.unshift(0),r(g,m,v),l==-1&&(v=g.length,l=t(k,g,A,v),l<1&&(d++,r(g,A<v?T:k,v))),v=g.length):l===0&&(d++,g=[0]),h[u++]=d,l&&g[0]?g[v++]=P[N]||0:(g=[P[N]],v=1);while((N++<j||g[0]!==void 0)&&y--)}return h[0]||h.shift(),p.e=c,ze(p,o?i+Nt(p)+1:i)}}();function sO(e,t){var r,n,s,i,o,l,c=0,u=0,d=e.constructor,m=d.precision;if(Nt(e)>16)throw Error(h0+Nt(e));if(!e.s)return new d(Cr);for(Ze=!1,l=m,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(fs(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new d(Cr),d.precision=l;;){if(s=ze(s.times(e),l),r=r.times(++c),o=i.plus(Zn(s,r,l)),En(o.d).slice(0,l)===En(i.d).slice(0,l)){for(;u--;)i=ze(i.times(i),l);return d.precision=m,t==null?(Ze=!0,ze(i,m)):i}i=o}}function Nt(e){for(var t=e.e*Xe,r=e.d[0];r>=10;r/=10)t++;return t}function ph(e,t,r){if(t>e.LN10.sd())throw Ze=!0,r&&(e.precision=r),Error(Jr+"LN10 precision limit exceeded");return ze(new e(e.LN10),t)}function Na(e){for(var t="";e--;)t+="0";return t}function bc(e,t){var r,n,s,i,o,l,c,u,d,m=1,f=10,p=e,h=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(Jr+(p.s?"NaN":"-Infinity"));if(p.eq(Cr))return new g(0);if(t==null?(Ze=!1,u=v):u=t,p.eq(10))return t==null&&(Ze=!0),ph(g,u);if(u+=f,g.precision=u,r=En(h),n=r.charAt(0),i=Nt(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=En(p.d),n=r.charAt(0),m++;i=Nt(p),n>1?(p=new g("0."+r),i++):p=new g(n+"."+r.slice(1))}else return c=ph(g,u+2,v).times(i+""),p=bc(new g(n+"."+r.slice(1)),u-f).plus(c),g.precision=v,t==null?(Ze=!0,ze(p,v)):p;for(l=o=p=Zn(p.minus(Cr),p.plus(Cr),u),d=ze(p.times(p),u),s=3;;){if(o=ze(o.times(d),u),c=l.plus(Zn(o,new g(s),u)),En(c.d).slice(0,u)===En(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(ph(g,u+2,v).times(i+""))),l=Zn(l,new g(m),u),g.precision=v,t==null?(Ze=!0,ze(l,v)):l;l=c,s+=2}}function Mw(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Vo(r/Xe),e.d=[],n=(r+1)%Xe,r<0&&(n+=Xe),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Xe;n<s;)e.d.push(+t.slice(n,n+=Xe));t=t.slice(n),n=Xe-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Ze&&(e.e>hm||e.e<-hm))throw Error(h0+r)}else e.s=0,e.e=0,e.d=[0];return e}function ze(e,t,r){var n,s,i,o,l,c,u,d,m=e.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Xe,s=t,u=m[d=0];else{if(d=Math.ceil((n+1)/Xe),i=m.length,d>=i)return e;for(u=i=m[d],o=1;i>=10;i/=10)o++;n%=Xe,s=n-Xe+o}if(r!==void 0&&(i=fs(10,o-s-1),l=u/i%10|0,c=t<0||m[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/fs(10,o-s):0:m[d-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return c?(i=Nt(e),m.length=1,t=t-i-1,m[0]=fs(10,(Xe-t%Xe)%Xe),e.e=Vo(-t/Xe)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=d,i=1,d--):(m.length=d+1,i=fs(10,Xe-n),m[d]=s>0?(u/fs(10,o-s)%fs(10,s)|0)*i:0),c)for(;;)if(d==0){(m[0]+=i)==_t&&(m[0]=1,++e.e);break}else{if(m[d]+=i,m[d]!=_t)break;m[d--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(Ze&&(e.e>hm||e.e<-hm))throw Error(h0+Nt(e));return e}function iO(e,t){var r,n,s,i,o,l,c,u,d,m,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),Ze?ze(t,p):t;if(c=e.d,m=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=m.length):(r=m,n=u,l=c.length),s=Math.max(Math.ceil(p/Xe),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=m.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=m[s]){d=c[s]<m[s];break}o=0}for(d&&(r=c,c=m,m=r,t.s=-t.s),l=c.length,s=m.length-l;s>0;--s)c[l++]=0;for(s=m.length;s>o;){if(c[--s]<m[s]){for(i=s;i&&c[--i]===0;)c[i]=_t-1;--c[i],c[s]+=_t}c[s]-=m[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ze?ze(t,p):t):new f(0)}function qs(e,t,r){var n,s=Nt(e),i=En(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Na(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Na(-s-1)+i,r&&(n=r-o)>0&&(i+=Na(n))):s>=o?(i+=Na(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+Na(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=Na(n))),e.s<0?"-"+i:i}function Dw(e,t){if(e.length>t)return e.length=t,!0}function oO(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(_s+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return Mw(o,i.toString())}else if(typeof i!="string")throw Error(_s+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,YY.test(i))Mw(o,i);else throw Error(_s+i)}if(s.prototype=ue,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=oO,s.config=s.set=KY,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function KY(e){if(!e||typeof e!="object")throw Error(Jr+"Object expected");var t,r,n,s=["precision",1,Ho,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Vo(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(_s+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(_s+r+": "+n);return this}var x0=oO(GY);Cr=new x0(1);const Fe=x0;function XY(e){return eK(e)||ZY(e)||JY(e)||QY()}function QY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JY(e,t){if(e){if(typeof e=="string")return by(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return by(e,t)}}function ZY(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function eK(e){if(Array.isArray(e))return by(e)}function by(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var tK=function(t){return t},lO={},cO=function(t){return t===lO},Lw=function(t){return function r(){return arguments.length===0||arguments.length===1&&cO(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},rK=function e(t,r){return t===1?r:Lw(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==lO}).length;return o>=t?r.apply(void 0,s):e(t-o,Lw(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(m){return cO(m)?c.shift():m});return r.apply(void 0,XY(d).concat(c))}))})},Qf=function(t){return rK(t.length,t)},jy=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},nK=Qf(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),aK=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return tK;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},Ny=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},uO=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function sK(e){var t;return e===0?t=1:t=Math.floor(new Fe(e).abs().log(10).toNumber())+1,t}function iK(e,t,r){for(var n=new Fe(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var oK=Qf(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),lK=Qf(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),cK=Qf(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Jf={rangeStep:iK,getDigitCount:sK,interpolateNumber:oK,uninterpolateNumber:lK,uninterpolateTruncation:cK};function wy(e){return mK(e)||dK(e)||dO(e)||uK()}function uK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dK(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function mK(e){if(Array.isArray(e))return Sy(e)}function jc(e,t){return hK(e)||pK(e,t)||dO(e,t)||fK()}function fK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dO(e,t){if(e){if(typeof e=="string")return Sy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sy(e,t)}}function Sy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pK(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function hK(e){if(Array.isArray(e))return e}function mO(e){var t=jc(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function fO(e,t,r){if(e.lte(0))return new Fe(0);var n=Jf.getDigitCount(e.toNumber()),s=new Fe(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new Fe(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new Fe(Math.ceil(c))}function xK(e,t,r){var n=1,s=new Fe(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new Fe(10).pow(Jf.getDigitCount(e)-1),s=new Fe(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Fe(Math.floor(e)))}else e===0?s=new Fe(Math.floor((t-1)/2)):r||(s=new Fe(Math.floor(e)));var o=Math.floor((t-1)/2),l=aK(nK(function(c){return s.add(new Fe(c-o).mul(n)).toNumber()}),jy);return l(0,t)}function pO(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Fe(0),tickMin:new Fe(0),tickMax:new Fe(0)};var i=fO(new Fe(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new Fe(0):(o=new Fe(e).add(t).div(2),o=o.sub(new Fe(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Fe(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?pO(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Fe(l).mul(i)),tickMax:o.add(new Fe(c).mul(i))})}function yK(e){var t=jc(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=mO([r,n]),c=jc(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var m=d===1/0?[u].concat(wy(jy(0,s-1).map(function(){return 1/0}))):[].concat(wy(jy(0,s-1).map(function(){return-1/0})),[d]);return r>n?Ny(m):m}if(u===d)return xK(u,s,i);var f=pO(u,d,o,i),p=f.step,h=f.tickMin,g=f.tickMax,v=Jf.rangeStep(h,g.add(new Fe(.1).mul(p)),p);return r>n?Ny(v):v}function gK(e,t){var r=jc(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=mO([n,s]),l=jc(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(t,2),m=fO(new Fe(u).sub(c).div(d-1),i,0),f=[].concat(wy(Jf.rangeStep(new Fe(c),new Fe(u).sub(new Fe(.99).mul(m)),m)),[u]);return n>s?Ny(f):f}var vK=uO(yK),bK=uO(gK),jK="Invariant failed";function Ws(e,t){throw new Error(jK)}var NK=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function so(e){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(e)}function xm(){return xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xm.apply(this,arguments)}function wK(e,t){return TK(e)||EK(e,t)||AK(e,t)||SK()}function SK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AK(e,t){if(e){if(typeof e=="string")return Bw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bw(e,t)}}function Bw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function EK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function TK(e){if(Array.isArray(e))return e}function PK(e,t){if(e==null)return{};var r=OK(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function CK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _K(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yO(n.key),n)}}function kK(e,t,r){return t&&_K(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IK(e,t,r){return t=ym(t),$K(e,hO()?Reflect.construct(t,r||[],ym(e).constructor):t.apply(e,r))}function $K(e,t){if(t&&(so(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RK(e)}function RK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hO=function(){return!!e})()}function ym(e){return ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ym(e)}function MK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ay(e,t)}function Ay(e,t){return Ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ay(e,t)}function xO(e,t,r){return t=yO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yO(e){var t=DK(e,"string");return so(t)=="symbol"?t:t+""}function DK(e,t){if(so(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(so(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lu=function(e){function t(){return CK(this,t),IK(this,t,arguments)}return MK(t,e),kK(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,m=n.yAxis,f=PK(n,NK),p=me(f,!1);this.props.direction==="x"&&d.type!=="number"&&Ws();var h=c.map(function(g){var v=u(g,l),x=v.x,y=v.y,b=v.value,N=v.errorVal;if(!N)return null;var j=[],w,A;if(Array.isArray(N)){var T=wK(N,2);w=T[0],A=T[1]}else w=A=N;if(i==="vertical"){var S=d.scale,_=y+s,P=_+o,k=_-o,O=S(b-w),C=S(b+A);j.push({x1:C,y1:P,x2:C,y2:k}),j.push({x1:O,y1:_,x2:C,y2:_}),j.push({x1:O,y1:P,x2:O,y2:k})}else if(i==="horizontal"){var D=m.scale,U=x+s,z=U-o,I=U+o,R=D(b-w),F=D(b+A);j.push({x1:z,y1:F,x2:I,y2:F}),j.push({x1:U,y1:R,x2:U,y2:F}),j.push({x1:z,y1:R,x2:I,y2:R})}return L.createElement(Oe,xm({className:"recharts-errorBar",key:"bar-".concat(j.map(function(V){return"".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))},p),j.map(function(V){return L.createElement("line",xm({},V,{key:"line-".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))}))});return L.createElement(Oe,{className:"recharts-errorBars"},h)}}])}(L.Component);xO(lu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});xO(lu,"displayName","ErrorBar");function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function Uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ss(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uw(Object(r),!0).forEach(function(n){LK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LK(e,t,r){return t=BK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BK(e){var t=UK(e,"string");return Nc(t)=="symbol"?t:t+""}function UK(e,t){if(Nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gO=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=Pr(r,Bi);if(!o)return null;var l=Bi.defaultProps,c=l!==void 0?ss(ss({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,m){var f=m.item,p=m.props,h=p.sectors||p.data||[];return d.concat(h.map(function(g){return{type:o.props.iconType||f.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var m=d.item,f=m.type.defaultProps,p=f!==void 0?ss(ss({},f),m.props):{},h=p.dataKey,g=p.name,v=p.legendType,x=p.hide;return{inactive:x,dataKey:h,type:c.iconType||v||"square",color:y0(m),value:g||h,payload:p}}),ss(ss(ss({},c),Bi.getWithHeight(o,s)),{},{payload:u,item:o})};function wc(e){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}function Fw(e){return VK(e)||HK(e)||zK(e)||FK()}function FK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zK(e,t){if(e){if(typeof e=="string")return Ey(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ey(e,t)}}function HK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VK(e){if(Array.isArray(e))return Ey(e)}function Ey(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zw(Object(r),!0).forEach(function(n){Fi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fi(e,t,r){return t=qK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qK(e){var t=WK(e,"string");return wc(t)=="symbol"?t:t+""}function WK(e,t){if(wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ft(e,t,r){return we(e)||we(t)?r:Pt(t)?$r(e,t,r):ve(t)?t(e):r}function Il(e,t,r,n){var s=HY(e,function(l){return ft(l,t)});if(r==="number"){var i=s.filter(function(l){return re(l)||parseFloat(l)});return i.length?[Xf(i),ka(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!we(l)}):s;return o.map(function(l){return Pt(l)||l instanceof Date?l:""})}var GK=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,m=s[u].coordinate,f=u>=l-1?s[0].coordinate:s[u+1].coordinate,p=void 0;if(ir(m-d)!==ir(f-m)){var h=[];if(ir(f-m)===ir(c[1]-c[0])){p=f;var g=m+c[1]-c[0];h[0]=Math.min(g,(g+d)/2),h[1]=Math.max(g,(g+d)/2)}else{p=d;var v=f+c[1]-c[0];h[0]=Math.min(m,(v+m)/2),h[1]=Math.max(m,(v+m)/2)}var x=[Math.min(m,(p+m)/2),Math.max(m,(p+m)/2)];if(t>x[0]&&t<=x[1]||t>=h[0]&&t<=h[1]){o=s[u].index;break}}else{var y=Math.min(d,f),b=Math.max(d,f);if(t>(y+m)/2&&t<=(b+m)/2){o=s[u].index;break}}}else for(var N=0;N<l;N++)if(N===0&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<l-1&&t>(n[N].coordinate+n[N-1].coordinate)/2&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N===l-1&&t>(n[N].coordinate+n[N-1].coordinate)/2){o=n[N].index;break}return o},y0=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?lt(lt({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},YK=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,m=Object.keys(d),f=0,p=m.length;f<p;f++){var h=d[m[f]],g=h.items,v=h.cateAxisId,x=g.filter(function(A){return Jn(A.type).indexOf("Bar")>=0});if(x&&x.length){var y=x[0].type.defaultProps,b=y!==void 0?lt(lt({},y),x[0].props):x[0].props,N=b.barSize,j=b[v];o[j]||(o[j]=[]);var w=we(N)?r:N;o[j].push({item:x[0],stackList:x.slice(1),barSize:we(w)?void 0:or(w,n,0)})}}return o},KK=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=or(r,s,0,!0),d,m=[];if(o[0].barSize===+o[0].barSize){var f=!1,p=s/c,h=o.reduce(function(N,j){return N+j.barSize||0},0);h+=(c-1)*u,h>=s&&(h-=(c-1)*u,u=0),h>=s&&p>0&&(f=!0,p*=.9,h=c*p);var g=(s-h)/2>>0,v={offset:g-u,size:0};d=o.reduce(function(N,j){var w={item:j.item,position:{offset:v.offset+v.size+u,size:f?p:j.barSize}},A=[].concat(Fw(N),[w]);return v=A[A.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(T){A.push({item:T,position:v})}),A},m)}else{var x=or(n,s,0,!0);s-2*x-(c-1)*u<=0&&(u=0);var y=(s-2*x-(c-1)*u)/c;y>1&&(y>>=0);var b=l===+l?Math.min(y,l):y;d=o.reduce(function(N,j,w){var A=[].concat(Fw(N),[{item:j.item,position:{offset:x+(y+u)*w+(y-b)/2,size:b}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(T){A.push({item:T,position:A[A.length-1].position})}),A},m)}return d},XK=function(t,r,n,s){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=gO({children:i,legendWidth:c});if(u){var d=s||{},m=d.width,f=d.height,p=u.align,h=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&h==="middle")&&p!=="center"&&re(t[p]))return lt(lt({},t),{},Fi({},p,t[p]+(m||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&h!=="middle"&&re(t[h]))return lt(lt({},t),{},Fi({},h,t[h]+(f||0)))}return t},QK=function(t,r,n){return we(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},vO=function(t,r,n,s,i){var o=r.props.children,l=Rr(o,lu).filter(function(u){return QK(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var m=ft(d,n);if(we(m))return u;var f=Array.isArray(m)?[Xf(m),ka(m)]:[m,m],p=c.reduce(function(h,g){var v=ft(d,g,0),x=f[0]-Math.abs(Array.isArray(v)?v[0]:v),y=f[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,h[0]),Math.max(y,h[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},JK=function(t,r,n,s,i){var o=r.map(function(l){return vO(t,l,n,i,s)}).filter(function(l){return!we(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},bO=function(t,r,n,s,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&vO(t,c,u,s)||Il(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,m=u.length;d<m;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},jO=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},NO=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Kn=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?ir(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(m){var f=i?i.indexOf(m):m;return{coordinate:s(f)+u,value:m,offset:u}});return d.filter(function(m){return!Lo(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,f){return{coordinate:s(m)+u,value:m,index:f,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(m){return{coordinate:s(m)+u,value:m,offset:u}}):s.domain().map(function(m,f){return{coordinate:s(m)+u,value:i?i[m]:m,index:f,offset:u}})},hh=new WeakMap,Wu=function(t,r){if(typeof r!="function")return t;hh.has(t)||hh.set(t,new WeakMap);var n=hh.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},wO=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:hc(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:dm(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:kl(),realScaleType:"point"}:i==="category"?{scale:hc(),realScaleType:"band"}:{scale:dm(),realScaleType:"linear"};if(Fs(s)){var c="scale".concat(Rf(s));return{scale:(Rw[c]||kl)(),realScaleType:Rw[c]?c:"point"}}return ve(s)?{scale:s}:{scale:kl(),realScaleType:"point"}},Hw=1e-4,SO=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-Hw,o=Math.max(s[0],s[1])+Hw,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},ZK=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},eX=function(t,r){if(!r||r.length!==2||!re(r[0])||!re(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!re(t[0])||t[0]<n)&&(i[0]=n),(!re(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},tX=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Lo(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},rX=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=Lo(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},nX={sign:tX,expand:NB,none:Qi,silhouette:wB,wiggle:SB,positive:rX},aX=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),i=nX[n],o=jB().keys(s).value(function(l,c){return+ft(l,c,0)}).order(Qx).offset(i);return o(t)},sX=function(t,r,n,s,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(m,f){var p,h=(p=f.type)!==null&&p!==void 0&&p.defaultProps?lt(lt({},f.type.defaultProps),f.props):f.props,g=h.stackId,v=h.hide;if(v)return m;var x=h[n],y=m[x]||{hasStack:!1,stackGroups:{}};if(Pt(g)){var b=y.stackGroups[g]||{numericAxisId:n,cateAxisId:s,items:[]};b.items.push(f),y.hasStack=!0,y.stackGroups[g]=b}else y.stackGroups[Js("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[f]};return lt(lt({},m),{},Fi({},x,y))},c),d={};return Object.keys(u).reduce(function(m,f){var p=u[f];if(p.hasStack){var h={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,v){var x=p.stackGroups[v];return lt(lt({},g),{},Fi({},v,{numericAxisId:n,cateAxisId:s,items:x.items,stackedData:aX(t,x.items,i)}))},h)}return lt(lt({},m),{},Fi({},f,p))},d)},AO=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=vK(u,i,l);return t.domain([Xf(d),ka(d)]),{niceTicks:d}}if(i&&s==="number"){var m=t.domain(),f=bK(m,i,l);return{niceTicks:f}}return null};function gm(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!we(s[t.dataKey])){var l=Vd(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=ft(s,we(o)?t.dataKey:o);return we(c)?null:t.scale(c)}var Vw=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=ft(o,r.dataKey,r.domain[l]);return we(c)?null:r.scale(c)-i/2+s},iX=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},oX=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?lt(lt({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(Pt(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},lX=function(t){return t.reduce(function(r,n){return[Xf(n.concat([r[0]]).filter(re)),ka(n.concat([r[1]]).filter(re))]},[1/0,-1/0])},EO=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var m=lX(d.slice(r,n+1));return[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},qw=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ww=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ty=function(t,r,n){if(ve(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(re(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(qw.test(t[0])){var i=+qw.exec(t[0])[1];s[0]=r[0]-i}else ve(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(re(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(Ww.test(t[1])){var o=+Ww.exec(t[1])[1];s[1]=r[1]+o}else ve(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},vm=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=qv(r,function(m){return m.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},Gw=function(t,r,n){return!t||!t.length||Vs(t,$r(n,"type.defaultProps.domain"))?r:t},TO=function(t,r){var n=t.type.defaultProps?lt(lt({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return lt(lt({},me(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:y0(t),value:ft(r,s),type:c,payload:r,chartType:u,hide:d})};function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}function Yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yw(Object(r),!0).forEach(function(n){PO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PO(e,t,r){return t=cX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cX(e){var t=uX(e,"string");return Sc(t)=="symbol"?t:t+""}function uX(e,t){if(Sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dX(e,t){return hX(e)||pX(e,t)||fX(e,t)||mX()}function mX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fX(e,t){if(e){if(typeof e=="string")return Kw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kw(e,t)}}function Kw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function hX(e){if(Array.isArray(e))return e}var bm=Math.PI/180,xX=function(t){return t*180/Math.PI},Ge=function(t,r,n,s){return{x:t+Math.cos(-bm*s)*n,y:r+Math.sin(-bm*s)*n}},OO=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},yX=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=or(t.cx,o,o/2),m=or(t.cy,l,l/2),f=OO(o,l,n),p=or(t.innerRadius,f,0),h=or(t.outerRadius,f,f*.8),g=Object.keys(r);return g.reduce(function(v,x){var y=r[x],b=y.domain,N=y.reversed,j;if(we(y.range))s==="angleAxis"?j=[c,u]:s==="radiusAxis"&&(j=[p,h]),N&&(j=[j[1],j[0]]);else{j=y.range;var w=j,A=dX(w,2);c=A[0],u=A[1]}var T=wO(y,i),S=T.realScaleType,_=T.scale;_.domain(b).range(j),SO(_);var P=AO(_,Un(Un({},y),{},{realScaleType:S})),k=Un(Un(Un({},y),P),{},{range:j,radius:h,realScaleType:S,scale:_,cx:d,cy:m,innerRadius:p,outerRadius:h,startAngle:c,endAngle:u});return Un(Un({},v),{},PO({},x,k))},{})},gX=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},vX=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,l=gX({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:xX(u),angleInRadian:u}},bX=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},jX=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},Xw=function(t,r){var n=t.x,s=t.y,i=vX({x:n,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=bX(r),m=d.startAngle,f=d.endAngle,p=l,h;if(m<=f){for(;p>f;)p-=360;for(;p<m;)p+=360;h=p>=m&&p<=f}else{for(;p>m;)p-=360;for(;p<f;)p+=360;h=p>=f&&p<=m}return h?Un(Un({},r),{},{radius:o,angle:jX(p,r)}):null},CO=function(t){return!E.isValidElement(t)&&!ve(t)&&typeof t!="boolean"?t.className:""};function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}var NX=["offset"];function wX(e){return TX(e)||EX(e)||AX(e)||SX()}function SX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AX(e,t){if(e){if(typeof e=="string")return Py(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Py(e,t)}}function EX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TX(e){if(Array.isArray(e))return Py(e)}function Py(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PX(e,t){if(e==null)return{};var r=OX(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function St(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qw(Object(r),!0).forEach(function(n){CX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CX(e,t,r){return t=_X(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _X(e){var t=kX(e,"string");return Ac(t)=="symbol"?t:t+""}function kX(e,t){if(Ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ec(){return Ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ec.apply(this,arguments)}var IX=function(t){var r=t.value,n=t.formatter,s=we(t.children)?r:t.children;return ve(n)?n(s):s},$X=function(t,r){var n=ir(r-t),s=Math.min(Math.abs(r-t),360);return n*s},RX=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,m=c.innerRadius,f=c.outerRadius,p=c.startAngle,h=c.endAngle,g=c.clockWise,v=(m+f)/2,x=$X(p,h),y=x>=0?1:-1,b,N;s==="insideStart"?(b=p+y*o,N=g):s==="insideEnd"?(b=h-y*o,N=!g):s==="end"&&(b=h+y*o,N=g),N=x<=0?N:!N;var j=Ge(u,d,v,b),w=Ge(u,d,v,b+(N?1:-1)*359),A="M".concat(j.x,",").concat(j.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(N?0:1,`,
    `).concat(w.x,",").concat(w.y),T=we(t.id)?Js("recharts-radial-line-"):t.id;return L.createElement("text",Ec({},n,{dominantBaseline:"central",className:be("recharts-radial-bar-label",l)}),L.createElement("defs",null,L.createElement("path",{id:T,d:A})),L.createElement("textPath",{xlinkHref:"#".concat(T)},r))},MX=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,m=i.endAngle,f=(d+m)/2;if(s==="outside"){var p=Ge(o,l,u+n,f),h=p.x,g=p.y;return{x:h,y:g,textAnchor:h>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,x=Ge(o,l,v,f),y=x.x,b=x.y;return{x:y,y:b,textAnchor:"middle",verticalAnchor:"middle"}},DX=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,m=d>=0?1:-1,f=m*s,p=m>0?"end":"start",h=m>0?"start":"end",g=u>=0?1:-1,v=g*s,x=g>0?"end":"start",y=g>0?"start":"end";if(i==="top"){var b={x:l+u/2,y:c-m*s,textAnchor:"middle",verticalAnchor:p};return St(St({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var N={x:l+u/2,y:c+d+f,textAnchor:"middle",verticalAnchor:h};return St(St({},N),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var j={x:l-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return St(St({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(i==="right"){var w={x:l+u+v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return St(St({},w),n?{width:Math.max(n.x+n.width-w.x,0),height:d}:{})}var A=n?{width:u,height:d}:{};return i==="insideLeft"?St({x:l+v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},A):i==="insideRight"?St({x:l+u-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},A):i==="insideTop"?St({x:l+u/2,y:c+f,textAnchor:"middle",verticalAnchor:h},A):i==="insideBottom"?St({x:l+u/2,y:c+d-f,textAnchor:"middle",verticalAnchor:p},A):i==="insideTopLeft"?St({x:l+v,y:c+f,textAnchor:y,verticalAnchor:h},A):i==="insideTopRight"?St({x:l+u-v,y:c+f,textAnchor:x,verticalAnchor:h},A):i==="insideBottomLeft"?St({x:l+v,y:c+d-f,textAnchor:y,verticalAnchor:p},A):i==="insideBottomRight"?St({x:l+u-v,y:c+d-f,textAnchor:x,verticalAnchor:p},A):$o(i)&&(re(i.x)||Ns(i.x))&&(re(i.y)||Ns(i.y))?St({x:l+or(i.x,u),y:c+or(i.y,d),textAnchor:"end",verticalAnchor:"end"},A):St({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},LX=function(t){return"cx"in t&&re(t.cx)};function $t(e){var t=e.offset,r=t===void 0?5:t,n=PX(e,NX),s=St({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,m=d===void 0?"":d,f=s.textBreakAll;if(!i||we(l)&&we(c)&&!E.isValidElement(u)&&!ve(u))return null;if(E.isValidElement(u))return E.cloneElement(u,s);var p;if(ve(u)){if(p=E.createElement(u,s),E.isValidElement(p))return p}else p=IX(s);var h=LX(i),g=me(s,!0);if(h&&(o==="insideStart"||o==="insideEnd"||o==="end"))return RX(s,p,g);var v=h?MX(s):DX(s);return L.createElement(Hs,Ec({className:be("recharts-label",m)},g,v,{breakAll:f}),p)}$t.displayName="Label";var _O=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,m=t.x,f=t.y,p=t.top,h=t.left,g=t.width,v=t.height,x=t.clockWise,y=t.labelViewBox;if(y)return y;if(re(g)&&re(v)){if(re(m)&&re(f))return{x:m,y:f,width:g,height:v};if(re(p)&&re(h))return{x:p,y:h,width:g,height:v}}return re(m)&&re(f)?{x:m,y:f,width:0,height:0}:re(r)&&re(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},BX=function(t,r){return t?t===!0?L.createElement($t,{key:"label-implicit",viewBox:r}):Pt(t)?L.createElement($t,{key:"label-implicit",viewBox:r,value:t}):E.isValidElement(t)?t.type===$t?E.cloneElement(t,{key:"label-implicit",viewBox:r}):L.createElement($t,{key:"label-implicit",content:t,viewBox:r}):ve(t)?L.createElement($t,{key:"label-implicit",content:t,viewBox:r}):$o(t)?L.createElement($t,Ec({viewBox:r},t,{key:"label-implicit"})):null:null},UX=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=_O(t),o=Rr(s,$t).map(function(c,u){return E.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=BX(t.label,r||i);return[l].concat(wX(o))};$t.parseViewBox=_O;$t.renderCallByParent=UX;function FX(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var zX=FX;const HX=Be(zX);function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}var VX=["valueAccessor"],qX=["data","dataKey","clockWise","id","textBreakAll"];function WX(e){return XX(e)||KX(e)||YX(e)||GX()}function GX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YX(e,t){if(e){if(typeof e=="string")return Oy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Oy(e,t)}}function KX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XX(e){if(Array.isArray(e))return Oy(e)}function Oy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jm(){return jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jm.apply(this,arguments)}function Jw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jw(Object(r),!0).forEach(function(n){QX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QX(e,t,r){return t=JX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JX(e){var t=ZX(e,"string");return Tc(t)=="symbol"?t:t+""}function ZX(e,t){if(Tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e1(e,t){if(e==null)return{};var r=eQ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var tQ=function(t){return Array.isArray(t.value)?HX(t.value):t.value};function _n(e){var t=e.valueAccessor,r=t===void 0?tQ:t,n=e1(e,VX),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=e1(n,qX);return!s||!s.length?null:L.createElement(Oe,{className:"recharts-label-list"},s.map(function(d,m){var f=we(i)?r(d,m):ft(d&&d.payload,i),p=we(l)?{}:{id:"".concat(l,"-").concat(m)};return L.createElement($t,jm({},me(d,!0),u,p,{parentViewBox:d.parentViewBox,value:f,textBreakAll:c,viewBox:$t.parseViewBox(we(o)?d:Zw(Zw({},d),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}_n.displayName="LabelList";function rQ(e,t){return e?e===!0?L.createElement(_n,{key:"labelList-implicit",data:t}):L.isValidElement(e)||ve(e)?L.createElement(_n,{key:"labelList-implicit",data:t,content:e}):$o(e)?L.createElement(_n,jm({data:t},e,{key:"labelList-implicit"})):null:null}function nQ(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=Rr(n,_n).map(function(o,l){return E.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=rQ(e.label,t);return[i].concat(WX(s))}_n.renderCallByParent=nQ;function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cy.apply(this,arguments)}function t1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function r1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t1(Object(r),!0).forEach(function(n){aQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aQ(e,t,r){return t=sQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sQ(e){var t=iQ(e,"string");return Pc(t)=="symbol"?t:t+""}function iQ(e,t){if(Pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oQ=function(t,r){var n=ir(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},Gu=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,m=Math.asin(c/d)/bm,f=u?i:i+o*m,p=Ge(r,n,d,f),h=Ge(r,n,s,f),g=u?i-o*m:i,v=Ge(r,n,d*Math.cos(m*bm),g);return{center:p,circleTangency:h,lineTangency:v,theta:m}},kO=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=oQ(o,l),u=o+c,d=Ge(r,n,i,o),m=Ge(r,n,i,u),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(s>0){var p=Ge(r,n,s,o),h=Ge(r,n,s,u);f+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(r,",").concat(n," Z");return f},lQ=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,m=ir(d-u),f=Gu({cx:r,cy:n,radius:i,angle:u,sign:m,cornerRadius:o,cornerIsExternal:c}),p=f.circleTangency,h=f.lineTangency,g=f.theta,v=Gu({cx:r,cy:n,radius:i,angle:d,sign:-m,cornerRadius:o,cornerIsExternal:c}),x=v.circleTangency,y=v.lineTangency,b=v.theta,N=c?Math.abs(u-d):Math.abs(u-d)-g-b;if(N<0)return l?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):kO({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d});var j="M ".concat(h.x,",").concat(h.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(m<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(y.x,",").concat(y.y,`
  `);if(s>0){var w=Gu({cx:r,cy:n,radius:s,angle:u,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=w.circleTangency,T=w.lineTangency,S=w.theta,_=Gu({cx:r,cy:n,radius:s,angle:d,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=_.circleTangency,k=_.lineTangency,O=_.theta,C=c?Math.abs(u-d):Math.abs(u-d)-S-O;if(C<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(C>180),",").concat(+(m>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},cQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},IO=function(t){var r=r1(r1({},cQ),t),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,m=r.endAngle,f=r.className;if(o<i||d===m)return null;var p=be("recharts-sector",f),h=o-i,g=or(l,h,0,!0),v;return g>0&&Math.abs(d-m)<360?v=lQ({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,h/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:m}):v=kO({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:d,endAngle:m}),L.createElement("path",Cy({},me(r,!0),{className:p,d:v,role:"img"}))};function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}function _y(){return _y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_y.apply(this,arguments)}function n1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function a1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n1(Object(r),!0).forEach(function(n){uQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uQ(e,t,r){return t=dQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dQ(e){var t=mQ(e,"string");return Oc(t)=="symbol"?t:t+""}function mQ(e,t){if(Oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s1={curveBasisClosed:uB,curveBasisOpen:dB,curveBasis:cB,curveBumpX:K3,curveBumpY:X3,curveLinearClosed:mB,curveLinear:Df,curveMonotoneX:fB,curveMonotoneY:pB,curveNatural:hB,curveStep:xB,curveStepAfter:gB,curveStepBefore:yB},Yu=function(t){return t.x===+t.x&&t.y===+t.y},ll=function(t){return t.x},cl=function(t){return t.y},fQ=function(t,r){if(ve(t))return t;var n="curve".concat(Rf(t));return(n==="curveMonotone"||n==="curveBump")&&r?s1["".concat(n).concat(r==="vertical"?"Y":"X")]:s1[n]||Df},pQ=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=fQ(n,l),m=u?i.filter(function(g){return Yu(g)}):i,f;if(Array.isArray(o)){var p=u?o.filter(function(g){return Yu(g)}):o,h=m.map(function(g,v){return a1(a1({},g),{},{base:p[v]})});return l==="vertical"?f=Lu().y(cl).x1(ll).x0(function(g){return g.base.x}):f=Lu().x(ll).y1(cl).y0(function(g){return g.base.y}),f.defined(Yu).curve(d),f(h)}return l==="vertical"&&re(o)?f=Lu().y(cl).x1(ll).x0(o):re(o)?f=Lu().x(ll).y1(cl).y0(o):f=TT().x(ll).y(cl),f.defined(Yu).curve(d),f(m)},ks=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?pQ(t):s;return E.createElement("path",_y({},me(t,!1),qd(t),{className:be("recharts-curve",r),d:o,ref:i}))},$O={exports:{}},hQ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",xQ=hQ,yQ=xQ;function RO(){}function MO(){}MO.resetWarningCache=RO;var gQ=function(){function e(n,s,i,o,l,c){if(c!==yQ){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:MO,resetWarningCache:RO};return r.PropTypes=r,r};$O.exports=gQ();var vQ=$O.exports;const Re=Be(vQ);var bQ=Object.getOwnPropertyNames,jQ=Object.getOwnPropertySymbols,NQ=Object.prototype.hasOwnProperty;function i1(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function Ku(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);var i=s.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,s);return i.delete(r),i.delete(n),c}}function o1(e){return bQ(e).concat(jQ(e))}var wQ=Object.hasOwn||function(e,t){return NQ.call(e,t)};function ti(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var SQ="__v",AQ="__o",EQ="_owner",l1=Object.getOwnPropertyDescriptor,c1=Object.keys;function TQ(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function PQ(e,t){return ti(e.getTime(),t.getTime())}function OQ(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function CQ(e,t){return e===t}function u1(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,m=0;(l=u.next())&&!l.done;){if(s[m]){m++;continue}var f=o.value,p=l.value;if(r.equals(f[0],p[0],c,m,e,t,r)&&r.equals(f[1],p[1],f[0],p[0],e,t,r)){d=s[m]=!0;break}m++}if(!d)return!1;c++}return!0}var _Q=ti;function kQ(e,t,r){var n=c1(e),s=n.length;if(c1(t).length!==s)return!1;for(;s-- >0;)if(!DO(e,t,r,n[s]))return!1;return!0}function ul(e,t,r){var n=o1(e),s=n.length;if(o1(t).length!==s)return!1;for(var i,o,l;s-- >0;)if(i=n[s],!DO(e,t,r,i)||(o=l1(e,i),l=l1(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function IQ(e,t){return ti(e.valueOf(),t.valueOf())}function $Q(e,t){return e.source===t.source&&e.flags===t.flags}function d1(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!s[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function RQ(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function MQ(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function DO(e,t,r,n){return(n===EQ||n===AQ||n===SQ)&&(e.$$typeof||t.$$typeof)?!0:wQ(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var DQ="[object Arguments]",LQ="[object Boolean]",BQ="[object Date]",UQ="[object Error]",FQ="[object Map]",zQ="[object Number]",HQ="[object Object]",VQ="[object RegExp]",qQ="[object Set]",WQ="[object String]",GQ="[object URL]",YQ=Array.isArray,m1=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,f1=Object.assign,KQ=Object.prototype.toString.call.bind(Object.prototype.toString);function XQ(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,m=e.areTypedArraysEqual,f=e.areUrlsEqual;return function(h,g,v){if(h===g)return!0;if(h==null||g==null)return!1;var x=typeof h;if(x!==typeof g)return!1;if(x!=="object")return x==="number"?o(h,g,v):x==="function"?s(h,g,v):!1;var y=h.constructor;if(y!==g.constructor)return!1;if(y===Object)return l(h,g,v);if(YQ(h))return t(h,g,v);if(m1!=null&&m1(h))return m(h,g,v);if(y===Date)return r(h,g,v);if(y===RegExp)return u(h,g,v);if(y===Map)return i(h,g,v);if(y===Set)return d(h,g,v);var b=KQ(h);return b===BQ?r(h,g,v):b===VQ?u(h,g,v):b===FQ?i(h,g,v):b===qQ?d(h,g,v):b===HQ?typeof h.then!="function"&&typeof g.then!="function"&&l(h,g,v):b===GQ?f(h,g,v):b===UQ?n(h,g,v):b===DQ?l(h,g,v):b===LQ||b===zQ||b===WQ?c(h,g,v):!1}}function QQ(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,s={areArraysEqual:n?ul:TQ,areDatesEqual:PQ,areErrorsEqual:OQ,areFunctionsEqual:CQ,areMapsEqual:n?i1(u1,ul):u1,areNumbersEqual:_Q,areObjectsEqual:n?ul:kQ,arePrimitiveWrappersEqual:IQ,areRegExpsEqual:$Q,areSetsEqual:n?i1(d1,ul):d1,areTypedArraysEqual:n?ul:RQ,areUrlsEqual:MQ};if(r&&(s=f1({},s,r(s))),t){var i=Ku(s.areArraysEqual),o=Ku(s.areMapsEqual),l=Ku(s.areObjectsEqual),c=Ku(s.areSetsEqual);s=f1({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function JQ(e){return function(t,r,n,s,i,o,l){return e(t,r,l)}}function ZQ(e){var t=e.circular,r=e.comparator,n=e.createState,s=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),m=d.cache,f=m===void 0?t?new WeakMap:void 0:m,p=d.meta;return r(c,u,{cache:f,equals:s,meta:p,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var eJ=as();as({strict:!0});as({circular:!0});as({circular:!0,strict:!0});as({createInternalComparator:function(){return ti}});as({strict:!0,createInternalComparator:function(){return ti}});as({circular:!0,createInternalComparator:function(){return ti}});as({circular:!0,createInternalComparator:function(){return ti},strict:!0});function as(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,s=e.createState,i=e.strict,o=i===void 0?!1:i,l=QQ(e),c=XQ(l),u=n?n(c):JQ(c);return ZQ({circular:r,comparator:c,createState:s,equals:u,strict:o})}function tJ(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function p1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):tJ(s)};requestAnimationFrame(n)}function ky(e){"@babel/helpers - typeof";return ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ky(e)}function rJ(e){return iJ(e)||sJ(e)||aJ(e)||nJ()}function nJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aJ(e,t){if(e){if(typeof e=="string")return h1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h1(e,t)}}function h1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iJ(e){if(Array.isArray(e))return e}function oJ(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=rJ(o),c=l[0],u=l.slice(1);if(typeof c=="number"){p1(s.bind(null,u),c);return}s(c),p1(s.bind(null,u));return}ky(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function x1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function y1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x1(Object(r),!0).forEach(function(n){LO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LO(e,t,r){return t=lJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lJ(e){var t=cJ(e,"string");return Cc(t)==="symbol"?t:String(t)}function cJ(e,t){if(Cc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uJ=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},dJ=function(t){return t},mJ=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},$l=function(t,r){return Object.keys(r).reduce(function(n,s){return y1(y1({},n),{},LO({},s,t(s,r[s])))},{})},g1=function(t,r,n){return t.map(function(s){return"".concat(mJ(s)," ").concat(r,"ms ").concat(n)}).join(",")};function fJ(e,t){return xJ(e)||hJ(e,t)||BO(e,t)||pJ()}function pJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function xJ(e){if(Array.isArray(e))return e}function yJ(e){return bJ(e)||vJ(e)||BO(e)||gJ()}function gJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BO(e,t){if(e){if(typeof e=="string")return Iy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Iy(e,t)}}function vJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bJ(e){if(Array.isArray(e))return Iy(e)}function Iy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Nm=1e-4,UO=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},FO=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},v1=function(t,r){return function(n){var s=UO(t,r);return FO(s,n)}},jJ=function(t,r){return function(n){var s=UO(t,r),i=[].concat(yJ(s.map(function(o,l){return o*l}).slice(1)),[0]);return FO(i,n)}},b1=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=fJ(u,4);s=d[0],i=d[1],o=d[2],l=d[3]}}}var m=v1(s,o),f=v1(i,l),p=jJ(s,o),h=function(x){return x>1?1:x<0?0:x},g=function(x){for(var y=x>1?1:x,b=y,N=0;N<8;++N){var j=m(b)-y,w=p(b);if(Math.abs(j-y)<Nm||w<Nm)return f(b);b=h(b-j/w)}return f(b)};return g.isStepper=!1,g},NJ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(d,m,f){var p=-(d-m)*n,h=f*i,g=f+(p-h)*l/1e3,v=f*l/1e3+d;return Math.abs(v-m)<Nm&&Math.abs(g)<Nm?[m,0]:[v,g]};return c.isStepper=!0,c.dt=l,c},wJ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return b1(s);case"spring":return NJ();default:if(s.split("(")[0]==="cubic-bezier")return b1(s)}return typeof s=="function"?s:null};function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function j1(e){return EJ(e)||AJ(e)||zO(e)||SJ()}function SJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EJ(e){if(Array.isArray(e))return Ry(e)}function N1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N1(Object(r),!0).forEach(function(n){$y(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $y(e,t,r){return t=TJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TJ(e){var t=PJ(e,"string");return _c(t)==="symbol"?t:String(t)}function PJ(e,t){if(_c(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_c(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OJ(e,t){return kJ(e)||_J(e,t)||zO(e,t)||CJ()}function CJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zO(e,t){if(e){if(typeof e=="string")return Ry(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ry(e,t)}}function Ry(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _J(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function kJ(e){if(Array.isArray(e))return e}var wm=function(t,r,n){return t+(r-t)*n},My=function(t){var r=t.from,n=t.to;return r!==n},IJ=function e(t,r,n){var s=$l(function(i,o){if(My(o)){var l=t(o.from,o.to,o.velocity),c=OJ(l,2),u=c[0],d=c[1];return Dt(Dt({},o),{},{from:u,velocity:d})}return o},r);return n<1?$l(function(i,o){return My(o)?Dt(Dt({},o),{},{velocity:wm(o.velocity,s[i].velocity,n),from:wm(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const $J=function(e,t,r,n,s){var i=uJ(e,t),o=i.reduce(function(v,x){return Dt(Dt({},v),{},$y({},x,[e[x],t[x]]))},{}),l=i.reduce(function(v,x){return Dt(Dt({},v),{},$y({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,m=function(){return null},f=function(){return $l(function(x,y){return y.from},l)},p=function(){return!Object.values(l).filter(My).length},h=function(x){u||(u=x);var y=x-u,b=y/r.dt;l=IJ(r,l,b),s(Dt(Dt(Dt({},e),t),f())),u=x,p()||(c=requestAnimationFrame(m))},g=function(x){d||(d=x);var y=(x-d)/n,b=$l(function(j,w){return wm.apply(void 0,j1(w).concat([r(y)]))},o);if(s(Dt(Dt(Dt({},e),t),b)),y<1)c=requestAnimationFrame(m);else{var N=$l(function(j,w){return wm.apply(void 0,j1(w).concat([r(1)]))},o);s(Dt(Dt(Dt({},e),t),N))}};return m=r.isStepper?h:g,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}};function io(e){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(e)}var RJ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function MJ(e,t){if(e==null)return{};var r=DJ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DJ(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function xh(e){return FJ(e)||UJ(e)||BJ(e)||LJ()}function LJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BJ(e,t){if(e){if(typeof e=="string")return Dy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dy(e,t)}}function UJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FJ(e){if(Array.isArray(e))return Dy(e)}function Dy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w1(Object(r),!0).forEach(function(n){bl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bl(e,t,r){return t=HO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HO(n.key),n)}}function VJ(e,t,r){return t&&HJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HO(e){var t=qJ(e,"string");return io(t)==="symbol"?t:String(t)}function qJ(e,t){if(io(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(io(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ly(e,t)}function Ly(e,t){return Ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ly(e,t)}function GJ(e){var t=YJ();return function(){var n=Sm(e),s;if(t){var i=Sm(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return By(this,s)}}function By(e,t){if(t&&(io(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uy(e)}function Uy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YJ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sm(e){return Sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sm(e)}var yn=function(e){WJ(r,e);var t=GJ(r);function r(n,s){var i;zJ(this,r),i=t.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,m=o.steps,f=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Uy(i)),i.changeStyle=i.changeStyle.bind(Uy(i)),!l||p<=0)return i.state={style:{}},typeof f=="function"&&(i.state={style:d}),By(i);if(m&&m.length)i.state={style:m[0].style};else if(u){if(typeof f=="function")return i.state={style:u},By(i);i.state={style:c?bl({},c,u):u}}else i.state={style:{}};return i}return VJ(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,m=i.from,f=this.state.style;if(l){if(!o){var p={style:c?bl({},c,d):d};this.state&&f&&(c&&f[c]!==d||!c&&f!==d)&&this.setState(p);return}if(!(eJ(s.to,d)&&s.canBegin&&s.isActive)){var h=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=h||u?m:s.to;if(this.state&&f){var v={style:c?bl({},c,g):g};(c&&f[c]!==g||!c&&f!==g)&&this.setState(v)}this.runAnimation(nn(nn({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,m=s.onAnimationEnd,f=s.onAnimationStart,p=$J(o,l,wJ(u),c,this.changeStyle),h=function(){i.stopJSAnimation=p()};this.manager.start([f,d,h,c,m])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,m=u.duration,f=m===void 0?0:m,p=function(g,v,x){if(x===0)return g;var y=v.duration,b=v.easing,N=b===void 0?"ease":b,j=v.style,w=v.properties,A=v.onAnimationEnd,T=x>0?o[x-1]:v,S=w||Object.keys(j);if(typeof N=="function"||N==="spring")return[].concat(xh(g),[i.runJSAnimation.bind(i,{from:T.style,to:j,duration:y,easing:N}),y]);var _=g1(S,y,N),P=nn(nn(nn({},T.style),j),{},{transition:_});return[].concat(xh(g),[P,y,A]).filter(dJ)};return this.manager.start([c].concat(xh(o.reduce(p,[d,Math.max(f,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=oJ());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,m=s.onAnimationEnd,f=s.steps,p=s.children,h=this.manager;if(this.unSubscribe=h.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(s);return}if(f.length>1){this.runStepAnimation(s);return}var g=l?bl({},l,c):c,v=g1(Object.keys(g),o,u);h.start([d,i,nn(nn({},g),{},{transition:v}),o,m])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=MJ(s,RJ),u=E.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var m=function(p){var h=p.props,g=h.style,v=g===void 0?{}:g,x=h.className,y=E.cloneElement(p,nn(nn({},c),{},{style:nn(nn({},v),d),className:x}));return y};return u===1?m(E.Children.only(i)):L.createElement("div",null,E.Children.map(i,function(f){return m(f)}))}}]),r}(E.PureComponent);yn.displayName="Animate";yn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};yn.propTypes={from:Re.oneOfType([Re.object,Re.string]),to:Re.oneOfType([Re.object,Re.string]),attributeName:Re.string,duration:Re.number,begin:Re.number,easing:Re.oneOfType([Re.string,Re.func]),steps:Re.arrayOf(Re.shape({duration:Re.number.isRequired,style:Re.object.isRequired,easing:Re.oneOfType([Re.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Re.func]),properties:Re.arrayOf("string"),onAnimationEnd:Re.func})),children:Re.oneOfType([Re.node,Re.func]),isActive:Re.bool,canBegin:Re.bool,onAnimationEnd:Re.func,shouldReAnimate:Re.bool,onAnimationStart:Re.func,onAnimationReStart:Re.func};function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function Am(){return Am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Am.apply(this,arguments)}function KJ(e,t){return ZJ(e)||JJ(e,t)||QJ(e,t)||XJ()}function XJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QJ(e,t){if(e){if(typeof e=="string")return S1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S1(e,t)}}function S1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function ZJ(e){if(Array.isArray(e))return e}function A1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function E1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A1(Object(r),!0).forEach(function(n){eZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eZ(e,t,r){return t=tZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tZ(e){var t=rZ(e,"string");return kc(t)=="symbol"?t:t+""}function rZ(e,t){if(kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T1=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var m=[0,0,0,0],f=0,p=4;f<p;f++)m[f]=i[f]>o?o:i[f];d="M".concat(t,",").concat(r+l*m[0]),m[0]>0&&(d+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(u,",").concat(t+c*m[0],",").concat(r)),d+="L ".concat(t+n-c*m[1],",").concat(r),m[1]>0&&(d+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*m[1])),d+="L ".concat(t+n,",").concat(r+s-l*m[2]),m[2]>0&&(d+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(u,`,
        `).concat(t+n-c*m[2],",").concat(r+s)),d+="L ".concat(t+c*m[3],",").concat(r+s),m[3]>0&&(d+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*m[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var h=Math.min(o,i);d="M ".concat(t,",").concat(r+l*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(u,",").concat(t+c*h,",").concat(r,`
            L `).concat(t+n-c*h,",").concat(r,`
            A `).concat(h,",").concat(h,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*h,`
            L `).concat(t+n,",").concat(r+s-l*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(u,",").concat(t+n-c*h,",").concat(r+s,`
            L `).concat(t+c*h,",").concat(r+s,`
            A `).concat(h,",").concat(h,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*h," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},nZ=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),m=Math.min(o,o+c),f=Math.max(o,o+c);return n>=u&&n<=d&&s>=m&&s<=f}return!1},aZ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},g0=function(t){var r=E1(E1({},aZ),t),n=E.useRef(),s=E.useState(-1),i=KJ(s,2),o=i[0],l=i[1];E.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,u=r.y,d=r.width,m=r.height,f=r.radius,p=r.className,h=r.animationEasing,g=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||m!==+m||d===0||m===0)return null;var b=be("recharts-rectangle",p);return y?L.createElement(yn,{canBegin:o>0,from:{width:d,height:m,x:c,y:u},to:{width:d,height:m,x:c,y:u},duration:g,animationEasing:h,isActive:y},function(N){var j=N.width,w=N.height,A=N.x,T=N.y;return L.createElement(yn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:x,easing:h},L.createElement("path",Am({},me(r,!0),{className:b,d:T1(A,T,j,w,f),ref:n})))}):L.createElement("path",Am({},me(r,!0),{className:b,d:T1(c,u,d,m,f)}))},sZ=["points","className","baseLinePoints","connectNulls"];function Ti(){return Ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ti.apply(this,arguments)}function iZ(e,t){if(e==null)return{};var r=oZ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function P1(e){return dZ(e)||uZ(e)||cZ(e)||lZ()}function lZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cZ(e,t){if(e){if(typeof e=="string")return Fy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fy(e,t)}}function uZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dZ(e){if(Array.isArray(e))return Fy(e)}function Fy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var O1=function(t){return t&&t.x===+t.x&&t.y===+t.y},mZ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){O1(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),O1(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Rl=function(t,r){var n=mZ(t);r&&(n=[n.reduce(function(i,o){return[].concat(P1(i),P1(o))},[])]);var s=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},fZ=function(t,r,n){var s=Rl(t,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Rl(r.reverse(),n).slice(1))},pZ=function(t){var r=t.points,n=t.className,s=t.baseLinePoints,i=t.connectNulls,o=iZ(t,sZ);if(!r||!r.length)return null;var l=be("recharts-polygon",n);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",u=fZ(r,s,i);return L.createElement("g",{className:l},L.createElement("path",Ti({},me(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?L.createElement("path",Ti({},me(o,!0),{fill:"none",d:Rl(r,i)})):null,c?L.createElement("path",Ti({},me(o,!0),{fill:"none",d:Rl(s,i)})):null)}var d=Rl(r,i);return L.createElement("path",Ti({},me(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zy.apply(this,arguments)}var cu=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,o=be("recharts-dot",i);return r===+r&&n===+n&&s===+s?E.createElement("circle",zy({},me(t,!1),qd(t),{className:o,cx:r,cy:n,r:s})):null};function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}var hZ=["x","y","top","left","width","height","className"];function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hy.apply(this,arguments)}function C1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C1(Object(r),!0).forEach(function(n){yZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yZ(e,t,r){return t=gZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gZ(e){var t=vZ(e,"string");return Ic(t)=="symbol"?t:t+""}function vZ(e,t){if(Ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bZ(e,t){if(e==null)return{};var r=jZ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var NZ=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},wZ=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,m=d===void 0?0:d,f=t.height,p=f===void 0?0:f,h=t.className,g=bZ(t,hZ),v=xZ({x:n,y:i,top:l,left:u,width:m,height:p},g);return!re(n)||!re(i)||!re(m)||!re(p)||!re(l)||!re(u)?null:L.createElement("path",Hy({},me(v,!0),{className:be("recharts-cross",h),d:NZ(n,i,m,p,l,u)}))},SZ=Kf,AZ=tO,EZ=Rn;function TZ(e,t){return e&&e.length?SZ(e,EZ(t),AZ):void 0}var PZ=TZ;const OZ=Be(PZ);var CZ=Kf,_Z=Rn,kZ=rO;function IZ(e,t){return e&&e.length?CZ(e,_Z(t),kZ):void 0}var $Z=IZ;const RZ=Be($Z);var MZ=["cx","cy","angle","ticks","axisLine"],DZ=["ticks","tick","angle","tickFormatter","stroke"];function oo(e){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(e)}function Ml(){return Ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ml.apply(this,arguments)}function _1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function is(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_1(Object(r),!0).forEach(function(n){Zf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k1(e,t){if(e==null)return{};var r=LZ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qO(n.key),n)}}function UZ(e,t,r){return t&&I1(e.prototype,t),r&&I1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function FZ(e,t,r){return t=Em(t),zZ(e,VO()?Reflect.construct(t,r||[],Em(e).constructor):t.apply(e,r))}function zZ(e,t){if(t&&(oo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HZ(e)}function HZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VO=function(){return!!e})()}function Em(e){return Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Em(e)}function VZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vy(e,t)}function Vy(e,t){return Vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Vy(e,t)}function Zf(e,t,r){return t=qO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qO(e){var t=qZ(e,"string");return oo(t)=="symbol"?t:t+""}function qZ(e,t){if(oo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ep=function(e){function t(){return BZ(this,t),FZ(this,t,arguments)}return VZ(t,e),UZ(t,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Ge(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=OZ(l,function(d){return d.coordinate||0}),u=RZ(l,function(d){return d.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=k1(n,MZ),d=l.reduce(function(h,g){return[Math.min(h[0],g.coordinate),Math.max(h[1],g.coordinate)]},[1/0,-1/0]),m=Ge(s,i,d[0],o),f=Ge(s,i,d[1],o),p=is(is(is({},me(u,!1)),{},{fill:"none"},me(c,!1)),{},{x1:m.x,y1:m.y,x2:f.x,y2:f.y});return L.createElement("line",Ml({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,d=k1(s,DZ),m=this.getTickTextAnchor(),f=me(d,!1),p=me(o,!1),h=i.map(function(g,v){var x=n.getTickValueCoord(g),y=is(is(is(is({textAnchor:m,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},f),{},{stroke:"none",fill:u},p),{},{index:v},x),{},{payload:g});return L.createElement(Oe,Ml({className:be("recharts-polar-radius-axis-tick",CO(o)),key:"tick-".concat(g.coordinate)},zs(n.props,g,v)),t.renderTickItem(o,y,c?c(g.value,v):g.value))});return L.createElement(Oe,{className:"recharts-polar-radius-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.axisLine,o=n.tick;return!s||!s.length?null:L.createElement(Oe,{className:be("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),$t.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,i){var o;return L.isValidElement(n)?o=L.cloneElement(n,s):ve(n)?o=n(s):o=L.createElement(Hs,Ml({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(E.PureComponent);Zf(ep,"displayName","PolarRadiusAxis");Zf(ep,"axisType","radiusAxis");Zf(ep,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function lo(e){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(e)}function hs(){return hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hs.apply(this,arguments)}function $1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function os(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$1(Object(r),!0).forEach(function(n){tp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GO(n.key),n)}}function GZ(e,t,r){return t&&R1(e.prototype,t),r&&R1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function YZ(e,t,r){return t=Tm(t),KZ(e,WO()?Reflect.construct(t,r||[],Tm(e).constructor):t.apply(e,r))}function KZ(e,t){if(t&&(lo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XZ(e)}function XZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WO=function(){return!!e})()}function Tm(e){return Tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tm(e)}function QZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qy(e,t)}function qy(e,t){return qy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},qy(e,t)}function tp(e,t,r){return t=GO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GO(e){var t=JZ(e,"string");return lo(t)=="symbol"?t:t+""}function JZ(e,t){if(lo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ZZ=Math.PI/180,M1=1e-5,rp=function(e){function t(){return WZ(this,t),YZ(this,t,arguments)}return QZ(t,e),GZ(t,[{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.cx,o=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,d=u||8,m=Ge(i,o,l,n.coordinate),f=Ge(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:m.x,y1:m.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,i=Math.cos(-n.coordinate*ZZ),o;return i>M1?o=s==="outer"?"start":"end":i<-M1?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=os(os({},me(this.props,!1)),{},{fill:"none"},me(l,!1));if(c==="circle")return L.createElement(cu,hs({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:i,r:o}));var d=this.props.ticks,m=d.map(function(f){return Ge(s,i,o,f.coordinate)});return L.createElement(pZ,hs({className:"recharts-polar-angle-axis-line"},u,{points:m}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,d=me(this.props,!1),m=me(o,!1),f=os(os({},d),{},{fill:"none"},me(l,!1)),p=i.map(function(h,g){var v=n.getTickLineCoord(h),x=n.getTickTextAnchor(h),y=os(os(os({textAnchor:x},d),{},{stroke:"none",fill:u},m),{},{index:g,payload:h,x:v.x2,y:v.y2});return L.createElement(Oe,hs({className:be("recharts-polar-angle-axis-tick",CO(o)),key:"tick-".concat(h.coordinate)},zs(n.props,h,g)),l&&L.createElement("line",hs({className:"recharts-polar-angle-axis-tick-line"},f,v)),o&&t.renderTickItem(o,y,c?c(h.value,g):h.value))});return L.createElement(Oe,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!s||!s.length?null:L.createElement(Oe,{className:be("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,i){var o;return L.isValidElement(n)?o=L.cloneElement(n,s):ve(n)?o=n(s):o=L.createElement(Hs,hs({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(E.PureComponent);tp(rp,"displayName","PolarAngleAxis");tp(rp,"axisType","angleAxis");tp(rp,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var eee=QT,tee=eee(Object.getPrototypeOf,Object),ree=tee,nee=fa,aee=ree,see=pa,iee="[object Object]",oee=Function.prototype,lee=Object.prototype,YO=oee.toString,cee=lee.hasOwnProperty,uee=YO.call(Object);function dee(e){if(!see(e)||nee(e)!=iee)return!1;var t=aee(e);if(t===null)return!0;var r=cee.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&YO.call(r)==uee}var mee=dee;const fee=Be(mee);var pee=fa,hee=pa,xee="[object Boolean]";function yee(e){return e===!0||e===!1||hee(e)&&pee(e)==xee}var gee=yee;const vee=Be(gee);function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}function Pm(){return Pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pm.apply(this,arguments)}function bee(e,t){return See(e)||wee(e,t)||Nee(e,t)||jee()}function jee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nee(e,t){if(e){if(typeof e=="string")return D1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D1(e,t)}}function D1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function See(e){if(Array.isArray(e))return e}function L1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function B1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L1(Object(r),!0).forEach(function(n){Aee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aee(e,t,r){return t=Eee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eee(e){var t=Tee(e,"string");return $c(t)=="symbol"?t:t+""}function Tee(e,t){if($c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U1=function(t,r,n,s,i){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},Pee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Oee=function(t){var r=B1(B1({},Pee),t),n=E.useRef(),s=E.useState(-1),i=bee(s,2),o=i[0],l=i[1];E.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,m=r.lowerWidth,f=r.height,p=r.className,h=r.animationEasing,g=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||m!==+m||f!==+f||d===0&&m===0||f===0)return null;var y=be("recharts-trapezoid",p);return x?L.createElement(yn,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:u},to:{upperWidth:d,lowerWidth:m,height:f,x:c,y:u},duration:g,animationEasing:h,isActive:x},function(b){var N=b.upperWidth,j=b.lowerWidth,w=b.height,A=b.x,T=b.y;return L.createElement(yn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:h},L.createElement("path",Pm({},me(r,!0),{className:y,d:U1(A,T,N,j,w),ref:n})))}):L.createElement("g",null,L.createElement("path",Pm({},me(r,!0),{className:y,d:U1(c,u,d,m,f)})))},Cee=["option","shapeType","propTransformer","activeClassName","isActive"];function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function _ee(e,t){if(e==null)return{};var r=kee(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function F1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Om(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F1(Object(r),!0).forEach(function(n){Iee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iee(e,t,r){return t=$ee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ee(e){var t=Ree(e,"string");return Rc(t)=="symbol"?t:t+""}function Ree(e,t){if(Rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mee(e,t){return Om(Om({},t),e)}function Dee(e,t){return e==="symbols"}function z1(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return L.createElement(g0,r);case"trapezoid":return L.createElement(Oee,r);case"sector":return L.createElement(IO,r);case"symbols":if(Dee(t))return L.createElement(Dv,r);break;default:return null}}function Lee(e){return E.isValidElement(e)?e.props:e}function KO(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?Mee:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=_ee(e,Cee),u;if(E.isValidElement(t))u=E.cloneElement(t,Om(Om({},c),Lee(t)));else if(ve(t))u=t(c);else if(fee(t)&&!vee(t)){var d=s(t,c);u=L.createElement(z1,{shapeType:r,elementProps:d})}else{var m=c;u=L.createElement(z1,{shapeType:r,elementProps:m})}return l?L.createElement(Oe,{className:o},u):u}function np(e,t){return t!=null&&"trapezoids"in e.props}function ap(e,t){return t!=null&&"sectors"in e.props}function Mc(e,t){return t!=null&&"points"in e.props}function Bee(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function Uee(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Fee(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function zee(e,t){var r;return np(e,t)?r=Bee:ap(e,t)?r=Uee:Mc(e,t)&&(r=Fee),r}function Hee(e,t){var r;return np(e,t)?r="trapezoids":ap(e,t)?r="sectors":Mc(e,t)&&(r="points"),r}function Vee(e,t){if(np(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(ap(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Mc(e,t)?t.payload:{}}function qee(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=Hee(r,t),i=Vee(r,t),o=n.filter(function(c,u){var d=Vs(i,c),m=r.props[s].filter(function(h){var g=zee(r,t);return g(h,t)}),f=r.props[s].indexOf(m[m.length-1]),p=u===f;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var xd;function co(e){"@babel/helpers - typeof";return co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},co(e)}function Pi(){return Pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pi.apply(this,arguments)}function H1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H1(Object(r),!0).forEach(function(n){Vr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QO(n.key),n)}}function Gee(e,t,r){return t&&V1(e.prototype,t),r&&V1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yee(e,t,r){return t=Cm(t),Kee(e,XO()?Reflect.construct(t,r||[],Cm(e).constructor):t.apply(e,r))}function Kee(e,t){if(t&&(co(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xee(e)}function Xee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XO=function(){return!!e})()}function Cm(e){return Cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cm(e)}function Qee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wy(e,t)}function Wy(e,t){return Wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Wy(e,t)}function Vr(e,t,r){return t=QO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QO(e){var t=Jee(e,"string");return co(t)=="symbol"?t:t+""}function Jee(e,t){if(co(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(co(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xa=function(e){function t(r){var n;return Wee(this,t),n=Yee(this,t,[r]),Vr(n,"pieRef",null),Vr(n,"sectorRefs",[]),Vr(n,"id",Js("recharts-pie-")),Vr(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ve(s)&&s()}),Vr(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ve(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Qee(t,e),Gee(t,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=me(this.props,!1),m=me(o,!1),f=me(l,!1),p=o&&o.offsetRadius||20,h=n.map(function(g,v){var x=(g.startAngle+g.endAngle)/2,y=Ge(g.cx,g.cy,g.outerRadius+p,x),b=Ve(Ve(Ve(Ve({},d),g),{},{stroke:"none"},m),{},{index:v,textAnchor:t.getTextAnchor(y.x,g.cx)},y),N=Ve(Ve(Ve(Ve({},d),g),{},{fill:"none",stroke:g.fill},f),{},{index:v,points:[Ge(g.cx,g.cy,g.outerRadius,x),y]}),j=c;return we(c)&&we(u)?j="value":we(c)&&(j=u),L.createElement(Oe,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,N,"line"),t.renderLabelItem(o,b,ft(g,j)))});return L.createElement(Oe,{className:"recharts-pie-labels"},h)}},{key:"renderSectorsStatically",value:function(n){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var m=s.isActiveIndex(d),f=c&&s.hasActiveIndex()?c:null,p=m?o:f,h=Ve(Ve({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return L.createElement(Oe,Pi({ref:function(v){v&&!s.sectorRefs.includes(v)&&s.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},zs(s.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),L.createElement(KO,Pi({option:p,isActive:m,shapeType:"sector"},h)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,d=s.animationId,m=this.state,f=m.prevSectors,p=m.prevIsAnimationActive;return L.createElement(yn,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(h){var g=h.t,v=[],x=i&&i[0],y=x.startAngle;return i.forEach(function(b,N){var j=f&&f[N],w=N>0?$r(b,"paddingAngle",0):0;if(j){var A=Et(j.endAngle-j.startAngle,b.endAngle-b.startAngle),T=Ve(Ve({},b),{},{startAngle:y+w,endAngle:y+A(g)+w});v.push(T),y=T.endAngle}else{var S=b.endAngle,_=b.startAngle,P=Et(0,S-_),k=P(g),O=Ve(Ve({},b),{},{startAngle:y+w,endAngle:y+k+w});v.push(O),y=O.endAngle}}),L.createElement(Oe,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!Vs(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,c=s.label,u=s.cx,d=s.cy,m=s.innerRadius,f=s.outerRadius,p=s.isAnimationActive,h=this.state.isAnimationFinished;if(i||!o||!o.length||!re(u)||!re(d)||!re(m)||!re(f))return null;var g=be("recharts-pie",l);return L.createElement(Oe,{tabIndex:this.props.rootTabIndex,className:g,ref:function(x){n.pieRef=x}},this.renderSectors(),c&&this.renderLabels(o),$t.renderCallByParent(this.props,null,!1),(!p||h)&&_n.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,i){if(L.isValidElement(n))return L.cloneElement(n,s);if(ve(n))return n(s);var o=be("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return L.createElement(ks,Pi({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,s,i){if(L.isValidElement(n))return L.cloneElement(n,s);var o=i;if(ve(n)&&(o=n(s),L.isValidElement(o)))return o;var l=be("recharts-pie-label-text",typeof n!="boolean"&&!ve(n)?n.className:"");return L.createElement(Hs,Pi({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(E.PureComponent);xd=xa;Vr(xa,"displayName","Pie");Vr(xa,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ts.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Vr(xa,"parseDeltaAngle",function(e,t){var r=ir(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Vr(xa,"getRealPieData",function(e){var t=e.data,r=e.children,n=me(e,!1),s=Rr(r,zf);return t&&t.length?t.map(function(i,o){return Ve(Ve(Ve({payload:i},n),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return Ve(Ve({},n),i.props)}):[]});Vr(xa,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,i=t.height,o=OO(s,i),l=n+or(e.cx,s,s/2),c=r+or(e.cy,i,i/2),u=or(e.innerRadius,o,0),d=or(e.outerRadius,o,o*.8),m=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:m}});Vr(xa,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Ve(Ve({},t.type.defaultProps),t.props):t.props,s=xd.getRealPieData(n);if(!s||!s.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,m=n.valueKey,f=n.tooltipType,p=Math.abs(n.minAngle),h=xd.parseCoordinateOfPie(n,r),g=xd.parseDeltaAngle(o,l),v=Math.abs(g),x=u;we(u)&&we(m)?(hn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):we(u)&&(hn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=m);var y=s.filter(function(T){return ft(T,x,0)!==0}).length,b=(v>=360?y:y-1)*c,N=v-y*p-b,j=s.reduce(function(T,S){var _=ft(S,x,0);return T+(re(_)?_:0)},0),w;if(j>0){var A;w=s.map(function(T,S){var _=ft(T,x,0),P=ft(T,d,S),k=(re(_)?_:0)/j,O;S?O=A.endAngle+ir(g)*c*(_!==0?1:0):O=o;var C=O+ir(g)*((_!==0?p:0)+k*N),D=(O+C)/2,U=(h.innerRadius+h.outerRadius)/2,z=[{name:P,value:_,payload:T,dataKey:x,type:f}],I=Ge(h.cx,h.cy,U,D);return A=Ve(Ve(Ve({percent:k,cornerRadius:i,name:P,tooltipPayload:z,midAngle:D,middleRadius:U,tooltipPosition:I},T),h),{},{value:ft(T,x),startAngle:O,endAngle:C,payload:T,paddingAngle:ir(g)*c}),A})}return Ve(Ve({},h),{},{sectors:w,data:s})});var Zee=Math.ceil,ete=Math.max;function tte(e,t,r,n){for(var s=-1,i=ete(Zee((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++s]=e,e+=r;return o}var rte=tte,nte=xP,q1=1/0,ate=17976931348623157e292;function ste(e){if(!e)return e===0?e:0;if(e=nte(e),e===q1||e===-q1){var t=e<0?-1:1;return t*ate}return e===e?e:0}var JO=ste,ite=rte,ote=Ff,yh=JO;function lte(e){return function(t,r,n){return n&&typeof n!="number"&&ote(t,r,n)&&(r=n=void 0),t=yh(t),r===void 0?(r=t,t=0):r=yh(r),n=n===void 0?t<r?1:-1:yh(n),ite(t,r,n,e)}}var cte=lte,ute=cte,dte=ute(),mte=dte;const _m=Be(mte);function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}function W1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function G1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W1(Object(r),!0).forEach(function(n){ZO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZO(e,t,r){return t=fte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fte(e){var t=pte(e,"string");return Dc(t)=="symbol"?t:t+""}function pte(e,t){if(Dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hte=["Webkit","Moz","O","ms"],xte=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=hte.reduce(function(i,o){return G1(G1({},i),{},ZO({},o+n,r))},{});return s[t]=r,s};function uo(e){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uo(e)}function km(){return km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},km.apply(this,arguments)}function Y1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y1(Object(r),!0).forEach(function(n){Er(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tC(n.key),n)}}function gte(e,t,r){return t&&K1(e.prototype,t),r&&K1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vte(e,t,r){return t=Im(t),bte(e,eC()?Reflect.construct(t,r||[],Im(e).constructor):t.apply(e,r))}function bte(e,t){if(t&&(uo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jte(e)}function jte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eC=function(){return!!e})()}function Im(e){return Im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Im(e)}function Nte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gy(e,t)}function Gy(e,t){return Gy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Gy(e,t)}function Er(e,t,r){return t=tC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tC(e){var t=wte(e,"string");return uo(t)=="symbol"?t:t+""}function wte(e,t){if(uo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ste=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=kl().domain(_m(0,c)).range([i,i+o-l]),d=u.domain().map(function(m){return u(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},X1=function(t){return t.changedTouches&&!!t.changedTouches.length},mo=function(e){function t(r){var n;return yte(this,t),n=vte(this,t,[r]),Er(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),Er(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),Er(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Er(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Er(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Er(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Er(n,"handleSlideDragStart",function(s){var i=X1(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Nte(t,e),gte(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,m=Math.min(s,i),f=Math.max(s,i),p=t.getIndexInRange(o,m),h=t.getIndexInRange(o,f);return{startIndex:p-p%c,endIndex:h===d?d:h-h%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=ft(i[n],l,n);return ve(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,m=c.travellerWidth,f=c.startIndex,p=c.endIndex,h=c.onChange,g=n.pageX-i;g>0?g=Math.min(g,u+d-m-l,u+d-m-o):g<0&&(g=Math.max(g,u-o,u-l));var v=this.getIndex({startX:o+g,endX:l+g});(v.startIndex!==f||v.endIndex!==p)&&h&&h(v),this.setState({startX:o+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=X1(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,m=d.x,f=d.width,p=d.travellerWidth,h=d.onChange,g=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},y=n.pageX-i;y>0?y=Math.min(y,m+f-p-u):y<0&&(y=Math.max(y,m-u)),x[o]=u+y;var b=this.getIndex(x),N=b.startIndex,j=b.endIndex,w=function(){var T=v.length-1;return o==="startX"&&(l>c?N%g===0:j%g===0)||l<c&&j===T||o==="endX"&&(l>c?j%g===0:N%g===0)||l>c&&j===T};this.setState(Er(Er({},o,u+y),"brushMoveStartX",n.pageX),function(){h&&w()&&h(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],m=l.indexOf(d);if(m!==-1){var f=m+n;if(!(f===-1||f>=l.length)){var p=l[f];s==="startX"&&p>=u||s==="endX"&&p<=c||this.setState(Er({},s,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return L.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,m=E.Children.only(u);return m?L.cloneElement(m,{x:s,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,m=c.height,f=c.traveller,p=c.ariaLabel,h=c.data,g=c.startIndex,v=c.endIndex,x=Math.max(n,this.props.x),y=gh(gh({},me(this.props,!1)),{},{x,y:u,width:d,height:m}),b=p||"Min value: ".concat((i=h[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=h[v])===null||o===void 0?void 0:o.name);return L.createElement(Oe,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(f,y))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,s)+u,m=Math.max(Math.abs(s-n)-u,0);return L.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:m,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,m=d.startX,f=d.endX,p=5,h={pointerEvents:"none",fill:u};return L.createElement(Oe,{className:"recharts-brush-texts"},L.createElement(Hs,km({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,f)-p,y:o+l/2},h),this.getTextOfTick(s)),L.createElement(Hs,km({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,f)+c+p,y:o+l/2},h),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,m=n.alwaysShowText,f=this.state,p=f.startX,h=f.endX,g=f.isTextActive,v=f.isSlideMoving,x=f.isTravellerMoving,y=f.isTravellerFocused;if(!s||!s.length||!re(l)||!re(c)||!re(u)||!re(d)||u<=0||d<=0)return null;var b=be("recharts-brush",i),N=L.Children.count(o)===1,j=xte("userSelect","none");return L.createElement(Oe,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(p,h),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(h,"endX"),(g||v||x||y||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return L.createElement(L.Fragment,null,L.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),L.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),L.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return L.isValidElement(n)?i=L.cloneElement(n,s):ve(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,m=n.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return gh({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?Ste({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:m}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var f=s.scale.domain().map(function(p){return s.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(E.PureComponent);Er(mo,"displayName","Brush");Er(mo,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Ate=Vv;function Ete(e,t){var r;return Ate(e,function(n,s,i){return r=t(n,s,i),!r}),!!r}var Tte=Ete,Pte=HT,Ote=Rn,Cte=Tte,_te=wr,kte=Ff;function Ite(e,t,r){var n=_te(e)?Pte:Cte;return r&&kte(e,t,r)&&(t=void 0),n(e,Ote(t))}var $te=Ite;const Rte=Be($te);var kn=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},Q1=dP;function Mte(e,t,r){t=="__proto__"&&Q1?Q1(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Dte=Mte,Lte=Dte,Bte=cP,Ute=Rn;function Fte(e,t){var r={};return t=Ute(t),Bte(e,function(n,s,i){Lte(r,s,t(n,s,i))}),r}var zte=Fte;const Hte=Be(zte);function Vte(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var qte=Vte,Wte=Vv;function Gte(e,t){var r=!0;return Wte(e,function(n,s,i){return r=!!t(n,s,i),r}),r}var Yte=Gte,Kte=qte,Xte=Yte,Qte=Rn,Jte=wr,Zte=Ff;function ere(e,t,r){var n=Jte(e)?Kte:Xte;return r&&Zte(e,t,r)&&(t=void 0),n(e,Qte(t))}var tre=ere;const rC=Be(tre);var rre=["x","y"];function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function Yy(){return Yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yy.apply(this,arguments)}function J1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J1(Object(r),!0).forEach(function(n){nre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nre(e,t,r){return t=are(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function are(e){var t=sre(e,"string");return Lc(t)=="symbol"?t:t+""}function sre(e,t){if(Lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ire(e,t){if(e==null)return{};var r=ore(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ore(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lre(e,t){var r=e.x,n=e.y,s=ire(e,rre),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),m="".concat(t.width||s.width),f=parseInt(m,10);return dl(dl(dl(dl(dl({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:f,name:t.name,radius:t.radius})}function Z1(e){return L.createElement(KO,Yy({shapeType:"rectangle",propTransformer:lre,activeClassName:"recharts-active-bar"},e))}var cre=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=re(n)||R6(n);return i?t(n,s):(i||Ws(),r)}},ure=["value","background"],nC;function fo(e){"@babel/helpers - typeof";return fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fo(e)}function dre(e,t){if(e==null)return{};var r=mre(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $m(){return $m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$m.apply(this,arguments)}function eS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eS(Object(r),!0).forEach(function(n){Ia(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sC(n.key),n)}}function pre(e,t,r){return t&&tS(e.prototype,t),r&&tS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hre(e,t,r){return t=Rm(t),xre(e,aC()?Reflect.construct(t,r||[],Rm(e).constructor):t.apply(e,r))}function xre(e,t){if(t&&(fo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yre(e)}function yre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aC=function(){return!!e})()}function Rm(e){return Rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rm(e)}function gre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ky(e,t)}function Ky(e,t){return Ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ky(e,t)}function Ia(e,t,r){return t=sC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sC(e){var t=vre(e,"string");return fo(t)=="symbol"?t:t+""}function vre(e,t){if(fo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ri=function(e){function t(){var r;fre(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=hre(this,t,[].concat(s)),Ia(r,"state",{isAnimationFinished:!1}),Ia(r,"id",Js("recharts-bar-")),Ia(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Ia(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return gre(t,e),pre(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=me(this.props,!1);return n&&n.map(function(m,f){var p=f===c,h=p?u:o,g=gt(gt(gt({},d),m),{},{isActive:p,option:h,index:f,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return L.createElement(Oe,$m({className:"recharts-bar-rectangle"},zs(s.props,m,f),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(f)}),L.createElement(Z1,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,m=s.animationId,f=this.state.prevData;return L.createElement(yn,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var h=p.t,g=i.map(function(v,x){var y=f&&f[x];if(y){var b=Et(y.x,v.x),N=Et(y.y,v.y),j=Et(y.width,v.width),w=Et(y.height,v.height);return gt(gt({},v),{},{x:b(h),y:N(h),width:j(h),height:w(h)})}if(o==="horizontal"){var A=Et(0,v.height),T=A(h);return gt(gt({},v),{},{y:v.y+v.height-T,height:T})}var S=Et(0,v.width),_=S(h);return gt(gt({},v),{},{width:_})});return L.createElement(Oe,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!Vs(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=me(this.props.background,!1);return i.map(function(u,d){u.value;var m=u.background,f=dre(u,ure);if(!m)return null;var p=gt(gt(gt(gt(gt({},f),{},{fill:"#eee"},m),c),zs(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return L.createElement(Z1,$m({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,m=Rr(d,lu);if(!m)return null;var f=u==="vertical"?o[0].height/2:o[0].width/2,p=function(v,x){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:ft(v,x)}},h={clipPath:n?"url(#clipPath-".concat(s,")"):null};return L.createElement(Oe,h,m.map(function(g){return L.cloneElement(g,{key:"error-bar-".concat(s,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:f,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,m=n.width,f=n.height,p=n.isAnimationActive,h=n.background,g=n.id;if(s||!i||!i.length)return null;var v=this.state.isAnimationFinished,x=be("recharts-bar",o),y=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,N=y||b,j=we(g)?this.id:g;return L.createElement(Oe,{className:x},y||b?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(j)},L.createElement("rect",{x:y?u:u-m/2,y:b?d:d-f/2,width:y?m:m*2,height:b?f:f*2}))):null,L.createElement(Oe,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(j,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,j),(!p||v)&&_n.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(E.PureComponent);nC=ri;Ia(ri,"displayName","Bar");Ia(ri,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ts.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ia(ri,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,m=e.displayedData,f=e.offset,p=ZK(n,r);if(!p)return null;var h=t.layout,g=r.type.defaultProps,v=g!==void 0?gt(gt({},g),r.props):r.props,x=v.dataKey,y=v.children,b=v.minPointSize,N=h==="horizontal"?o:i,j=u?N.scale.domain():null,w=iX({numericAxis:N}),A=Rr(y,zf),T=m.map(function(S,_){var P,k,O,C,D,U;u?P=eX(u[d+_],j):(P=ft(S,x),Array.isArray(P)||(P=[w,P]));var z=cre(b,nC.defaultProps.minPointSize)(P[1],_);if(h==="horizontal"){var I,R=[o.scale(P[0]),o.scale(P[1])],F=R[0],V=R[1];k=Vw({axis:i,ticks:l,bandSize:s,offset:p.offset,entry:S,index:_}),O=(I=V??F)!==null&&I!==void 0?I:void 0,C=p.size;var W=F-V;if(D=Number.isNaN(W)?0:W,U={x:k,y:o.y,width:C,height:o.height},Math.abs(z)>0&&Math.abs(D)<Math.abs(z)){var ee=ir(D||z)*(Math.abs(z)-Math.abs(D));O-=ee,D+=ee}}else{var se=[i.scale(P[0]),i.scale(P[1])],ye=se[0],$=se[1];if(k=ye,O=Vw({axis:o,ticks:c,bandSize:s,offset:p.offset,entry:S,index:_}),C=$-ye,D=p.size,U={x:i.x,y:O,width:i.width,height:D},Math.abs(z)>0&&Math.abs(C)<Math.abs(z)){var B=ir(C||z)*(Math.abs(z)-Math.abs(C));C+=B}}return gt(gt(gt({},S),{},{x:k,y:O,width:C,height:D,value:u?P:P[1],payload:S,background:U},A&&A[_]&&A[_].props),{},{tooltipPayload:[TO(r,S)],tooltipPosition:{x:k+C/2,y:O+D/2}})});return gt({data:T,layout:h},f)});function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function bre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iC(n.key),n)}}function jre(e,t,r){return t&&rS(e.prototype,t),r&&rS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nS(Object(r),!0).forEach(function(n){sp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sp(e,t,r){return t=iC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iC(e){var t=Nre(e,"string");return Bc(t)=="symbol"?t:t+""}function Nre(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v0=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),m={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},f=!!Pr(u,ri);return d.reduce(function(p,h){var g=r[h],v=g.orientation,x=g.domain,y=g.padding,b=y===void 0?{}:y,N=g.mirror,j=g.reversed,w="".concat(v).concat(N?"Mirror":""),A,T,S,_,P;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var k=x[1]-x[0],O=1/0,C=g.categoricalDomain.sort(L6);if(C.forEach(function(se,ye){ye>0&&(O=Math.min((se||0)-(C[ye-1]||0),O))}),Number.isFinite(O)){var D=O/k,U=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(A=D*U/2),g.padding==="no-gap"){var z=or(t.barCategoryGap,D*U),I=D*U/2;A=I-z-(I-z)/U*z}}}s==="xAxis"?T=[n.left+(b.left||0)+(A||0),n.left+n.width-(b.right||0)-(A||0)]:s==="yAxis"?T=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(A||0),n.top+n.height-(b.bottom||0)-(A||0)]:T=g.range,j&&(T=[T[1],T[0]]);var R=wO(g,i,f),F=R.scale,V=R.realScaleType;F.domain(x).range(T),SO(F);var W=AO(F,on(on({},g),{},{realScaleType:V}));s==="xAxis"?(P=v==="top"&&!N||v==="bottom"&&N,S=n.left,_=m[w]-P*g.height):s==="yAxis"&&(P=v==="left"&&!N||v==="right"&&N,S=m[w]-P*g.width,_=n.top);var ee=on(on(on({},g),W),{},{realScaleType:V,x:S,y:_,scale:F,width:s==="xAxis"?n.width:g.width,height:s==="yAxis"?n.height:g.height});return ee.bandSize=vm(ee,W),!g.hide&&s==="xAxis"?m[w]+=(P?-1:1)*ee.height:g.hide||(m[w]+=(P?-1:1)*ee.width),on(on({},p),{},sp({},h,ee))},{})},oC=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},wre=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return oC({x:r,y:n},{x:s,y:i})},lC=function(){function e(t){bre(this,e),this.scale=t}return jre(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();sp(lC,"EPS",1e-4);var b0=function(t){var r=Object.keys(t).reduce(function(n,s){return on(on({},n),{},sp({},s,lC.create(t[s])))},{});return on(on({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return Hte(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return rC(s,function(i,o){return r[o].isInRange(i)})}})};function Sre(e){return(e%180+180)%180}var Are=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Sre(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},Ere=Rn,Tre=nu,Pre=Bf;function Ore(e){return function(t,r,n){var s=Object(t);if(!Tre(t)){var i=Ere(r);t=Pre(t),r=function(l){return i(s[l],l,s)}}var o=e(t,r,n);return o>-1?s[i?t[o]:o]:void 0}}var Cre=Ore,_re=JO;function kre(e){var t=_re(e),r=t%1;return t===t?r?t-r:t:0}var Ire=kre,$re=nP,Rre=Rn,Mre=Ire,Dre=Math.max;function Lre(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:Mre(r);return s<0&&(s=Dre(n+s,0)),$re(e,Rre(t),s)}var Bre=Lre,Ure=Cre,Fre=Bre,zre=Ure(Fre),Hre=zre;const Vre=Be(Hre);var qre=FL(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),j0=E.createContext(void 0),N0=E.createContext(void 0),cC=E.createContext(void 0),uC=E.createContext({}),dC=E.createContext(void 0),mC=E.createContext(0),fC=E.createContext(0),aS=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=qre(i);return L.createElement(j0.Provider,{value:n},L.createElement(N0.Provider,{value:s},L.createElement(uC.Provider,{value:i},L.createElement(cC.Provider,{value:d},L.createElement(dC.Provider,{value:o},L.createElement(mC.Provider,{value:u},L.createElement(fC.Provider,{value:c},l)))))))},Wre=function(){return E.useContext(dC)},pC=function(t){var r=E.useContext(j0);r==null&&Ws();var n=r[t];return n==null&&Ws(),n},Gre=function(){var t=E.useContext(j0);return Pa(t)},Yre=function(){var t=E.useContext(N0),r=Vre(t,function(n){return rC(n.domain,Number.isFinite)});return r||Pa(t)},hC=function(t){var r=E.useContext(N0);r==null&&Ws();var n=r[t];return n==null&&Ws(),n},Kre=function(){var t=E.useContext(cC);return t},Xre=function(){return E.useContext(uC)},w0=function(){return E.useContext(fC)},S0=function(){return E.useContext(mC)};function po(e){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},po(e)}function Qre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yC(n.key),n)}}function Zre(e,t,r){return t&&Jre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ene(e,t,r){return t=Mm(t),tne(e,xC()?Reflect.construct(t,r||[],Mm(e).constructor):t.apply(e,r))}function tne(e,t){if(t&&(po(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rne(e)}function rne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xC=function(){return!!e})()}function Mm(e){return Mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mm(e)}function nne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xy(e,t)}function Xy(e,t){return Xy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Xy(e,t)}function sS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function iS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sS(Object(r),!0).forEach(function(n){A0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A0(e,t,r){return t=yC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yC(e){var t=ane(e,"string");return po(t)=="symbol"?t:t+""}function ane(e,t){if(po(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(po(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function sne(e,t){return cne(e)||lne(e,t)||one(e,t)||ine()}function ine(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function one(e,t){if(e){if(typeof e=="string")return oS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oS(e,t)}}function oS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function cne(e){if(Array.isArray(e))return e}function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qy.apply(this,arguments)}var une=function(t,r){var n;return L.isValidElement(t)?n=L.cloneElement(t,r):ve(t)?n=t(r):n=L.createElement("line",Qy({},r,{className:"recharts-reference-line-line"})),n},dne=function(t,r,n,s,i,o,l,c,u){var d=i.x,m=i.y,f=i.width,p=i.height;if(n){var h=u.y,g=t.y.apply(h,{position:o});if(kn(u,"discard")&&!t.y.isInRange(g))return null;var v=[{x:d+f,y:g},{x:d,y:g}];return c==="left"?v.reverse():v}if(r){var x=u.x,y=t.x.apply(x,{position:o});if(kn(u,"discard")&&!t.x.isInRange(y))return null;var b=[{x:y,y:m+p},{x:y,y:m}];return l==="top"?b.reverse():b}if(s){var N=u.segment,j=N.map(function(w){return t.apply(w,{position:o})});return kn(u,"discard")&&Rte(j,function(w){return!t.isInRange(w)})?null:j}return null};function mne(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=Wre(),d=pC(s),m=hC(i),f=Kre();if(!u||!f)return null;hn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=b0({x:d.scale,y:m.scale}),h=Pt(t),g=Pt(r),v=n&&n.length===2,x=dne(p,h,g,v,f,e.position,d.orientation,m.orientation,e);if(!x)return null;var y=sne(x,2),b=y[0],N=b.x,j=b.y,w=y[1],A=w.x,T=w.y,S=kn(e,"hidden")?"url(#".concat(u,")"):void 0,_=iS(iS({clipPath:S},me(e,!0)),{},{x1:N,y1:j,x2:A,y2:T});return L.createElement(Oe,{className:be("recharts-reference-line",l)},une(o,_),$t.renderCallByParent(e,wre({x1:N,y1:j,x2:A,y2:T})))}var E0=function(e){function t(){return Qre(this,t),ene(this,t,arguments)}return nne(t,e),Zre(t,[{key:"render",value:function(){return L.createElement(mne,this.props)}}])}(L.Component);A0(E0,"displayName","ReferenceLine");A0(E0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Jy(){return Jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jy.apply(this,arguments)}function ho(e){"@babel/helpers - typeof";return ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ho(e)}function lS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function cS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lS(Object(r),!0).forEach(function(n){ip(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vC(n.key),n)}}function hne(e,t,r){return t&&pne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xne(e,t,r){return t=Dm(t),yne(e,gC()?Reflect.construct(t,r||[],Dm(e).constructor):t.apply(e,r))}function yne(e,t){if(t&&(ho(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gne(e)}function gne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gC=function(){return!!e})()}function Dm(e){return Dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dm(e)}function vne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zy(e,t)}function Zy(e,t){return Zy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Zy(e,t)}function ip(e,t,r){return t=vC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vC(e){var t=bne(e,"string");return ho(t)=="symbol"?t:t+""}function bne(e,t){if(ho(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ho(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jne=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=b0({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return kn(t,"discard")&&!o.isInRange(l)?null:l},op=function(e){function t(){return fne(this,t),xne(this,t,arguments)}return vne(t,e),hne(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Pt(s),d=Pt(i);if(hn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var m=jne(this.props);if(!m)return null;var f=m.x,p=m.y,h=this.props,g=h.shape,v=h.className,x=kn(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=cS(cS({clipPath:x},me(this.props,!0)),{},{cx:f,cy:p});return L.createElement(Oe,{className:be("recharts-reference-dot",v)},t.renderDot(g,y),$t.renderCallByParent(this.props,{x:f-o,y:p-o,width:2*o,height:2*o}))}}])}(L.Component);ip(op,"displayName","ReferenceDot");ip(op,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ip(op,"renderDot",function(e,t){var r;return L.isValidElement(e)?r=L.cloneElement(e,t):ve(e)?r=e(t):r=L.createElement(cu,Jy({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function eg(){return eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eg.apply(this,arguments)}function xo(e){"@babel/helpers - typeof";return xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xo(e)}function uS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uS(Object(r),!0).forEach(function(n){lp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jC(n.key),n)}}function Sne(e,t,r){return t&&wne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ane(e,t,r){return t=Lm(t),Ene(e,bC()?Reflect.construct(t,r||[],Lm(e).constructor):t.apply(e,r))}function Ene(e,t){if(t&&(xo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tne(e)}function Tne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bC=function(){return!!e})()}function Lm(e){return Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lm(e)}function Pne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tg(e,t)}function tg(e,t){return tg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},tg(e,t)}function lp(e,t,r){return t=jC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jC(e){var t=One(e,"string");return xo(t)=="symbol"?t:t+""}function One(e,t){if(xo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cne=function(t,r,n,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,m=i.yAxis;if(!d||!m)return null;var f=b0({x:d.scale,y:m.scale}),p={x:t?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(c,{position:"start"}):f.y.rangeMin},h={x:r?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:s?f.y.apply(u,{position:"end"}):f.y.rangeMax};return kn(i,"discard")&&(!f.isInRange(p)||!f.isInRange(h))?null:oC(p,h)},cp=function(e){function t(){return Nne(this,t),Ane(this,t,arguments)}return Pne(t,e),Sne(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;hn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Pt(s),f=Pt(i),p=Pt(o),h=Pt(l),g=this.props.shape;if(!m&&!f&&!p&&!h&&!g)return null;var v=Cne(m,f,p,h,this.props);if(!v&&!g)return null;var x=kn(this.props,"hidden")?"url(#".concat(d,")"):void 0;return L.createElement(Oe,{className:be("recharts-reference-area",c)},t.renderRect(g,dS(dS({clipPath:x},me(this.props,!0)),v)),$t.renderCallByParent(this.props,v))}}])}(L.Component);lp(cp,"displayName","ReferenceArea");lp(cp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});lp(cp,"renderRect",function(e,t){var r;return L.isValidElement(e)?r=L.cloneElement(e,t):ve(e)?r=e(t):r=L.createElement(g0,eg({},t,{className:"recharts-reference-area-rect"})),r});function NC(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function _ne(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Are(n,r)}function kne(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function Bm(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function Ine(e,t){return NC(e,t+1)}function $ne(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,m=function(){var h=n==null?void 0:n[c];if(h===void 0)return{v:NC(n,u)};var g=c,v,x=function(){return v===void 0&&(v=r(h,g)),v},y=h.coordinate,b=c===0||Bm(e,y,x,d,l);b||(c=0,d=o,u+=1),b&&(d=y+e*(x()/2+s),c+=u)},f;u<=i.length;)if(f=m(),f)return f.v;return[]}function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}function mS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mS(Object(r),!0).forEach(function(n){Rne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rne(e,t,r){return t=Mne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mne(e){var t=Dne(e,"string");return Uc(t)=="symbol"?t:t+""}function Dne(e,t){if(Uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lne(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(f){var p=i[f],h,g=function(){return h===void 0&&(h=r(p,f)),h};if(f===o-1){var v=e*(p.coordinate+e*g()/2-c);i[f]=p=Yt(Yt({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[f]=p=Yt(Yt({},p),{},{tickCoord:p.coordinate});var x=Bm(e,p.tickCoord,g,l,c);x&&(c=p.tickCoord-e*(g()/2+s),i[f]=Yt(Yt({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function Bne(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],m=r(d,l-1),f=e*(d.coordinate+e*m/2-u);o[l-1]=d=Yt(Yt({},d),{},{tickCoord:f>0?d.coordinate-f*e:d.coordinate});var p=Bm(e,d.tickCoord,function(){return m},c,u);p&&(u=d.tickCoord-e*(m/2+s),o[l-1]=Yt(Yt({},d),{},{isShow:!0}))}for(var h=i?l-1:l,g=function(y){var b=o[y],N,j=function(){return N===void 0&&(N=r(b,y)),N};if(y===0){var w=e*(b.coordinate-e*j()/2-c);o[y]=b=Yt(Yt({},b),{},{tickCoord:w<0?b.coordinate-w*e:b.coordinate})}else o[y]=b=Yt(Yt({},b),{},{tickCoord:b.coordinate});var A=Bm(e,b.tickCoord,j,c,u);A&&(c=b.tickCoord+e*(j()/2+s),o[y]=Yt(Yt({},b),{},{isShow:!0}))},v=0;v<h;v++)g(v);return o}function T0(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,m=e.angle;if(!s||!s.length||!n)return[];if(re(c)||ts.isSsr)return Ine(s,typeof c=="number"&&re(c)?c:0);var f=[],p=l==="top"||l==="bottom"?"width":"height",h=d&&p==="width"?_l(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(b,N){var j=ve(u)?u(b.value,N):b.value;return p==="width"?_ne(_l(j,{fontSize:t,letterSpacing:r}),h,m):_l(j,{fontSize:t,letterSpacing:r})[p]},v=s.length>=2?ir(s[1].coordinate-s[0].coordinate):1,x=kne(i,v,p);return c==="equidistantPreserveStart"?$ne(v,x,g,s,o):(c==="preserveStart"||c==="preserveStartEnd"?f=Bne(v,x,g,s,o,c==="preserveStartEnd"):f=Lne(v,x,g,s,o),f.filter(function(y){return y.isShow}))}var Une=["viewBox"],Fne=["viewBox"],zne=["ticks"];function yo(e){"@babel/helpers - typeof";return yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yo(e)}function Oi(){return Oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oi.apply(this,arguments)}function fS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fS(Object(r),!0).forEach(function(n){P0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vh(e,t){if(e==null)return{};var r=Hne(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SC(n.key),n)}}function qne(e,t,r){return t&&pS(e.prototype,t),r&&pS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wne(e,t,r){return t=Um(t),Gne(e,wC()?Reflect.construct(t,r||[],Um(e).constructor):t.apply(e,r))}function Gne(e,t){if(t&&(yo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yne(e)}function Yne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wC=function(){return!!e})()}function Um(e){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Um(e)}function Kne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rg(e,t)}function rg(e,t){return rg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},rg(e,t)}function P0(e,t,r){return t=SC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SC(e){var t=Xne(e,"string");return yo(t)=="symbol"?t:t+""}function Xne(e,t){if(yo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qo=function(e){function t(r){var n;return Vne(this,t),n=Wne(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Kne(t,e),qne(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=vh(n,Une),l=this.props,c=l.viewBox,u=vh(l,Fne);return!Li(i,c)||!Li(o,u)||!Li(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,m=s.mirror,f=s.tickMargin,p,h,g,v,x,y,b=m?-1:1,N=n.tickSize||d,j=re(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=h=n.coordinate,v=o+ +!m*c,g=v-b*N,y=g-b*f,x=j;break;case"left":g=v=n.coordinate,h=i+ +!m*l,p=h-b*N,x=p-b*f,y=j;break;case"right":g=v=n.coordinate,h=i+ +m*l,p=h+b*N,x=p+b*f,y=j;break;default:p=h=n.coordinate,v=o+ +m*c,g=v+b*N,y=g+b*f,x=j;break}return{line:{x1:p,y1:g,x2:h,y2:v},tick:{x,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,m=wt(wt(wt({},me(this.props,!1)),me(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!u||c==="bottom"&&u);m=wt(wt({},m),{},{x1:s,y1:i+f*l,x2:s+o,y2:i+f*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);m=wt(wt({},m),{},{x1:s+p*o,y1:i,x2:s+p*o,y2:i+l})}return L.createElement("line",Oi({},m,{className:be("recharts-cartesian-axis-line",$r(d,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,m=l.tickFormatter,f=l.unit,p=T0(wt(wt({},this.props),{},{ticks:n}),s,i),h=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=me(this.props,!1),x=me(d,!1),y=wt(wt({},v),{},{fill:"none"},me(c,!1)),b=p.map(function(N,j){var w=o.getTickLineCoord(N),A=w.line,T=w.tick,S=wt(wt(wt(wt({textAnchor:h,verticalAnchor:g},v),{},{stroke:"none",fill:u},x),T),{},{index:j,payload:N,visibleTicksCount:p.length,tickFormatter:m});return L.createElement(Oe,Oi({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},zs(o.props,N,j)),c&&L.createElement("line",Oi({},y,A,{className:be("recharts-cartesian-axis-tick-line",$r(c,"className"))})),d&&t.renderTickItem(d,S,"".concat(ve(m)?m(N.value,j):N.value).concat(f||"")))});return L.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var m=this.props,f=m.ticks,p=vh(m,zne),h=f;return ve(c)&&(h=f&&f.length>0?c(this.props):c(p)),o<=0||l<=0||!h||!h.length?null:L.createElement(Oe,{className:be("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(h,this.state.fontSize,this.state.letterSpacing),$t.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=be(s.className,"recharts-cartesian-axis-tick-value");return L.isValidElement(n)?o=L.cloneElement(n,wt(wt({},s),{},{className:l})):ve(n)?o=n(wt(wt({},s),{},{className:l})):o=L.createElement(Hs,Oi({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(E.Component);P0(qo,"displayName","CartesianAxis");P0(qo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Qne=["x1","y1","x2","y2","key"],Jne=["offset"];function Gs(e){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}function hS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hS(Object(r),!0).forEach(function(n){Zne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zne(e,t,r){return t=eae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eae(e){var t=tae(e,"string");return Gs(t)=="symbol"?t:t+""}function tae(e,t){if(Gs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function As(){return As=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},As.apply(this,arguments)}function xS(e,t){if(e==null)return{};var r=rae(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var nae=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return L.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function AC(e,t){var r;if(L.isValidElement(e))r=L.cloneElement(e,t);else if(ve(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=xS(t,Qne),u=me(c,!1);u.offset;var d=xS(u,Jne);r=L.createElement("line",As({},d,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function aae(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=Xt(Xt({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return AC(s,u)});return L.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function sae(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=Xt(Xt({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return AC(s,u)});return L.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function iae(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(f){return Math.round(f+s-s)}).sort(function(f,p){return f-p});s!==d[0]&&d.unshift(0);var m=d.map(function(f,p){var h=!d[p+1],g=h?s+o-f:d[p+1]-f;if(g<=0)return null;var v=p%t.length;return L.createElement("rect",{key:"react-".concat(p),y:f,x:n,height:g,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function oae(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(f){return Math.round(f+i-i)}).sort(function(f,p){return f-p});i!==d[0]&&d.unshift(0);var m=d.map(function(f,p){var h=!d[p+1],g=h?i+l-f:d[p+1]-f;if(g<=0)return null;var v=p%n.length;return L.createElement("rect",{key:"react-".concat(p),x:f,y:o,width:g,height:c,stroke:"none",fill:n[v],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var lae=function(t,r){var n=t.xAxis,s=t.width,i=t.height,o=t.offset;return NO(T0(Xt(Xt(Xt({},qo.defaultProps),n),{},{ticks:Kn(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},cae=function(t,r){var n=t.yAxis,s=t.width,i=t.height,o=t.offset;return NO(T0(Xt(Xt(Xt({},qo.defaultProps),n),{},{ticks:Kn(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},ci={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Dl(e){var t,r,n,s,i,o,l=w0(),c=S0(),u=Xre(),d=Xt(Xt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ci.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ci.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:ci.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:ci.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:ci.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:ci.verticalFill,x:re(e.x)?e.x:u.left,y:re(e.y)?e.y:u.top,width:re(e.width)?e.width:u.width,height:re(e.height)?e.height:u.height}),m=d.x,f=d.y,p=d.width,h=d.height,g=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,y=Gre(),b=Yre();if(!re(p)||p<=0||!re(h)||h<=0||!re(m)||m!==+m||!re(f)||f!==+f)return null;var N=d.verticalCoordinatesGenerator||lae,j=d.horizontalCoordinatesGenerator||cae,w=d.horizontalPoints,A=d.verticalPoints;if((!w||!w.length)&&ve(j)){var T=v&&v.length,S=j({yAxis:b?Xt(Xt({},b),{},{ticks:T?v:b.ticks}):void 0,width:l,height:c,offset:u},T?!0:g);hn(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Gs(S),"]")),Array.isArray(S)&&(w=S)}if((!A||!A.length)&&ve(N)){var _=x&&x.length,P=N({xAxis:y?Xt(Xt({},y),{},{ticks:_?x:y.ticks}):void 0,width:l,height:c,offset:u},_?!0:g);hn(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Gs(P),"]")),Array.isArray(P)&&(A=P)}return L.createElement("g",{className:"recharts-cartesian-grid"},L.createElement(nae,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),L.createElement(aae,As({},d,{offset:u,horizontalPoints:w,xAxis:y,yAxis:b})),L.createElement(sae,As({},d,{offset:u,verticalPoints:A,xAxis:y,yAxis:b})),L.createElement(iae,As({},d,{horizontalPoints:w})),L.createElement(oae,As({},d,{verticalPoints:A})))}Dl.displayName="CartesianGrid";var uae=["type","layout","connectNulls","ref"],dae=["key"];function go(e){"@babel/helpers - typeof";return go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},go(e)}function yS(e,t){if(e==null)return{};var r=mae(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ll(){return Ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ll.apply(this,arguments)}function gS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gS(Object(r),!0).forEach(function(n){ln(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ui(e){return xae(e)||hae(e)||pae(e)||fae()}function fae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pae(e,t){if(e){if(typeof e=="string")return ng(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ng(e,t)}}function hae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xae(e){if(Array.isArray(e))return ng(e)}function ng(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TC(n.key),n)}}function gae(e,t,r){return t&&vS(e.prototype,t),r&&vS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vae(e,t,r){return t=Fm(t),bae(e,EC()?Reflect.construct(t,r||[],Fm(e).constructor):t.apply(e,r))}function bae(e,t){if(t&&(go(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jae(e)}function jae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EC=function(){return!!e})()}function Fm(e){return Fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fm(e)}function Nae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ag(e,t)}function ag(e,t){return ag=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ag(e,t)}function ln(e,t,r){return t=TC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TC(e){var t=wae(e,"string");return go(t)=="symbol"?t:t+""}function wae(e,t){if(go(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(go(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ys=function(e){function t(){var r;yae(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=vae(this,t,[].concat(s)),ln(r,"state",{isAnimationFinished:!0,totalLength:0}),ln(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),ln(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(x,y){return x+y});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),m=o%u,f=l-o,p=[],h=0,g=0;h<c.length;g+=c[h],++h)if(g+c[h]>m){p=[].concat(ui(c.slice(0,h)),[m-g]);break}var v=p.length%2===0?[0,f]:[f];return[].concat(ui(t.repeat(c,d)),ui(p),v).map(function(x){return"".concat(x,"px")}).join(", ")}),ln(r,"id",Js("recharts-line-")),ln(r,"pathRef",function(o){r.mainCurve=o}),ln(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ln(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Nae(t,e),gae(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,m=Rr(d,lu);if(!m)return null;var f=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:ft(g.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(s,")"):null};return L.createElement(Oe,p,m.map(function(h){return L.cloneElement(h,{key:"bar-".concat(h.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,m=me(this.props,!1),f=me(c,!0),p=u.map(function(g,v){var x=Ar(Ar(Ar({key:"dot-".concat(v),r:3},m),f),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return t.renderDotItem(c,x)}),h={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return L.createElement(Oe,Ll({className:"recharts-line-dots",key:"dots"},h),p)}},{key:"renderCurveStatically",value:function(n,s,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var m=yS(l,uae),f=Ar(Ar(Ar({},me(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return L.createElement(ks,Ll({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,m=o.animationDuration,f=o.animationEasing,p=o.animationId,h=o.animateNewValues,g=o.width,v=o.height,x=this.state,y=x.prevPoints,b=x.totalLength;return L.createElement(yn,{begin:d,duration:m,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var j=N.t;if(y){var w=y.length/l.length,A=l.map(function(k,O){var C=Math.floor(O*w);if(y[C]){var D=y[C],U=Et(D.x,k.x),z=Et(D.y,k.y);return Ar(Ar({},k),{},{x:U(j),y:z(j)})}if(h){var I=Et(g*2,k.x),R=Et(v/2,k.y);return Ar(Ar({},k),{},{x:I(j),y:R(j)})}return Ar(Ar({},k),{},{x:k.x,y:k.y})});return i.renderCurveStatically(A,n,s)}var T=Et(0,b),S=T(j),_;if(c){var P="".concat(c).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});_=i.getStrokeDasharray(S,b,P)}else _=i.generateSimpleStrokeDasharray(b,S);return i.renderCurveStatically(l,n,s,{strokeDasharray:_})})}},{key:"renderCurve",value:function(n,s){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!Vs(u,o))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(o,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.xAxis,d=s.yAxis,m=s.top,f=s.left,p=s.width,h=s.height,g=s.isAnimationActive,v=s.id;if(i||!l||!l.length)return null;var x=this.state.isAnimationFinished,y=l.length===1,b=be("recharts-line",c),N=u&&u.allowDataOverflow,j=d&&d.allowDataOverflow,w=N||j,A=we(v)?this.id:v,T=(n=me(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},S=T.r,_=S===void 0?3:S,P=T.strokeWidth,k=P===void 0?2:P,O=pT(o)?o:{},C=O.clipDot,D=C===void 0?!0:C,U=_*2+k;return L.createElement(Oe,{className:b},N||j?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(A)},L.createElement("rect",{x:N?f:f-p/2,y:j?m:m-h/2,width:N?p:p*2,height:j?h:h*2})),!D&&L.createElement("clipPath",{id:"clipPath-dots-".concat(A)},L.createElement("rect",{x:f-U/2,y:m-U/2,width:p+U,height:h+U}))):null,!y&&this.renderCurve(w,A),this.renderErrorBar(w,A),(y||o)&&this.renderDots(w,D,A),(!g||x)&&_n.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var i=n.length%2!==0?[].concat(ui(n),[0]):n,o=[],l=0;l<s;++l)o=[].concat(ui(o),ui(i));return o}},{key:"renderDotItem",value:function(n,s){var i;if(L.isValidElement(n))i=L.cloneElement(n,s);else if(ve(n))i=n(s);else{var o=s.key,l=yS(s,dae),c=be("recharts-line-dot",typeof n!="boolean"?n.className:"");i=L.createElement(cu,Ll({key:o},l,{className:c}))}return i}}])}(E.PureComponent);ln(Ys,"displayName","Line");ln(Ys,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ts.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ln(Ys,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,m=c.map(function(f,p){var h=ft(f,o);return d==="horizontal"?{x:gm({axis:r,ticks:s,bandSize:l,entry:f,index:p}),y:we(h)?null:n.scale(h),value:h,payload:f}:{x:we(h)?null:r.scale(h),y:gm({axis:n,ticks:i,bandSize:l,entry:f,index:p}),value:h,payload:f}});return Ar({points:m,layout:d},u)});var Sae=["layout","type","stroke","connectNulls","isRange","ref"],Aae=["key"],PC;function vo(e){"@babel/helpers - typeof";return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vo(e)}function OC(e,t){if(e==null)return{};var r=Eae(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Eae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Es(){return Es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Es.apply(this,arguments)}function bS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function va(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bS(Object(r),!0).forEach(function(n){Tn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_C(n.key),n)}}function Pae(e,t,r){return t&&jS(e.prototype,t),r&&jS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oae(e,t,r){return t=zm(t),Cae(e,CC()?Reflect.construct(t,r||[],zm(e).constructor):t.apply(e,r))}function Cae(e,t){if(t&&(vo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ae(e)}function _ae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CC=function(){return!!e})()}function zm(e){return zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zm(e)}function kae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sg(e,t)}function sg(e,t){return sg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},sg(e,t)}function Tn(e,t,r){return t=_C(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _C(e){var t=Iae(e,"string");return vo(t)=="symbol"?t:t+""}function Iae(e,t){if(vo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ua=function(e){function t(){var r;Tae(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Oae(this,t,[].concat(s)),Tn(r,"state",{isAnimationFinished:!0}),Tn(r,"id",Js("recharts-area-")),Tn(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ve(o)&&o()}),Tn(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ve(o)&&o()}),r}return kae(t,e),Pae(t,[{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,m=c.dataKey,f=me(this.props,!1),p=me(u,!0),h=d.map(function(v,x){var y=va(va(va({key:"dot-".concat(x),r:3},f),p),{},{index:x,cx:v.x,cy:v.y,dataKey:m,value:v.value,payload:v.payload,points:d});return t.renderDotItem(u,y)}),g={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return L.createElement(Oe,Es({className:"recharts-area-dots"},g),h)}},{key:"renderHorizontalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),m=ka(o.map(function(f){return f.y||0}));return re(i)&&typeof i=="number"?m=Math.max(i,m):i&&Array.isArray(i)&&i.length&&(m=Math.max(ka(i.map(function(f){return f.y||0})),m)),re(m)?L.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(m+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),m=ka(o.map(function(f){return f.x||0}));return re(i)&&typeof i=="number"?m=Math.max(i,m):i&&Array.isArray(i)&&i.length&&(m=Math.max(ka(i.map(function(f){return f.x||0})),m)),re(m)?L.createElement("rect",{x:0,y:c<u?c:c-d,width:m+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,s,i,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,m=l.connectNulls,f=l.isRange;l.ref;var p=OC(l,Sae);return L.createElement(Oe,{clipPath:i?"url(#clipPath-".concat(o,")"):null},L.createElement(ks,Es({},me(p,!0),{points:n,connectNulls:m,type:u,baseLine:s,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&L.createElement(ks,Es({},me(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:m,fill:"none",points:n})),d!=="none"&&f&&L.createElement(ks,Es({},me(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:m,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,m=o.animationDuration,f=o.animationEasing,p=o.animationId,h=this.state,g=h.prevPoints,v=h.prevBaseLine;return L.createElement(yn,{begin:d,duration:m,isActive:u,easing:f,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var y=x.t;if(g){var b=g.length/l.length,N=l.map(function(T,S){var _=Math.floor(S*b);if(g[_]){var P=g[_],k=Et(P.x,T.x),O=Et(P.y,T.y);return va(va({},T),{},{x:k(y),y:O(y)})}return T}),j;if(re(c)&&typeof c=="number"){var w=Et(v,c);j=w(y)}else if(we(c)||Lo(c)){var A=Et(v,0);j=A(y)}else j=c.map(function(T,S){var _=Math.floor(S*b);if(v[_]){var P=v[_],k=Et(P.x,T.x),O=Et(P.y,T.y);return va(va({},T),{},{x:k(y),y:O(y)})}return T});return i.renderAreaStatically(N,j,n,s)}return L.createElement(Oe,null,L.createElement("defs",null,L.createElement("clipPath",{id:"animationClipPath-".concat(s)},i.renderClipRect(y))),L.createElement(Oe,{clipPath:"url(#animationClipPath-".concat(s,")")},i.renderAreaStatically(l,c,n,s)))})}},{key:"renderArea",value:function(n,s){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,m=u.prevBaseLine,f=u.totalLength;return c&&o&&o.length&&(!d&&f>0||!Vs(d,o)||!Vs(m,l))?this.renderAreaWithAnimation(n,s):this.renderAreaStatically(o,l,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.top,d=s.left,m=s.xAxis,f=s.yAxis,p=s.width,h=s.height,g=s.isAnimationActive,v=s.id;if(i||!l||!l.length)return null;var x=this.state.isAnimationFinished,y=l.length===1,b=be("recharts-area",c),N=m&&m.allowDataOverflow,j=f&&f.allowDataOverflow,w=N||j,A=we(v)?this.id:v,T=(n=me(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},S=T.r,_=S===void 0?3:S,P=T.strokeWidth,k=P===void 0?2:P,O=pT(o)?o:{},C=O.clipDot,D=C===void 0?!0:C,U=_*2+k;return L.createElement(Oe,{className:b},N||j?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(A)},L.createElement("rect",{x:N?d:d-p/2,y:j?u:u-h/2,width:N?p:p*2,height:j?h:h*2})),!D&&L.createElement("clipPath",{id:"clipPath-dots-".concat(A)},L.createElement("rect",{x:d-U/2,y:u-U/2,width:p+U,height:h+U}))):null,y?null:this.renderArea(w,A),(o||y)&&this.renderDots(w,D,A),(!g||x)&&_n.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:n.points!==s.curPoints||n.baseLine!==s.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(E.PureComponent);PC=ua;Tn(ua,"displayName","Area");Tn(ua,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ts.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Tn(ua,"getBaseValue",function(e,t,r,n){var s=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(re(l)&&typeof l=="number")return l;var c=s==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),m=Math.min(u[0],u[1]);return l==="dataMin"?m:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Tn(ua,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,s=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,m=e.displayedData,f=e.offset,p=t.layout,h=u&&u.length,g=PC.getBaseValue(t,r,n,s),v=p==="horizontal",x=!1,y=m.map(function(N,j){var w;h?w=u[d+j]:(w=ft(N,c),Array.isArray(w)?x=!0:w=[g,w]);var A=w[1]==null||h&&ft(N,c)==null;return v?{x:gm({axis:n,ticks:i,bandSize:l,entry:N,index:j}),y:A?null:s.scale(w[1]),value:w,payload:N}:{x:A?null:n.scale(w[1]),y:gm({axis:s,ticks:o,bandSize:l,entry:N,index:j}),value:w,payload:N}}),b;return h||x?b=y.map(function(N){var j=Array.isArray(N.value)?N.value[0]:null;return v?{x:N.x,y:j!=null&&N.y!=null?s.scale(j):null}:{x:j!=null?n.scale(j):null,y:N.y}}):b=v?s.scale(g):n.scale(g),va({points:y,baseLine:b,layout:p,isRange:x},f)});Tn(ua,"renderDotItem",function(e,t){var r;if(L.isValidElement(e))r=L.cloneElement(e,t);else if(ve(e))r=e(t);else{var n=be("recharts-area-dot",typeof e!="boolean"?e.className:""),s=t.key,i=OC(t,Aae);r=L.createElement(cu,Es({},i,{key:s,className:n}))}return r});function bo(e){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bo(e)}function $ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$C(n.key),n)}}function Mae(e,t,r){return t&&Rae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dae(e,t,r){return t=Hm(t),Lae(e,kC()?Reflect.construct(t,r||[],Hm(e).constructor):t.apply(e,r))}function Lae(e,t){if(t&&(bo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bae(e)}function Bae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kC=function(){return!!e})()}function Hm(e){return Hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hm(e)}function Uae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ig(e,t)}function ig(e,t){return ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ig(e,t)}function IC(e,t,r){return t=$C(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $C(e){var t=Fae(e,"string");return bo(t)=="symbol"?t:t+""}function Fae(e,t){if(bo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function og(){return og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},og.apply(this,arguments)}function zae(e){var t=e.xAxisId,r=w0(),n=S0(),s=pC(t);return s==null?null:E.createElement(qo,og({},s,{className:be("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Kn(o,!0)}}))}var ea=function(e){function t(){return $ae(this,t),Dae(this,t,arguments)}return Uae(t,e),Mae(t,[{key:"render",value:function(){return E.createElement(zae,this.props)}}])}(E.Component);IC(ea,"displayName","XAxis");IC(ea,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function jo(e){"@babel/helpers - typeof";return jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jo(e)}function Hae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DC(n.key),n)}}function qae(e,t,r){return t&&Vae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wae(e,t,r){return t=Vm(t),Gae(e,RC()?Reflect.construct(t,r||[],Vm(e).constructor):t.apply(e,r))}function Gae(e,t){if(t&&(jo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yae(e)}function Yae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RC=function(){return!!e})()}function Vm(e){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vm(e)}function Kae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lg(e,t)}function lg(e,t){return lg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},lg(e,t)}function MC(e,t,r){return t=DC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DC(e){var t=Xae(e,"string");return jo(t)=="symbol"?t:t+""}function Xae(e,t){if(jo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function cg(){return cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cg.apply(this,arguments)}var Qae=function(t){var r=t.yAxisId,n=w0(),s=S0(),i=hC(r);return i==null?null:E.createElement(qo,cg({},i,{className:be("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return Kn(l,!0)}}))},ta=function(e){function t(){return Hae(this,t),Wae(this,t,arguments)}return Kae(t,e),qae(t,[{key:"render",value:function(){return E.createElement(Qae,this.props)}}])}(E.Component);MC(ta,"displayName","YAxis");MC(ta,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function NS(e){return tse(e)||ese(e)||Zae(e)||Jae()}function Jae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zae(e,t){if(e){if(typeof e=="string")return ug(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ug(e,t)}}function ese(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tse(e){if(Array.isArray(e))return ug(e)}function ug(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var dg=function(t,r,n,s,i){var o=Rr(t,E0),l=Rr(t,op),c=[].concat(NS(o),NS(l)),u=Rr(t,cp),d="".concat(s,"Id"),m=s[0],f=r;if(c.length&&(f=c.reduce(function(g,v){if(v.props[d]===n&&kn(v.props,"extendDomain")&&re(v.props[m])){var x=v.props[m];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},f)),u.length){var p="".concat(m,"1"),h="".concat(m,"2");f=u.reduce(function(g,v){if(v.props[d]===n&&kn(v.props,"extendDomain")&&re(v.props[p])&&re(v.props[h])){var x=v.props[p],y=v.props[h];return[Math.min(g[0],x,y),Math.max(g[1],x,y)]}return g},f)}return i&&i.length&&(f=i.reduce(function(g,v){return re(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},f)),f},LC={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,m,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,m||c,f),h=r?r+u:u;return c._events[h]?c._events[h].fn?c._events[h]=[c._events[h],p]:c._events[h].push(p):(c._events[h]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,m;if(this._eventsCount===0)return u;for(m in d=this._events)t.call(d,m)&&u.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,m=this._events[d];if(!m)return[];if(m.fn)return[m.fn];for(var f=0,p=m.length,h=new Array(p);f<p;f++)h[f]=m[f].fn;return h},l.prototype.listenerCount=function(u){var d=r?r+u:u,m=this._events[d];return m?m.fn?1:m.length:0},l.prototype.emit=function(u,d,m,f,p,h){var g=r?r+u:u;if(!this._events[g])return!1;var v=this._events[g],x=arguments.length,y,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,m),!0;case 4:return v.fn.call(v.context,d,m,f),!0;case 5:return v.fn.call(v.context,d,m,f,p),!0;case 6:return v.fn.call(v.context,d,m,f,p,h),!0}for(b=1,y=new Array(x-1);b<x;b++)y[b-1]=arguments[b];v.fn.apply(v.context,y)}else{var N=v.length,j;for(b=0;b<N;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),x){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,d);break;case 3:v[b].fn.call(v[b].context,d,m);break;case 4:v[b].fn.call(v[b].context,d,m,f);break;default:if(!y)for(j=1,y=new Array(x-1);j<x;j++)y[j-1]=arguments[j];v[b].fn.apply(v[b].context,y)}}return!0},l.prototype.on=function(u,d,m){return i(this,u,d,m,!1)},l.prototype.once=function(u,d,m){return i(this,u,d,m,!0)},l.prototype.removeListener=function(u,d,m,f){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var h=this._events[p];if(h.fn)h.fn===d&&(!f||h.once)&&(!m||h.context===m)&&o(this,p);else{for(var g=0,v=[],x=h.length;g<x;g++)(h[g].fn!==d||f&&!h[g].once||m&&h[g].context!==m)&&v.push(h[g]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(LC);var rse=LC.exports;const nse=Be(rse);var bh=new nse,jh="recharts.syncMouseEvents";function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}function ase(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BC(n.key),n)}}function ise(e,t,r){return t&&sse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nh(e,t,r){return t=BC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BC(e){var t=ose(e,"string");return Fc(t)=="symbol"?t:t+""}function ose(e,t){if(Fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lse=function(){function e(){ase(this,e),Nh(this,"activeIndex",0),Nh(this,"coordinateList",[]),Nh(this,"layout","horizontal")}return ise(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,m=d===void 0?null:d,f=r.mouseHandlerCallback,p=f===void 0?null:f;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=i+c+u,f=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:m,pageY:f})}}}])}();function cse(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&re(n)&&re(s))return!0}return!1}function use(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function UC(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=Ge(t,r,n,s),l=Ge(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function dse(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,m=t.angle,f=Ge(l,c,u,m),p=Ge(l,c,d,m);n=f.x,s=f.y,i=p.x,o=p.y}else return UC(t);return[{x:n,y:s},{x:i,y:o}]}function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function wS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Xu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wS(Object(r),!0).forEach(function(n){mse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mse(e,t,r){return t=fse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fse(e){var t=pse(e,"string");return zc(t)=="symbol"?t:t+""}function pse(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hse(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,m=e.layout,f=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||f!=="ScatterChart"&&s!=="axis")return null;var h,g=ks;if(f==="ScatterChart")h=o,g=wZ;else if(f==="BarChart")h=use(m,o,c,d),g=g0;else if(m==="radial"){var v=UC(o),x=v.cx,y=v.cy,b=v.radius,N=v.startAngle,j=v.endAngle;h={cx:x,cy:y,startAngle:N,endAngle:j,innerRadius:b,outerRadius:b},g=IO}else h={points:dse(m,o,c)},g=ks;var w=Xu(Xu(Xu(Xu({stroke:"#ccc",pointerEvents:"none"},c),h),me(p,!1)),{},{payload:l,payloadIndex:u,className:be("recharts-tooltip-cursor",p.className)});return E.isValidElement(p)?E.cloneElement(p,w):E.createElement(g,w)}var xse=["item"],yse=["children","className","width","height","style","compact","title","desc"];function No(e){"@babel/helpers - typeof";return No=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},No(e)}function Ci(){return Ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ci.apply(this,arguments)}function SS(e,t){return bse(e)||vse(e,t)||zC(e,t)||gse()}function gse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vse(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function bse(e){if(Array.isArray(e))return e}function AS(e,t){if(e==null)return{};var r=jse(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Nse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HC(n.key),n)}}function Sse(e,t,r){return t&&wse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ase(e,t,r){return t=qm(t),Ese(e,FC()?Reflect.construct(t,r||[],qm(e).constructor):t.apply(e,r))}function Ese(e,t){if(t&&(No(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tse(e)}function Tse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FC=function(){return!!e})()}function qm(e){return qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qm(e)}function Pse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mg(e,t)}function mg(e,t){return mg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},mg(e,t)}function wo(e){return _se(e)||Cse(e)||zC(e)||Ose()}function Ose(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zC(e,t){if(e){if(typeof e=="string")return fg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fg(e,t)}}function Cse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _se(e){if(Array.isArray(e))return fg(e)}function fg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ES(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ES(Object(r),!0).forEach(function(n){ge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ES(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ge(e,t,r){return t=HC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HC(e){var t=kse(e,"string");return No(t)=="symbol"?t:t+""}function kse(e,t){if(No(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(No(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ise={xAxis:["bottom","top"],yAxis:["left","right"]},$se={width:"100%",height:"100%"},VC={x:0,y:0};function Qu(e){return e}var Rse=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Mse=function(t,r,n,s){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return Z(Z(Z({},s),Ge(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return Z(Z(Z({},s),Ge(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return VC},up=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(wo(l),wo(u)):l},[]);return o.length>0?o:t&&t.length&&re(s)&&re(i)?t.slice(s,i+1):[]};function qC(e){return e==="number"?[0,"auto"]:void 0}var pg=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,l=up(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,m=(d=u.props.data)!==null&&d!==void 0?d:r;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var p=m===void 0?l:m;f=Vd(p,o.dataKey,s)}else f=m&&m[n]||l[n];return f?[].concat(wo(c),[TO(u,f)]):c},[])},TS=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=Rse(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=GK(o,l,u,c);if(d>=0&&u){var m=u[d]&&u[d].value,f=pg(t,r,d,m),p=Mse(n,l,d,i);return{activeTooltipIndex:d,activeLabel:m,activePayload:f,activeCoordinate:p}}return null},Dse=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,m=t.children,f=t.stackOffset,p=jO(d,i);return n.reduce(function(h,g){var v,x=g.type.defaultProps!==void 0?Z(Z({},g.type.defaultProps),g.props):g.props,y=x.type,b=x.dataKey,N=x.allowDataOverflow,j=x.allowDuplicatedCategory,w=x.scale,A=x.ticks,T=x.includeHidden,S=x[o];if(h[S])return h;var _=up(t.data,{graphicalItems:s.filter(function(W){var ee,se=o in W.props?W.props[o]:(ee=W.type.defaultProps)===null||ee===void 0?void 0:ee[o];return se===S}),dataStartIndex:c,dataEndIndex:u}),P=_.length,k,O,C;cse(x.domain,N,y)&&(k=Ty(x.domain,null,N),p&&(y==="number"||w!=="auto")&&(C=Il(_,b,"category")));var D=qC(y);if(!k||k.length===0){var U,z=(U=x.domain)!==null&&U!==void 0?U:D;if(b){if(k=Il(_,b,y),y==="category"&&p){var I=D6(k);j&&I?(O=k,k=_m(0,P)):j||(k=Gw(z,k,g).reduce(function(W,ee){return W.indexOf(ee)>=0?W:[].concat(wo(W),[ee])},[]))}else if(y==="category")j?k=k.filter(function(W){return W!==""&&!we(W)}):k=Gw(z,k,g).reduce(function(W,ee){return W.indexOf(ee)>=0||ee===""||we(ee)?W:[].concat(wo(W),[ee])},[]);else if(y==="number"){var R=JK(_,s.filter(function(W){var ee,se,ye=o in W.props?W.props[o]:(ee=W.type.defaultProps)===null||ee===void 0?void 0:ee[o],$="hide"in W.props?W.props.hide:(se=W.type.defaultProps)===null||se===void 0?void 0:se.hide;return ye===S&&(T||!$)}),b,i,d);R&&(k=R)}p&&(y==="number"||w!=="auto")&&(C=Il(_,b,"category"))}else p?k=_m(0,P):l&&l[S]&&l[S].hasStack&&y==="number"?k=f==="expand"?[0,1]:EO(l[S].stackGroups,c,u):k=bO(_,s.filter(function(W){var ee=o in W.props?W.props[o]:W.type.defaultProps[o],se="hide"in W.props?W.props.hide:W.type.defaultProps.hide;return ee===S&&(T||!se)}),y,d,!0);if(y==="number")k=dg(m,k,S,i,A),z&&(k=Ty(z,k,N));else if(y==="category"&&z){var F=z,V=k.every(function(W){return F.indexOf(W)>=0});V&&(k=F)}}return Z(Z({},h),{},ge({},S,Z(Z({},x),{},{axisType:i,domain:k,categoricalDomain:C,duplicateDomain:O,originalDomain:(v=x.domain)!==null&&v!==void 0?v:D,isCategorical:p,layout:d})))},{})},Lse=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,m=t.children,f=up(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=f.length,h=jO(d,i),g=-1;return n.reduce(function(v,x){var y=x.type.defaultProps!==void 0?Z(Z({},x.type.defaultProps),x.props):x.props,b=y[o],N=qC("number");if(!v[b]){g++;var j;return h?j=_m(0,p):l&&l[b]&&l[b].hasStack?(j=EO(l[b].stackGroups,c,u),j=dg(m,j,b,i)):(j=Ty(N,bO(f,n.filter(function(w){var A,T,S=o in w.props?w.props[o]:(A=w.type.defaultProps)===null||A===void 0?void 0:A[o],_="hide"in w.props?w.props.hide:(T=w.type.defaultProps)===null||T===void 0?void 0:T.hide;return S===b&&!_}),"number",d),s.defaultProps.allowDataOverflow),j=dg(m,j,b,i)),Z(Z({},v),{},ge({},b,Z(Z({axisType:i},s.defaultProps),{},{hide:!0,orientation:$r(Ise,"".concat(i,".").concat(g%2),null),domain:j,originalDomain:N,isCategorical:h,layout:d})))}return v},{})},Bse=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,m="".concat(s,"Id"),f=Rr(d,i),p={};return f&&f.length?p=Dse(t,{axes:f,graphicalItems:o,axisType:s,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=Lse(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},Use=function(t){var r=Pa(t),n=Kn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:qv(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:vm(r,n)}},PS=function(t){var r=t.children,n=t.defaultShowTooltip,s=Pr(r,mo),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Fse=function(t){return!t||!t.length?!1:t.some(function(r){var n=Jn(r&&r.type);return n&&n.indexOf("Bar")>=0})},OS=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},zse=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,m=n.children,f=n.margin||{},p=Pr(m,mo),h=Pr(m,Bi),g=Object.keys(c).reduce(function(j,w){var A=c[w],T=A.orientation;return!A.mirror&&!A.hide?Z(Z({},j),{},ge({},T,j[T]+A.width)):j},{left:f.left||0,right:f.right||0}),v=Object.keys(o).reduce(function(j,w){var A=o[w],T=A.orientation;return!A.mirror&&!A.hide?Z(Z({},j),{},ge({},T,$r(j,"".concat(T))+A.height)):j},{top:f.top||0,bottom:f.bottom||0}),x=Z(Z({},v),g),y=x.bottom;p&&(x.bottom+=p.props.height||mo.defaultProps.height),h&&r&&(x=XK(x,s,n,r));var b=u-x.left-x.right,N=d-x.top-x.bottom;return Z(Z({brushBottom:y},x),{},{width:Math.max(b,0),height:Math.max(N,0)})},Hse=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},dp=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,m=t.defaultProps,f=function(x,y){var b=y.graphicalItems,N=y.stackGroups,j=y.offset,w=y.updateId,A=y.dataStartIndex,T=y.dataEndIndex,S=x.barSize,_=x.layout,P=x.barGap,k=x.barCategoryGap,O=x.maxBarSize,C=OS(_),D=C.numericAxisName,U=C.cateAxisName,z=Fse(b),I=[];return b.forEach(function(R,F){var V=up(x.data,{graphicalItems:[R],dataStartIndex:A,dataEndIndex:T}),W=R.type.defaultProps!==void 0?Z(Z({},R.type.defaultProps),R.props):R.props,ee=W.dataKey,se=W.maxBarSize,ye=W["".concat(D,"Id")],$=W["".concat(U,"Id")],B={},J=c.reduce(function(Ct,ut){var Sr=y["".concat(ut.axisType,"Map")],bn=W["".concat(ut.axisType,"Id")];Sr&&Sr[bn]||ut.axisType==="zAxis"||Ws();var tn=Sr[bn];return Z(Z({},Ct),{},ge(ge({},ut.axisType,tn),"".concat(ut.axisType,"Ticks"),Kn(tn)))},B),X=J[U],ie=J["".concat(U,"Ticks")],de=N&&N[ye]&&N[ye].hasStack&&oX(R,N[ye].stackGroups),M=Jn(R.type).indexOf("Bar")>=0,Q=vm(X,ie),ae=[],oe=z&&YK({barSize:S,stackGroups:N,totalSize:Hse(J,U)});if(M){var pe,he,Ee=we(se)?O:se,ct=(pe=(he=vm(X,ie,!0))!==null&&he!==void 0?he:Ee)!==null&&pe!==void 0?pe:0;ae=KK({barGap:P,barCategoryGap:k,bandSize:ct!==Q?ct:Q,sizeList:oe[$],maxBarSize:Ee}),ct!==Q&&(ae=ae.map(function(Ct){return Z(Z({},Ct),{},{position:Z(Z({},Ct.position),{},{offset:Ct.position.offset-ct/2})})}))}var ke=R&&R.type&&R.type.getComposedData;ke&&I.push({props:Z(Z({},ke(Z(Z({},J),{},{displayedData:V,props:x,dataKey:ee,item:R,bandSize:Q,barPosition:ae,offset:j,stackedData:de,layout:_,dataStartIndex:A,dataEndIndex:T}))),{},ge(ge(ge({key:R.key||"item-".concat(F)},D,J[D]),U,J[U]),"animationId",w)),childIndex:K6(R,x.children),item:R})}),I},p=function(x,y){var b=x.props,N=x.dataStartIndex,j=x.dataEndIndex,w=x.updateId;if(!Fj({props:b}))return null;var A=b.children,T=b.layout,S=b.stackOffset,_=b.data,P=b.reverseStackOrder,k=OS(T),O=k.numericAxisName,C=k.cateAxisName,D=Rr(A,n),U=sX(_,D,"".concat(O,"Id"),"".concat(C,"Id"),S,P),z=c.reduce(function(W,ee){var se="".concat(ee.axisType,"Map");return Z(Z({},W),{},ge({},se,Bse(b,Z(Z({},ee),{},{graphicalItems:D,stackGroups:ee.axisType===O&&U,dataStartIndex:N,dataEndIndex:j}))))},{}),I=zse(Z(Z({},z),{},{props:b,graphicalItems:D}),y==null?void 0:y.legendBBox);Object.keys(z).forEach(function(W){z[W]=d(b,z[W],I,W.replace("Map",""),r)});var R=z["".concat(C,"Map")],F=Use(R),V=f(b,Z(Z({},z),{},{dataStartIndex:N,dataEndIndex:j,updateId:w,graphicalItems:D,stackGroups:U,offset:I}));return Z(Z({formattedGraphicalItems:V,graphicalItems:D,offset:I,stackGroups:U},F),z)},h=function(v){function x(y){var b,N,j;return Nse(this,x),j=Ase(this,x,[y]),ge(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ge(j,"accessibilityManager",new lse),ge(j,"handleLegendBBoxUpdate",function(w){if(w){var A=j.state,T=A.dataStartIndex,S=A.dataEndIndex,_=A.updateId;j.setState(Z({legendBBox:w},p({props:j.props,dataStartIndex:T,dataEndIndex:S,updateId:_},Z(Z({},j.state),{},{legendBBox:w}))))}}),ge(j,"handleReceiveSyncEvent",function(w,A,T){if(j.props.syncId===w){if(T===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(A)}}),ge(j,"handleBrushChange",function(w){var A=w.startIndex,T=w.endIndex;if(A!==j.state.dataStartIndex||T!==j.state.dataEndIndex){var S=j.state.updateId;j.setState(function(){return Z({dataStartIndex:A,dataEndIndex:T},p({props:j.props,dataStartIndex:A,dataEndIndex:T,updateId:S},j.state))}),j.triggerSyncEvent({dataStartIndex:A,dataEndIndex:T})}}),ge(j,"handleMouseEnter",function(w){var A=j.getMouseInfo(w);if(A){var T=Z(Z({},A),{},{isTooltipActive:!0});j.setState(T),j.triggerSyncEvent(T);var S=j.props.onMouseEnter;ve(S)&&S(T,w)}}),ge(j,"triggeredAfterMouseMove",function(w){var A=j.getMouseInfo(w),T=A?Z(Z({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(T),j.triggerSyncEvent(T);var S=j.props.onMouseMove;ve(S)&&S(T,w)}),ge(j,"handleItemMouseEnter",function(w){j.setState(function(){return{isTooltipActive:!0,activeItem:w,activePayload:w.tooltipPayload,activeCoordinate:w.tooltipPosition||{x:w.cx,y:w.cy}}})}),ge(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),ge(j,"handleMouseMove",function(w){w.persist(),j.throttleTriggeredAfterMouseMove(w)}),ge(j,"handleMouseLeave",function(w){j.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};j.setState(A),j.triggerSyncEvent(A);var T=j.props.onMouseLeave;ve(T)&&T(A,w)}),ge(j,"handleOuterEvent",function(w){var A=Y6(w),T=$r(j.props,"".concat(A));if(A&&ve(T)){var S,_;/.*touch.*/i.test(A)?_=j.getMouseInfo(w.changedTouches[0]):_=j.getMouseInfo(w),T((S=_)!==null&&S!==void 0?S:{},w)}}),ge(j,"handleClick",function(w){var A=j.getMouseInfo(w);if(A){var T=Z(Z({},A),{},{isTooltipActive:!0});j.setState(T),j.triggerSyncEvent(T);var S=j.props.onClick;ve(S)&&S(T,w)}}),ge(j,"handleMouseDown",function(w){var A=j.props.onMouseDown;if(ve(A)){var T=j.getMouseInfo(w);A(T,w)}}),ge(j,"handleMouseUp",function(w){var A=j.props.onMouseUp;if(ve(A)){var T=j.getMouseInfo(w);A(T,w)}}),ge(j,"handleTouchMove",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(w.changedTouches[0])}),ge(j,"handleTouchStart",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&j.handleMouseDown(w.changedTouches[0])}),ge(j,"handleTouchEnd",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&j.handleMouseUp(w.changedTouches[0])}),ge(j,"handleDoubleClick",function(w){var A=j.props.onDoubleClick;if(ve(A)){var T=j.getMouseInfo(w);A(T,w)}}),ge(j,"handleContextMenu",function(w){var A=j.props.onContextMenu;if(ve(A)){var T=j.getMouseInfo(w);A(T,w)}}),ge(j,"triggerSyncEvent",function(w){j.props.syncId!==void 0&&bh.emit(jh,j.props.syncId,w,j.eventEmitterSymbol)}),ge(j,"applySyncEvent",function(w){var A=j.props,T=A.layout,S=A.syncMethod,_=j.state.updateId,P=w.dataStartIndex,k=w.dataEndIndex;if(w.dataStartIndex!==void 0||w.dataEndIndex!==void 0)j.setState(Z({dataStartIndex:P,dataEndIndex:k},p({props:j.props,dataStartIndex:P,dataEndIndex:k,updateId:_},j.state)));else if(w.activeTooltipIndex!==void 0){var O=w.chartX,C=w.chartY,D=w.activeTooltipIndex,U=j.state,z=U.offset,I=U.tooltipTicks;if(!z)return;if(typeof S=="function")D=S(I,w);else if(S==="value"){D=-1;for(var R=0;R<I.length;R++)if(I[R].value===w.activeLabel){D=R;break}}var F=Z(Z({},z),{},{x:z.left,y:z.top}),V=Math.min(O,F.x+F.width),W=Math.min(C,F.y+F.height),ee=I[D]&&I[D].value,se=pg(j.state,j.props.data,D),ye=I[D]?{x:T==="horizontal"?I[D].coordinate:V,y:T==="horizontal"?W:I[D].coordinate}:VC;j.setState(Z(Z({},w),{},{activeLabel:ee,activeCoordinate:ye,activePayload:se,activeTooltipIndex:D}))}else j.setState(w)}),ge(j,"renderCursor",function(w){var A,T=j.state,S=T.isTooltipActive,_=T.activeCoordinate,P=T.activePayload,k=T.offset,O=T.activeTooltipIndex,C=T.tooltipAxisBandSize,D=j.getTooltipEventType(),U=(A=w.props.active)!==null&&A!==void 0?A:S,z=j.props.layout,I=w.key||"_recharts-cursor";return L.createElement(hse,{key:I,activeCoordinate:_,activePayload:P,activeTooltipIndex:O,chartName:r,element:w,isActive:U,layout:z,offset:k,tooltipAxisBandSize:C,tooltipEventType:D})}),ge(j,"renderPolarAxis",function(w,A,T){var S=$r(w,"type.axisType"),_=$r(j.state,"".concat(S,"Map")),P=w.type.defaultProps,k=P!==void 0?Z(Z({},P),w.props):w.props,O=_&&_[k["".concat(S,"Id")]];return E.cloneElement(w,Z(Z({},O),{},{className:be(S,O.className),key:w.key||"".concat(A,"-").concat(T),ticks:Kn(O,!0)}))}),ge(j,"renderPolarGrid",function(w){var A=w.props,T=A.radialLines,S=A.polarAngles,_=A.polarRadius,P=j.state,k=P.radiusAxisMap,O=P.angleAxisMap,C=Pa(k),D=Pa(O),U=D.cx,z=D.cy,I=D.innerRadius,R=D.outerRadius;return E.cloneElement(w,{polarAngles:Array.isArray(S)?S:Kn(D,!0).map(function(F){return F.coordinate}),polarRadius:Array.isArray(_)?_:Kn(C,!0).map(function(F){return F.coordinate}),cx:U,cy:z,innerRadius:I,outerRadius:R,key:w.key||"polar-grid",radialLines:T})}),ge(j,"renderLegend",function(){var w=j.state.formattedGraphicalItems,A=j.props,T=A.children,S=A.width,_=A.height,P=j.props.margin||{},k=S-(P.left||0)-(P.right||0),O=gO({children:T,formattedGraphicalItems:w,legendWidth:k,legendContent:u});if(!O)return null;var C=O.item,D=AS(O,xse);return E.cloneElement(C,Z(Z({},D),{},{chartWidth:S,chartHeight:_,margin:P,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),ge(j,"renderTooltip",function(){var w,A=j.props,T=A.children,S=A.accessibilityLayer,_=Pr(T,pr);if(!_)return null;var P=j.state,k=P.isTooltipActive,O=P.activeCoordinate,C=P.activePayload,D=P.activeLabel,U=P.offset,z=(w=_.props.active)!==null&&w!==void 0?w:k;return E.cloneElement(_,{viewBox:Z(Z({},U),{},{x:U.left,y:U.top}),active:z,label:D,payload:z?C:[],coordinate:O,accessibilityLayer:S})}),ge(j,"renderBrush",function(w){var A=j.props,T=A.margin,S=A.data,_=j.state,P=_.offset,k=_.dataStartIndex,O=_.dataEndIndex,C=_.updateId;return E.cloneElement(w,{key:w.key||"_recharts-brush",onChange:Wu(j.handleBrushChange,w.props.onChange),data:S,x:re(w.props.x)?w.props.x:P.left,y:re(w.props.y)?w.props.y:P.top+P.height+P.brushBottom-(T.bottom||0),width:re(w.props.width)?w.props.width:P.width,startIndex:k,endIndex:O,updateId:"brush-".concat(C)})}),ge(j,"renderReferenceElement",function(w,A,T){if(!w)return null;var S=j,_=S.clipPathId,P=j.state,k=P.xAxisMap,O=P.yAxisMap,C=P.offset,D=w.type.defaultProps||{},U=w.props,z=U.xAxisId,I=z===void 0?D.xAxisId:z,R=U.yAxisId,F=R===void 0?D.yAxisId:R;return E.cloneElement(w,{key:w.key||"".concat(A,"-").concat(T),xAxis:k[I],yAxis:O[F],viewBox:{x:C.left,y:C.top,width:C.width,height:C.height},clipPathId:_})}),ge(j,"renderActivePoints",function(w){var A=w.item,T=w.activePoint,S=w.basePoint,_=w.childIndex,P=w.isRange,k=[],O=A.props.key,C=A.item.type.defaultProps!==void 0?Z(Z({},A.item.type.defaultProps),A.item.props):A.item.props,D=C.activeDot,U=C.dataKey,z=Z(Z({index:_,dataKey:U,cx:T.x,cy:T.y,r:4,fill:y0(A.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},me(D,!1)),qd(D));return k.push(x.renderActiveDot(D,z,"".concat(O,"-activePoint-").concat(_))),S?k.push(x.renderActiveDot(D,Z(Z({},z),{},{cx:S.x,cy:S.y}),"".concat(O,"-basePoint-").concat(_))):P&&k.push(null),k}),ge(j,"renderGraphicChild",function(w,A,T){var S=j.filterFormatItem(w,A,T);if(!S)return null;var _=j.getTooltipEventType(),P=j.state,k=P.isTooltipActive,O=P.tooltipAxis,C=P.activeTooltipIndex,D=P.activeLabel,U=j.props.children,z=Pr(U,pr),I=S.props,R=I.points,F=I.isRange,V=I.baseLine,W=S.item.type.defaultProps!==void 0?Z(Z({},S.item.type.defaultProps),S.item.props):S.item.props,ee=W.activeDot,se=W.hide,ye=W.activeBar,$=W.activeShape,B=!!(!se&&k&&z&&(ee||ye||$)),J={};_!=="axis"&&z&&z.props.trigger==="click"?J={onClick:Wu(j.handleItemMouseEnter,w.props.onClick)}:_!=="axis"&&(J={onMouseLeave:Wu(j.handleItemMouseLeave,w.props.onMouseLeave),onMouseEnter:Wu(j.handleItemMouseEnter,w.props.onMouseEnter)});var X=E.cloneElement(w,Z(Z({},S.props),J));function ie(ut){return typeof O.dataKey=="function"?O.dataKey(ut.payload):null}if(B)if(C>=0){var de,M;if(O.dataKey&&!O.allowDuplicatedCategory){var Q=typeof O.dataKey=="function"?ie:"payload.".concat(O.dataKey.toString());de=Vd(R,Q,D),M=F&&V&&Vd(V,Q,D)}else de=R==null?void 0:R[C],M=F&&V&&V[C];if($||ye){var ae=w.props.activeIndex!==void 0?w.props.activeIndex:C;return[E.cloneElement(w,Z(Z(Z({},S.props),J),{},{activeIndex:ae})),null,null]}if(!we(de))return[X].concat(wo(j.renderActivePoints({item:S,activePoint:de,basePoint:M,childIndex:C,isRange:F})))}else{var oe,pe=(oe=j.getItemByXY(j.state.activeCoordinate))!==null&&oe!==void 0?oe:{graphicalItem:X},he=pe.graphicalItem,Ee=he.item,ct=Ee===void 0?w:Ee,ke=he.childIndex,Ct=Z(Z(Z({},S.props),J),{},{activeIndex:ke});return[E.cloneElement(ct,Ct),null,null]}return F?[X,null,null]:[X,null]}),ge(j,"renderCustomized",function(w,A,T){return E.cloneElement(w,Z(Z({key:"recharts-customized-".concat(T)},j.props),j.state))}),ge(j,"renderMap",{CartesianGrid:{handler:Qu,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Qu},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Qu},YAxis:{handler:Qu},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((b=y.id)!==null&&b!==void 0?b:Js("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=yP(j.triggeredAfterMouseMove,(N=y.throttleDelay)!==null&&N!==void 0?N:1e3/60),j.state={},j}return Pse(x,v),Sse(x,[{key:"componentDidMount",value:function(){var b,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,N=b.children,j=b.data,w=b.height,A=b.layout,T=Pr(N,pr);if(T){var S=T.props.defaultIndex;if(!(typeof S!="number"||S<0||S>this.state.tooltipTicks.length-1)){var _=this.state.tooltipTicks[S]&&this.state.tooltipTicks[S].value,P=pg(this.state,j,S,_),k=this.state.tooltipTicks[S].coordinate,O=(this.state.offset.top+w)/2,C=A==="horizontal",D=C?{x:k,y:O}:{y:k,x:O},U=this.state.formattedGraphicalItems.find(function(I){var R=I.item;return R.type.name==="Scatter"});U&&(D=Z(Z({},D),U.props.points[S].tooltipPosition),P=U.props.points[S].tooltipPayload);var z={activeTooltipIndex:S,isTooltipActive:!0,activeLabel:_,activePayload:P,activeCoordinate:D};this.setState(z),this.renderCursor(T),this.accessibilityManager.setIndex(S)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var j,w;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0}})}return null}},{key:"componentDidUpdate",value:function(b){zx([Pr(b.children,pr)],[Pr(this.props.children,pr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Pr(this.props.children,pr);if(b&&typeof b.props.shared=="boolean"){var N=b.props.shared?"axis":"item";return l.indexOf(N)>=0?N:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var N=this.container,j=N.getBoundingClientRect(),w=jq(j),A={chartX:Math.round(b.pageX-w.left),chartY:Math.round(b.pageY-w.top)},T=j.width/N.offsetWidth||1,S=this.inRange(A.chartX,A.chartY,T);if(!S)return null;var _=this.state,P=_.xAxisMap,k=_.yAxisMap,O=this.getTooltipEventType(),C=TS(this.state,this.props.data,this.props.layout,S);if(O!=="axis"&&P&&k){var D=Pa(P).scale,U=Pa(k).scale,z=D&&D.invert?D.invert(A.chartX):null,I=U&&U.invert?U.invert(A.chartY):null;return Z(Z({},A),{},{xValue:z,yValue:I},C)}return C?Z(Z({},A),C):null}},{key:"inRange",value:function(b,N){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,w=this.props.layout,A=b/j,T=N/j;if(w==="horizontal"||w==="vertical"){var S=this.state.offset,_=A>=S.left&&A<=S.left+S.width&&T>=S.top&&T<=S.top+S.height;return _?{x:A,y:T}:null}var P=this.state,k=P.angleAxisMap,O=P.radiusAxisMap;if(k&&O){var C=Pa(k);return Xw({x:A,y:T},C)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,N=this.getTooltipEventType(),j=Pr(b,pr),w={};j&&N==="axis"&&(j.props.trigger==="click"?w={onClick:this.handleClick}:w={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=qd(this.props,this.handleOuterEvent);return Z(Z({},A),w)}},{key:"addListener",value:function(){bh.on(jh,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){bh.removeListener(jh,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,N,j){for(var w=this.state.formattedGraphicalItems,A=0,T=w.length;A<T;A++){var S=w[A];if(S.item===b||S.props.key===b.key||N===Jn(S.item.type)&&j===S.childIndex)return S}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,N=this.state.offset,j=N.left,w=N.top,A=N.height,T=N.width;return L.createElement("defs",null,L.createElement("clipPath",{id:b},L.createElement("rect",{x:j,y:w,height:A,width:T})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(N,j){var w=SS(j,2),A=w[0],T=w[1];return Z(Z({},N),{},ge({},A,T.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(N,j){var w=SS(j,2),A=w[0],T=w[1];return Z(Z({},N),{},ge({},A,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[b])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(b){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[b])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(b){var N=this.state,j=N.formattedGraphicalItems,w=N.activeItem;if(j&&j.length)for(var A=0,T=j.length;A<T;A++){var S=j[A],_=S.props,P=S.item,k=P.type.defaultProps!==void 0?Z(Z({},P.type.defaultProps),P.props):P.props,O=Jn(P.type);if(O==="Bar"){var C=(_.data||[]).find(function(I){return nZ(b,I)});if(C)return{graphicalItem:S,payload:C}}else if(O==="RadialBar"){var D=(_.data||[]).find(function(I){return Xw(b,I)});if(D)return{graphicalItem:S,payload:D}}else if(np(S,w)||ap(S,w)||Mc(S,w)){var U=qee({graphicalItem:S,activeTooltipItem:w,itemData:k.data}),z=k.activeIndex===void 0?U:k.activeIndex;return{graphicalItem:Z(Z({},S),{},{childIndex:z}),payload:Mc(S,w)?k.data[U]:S.props.data[U]}}}return null}},{key:"render",value:function(){var b=this;if(!Fj(this))return null;var N=this.props,j=N.children,w=N.className,A=N.width,T=N.height,S=N.style,_=N.compact,P=N.title,k=N.desc,O=AS(N,yse),C=me(O,!1);if(_)return L.createElement(aS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement(Vx,Ci({},C,{width:A,height:T,title:P,desc:k}),this.renderClipPath(),Hj(j,this.renderMap)));if(this.props.accessibilityLayer){var D,U;C.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,C.role=(U=this.props.role)!==null&&U!==void 0?U:"application",C.onKeyDown=function(I){b.accessibilityManager.keyboardEvent(I)},C.onFocus=function(){b.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return L.createElement(aS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement("div",Ci({className:be("recharts-wrapper",w),style:Z({position:"relative",cursor:"default",width:A,height:T},S)},z,{ref:function(R){b.container=R}}),L.createElement(Vx,Ci({},C,{width:A,height:T,title:P,desc:k,style:$se}),this.renderClipPath(),Hj(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(E.Component);ge(h,"displayName",r),ge(h,"defaultProps",Z({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),ge(h,"getDerivedStateFromProps",function(v,x){var y=v.dataKey,b=v.data,N=v.children,j=v.width,w=v.height,A=v.layout,T=v.stackOffset,S=v.margin,_=x.dataStartIndex,P=x.dataEndIndex;if(x.updateId===void 0){var k=PS(v);return Z(Z(Z({},k),{},{updateId:0},p(Z(Z({props:v},k),{},{updateId:0}),x)),{},{prevDataKey:y,prevData:b,prevWidth:j,prevHeight:w,prevLayout:A,prevStackOffset:T,prevMargin:S,prevChildren:N})}if(y!==x.prevDataKey||b!==x.prevData||j!==x.prevWidth||w!==x.prevHeight||A!==x.prevLayout||T!==x.prevStackOffset||!Li(S,x.prevMargin)){var O=PS(v),C={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},D=Z(Z({},TS(x,b,A)),{},{updateId:x.updateId+1}),U=Z(Z(Z({},O),C),D);return Z(Z(Z({},U),p(Z({props:v},U),x)),{},{prevDataKey:y,prevData:b,prevWidth:j,prevHeight:w,prevLayout:A,prevStackOffset:T,prevMargin:S,prevChildren:N})}if(!zx(N,x.prevChildren)){var z,I,R,F,V=Pr(N,mo),W=V&&(z=(I=V.props)===null||I===void 0?void 0:I.startIndex)!==null&&z!==void 0?z:_,ee=V&&(R=(F=V.props)===null||F===void 0?void 0:F.endIndex)!==null&&R!==void 0?R:P,se=W!==_||ee!==P,ye=!we(b),$=ye&&!se?x.updateId:x.updateId+1;return Z(Z({updateId:$},p(Z(Z({props:v},x),{},{updateId:$,dataStartIndex:W,dataEndIndex:ee}),x)),{},{prevChildren:N,dataStartIndex:W,dataEndIndex:ee})}return null}),ge(h,"renderActiveDot",function(v,x,y){var b;return E.isValidElement(v)?b=E.cloneElement(v,x):ve(v)?b=v(x):b=L.createElement(cu,x),L.createElement(Oe,{className:"recharts-active-dot",key:y},b)});var g=E.forwardRef(function(x,y){return L.createElement(h,Ci({},x,{ref:y}))});return g.displayName=h.displayName,g},WC=dp({chartName:"LineChart",GraphicalChild:Ys,axisComponents:[{axisType:"xAxis",AxisComp:ea},{axisType:"yAxis",AxisComp:ta}],formatAxisMap:v0}),Vse=dp({chartName:"BarChart",GraphicalChild:ri,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ea},{axisType:"yAxis",AxisComp:ta}],formatAxisMap:v0}),qse=dp({chartName:"PieChart",GraphicalChild:xa,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:rp},{axisType:"radiusAxis",AxisComp:ep}],formatAxisMap:yX,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Wse=dp({chartName:"AreaChart",GraphicalChild:ua,axisComponents:[{axisType:"xAxis",AxisComp:ea},{axisType:"yAxis",AxisComp:ta}],formatAxisMap:v0});const Gse={VITAL:"vital",MEDICATION:"medication",SYMPTOM:"symptom",NOTE:"note",ASSESSMENT:"assessment",TREATMENT:"treatment"},Yse={PATIENT:"patient",NURSE:"nurse",DOCTOR:"doctor",CAREGIVER:"caregiver",SPECIALIST:"specialist"};function Ln(e){var t,r,n;return{...e,patientName:((t=e.patient)==null?void 0:t.name)??e.patientName??"Unknown Patient",recordType:Gse[(r=e.recordType)==null?void 0:r.toUpperCase()]??"note",updatedByRole:Yse[(n=e.updatedByRole)==null?void 0:n.toUpperCase()]??"nurse",timestamp:e.timestamp?new Date(e.timestamp).toISOString():e.timestamp,verified:!!e.verified}}const Kse=e=>typeof e=="number"?Math.min(Math.max(e,1),100):e;function CS(e){return e.toUpperCase()}class Xse{async getHealthRecords(t){const r=await H.get(q.HEALTH_RECORDS.BASE,{params:t&&{...t,limit:Kse(t.limit)}});return{records:Array.isArray(r.data)?r.data.map(Ln):[],pagination:r.pagination}}async getHealthRecord(t){const r=await H.get(q.HEALTH_RECORDS.BY_ID(t));return Ln(r.data)}async createHealthRecord(t){const r={...t,recordType:CS(t.recordType)},n=await H.post(q.HEALTH_RECORDS.BASE,r);return Ln(n.data)}async updateHealthRecord(t,r){const n={...r};r.recordType&&(n.recordType=CS(r.recordType));const s=await H.put(q.HEALTH_RECORDS.BY_ID(t),n);return Ln(s.data)}async deleteHealthRecord(t){await H.delete(q.HEALTH_RECORDS.BY_ID(t))}async getPatientHealthRecords(t){const r=await H.get(q.HEALTH_RECORDS.BY_PATIENT(t));return Array.isArray(r.data)?r.data.map(Ln):[]}async getVitalSigns(t){const r=await H.get(q.HEALTH_RECORDS.VITALS(t));return Array.isArray(r.data)?r.data.map(Ln):[]}async getMedications(t){const r=await H.get(q.HEALTH_RECORDS.MEDICATIONS(t));return Array.isArray(r.data)?r.data.map(Ln):[]}async getSymptoms(t){const r=await H.get(q.HEALTH_RECORDS.SYMPTOMS(t));return Array.isArray(r.data)?r.data.map(Ln):[]}async verifyRecord(t,r){const n=await H.patch(q.HEALTH_RECORDS.VERIFY(t),r);return Ln(n.data)}}const _r=new Xse;function ml(e){var t,r;return{id:e.id,patientId:e.patientId,patientName:e.patientName??((t=e.patient)==null?void 0:t.name)??"Unknown Patient",serviceId:e.serviceId,serviceName:e.serviceName??((r=e.service)==null?void 0:r.name)??"Unknown Service",amount:e.amount,date:e.date,dueDate:e.dueDate,status:e.status,description:e.description,createdAt:e.createdAt}}class Qse{async getInvoices(t){const r=await H.get(q.BILLING.INVOICES,{params:t});return{invoices:(Array.isArray(r.data)?r.data:[]).map(ml),pagination:r.pagination}}async getInvoice(t){const r=await H.get(q.BILLING.INVOICE_BY_ID(t));return ml(r.data)}async createInvoice(t){const r=await H.post(q.BILLING.INVOICES,t);return ml(r.data)}async updateInvoice(t,r){const n=await H.put(q.BILLING.INVOICE_BY_ID(t),r);return ml(n.data)}async deleteInvoice(t){await H.delete(q.BILLING.INVOICE_BY_ID(t))}async generateInvoice(t){const r=await H.post(q.BILLING.GENERATE_INVOICE,t);return ml(r.data)}async getPayments(t){const r=await H.get(q.BILLING.PAYMENTS,{params:t});return{payments:Array.isArray(r.data)?r.data:[],pagination:r.pagination}}async getPayment(t){return(await H.get(q.BILLING.PAYMENT_BY_ID(t))).data}async processPayment(t){return(await H.post(q.BILLING.PROCESS_PAYMENT,t)).data}async getRevenueReport(){return(await H.get(q.BILLING.REVENUE_REPORT)).data??{}}async getOutstandingReport(){return(await H.get(q.BILLING.OUTSTANDING_REPORT)).data??{}}}const wa=new Qse;function hg({isOpen:e,onClose:t,onSave:r,record:n,mode:s,patientId:i}){const[o,l]=E.useState({patientId:"",recordType:"vital",data:{bloodPressure:"",heartRate:"",temperature:"",weight:"",height:"",bmi:"",bmiCategory:"",bloodSugar:"",oxygenSaturation:"",medication:"",dosage:"",taken:!1,symptoms:[],notes:"",painLevel:"",mood:"",sleep:"",appetite:"",mobility:"",injuryType:"",affectedArea:[],painScale:"",mobilityLevel:"",functionalLimitations:[],medicalHistory:"",currentMedications:[],goals:[],assessmentNotes:"",recommendations:[],chiefComplaint:"",history:"",examination:"",diagnosis:"",nextAppointment:""},location:"",notes:""}),[c,u]=E.useState(""),[d,m]=E.useState(""),[f,p]=E.useState(""),[h,g]=E.useState(""),[v,x]=E.useState(""),[y,b]=E.useState(""),[N,j]=E.useState(!1),[w,A]=E.useState(null),[T,S]=E.useState([]),[_,P]=E.useState(!1);E.useEffect(()=>{e&&(async()=>{P(!0);try{const{patients:Q}=await zt.getPatients({limit:200,status:"active"});if(S(Q),n&&s==="edit"&&!Q.find(ae=>ae.id===n.patientId))try{const ae=await zt.getPatient(n.patientId);ae&&S([...Q,ae])}catch(ae){console.error("Failed to load patient",ae)}}catch(Q){console.error("Failed to load patients",Q)}finally{P(!1)}})()},[e,n,s,i]),E.useEffect(()=>{var M,Q,ae,oe,pe,he,Ee,ct,ke,Ct;if(s==="add"&&i)l(ut=>({...ut,patientId:i,recordType:"vital"}));else if(n&&s==="edit"){const ut=((M=n.data.weight)==null?void 0:M.toString())||"",Sr=((Q=n.data.height)==null?void 0:Q.toString())||"",bn=((ae=n.data.bmi)==null?void 0:ae.toString())||"";let tn={bmi:bn,bmiCategory:n.data.bmiCategory||""};(ut&&Sr&&!bn||ut&&Sr&&bn)&&(tn=k(ut,Sr)),l({patientId:n.patientId,recordType:n.recordType,data:{bloodPressure:n.data.bloodPressure||"",heartRate:((oe=n.data.heartRate)==null?void 0:oe.toString())||"",temperature:((pe=n.data.temperature)==null?void 0:pe.toString())||"",weight:ut,height:Sr,bmi:tn.bmi,bmiCategory:tn.bmiCategory,bloodSugar:((he=n.data.bloodSugar)==null?void 0:he.toString())||"",oxygenSaturation:((Ee=n.data.oxygenSaturation)==null?void 0:Ee.toString())||"",medication:n.data.medication||"",dosage:n.data.dosage||"",taken:n.data.taken||!1,symptoms:n.data.symptoms||[],notes:n.data.notes||"",painLevel:((ct=n.data.painLevel)==null?void 0:ct.toString())||"",mood:n.data.mood||"",sleep:((ke=n.data.sleep)==null?void 0:ke.toString())||"",appetite:n.data.appetite||"",mobility:n.data.mobility||"",injuryType:n.data.injuryType||"",affectedArea:n.data.affectedArea||[],painScale:((Ct=n.data.painScale)==null?void 0:Ct.toString())||"",mobilityLevel:n.data.mobilityLevel||"",functionalLimitations:n.data.functionalLimitations||[],medicalHistory:n.data.medicalHistory||"",currentMedications:n.data.currentMedications||[],goals:n.data.goals||[],assessmentNotes:n.data.assessmentNotes||"",recommendations:n.data.recommendations||[],chiefComplaint:n.data.chiefComplaint||"",history:n.data.history||"",examination:n.data.examination||"",diagnosis:n.data.diagnosis||"",nextAppointment:n.data.nextAppointment||""},location:n.location||"",notes:n.notes||""})}else l({patientId:"",recordType:"vital",data:{bloodPressure:"",heartRate:"",temperature:"",weight:"",height:"",bmi:"",bmiCategory:"",bloodSugar:"",oxygenSaturation:"",medication:"",dosage:"",taken:!1,symptoms:[],notes:"",painLevel:"",mood:"",sleep:"",appetite:"",mobility:"",injuryType:"",affectedArea:[],painScale:"",mobilityLevel:"",functionalLimitations:[],medicalHistory:"",currentMedications:[],goals:[],assessmentNotes:"",recommendations:[],chiefComplaint:"",history:"",examination:"",diagnosis:"",nextAppointment:""},location:"",notes:""})},[n,s]);const k=(M,Q)=>{const ae=parseFloat(M),oe=parseFloat(Q);if(!ae||!oe||ae<=0||oe<=0)return{bmi:"",bmiCategory:""};const pe=ae/(oe*oe)*703,he=Math.round(pe*10)/10;let Ee="";return he<18.5?Ee="Underweight":he>=18.5&&he<25?Ee="Normal weight":he>=25&&he<30?Ee="Overweight":Ee="Obese",{bmi:he.toString(),bmiCategory:Ee}},O=M=>{const{name:Q,value:ae,type:oe}=M.target;if(Q.startsWith("data.")){const pe=Q.replace("data.","");l(he=>{const Ee={...he.data,[pe]:oe==="checkbox"?M.target.checked:ae};if(pe==="weight"||pe==="height"){const ct=pe==="weight"?ae:he.data.weight,ke=pe==="height"?ae:he.data.height,{bmi:Ct,bmiCategory:ut}=k(ct,ke);Ee.bmi=Ct,Ee.bmiCategory=ut}return{...he,data:Ee}})}else l(pe=>({...pe,[Q]:ae}))},C=()=>{c.trim()&&(l(M=>({...M,data:{...M.data,symptoms:[...M.data.symptoms,c.trim()]}})),u(""))},D=M=>{l(Q=>({...Q,data:{...Q.data,symptoms:Q.data.symptoms.filter((ae,oe)=>oe!==M)}}))},U=()=>{d.trim()&&(l(M=>({...M,data:{...M.data,affectedArea:[...M.data.affectedArea,d.trim()]}})),m(""))},z=M=>{l(Q=>({...Q,data:{...Q.data,affectedArea:Q.data.affectedArea.filter((ae,oe)=>oe!==M)}}))},I=()=>{f.trim()&&(l(M=>({...M,data:{...M.data,functionalLimitations:[...M.data.functionalLimitations,f.trim()]}})),p(""))},R=M=>{l(Q=>({...Q,data:{...Q.data,functionalLimitations:Q.data.functionalLimitations.filter((ae,oe)=>oe!==M)}}))},F=()=>{h.trim()&&(l(M=>({...M,data:{...M.data,currentMedications:[...M.data.currentMedications,h.trim()]}})),g(""))},V=M=>{l(Q=>({...Q,data:{...Q.data,currentMedications:Q.data.currentMedications.filter((ae,oe)=>oe!==M)}}))},W=()=>{v.trim()&&(l(M=>({...M,data:{...M.data,goals:[...M.data.goals,v.trim()]}})),x(""))},ee=M=>{l(Q=>({...Q,data:{...Q.data,goals:Q.data.goals.filter((ae,oe)=>oe!==M)}}))},se=()=>{y.trim()&&(l(M=>({...M,data:{...M.data,recommendations:[...M.data.recommendations,y.trim()]}})),b(""))},ye=M=>{l(Q=>({...Q,data:{...Q.data,recommendations:Q.data.recommendations.filter((ae,oe)=>oe!==M)}}))},$=async M=>{if(M.preventDefault(),N)return;j(!0),A(null);const Q={...o.data,heartRate:o.data.heartRate?parseInt(o.data.heartRate):void 0,temperature:o.data.temperature?parseFloat(o.data.temperature):void 0,weight:o.data.weight?parseFloat(o.data.weight):void 0,height:o.data.height?parseFloat(o.data.height):void 0,bloodSugar:o.data.bloodSugar?parseFloat(o.data.bloodSugar):void 0,oxygenSaturation:o.data.oxygenSaturation?parseFloat(o.data.oxygenSaturation):void 0,painLevel:o.data.painLevel?parseInt(o.data.painLevel):void 0,sleep:o.data.sleep?parseInt(o.data.sleep):void 0,painScale:o.data.painScale?parseInt(o.data.painScale):void 0};Object.keys(Q).forEach(oe=>{(Q[oe]===""||Q[oe]===void 0)&&delete Q[oe]});const ae={recordId:n==null?void 0:n.id,patientId:o.patientId,recordType:o.recordType,data:Q,location:o.location||void 0,notes:o.notes||void 0};try{await r(ae),t()}catch(oe){A((oe==null?void 0:oe.message)??"Unable to save health record. Please try again.")}finally{j(!1)}},B=()=>a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blood Pressure"}),a.jsx("input",{type:"text",name:"data.bloodPressure",value:o.data.bloodPressure,onChange:O,placeholder:"e.g., 120/80",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Heart Rate (bpm)"}),a.jsx("input",{type:"number",name:"data.heartRate",value:o.data.heartRate,onChange:O,placeholder:"e.g., 72",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Temperature (F)"}),a.jsx("input",{type:"number",step:"0.1",name:"data.temperature",value:o.data.temperature,onChange:O,placeholder:"e.g., 98.6",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight (lbs)"}),a.jsx("input",{type:"number",step:"0.1",name:"data.weight",value:o.data.weight,onChange:O,placeholder:"e.g., 150",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Height (inches)"}),a.jsx("input",{type:"number",step:"0.1",name:"data.height",value:o.data.height,onChange:O,placeholder:"e.g., 65",className:"input-field"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["BMI (Body Mass Index)",a.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"(Auto-calculated)"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",name:"data.bmi",value:o.data.bmi||"",readOnly:!0,placeholder:"Enter weight & height",className:"input-field bg-gray-50 flex-1"}),o.data.bmiCategory&&a.jsx("span",{className:`px-3 py-2 rounded-md text-sm font-medium ${o.data.bmiCategory==="Normal weight"?"bg-green-100 text-green-800":o.data.bmiCategory==="Underweight"?"bg-yellow-100 text-yellow-800":o.data.bmiCategory==="Overweight"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:o.data.bmiCategory})]}),o.data.bmi&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"BMI Categories: Underweight (<18.5) | Normal (18.5-24.9) | Overweight (25-29.9) | Obese (30)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blood Sugar (mg/dL)"}),a.jsx("input",{type:"number",name:"data.bloodSugar",value:o.data.bloodSugar,onChange:O,placeholder:"e.g., 100",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Oxygen Saturation (%)"}),a.jsx("input",{type:"number",name:"data.oxygenSaturation",value:o.data.oxygenSaturation,onChange:O,placeholder:"e.g., 98",className:"input-field"})]})]}),J=()=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Medication"}),a.jsx("input",{type:"text",name:"data.medication",value:o.data.medication,onChange:O,placeholder:"e.g., Lisinopril",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dosage"}),a.jsx("input",{type:"text",name:"data.dosage",value:o.data.dosage,onChange:O,placeholder:"e.g., 10mg",className:"input-field"})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",name:"data.taken",checked:o.data.taken,onChange:O,className:"mr-2"}),a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Medication was taken"})]})]}),X=()=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Symptoms"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:c,onChange:M=>u(M.target.value),placeholder:"Add symptom...",className:"input-field flex-1",onKeyPress:M=>M.key==="Enter"&&(M.preventDefault(),C())}),a.jsx("button",{type:"button",onClick:C,className:"btn-primary",children:a.jsx(Ie,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:o.data.symptoms.map((M,Q)=>a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[M,a.jsx("button",{type:"button",onClick:()=>D(Q),className:"ml-1 text-blue-600 hover:text-blue-800",children:a.jsx(Pe,{className:"h-3 w-3"})})]},Q))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pain Level (1-10)"}),a.jsx("input",{type:"number",min:"1",max:"10",name:"data.painLevel",value:o.data.painLevel,onChange:O,placeholder:"e.g., 5",className:"input-field"})]})]}),ie=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Injury Type"}),a.jsxs("select",{name:"data.injuryType",value:o.data.injuryType,onChange:O,className:"input-field",children:[a.jsx("option",{value:"",children:"Select injury type"}),a.jsx("option",{value:"musculoskeletal",children:"Musculoskeletal"}),a.jsx("option",{value:"neurological",children:"Neurological"}),a.jsx("option",{value:"cardiovascular",children:"Cardiovascular"}),a.jsx("option",{value:"respiratory",children:"Respiratory"}),a.jsx("option",{value:"sports",children:"Sports"}),a.jsx("option",{value:"post-surgical",children:"Post-Surgical"}),a.jsx("option",{value:"chronic-pain",children:"Chronic Pain"}),a.jsx("option",{value:"other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pain Scale (1-10)"}),a.jsx("input",{type:"number",min:"1",max:"10",name:"data.painScale",value:o.data.painScale,onChange:O,placeholder:"e.g., 5",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobility Level"}),a.jsxs("select",{name:"data.mobilityLevel",value:o.data.mobilityLevel,onChange:O,className:"input-field",children:[a.jsx("option",{value:"",children:"Select mobility level"}),a.jsx("option",{value:"independent",children:"Independent"}),a.jsx("option",{value:"assisted",children:"Assisted"}),a.jsx("option",{value:"dependent",children:"Dependent"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Next Appointment"}),a.jsx("input",{type:"date",name:"data.nextAppointment",value:o.data.nextAppointment,onChange:O,className:"input-field"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chief Complaint"}),a.jsx("textarea",{name:"data.chiefComplaint",value:o.data.chiefComplaint,onChange:O,rows:2,className:"input-field",placeholder:"Primary reason for visit..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Medical History"}),a.jsx("textarea",{name:"data.medicalHistory",value:o.data.medicalHistory,onChange:O,rows:3,className:"input-field",placeholder:"Relevant medical history..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Examination Findings"}),a.jsx("textarea",{name:"data.examination",value:o.data.examination,onChange:O,rows:3,className:"input-field",placeholder:"Physical examination findings..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Diagnosis"}),a.jsx("textarea",{name:"data.diagnosis",value:o.data.diagnosis,onChange:O,rows:2,className:"input-field",placeholder:"Clinical diagnosis..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Affected Areas"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:d,onChange:M=>m(M.target.value),placeholder:"Add affected area...",className:"input-field flex-1",onKeyPress:M=>M.key==="Enter"&&(M.preventDefault(),U())}),a.jsx("button",{type:"button",onClick:U,className:"btn-primary",children:a.jsx(Ie,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:o.data.affectedArea.map((M,Q)=>a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[M,a.jsx("button",{type:"button",onClick:()=>z(Q),className:"ml-1 text-purple-600 hover:text-purple-800",children:a.jsx(Pe,{className:"h-3 w-3"})})]},Q))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Functional Limitations"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:f,onChange:M=>p(M.target.value),placeholder:"Add limitation...",className:"input-field flex-1",onKeyPress:M=>M.key==="Enter"&&(M.preventDefault(),I())}),a.jsx("button",{type:"button",onClick:I,className:"btn-primary",children:a.jsx(Ie,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:o.data.functionalLimitations.map((M,Q)=>a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[M,a.jsx("button",{type:"button",onClick:()=>R(Q),className:"ml-1 text-orange-600 hover:text-orange-800",children:a.jsx(Pe,{className:"h-3 w-3"})})]},Q))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Medications"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:h,onChange:M=>g(M.target.value),placeholder:"Add medication...",className:"input-field flex-1",onKeyPress:M=>M.key==="Enter"&&(M.preventDefault(),F())}),a.jsx("button",{type:"button",onClick:F,className:"btn-primary",children:a.jsx(Ie,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:o.data.currentMedications.map((M,Q)=>a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[M,a.jsx("button",{type:"button",onClick:()=>V(Q),className:"ml-1 text-blue-600 hover:text-blue-800",children:a.jsx(Pe,{className:"h-3 w-3"})})]},Q))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Treatment Goals"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:v,onChange:M=>x(M.target.value),placeholder:"Add goal...",className:"input-field flex-1",onKeyPress:M=>M.key==="Enter"&&(M.preventDefault(),W())}),a.jsx("button",{type:"button",onClick:W,className:"btn-primary",children:a.jsx(Ie,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:o.data.goals.map((M,Q)=>a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[M,a.jsx("button",{type:"button",onClick:()=>ee(Q),className:"ml-1 text-green-600 hover:text-green-800",children:a.jsx(Pe,{className:"h-3 w-3"})})]},Q))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recommendations"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:y,onChange:M=>b(M.target.value),placeholder:"Add recommendation...",className:"input-field flex-1",onKeyPress:M=>M.key==="Enter"&&(M.preventDefault(),se())}),a.jsx("button",{type:"button",onClick:se,className:"btn-primary",children:a.jsx(Ie,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:o.data.recommendations.map((M,Q)=>a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[M,a.jsx("button",{type:"button",onClick:()=>ye(Q),className:"ml-1 text-yellow-600 hover:text-yellow-800",children:a.jsx(Pe,{className:"h-3 w-3"})})]},Q))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assessment Notes"}),a.jsx("textarea",{name:"data.assessmentNotes",value:o.data.assessmentNotes,onChange:O,rows:4,className:"input-field",placeholder:"Additional assessment notes and observations..."})]})]}),de=()=>a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mood"}),a.jsxs("select",{name:"data.mood",value:o.data.mood,onChange:O,className:"input-field",children:[a.jsx("option",{value:"",children:"Select mood"}),a.jsx("option",{value:"Excellent",children:"Excellent"}),a.jsx("option",{value:"Good",children:"Good"}),a.jsx("option",{value:"Fair",children:"Fair"}),a.jsx("option",{value:"Poor",children:"Poor"}),a.jsx("option",{value:"Very Poor",children:"Very Poor"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sleep (hours)"}),a.jsx("input",{type:"number",name:"data.sleep",value:o.data.sleep,onChange:O,placeholder:"e.g., 8",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Appetite"}),a.jsxs("select",{name:"data.appetite",value:o.data.appetite,onChange:O,className:"input-field",children:[a.jsx("option",{value:"",children:"Select appetite"}),a.jsx("option",{value:"Excellent",children:"Excellent"}),a.jsx("option",{value:"Good",children:"Good"}),a.jsx("option",{value:"Fair",children:"Fair"}),a.jsx("option",{value:"Poor",children:"Poor"}),a.jsx("option",{value:"None",children:"None"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobility"}),a.jsxs("select",{name:"data.mobility",value:o.data.mobility,onChange:O,className:"input-field",children:[a.jsx("option",{value:"",children:"Select mobility"}),a.jsx("option",{value:"Independent",children:"Independent"}),a.jsx("option",{value:"Assisted",children:"Assisted"}),a.jsx("option",{value:"Dependent",children:"Dependent"})]})]})]});return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold",children:s==="add"?"Add Health Record":"Edit Health Record"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Pe,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:$,className:"space-y-6",children:[w&&a.jsx("div",{className:"rounded-md border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:w}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Patient"}),_?a.jsx("div",{className:"input-field text-gray-500",children:"Loading patients..."}):a.jsxs(a.Fragment,{children:[a.jsxs("select",{name:"patientId",value:o.patientId,onChange:O,required:!0,className:"input-field",disabled:s==="edit"||s==="add"&&!!i,children:[a.jsx("option",{value:"",children:"Select a patient"}),T.map(M=>a.jsxs("option",{value:M.id,children:[M.name," ",M.email?`(${M.email})`:""]},M.id))]}),i&&s==="add"&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Patient is pre-selected from profile"})]}),s==="edit"&&a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Patient cannot be changed when editing"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Record Type"}),a.jsxs("select",{name:"recordType",value:o.recordType,onChange:O,required:!0,className:"input-field",children:[a.jsx("option",{value:"vital",children:"Vital Signs"}),a.jsx("option",{value:"medication",children:"Medication"}),a.jsx("option",{value:"symptom",children:"Symptoms"}),a.jsx("option",{value:"note",children:"General Note"}),a.jsx("option",{value:"assessment",children:"Assessment"}),a.jsx("option",{value:"treatment",children:"Treatment"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),a.jsx("input",{type:"text",name:"location",value:o.location,onChange:O,placeholder:"e.g., Home, Clinic",className:"input-field"})]})]}),o.recordType==="vital"&&B(),o.recordType==="medication"&&J(),o.recordType==="symptom"&&X(),o.recordType==="note"&&de(),o.recordType==="assessment"&&ie(),o.recordType==="treatment"&&de(),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Notes"}),a.jsx("textarea",{name:"notes",value:o.notes,onChange:O,rows:3,className:"input-field",placeholder:"Any additional notes or observations..."})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-outline",disabled:N,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:N,children:N?"Saving...":s==="add"?"Add Record":"Update Record"})]})]})]})}):null}function Jse(){var N,j,w,A,T;const{id:e}=Yc(),{user:t}=st(),{addNotification:r}=yt(),[n,s]=E.useState(!1),i=(t==null?void 0:t.role)==="nurse"||(t==null?void 0:t.role)==="specialist"||(t==null?void 0:t.role)==="therapist"||(t==null?void 0:t.role)==="admin",{data:o,loading:l,error:c,refetch:u}=xe(async()=>{if(!e)return null;const[S,_,P,k,O]=await Promise.all([zt.getPatient(e),zt.getMedicalHistory(e),zt.getProgressRecords(e),zt.getPatientCases(e),_r.getPatientHealthRecords(e)]);return{patient:S,medicalHistory:_,progress:P,cases:k,healthRecords:O}},[e]),{data:d,loading:m}=xe(()=>e?wa.getInvoices({patientId:e,limit:50}):Promise.resolve({invoices:[],pagination:void 0}),[e]),f=(d==null?void 0:d.invoices)??[],p=o==null?void 0:o.patient,h=E.useMemo(()=>{var S;return(S=o==null?void 0:o.progress)!=null&&S.length?o.progress.map(_=>({date:new Date(_.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),value:_.value,fullDate:_.date,metric:_.metric,unit:_.unit})):[]},[o==null?void 0:o.progress]),g=(N=o==null?void 0:o.progress)!=null&&N.length?o.progress[o.progress.length-1]:void 0,v=E.useMemo(()=>o!=null&&o.healthRecords?o.healthRecords.slice().sort((S,_)=>new Date(_.timestamp).getTime()-new Date(S.timestamp).getTime()).slice(0,6):[],[o==null?void 0:o.healthRecords]),x=E.useMemo(()=>{if(!(o!=null&&o.healthRecords))return null;const S=o.healthRecords.filter(_=>_.recordType==="vital").sort((_,P)=>new Date(P.timestamp).getTime()-new Date(_.timestamp).getTime());return S.length>0?S[0]:null},[o==null?void 0:o.healthRecords]),y=je(_r.createHealthRecord.bind(_r)),b=async S=>{if(e)try{await y.mutate({...S,patientId:e,recordType:"vital"}),r({title:"Vitals recorded",message:"Patient vitals have been recorded successfully.",type:"success",priority:"medium",category:"system",userId:"system"}),s(!1),await u()}catch(_){r({title:"Failed to record vitals",message:(_==null?void 0:_.message)||"Unable to record vitals. Please try again.",type:"error",priority:"high",category:"system",userId:"system"})}};return l?a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary-500"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Loading patient profile..."})]})}):c?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Unable to load patient profile"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:c.message??"Please try again later."}),a.jsx("button",{onClick:u,className:"mt-4 btn-primary",children:"Retry"})]}):p?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(ar,{to:"/patients",className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:a.jsx(sc,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:p.name}),a.jsx("p",{className:"text-sm text-gray-600",children:"Patient Profile"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"text-center",children:[p.avatar&&a.jsx("img",{src:p.avatar.startsWith("http")?p.avatar:`http://51.20.55.20:3007${p.avatar.startsWith("/")?p.avatar:"/"+p.avatar}`,alt:p.name,className:"h-24 w-24 rounded-full object-cover mx-auto mb-4",onError:S=>{S.target.style.display="none"}}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:p.name}),p.condition&&a.jsx("p",{className:"text-gray-600",children:p.condition}),a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium mt-2 ${p.status==="active"?"status-active":p.status==="discharged"?"status-inactive":"status-pending"}`,children:p.status})]}),a.jsxs("div",{className:"mt-6 space-y-4 text-sm text-gray-600",children:[p.email&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(pv,{className:"h-4 w-4 mr-3"}),p.email]}),p.phone&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ha,{className:"h-4 w-4 mr-3"}),p.phone]}),p.dateOfBirth&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Te,{className:"h-4 w-4 mr-3"}),"DOB: ",new Date(p.dateOfBirth).toLocaleDateString()]}),p.address&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Bs,{className:"h-4 w-4 mr-3"}),p.address]}),p.assignedDoctorName&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(vt,{className:"h-4 w-4 mr-3"}),"Doctor: ",p.assignedDoctorName]}),p.assignedNurseName&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(vt,{className:"h-4 w-4 mr-3"}),"Nurse: ",p.assignedNurseName]}),p.emergencyContact&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(vt,{className:"h-4 w-4 mr-3"}),"Emergency: ",p.emergencyContact,p.emergencyPhone&&` (${p.emergencyPhone})`]}),p.admissionDate&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Te,{className:"h-4 w-4 mr-3"}),"Admitted: ",new Date(p.admissionDate).toLocaleDateString()]})]})]})}),a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Cases"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[(o==null?void 0:o.cases.length)??0," records"]})]}),o!=null&&o.cases.length?a.jsx("div",{className:"space-y-3",children:o.cases.slice().sort((S,_)=>new Date(_.openedAt).getTime()-new Date(S.openedAt).getTime()).map(S=>a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-gray-900",children:S.caseNumber}),a.jsx("span",{className:`status-badge ${S.status==="open"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:S.status}),a.jsx("span",{className:`status-badge ${S.type==="new"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:S.type})]}),a.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Opened ",new Date(S.openedAt).toLocaleString()]}),S.closedAt&&a.jsxs("p",{className:"text-xs text-gray-500",children:["Closed ",new Date(S.closedAt).toLocaleString()]}),S.diagnosis&&a.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:[a.jsx("strong",{children:"Dx:"})," ",S.diagnosis]}),S.attending&&a.jsxs("p",{className:"text-sm text-gray-700",children:[a.jsx("strong",{children:"Attending:"})," ",S.attending]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("p",{className:"text-xs text-gray-500",children:["Visits: ",S.visitsCount]})})]},S.id))}):a.jsx("p",{className:"text-sm text-gray-500",children:"No cases yet for this patient."})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Health Progress"}),a.jsx(Wr,{className:"h-5 w-5 text-primary-500"})]}),h.length?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"h-64",children:a.jsx(vl,{width:"100%",height:"100%",children:a.jsxs(WC,{data:h,children:[a.jsx(Dl,{strokeDasharray:"3 3"}),a.jsx(ea,{dataKey:"date"}),a.jsx(ta,{}),a.jsx(pr,{}),a.jsx(Ys,{type:"monotone",dataKey:"value",stroke:"#0D6EFD",strokeWidth:2,dot:{fill:"#0D6EFD",strokeWidth:2,r:4}})]})})}),a.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Metric:"})," ",((j=h[0])==null?void 0:j.metric)||"Health Indicator"]}),g&&a.jsxs("p",{children:[a.jsx("strong",{children:"Latest Value:"})," ",g.value," ",g.unit||""]})]})]}):a.jsx("p",{className:"text-sm text-gray-500",children:"No progress records available."})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Medical History"}),a.jsx(ur,{className:"h-5 w-5 text-secondary-500"})]}),(w=o==null?void 0:o.medicalHistory)!=null&&w.length?a.jsx("div",{className:"space-y-4",children:o.medicalHistory.map(S=>a.jsxs("div",{className:"border-l-4 border-primary-500 pl-4 py-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:S.diagnosis}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date(S.date).toLocaleDateString()})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:S.treatment}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Doctor: ",S.doctor]}),S.notes&&a.jsx("p",{className:"text-xs text-gray-500 mt-1 italic",children:S.notes})]},S.id))}):a.jsx("p",{className:"text-sm text-gray-500",children:"No medical history on record."})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Progress"}),a.jsx(oc,{className:"h-5 w-5 text-green-500"})]}),(A=o==null?void 0:o.progress)!=null&&A.length?a.jsx("div",{className:"space-y-3",children:o.progress.slice(-5).reverse().map(S=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:S.metric}),a.jsxs("span",{className:"text-sm text-gray-600",children:[S.value," ",S.unit]})]}),S.notes&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:S.notes})]}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date(S.date).toLocaleDateString()})]},S.id))}):a.jsx("p",{className:"text-sm text-gray-500",children:"No recent progress records."})]}),x&&a.jsxs("div",{className:"card bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center gap-2",children:[a.jsx(Wr,{className:"h-5 w-5 text-blue-600"}),"Latest Vitals"]}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date(x.timestamp).toLocaleString()})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[x.data.bloodPressure&&a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(P$,{className:"h-4 w-4 text-blue-600"}),a.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Blood Pressure"})]}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:x.data.bloodPressure})]}),x.data.heartRate&&a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Di,{className:"h-4 w-4 text-red-600"}),a.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Heart Rate"})]}),a.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[x.data.heartRate," bpm"]})]}),x.data.temperature&&a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(kx,{className:"h-4 w-4 text-orange-600"}),a.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Temperature"})]}),a.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[x.data.temperature,"F"]})]}),x.data.oxygenSaturation&&a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Wr,{className:"h-4 w-4 text-green-600"}),a.jsx("span",{className:"text-xs font-medium text-gray-600",children:"SpO2"})]}),a.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[x.data.oxygenSaturation,"%"]})]}),x.data.bmi&&a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Wr,{className:"h-4 w-4 text-purple-600"}),a.jsx("span",{className:"text-xs font-medium text-gray-600",children:"BMI"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:x.data.bmi}),x.data.bmiCategory&&a.jsx("span",{className:`text-xs px-2 py-1 rounded ${x.data.bmiCategory==="Normal weight"?"bg-green-100 text-green-800":x.data.bmiCategory==="Underweight"?"bg-yellow-100 text-yellow-800":x.data.bmiCategory==="Overweight"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:x.data.bmiCategory})]})]})]}),x.data.weight&&a.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:[a.jsx("strong",{children:"Weight:"})," ",x.data.weight," lbs",x.data.height&&` | Height: ${x.data.height} inches`]}),x.notes&&a.jsxs("div",{className:"mt-3 text-sm text-gray-700 bg-white rounded p-2 border border-blue-200",children:[a.jsx("strong",{children:"Notes:"})," ",x.notes]}),a.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["Recorded by ",x.updatedByName," (",x.updatedByRole,")"]})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Health Records"}),a.jsxs("div",{className:"flex items-center gap-2",children:[i&&a.jsxs("button",{onClick:()=>s(!0),className:"btn-primary text-sm flex items-center gap-2",children:[a.jsx(Ie,{className:"h-4 w-4"}),"Record Vitals"]}),a.jsx(De,{className:"h-5 w-5 text-primary-500"})]})]}),v.length?a.jsx("div",{className:"space-y-3",children:v.map(S=>a.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium capitalize text-gray-900",children:S.recordType}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date(S.timestamp).toLocaleString()})]}),a.jsxs("p",{className:"text-xs text-gray-500 mb-1",children:["Updated by ",S.updatedByName," (",S.updatedByRole,")"]}),S.recordType==="vital"&&S.data&&a.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs",children:[S.data.bloodPressure&&a.jsxs("span",{children:[a.jsx("strong",{children:"BP:"})," ",S.data.bloodPressure]}),S.data.heartRate&&a.jsxs("span",{children:[a.jsx("strong",{children:"HR:"})," ",S.data.heartRate," bpm"]}),S.data.temperature&&a.jsxs("span",{children:[a.jsx("strong",{children:"Temp:"})," ",S.data.temperature,"F"]}),S.data.oxygenSaturation&&a.jsxs("span",{children:[a.jsx("strong",{children:"SpO2:"})," ",S.data.oxygenSaturation,"%"]})]}),S.notes&&a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:S.notes})]},S.id))}):a.jsx("p",{className:"text-sm text-gray-500",children:"No recent health records for this patient."})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Billing & Invoices"}),a.jsx(Qn,{className:"h-5 w-5 text-primary-500"})]}),m?a.jsx("p",{className:"text-sm text-gray-500",children:"Loading invoices..."}):f.length>0?a.jsxs("div",{className:"space-y-3",children:[f.map(S=>a.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:S.serviceName}),a.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${S.status==="paid"?"bg-green-100 text-green-800":S.status==="overdue"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:S.status.toUpperCase()})]}),a.jsx("p",{className:"text-xs text-gray-600 mb-1",children:S.description||"Service invoice"}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[a.jsxs("span",{children:["Date: ",new Date(S.date).toLocaleDateString()]}),a.jsxs("span",{children:["Due: ",new Date(S.dueDate).toLocaleDateString()]})]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:"flex items-center text-sm font-semibold text-gray-900",children:[a.jsx(Gr,{className:"h-4 w-4 mr-1"}),S.amount.toFixed(2)]})})]})},S.id)),a.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Outstanding:"}),a.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["$",f.filter(S=>S.status!=="paid").reduce((S,_)=>S+_.amount,0).toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Paid:"}),a.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["$",f.filter(S=>S.status==="paid").reduce((S,_)=>S+_.amount,0).toFixed(2)]})]})]})]}):a.jsx("p",{className:"text-sm text-gray-500",children:"No invoices found for this patient."})]}),(p.allergies||p.currentMedications||p.paymentType||p.insuranceProvider||p.serviceIds||p.referralSource)&&a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Additional Information"}),a.jsx(ur,{className:"h-5 w-5 text-secondary-500"})]}),a.jsxs("div",{className:"space-y-4",children:[p.paymentType&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Payment Type"}),a.jsx("p",{className:"text-sm text-gray-600 capitalize",children:((T=p.paymentType)==null?void 0:T.toLowerCase())||"Cash"})]}),p.insuranceProvider&&p.paymentType==="INSURANCE"&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Insurance Information"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"Provider:"})," ",p.insuranceProvider,p.insuranceNumber&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),a.jsx("strong",{children:"Policy Number:"})," ",p.insuranceNumber]})]})]}),p.serviceIds&&p.serviceIds.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Selected Services"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[p.serviceIds.length," service",p.serviceIds.length!==1?"s":""," selected"]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Check Billing section for service details and invoices"})]}),p.allergies&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Allergies"}),a.jsx("p",{className:"text-sm text-gray-600",children:p.allergies})]}),p.currentMedications&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Current Medications"}),a.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-line",children:p.currentMedications})]}),p.referralSource&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Referral Source"}),a.jsx("p",{className:"text-sm text-gray-600",children:p.referralSource})]})]})]})]})]}),i&&e&&a.jsx(hg,{isOpen:n,onClose:()=>s(!1),onSave:b,mode:"add",patientId:e})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Patient not found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"The requested patient profile could not be found."}),a.jsx(ar,{to:"/patients",className:"mt-4 btn-primary inline-block",children:"Back to Patients"})]})}function _S({isOpen:e,onClose:t,onSave:r,trainingClass:n,mode:s}){const[i,o]=E.useState({title:"",description:"",instructor:"",date:new Date().toISOString().split("T")[0],duration:2,maxParticipants:20,enrolledCount:0,status:"upcoming",category:"",location:""}),[l,c]=E.useState("09:00"),[u,d]=E.useState(!1),[m,f]=E.useState(null);E.useEffect(()=>{if(e)if(f(null),d(!1),n&&s==="edit"){const g=n.date?new Date(n.date):new Date,v=g.toISOString().split("T")[0],x=g.toTimeString().slice(0,5);o({title:n.title,description:n.description,instructor:n.instructor,date:v,duration:n.duration,maxParticipants:n.maxParticipants,enrolledCount:n.enrolledCount??0,status:n.status,category:n.category,location:n.location}),c(x)}else o({title:"",description:"",instructor:"",date:new Date().toISOString().split("T")[0],duration:2,maxParticipants:20,enrolledCount:0,status:"upcoming",category:"",location:""}),c("09:00")},[n,s,e]);const p=g=>{const{name:v,value:x}=g.target;["duration","maxParticipants","enrolledCount"].includes(v)?o(y=>({...y,[v]:Number(x)})):o(y=>({...y,[v]:x}))},h=async g=>{g.preventDefault(),d(!0),f(null);try{const[v,x]=l.split(":"),y=new Date(i.date);y.setHours(parseInt(v,10),parseInt(x,10),0,0),await r({...i,date:y.toISOString()}),d(!1)}catch(v){d(!1),f((v==null?void 0:v.message)??"Unable to save training class. Please try again.")}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s==="add"?"Schedule New Training Class":"Edit Training Class"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Pe,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[m&&a.jsx("div",{className:"p-3 rounded bg-red-50 text-sm text-red-700 border border-red-200",children:m}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Class Title *"}),a.jsx("input",{type:"text",name:"title",value:i.title,onChange:p,required:!0,className:"input-field",placeholder:"Enter class title"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),a.jsx("textarea",{name:"description",value:i.description,onChange:p,required:!0,rows:3,className:"input-field",placeholder:"Enter class description"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instructor *"}),a.jsx("input",{type:"text",name:"instructor",value:i.instructor,onChange:p,required:!0,className:"input-field",placeholder:"Enter instructor name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),a.jsxs("select",{name:"category",value:i.category,onChange:p,required:!0,className:"input-field",children:[a.jsx("option",{value:"",children:"Select category"}),a.jsx("option",{value:"Clinical Psychology",children:"Clinical Psychology"}),a.jsx("option",{value:"Nutrition",children:"Nutrition"}),a.jsx("option",{value:"Critical Care",children:"Critical Care"}),a.jsx("option",{value:"BLS/ALS",children:"BLS/ALS"}),a.jsx("option",{value:"Geriatrics",children:"Geriatrics"}),a.jsx("option",{value:"Palliative Care",children:"Palliative Care"}),a.jsx("option",{value:"Maternal & Newborn Care",children:"Maternal & Newborn Care"}),a.jsx("option",{value:"General Nursing",children:"General Nursing"}),a.jsx("option",{value:"Physiotherapy",children:"Physiotherapy"}),a.jsx("option",{value:"Communication",children:"Communication"}),a.jsx("option",{value:"Safety",children:"Safety"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),a.jsx("input",{type:"date",name:"date",value:i.date,onChange:p,required:!0,className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Time *"}),a.jsx("input",{type:"time",value:l,onChange:g=>c(g.target.value),required:!0,className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (hours) *"}),a.jsx("input",{type:"number",name:"duration",value:i.duration,onChange:p,required:!0,min:"0.5",max:"8",step:"0.5",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Participants *"}),a.jsx("input",{type:"number",name:"maxParticipants",value:i.maxParticipants,onChange:p,required:!0,min:"1",max:"100",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enrolled Count"}),a.jsx("input",{type:"number",name:"enrolledCount",value:i.enrolledCount,onChange:p,min:"0",max:i.maxParticipants,className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),a.jsxs("select",{name:"status",value:i.status,onChange:p,required:!0,className:"input-field",children:[a.jsx("option",{value:"upcoming",children:"Upcoming"}),a.jsx("option",{value:"ongoing",children:"Ongoing"}),a.jsx("option",{value:"completed",children:"Completed"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),a.jsx("input",{type:"text",name:"location",value:i.location,onChange:p,required:!0,className:"input-field",placeholder:"Enter class location"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary disabled:opacity-50",disabled:u,children:u?"Saving...":s==="add"?"Schedule Class":"Update Class"})]})]})]})}):null}function Zse({isOpen:e,onClose:t,trainingClass:r}){if(!e||!r)return null;const n=i=>{switch(i){case"upcoming":return"bg-blue-100 text-blue-800";case"ongoing":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},s=r.maxParticipants>0?Math.round(r.enrolledCount/r.maxParticipants*100):0;return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Class Details"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Pe,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r.title}),a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${n(r.status)}`,children:r.status.charAt(0).toUpperCase()+r.status.slice(1)})]}),a.jsx("p",{className:"text-gray-600 mt-2",children:r.description})]}),a.jsx("div",{children:a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-secondary-100 text-secondary-800",children:[a.jsx(Ki,{className:"h-4 w-4 mr-2"}),r.category]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(vt,{className:"h-5 w-5 text-gray-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Instructor"}),a.jsx("p",{className:"text-base text-gray-900 mt-1",children:r.instructor})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Te,{className:"h-5 w-5 text-gray-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Date"}),a.jsx("p",{className:"text-base text-gray-900 mt-1",children:r.date?new Date(r.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"Date TBD"})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(De,{className:"h-5 w-5 text-gray-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Duration"}),a.jsxs("p",{className:"text-base text-gray-900 mt-1",children:[r.duration," hours"]})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Bs,{className:"h-5 w-5 text-gray-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Location"}),a.jsx("p",{className:"text-base text-gray-900 mt-1",children:r.location})]})]})]}),a.jsxs("div",{className:"border-t pt-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Enrollment"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[r.enrolledCount," / ",r.maxParticipants," participants"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:`h-2.5 rounded-full ${s>=100?"bg-red-500":s>=80?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(s,100)}%`}})}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[s,"% capacity filled",s>=100&&" - Class is full"]})]}),a.jsxs("div",{className:"border-t pt-6",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Additional Information"}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Class ID:"})," ",r.id]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Status:"})," ",r.status==="upcoming"&&"This class is scheduled and open for enrollment.",r.status==="ongoing"&&"This class is currently in progress.",r.status==="completed"&&"This class has been completed."]})]})]})]}),a.jsx("div",{className:"flex justify-end space-x-3 p-6 border-t bg-gray-50",children:a.jsx("button",{onClick:t,className:"btn-outline",children:"Close"})})]})})}function kS({isOpen:e,onClose:t,onSave:r,exam:n,mode:s}){const[i,o]=E.useState({title:"",description:"",duration:60,passingScore:70,maxAttempts:3,status:"DRAFT",questions:[]}),[l,c]=E.useState(!1),[u,d]=E.useState(null),[m,f]=E.useState(null);E.useEffect(()=>{e&&(d(null),c(!1),f(null),o(n&&s==="edit"?{title:n.title,description:n.description??"",duration:n.duration,passingScore:n.passingScore,maxAttempts:n.maxAttempts,status:n.status,questions:n.questions??[]}:{title:"",description:"",duration:60,passingScore:70,maxAttempts:3,status:"DRAFT",questions:[]}))},[n,s,e]);const p=w=>{const{name:A,value:T}=w.target;["duration","passingScore","maxAttempts"].includes(A)?o(S=>({...S,[A]:Number(T)})):o(S=>({...S,[A]:T}))},h=()=>{const w={question:"",type:"MULTIPLE_CHOICE",options:["","","",""],correctAnswer:0,points:1,explanation:""};o(A=>({...A,questions:[...A.questions,w]})),f(i.questions.length)},g=(w,A)=>{o(T=>{const S=[...T.questions];return S[w]={...S[w],...A},{...T,questions:S}})},v=w=>{o(A=>({...A,questions:A.questions.filter((T,S)=>S!==w)})),m===w?f(null):m!==null&&m>w&&f(m-1)},x=(w,A)=>{A==="up"&&w===0||A==="down"&&w===i.questions.length-1||o(T=>{const S=[...T.questions],_=A==="up"?w-1:w+1;return[S[w],S[_]]=[S[_],S[w]],{...T,questions:S}})},y=w=>{g(w,{options:[...i.questions[w].options,""]})},b=(w,A,T)=>{const _=[...i.questions[w].options];_[A]=T,g(w,{options:_})},N=(w,A)=>{const T=i.questions[w];if(T.options.length<=2)return;const S=T.options.filter((_,P)=>P!==A);g(w,{options:S,correctAnswer:T.correctAnswer>=A?Math.max(0,T.correctAnswer-1):T.correctAnswer})},j=async w=>{if(w.preventDefault(),c(!0),d(null),!i.title.trim()){d("Exam title is required"),c(!1);return}if(i.questions.length===0){d("Exam must have at least one question"),c(!1);return}for(let A=0;A<i.questions.length;A++){const T=i.questions[A];if(!T.question.trim()){d(`Question ${A+1} text is required`),c(!1);return}if(T.options.length<2){d(`Question ${A+1} must have at least 2 options`),c(!1);return}if(T.options.some(S=>!S.trim())){d(`Question ${A+1} has empty options`),c(!1);return}if(T.correctAnswer<0||T.correctAnswer>=T.options.length){d(`Question ${A+1} has invalid correct answer`),c(!1);return}}try{await r(i),c(!1)}catch(A){c(!1),d((A==null?void 0:A.message)??"Unable to save exam. Please try again.")}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white z-10",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s==="add"?"Create New Exam":"Edit Exam"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Pe,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:j,className:"p-6 space-y-6",children:[u&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:u}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Exam Title ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"title",value:i.title,onChange:p,className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{name:"status",value:i.status,onChange:p,className:"input-field",children:[a.jsx("option",{value:"DRAFT",children:"Draft"}),a.jsx("option",{value:"PUBLISHED",children:"Published"}),a.jsx("option",{value:"ARCHIVED",children:"Archived"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{name:"description",value:i.description,onChange:p,rows:3,className:"input-field"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Duration (minutes) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",name:"duration",value:i.duration,onChange:p,min:"1",className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Passing Score (%) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",name:"passingScore",value:i.passingScore,onChange:p,min:"0",max:"100",className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Max Attempts ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",name:"maxAttempts",value:i.maxAttempts,onChange:p,min:"1",className:"input-field",required:!0})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Questions (",i.questions.length,")"]}),a.jsxs("button",{type:"button",onClick:h,className:"btn-primary flex items-center gap-2",children:[a.jsx(Ie,{className:"h-4 w-4"}),"Add Question"]})]}),i.questions.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500",children:'No questions added yet. Click "Add Question" to get started.'}):a.jsx("div",{className:"space-y-4",children:i.questions.map((w,A)=>a.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"font-medium text-gray-700",children:["Question ",A+1]}),a.jsx("button",{type:"button",onClick:()=>x(A,"up"),disabled:A===0,className:"text-gray-400 hover:text-gray-600 disabled:opacity-30",children:a.jsx(N$,{className:"h-4 w-4"})}),a.jsx("button",{type:"button",onClick:()=>x(A,"down"),disabled:A===i.questions.length-1,className:"text-gray-400 hover:text-gray-600 disabled:opacity-30",children:a.jsx(b$,{className:"h-4 w-4"})})]}),a.jsx("button",{type:"button",onClick:()=>v(A),className:"text-red-600 hover:text-red-800",children:a.jsx(ht,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Question Text ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{value:w.question,onChange:T=>g(A,{question:T.target.value}),rows:2,className:"input-field",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),a.jsxs("select",{value:w.type,onChange:T=>g(A,{type:T.target.value}),className:"input-field",children:[a.jsx("option",{value:"MULTIPLE_CHOICE",children:"Multiple Choice"}),a.jsx("option",{value:"TRUE_FALSE",children:"True/False"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Points"}),a.jsx("input",{type:"number",value:w.points??1,onChange:T=>g(A,{points:Number(T.target.value)}),min:"1",className:"input-field"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Options ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"space-y-2",children:[w.options.map((T,S)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:`correct-${A}`,checked:w.correctAnswer===S,onChange:()=>g(A,{correctAnswer:S}),className:"h-4 w-4"}),a.jsx("input",{type:"text",value:T,onChange:_=>b(A,S,_.target.value),placeholder:`Option ${S+1}`,className:"input-field flex-1",required:!0}),w.options.length>2&&a.jsx("button",{type:"button",onClick:()=>N(A,S),className:"text-red-600 hover:text-red-800",children:a.jsx(ht,{className:"h-4 w-4"})})]},S)),a.jsx("button",{type:"button",onClick:()=>y(A),className:"text-sm text-primary-600 hover:text-primary-800",children:"+ Add Option"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Explanation (optional)"}),a.jsx("textarea",{value:w.explanation??"",onChange:T=>g(A,{explanation:T.target.value}),rows:2,className:"input-field",placeholder:"Explain why this is the correct answer..."})]})]})]},A))})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:l,className:"btn-primary",children:l?"Saving...":s==="add"?"Create Exam":"Update Exam"})]})]})]})}):null}function GC({isOpen:e,certificate:t,onClose:r}){if(!e||!t)return null;const n=()=>{const s=`
      <html>
        <head>
          <title>Certificate - ${t.certificateNumber}</title>
          <style>
            body { font-family: 'Inter', sans-serif; margin: 0; padding: 0; background: #f5f3ff; }
            .certificate {
              width: 800px;
              margin: 40px auto;
              padding: 40px;
              background: white;
              border: 12px solid #e8e4ff;
              box-shadow: 0 20px 40px rgba(31, 41, 55, 0.15);
            }
            .header {
              text-align: center;
              margin-bottom: 24px;
              color: #312e81;
            }
            .title {
              font-size: 36px;
              letter-spacing: 2px;
              text-transform: uppercase;
              margin-bottom: 8px;
            }
            .subtitle {
              font-size: 18px;
              color: #4c1d95;
              letter-spacing: 3px;
            }
            .recipient {
              text-align: center;
              margin: 32px 0;
            }
            .recipient-name {
              font-size: 32px;
              font-weight: bold;
              color: #1a1a1a;
            }
            .details {
              text-align: center;
              color: #4b5563;
              font-size: 18px;
            }
            .footer {
              display: flex;
              justify-content: space-between;
              margin-top: 40px;
              color: #4338ca;
            }
            .signature {
              border-top: 2px solid #c4b5fd;
              padding-top: 8px;
              width: 45%;
              text-align: center;
            }
          </style>
        </head>
        <body>
          <div class="certificate">
            <div class="header">
              <div class="title">Certificate of Achievement</div>
              <div class="subtitle">Teamwork Homecare Training Division</div>
            </div>
            <div class="details">This certifies that</div>
            <div class="recipient">
              <div class="recipient-name">${t.userName??"Candidate"}</div>
            </div>
            <div class="details">
              has successfully completed the requirements for<br/>
              <strong>${t.examTitle??"Training Examination"}</strong><br/>
              with a score of ${t.score}%<br/>
              Certificate No. ${t.certificateNumber}
            </div>
            <div class="footer">
              <div>
                Issued: ${new Date(t.issuedAt).toLocaleDateString()}
              </div>
              <div class="signature">
                ${t.approvedByName??"Training Administrator"}
              </div>
            </div>
          </div>
        </body>
      </html>
    `,i=window.open("","_blank","width=900,height=700");i&&(i.document.open(),i.document.write(s),i.document.close(),i.focus(),i.print(),i.close())};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm uppercase tracking-wider text-indigo-500 font-semibold",children:"Certificate Preview"}),a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:t.examTitle??"Training Exam"})]}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Pe,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 via-white to-purple-50 p-10 space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 text-indigo-700",children:[a.jsx(xv,{className:"h-6 w-6"}),a.jsx("span",{className:"tracking-[0.3em] uppercase text-sm font-semibold",children:"Teamwork Homecare"})]}),a.jsx("h2",{className:"text-4xl font-bold text-gray-900 mt-4",children:"Certificate of Excellence"}),a.jsx("p",{className:"text-lg text-gray-600 mt-2",children:"Awarded in recognition of outstanding performance"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm uppercase tracking-[0.5em] text-indigo-400",children:"Awarded to"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-3",children:t.userName??"Candidate"})]}),a.jsxs("div",{className:"text-center text-gray-700 leading-relaxed",children:[a.jsxs("p",{children:["For successfully completing the"," ",a.jsx("span",{className:"font-semibold text-indigo-700",children:t.examTitle??"training examination"})," ","with a score of"," ",a.jsxs("span",{className:"font-semibold text-indigo-700",children:[t.score,"%"]}),"."]}),a.jsxs("p",{className:"mt-2",children:["Certificate Number: ",t.certificateNumber]}),a.jsxs("p",{children:["Issued on ",new Date(t.issuedAt).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-indigo-100 text-sm text-gray-600",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Status"}),a.jsx("p",{className:"capitalize",children:t.status.toLowerCase()})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Approved By"}),a.jsx("p",{children:t.approvedByName??"Pending Approval"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t bg-white",children:[a.jsx("button",{onClick:r,className:"btn-outline",children:"Close"}),a.jsxs("button",{onClick:n,className:"btn-primary inline-flex items-center gap-2",children:[a.jsx(ff,{className:"h-4 w-4"}),"Download / Print"]})]})]})})}function eie(){var I0;const e=Oo(),{user:t}=st(),[r,n]=E.useState("classes"),[s,i]=E.useState(""),[o,l]=E.useState("all"),[c,u]=E.useState("all"),[d,m]=E.useState("PUBLISHED"),[f,p]=E.useState(!1),[h,g]=E.useState(!1),[v,x]=E.useState(!1),[y,b]=E.useState(!1),[N,j]=E.useState(!1),[w,A]=E.useState(null),[T,S]=E.useState(null),[_,P]=E.useState("PENDING"),[k,O]=E.useState(null),[C,D]=E.useState(!1),[U,z]=E.useState(null),I=(t==null?void 0:t.role)==="admin",{data:R,loading:F,error:V,refetch:W}=xe(()=>fr.getClasses(),[]),{data:ee}=xe(()=>fr.getExams(),[]),{data:se,loading:ye,error:$,refetch:B}=xe(()=>rr.getExams({status:I?void 0:"PUBLISHED",limit:100}),[I]),{data:J,loading:X,error:ie,refetch:de}=xe(()=>rr.getAttempts({userId:I||t==null?void 0:t.id,examId:U||void 0,limit:100}),[I,t==null?void 0:t.id,U]),{data:M,loading:Q,error:ae,refetch:oe}=xe(()=>I?rr.getCertificates({limit:100}):Promise.resolve({certificates:[],pagination:void 0}),[I]),pe=(R==null?void 0:R.classes)??[];ee==null||ee.exams;const he=(se==null?void 0:se.exams)??[],Ee=(J==null?void 0:J.attempts)??[],ct=(M==null?void 0:M.certificates)??[],ke=je(fr.createClass.bind(fr)),Ct=je(G=>fr.updateClass(G.id,G.data)),ut=je(fr.deleteClass.bind(fr)),Sr=je(fr.enrollInClass.bind(fr)),bn=je(rr.createExam.bind(rr)),tn=je(G=>rr.updateExam(G.id,G.data)),mp=je(rr.deleteExam.bind(rr)),Y=je(rr.approveCertificate.bind(rr)),Se=E.useMemo(()=>{if(!pe||pe.length===0)return[];const G=(s||"").toLowerCase();return pe.filter(fe=>{var mu,fu;const it=(((mu=fe.title)==null?void 0:mu.toLowerCase())??"").includes(G)||(((fu=fe.instructor)==null?void 0:fu.toLowerCase())??"").includes(G),Mn=o==="all"||fe.status===o,ni=c==="all"||fe.category===c;return it&&Mn&&ni})},[pe,s,o,c]),He=E.useMemo(()=>Array.from(new Set(pe.map(G=>G.category))).filter(Boolean),[pe]),Ne=async G=>{try{if(!(t!=null&&t.id))throw new Error("You must be logged in to schedule a class");const fe=new Date(G.date),it=new Date(fe);it.setHours(it.getHours()+(G.duration||2));const Mn={name:G.title,description:G.description,instructorId:t.id,instructorName:G.instructor,startDate:fe.toISOString(),endDate:it.toISOString(),capacity:G.maxParticipants,category:G.category,location:G.location,duration:G.duration,status:G.status};await ke.mutate(Mn),te.success(`${G.title} has been scheduled successfully.`),p(!1),await W()}catch(fe){throw te.error((fe==null?void 0:fe.message)??"Unable to schedule class. Please try again later."),fe}},dt=async G=>{if(w)try{if(!(t!=null&&t.id))throw new Error("You must be logged in to update a class");const fe=new Date(G.date),it=new Date(fe);it.setHours(it.getHours()+(G.duration||2));const Mn={name:G.title,description:G.description,instructorId:t.id,instructorName:G.instructor,startDate:fe.toISOString(),endDate:it.toISOString(),capacity:G.maxParticipants,category:G.category,location:G.location,duration:G.duration,status:G.status};await Ct.mutate({id:w.id,data:Mn}),te.success(`${G.title} has been updated.`),g(!1),A(null),await W()}catch(fe){throw te.error((fe==null?void 0:fe.message)??"Unable to update class. Please try again later."),fe}},uu=async(G,fe)=>{if(window.confirm(`Are you sure you want to delete the class "${fe}"?`))try{await ut.mutate(G),te.success(`${fe} has been deleted.`),await W()}catch(it){te.error((it==null?void 0:it.message)??"Unable to delete class. Please try again later.")}},du=async G=>{try{await Sr.mutate(G),te.success("You have been enrolled in the class."),await W()}catch(fe){te.error((fe==null?void 0:fe.message)??"Unable to enroll. Please try again later.")}},XC=G=>{A(G),x(!0)},QC=G=>{A(G),g(!0)},JC=async G=>{try{await bn.mutate(G),te.success(`${G.title} has been created successfully.`),b(!1),await B()}catch(fe){throw te.error((fe==null?void 0:fe.message)??"Unable to create exam. Please try again later."),fe}},ZC=async G=>{if(T)try{await tn.mutate({id:T.id,data:G}),te.success(`${G.title} has been updated.`),j(!1),S(null),await B()}catch(fe){throw te.error((fe==null?void 0:fe.message)??"Unable to update exam. Please try again later."),fe}},e_=async(G,fe)=>{if(window.confirm(`Are you sure you want to delete the exam "${fe}"?`))try{await mp.mutate(G),te.success(`${fe} has been deleted.`),await B()}catch(it){te.error((it==null?void 0:it.message)??"Unable to delete exam. Please try again later.")}},t_=async G=>{try{await Y.mutate(G.id),te.success(`${G.userName??"Candidate"} now has an approved certificate.`),await Promise.all([oe(),de()])}catch(fe){te.error((fe==null?void 0:fe.message)??"Unable to approve certificate. Please try again later.")}},C0=G=>{O(G),D(!!G)},r_=G=>{S(G),j(!0)},_0=E.useMemo(()=>{if(!he||he.length===0)return[];const G=(s||"").toLowerCase();return he.filter(fe=>{var ni;const it=(((ni=fe.title)==null?void 0:ni.toLowerCase())??"").includes(G),Mn=d==="all"||fe.status===d;return it&&Mn})},[he,s,d]),k0=E.useMemo(()=>{if(!ct||ct.length===0)return[];const G=(s||"").trim().toLowerCase();return ct.filter(fe=>{var $0,R0,M0;const it=_==="all"||fe.status===_;if(!G)return it;const Mn=(($0=fe.userName)==null?void 0:$0.toLowerCase())??"",ni=((R0=fe.examTitle)==null?void 0:R0.toLowerCase())??"",mu=((M0=fe.certificateNumber)==null?void 0:M0.toLowerCase())??"",fu=Mn.includes(G)||ni.includes(G)||mu.includes(G);return it&&fu})},[ct,_,s]);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Training & Examinations"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage training classes and certification exams"})]}),a.jsxs("div",{className:"mt-4 sm:mt-0 flex gap-2",children:[r==="classes"&&a.jsxs("button",{onClick:()=>p(!0),className:"btn-primary flex items-center",children:[a.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Schedule New Class"]}),r==="exams"&&I&&a.jsxs("button",{onClick:()=>b(!0),className:"btn-primary flex items-center",children:[a.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Create New Exam"]})]})]}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsx("button",{onClick:()=>n("classes"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="classes"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Training Classes"}),a.jsx("button",{onClick:()=>n("exams"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="exams"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Exams"}),a.jsx("button",{onClick:()=>n("attempts"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="attempts"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:I?"All Attempts":"My Attempts"}),I&&a.jsx("button",{onClick:()=>n("certificates"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="certificates"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Certificates"})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"relative",children:[a.jsx(jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search classes...",value:s,onChange:G=>i(G.target.value),className:"input-field pl-10"})]})}),a.jsx("div",{children:a.jsxs("select",{value:o,onChange:G=>l(G.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"upcoming",children:"Upcoming"}),a.jsx("option",{value:"ongoing",children:"Ongoing"}),a.jsx("option",{value:"completed",children:"Completed"})]})}),a.jsx("div",{children:a.jsxs("select",{value:c,onChange:G=>u(G.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Categories"}),He.map(G=>a.jsx("option",{value:G,children:G},G))]})})]})}),V&&a.jsxs("div",{className:"card text-sm text-red-500 flex items-center gap-2",children:[a.jsx(Jt,{className:"h-4 w-4"})," Unable to load training classes. Please try again later."]}),r==="classes"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Training Classes"}),F?a.jsx("div",{className:"card text-sm text-gray-500",children:"Loading training classes..."}):a.jsx("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:Se.map(G=>a.jsxs("div",{className:"card hover:shadow-lg transition-shadow duration-200",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:G.title}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:G.description})]}),a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${G.status==="upcoming"?"bg-blue-100 text-blue-800":G.status==="ongoing"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:G.status})]}),a.jsxs("div",{className:"space-y-3 mb-4",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Or,{className:"h-4 w-4 mr-2"}),"Instructor: ",G.instructor]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Te,{className:"h-4 w-4 mr-2"}),G.date?new Date(G.date).toLocaleDateString():"Date TBD"]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(De,{className:"h-4 w-4 mr-2"}),G.duration," hours"]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Bs,{className:"h-4 w-4 mr-2"}),G.location]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Or,{className:"h-4 w-4 mr-2"}),G.enrolledCount??0,"/",G.maxParticipants," enrolled"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-secondary-100 text-secondary-800",children:G.category}),a.jsxs("div",{className:"flex space-x-2",children:[G.status==="upcoming"&&a.jsx("button",{className:"btn-secondary text-sm",onClick:()=>du(G.id),children:"Enroll"}),a.jsxs("button",{onClick:()=>XC(G),className:"btn-outline text-sm text-blue-600 hover:text-blue-800",children:[a.jsx(Bt,{className:"h-3 w-3 inline mr-1"}),"View Details"]}),a.jsxs("button",{onClick:()=>QC(G),className:"btn-outline text-sm text-blue-600 hover:text-blue-800",children:[a.jsx(er,{className:"h-3 w-3 inline mr-1"}),"Edit"]}),a.jsxs("button",{onClick:()=>uu(G.id,G.title),className:"btn-outline text-sm text-red-600 hover:text-red-800",children:[a.jsx(ht,{className:"h-3 w-3 inline mr-1"}),"Delete"]})]})]})]},G.id))})]}),Se.length===0&&!F&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400",children:a.jsx(jt,{className:"h-12 w-12"})}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No classes found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your search or filter criteria."})]})]}),r==="exams"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"card mb-4",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"relative",children:[a.jsx(jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search exams...",value:s,onChange:G=>i(G.target.value),className:"input-field pl-10"})]})}),I&&a.jsx("div",{children:a.jsxs("select",{value:d,onChange:G=>m(G.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"DRAFT",children:"Draft"}),a.jsx("option",{value:"PUBLISHED",children:"Published"}),a.jsx("option",{value:"ARCHIVED",children:"Archived"})]})})]})}),$&&a.jsxs("div",{className:"card text-sm text-red-500 flex items-center gap-2",children:[a.jsx(Jt,{className:"h-4 w-4"})," Unable to load exams. Please try again later."]}),ye?a.jsx("div",{className:"card text-sm text-gray-500",children:"Loading exams..."}):a.jsx("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:_0.map(G=>{var fe;return a.jsxs("div",{className:"card hover:shadow-lg transition-shadow duration-200",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:G.title}),G.description&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:G.description})]}),a.jsx(Ft,{className:"h-6 w-6 text-primary-500"})]}),a.jsxs("div",{className:"space-y-3 mb-4",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(De,{className:"h-4 w-4 mr-2"}),"Duration: ",G.duration," minutes"]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Passing Score: ",G.passingScore,"%"]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Ki,{className:"h-4 w-4 mr-2"}),"Questions: ",((fe=G.questions)==null?void 0:fe.length)??0]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Or,{className:"h-4 w-4 mr-2"}),"Max Attempts: ",G.maxAttempts]}),a.jsx("div",{className:"flex items-center",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${G.status==="PUBLISHED"?"bg-green-100 text-green-800":G.status==="DRAFT"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:G.status})})]}),a.jsx("div",{className:"flex items-center justify-between",children:I?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>r_(G),className:"btn-outline text-sm text-blue-600 hover:text-blue-800",children:[a.jsx(er,{className:"h-3 w-3 inline mr-1"}),"Edit"]}),a.jsxs("button",{onClick:()=>e_(G.id,G.title),className:"btn-outline text-sm text-red-600 hover:text-red-800",children:[a.jsx(ht,{className:"h-3 w-3 inline mr-1"}),"Delete"]})]}),a.jsxs("button",{onClick:()=>{z(G.id),n("attempts")},className:"btn-outline text-sm",children:[a.jsx(Bt,{className:"h-3 w-3 inline mr-1"}),"View Attempts"]})]}):a.jsx(a.Fragment,{children:G.status==="PUBLISHED"&&a.jsx("button",{onClick:()=>e(`/training/exam/${G.id}/take`),className:"btn-primary text-sm",children:"Take Exam"})})})]},G.id)})}),_0.length===0&&!ye&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400",children:a.jsx(Ki,{className:"h-12 w-12"})}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No exams found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:I?"Create your first exam to get started.":"No exams are available at this time."})]})]}),r==="attempts"&&a.jsxs(a.Fragment,{children:[U&&a.jsx("div",{className:"card mb-4 bg-blue-50 border-blue-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("span",{className:"text-sm text-blue-800",children:["Showing attempts for: ",a.jsx("strong",{children:((I0=he.find(G=>G.id===U))==null?void 0:I0.title)??"Unknown Exam"})]})}),a.jsx("button",{onClick:()=>z(null),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Clear Filter"})]})}),ie&&a.jsxs("div",{className:"card text-sm text-red-500 flex items-center gap-2",children:[a.jsx(Jt,{className:"h-4 w-4"})," Unable to load attempts. Please try again later."]}),X?a.jsx("div",{className:"card text-sm text-gray-500",children:"Loading attempts..."}):a.jsxs("div",{className:"card overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto max-h-[600px] overflow-y-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Exam"}),I&&a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Candidate"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Certificate"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Ee.map(G=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.examTitle??"Unknown Exam"})}),I&&a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:G.userName??"Unknown"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.score!==void 0?`${G.score}%`:"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${G.passed?"bg-green-100 text-green-800":G.passed===!1?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:G.passed===!0?"Passed":G.passed===!1?"Failed":G.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.submittedAt?new Date(G.submittedAt).toLocaleDateString():"Not submitted"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:G.certificate?a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${G.certificate.status==="APPROVED"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:G.certificate.status==="APPROVED"?"Approved":"Pending"}):a.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[a.jsxs("button",{onClick:()=>e(`/training/exam/${G.examId}/result/${G.id}`),className:"text-primary-600 hover:text-primary-800",children:[a.jsx(Bt,{className:"h-4 w-4 inline mr-1"}),"View"]}),G.certificate&&a.jsxs("button",{onClick:()=>C0(G.certificate??null),className:"ml-4 text-indigo-600 hover:text-indigo-800",children:[a.jsx(Bt,{className:"h-4 w-4 inline mr-1"}),"Certificate"]})]})]},G.id))})]})}),Ee.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400",children:a.jsx(ur,{className:"h-12 w-12"})}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No attempts found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:U?"No attempts found for this exam.":I?"No exam attempts have been recorded yet.":"You haven't taken any exams yet."})]})]})]}),r==="certificates"&&I&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"card mb-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx("div",{className:"md:col-span-2",children:a.jsxs("div",{className:"relative",children:[a.jsx(jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search by candidate or exam...",value:s,onChange:G=>i(G.target.value),className:"input-field pl-10"})]})}),a.jsx("div",{children:a.jsxs("select",{value:_,onChange:G=>P(G.target.value==="all"?"all":G.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"PENDING",children:"Pending Approval"}),a.jsx("option",{value:"APPROVED",children:"Approved"})]})})]})}),ae&&a.jsxs("div",{className:"card text-sm text-red-500 flex items-center gap-2",children:[a.jsx(Jt,{className:"h-4 w-4"})," Unable to load certificates. Please try again later."]}),Q?a.jsx("div",{className:"card text-sm text-gray-500",children:"Loading certificates..."}):a.jsxs("div",{className:"card overflow-hidden",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Candidate"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Exam"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Issued"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:k0.map(G=>a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.userName??"Unknown"}),a.jsxs("div",{className:"text-sm text-gray-500",children:["#",G.certificateNumber]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:G.examTitle??"Exam"})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[G.score,"%"]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${G.status==="APPROVED"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:G.status==="APPROVED"?"Approved":"Pending"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(G.issuedAt).toLocaleDateString()}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm space-x-3",children:[a.jsxs("button",{onClick:()=>C0(G),className:"text-primary-600 hover:text-primary-800",children:[a.jsx(Bt,{className:"h-4 w-4 inline mr-1"}),"View"]}),G.status==="PENDING"&&a.jsxs("button",{onClick:()=>t_(G),className:"text-green-600 hover:text-green-800",children:[a.jsx(Zt,{className:"h-4 w-4 inline mr-1"}),"Approve"]})]})]},G.id))})]}),k0.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400",children:a.jsx(Ft,{className:"h-12 w-12"})}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No certificates found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Approved certificates will appear here."})]})]})]}),a.jsx(_S,{isOpen:f,onClose:()=>p(!1),onSave:Ne,mode:"add"}),a.jsx(_S,{isOpen:h,onClose:()=>{g(!1),A(null)},onSave:dt,trainingClass:w,mode:"edit"}),a.jsx(Zse,{isOpen:v,onClose:()=>{x(!1),A(null)},trainingClass:w}),a.jsx(kS,{isOpen:y,onClose:()=>b(!1),onSave:JC,mode:"add"}),a.jsx(kS,{isOpen:N,onClose:()=>{j(!1),S(null)},onSave:ZC,exam:T,mode:"edit"}),a.jsx(GC,{isOpen:C,certificate:k,onClose:()=>{D(!1),O(null)}})]})}function tie(){const{id:e}=Yc(),{addNotification:t}=yt(),[r,n]=E.useState(0),[s,i]=E.useState([]),[o,l]=E.useState(!1),[c,u]=E.useState(null),{data:d,loading:m,error:f,refetch:p}=xe(async()=>e?fr.getExam(e):null,[e]),h=je(async S=>fr.submitExam(S.examId,{answers:(d==null?void 0:d.questions.map((_,P)=>({questionId:_.id,answer:S.answers[P]})))??[]}));E.useEffect(()=>{d&&(i(new Array(d.questions.length).fill(-1)),n(0),l(!1),u(null))},[d]);const g=S=>{i(_=>{const P=[..._];return P[r]=S,P})},v=()=>{d&&r<d.questions.length-1&&n(r+1)},x=()=>{r>0&&n(r-1)},y=E.useMemo(()=>{if(!d||s.length===0)return 0;let S=0;return d.questions.forEach((_,P)=>{s[P]===_.correctAnswer&&S++}),d.questions.length===0?0:Math.round(S/d.questions.length*100)},[d,s]),b=async()=>{if(!(!e||!d))try{const S=await h.mutate({examId:e,answers:s}),_=(S==null?void 0:S.score)??y,P=(S==null?void 0:S.passed)??_>=d.passingScore;u({score:_,passed:P}),l(!0),t({title:"Exam submitted",message:"Your responses have been recorded.",type:"success",userId:"system",priority:"medium",category:"training"})}catch(S){t({title:"Unable to submit exam",message:(S==null?void 0:S.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"})}};if(!e)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Exam not found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"The requested exam could not be found."}),a.jsx(ar,{to:"/training",className:"mt-4 btn-primary inline-block",children:"Back to Training"})]});if(m)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Loading exam..."})]});if(f||!d)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Jt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Unable to load exam"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:(f==null?void 0:f.message)??"Please try again later."}),a.jsx("button",{onClick:p,className:"mt-4 btn-primary",children:"Retry"})]});const N=(c==null?void 0:c.score)??y,j=(c==null?void 0:c.passed)??N>=d.passingScore,w=d.questions[r],A=(r+1)/d.questions.length*100;if(o)return a.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(ar,{to:"/training",className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:a.jsx(sc,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Exam Results"}),a.jsx("p",{className:"text-sm text-gray-600",children:d.title})]})]}),a.jsxs("div",{className:"card text-center",children:[a.jsxs("div",{className:"mb-6",children:[j?a.jsx(Zt,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}):a.jsx(Ya,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),a.jsx("h2",{className:`text-2xl font-bold ${j?"text-green-600":"text-red-600"}`,children:j?"Congratulations!":"Try Again"}),a.jsx("p",{className:"text-gray-600 mt-2",children:j?"You have passed the exam!":"You need to score higher to pass."})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[N,"%"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Your Score"})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[d.passingScore,"%"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Passing Score"})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s.filter((S,_)=>S===d.questions[_].correctAnswer).length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Correct Answers"})]})]}),a.jsxs("div",{className:"flex space-x-4 justify-center",children:[a.jsx(ar,{to:"/training",className:"btn-outline",children:"Back to Training"}),!j&&a.jsx("button",{onClick:()=>{l(!1),n(0),i(new Array(d.questions.length).fill(-1)),u(null)},className:"btn-primary",children:"Retake Exam"})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Question Review"}),a.jsx("div",{className:"space-y-6",children:d.questions.map((S,_)=>{const P=s[_],k=P===S.correctAnswer;return a.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[k?a.jsx(Zt,{className:"h-5 w-5 text-green-500 mt-1"}):a.jsx(Ya,{className:"h-5 w-5 text-red-500 mt-1"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:"font-medium text-gray-900 mb-2",children:["Question ",_+1,": ",S.question]}),a.jsx("div",{className:"space-y-2",children:S.options.map((O,C)=>{let D="p-2 rounded border ";return C===S.correctAnswer?D+="bg-green-50 border-green-200 text-green-800":C===P&&!k?D+="bg-red-50 border-red-200 text-red-800":D+="bg-gray-50 border-gray-200 text-gray-700",a.jsx("div",{className:D,children:O},C)})}),S.explanation&&a.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Explanation:"})," ",S.explanation]})})]})]})},S.id)})})]})]});const T=d.timeLimit;return a.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(ar,{to:"/training",className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:a.jsx(sc,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:d.title}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Question ",r+1," of ",d.questions.length]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsx(De,{className:"h-4 w-4"}),a.jsxs("span",{children:[T," minutes"]})]})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[a.jsx("span",{className:"text-gray-600",children:"Progress"}),a.jsxs("span",{className:"font-medium",children:[Math.round(A),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-primary-500 h-2 rounded-full transition-all duration-300",style:{width:`${A}%`}})})]}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-6",children:w.question}),a.jsx("div",{className:"space-y-3",children:w.options.map((S,_)=>a.jsx("button",{onClick:()=>g(_),className:`w-full text-left p-4 rounded-lg border-2 transition-colors duration-200 ${s[r]===_?"border-primary-500 bg-primary-50 text-primary-900":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:S},_))})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("button",{onClick:x,disabled:r===0,className:"btn-outline disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),a.jsx("div",{className:"flex space-x-2",children:r===d.questions.length-1?a.jsx("button",{onClick:b,className:"btn-primary",disabled:h.loading,children:h.loading?"Submitting...":"Submit Exam"}):a.jsx("button",{onClick:v,className:"btn-primary",children:"Next"})})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Question Navigation"}),a.jsx("div",{className:"grid grid-cols-5 sm:grid-cols-10 gap-2",children:d.questions.map((S,_)=>a.jsx("button",{onClick:()=>n(_),className:`p-2 text-sm rounded border ${_===r?"border-primary-500 bg-primary-50 text-primary-700":s[_]!==-1?"border-green-500 bg-green-50 text-green-700":"border-gray-200 hover:border-gray-300"}`,children:_+1},_))})]})]})}function rie(){const{id:e}=Yc(),t=Oo(),{addNotification:r}=yt(),{user:n}=st(),[s,i]=E.useState(0),[o,l]=E.useState(new Map),[c,u]=E.useState(null),[d,m]=E.useState(null),[f,p]=E.useState(!1),[h,g]=E.useState("single"),{data:v,loading:x,error:y}=xe(async()=>e?rr.getExam(e):null,[e]),b=je(async I=>rr.startAttempt(I)),N=je(async I=>rr.submitAttempt(I.attemptId,I.answers));E.useEffect(()=>{if(!v||!e||d)return;(async()=>{try{const R=await b.mutate(e);m(R),u(v.duration*60)}catch(R){r({title:"Unable to start exam",message:(R==null?void 0:R.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"})}})()},[v,e,d]),E.useEffect(()=>{if(c===null||c<=0||!d||!v)return;const I=setInterval(()=>{u(R=>R===null||R<=1?(S.current(),0):R-1)},1e3);return()=>clearInterval(I)},[c,d,v]);const j=(I,R)=>{l(F=>{const V=new Map(F);return V.set(I,R),V})},w=()=>{s<O-1&&i(I=>I+1)},A=()=>{s>0&&i(I=>I-1)},T=async()=>{if(!d||!v)return;const I=Array.from(o.entries()).map(([R,F])=>({questionId:R,selectedAnswer:F}));try{const R=await N.mutate({attemptId:d.id,answers:I});t(`/training/exam/${v.id}/result/${R.id}`)}catch(R){r({title:"Unable to submit exam",message:(R==null?void 0:R.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"})}},S=L.useRef(T);S.current=T;const _=async()=>{if(!d||O===0)return;if(k.filter(R=>R.id&&!o.has(R.id)).length>0){p(!0);return}await T()},P=I=>{const R=Math.floor(I/60),F=I%60;return`${R.toString().padStart(2,"0")}:${F.toString().padStart(2,"0")}`},k=E.useMemo(()=>{if(!(v!=null&&v.questions))return[];if(d!=null&&d.questionOrder&&d.questionOrder.length>0){const I=new Map(v.questions.map(F=>[F.id,F])),R=d.questionOrder.map(F=>I.get(F)).filter(F=>!!F);if(R.length>0)return R}return v.questions},[v,d]),O=k.length,C=E.useMemo(()=>O===0?0:Math.round(o.size/O*100),[o.size,O]);if(!e)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Exam not found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"The requested exam could not be found."}),a.jsx("button",{onClick:()=>t("/training"),className:"mt-4 btn-primary",children:"Back to Training"})]});if(x||b.loading)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Loading exam..."})]});if(y||!v)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Unable to load exam"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:(y==null?void 0:y.message)??"Please try again later."}),a.jsx("button",{onClick:()=>t("/training"),className:"mt-4 btn-primary",children:"Back to Training"})]});if(!d)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Starting exam..."})]});if(O===0)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Exam has no questions"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Please contact the administrator."}),a.jsx("button",{onClick:()=>t("/training"),className:"mt-4 btn-primary",children:"Back to Training"})]});const D=k[s],U=O-o.size,z=(I,R,F=!1)=>{const V=I.id;return a.jsxs("div",{children:[a.jsxs("p",{className:`${F?"text-base":"text-lg"} font-medium text-gray-900 mb-3`,children:[R+1,". ",I.question]}),a.jsx("div",{className:"space-y-3",children:I.options.map((W,ee)=>{const se=o.get(V)===ee;return a.jsxs("label",{className:`flex items-center p-4 border-2 rounded-lg cursor-pointer transition-colors ${se?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("input",{type:"radio",name:`question-${V}`,checked:se,onChange:()=>j(V,ee),className:"h-4 w-4 text-primary-600 mr-3"}),a.jsx("span",{className:"flex-1",children:W})]},ee)})})]})};return a.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[a.jsxs("div",{className:"card mb-6",children:[a.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:v.title}),v.description&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:v.description})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>g(I=>I==="single"?"list":"single"),className:"btn-outline",children:h==="single"?"View All Questions":"View One Question"}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold",children:[a.jsx(De,{className:"h-5 w-5"}),c!==null?P(c):"--:--"]}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Time Remaining"})]})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[a.jsx("span",{className:"text-gray-600",children:"Progress"}),a.jsxs("span",{className:"text-gray-600",children:[o.size," / ",O," answered"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-primary-500 h-2 rounded-full transition-all",style:{width:`${C}%`}})})]})]}),h==="single"?a.jsxs("div",{className:"card mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-lg font-semibold",children:["Question ",s+1," of ",O]}),U>0&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600",children:[a.jsx(Jt,{className:"h-4 w-4"}),U," unanswered"]})]}),z(D,s),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[a.jsx("button",{onClick:A,disabled:s===0,className:"btn-outline disabled:opacity-50",children:"Previous"}),a.jsx("div",{className:"flex gap-2 flex-wrap",children:k.map((I,R)=>a.jsx("button",{onClick:()=>i(R),className:`w-8 h-8 rounded text-sm ${R===s?"bg-primary-500 text-white":I.id&&o.has(I.id)?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:R+1},I.id))}),s<O-1?a.jsx("button",{onClick:w,className:"btn-primary",children:"Next"}):a.jsx("button",{onClick:_,disabled:N.loading,className:"btn-primary",children:N.loading?"Submitting...":"Submit Exam"})]})]}):a.jsxs("div",{className:"card mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"All Questions"}),U>0&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600",children:[a.jsx(Jt,{className:"h-4 w-4"}),U," unanswered"]})]}),a.jsx("div",{className:"space-y-6",children:k.map((I,R)=>a.jsx("div",{className:"border-b pb-6 last:border-b-0 last:pb-0",children:z(I,R,!0)},I.id))}),a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-6 border-t mt-6",children:[a.jsx("button",{onClick:()=>g("single"),className:"btn-outline",children:"Focus on One Question"}),a.jsx("button",{onClick:_,disabled:N.loading,className:"btn-primary",children:N.loading?"Submitting...":"Submit Exam"})]})]}),f&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Confirm Submission"}),a.jsxs("p",{className:"text-gray-600 mb-4",children:["You have ",U," unanswered question(s). Are you sure you want to submit the exam?"]}),a.jsxs("div",{className:"flex items-center justify-end gap-3",children:[a.jsx("button",{onClick:()=>p(!1),className:"btn-outline",children:"Cancel"}),a.jsx("button",{onClick:async()=>{p(!1),await T()},className:"btn-primary",children:"Submit Anyway"})]})]})})]})}function nie(){var f;const e=Za(),t=Oo(),{id:r}=Yc(),n=(f=e.state)==null?void 0:f.result,[s,i]=E.useState(!1),{data:o,loading:l}=xe(async()=>n||(r?rr.getAttemptById(r):null),[r,n]);if(l)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Loading results..."})]});if(!o)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Results not found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Unable to load exam results."}),a.jsx("button",{onClick:()=>t("/training"),className:"mt-4 btn-primary",children:"Back to Training"})]});const c=o.score??0,u=o.passed??!1,d=o.timeSpent??0,m=o.certificate;return a.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[a.jsx("div",{className:"card mb-6",children:a.jsxs("div",{className:"text-center",children:[u?a.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4",children:a.jsx(Zt,{className:"h-10 w-10 text-green-600"})}):a.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 mb-4",children:a.jsx(Ya,{className:"h-10 w-10 text-red-600"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:o.examTitle??"Exam Results"}),a.jsxs("div",{className:"flex items-center justify-center gap-8 mt-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-4xl font-bold text-gray-900",children:[c,"%"]}),a.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Score"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold",children:[a.jsx(De,{className:"h-5 w-5"}),d," min"]}),a.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Time Spent"})]})]}),a.jsx("div",{className:"mt-6",children:a.jsx("span",{className:`inline-flex items-center px-4 py-2 rounded-full text-sm font-medium ${u?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:u?a.jsxs(a.Fragment,{children:[a.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Passed"]}):a.jsxs(a.Fragment,{children:[a.jsx(Ya,{className:"h-4 w-4 mr-2"}),"Failed"]})})})]})}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Exam Details"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[a.jsx("span",{className:"text-gray-600",children:"Submitted At"}),a.jsx("span",{className:"font-medium",children:o.submittedAt?new Date(o.submittedAt).toLocaleString():"N/A"})]}),a.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[a.jsx("span",{className:"text-gray-600",children:"Status"}),a.jsx("span",{className:"font-medium capitalize",children:o.status.toLowerCase().replace("_"," ")})]}),o.userName&&a.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[a.jsx("span",{className:"text-gray-600",children:"Candidate"}),a.jsx("span",{className:"font-medium",children:o.userName})]})]})]}),u&&a.jsxs("div",{className:"card mt-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Certification"}),m?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Certificate Number"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:m.certificateNumber}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Issued ",new Date(m.issuedAt).toLocaleDateString()]})]}),a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${m.status==="APPROVED"?"bg-green-100 text-green-800":"bg-amber-100 text-amber-800"}`,children:m.status==="APPROVED"?"Approved":"Pending Approval"})]}),a.jsx("p",{className:"text-gray-600 mt-4",children:m.status==="APPROVED"?"Your certificate has been approved. You can download or print it anytime.":"Your certificate is pending administrator approval. You will be notified once it is ready to download."}),a.jsx("div",{className:"flex items-center gap-3 mt-4",children:a.jsx("button",{onClick:()=>i(!0),className:"btn-primary",children:m.status==="APPROVED"?"View Certificate":"Preview Certificate"})})]}):a.jsx("p",{className:"text-gray-600",children:"Your certificate is being generated. Please check back shortly to view its status."})]}),a.jsxs("div",{className:"mt-6 flex items-center justify-center gap-4",children:[a.jsxs("button",{onClick:()=>t("/training"),className:"btn-outline flex items-center gap-2",children:[a.jsx(sc,{className:"h-4 w-4"}),"Back to Training"]}),a.jsx("button",{onClick:()=>t(`/training/exam/${o.examId}/take`),className:"btn-primary",children:"View Exam Details"})]}),a.jsx(GC,{isOpen:s,certificate:m??null,onClose:()=>i(!1)})]})}const aie=[{value:"scheduled",label:"Scheduled"},{value:"confirmed",label:"Confirmed"},{value:"in-progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"},{value:"rescheduled",label:"Rescheduled"},{value:"no-show",label:"No Show"}];function IS({isOpen:e,onClose:t,onSave:r,appointment:n,mode:s,patients:i,nurses:o,services:l,specialists:c,loading:u}){const[d,m]=E.useState(n?{patientId:n.patientId,nurseId:n.nurseId||void 0,serviceId:n.serviceId,specialistId:n.specialistId||void 0,date:n.date,time:n.time,duration:n.duration,status:n.status,notes:n.notes??""}:{patientId:"",nurseId:"",serviceId:"",specialistId:"",date:new Date().toISOString().split("T")[0],time:"",duration:60,status:"scheduled",notes:""}),[f,p]=E.useState(!1),[h,g]=E.useState(null);E.useEffect(()=>{e||(p(!1),g(null))},[e]),E.useEffect(()=>{n&&s==="edit"?m({patientId:n.patientId,nurseId:n.nurseId||void 0,serviceId:n.serviceId,specialistId:n.specialistId||void 0,date:n.date,time:n.time,duration:n.duration,status:n.status,notes:n.notes??""}):s==="add"&&m(j=>({...j,patientId:"",nurseId:"",serviceId:"",specialistId:"",date:new Date().toISOString().split("T")[0],time:"",duration:60,status:"scheduled",notes:""}))},[n,s]);const v=E.useMemo(()=>!!(u!=null&&u.patients||u!=null&&u.nurses||u!=null&&u.services||u!=null&&u.specialists),[u]),x=j=>{const{name:w,value:A}=j.target;m(T=>({...T,[w]:w==="duration"?Number(A):A}))},y=j=>{const{value:w}=j.target;m(A=>({...A,specialistId:w||void 0}))},b=j=>{const w=j.target.value,A=l.find(T=>T.id===w);m(T=>({...T,serviceId:w,duration:(A==null?void 0:A.duration)??T.duration}))},N=async j=>{var w;j.preventDefault(),p(!0),g(null);try{await r({...d,nurseId:d.nurseId||void 0,specialistId:d.specialistId||void 0,notes:(w=d.notes)!=null&&w.trim()?d.notes.trim():void 0}),t()}catch(A){g((A==null?void 0:A.message)??"Unable to save appointment. Please try again.")}finally{p(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s==="add"?"Schedule New Appointment":"Edit Appointment"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Pe,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:N,className:"p-6 space-y-6",children:[h&&a.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:h}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient *"}),a.jsxs("select",{name:"patientId",value:d.patientId,onChange:x,required:!0,className:"input-field",disabled:v||f,children:[a.jsx("option",{value:"",children:"Select a patient"}),i.map(j=>a.jsxs("option",{value:j.id,children:[j.name," ",j.condition?`- ${j.condition}`:""]},j.id))]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned Nurse"}),a.jsxs("select",{name:"nurseId",value:d.nurseId??"",onChange:x,className:"input-field",disabled:v||f,children:[a.jsx("option",{value:"",children:"Select a nurse"}),o.map(j=>a.jsxs("option",{value:j.id,children:[j.name," - ",j.specialization]},j.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned Specialist"}),a.jsxs("select",{name:"specialistId",value:d.specialistId??"",onChange:y,className:"input-field",disabled:v||f,children:[a.jsx("option",{value:"",children:"Select a specialist"}),c.map(j=>a.jsxs("option",{value:j.id,children:[j.name," - ",j.specialization.replace(/-/g," ")]},j.id))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service *"}),a.jsxs("select",{name:"serviceId",value:d.serviceId,onChange:b,required:!0,className:"input-field",disabled:v||f,children:[a.jsx("option",{value:"",children:"Select a service"}),l.map(j=>a.jsxs("option",{value:j.id,children:[j.name," - $",j.price.toFixed(2)," (",Math.round(j.duration/60),"h)"]},j.id))]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),a.jsx("input",{type:"date",name:"date",value:d.date,onChange:x,required:!0,className:"input-field",disabled:f})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time *"}),a.jsx("input",{type:"time",name:"time",value:d.time,onChange:x,required:!0,className:"input-field",disabled:f})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes) *"}),a.jsx("input",{type:"number",name:"duration",value:d.duration,onChange:x,required:!0,min:15,max:480,step:15,className:"input-field",disabled:f})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),a.jsx("select",{name:"status",value:d.status,onChange:x,required:!0,className:"input-field",disabled:f,children:aie.map(j=>a.jsx("option",{value:j.value,children:j.label},j.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),a.jsx("textarea",{name:"notes",value:d.notes??"",onChange:x,rows:4,className:"input-field",placeholder:"Enter any additional notes for this appointment",disabled:f})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-outline",disabled:f,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:f||v,children:f?"Saving...":s==="add"?"Schedule Appointment":"Update Appointment"})]})]})]})}):null}const sie={ACTIVE:"active",INACTIVE:"inactive",ON_LEAVE:"on-leave"},iie={active:"ACTIVE",inactive:"INACTIVE","on-leave":"ON_LEAVE"},YC={CLINICAL_PSYCHOLOGIST:"clinical-psychologist",NUTRITIONIST:"nutritionist",CRITICAL_CARE_NURSE:"critical-care-nurse",MEDICAL_DOCTOR:"medical-doctor",GERIATRICIAN:"geriatrician",PALLIATIVE_CARE_SPECIALIST:"palliative-care-specialist",SENIOR_MIDWIFE:"senior-midwife"},oie=Object.entries(YC).reduce((e,[t,r])=>(e[r]=t,e),{});function Ju(e){var n,s;const t=(n=e.status)==null?void 0:n.toUpperCase(),r=(s=e.specialization)==null?void 0:s.toUpperCase();return{...e,status:sie[t]??"active",specialization:YC[r]??e.specialization,hireDate:e.hireDate?new Date(e.hireDate).toISOString().split("T")[0]:"",availability:e.availability??[]}}function $S(e){const t={...e};return e.status&&(t.status=iie[e.status]),e.specialization&&(t.specialization=oie[e.specialization]??e.specialization),e.hireDate&&(t.hireDate=new Date(e.hireDate).toISOString()),t}class lie{async getSpecialists(t){const r=await H.get(q.SPECIALISTS.BASE,{params:t});return{specialists:Array.isArray(r.data)?r.data.map(Ju):[],pagination:r.pagination}}async getSpecialist(t){const r=await H.get(q.SPECIALISTS.BY_ID(t));return Ju(r.data)}async createSpecialist(t){const r=await H.post(q.SPECIALISTS.BASE,$S(t));return Ju(r.data)}async updateSpecialist(t,r){const n=await H.put(q.SPECIALISTS.BY_ID(t),$S(r));return Ju(n.data)}async deleteSpecialist(t){await H.delete(q.SPECIALISTS.BY_ID(t))}}const xs=new lie;function cie(e){const t=new Date(e.getFullYear(),e.getMonth(),1),r=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59);return{start:t.toISOString(),end:r.toISOString()}}function uie(){const{user:e}=st(),[t,r]=E.useState(new Date),[n,s]=E.useState("month"),[i,o]=E.useState("all"),[l,c]=E.useState("all"),[u,d]=E.useState(!1),[m,f]=E.useState(!1),[p,h]=E.useState(null),{addNotification:g}=yt(),v=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="specialist";e==null||e.role;const x=E.useMemo(()=>cie(t),[t]),{data:y,loading:b,error:N,refetch:j}=xe(()=>Ut.getAppointments({nurseId:i!=="all"?i:void 0,dateFrom:x.start,dateTo:x.end,limit:200}),[i,x.start,x.end]),{data:w,loading:A}=xe(()=>zt.getPatients({limit:200}),[]),{data:T,loading:S}=xe(()=>Ai.getNurses({page:1,limit:200}),[]),{data:_,loading:P}=xe(()=>dn.getServices({limit:200}),[]),{data:k,loading:O}=xe(()=>xs.getSpecialists({limit:200}),[]),C=je(Ut.createAppointment.bind(Ut)),D=je(M=>Ut.updateAppointment(M.id,M.data)),U=je(M=>Ut.deleteAppointment(M)),z=E.useMemo(()=>((y==null?void 0:y.appointments)??[]).sort((Q,ae)=>new Date(`${Q.date}T${Q.time}`).getTime()-new Date(`${ae.date}T${ae.time}`).getTime()),[y]),R=E.useMemo(()=>i==="all"&&l==="all"?z:z.filter(M=>{const Q=i==="all"||M.nurseId===i,ae=l==="all"||M.specialistId===l;return Q&&ae}),[z,i,l]).filter(M=>{const Q=new Date(M.date);return Q.getMonth()===t.getMonth()&&Q.getFullYear()===t.getFullYear()}),F=R.reduce((M,Q)=>{const ae=Q.date;return M[ae]||(M[ae]=[]),M[ae].push(Q),M},{}),V=(w==null?void 0:w.patients)??[],W=(T==null?void 0:T.nurses)??[],ee=(_==null?void 0:_.services)??[],se=(k==null?void 0:k.specialists)??[],ye=async M=>{try{await C.mutate(M),g({title:"Appointment Scheduled",message:"The appointment has been scheduled successfully.",type:"success",userId:"system",priority:"medium",category:"schedule"}),await j(),d(!1)}catch(Q){throw g({title:"Unable to Schedule Appointment",message:(Q==null?void 0:Q.message)??"Please review the details and try again.",type:"error",userId:"system",priority:"high",category:"system"}),Q}},$=async M=>{if(p)try{await D.mutate({id:p.id,data:M}),g({title:"Appointment Updated",message:"The appointment details have been updated.",type:"success",userId:"system",priority:"medium",category:"schedule"}),await j(),f(!1),h(null)}catch(Q){throw g({title:"Unable to Update Appointment",message:(Q==null?void 0:Q.message)??"Please review the details and try again.",type:"error",userId:"system",priority:"high",category:"system"}),Q}},B=async M=>{const Q=z.find(oe=>oe.id===M);if(!Q)return;const ae=`Cancel appointment for ${Q.patientName} on ${new Date(`${Q.date}T${Q.time}`).toLocaleString()}?`;if(window.confirm(ae))try{await U.mutate(M),g({title:"Appointment Cancelled",message:`${Q.patientName}'s appointment has been removed from the schedule.`,type:"info",userId:"system",priority:"medium",category:"schedule"}),await j()}catch(oe){g({title:"Unable to Cancel Appointment",message:(oe==null?void 0:oe.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"})}},J=M=>{h(M),f(!0)},X=()=>{const M=t.getFullYear(),Q=t.getMonth(),ae=new Date(M,Q,1),oe=new Date(ae);oe.setDate(oe.getDate()-ae.getDay());const pe=[],he=new Date(oe);for(let Ee=0;Ee<42;Ee++)pe.push(new Date(he)),he.setDate(he.getDate()+1);return pe},ie=E.useMemo(()=>X(),[t]),de=M=>{const[Q,ae]=M.split(":"),oe=Number(Q),pe=oe>=12?"PM":"AM";return`${oe%12||12}:${ae} ${pe}`};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Scheduling"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage appointments and schedules"})]}),a.jsxs("div",{className:"mt-4 sm:mt-0 flex space-x-2",children:[a.jsxs("button",{className:"btn-outline flex items-center",disabled:!0,children:[a.jsx(pf,{className:"h-4 w-4 mr-2"}),"Filter"]}),v&&a.jsxs("button",{onClick:()=>d(!0),className:"btn-primary flex items-center",children:[a.jsx(Ie,{className:"h-4 w-4 mr-2"}),"New Appointment"]})]})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>{const M=new Date(t);M.setMonth(M.getMonth()-1),r(M)},className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100","aria-label":"Previous month",children:""}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900 min-w-0",children:t.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),a.jsx("button",{onClick:()=>{const M=new Date(t);M.setMonth(M.getMonth()+1),r(M)},className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100","aria-label":"Next month",children:""})]}),a.jsx("div",{className:"flex space-x-2",children:["month","week","day"].map(M=>a.jsx("button",{onClick:()=>s(M),className:`px-3 py-1 rounded-lg text-sm font-medium ${n===M?"bg-primary-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:M.charAt(0).toUpperCase()+M.slice(1)},M))}),a.jsxs("div",{className:"sm:ml-auto flex flex-col sm:flex-row gap-3",children:[a.jsxs("select",{value:i,onChange:M=>o(M.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Nurses"}),W.map(M=>a.jsx("option",{value:M.id,children:M.name},M.id))]}),a.jsxs("select",{value:l,onChange:M=>c(M.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Specialists"}),se.map(M=>a.jsx("option",{value:M.id,children:M.name},M.id))]})]})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"grid grid-cols-7 gap-px bg-gray-200",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(M=>a.jsx("div",{className:"bg-gray-50 px-3 py-2 text-sm font-medium text-gray-700 text-center",children:M},M)),ie.map((M,Q)=>{const ae=M.getMonth()===t.getMonth(),oe=M.toDateString()===new Date().toDateString(),pe=M.toISOString().split("T")[0],he=F[pe]||[];return a.jsxs("div",{className:`min-h-[120px] px-3 py-2 bg-white flex flex-col border border-gray-100 ${ae?"":"bg-gray-50 text-gray-400"} ${oe?"ring-2 ring-primary-500":""}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:`text-sm font-medium ${oe?"text-primary-600":"text-gray-900"}`,children:M.getDate()}),a.jsxs("span",{className:"text-xs text-gray-400",children:[he.length," appointments"]})]}),a.jsxs("div",{className:"mt-2 space-y-1",children:[he.slice(0,3).map(Ee=>a.jsxs("button",{onClick:()=>v&&J(Ee),className:`w-full text-left text-xs p-2 rounded-lg bg-primary-50 text-primary-700 ${v?"hover:bg-primary-100 cursor-pointer":"cursor-default opacity-75"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium",children:de(Ee.time)}),a.jsx("span",{className:"text-[10px] uppercase",children:Ee.status})]}),a.jsxs("div",{className:"truncate flex items-center text-[11px] text-gray-600",children:[a.jsx(vt,{className:"h-3 w-3 mr-1"}),Ee.patientName]})]},Ee.id)),he.length>3&&a.jsxs("div",{className:"text-xs text-gray-500",children:["+",he.length-3," more"]})]})]},Q)})]})}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[a.jsx(Te,{className:"h-5 w-5 mr-2 text-primary-500"}),"Upcoming Appointments"]}),a.jsxs("div",{className:"flex space-x-2 text-sm text-gray-500",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-primary-500 mr-2"}),"Scheduled"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 mr-2"}),"Completed"]})]})]}),b?a.jsx("div",{className:"py-12 text-center text-sm text-gray-500",children:"Loading appointments..."}):N?a.jsx("div",{className:"py-12 text-center text-sm text-red-500",children:"Unable to load appointments. Please try again later."}):R.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Te,{className:"h-12 w-12 mx-auto text-gray-300"}),a.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"No appointments scheduled for this period."})]}):a.jsx("div",{className:"space-y-3",children:R.map(M=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-primary-200 transition",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-primary-50 rounded-lg",children:a.jsx(De,{className:"h-5 w-5 text-primary-500"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:M.patientName}),a.jsxs("div",{className:"flex flex-wrap items-center text-xs text-gray-500 gap-2",children:[a.jsx("span",{children:new Date(`${M.date}T${M.time}`).toLocaleString()}),a.jsx("span",{children:""}),a.jsx("span",{children:M.serviceName}),M.nurseName&&a.jsxs("span",{children:[" Nurse ",M.nurseName]}),M.specialistName&&a.jsxs("span",{children:[" Specialist ",M.specialistName]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${M.status==="completed"?"bg-green-50 text-green-700":M.status==="cancelled"?"bg-red-50 text-red-700":"bg-primary-50 text-primary-700"}`,children:M.status.charAt(0).toUpperCase()+M.status.slice(1)}),v&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>J(M),className:"p-2 text-gray-400 hover:text-primary-500","aria-label":"Edit appointment",children:a.jsx(er,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>B(M.id),className:"p-2 text-gray-400 hover:text-red-500","aria-label":"Delete appointment",children:a.jsx(ht,{className:"h-4 w-4"})})]})]})]})},M.id))})]}),a.jsx(IS,{isOpen:u,onClose:()=>d(!1),onSave:ye,mode:"add",patients:V,nurses:W,services:ee,loading:{patients:A,nurses:S,specialists:O,services:P},specialists:se}),a.jsx(IS,{isOpen:m,onClose:()=>{f(!1),h(null)},onSave:$,appointment:p??void 0,mode:"edit",patients:V,nurses:W,services:ee,loading:{patients:A,nurses:S,specialists:O,services:P},specialists:se})]})}const die=["Nursing","Physiotherapy","Palliative Care","Nutrition","Mental Health","Maternal Care"];function RS({isOpen:e,onClose:t,onSave:r,service:n,mode:s,categories:i}){const[o,l]=E.useState({name:"",description:"",category:"",price:0,duration:60,features:[],image:""}),[c,u]=E.useState(""),[d,m]=E.useState(!1),[f,p]=E.useState(null),h=E.useMemo(()=>{const b=new Set(die);return i==null||i.forEach(N=>{N&&b.add(N)}),Array.from(b)},[i]);E.useEffect(()=>{e||(p(null),m(!1))},[e]),E.useEffect(()=>{s==="edit"&&n?l({name:n.name,description:n.description,category:n.category,price:n.price,duration:n.duration,features:n.features,image:n.image||""}):s==="add"&&l({name:"",description:"",category:"",price:0,duration:60,features:[],image:""})},[s,n,e]);const g=b=>{const{name:N,value:j}=b.target;l(w=>({...w,[N]:N==="price"||N==="duration"?Number(j)||0:j}))},v=()=>{const b=c.trim();b&&!o.features.includes(b)&&(l(N=>({...N,features:[...N.features,b]})),u(""))},x=b=>{l(N=>({...N,features:N.features.filter(j=>j!==b)}))},y=async b=>{b.preventDefault(),m(!0),p(null);try{await r({...o,features:o.features.map(N=>N.trim()).filter(Boolean),price:Number(o.price)||0,duration:Number(o.duration)||0}),t()}catch(N){p((N==null?void 0:N.message)??"Unable to save service. Please try again.")}finally{m(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s==="add"?"Add New Service":"Edit Service"}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(Pe,{className:"h-5 w-5 text-gray-500"})})]}),a.jsxs("form",{onSubmit:y,className:"p-6 space-y-6",children:[f&&a.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:f}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[a.jsx(zd,{className:"h-5 w-5 mr-2 text-primary-600"}),"Basic Information"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Name *"}),a.jsx("input",{type:"text",name:"name",value:o.name,onChange:g,required:!0,className:"input-field",placeholder:"Enter service name",disabled:d})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),a.jsx("textarea",{name:"description",value:o.description,onChange:g,required:!0,rows:3,className:"input-field",placeholder:"Enter service description",disabled:d})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),a.jsxs("select",{name:"category",value:o.category,onChange:g,required:!0,className:"input-field",disabled:d,children:[a.jsx("option",{value:"",children:"Select category"}),h.map(b=>a.jsx("option",{value:b,children:b},b))]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[a.jsx(Gr,{className:"h-5 w-5 mr-2 text-primary-600"}),"Pricing & Duration"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (USD) *"}),a.jsx("input",{type:"number",name:"price",value:o.price,onChange:g,required:!0,min:"0",step:"0.01",className:"input-field",placeholder:"Enter price",disabled:d})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes) *"}),a.jsx("input",{type:"number",name:"duration",value:o.duration,onChange:g,required:!0,min:"15",step:"15",className:"input-field",placeholder:"Enter duration",disabled:d})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[a.jsx(B$,{className:"h-5 w-5 mr-2 text-primary-600"}),"Service Features"]}),a.jsxs("div",{className:"flex",children:[a.jsx("input",{type:"text",value:c,onChange:b=>u(b.target.value),className:"input-field flex-1",placeholder:"Add a new feature",disabled:d}),a.jsxs("button",{type:"button",onClick:v,className:"ml-3 btn-outline whitespace-nowrap",disabled:d,children:[a.jsx(Ie,{className:"h-4 w-4 mr-1"}),"Add Feature"]})]}),o.features.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:o.features.map(b=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-gray-100 text-gray-700",children:[b,a.jsx("button",{type:"button",onClick:()=>x(b),className:"ml-2 text-gray-400 hover:text-gray-600",disabled:d,children:a.jsx(ht,{className:"h-4 w-4"})})]},b))})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[a.jsx(zd,{className:"h-5 w-5 mr-2 text-primary-600"}),"Service Image"]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image URL"}),a.jsx("input",{type:"url",name:"image",value:o.image,onChange:g,className:"input-field",placeholder:"https://example.com/service-image.jpg",disabled:d})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-outline",disabled:d,children:"Cancel"}),a.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:d,children:[a.jsx(hv,{className:"h-4 w-4 mr-2"}),d?"Saving...":s==="add"?"Add Service":"Save Changes"]})]})]})]})}):null}function MS(e){if(!e)return"0 min";const t=Math.floor(e/60),r=e%60;return t&&r?`${t}h ${r}m`:t?`${t}h`:`${r}m`}function mie(){const[e,t]=E.useState(""),[r,n]=E.useState("all"),[s,i]=E.useState(null),[o,l]=E.useState(!1),[c,u]=E.useState(!1),[d,m]=E.useState(null),{addNotification:f}=yt(),{data:p,loading:h,error:g,refetch:v}=xe(()=>dn.getServices({limit:200}),[]),x=(p==null?void 0:p.services)??[],y=E.useMemo(()=>Array.from(new Set(x.map(P=>P.category))).sort(),[x]),b=E.useMemo(()=>x.filter(P=>{const k=P.name.toLowerCase().includes(e.toLowerCase())||P.description.toLowerCase().includes(e.toLowerCase()),O=r==="all"||P.category===r;return k&&O}),[x,e,r]),N=je(dn.createService.bind(dn)),j=je(P=>dn.updateService(P.id,P.data)),w=je(P=>dn.deleteService(P)),A=async P=>{try{await N.mutate(P),f({title:"Service Created",message:`${P.name} has been added successfully.`,type:"success",userId:"system",priority:"medium",category:"service"}),await v(),l(!1)}catch(k){throw f({title:"Unable to create service",message:(k==null?void 0:k.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"}),k}},T=async P=>{if(d)try{await j.mutate({id:d.id,data:P}),f({title:"Service Updated",message:`${P.name??d.name} has been updated.`,type:"success",userId:"system",priority:"medium",category:"service"}),await v(),u(!1),m(null)}catch(k){throw f({title:"Unable to update service",message:(k==null?void 0:k.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"}),k}},S=async(P,k)=>{if(window.confirm(`Are you sure you want to archive ${k}?`))try{await w.mutate(P),f({title:"Service Archived",message:`${k} is no longer available for new appointments.`,type:"info",userId:"system",priority:"medium",category:"service"}),await v()}catch(O){f({title:"Unable to archive service",message:(O==null?void 0:O.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"})}},_=P=>{m(P),u(!0)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Services & Packages"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Explore our comprehensive homecare services"})]}),a.jsx("div",{className:"mt-4 sm:mt-0",children:a.jsxs("button",{onClick:()=>l(!0),className:"btn-primary flex items-center",children:[a.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Add New Service"]})})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"relative",children:[a.jsx(jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search services...",value:e,onChange:P=>t(P.target.value),className:"input-field pl-10"})]})}),a.jsx("div",{children:a.jsxs("select",{value:r,onChange:P=>n(P.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Categories"}),y.map(P=>a.jsx("option",{value:P,children:P},P))]})})]})}),h&&a.jsx("div",{className:"card text-center py-12 text-sm text-gray-500",children:"Loading services..."}),g&&!h&&a.jsx("div",{className:"card text-center py-12 text-sm text-red-500",children:"Unable to load services. Please try again later."}),!h&&!g&&a.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:b.map(P=>a.jsxs("div",{className:"card hover:shadow-lg transition-shadow duration-200",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:P.name}),a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-secondary-100 text-secondary-800",children:P.category})]}),a.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:P.description}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Gr,{className:"h-4 w-4 mr-1"}),"$",P.price.toFixed(2)]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(De,{className:"h-4 w-4 mr-1"}),MS(P.duration)]})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Or,{className:"h-4 w-4 mr-1"}),P.features.length," features included"]})]}),a.jsxs("div",{className:"mt-4 flex space-x-2",children:[a.jsxs("button",{onClick:()=>i(P),className:"flex-1 btn-outline",children:[a.jsx(Bt,{className:"h-4 w-4 mr-2"}),"View Details"]}),a.jsx("button",{onClick:()=>_(P),className:"btn-secondary",children:a.jsx(er,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>S(P.id,P.name),className:"btn-outline text-red-600 hover:text-red-700 hover:bg-red-50 border-red-300",children:a.jsx(ht,{className:"h-4 w-4"})})]})]},P.id))}),s&&a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>i(null)}),a.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[a.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:s.name}),a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-secondary-100 text-secondary-800 mt-1",children:s.category})]}),a.jsx("button",{onClick:()=>i(null),className:"text-gray-400 hover:text-gray-600",children:a.jsx(Pe,{className:"h-6 w-6"})})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:s.description}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Gr,{className:"h-4 w-4 mr-2"}),"$",s.price.toFixed(2)]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(De,{className:"h-4 w-4 mr-2"}),MS(s.duration)]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Features Included:"}),a.jsx("ul",{className:"space-y-1",children:s.features.map((P,k)=>a.jsxs("li",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Cl,{className:"h-3 w-3 text-yellow-500 mr-2"}),P]},k))})]})]}),a.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[a.jsx("button",{className:"w-full btn-primary sm:ml-3 sm:w-auto",children:"Book This Service"}),a.jsx("button",{onClick:()=>i(null),className:"mt-3 w-full btn-outline sm:mt-0 sm:w-auto",children:"Close"})]})]})]})}),b.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400",children:a.jsx(jt,{className:"h-12 w-12"})}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No services found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your search or filter criteria."})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Service Categories"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:y.map(P=>{const k=x.filter(C=>C.category===P),O=Math.round(k.reduce((C,D)=>C+D.price,0)/k.length);return a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:P}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[k.length," services"]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["From $",O,"/hour"]})]},P)})})]}),a.jsx(RS,{isOpen:o,onClose:()=>l(!1),onSave:A,mode:"add",categories:y}),a.jsx(RS,{isOpen:c,onClose:()=>{u(!1),m(null)},onSave:T,service:d,mode:"edit",categories:y})]})}const DS=e=>({patientId:(e==null?void 0:e.patientId)||"",patientName:(e==null?void 0:e.patientName)||"",serviceId:(e==null?void 0:e.serviceId)||"",serviceName:(e==null?void 0:e.serviceName)||"",amount:(e==null?void 0:e.amount)||0,date:(e==null?void 0:e.date)||new Date().toISOString().split("T")[0],dueDate:(e==null?void 0:e.dueDate)||new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],status:(e==null?void 0:e.status)||"pending",description:(e==null?void 0:e.description)||""});function LS({isOpen:e,onClose:t,onSave:r,invoice:n,mode:s,patients:i,services:o}){const[l,c]=E.useState(DS(n)),[u,d]=E.useState(!1),[m,f]=E.useState(null);E.useEffect(()=>{e&&(d(!1),f(null),c(DS(n)))},[n,s,e]);const p=x=>{const{name:y,value:b}=x.target;c(N=>({...N,[y]:y==="amount"?Number(b):b}))},h=x=>{const y=x.target.value,b=i.find(N=>N.id===y);c(N=>({...N,patientId:y,patientName:(b==null?void 0:b.name)??""}))},g=x=>{const y=x.target.value,b=o.find(N=>N.id===y);c(N=>({...N,serviceId:y,serviceName:(b==null?void 0:b.name)??"",amount:(b==null?void 0:b.price)??N.amount}))},v=async x=>{x.preventDefault(),d(!0),f(null);try{await r({...l,amount:Number(l.amount)}),d(!1),t()}catch(y){d(!1),f((y==null?void 0:y.message)??"Unable to save invoice. Please try again.")}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s==="add"?"Create New Invoice":"Edit Invoice"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Pe,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:v,className:"p-6 space-y-6",children:[m&&a.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded text-sm text-red-700",children:m}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient *"}),a.jsxs("select",{name:"patientId",value:l.patientId,onChange:h,required:!0,className:"input-field",children:[a.jsx("option",{value:"",children:"Select a patient"}),i.map(x=>a.jsxs("option",{value:x.id,children:[x.name," - ",x.condition]},x.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service *"}),a.jsxs("select",{name:"serviceId",value:l.serviceId,onChange:g,required:!0,className:"input-field",children:[a.jsx("option",{value:"",children:"Select a service"}),o.map(x=>a.jsxs("option",{value:x.id,children:[x.name," - $",x.price]},x.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount ($) *"}),a.jsx("input",{type:"number",name:"amount",value:l.amount,onChange:p,required:!0,min:"0",step:"0.01",className:"input-field",placeholder:"Enter invoice amount"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Invoice Date *"}),a.jsx("input",{type:"date",name:"date",value:l.date,onChange:p,required:!0,className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date *"}),a.jsx("input",{type:"date",name:"dueDate",value:l.dueDate,onChange:p,required:!0,className:"input-field"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),a.jsxs("select",{name:"status",value:l.status,onChange:p,required:!0,className:"input-field",children:[a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"paid",children:"Paid"}),a.jsx("option",{value:"overdue",children:"Overdue"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),a.jsx("textarea",{name:"description",value:l.description,onChange:p,required:!0,rows:4,className:"input-field",placeholder:"Enter invoice description and details"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:u,children:u?"Saving...":s==="add"?"Create Invoice":"Update Invoice"})]})]})]})}):null}function fie(){const[e,t]=E.useState(""),[r,n]=E.useState("all"),[s,i]=E.useState("all"),[o,l]=E.useState(!1),[c,u]=E.useState(!1),[d,m]=E.useState(!1),[f,p]=E.useState(null),{addNotification:h}=yt(),{data:g,loading:v,error:x,refetch:y}=xe(()=>wa.getInvoices({limit:200}),[]),{data:b}=xe(()=>zt.getPatients({limit:200}),[]),{data:N}=xe(()=>dn.getServices({limit:200}),[]),j=(g==null?void 0:g.invoices)??[],w=(b==null?void 0:b.patients)??[],A=(N==null?void 0:N.services)??[],T=je(wa.createInvoice.bind(wa)),S=je(V=>wa.updateInvoice(V.id,V.data)),_=je(wa.deleteInvoice.bind(wa)),P=E.useMemo(()=>j.filter(V=>{var ye,$,B;const W=(((ye=V.patientName)==null?void 0:ye.toLowerCase())||"").includes(e.toLowerCase())||((($=V.serviceName)==null?void 0:$.toLowerCase())||"").includes(e.toLowerCase())||(((B=V.id)==null?void 0:B.toLowerCase())||"").includes(e.toLowerCase()),ee=r==="all"||V.status===r;let se=!0;if(s!=="all"){const J=new Date(V.date),X=new Date,ie=new Date(X.getTime()-30*24*60*60*1e3);s==="last30"?se=J>=ie:s==="overdue"&&(se=V.status==="overdue")}return W&&ee&&se}),[j,e,r,s]),k=P.reduce((V,W)=>V+W.amount,0),O=P.filter(V=>V.status==="paid").reduce((V,W)=>V+W.amount,0),C=P.filter(V=>V.status==="pending").reduce((V,W)=>V+W.amount,0),D=P.filter(V=>V.status==="overdue").reduce((V,W)=>V+W.amount,0),U=async V=>{try{await T.mutate(V),te.success(`Invoice for ${V.patientName} has been created successfully.`),h({title:"Invoice created",message:`${V.patientName}'s invoice has been created.`,type:"success",userId:"system",priority:"medium",category:"system"}),l(!1),await y()}catch(W){throw te.error((W==null?void 0:W.message)??"Failed to create invoice. Please try again."),h({title:"Unable to create invoice",message:(W==null?void 0:W.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"}),W}},z=async V=>{if(f)try{await S.mutate({id:f.id,data:V}),te.success(`Invoice for ${V.patientName} has been updated successfully.`),h({title:"Invoice updated",message:`${V.patientName}'s invoice has been updated.`,type:"success",userId:"system",priority:"medium",category:"system"}),u(!1),p(null),await y()}catch(W){throw te.error((W==null?void 0:W.message)??"Failed to update invoice. Please try again."),h({title:"Unable to update invoice",message:(W==null?void 0:W.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"}),W}},I=async(V,W)=>{if(window.confirm(`Are you sure you want to delete ${W}'s invoice?`))try{await _.mutate(V),te.success(`Invoice for ${W} has been deleted successfully.`),h({title:"Invoice deleted",message:`Invoice for ${W} has been removed.`,type:"info",userId:"system",priority:"medium",category:"system"}),await y()}catch(ee){te.error((ee==null?void 0:ee.message)??"Failed to delete invoice. Please try again."),h({title:"Unable to delete invoice",message:(ee==null?void 0:ee.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"})}},R=V=>{p(V),m(!0)},F=V=>{const W=window.open("","_blank");if(!W){te.error("Please allow popups to print invoices.");return}const ee=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Invoice ${V.id}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              max-width: 800px;
              margin: 0 auto;
              padding: 20px;
            }
            .header {
              border-bottom: 2px solid #333;
              padding-bottom: 20px;
              margin-bottom: 30px;
            }
            .header h1 {
              margin: 0;
              color: #333;
            }
            .invoice-info {
              display: flex;
              justify-content: space-between;
              margin-bottom: 30px;
            }
            .info-section {
              flex: 1;
            }
            .info-section h3 {
              margin-top: 0;
              color: #666;
            }
            .info-section p {
              margin: 5px 0;
            }
            table {
              width: 100%;
              border-collapse: collapse;
              margin: 20px 0;
            }
            th, td {
              padding: 12px;
              text-align: left;
              border-bottom: 1px solid #ddd;
            }
            th {
              background-color: #f5f5f5;
              font-weight: bold;
            }
            .total {
              text-align: right;
              margin-top: 20px;
            }
            .total-amount {
              font-size: 24px;
              font-weight: bold;
              color: #333;
            }
            .status {
              display: inline-block;
              padding: 5px 15px;
              border-radius: 5px;
              font-weight: bold;
              text-transform: uppercase;
            }
            .status-paid { background-color: #d4edda; color: #155724; }
            .status-pending { background-color: #fff3cd; color: #856404; }
            .status-overdue { background-color: #f8d7da; color: #721c24; }
            @media print {
              body { margin: 0; }
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>INVOICE</h1>
            <p>Invoice #${V.id}</p>
          </div>
          
          <div class="invoice-info">
            <div class="info-section">
              <h3>Bill To:</h3>
              <p><strong>${V.patientName||"N/A"}</strong></p>
              <p>Invoice Date: ${new Date(V.date).toLocaleDateString()}</p>
              <p>Due Date: ${new Date(V.dueDate).toLocaleDateString()}</p>
            </div>
            <div class="info-section">
              <h3>Status:</h3>
              <span class="status status-${V.status}">${V.status}</span>
            </div>
          </div>
          
          <table>
            <thead>
              <tr>
                <th>Description</th>
                <th>Service</th>
                <th>Amount</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>${V.description||"N/A"}</td>
                <td>${V.serviceName||"N/A"}</td>
                <td>$${V.amount.toFixed(2)}</td>
              </tr>
            </tbody>
          </table>
          
          <div class="total">
            <div class="total-amount">Total: $${V.amount.toFixed(2)}</div>
          </div>
          
          <div class="no-print" style="margin-top: 30px; text-align: center;">
            <button onclick="window.print()" style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer;">
              Print Invoice
            </button>
          </div>
        </body>
      </html>
    `;W.document.write(ee),W.document.close(),te.success("Invoice opened in new window. Use your browser's print function to save as PDF.")};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Billing & Invoices"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage invoices and payment tracking"})]}),a.jsx("div",{className:"mt-4 sm:mt-0",children:a.jsxs("button",{onClick:()=>l(!0),className:"btn-primary flex items-center",children:[a.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Create Invoice"]})})]}),x&&a.jsxs("div",{className:"card text-sm text-red-500 flex items-center gap-2",children:[a.jsx(Ga,{className:"h-4 w-4"})," Unable to load invoices. Please try again later."]}),a.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-blue-100",children:a.jsx(Gr,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Amount"}),a.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",k.toFixed(2)]})]})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-green-100",children:a.jsx(Gr,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Paid"}),a.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",O.toFixed(2)]})]})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-yellow-100",children:a.jsx(Gr,{className:"h-6 w-6 text-yellow-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),a.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",C.toFixed(2)]})]})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-red-100",children:a.jsx(Gr,{className:"h-6 w-6 text-red-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),a.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",D.toFixed(2)]})]})]})})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"relative",children:[a.jsx(jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search invoices...",value:e,onChange:V=>t(V.target.value),className:"input-field pl-10"})]})}),a.jsx("div",{children:a.jsxs("select",{value:r,onChange:V=>n(V.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"paid",children:"Paid"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"overdue",children:"Overdue"})]})}),a.jsx("div",{children:a.jsxs("select",{value:s,onChange:V=>i(V.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Time"}),a.jsx("option",{value:"last30",children:"Last 30 Days"}),a.jsx("option",{value:"overdue",children:"Overdue Only"})]})})]})}),v?a.jsx("div",{className:"card text-sm text-gray-500",children:"Loading invoices..."}):a.jsx("div",{className:"card",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Patient"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P.map(V=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ur,{className:"h-4 w-4 text-gray-400 mr-2"}),a.jsx("div",{className:"text-sm font-medium text-gray-900",children:V.id})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(vt,{className:"h-4 w-4 text-gray-400 mr-2"}),a.jsx("div",{className:"text-sm text-gray-900",children:V.patientName})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900",children:V.serviceName}),a.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:V.description})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["$",V.amount.toFixed(2)]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Te,{className:"h-4 w-4 text-gray-400 mr-2"}),a.jsx("div",{className:"text-sm text-gray-900",children:new Date(V.date).toLocaleDateString()})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Te,{className:"h-4 w-4 text-gray-400 mr-2"}),a.jsx("div",{className:"text-sm text-gray-900",children:new Date(V.dueDate).toLocaleDateString()})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`status-badge ${V.status==="paid"?"status-paid":V.status==="pending"?"status-pending":"status-overdue"}`,children:V.status})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[a.jsxs("button",{onClick:()=>R(V),className:"text-primary-600 hover:text-primary-900 mr-4",children:[a.jsx(Bt,{className:"h-4 w-4 inline mr-1"}),"View"]}),a.jsxs("button",{onClick:()=>F(V),className:"text-secondary-600 hover:text-secondary-900 mr-4",children:[a.jsx(ff,{className:"h-4 w-4 inline mr-1"}),"PDF"]}),a.jsxs("button",{onClick:()=>{p(V),u(!0)},className:"text-blue-600 hover:text-blue-800 mr-4",children:[a.jsx(er,{className:"h-4 w-4 inline mr-1"}),"Edit"]}),a.jsxs("button",{onClick:()=>I(V.id,V.patientName),className:"text-red-600 hover:text-red-800",children:[a.jsx(ht,{className:"h-4 w-4 inline mr-1"}),"Delete"]})]})]},V.id))})]})})}),P.length===0&&!v&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400",children:a.jsx(jt,{className:"h-12 w-12"})}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No invoices found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your search or filter criteria."})]}),a.jsx(LS,{isOpen:o,onClose:()=>l(!1),onSave:U,mode:"add",patients:w,services:A}),a.jsx(LS,{isOpen:c,onClose:()=>{u(!1),p(null)},onSave:z,invoice:f,mode:"edit",patients:w,services:A}),d&&f&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsxs("div",{className:"w-full max-w-3xl max-h-[90vh] overflow-y-auto rounded-xl bg-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b px-6 py-4 sticky top-0 bg-white z-10",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Invoice Details"}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Invoice #",f.id]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{onClick:()=>F(f),className:"btn-outline flex items-center",title:"Print/Download PDF",children:[a.jsx(R$,{className:"h-4 w-4 mr-2"}),"Print"]}),a.jsx("button",{type:"button",className:"rounded-full p-2 text-gray-400 transition hover:bg-gray-100 hover:text-gray-600",onClick:()=>{m(!1),p(null)},"aria-label":"Close",children:a.jsx(Pe,{className:"h-5 w-5"})})]})]}),a.jsxs("div",{className:"px-6 py-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Bill To"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:f.patientName}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Patient ID: ",f.patientId]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Invoice Information"}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:"text-sm text-gray-900",children:[a.jsx("span",{className:"font-medium",children:"Date:"})," ",new Date(f.date).toLocaleDateString()]}),a.jsxs("p",{className:"text-sm text-gray-900",children:[a.jsx("span",{className:"font-medium",children:"Due Date:"})," ",new Date(f.dueDate).toLocaleDateString()]}),a.jsxs("p",{className:"text-sm",children:[a.jsx("span",{className:"font-medium text-gray-900",children:"Status:"})," ",a.jsx("span",{className:`status-badge ${f.status==="paid"?"status-paid":f.status==="pending"?"status-pending":"status-overdue"}`,children:f.status})]})]})]})]}),a.jsxs("div",{className:"border-t pt-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-4",children:"Service Details"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:f.serviceName}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:f.description})]}),a.jsx("div",{className:"text-right",children:a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",f.amount.toFixed(2)]})})]})})]}),a.jsx("div",{className:"border-t pt-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total Amount"}),a.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["$",f.amount.toFixed(2)]})]})}),a.jsxs("div",{className:"border-t pt-4 flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>{m(!1),p(null)},className:"btn-outline",children:"Close"}),a.jsxs("button",{onClick:()=>{p(f),m(!1),u(!0)},className:"btn-primary flex items-center",children:[a.jsx(er,{className:"h-4 w-4 mr-2"}),"Edit Invoice"]})]})]})]})})]})}function fl(e){if(!e)return{};if(e.data)return e.data;const{data:t,...r}=e;return r}class pie{async getRevenueReport(t){const r=await H.get(q.REPORTS.REVENUE,{params:t});return fl(r.data)}async getAppointmentReport(t){const r=await H.get(q.REPORTS.APPOINTMENTS,{params:t});return fl(r.data)}async getPatientSatisfactionReport(t){const r=await H.get(q.REPORTS.PATIENT_SATISFACTION,{params:t});return fl(r.data)}async getNurseUtilizationReport(t){const r=await H.get(q.REPORTS.NURSE_UTILIZATION,{params:t}),n=fl(r.data);return Array.isArray(n)?n:[]}async getReportTemplates(){const t=await H.get(q.REPORTS.TEMPLATES),r=fl(t.data);return Array.isArray(r)?r:[]}}const wh=new pie;function O0(e){const t=new Date(e);return{label:`${t.toLocaleString("default",{month:"short"})} ${t.getFullYear()}`,timestamp:t.getTime()}}function hie(e=[]){const t=new Map;return e.forEach(r=>{const n=r.dueDate??r.date??r.createdAt??new Date().toISOString(),{label:s,timestamp:i}=O0(n),o=t.get(s)??{outstanding:0,timestamp:i};o.outstanding+=r.amount,o.timestamp=i,t.set(s,o)}),t}function xie(e=[]){const t=new Map;return e.forEach(r=>{const n=r.date??r.createdAt??new Date().toISOString(),{label:s,timestamp:i}=O0(n),o=t.get(s)??{revenue:0,timestamp:i};o.revenue+=r.amount,o.timestamp=i,t.set(s,o)}),t}function yie(e=[],t=[],r=[]){const n=new Map,s=(i,o)=>{i.forEach(l=>{const c=l.createdAt??l.date??new Date().toISOString(),{label:u,timestamp:d}=O0(c),m=n.get(u)??{label:u,timestamp:d,patients:0,appointments:0,revenue:0};o(m,l),m.timestamp=d,n.set(u,m)})};return s(e,(i,o)=>{const l=typeof o._count=="number"?o._count:1;i.patients+=l}),s(t,(i,o)=>{const l=typeof o._count=="number"?o._count:1;i.appointments+=l}),s(r,(i,o)=>{var c;const l=((c=o._sum)==null?void 0:c.amount)??0;i.revenue+=l}),Array.from(n.values()).sort((i,o)=>i.timestamp-o.timestamp).slice(-6)}const BS=["#0D6EFD","#20B486","#6F42C1","#FD7E14","#DC3545","#20C997"];function gie(){var _,P,k,O;const[e,t]=E.useState("last30"),{data:r,loading:n}=xe(()=>Vn.getOverview(),[]),{data:s,loading:i}=xe(()=>Vn.getTrends(),[]),{data:o,loading:l}=xe(()=>Vn.getPerformance(),[]),{data:c,loading:u}=xe(()=>Vn.getServicePopularity(),[]),{data:d,loading:m}=xe(()=>Vn.getAppointmentAnalytics(),[]),{data:f,loading:p}=xe(()=>wh.getRevenueReport(),[]),{data:h,loading:g}=xe(()=>wh.getNurseUtilizationReport(),[]),{data:v,loading:x}=xe(()=>wh.getPatientSatisfactionReport(),[]),y=n||i||l||u||m||p||g||x,b=E.useMemo(()=>yie((s==null?void 0:s.patients)??[],(s==null?void 0:s.appointments)??[],(s==null?void 0:s.revenue)??[]),[s]),N=E.useMemo(()=>{const C=xie(f==null?void 0:f.payments),D=hie(f==null?void 0:f.pendingInvoices),U=new Map;return C.forEach((z,I)=>{U.set(I,{label:I,timestamp:z.timestamp,revenue:z.revenue,outstanding:0})}),D.forEach((z,I)=>{const R=U.get(I);R?R.outstanding=z.outstanding:U.set(I,{label:I,timestamp:z.timestamp,revenue:0,outstanding:z.outstanding})}),Array.from(U.values()).sort((z,I)=>z.timestamp-I.timestamp).slice(-6)},[f]),j=E.useMemo(()=>(c??[]).map((C,D)=>{var z,I;const U=typeof C.count=="number"?C.count:((z=C.count)==null?void 0:z.serviceId)??0;return{name:((I=C.service)==null?void 0:I.name)??`Service ${D+1}`,value:U}}),[c]),w=E.useMemo(()=>((d==null?void 0:d.byStatus)??[]).map(C=>{var I;const U=(C.status??"unknown").toString().toLowerCase().split("-").map(R=>R.charAt(0).toUpperCase()+R.slice(1)).join(" "),z=typeof C._count=="number"?C._count:((I=C._count)==null?void 0:I.status)??0;return{status:U,count:z}}),[d]),A=E.useMemo(()=>(h??[]).filter(C=>C==null?void 0:C.nurse).sort((C,D)=>(D.appointmentCount??0)-(C.appointmentCount??0)).slice(0,3).map(C=>({name:C.nurse.name,appointments:C.appointmentCount,utilization:C.utilization})),[h]),T=E.useMemo(()=>(c??[]).map(C=>{var U,z;const D=typeof C.count=="number"?C.count:((U=C.count)==null?void 0:U.serviceId)??0;return{name:((z=C.service)==null?void 0:z.name)??"Service",requests:D}}).sort((C,D)=>D.requests-C.requests).slice(0,3),[c]),S=E.useMemo(()=>{const C=[];return v!=null&&v.averageRating&&C.push(`Average patient satisfaction is ${v.averageRating.toFixed(1)}/5.`),o!=null&&o.completedRate&&C.push(`Appointment completion rate at ${o.completedRate.toFixed(0)}%.`),f!=null&&f.totalRevenue&&C.push(`Completed payments total $${f.totalRevenue.toLocaleString(void 0,{maximumFractionDigits:0})}.`),C},[v,o,f]);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports & Analytics"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Comprehensive insights into your homecare operations"})]}),a.jsxs("div",{className:"mt-4 sm:mt-0 flex space-x-2",children:[a.jsxs("select",{value:e,onChange:C=>t(C.target.value),className:"input-field",children:[a.jsx("option",{value:"last7",children:"Last 7 Days"}),a.jsx("option",{value:"last30",children:"Last 30 Days"}),a.jsx("option",{value:"last90",children:"Last 90 Days"}),a.jsx("option",{value:"lastyear",children:"Last Year"})]}),a.jsxs("button",{className:"btn-primary",children:[a.jsx(ff,{className:"h-4 w-4 mr-2"}),"Export Report"]})]})]}),y&&a.jsxs("div",{className:"card flex items-center justify-center py-12 text-gray-500",children:[a.jsx(rt,{className:"h-5 w-5 mr-2 animate-spin"}),"Loading analytics..."]}),!y&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-blue-100",children:a.jsx(Or,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Patients"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:((_=r==null?void 0:r.totalPatients)==null?void 0:_.toLocaleString())??"0"})]})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-green-100",children:a.jsx(Wr,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Appointments"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:((P=r==null?void 0:r.totalAppointments)==null?void 0:P.toLocaleString())??"0"})]})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-purple-100",children:a.jsx(oc,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Nurses"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:((k=r==null?void 0:r.totalNurses)==null?void 0:k.toLocaleString())??"0"})]})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-orange-100",children:a.jsx(Gr,{className:"h-6 w-6 text-orange-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),a.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",((O=r==null?void 0:r.totalRevenue)==null?void 0:O.toLocaleString())??"0"]})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Patients & Appointments Trend"}),a.jsx(oc,{className:"h-5 w-5 text-primary-500"})]}),a.jsx("div",{className:"h-64",children:a.jsx(vl,{width:"100%",height:"100%",children:a.jsxs(WC,{data:b,children:[a.jsx(Dl,{strokeDasharray:"3 3"}),a.jsx(ea,{dataKey:"label"}),a.jsx(ta,{}),a.jsx(pr,{}),a.jsx(Ys,{type:"monotone",dataKey:"patients",stroke:"#0D6EFD",strokeWidth:2,name:"New Patients"}),a.jsx(Ys,{type:"monotone",dataKey:"appointments",stroke:"#20B486",strokeWidth:2,name:"Appointments"})]})})})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Revenue vs Outstanding"}),a.jsx(Gr,{className:"h-5 w-5 text-green-500"})]}),a.jsx("div",{className:"h-64",children:a.jsx(vl,{width:"100%",height:"100%",children:a.jsxs(Wse,{data:N,children:[a.jsx(Dl,{strokeDasharray:"3 3"}),a.jsx(ea,{dataKey:"label"}),a.jsx(ta,{}),a.jsx(pr,{formatter:C=>[`$${Number(C).toLocaleString()}`,""]}),a.jsx(ua,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#20B486",fill:"#20B486",fillOpacity:.6,name:"Payments"}),a.jsx(ua,{type:"monotone",dataKey:"outstanding",stackId:"2",stroke:"#DC3545",fill:"#DC3545",fillOpacity:.6,name:"Pending Invoices"})]})})})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Appointment Status Breakdown"}),a.jsx(Te,{className:"h-5 w-5 text-blue-500"})]}),a.jsx("div",{className:"h-64",children:a.jsx(vl,{width:"100%",height:"100%",children:a.jsxs(Vse,{data:w,children:[a.jsx(Dl,{strokeDasharray:"3 3"}),a.jsx(ea,{dataKey:"status",interval:0,angle:-20,textAnchor:"end",height:80}),a.jsx(ta,{}),a.jsx(pr,{}),a.jsx(ri,{dataKey:"count",fill:"#0D6EFD",name:"Appointments"})]})})})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Service Distribution"}),a.jsx(Wr,{className:"h-5 w-5 text-purple-500"})]}),a.jsx("div",{className:"h-64",children:a.jsx(vl,{width:"100%",height:"100%",children:a.jsxs(qse,{children:[a.jsx(xa,{data:j,cx:"50%",cy:"50%",labelLine:!1,label:({name:C,percent:D})=>`${C} ${(D*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:j.map((C,D)=>a.jsx(zf,{fill:BS[D%BS.length]},`cell-${D}`))}),a.jsx(pr,{})]})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Performing Nurses"}),a.jsxs("div",{className:"space-y-3",children:[A.map((C,D)=>{var U,z;return a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:C.name}),a.jsxs("p",{className:"text-xs text-gray-600",children:[C.appointments," appointments"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[((z=(U=C.utilization)==null?void 0:U.toFixed)==null?void 0:z.call(U,0))??0,"%"]}),a.jsx("p",{className:"text-xs text-gray-600",children:"utilization"})]})]},D)}),A.length===0&&a.jsx("p",{className:"text-sm text-gray-500",children:"No nurse analytics available."})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Most Requested Services"}),a.jsxs("div",{className:"space-y-3",children:[T.map((C,D)=>a.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:C.name}),a.jsxs("p",{className:"text-xs text-gray-600",children:[C.requests," requests"]})]})},D)),T.length===0&&a.jsx("p",{className:"text-sm text-gray-500",children:"No service popularity data available."})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Key Insights"}),a.jsx("div",{className:"space-y-3",children:S.length>0?S.map((C,D)=>a.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm text-blue-800",children:C},D)):a.jsx("p",{className:"text-sm text-gray-500",children:"No insights available yet."})})]})]})]})]})}const vie=[{value:"admin",label:"Administrator"},{value:"receptionist",label:"Receptionist"},{value:"doctor",label:"Doctor"},{value:"specialist",label:"Specialist"},{value:"nurse",label:"Nurse"},{value:"physiotherapist",label:"Physiotherapist"},{value:"clinical-psychologist",label:"Clinical Psychologist"},{value:"nutritionist",label:"Nutritionist"},{value:"critical-care-nurse",label:"Critical Care Nurse"},{value:"medical-doctor",label:"Medical Doctor"},{value:"geriatrician",label:"Geriatrician"},{value:"palliative-care-specialist",label:"Palliative Care Specialist"},{value:"senior-midwife",label:"Senior Midwife"},{value:"patient",label:"Patient"}],US={name:"",email:"",password:"",role:"nurse",phone:"",department:"",doctorSpecialization:"",isActive:!0,avatar:""},bie=[{value:"NEUROLOGIST",label:"Neurologist"},{value:"ORTHOPEDIST",label:"Orthopedist"},{value:"PHYSIOTHERAPIST",label:"Physiotherapist"}];function FS({isOpen:e,onClose:t,onSave:r,isSaving:n,user:s,title:i,description:o,hideRoleSelector:l=!1,defaultRole:c="nurse",showSpecialization:u=!1}){const d=!!s,[m,f]=E.useState({...US,role:c}),[p,h]=E.useState(null),[g,v]=E.useState(null),[x,y]=E.useState(null),[b,N]=E.useState(!1),j=i||(d?"Edit User":"Add New User"),w=o||(d?"Update user information and password.":"Provision a new staff or patient account.");if(E.useEffect(()=>{if(e){if(s)if(f({name:s.name||"",email:s.email||"",password:"",role:s.role||"nurse",phone:s.phone||"",department:s.department||"",doctorSpecialization:"",isActive:s.isActive!==!1,avatar:s.avatar||""}),s.avatar){const P=s.avatar.startsWith("http")?s.avatar:`http://51.20.55.20:3007${s.avatar.startsWith("/")?s.avatar:"/"+s.avatar}`;y(P)}else y(null);else f({...US,role:c}),y(null);v(null),h(null),N(!1)}},[e,s,c]),!e)return null;const A=P=>{const{name:k,value:O,type:C}=P.target,D=P.target.checked;f(U=>({...U,[k]:C==="checkbox"?D:O}))},T=async P=>{var C;const k=(C=P.target.files)==null?void 0:C[0];if(!k)return;if(!k.type.startsWith("image/")){h("Please select a valid image file");return}if(k.size>10*1024*1024){h("Image size must be less than 10MB");return}v(k),h(null);const O=new FileReader;O.onloadend=()=>{y(O.result)},O.readAsDataURL(k),N(!0);try{const D=await H.uploadFile(q.UPLOAD.IMAGE,k);if(D.success&&D.data){const z=D.data.url||D.data.url;if(z){const I=z.startsWith("http")?z.replace(/^https?:\/\/[^\/]+/,""):z.startsWith("/")?z:"/"+z;f(V=>({...V,avatar:I}));const F=`http://51.20.55.20:3007${I}`;y(F)}}}catch(D){h((D==null?void 0:D.message)||"Failed to upload image"),v(null),y(null)}finally{N(!1)}},S=()=>{v(null),y(null),f(P=>({...P,avatar:""}))},_=async P=>{if(P.preventDefault(),h(null),!d&&(!m.password||m.password.length<8)){h("Password must be at least 8 characters long.");return}if(d&&m.password&&m.password.length<8){h("Password must be at least 8 characters long.");return}try{const k={name:m.name,email:m.email,phone:m.phone,department:m.department,isActive:m.isActive};u&&m.doctorSpecialization&&(k.doctorSpecialization=m.doctorSpecialization),m.avatar&&(k.avatar=m.avatar),d?m.password&&(k.password=m.password):(k.password=m.password,k.role=m.role),await r(k),t()}catch(k){h((k==null?void 0:k.message)||"Unable to save user.")}};return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40",onClick:t}),a.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-lg mx-4 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"bg-primary-100 text-primary-600 rounded-lg h-10 w-10 flex items-center justify-center",children:a.jsx(yv,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:j}),a.jsx("p",{className:"text-sm text-gray-500",children:w})]})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-xl leading-none","aria-label":"Close modal",children:""})]}),p&&a.jsx("div",{className:"mb-4 p-3 rounded-md bg-red-50 border border-red-200 text-sm text-red-700",children:p}),a.jsxs("form",{className:"space-y-4",onSubmit:_,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),a.jsx("input",{type:"text",name:"name",value:m.name,onChange:A,required:!0,className:"input-field",placeholder:"e.g. Sarah Johnson"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),a.jsx("input",{type:"email",name:"email",value:m.email,onChange:A,required:!0,className:"input-field",placeholder:"user@teamworkhomecare.com"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[!l&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role *"}),a.jsx("select",{name:"role",value:m.role,onChange:A,required:!0,disabled:d||l,className:"input-field disabled:bg-gray-100 disabled:cursor-not-allowed",children:vie.map(P=>a.jsx("option",{value:P.value,children:P.label},P.value))}),d&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Role cannot be changed"})]}),a.jsxs("div",{className:l?"md:col-span-2":"",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),a.jsx("input",{type:"text",name:"department",value:m.department,onChange:A,className:"input-field",placeholder:"e.g. Medical, Cardiology"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Picture"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[x?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:x,alt:"Avatar preview",className:"h-20 w-20 rounded-full object-cover border-2 border-gray-200"}),a.jsx("button",{type:"button",onClick:S,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:a.jsx(Pe,{className:"h-4 w-4"})})]}):a.jsx("div",{className:"h-20 w-20 rounded-full bg-gray-100 flex items-center justify-center border-2 border-dashed border-gray-300",children:a.jsx(Qc,{className:"h-8 w-8 text-gray-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("label",{className:"cursor-pointer",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:T,className:"hidden",disabled:b}),a.jsx("div",{className:"btn-outline flex items-center justify-center",children:b?a.jsxs(a.Fragment,{children:[a.jsx(rt,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Co,{className:"h-4 w-4 mr-2"}),x?"Change Picture":"Upload Picture"]})})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG or GIF (max 10MB)"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specialization *"}),a.jsxs("select",{name:"doctorSpecialization",value:m.doctorSpecialization,onChange:A,required:u,className:"input-field",children:[a.jsx("option",{value:"",children:"Select specialization"}),bie.map(P=>a.jsx("option",{value:P.value,children:P.label},P.value))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",name:"phone",value:m.phone,onChange:A,className:"input-field",placeholder:"+1-555-0100"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:d?"New Password (leave blank to keep current)":"Temporary Password *"}),a.jsx("input",{type:"password",name:"password",value:m.password,onChange:A,required:!d,minLength:8,className:"input-field",placeholder:d?"Leave blank to keep current password":"Minimum 8 characters"})]}),a.jsxs("div",{className:"flex items-center pt-6",children:[a.jsx("input",{type:"checkbox",name:"isActive",id:"isActive",checked:m.isActive,onChange:A,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-700",children:"Active"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[a.jsx("button",{type:"button",className:"btn-outline",onClick:t,disabled:n,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary flex items-center",disabled:n,children:n?a.jsxs(a.Fragment,{children:[a.jsx(rt,{className:"h-4 w-4 mr-2 animate-spin"}),d?"Updating...":"Creating..."]}):d?i!=null&&i.toLowerCase().includes("doctor")?"Update Doctor":"Update User":i!=null&&i.toLowerCase().includes("doctor")?"Create Doctor":"Create User"})]})]})]})]})}function jie(){const{user:e}=st(),[t]=R4(),r=t.get("role"),[n,s]=E.useState(!1),[i,o]=E.useState(!1),[l,c]=E.useState(null),[u,d]=E.useState(null),[m,f]=E.useState(""),[p,h]=E.useState(r?r.toLowerCase():"all"),[g,v]=E.useState("all");E.useEffect(()=>{r&&h(r.toLowerCase())},[r]);const b=(e==null?void 0:e.role)==="admin"||!(p==="specialist"||p==="nurse"),{addNotification:N}=yt(),{data:j,loading:w,error:A,refetch:T}=xe(()=>It.getUsers({role:p!=="all"?p.toUpperCase():void 0,limit:50}),[p]),S=je(It.createUser.bind(It)),_=je(({id:$,payload:B})=>It.updateUser($,B)),P=je(({id:$,isActive:B})=>It.updateUserStatus($,B)),k=je(It.deleteUser.bind(It)),O=(j==null?void 0:j.users)??[],C=E.useMemo(()=>{const $=m.trim().toLowerCase();return O.filter(B=>{const J=!$||B.name.toLowerCase().includes($)||B.email.toLowerCase().includes($)||B.role.toLowerCase().includes($),X=p==="all"||B.role===p,ie=g==="all"||g==="active"&&B.isActive!==!1||g==="inactive"&&B.isActive===!1;return J&&X&&ie})},[O,m,p,g]),D=async $=>{if(!$.role)throw new Error("Role is required");const B={name:$.name,email:$.email,password:$.password,role:$.role,phone:$.phone,department:$.department};try{await S.mutate(B),te.success(`User ${B.name} has been created successfully`),N({title:"User created",message:`${B.name} has been provisioned.`,type:"success",priority:"medium",category:"system",userId:""}),await T()}catch(J){throw te.error((J==null?void 0:J.message)||"Failed to create user"),J}},U=$=>{c($),o(!0)},z=async $=>{if(l)try{const B={name:$.name,email:$.email,phone:$.phone,department:$.department};$.password&&$.password.trim()&&(B.password=$.password),await _.mutate({id:l.id,payload:B}),te.success(`User ${$.name} has been updated successfully`),N({title:"User updated",message:`${$.name}'s information has been updated.`,type:"success",priority:"medium",category:"system",userId:""}),o(!1),c(null),await T()}catch(B){throw te.error((B==null?void 0:B.message)||"Failed to update user"),B}},I=$=>{d($)},R=async()=>{if(u)try{await k.mutate(u.id),te.success(`User ${u.name} has been permanently deleted`),N({title:"User deleted",message:`${u.name} has been permanently removed from the system.`,type:"success",priority:"medium",category:"system",userId:""}),d(null),await T()}catch($){te.error(($==null?void 0:$.message)||"Failed to delete user")}},F=async($,B)=>{await P.mutate({id:$.id,isActive:B}),N({title:"User status updated",message:`${$.name} is now ${B?"active":"inactive"}.`,type:"success",priority:"medium",category:"system",userId:""}),await T()},V=[{value:"all",label:"All Roles"},{value:"admin",label:"Administrator"},{value:"receptionist",label:"Receptionist"},{value:"doctor",label:"Doctor"},{value:"specialist",label:"Specialist"},{value:"nurse",label:"Nurse"}],W=()=>{const $=p;return $==="specialist"?"Specialists":$==="nurse"?"Nurses":$==="receptionist"?"Receptionists":$==="admin"?"Administrators":$==="therapist"?"Therapists":$==="biller"?"Billers":"User Management"},ee=()=>{const $=p;return $==="specialist"?"Manage specialists and their specializations.":$==="nurse"?"Manage nurses and their assignments.":$==="receptionist"?"Manage receptionist staff.":$==="admin"?"Manage system administrators.":$==="therapist"?"Manage therapists and their specializations.":$==="biller"?"Manage billing staff.":"Provision and manage staff and patient access."},ye=p==="specialist"?ic:xv;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center space-x-2",children:[a.jsx(ye,{className:"h-6 w-6 text-primary-500"}),a.jsx("span",{children:W()})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:ee()})]}),b&&a.jsxs("button",{className:"btn-primary flex items-center",onClick:()=>s(!0),children:[a.jsx(yv,{className:"h-4 w-4 mr-2"}),"Add User"]})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{className:"relative w-full md:w-72",children:[a.jsx(jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search users...",value:m,onChange:$=>f($.target.value),className:"input-field pl-10"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(pf,{className:"h-4 w-4 text-gray-400"}),a.jsx("select",{className:"input-field",value:p,onChange:$=>h($.target.value),children:V.map($=>a.jsx("option",{value:$.value,children:$.label},$.value))}),a.jsxs("select",{className:"input-field",value:g,onChange:$=>v($.target.value),children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})}),A&&a.jsx("div",{className:"card bg-red-50 border border-red-200 text-red-700",children:"Unable to load users. Please refresh or try again later."}),a.jsx("div",{className:"card overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx(rt,{className:"h-5 w-5 mr-2 animate-spin"}),"Loading users..."]})})}):C.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:"No users match your current filters."})}):C.map($=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-600 font-semibold",children:$.name.split(" ").map(B=>B[0]).join("").slice(0,2)}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.name}),a.jsx("div",{className:"text-xs text-gray-500 capitalize",children:$.role.replace(/-/g," ")})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:$.email}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 capitalize",children:$.role.replace(/-/g," ")}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:$.department??""}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:$.isActive!==!1?a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:"Active"}):a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600",children:"Inactive"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{className:"text-blue-600 hover:text-blue-800 flex items-center text-xs disabled:opacity-50",onClick:()=>U($),disabled:_.loading,title:"Edit user",children:[a.jsx(er,{className:"h-4 w-4 mr-1"})," Edit"]}),a.jsxs("button",{className:"text-green-600 hover:text-green-800 flex items-center text-xs disabled:opacity-50",onClick:()=>F($,!0),disabled:P.loading||$.isActive!==!1,title:"Activate user",children:[a.jsx(Zt,{className:"h-4 w-4 mr-1"})," Activate"]}),a.jsxs("button",{className:"text-yellow-600 hover:text-yellow-800 flex items-center text-xs disabled:opacity-50",onClick:()=>F($,!1),disabled:P.loading||$.isActive===!1,title:"Deactivate user",children:[a.jsx(Ya,{className:"h-4 w-4 mr-1"})," Deactivate"]}),a.jsxs("button",{className:"text-red-600 hover:text-red-800 flex items-center text-xs disabled:opacity-50",onClick:()=>I($),disabled:k.loading,title:"Delete user permanently",children:[a.jsx(ht,{className:"h-4 w-4 mr-1"})," Delete"]})]}):a.jsx("span",{className:"text-gray-400 text-xs",children:"View only"})})]},$.id))})]})})}),a.jsx(FS,{isOpen:n,onClose:()=>s(!1),onSave:D,isSaving:S.loading}),a.jsx(FS,{isOpen:i,onClose:()=>{o(!1),c(null)},onSave:z,isSaving:_.loading,user:l}),u&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40",onClick:()=>d(null)}),a.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-md mx-4 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"bg-red-100 text-red-600 rounded-lg h-10 w-10 flex items-center justify-center",children:a.jsx(ht,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Delete User"}),a.jsx("p",{className:"text-sm text-gray-500",children:"This action cannot be undone"})]})]}),a.jsx("button",{onClick:()=>d(null),className:"text-gray-400 hover:text-gray-600 text-xl leading-none","aria-label":"Close modal",children:""})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("p",{className:"text-sm text-gray-700",children:["Are you sure you want to permanently delete ",a.jsx("strong",{children:u.name}),"?"]}),a.jsx("p",{className:"text-sm text-red-600 mt-2",children:"This will permanently remove the user and all associated data from the system."})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",className:"btn-outline",onClick:()=>d(null),disabled:k.loading,children:"Cancel"}),a.jsx("button",{type:"button",className:"btn-primary bg-red-600 hover:bg-red-700 text-white",onClick:R,disabled:k.loading,children:k.loading?a.jsxs(a.Fragment,{children:[a.jsx(rt,{className:"h-4 w-4 mr-2 animate-spin"}),"Deleting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ht,{className:"h-4 w-4 mr-2"}),"Delete Permanently"]})})]})]})]})]})}const Nie={ACTIVE:"active",INACTIVE:"inactive",ON_LEAVE:"on-leave"},wie={active:"ACTIVE",inactive:"INACTIVE","on-leave":"ON_LEAVE"};function Zu(e){var r;const t=(r=e.status)==null?void 0:r.toUpperCase();return{...e,status:Nie[t]??"active",hireDate:e.hireDate?new Date(e.hireDate).toISOString().split("T")[0]:""}}function zS(e){const t={...e};return e.status&&(t.status=wie[e.status]),e.hireDate&&(t.hireDate=new Date(e.hireDate).toISOString()),t}class Sie{async getTherapists(t){const r=await H.get(q.THERAPISTS.BASE,{params:t});return{therapists:Array.isArray(r.data)?r.data.map(Zu):[],pagination:r.pagination}}async getTherapist(t){const r=await H.get(q.THERAPISTS.BY_ID(t));return Zu(r.data)}async createTherapist(t){const r=await H.post(q.THERAPISTS.BASE,zS(t));return Zu(r.data)}async updateTherapist(t,r){const n=await H.put(q.THERAPISTS.BY_ID(t),zS(r));return Zu(n.data)}async deleteTherapist(t){await H.delete(q.THERAPISTS.BY_ID(t))}}const ps=new Sie;class Aie{async getSpecializations(t){const r=await H.get(q.SPECIALIZATIONS.BASE,{params:t});return Array.isArray(r.data)?r.data:[]}async getSpecialization(t){return(await H.get(q.SPECIALIZATIONS.BY_ID(t))).data}async createSpecialization(t){return(await H.post(q.SPECIALIZATIONS.BASE,t)).data}async updateSpecialization(t,r){return(await H.put(q.SPECIALIZATIONS.BY_ID(t),r)).data}async deleteSpecialization(t){await H.delete(q.SPECIALIZATIONS.BY_ID(t))}}const Sa=new Aie,Sh={name:"",email:"",password:"",phone:"",specialization:"",licenseNumber:"",experience:0,certifications:[],hourlyRate:0,bio:"",hireDate:new Date().toISOString().split("T")[0],avatar:""};function HS({isOpen:e,onClose:t,onSave:r,therapist:n,mode:s,isSaving:i=!1}){const[o,l]=E.useState(Sh),[c,u]=E.useState(null),[d,m]=E.useState(null),[f,p]=E.useState(null),[h,g]=E.useState(!1),[v,x]=E.useState(""),[y,b]=E.useState([]),[N,j]=E.useState(!0),w=s==="edit"&&n;E.useEffect(()=>{e&&(async()=>{try{j(!0);const C=await Sa.getSpecializations({type:"THERAPIST"});b(C)}catch(C){console.error("Failed to load specializations:",C)}finally{j(!1)}})()},[e]),E.useEffect(()=>{if(!e){l(Sh),u(null),m(null),p(null),g(!1);return}w&&n?(async()=>{try{const C=await ps.getTherapist(n.id);if(l({name:C.name||"",email:C.email||"",password:"",phone:C.phone||"",specialization:C.specialization||"",licenseNumber:C.licenseNumber||"",experience:C.experience||0,certifications:C.certifications||[],hourlyRate:C.hourlyRate||0,bio:C.bio||"",hireDate:C.hireDate?new Date(C.hireDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],avatar:C.avatar||""}),C.avatar){const D=C.avatar.startsWith("http")?C.avatar:`http://51.20.55.20:3007${C.avatar.startsWith("/")?C.avatar:"/"+C.avatar}`;p(D)}}catch{l({name:n.name||"",email:n.email||"",password:"",phone:n.phone||"",specialization:n.specialization||n.therapistSpecialization||"",licenseNumber:n.licenseNumber||"",experience:n.experience||0,certifications:n.certifications||[],hourlyRate:n.hourlyRate||0,bio:n.bio||"",hireDate:n.hireDate?new Date(n.hireDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],avatar:n.avatar||""})}})():(l(Sh),p(null))},[e,w,n]);const A=O=>{const{name:C,value:D,type:U}=O.target;l(z=>({...z,[C]:U==="checkbox"?O.target.checked:U==="number"?Number(D):D}))},T=()=>{v.trim()&&(l(O=>({...O,certifications:[...O.certifications,v.trim()]})),x(""))},S=O=>{l(C=>({...C,certifications:C.certifications.filter((D,U)=>U!==O)}))},_=async O=>{var U;const C=(U=O.target.files)==null?void 0:U[0];if(!C)return;if(!C.type.startsWith("image/")){u("Please select a valid image file");return}if(C.size>10*1024*1024){u("Image size must be less than 10MB");return}m(C),u(null);const D=new FileReader;D.onloadend=()=>{p(D.result)},D.readAsDataURL(C),g(!0);try{const z=await H.uploadFile(q.UPLOAD.IMAGE,C);if(z.success&&z.data){const R=z.data.url||z.data.url;if(R){const F=R.startsWith("http")?R.replace(/^https?:\/\/[^\/]+/,""):R.startsWith("/")?R:"/"+R;l(V=>({...V,avatar:F}))}}}catch(z){u((z==null?void 0:z.message)||"Failed to upload image"),m(null),p(null)}finally{g(!1)}},P=()=>{m(null),p(null),l(O=>({...O,avatar:""}))},k=async O=>{if(O.preventDefault(),u(null),s==="add"&&(!o.password||o.password.length<8)){u("Password must be at least 8 characters long.");return}if(s==="edit"&&o.password&&o.password.length<8){u("Password must be at least 8 characters long.");return}if(!o.name||!o.email){u("Name and email are required.");return}if(s==="add"&&!o.specialization){u("Therapist specialization is required.");return}if(s==="add"&&(!o.experience||o.experience<0)){u("Experience must be a valid number.");return}if(s==="add"&&(!o.hourlyRate||o.hourlyRate<=0)){u("Hourly rate must be greater than 0.");return}if(s==="add"&&!o.hireDate){u("Hire date is required.");return}try{await r(o),t()}catch(C){u((C==null?void 0:C.message)??"Unable to save therapist. Please try again.")}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"bg-primary-100 text-primary-600 rounded-lg h-10 w-10 flex items-center justify-center",children:a.jsx(yv,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s==="add"?"Add New Therapist":"Edit Therapist"}),a.jsx("p",{className:"text-sm text-gray-500",children:s==="add"?"Create a new therapist account with login credentials":"Update therapist information"})]})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Pe,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:k,className:"p-6 space-y-6",children:[c&&a.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:c}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Basic Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),a.jsx("input",{type:"text",name:"name",value:o.name,onChange:A,required:!0,className:"input-field",placeholder:"Enter full name",disabled:i})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),a.jsx("input",{type:"email",name:"email",value:o.email,onChange:A,required:!0,className:"input-field",placeholder:"Enter email address",disabled:i||w}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will be used for login"})]}),s==="add"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),a.jsx("input",{type:"password",name:"password",value:o.password,onChange:A,required:s==="add",minLength:8,className:"input-field",placeholder:"Minimum 8 characters",disabled:i}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Provide this to the therapist for login"})]}),s==="edit"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password (optional)"}),a.jsx("input",{type:"password",name:"password",value:o.password,onChange:A,minLength:8,className:"input-field",placeholder:"Leave blank to keep current password",disabled:i}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only fill if you want to change the password"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:A,className:"input-field",placeholder:"Enter phone number",disabled:i})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Professional Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Therapist Specialization *"}),a.jsxs("select",{name:"specialization",value:o.specialization,onChange:A,required:s==="add",className:"input-field",disabled:i||N,children:[a.jsx("option",{value:"",children:"Select specialization"}),N?a.jsx("option",{disabled:!0,children:"Loading specializations..."}):y.map(O=>a.jsx("option",{value:O.name.toUpperCase().replace(/\s+/g,"_"),children:O.name},O.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"License Number *"}),a.jsx("input",{type:"text",name:"licenseNumber",value:o.licenseNumber,onChange:A,required:s==="add",className:"input-field",placeholder:"Enter license number",disabled:i})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Years of Experience *"}),a.jsx("input",{type:"number",name:"experience",value:o.experience,onChange:A,required:s==="add",min:"0",className:"input-field",placeholder:"Enter years of experience",disabled:i})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hourly Rate ($) *"}),a.jsx("input",{type:"number",name:"hourlyRate",value:o.hourlyRate,onChange:A,required:s==="add",min:"0",step:"0.01",className:"input-field",placeholder:"Enter hourly rate",disabled:i})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hire Date *"}),a.jsx("input",{type:"date",name:"hireDate",value:o.hireDate,onChange:A,required:s==="add",className:"input-field",disabled:i})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Certifications"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:v,onChange:O=>x(O.target.value),onKeyPress:O=>{O.key==="Enter"&&(O.preventDefault(),T())},className:"input-field flex-1",placeholder:"Enter certification (e.g., APTA Certified)",disabled:i}),a.jsxs("button",{type:"button",onClick:T,className:"btn-outline flex items-center",disabled:i||!v.trim(),children:[a.jsx(Ie,{className:"h-4 w-4 mr-1"}),"Add"]})]}),o.certifications.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:o.certifications.map((O,C)=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-primary-100 text-primary-800",children:[O,a.jsx("button",{type:"button",onClick:()=>S(C),className:"ml-2 text-primary-600 hover:text-primary-800",disabled:i,children:a.jsx(Pe,{className:"h-3 w-3"})})]},C))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio / Professional Summary"}),a.jsx("textarea",{name:"bio",value:o.bio,onChange:A,rows:4,className:"input-field",placeholder:"Enter professional bio or summary",disabled:i})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Picture"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[f?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:f,alt:"Avatar preview",className:"h-20 w-20 rounded-full object-cover border-2 border-gray-200"}),a.jsx("button",{type:"button",onClick:P,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:a.jsx(Pe,{className:"h-4 w-4"})})]}):a.jsx("div",{className:"h-20 w-20 rounded-full bg-gray-100 flex items-center justify-center border-2 border-dashed border-gray-300",children:a.jsx(Qc,{className:"h-8 w-8 text-gray-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("label",{className:"cursor-pointer",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:_,className:"hidden",disabled:h||i}),a.jsx("div",{className:"btn-outline flex items-center justify-center",children:h?a.jsxs(a.Fragment,{children:[a.jsx(rt,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Co,{className:"h-4 w-4 mr-2"}),f?"Change Picture":"Upload Picture"]})})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG or GIF (max 10MB)"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-2 border-t",children:[a.jsx("button",{type:"button",className:"btn-outline",onClick:t,disabled:i,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary flex items-center",disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(rt,{className:"h-4 w-4 mr-2 animate-spin"}),s==="edit"?"Updating...":"Creating..."]}):s==="edit"?"Update Therapist":"Create Therapist"})]})]})]})}):null}function Eie(){const{user:e}=st(),t=(e==null?void 0:e.role)==="admin",[r,n]=E.useState(""),[s,i]=E.useState("all"),[o,l]=E.useState(!1),[c,u]=E.useState(!1),[d,m]=E.useState(null),{addNotification:f}=yt(),{data:p,loading:h,error:g,refetch:v}=xe(()=>ps.getTherapists({limit:200}),[]),x=(p==null?void 0:p.therapists)??[],y=je(ps.createTherapist.bind(ps)),b=je(({id:S,payload:_})=>ps.updateTherapist(S,_)),N=je(ps.deleteTherapist.bind(ps)),j=E.useMemo(()=>{const S=r.trim().toLowerCase();return x.filter(_=>{var O;const P=!S||_.name.toLowerCase().includes(S)||_.email.toLowerCase().includes(S)||_.specialization.toLowerCase().includes(S)||((O=_.licenseNumber)==null?void 0:O.toLowerCase().includes(S)),k=s==="all"||s==="active"&&_.status==="active"||s==="inactive"&&_.status==="inactive";return P&&k})},[x,r,s]),w=async S=>{try{const _={name:S.name,email:S.email,password:S.password,phone:S.phone,specialization:S.specialization,licenseNumber:S.licenseNumber,experience:S.experience,certifications:S.certifications||[],hourlyRate:S.hourlyRate,bio:S.bio||"",hireDate:S.hireDate,avatar:S.avatar||""};await y.mutate(_),te.success(`Therapist ${S.name} has been created successfully`),f({title:"Therapist created",message:`${S.name} has been added to the team.`,type:"success",priority:"medium",category:"system",userId:"system"}),l(!1),await v()}catch(_){te.error((_==null?void 0:_.message)??"Failed to create therapist")}},A=async S=>{if(d)try{const _={name:S.name,phone:S.phone,specialization:S.specialization,licenseNumber:S.licenseNumber,experience:S.experience,certifications:S.certifications||[],hourlyRate:S.hourlyRate,bio:S.bio||"",hireDate:S.hireDate,avatar:S.avatar||""};await b.mutate({id:d.id,payload:_}),te.success(`Therapist ${S.name} has been updated`),f({title:"Therapist updated",message:`${S.name} details have been updated.`,type:"info",priority:"medium",category:"system",userId:"system"}),u(!1),m(null),await v()}catch(_){te.error((_==null?void 0:_.message)??"Failed to update therapist")}},T=async S=>{if(window.confirm("Are you sure you want to remove this therapist?"))try{await N.mutate(S),te.success("Therapist removed"),await v()}catch(_){te.error((_==null?void 0:_.message)??"Failed to remove therapist")}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Therapists"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Manage therapists and their availability."})]}),t&&a.jsxs("button",{onClick:()=>l(!0),className:"btn-primary inline-flex items-center gap-2",children:[a.jsx(Ie,{className:"h-4 w-4"}),"Add Therapist"]})]}),a.jsxs("div",{className:"mt-4 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(jt,{className:"pointer-events-none absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",value:r,onChange:S=>n(S.target.value),placeholder:"Search therapists...",className:"input-field pl-10"})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("select",{value:s,onChange:S=>i(S.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})})]})]}),a.jsx("div",{className:"card",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Specialization"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Phone"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),t&&a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:h?a.jsx("tr",{children:a.jsx("td",{colSpan:t?6:5,className:"px-6 py-8 text-center text-sm text-gray-500",children:"Loading therapists..."})}):g?a.jsx("tr",{children:a.jsx("td",{colSpan:t?6:5,className:"px-6 py-8 text-center text-sm text-red-500",children:g instanceof Error?g.message:String(g)})}):j.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:t?6:5,className:"px-6 py-8 text-center text-sm text-gray-500",children:"No therapists found."})}):j.map(S=>a.jsxs("tr",{children:[a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-50 flex items-center justify-center text-blue-600",children:a.jsx(ic,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900",children:S.name}),a.jsx("div",{className:"text-xs text-gray-500",children:S.licenseNumber??""})]})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-700",children:S.email}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-700 capitalize",children:S.specialization??""}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-700",children:S.phone??""}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm",children:a.jsxs("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${S.status==="active"?"bg-green-50 text-green-700":S.status==="inactive"?"bg-gray-100 text-gray-600":"bg-yellow-50 text-yellow-700"}`,children:[a.jsx("span",{className:`mr-2 inline-block h-2 w-2 rounded-full ${S.status==="active"?"bg-green-500":S.status==="inactive"?"bg-gray-400":"bg-yellow-500"}`}),S.status==="active"?"Active":S.status==="inactive"?"Inactive":"On Leave"]})}),t&&a.jsxs("td",{className:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium space-x-2",children:[a.jsxs("button",{onClick:()=>{m(S),u(!0)},className:"text-secondary-600 hover:text-secondary-900 inline-flex items-center",children:[a.jsx(er,{className:"mr-1 h-4 w-4"}),"Edit"]}),a.jsxs("button",{onClick:()=>T(S.id),className:"text-red-600 hover:text-red-900 inline-flex items-center",children:[a.jsx(ht,{className:"mr-1 h-4 w-4"}),"Delete"]})]})]},S.id))})]})})}),t&&a.jsx(HS,{isOpen:o,onClose:()=>l(!1),onSave:w,mode:"add",isSaving:y.loading}),t&&d&&a.jsx(HS,{isOpen:c,onClose:()=>{u(!1),m(null)},onSave:A,therapist:d,mode:"edit",isSaving:b.loading})]})}const Tie=["08:00","09:00","10:00","11:00","13:00","14:00","15:00","16:00"],Pie={"Mental Health":["clinical-psychologist"],Nutrition:["nutritionist"],Nursing:["critical-care-nurse","medical-doctor"],"Palliative Care":["palliative-care-specialist"],"Maternal Care":["senior-midwife"],Physiotherapy:["medical-doctor"]};function Oie(){var R,F,V,W,ee,se,ye;const[e,t]=E.useState(""),[r,n]=E.useState("home"),[s,i]=E.useState(""),[o,l]=E.useState(""),[c,u]=E.useState(""),[d,m]=E.useState(""),[f,p]=E.useState(""),[h,g]=E.useState(!1),[v,x]=E.useState(!1),{user:y}=st(),{addNotification:b}=yt(),{data:N,loading:j,error:w}=xe(()=>dn.getServices({isActive:!0,limit:200}),[]),{data:A,loading:T}=xe(()=>xs.getSpecialists({limit:200,status:"active"}),[]),{data:S,loading:_}=xe(()=>y!=null&&y.email?zt.getPatients({query:y.email,limit:1}):Promise.resolve({patients:[]}),[y==null?void 0:y.email]),P=je(Ut.createAppointment.bind(Ut)),k=(N==null?void 0:N.services)??[],O=((A==null?void 0:A.specialists)??[]).filter($=>$.status==="active"),C=(R=S==null?void 0:S.patients)==null?void 0:R[0],D=()=>k.find($=>$.id===e)??null,U=E.useMemo(()=>{const $=D();if(!$)return O;const B=Pie[$.category]??[];return B.length?O.filter(J=>B.includes(J.specialization)):O},[e,O]),z=()=>{t(""),n("home"),i(""),l(""),u(""),m(""),p("")},I=async()=>{if(!C){b({title:"Patient profile required",message:"We could not locate a patient record for your account. Please contact support.",type:"error",userId:(y==null?void 0:y.id)??"system",priority:"high",category:"system"});return}const $=D();if(!$||!s||!o){b({title:"Missing details",message:"Please complete all required fields before booking.",type:"warning",userId:(y==null?void 0:y.id)??"system",priority:"medium",category:"system"});return}g(!0);try{const B={patientId:C.id,serviceId:$.id,specialistId:c||void 0,nurseId:void 0,date:s,time:o,duration:$.duration,notes:[`Visit type: ${r}`,r==="home"&&d?`Address: ${d}`:"",f?`Notes: ${f}`:""].filter(Boolean).join(" | ")};await P.mutate(B),b({title:"Appointment Confirmed",message:`${$.name} booked for ${s} at ${o}.`,type:"success",userId:(y==null?void 0:y.id)??"system",priority:"medium",category:"appointment"}),x(!0)}catch(B){b({title:"Unable to book appointment",message:(B==null?void 0:B.message)??"Please try again later.",type:"error",userId:(y==null?void 0:y.id)??"system",priority:"high",category:"system"})}finally{g(!1)}};if(v){const $=D(),B=(F=O.find(J=>J.id===c))==null?void 0:F.name;return a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(Zt,{className:"h-16 w-16 text-green-500"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Appointment Booked Successfully!"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Your appointment has been confirmed. You will receive a confirmation email shortly."}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Appointment Details"}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Service:"})," ",$==null?void 0:$.name]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Date:"})," ",s]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Time:"})," ",o]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Type:"})," ",r]}),B&&a.jsxs("p",{children:[a.jsx("strong",{children:"Specialist:"})," ",B]})]})]}),a.jsx("button",{onClick:()=>{x(!1),z()},className:"btn-primary",children:"Book Another Appointment"})]})})}return j||T||_?a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsx("div",{className:"card text-center py-12 text-sm text-gray-500",children:"Loading booking data"})}):w?a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsx("div",{className:"card text-center py-12 text-sm text-red-500",children:"Unable to load services. Please try again later."})}):C?a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Book an Appointment"}),a.jsx("p",{className:"text-gray-600",children:"Schedule your healthcare service with our qualified specialists"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"1. Select Service"}),a.jsx("div",{className:"space-y-3",children:k.map($=>a.jsx("button",{onClick:()=>t($.id),className:`w-full p-4 border-2 rounded-lg text-left transition-all duration-200 ${e===$.id?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:$.name}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:$.description}),a.jsxs("div",{className:"flex items-center mt-2 space-x-4 text-sm text-gray-500",children:[a.jsxs("span",{children:["$",$.price.toFixed(2)]}),a.jsxs("span",{children:[$.duration," min"]})]})]})})},$.id))})]}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"2. Choose Visit Type"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:()=>n("home"),className:`w-full p-4 border-2 rounded-lg text-left transition-all duration-200 ${r==="home"?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(PE,{className:"h-6 w-6 text-primary-500 mr-3"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Home Visit"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Care provided at your location"})]})]})}),a.jsx("button",{onClick:()=>n("clinic"),className:`w-full p-4 border-2 rounded-lg text-left transition-all duration-200 ${r==="clinic"?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Bs,{className:"h-6 w-6 text-primary-500 mr-3"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Clinic Visit"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Visit our medical facility"})]})]})}),a.jsx("button",{onClick:()=>n("telemedicine"),className:`w-full p-4 border-2 rounded-lg text-left transition-all duration-200 ${r==="telemedicine"?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(z$,{className:"h-6 w-6 text-primary-500 mr-3"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Telemedicine"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Remote consultation via video call"})]})]})})]})]}),e&&a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"3. Choose Specialist"}),a.jsx("div",{className:"space-y-3",children:U.map($=>a.jsx("button",{onClick:()=>u($.id),className:`w-full p-4 border-2 rounded-lg text-left transition-all duration-200 ${c===$.id?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-12 w-12 bg-primary-100 rounded-full flex items-center justify-center mr-4",children:a.jsx("span",{className:"text-primary-600 font-medium",children:$.name.split(" ").map(B=>B[0]).join("")})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:$.name}),a.jsx("p",{className:"text-sm text-gray-600 capitalize",children:$.specialization.replace("-"," ")}),a.jsxs("p",{className:"text-sm text-gray-500",children:[$.experience," years experience"]})]})]})},$.id))})]}),e&&a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"4. Select Date & Time"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),a.jsx("input",{type:"date",value:s,onChange:$=>i($.target.value),min:new Date().toISOString().split("T")[0],className:"input-field"})]}),s&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:Tie.map($=>a.jsx("button",{onClick:()=>l($),className:`p-2 text-sm border rounded-lg transition-all duration-200 ${o===$?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 hover:border-gray-300"}`,children:$},$))})]})]}),r==="home"&&e&&a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"5. Address"}),a.jsx("textarea",{value:d,onChange:$=>m($.target.value),placeholder:"Enter your full address...",className:"input-field h-24 resize-none"})]}),e&&a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"6. Additional Notes"}),a.jsx("textarea",{value:f,onChange:$=>p($.target.value),placeholder:"Any specific requirements or notes...",className:"input-field h-24 resize-none"})]})]}),e&&s&&o&&a.jsx("div",{className:"mt-8",children:a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Booking Summary"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Service Details"}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Service:"})," ",(V=D())==null?void 0:V.name]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Date:"})," ",s]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Time:"})," ",o]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Duration:"})," ",(W=D())==null?void 0:W.duration," minutes"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Type:"})," ",r]}),c&&a.jsxs("p",{children:[a.jsx("strong",{children:"Specialist:"})," ",(ee=U.find($=>$.id===c))==null?void 0:ee.name]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Payment"}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Service Fee:"})," $",(se=D())==null?void 0:se.price.toFixed(2)]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Total:"})," $",(ye=D())==null?void 0:ye.price.toFixed(2)]})]})]})]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Qn,{className:"h-4 w-4 mr-2"}),a.jsx("span",{children:"Payment will be processed after service completion"})]}),a.jsx("button",{onClick:I,disabled:h,className:"btn-primary flex items-center",children:h?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Booking..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Te,{className:"h-4 w-4 mr-2"}),"Book Appointment"]})})]})]})})]}):a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"card text-center py-12",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No patient profile found"}),a.jsx("p",{className:"text-gray-600",children:"We couldn't locate a patient record for your account. Please contact support to create one before booking an appointment."})]})})}const Ah=["scheduled","confirmed","in-progress","rescheduled"];function Cie(){var b;const[e,t]=E.useState("all"),{user:r}=st(),{addNotification:n}=yt(),{data:s,loading:i}=xe(()=>r!=null&&r.email?zt.getPatients({query:r.email,limit:1}):Promise.resolve({patients:[]}),[r==null?void 0:r.email]),o=((b=s==null?void 0:s.patients)==null?void 0:b[0])??null,{data:l,loading:c,error:u,refetch:d}=xe(()=>o?Ut.getPatientAppointments(o.id,{limit:100}):Promise.resolve({appointments:[]}),[o==null?void 0:o.id]),m=je(N=>Ut.cancelAppointment(N.id,N.reason)),f=(l==null?void 0:l.appointments)??[],p=E.useMemo(()=>{switch(e){case"upcoming":return f.filter(N=>Ah.includes(N.status));case"completed":return f.filter(N=>N.status==="completed");case"cancelled":return f.filter(N=>N.status==="cancelled"||N.status==="no-show");default:return f}},[f,e]),h=N=>{switch(N){case"confirmed":case"in-progress":case"scheduled":return a.jsx(De,{className:"h-5 w-5 text-yellow-500"});case"completed":return a.jsx(Zt,{className:"h-5 w-5 text-green-500"});case"cancelled":case"no-show":return a.jsx(Ya,{className:"h-5 w-5 text-red-500"});default:return a.jsx(Ga,{className:"h-5 w-5 text-gray-500"})}},g=N=>{switch(N){case"completed":return"bg-blue-100 text-blue-800";case"cancelled":case"no-show":return"bg-red-100 text-red-800";case"confirmed":case"in-progress":case"scheduled":return"bg-yellow-100 text-yellow-800";case"rescheduled":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},v=N=>new Date(N).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),x=N=>new Date(`2000-01-01T${N}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),y=async N=>{if(window.confirm(`Cancel appointment for ${N.patientName} on ${v(N.date)}?`))try{await m.mutate({id:N.id,reason:"Cancelled by patient"}),n({title:"Appointment Cancelled",message:`${N.serviceName} has been cancelled.`,type:"info",userId:(r==null?void 0:r.id)??"system",priority:"medium",category:"appointment"}),await d()}catch(j){n({title:"Unable to cancel appointment",message:(j==null?void 0:j.message)??"Please try again later.",type:"error",userId:(r==null?void 0:r.id)??"system",priority:"high",category:"system"})}};return i||c?a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsx("div",{className:"card text-center py-12 text-sm text-gray-500",children:"Loading appointments"})}):o?u?a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsx("div",{className:"card text-center py-12 text-sm text-red-500",children:"Unable to load your appointments. Please try again later."})}):a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Appointments"}),a.jsx("p",{className:"text-gray-600",children:"Manage your scheduled healthcare appointments"})]}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:[{key:"all",label:"All Appointments",count:f.length},{key:"upcoming",label:"Upcoming",count:f.filter(N=>Ah.includes(N.status)).length},{key:"completed",label:"Completed",count:f.filter(N=>N.status==="completed").length},{key:"cancelled",label:"Cancelled",count:f.filter(N=>["cancelled","no-show"].includes(N.status)).length}].map(N=>a.jsxs("button",{onClick:()=>t(N.key),className:`py-2 px-1 border-b-2 font-medium text-sm ${e===N.key?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[N.label,a.jsx("span",{className:`ml-2 py-0.5 px-2 rounded-full text-xs ${e===N.key?"bg-primary-100 text-primary-600":"bg-gray-100 text-gray-600"}`,children:N.count})]},N.key))})})}),a.jsx("div",{className:"space-y-4",children:p.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Te,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No appointments found"}),a.jsx("p",{className:"text-gray-600",children:"You don't have any appointments matching your current filter."})]}):p.map(N=>a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[h(N.status),a.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${g(N.status)}`,children:N.status.replace("-"," ").replace(/ \w/g,j=>j.toUpperCase())})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:N.serviceName}),a.jsx("p",{className:"text-sm text-gray-600",children:N.specialistName&&`Specialist: ${N.specialistName}`}),a.jsx("p",{className:"text-sm text-gray-600",children:N.nurseName&&`Nurse: ${N.nurseName}`})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[a.jsx(Te,{className:"h-4 w-4 mr-2"}),v(N.date)]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(De,{className:"h-4 w-4 mr-2"}),x(N.time)]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-1",children:[a.jsx("strong",{children:"Duration:"})," ",N.duration," minutes"]}),N.notes&&a.jsxs("div",{className:"text-sm text-gray-600 truncate",children:[a.jsx("strong",{children:"Notes:"})," ",N.notes]})]})]})]}),a.jsx("div",{className:"ml-4 flex flex-col space-y-2",children:Ah.includes(N.status)&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{className:"btn-outline text-sm py-1 px-3",disabled:!0,children:[a.jsx($$,{className:"h-3 w-3 mr-1"}),"Reschedule"]}),a.jsx("button",{className:"text-red-600 hover:text-red-700 text-sm py-1 px-3 border border-red-300 rounded hover:bg-red-50",onClick:()=>y(N),children:"Cancel"})]})})]})},N.id))}),a.jsx("div",{className:"mt-8 flex justify-center",children:a.jsxs("button",{className:"btn-primary",children:[a.jsx(Te,{className:"h-4 w-4 mr-2"}),"Book New Appointment"]})})]}):a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsxs("div",{className:"card text-center py-12",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No patient profile found"}),a.jsx("p",{className:"text-gray-600",children:"We couldn't locate a patient record associated with your account. Please contact support to continue."})]})})}function _ie(){var v;const[e,t]=E.useState("vitals"),{user:r}=st(),n=r==null?void 0:r.id,{data:s,loading:i,error:o,refetch:l}=xe(async()=>{if(!n)return null;const[x,y]=await Promise.all([_r.getPatientHealthRecords(n),_r.getMedications(n)]);return{records:x,medicationRecords:y}},[n]),c=(s==null?void 0:s.records)??[],u=(s==null?void 0:s.medicationRecords)??[],d=E.useMemo(()=>c.filter(x=>x.recordType==="vital").sort((x,y)=>new Date(y.timestamp).getTime()-new Date(x.timestamp).getTime()),[c]),m=E.useMemo(()=>c.filter(x=>x.recordType==="symptom").sort((x,y)=>new Date(y.timestamp).getTime()-new Date(x.timestamp).getTime()),[c]),f=((v=d[0])==null?void 0:v.data)??null,p=x=>new Date(x).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),h=x=>new Date(x).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),g=(x,y)=>{switch(x){case"bloodPressure":{const[b,N]=String(y).split("/").map(Number);return b<120&&N<80?{status:"normal",color:"text-green-600"}:b<140&&N<90?{status:"elevated",color:"text-yellow-600"}:{status:"high",color:"text-red-600"}}case"heartRate":return y>=60&&y<=100?{status:"normal",color:"text-green-600"}:{status:"abnormal",color:"text-red-600"};case"temperature":return y>=97.8&&y<=99.1?{status:"normal",color:"text-green-600"}:{status:"fever",color:"text-red-600"};default:return{status:"normal",color:"text-gray-600"}}};return n?i?a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsxs("div",{className:"card text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading health data"}),a.jsx("p",{className:"text-gray-600",children:"Please wait while we fetch your latest health updates."})]})}):o?a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsxs("div",{className:"card text-center py-12",children:[a.jsx(Jt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Unable to load health data"}),a.jsx("p",{className:"text-gray-600",children:o.message??"Please try again later."}),a.jsx("button",{className:"btn-primary mt-4",onClick:l,children:"Retry"})]})}):a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Health Monitoring"}),a.jsx("p",{className:"text-gray-600",children:"Track your vital signs, medications, and health symptoms"})]}),f&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:a.jsx(Di,{className:"h-6 w-6 text-red-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Blood Pressure"}),a.jsx("p",{className:`text-lg font-semibold ${g("bloodPressure",f.bloodPressure).color}`,children:f.bloodPressure??""})]})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(Wr,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Heart Rate"}),a.jsx("p",{className:`text-lg font-semibold ${g("heartRate",f.heartRate).color}`,children:f.heartRate?`${f.heartRate} bpm`:""})]})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:a.jsx(kx,{className:"h-6 w-6 text-orange-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Temperature"}),a.jsx("p",{className:`text-lg font-semibold ${g("temperature",f.temperature).color}`,children:f.temperature?`${f.temperature}F`:""})]})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(rj,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Weight"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:f.weight?`${f.weight} lbs`:""})]})]})})]}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:[{key:"vitals",label:"Vital Signs",icon:Wr},{key:"medications",label:"Medications",icon:tj},{key:"symptoms",label:"Symptoms",icon:Di}].map(x=>a.jsxs("button",{onClick:()=>t(x.key),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${e===x.key?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(x.icon,{className:"h-4 w-4 mr-2"}),x.label]},x.key))})})}),e==="vitals"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Vital Signs History"}),a.jsxs("button",{className:"btn-primary flex items-center",disabled:!0,children:[a.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Add Reading"]})]}),a.jsx("div",{className:"space-y-4",children:d.length?d.map(x=>a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Te,{className:"h-4 w-4 text-gray-400 mr-2"}),a.jsxs("span",{className:"text-sm text-gray-600",children:[h(x.timestamp)," at ",p(x.timestamp)]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[x.data.bloodPressure&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Di,{className:"h-4 w-4 text-red-500 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Blood Pressure"}),a.jsx("p",{className:"font-medium",children:x.data.bloodPressure})]})]}),x.data.heartRate&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Wr,{className:"h-4 w-4 text-blue-500 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Heart Rate"}),a.jsxs("p",{className:"font-medium",children:[x.data.heartRate," bpm"]})]})]}),x.data.temperature&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(kx,{className:"h-4 w-4 text-orange-500 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Temperature"}),a.jsxs("p",{className:"font-medium",children:[x.data.temperature,"F"]})]})]}),x.data.weight&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(rj,{className:"h-4 w-4 text-green-500 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Weight"}),a.jsxs("p",{className:"font-medium",children:[x.data.weight," lbs"]})]})]})]}),x.notes&&a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:x.notes})]}),a.jsxs("span",{className:"text-xs text-gray-500",children:["Recorded by ",x.updatedByName]})]})},x.id)):a.jsx("p",{className:"text-sm text-gray-500",children:"No vital sign records available."})})]}),e==="medications"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Medication Schedule"}),a.jsxs("button",{className:"btn-primary flex items-center",disabled:!0,children:[a.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Add Medication"]})]}),a.jsx("div",{className:"space-y-4",children:u.length?u.map(x=>a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 rounded-lg bg-green-100",children:a.jsx(tj,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:x.data.medication??"Medication entry"}),a.jsx("p",{className:"text-sm text-gray-600",children:x.data.dosage?`${x.data.dosage}`:"Dosage not specified"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Logged ",h(x.timestamp)," at ",p(x.timestamp)]})]})]}),x.data.taken!==void 0&&a.jsx("span",{className:`text-sm font-medium ${x.data.taken?"text-green-600":"text-yellow-600"}`,children:x.data.taken?"Taken":"Pending"})]})},x.id)):a.jsx("p",{className:"text-sm text-gray-500",children:"No medication records available."})})]}),e==="symptoms"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Symptom Tracking"}),a.jsxs("button",{className:"btn-primary flex items-center",disabled:!0,children:[a.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Log Symptoms"]})]}),a.jsx("div",{className:"space-y-4",children:m.length?m.map(x=>{var y;return a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Te,{className:"h-4 w-4 text-gray-400 mr-2"}),a.jsxs("span",{className:"text-sm text-gray-600",children:[h(x.timestamp)," at ",p(x.timestamp)]})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:(y=x.data.symptoms)==null?void 0:y.map((b,N)=>a.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-sm rounded-full",children:b},N))}),x.data.notes&&a.jsx("p",{className:"text-sm text-gray-600",children:x.data.notes}),x.notes&&a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[a.jsx("strong",{children:"Notes:"})," ",x.notes]})]}),a.jsxs("span",{className:"text-xs text-gray-500",children:["Recorded by ",x.updatedByName]})]})},x.id)}):a.jsx("p",{className:"text-sm text-gray-500",children:"No symptom records available."})})]})]}):a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsxs("div",{className:"card text-center py-12",children:[a.jsx(Jt,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No patient selected"}),a.jsx("p",{className:"text-gray-600",children:"Log in as a patient to view health monitoring details."})]})})}class kie{async getFeedbacks(t){return(await H.get(q.FEEDBACK.BASE,{params:t})).data}async getFeedback(t){var n;const r=await H.get(q.FEEDBACK.BY_ID(t));return(n=r.data)!=null&&n.data?r.data.data:r.data}async getPatientFeedbacks(t,r){var s;const n=await H.get(q.FEEDBACK.BY_PATIENT(t),{params:r});return"data"in n&&Array.isArray(n.data)?n.data:((s=n.data)==null?void 0:s.data)??[]}async getServiceFeedbacks(t,r){var s;const n=await H.get(q.FEEDBACK.BY_SERVICE(t),{params:r});return"data"in n&&Array.isArray(n.data)?n.data:((s=n.data)==null?void 0:s.data)??[]}async submitFeedback(t){var n;const r=await H.post(q.FEEDBACK.SUBMIT,t);return(n=r.data)!=null&&n.data?{success:r.data.success??!0,message:r.data.message,feedback:r.data.data}:r.data??{success:!0}}}const Eh=new kie;function Iie(){var D,U,z;const[e,t]=E.useState("give"),[r,n]=E.useState(""),[s,i]=E.useState(0),[o,l]=E.useState(""),[c,u]=E.useState({professionalism:0,punctuality:0,communication:0,careQuality:0}),[d,m]=E.useState(!1),{user:f}=st(),{addNotification:p}=yt(),{data:h,loading:g,error:v}=xe(()=>f!=null&&f.id?Ut.getPatientAppointments(f.id,{limit:100}):Promise.resolve({appointments:[]}),[f==null?void 0:f.id]),{data:x,loading:y,error:b,refetch:N}=xe(()=>f!=null&&f.id?Eh.getPatientFeedbacks(f.id):Promise.resolve([]),[f==null?void 0:f.id]),j=je(Eh.submitFeedback.bind(Eh)),w=(h==null?void 0:h.appointments)??[],A=E.useMemo(()=>w.filter(I=>I.status==="completed"),[w]),T=(x??[]).slice().sort((I,R)=>new Date(R.date).getTime()-new Date(I.date).getTime()),S=I=>{i(I)},_=(I,R)=>{u(F=>({...F,[I]:R}))},P=()=>A.find(I=>I.id===r),k=I=>new Date(I).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),O=(I,R)=>a.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(F=>a.jsx("button",{type:"button",onClick:()=>R==null?void 0:R(F),className:`transition-colors duration-200 ${F<=I?"text-yellow-400":"text-gray-300"} ${R?"hover:text-yellow-400":""}`,disabled:!R,children:a.jsx(Cl,{className:"h-6 w-6 fill-current"})},F))}),C=async()=>{if(!f||!r)return;const I=P();if(!I)return;const R={appointmentId:I.id,patientId:f.id,patientName:f.name,serviceId:I.serviceId,serviceName:I.serviceName,specialistId:I.specialistId,specialistName:I.specialistName,rating:s,comment:o,categories:c};try{await j.mutate(R),p({title:"Feedback submitted",message:"Thank you for sharing your experience.",type:"success",userId:f.id,priority:"medium",category:"feedback"}),m(!0),setTimeout(()=>{m(!1),n(""),i(0),l(""),u({professionalism:0,punctuality:0,communication:0,careQuality:0})},3e3),await N()}catch(F){p({title:"Feedback not submitted",message:(F==null?void 0:F.message)??"Please try again later.",type:"error",userId:f.id,priority:"high",category:"system"})}};return f?d?a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(Zt,{className:"h-16 w-16 text-green-500"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Thank You!"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Your feedback has been submitted successfully. We appreciate your input and will use it to improve our services."}),a.jsx("button",{onClick:()=>m(!1),className:"btn-primary",children:"Submit Another Review"})]})}):a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Feedback & Ratings"}),a.jsx("p",{className:"text-gray-600",children:"Share your experience and help us improve our services"})]}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsxs("button",{onClick:()=>t("give"),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${e==="give"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(_x,{className:"h-4 w-4 mr-2"}),"Give Feedback"]}),a.jsxs("button",{onClick:()=>t("history"),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${e==="history"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(Cl,{className:"h-4 w-4 mr-2"}),"My Reviews (",T.length,")"]})]})})}),e==="give"&&a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Rate Your Experience"}),v&&a.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded text-sm text-red-700 mb-4",children:"Unable to load appointments. Please try again later."}),g?a.jsx("div",{className:"text-sm text-gray-500",children:"Loading completed appointments..."}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Appointment to Review"}),a.jsxs("select",{value:r,onChange:I=>n(I.target.value),className:"input-field",children:[a.jsx("option",{value:"",children:"Choose an appointment..."}),A.map(I=>a.jsxs("option",{value:I.id,children:[I.serviceName," - ",k(I.date)]},I.id))]})]}),r&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Appointment Details"}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Service:"})," ",(D=P())==null?void 0:D.serviceName]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Date:"})," ",k(((U=P())==null?void 0:U.date)||"")]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Specialist:"})," ",((z=P())==null?void 0:z.specialistName)??""]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Overall Rating"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[O(s,S),a.jsx("span",{className:"text-sm text-gray-600",children:s>0&&(s===1?"Poor":s===2?"Fair":s===3?"Good":s===4?"Very Good":"Excellent")})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Rate Specific Aspects"}),a.jsx("div",{className:"space-y-4",children:[{key:"professionalism",label:"Professionalism"},{key:"punctuality",label:"Punctuality"},{key:"communication",label:"Communication"},{key:"careQuality",label:"Quality of Care"}].map(I=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:I.label}),O(c[I.key],R=>_(I.key,R))]},I.key))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Comments (Optional)"}),a.jsx("textarea",{value:o,onChange:I=>l(I.target.value),placeholder:"Tell us about your experience...",className:"input-field h-32 resize-none"})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:C,disabled:j.loading||s===0,className:"btn-primary flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:j.loading?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(D$,{className:"h-4 w-4 mr-2"}),"Submit Feedback"]})})})]}),!r&&a.jsx("p",{className:"text-sm text-gray-500",children:"Select a completed appointment to begin your review."})]})]}),e==="history"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"My Reviews"}),b&&a.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded text-sm text-red-700 mb-4",children:"Unable to load feedback history."}),y?a.jsx("div",{className:"text-sm text-gray-500",children:"Loading your reviews..."}):T.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Cl,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No reviews yet"}),a.jsx("p",{className:"text-gray-600",children:"You haven't submitted any feedback yet."})]}):a.jsx("div",{className:"space-y-4",children:T.map(I=>a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:I.serviceName}),a.jsxs("p",{className:"text-sm text-gray-600",children:["with ",I.specialistName??"","  ",k(I.date)]})]}),a.jsx("div",{className:"flex items-center",children:O(I.rating)})]}),I.comment&&a.jsx("p",{className:"text-gray-700 mb-4",children:I.comment}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Professionalism"}),a.jsx("div",{className:"flex justify-center",children:O(I.categories.professionalism)})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Punctuality"}),a.jsx("div",{className:"flex justify-center",children:O(I.categories.punctuality)})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Communication"}),a.jsx("div",{className:"flex justify-center",children:O(I.categories.communication)})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Quality of Care"}),a.jsx("div",{className:"flex justify-center",children:O(I.categories.careQuality)})]})]})]},I.id))})]})]}):a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsxs("div",{className:"card text-center py-12",children:[a.jsx(Jt,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Please sign in"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"You need to be signed in as a patient to submit feedback."})]})})}function $ie(){const[e,t]=E.useState(new Date().toISOString().split("T")[0]),[r,n]=E.useState("day"),{user:s}=st(),i=(s==null?void 0:s.role)??"nurse",o=E.useMemo(()=>async()=>{if(!s)return{appointments:[]};switch(i){case"nurse":return Ut.getNurseAppointments(s.id,{limit:200});case"specialist":return Ut.getSpecialistAppointments(s.id,{limit:200});default:return Ut.getAppointments({limit:200})}},[i,s]),{data:l,loading:c,error:u}=xe(o,[o]),d=(l==null?void 0:l.appointments)??[],m=y=>d.filter(b=>b.date===y),f=y=>{switch(y){case"confirmed":case"in-progress":return"bg-green-100 text-green-800 border-green-200";case"scheduled":case"rescheduled":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"completed":return"bg-blue-100 text-blue-800 border-blue-200";case"cancelled":case"no-show":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},p=y=>{switch(y){case"confirmed":case"in-progress":case"completed":return a.jsx(Zt,{className:"h-4 w-4"});case"cancelled":case"no-show":return a.jsx(Ga,{className:"h-4 w-4"});default:return a.jsx(De,{className:"h-4 w-4"})}},h=y=>new Date(`2000-01-01T${y}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),g=y=>new Date(y).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),v=y=>{const b=new Date(y),N=[];for(let j=0;j<7;j++){const w=new Date(b);w.setDate(b.getDate()+j),N.push(w.toISOString().split("T")[0])}return N},x=m(e);return a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Schedule"}),a.jsx("p",{className:"text-gray-600",children:"Manage your appointments and patient visits"})]}),a.jsx("div",{className:"card mb-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),a.jsx("input",{type:"date",value:e,onChange:y=>t(y.target.value),className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"View"}),a.jsxs("select",{value:r,onChange:y=>n(y.target.value),className:"input-field",children:[a.jsx("option",{value:"day",children:"Day View"}),a.jsx("option",{value:"week",children:"Week View"})]})]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:x.length})," appointments on this date"]})})]})}),c&&a.jsxs("div",{className:"card text-center py-12",children:[a.jsx(Te,{className:"h-12 w-12 text-gray-400 mx-auto mb-4 animate-spin"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading schedule"}),a.jsx("p",{className:"text-gray-600",children:"Fetching your latest appointments..."})]}),u&&!c&&a.jsxs("div",{className:"card text-center py-12",children:[a.jsx(Ga,{className:"h-12 w-12 text-red-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Unable to load schedule"}),a.jsx("p",{className:"text-gray-600",children:u.message??"Please try again later."})]}),!c&&!u&&a.jsx(a.Fragment,{children:r==="day"?a.jsxs("div",{children:[a.jsx("div",{className:"mb-4",children:a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:g(e)})}),x.length===0?a.jsxs("div",{className:"card text-center py-12",children:[a.jsx(Te,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No appointments scheduled"}),a.jsx("p",{className:"text-gray-600",children:"You have no appointments scheduled for this date."})]}):a.jsx("div",{className:"space-y-4",children:x.sort((y,b)=>y.time.localeCompare(b.time)).map(y=>a.jsx("div",{className:"card",children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsxs("div",{className:`flex items-center px-2 py-1 rounded-full text-xs font-medium border ${f(y.status)}`,children:[p(y.status),a.jsx("span",{className:"ml-1 capitalize",children:y.status})]}),a.jsxs("div",{className:"ml-4 flex items-center text-gray-500",children:[a.jsx(De,{className:"h-4 w-4 mr-1"}),a.jsx("span",{className:"text-sm",children:h(y.time)})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:y.serviceName}),a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Patient: ",y.patientName||"Unassigned"]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(vt,{className:"h-4 w-4 mr-1"}),a.jsxs("span",{children:["ID: ",y.patientId]})]}),y.nurseName&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Nurse: ",y.nurseName]}),y.specialistName&&a.jsxs("p",{className:"text-xs text-gray-500",children:["Specialist: ",y.specialistName]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"Duration:"})," ",y.duration," minutes"]}),y.notes&&a.jsx("div",{className:"text-xs text-gray-500",children:y.notes})]})]})]})})},y.id))})]}):a.jsxs("div",{children:[a.jsx("div",{className:"mb-4",children:a.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Week of ",g(e)]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v(e).map(y=>{const b=m(y);return a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:g(y)}),a.jsxs("p",{className:"text-xs text-gray-500",children:[b.length," appointments"]})]}),a.jsx(Te,{className:"h-5 w-5 text-gray-400"})]}),b.length===0?a.jsx("p",{className:"text-sm text-gray-500",children:"No appointments scheduled."}):a.jsx("div",{className:"space-y-3",children:b.map(N=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:N.serviceName}),a.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${f(N.status)}`,children:N.status})]}),a.jsxs("div",{className:"text-xs text-gray-600",children:[h(N.time),"  ",N.patientName||"Unassigned"]})]},N.id))})]},y)})})]})})]})}const ls={vital:"Vital Signs",medication:"Medication",symptom:"Symptoms",note:"Clinical Note",assessment:"Assessment",treatment:"Treatment"},Rie={vital:"bg-blue-100 text-blue-800",medication:"bg-green-100 text-green-800",symptom:"bg-red-100 text-red-800",note:"bg-gray-100 text-gray-800",assessment:"bg-purple-100 text-purple-800",treatment:"bg-yellow-100 text-yellow-800"};function Mie(){const[e,t]=E.useState("records"),[r,n]=E.useState(""),[s,i]=E.useState("all"),[o,l]=E.useState({patientId:"",recordType:"note",data:{},notes:""}),{user:c}=st(),{addNotification:u}=yt(),[d,m]=E.useState(null),[f,p]=E.useState(!1),{data:h,loading:g,error:v,refetch:x}=xe(async()=>({records:(await _r.getHealthRecords({limit:200})).records}),[]),y=(h==null?void 0:h.records)??[],b=E.useMemo(()=>{const O=r.toLowerCase();return y.filter(C=>{var I,R,F,V;const D=C.patientId.toLowerCase().includes(O)||C.patientName.toLowerCase().includes(O)||C.updatedByName.toLowerCase().includes(O)||((I=C.notes)==null?void 0:I.toLowerCase().includes(O))||((V=(F=(R=C.data)==null?void 0:R.notes)==null?void 0:F.toLowerCase)==null?void 0:V.call(F).includes(O??"")),U=s==="all"||C.recordType===s,z=c?C.updatedBy===c.id||C.updatedByRole===c.role:!0;return D&&U&&z})},[y,r,s,c]),N=je(_r.createHealthRecord.bind(_r)),j=O=>new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}),w=async O=>{O.preventDefault();try{await N.mutate({...o,data:{...o.data}}),u({title:"Record Added",message:"The clinical entry was saved successfully.",type:"success",userId:(c==null?void 0:c.id)??"system",priority:"medium",category:"health"}),l({patientId:"",recordType:"note",data:{},notes:""}),t("records"),await x()}catch(C){u({title:"Unable to save record",message:(C==null?void 0:C.message)??"Please verify the information and try again.",type:"error",userId:(c==null?void 0:c.id)??"system",priority:"high",category:"system"})}},A=O=>{switch(O.recordType){case"vital":return a.jsxs("div",{className:"space-y-1 text-sm",children:[O.data.bloodPressure&&a.jsxs("p",{children:[a.jsx("strong",{children:"Blood Pressure:"})," ",typeof O.data.bloodPressure=="object"&&O.data.bloodPressure!==null?`${O.data.bloodPressure.systolic??""}${O.data.bloodPressure.diastolic!=null?`/${O.data.bloodPressure.diastolic}`:""}`.trim():String(O.data.bloodPressure)]}),O.data.heartRate&&a.jsxs("p",{children:[a.jsx("strong",{children:"Heart Rate:"})," ",O.data.heartRate," bpm"]}),O.data.temperature&&a.jsxs("p",{children:[a.jsx("strong",{children:"Temperature:"})," ",O.data.temperature,"F"]}),O.data.weight&&a.jsxs("p",{children:[a.jsx("strong",{children:"Weight:"})," ",O.data.weight," lbs"]}),O.data.oxygenSaturation&&a.jsxs("p",{children:[a.jsx("strong",{children:"Oxygen Saturation:"})," ",O.data.oxygenSaturation,"%"]})]});case"medication":return a.jsxs("div",{className:"space-y-1 text-sm",children:[O.data.medication&&a.jsxs("p",{children:[a.jsx("strong",{children:"Medication:"})," ",O.data.medication]}),O.data.dosage&&a.jsxs("p",{children:[a.jsx("strong",{children:"Dosage:"})," ",O.data.dosage]}),O.data.taken!==void 0&&a.jsxs("p",{children:[a.jsx("strong",{children:"Taken:"})," ",O.data.taken?"Yes":"No"]})]});case"symptom":return a.jsx("div",{className:"space-y-1 text-sm",children:Array.isArray(O.data.symptoms)&&O.data.symptoms.length>0&&a.jsxs("div",{children:[a.jsx("strong",{children:"Symptoms:"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:O.data.symptoms.map((C,D)=>a.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full",children:C},D))})]})});default:return O.notes?a.jsx("p",{className:"text-sm text-gray-600",children:O.notes}):a.jsx("p",{className:"text-sm text-gray-500",children:"No additional details provided."})}},T=O=>{const C=[];switch(O.recordType){case"vital":{if(O.data.bloodPressure){const D=typeof O.data.bloodPressure=="object"&&O.data.bloodPressure!==null?`${O.data.bloodPressure.systolic??""}${O.data.bloodPressure.diastolic!=null?`/${O.data.bloodPressure.diastolic}`:""}`.trim():String(O.data.bloodPressure);C.push(`Blood Pressure: ${D}`)}O.data.heartRate&&C.push(`Heart Rate: ${O.data.heartRate} bpm`),O.data.temperature&&C.push(`Temperature: ${O.data.temperature}F`),O.data.weight&&C.push(`Weight: ${O.data.weight} lbs`),O.data.oxygenSaturation&&C.push(`Oxygen Saturation: ${O.data.oxygenSaturation}%`);break}case"medication":{O.data.medication&&C.push(`Medication: ${O.data.medication}`),O.data.dosage&&C.push(`Dosage: ${O.data.dosage}`),O.data.taken!==void 0&&C.push(`Taken: ${O.data.taken?"Yes":"No"}`);break}case"symptom":{Array.isArray(O.data.symptoms)&&O.data.symptoms.length>0&&C.push(`Symptoms: ${O.data.symptoms.join(", ")}`);break}}return C.length===0?"No additional structured data recorded.":C.join("<br />")},S=O=>{m(O),p(!0)},_=()=>{p(!1),m(null)},P=O=>{l({patientId:O.patientId,recordType:O.recordType,data:O.data??{},notes:O.notes??"",location:O.location}),t("new-entry")},k=O=>{const C=window.open("","_blank");if(!C)return;const D=`
      <h1>Clinical Record</h1>
      <p><strong>Patient:</strong> ${O.patientName}</p>
      <p><strong>Type:</strong> ${ls[O.recordType]}</p>
      <p><strong>Recorded At:</strong> ${j(O.timestamp)}</p>
      <p><strong>Updated By:</strong> ${O.updatedByName??""} (${O.updatedByRole})</p>
      ${O.location?`<p><strong>Location:</strong> ${O.location}</p>`:""}
      <h2>Clinical Notes</h2>
      <p>${O.notes||"No additional notes"}</p>
      <h2>Clinical Data</h2>
      <p>${T(O)}</p>
    `;C.document.open(),C.document.write(`
      <html>
        <head>
          <title>Clinical Record - ${O.patientName}</title>
          <style>
            body { font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; padding: 24px; }
            h1 { font-size: 24px; margin-bottom: 8px; }
            h2 { font-size: 18px; margin-top: 16px; margin-bottom: 4px; }
            p { margin: 4px 0; }
            pre { background: #f3f4f6; padding: 12px; border-radius: 4px; font-size: 12px; overflow-x: auto; }
          </style>
        </head>
        <body>
          ${D}
        </body>
      </html>
    `),C.document.close(),C.focus(),C.print()};return a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Clinical Documentation"}),a.jsx("p",{className:"text-gray-600",children:"Manage patient records and clinical notes"})]}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsxs("button",{onClick:()=>t("records"),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${e==="records"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(ur,{className:"h-4 w-4 mr-2"}),"Patient Records (",b.length,")"]}),a.jsxs("button",{onClick:()=>t("new-entry"),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${e==="new-entry"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(Ie,{className:"h-4 w-4 mr-2"}),"New Entry"]})]})})}),e==="records"&&a.jsxs("div",{children:[a.jsx("div",{className:"card mb-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search records...",value:r,onChange:O=>n(O.target.value),className:"pl-10 input-field"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(pf,{className:"h-4 w-4 text-gray-400"}),a.jsxs("select",{value:s,onChange:O=>i(O.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Types"}),Object.keys(ls).map(O=>a.jsx("option",{value:O,children:ls[O]},O))]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{className:"btn-outline flex items-center",disabled:!0,children:[a.jsx(ff,{className:"h-4 w-4 mr-2"}),"Export"]}),a.jsxs("button",{className:"btn-outline flex items-center",disabled:!0,children:[a.jsx(Co,{className:"h-4 w-4 mr-2"}),"Import"]})]})]})}),g&&a.jsxs("div",{className:"card text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading clinical records"}),a.jsx("p",{className:"text-gray-600",children:"Please wait while we fetch the latest records."})]}),v&&!g&&a.jsxs("div",{className:"card text-center py-12",children:[a.jsx(Jt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Unable to load records"}),a.jsx("p",{className:"text-gray-600",children:v.message??"Please try again later."}),a.jsx("button",{className:"btn-primary mt-4",onClick:x,children:"Retry"})]}),!g&&!v&&a.jsx("div",{className:"space-y-4",children:b.length===0?a.jsxs("div",{className:"card text-center py-12",children:[a.jsx(ur,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No records found"}),a.jsx("p",{className:"text-gray-600",children:"No clinical records match your current search criteria."})]}):a.jsx("div",{className:"card overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Patient"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date/Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Updated By"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(O=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:O.patientName})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Rie[O.recordType]}`,children:ls[O.recordType]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(O.timestamp)}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[O.updatedByName||O.updatedBy||"Unknown",a.jsx("div",{className:"text-xs text-gray-500 capitalize",children:O.updatedByRole})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 max-w-xs truncate",children:O.notes||""}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsxs("button",{onClick:()=>S(O),className:"btn-outline text-xs px-2 py-1",children:[a.jsx(Bt,{className:"h-3 w-3 mr-1 inline"}),"View"]}),a.jsxs("button",{onClick:()=>P(O),className:"btn-outline text-xs px-2 py-1",children:[a.jsx(ur,{className:"h-3 w-3 mr-1 inline"}),"Edit"]}),a.jsx("button",{onClick:()=>k(O),className:"btn-outline text-xs px-2 py-1",children:"Print / PDF"})]})})]},O.id))})]})})})]}),e==="new-entry"&&a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"New Clinical Entry"}),a.jsxs("form",{className:"space-y-6",onSubmit:w,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient ID"}),a.jsx("input",{type:"text",placeholder:"Enter patient ID...",value:o.patientId,onChange:O=>l(C=>({...C,patientId:O.target.value})),className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Entry Type"}),a.jsx("select",{className:"input-field",value:o.recordType,onChange:O=>l(C=>({...C,recordType:O.target.value})),children:Object.keys(ls).map(O=>a.jsx("option",{value:O,children:ls[O]},O))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Clinical Notes"}),a.jsx("textarea",{placeholder:"Enter clinical observations, assessments, and notes...",className:"input-field h-32 resize-none",value:o.notes??"",onChange:O=>l(C=>({...C,notes:O.target.value}))})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location (optional)"}),a.jsx("input",{type:"text",placeholder:"e.g. Home visit, Clinic",className:"input-field",value:o.location??"",onChange:O=>l(C=>({...C,location:O.target.value||void 0}))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Data (JSON)"}),a.jsx("textarea",{placeholder:'{ "bloodPressure": "120/80" }',className:"input-field h-24",value:JSON.stringify(o.data??{},null,2),onChange:O=>{try{const C=JSON.parse(O.target.value||"{}");l(D=>({...D,data:C}))}catch{}}})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",className:"btn-outline",onClick:()=>l({patientId:"",recordType:"note",data:{},notes:""}),children:"Cancel"}),a.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:N.loading,children:[a.jsx(hv,{className:"h-4 w-4 mr-2"}),N.loading?"Saving...":"Save Entry"]})]})]})]}),f&&d&&a.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30",onClick:_}),a.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-3xl w-full mx-4 p-6 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Record Details"}),a.jsx("button",{className:"text-gray-400 hover:text-gray-600",onClick:_,children:""})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-700",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Patient:"})," ",d.patientName," (",d.patientId,")"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Type:"})," ",ls[d.recordType]]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Recorded At:"})," ",j(d.timestamp)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Updated By:"})," ",d.updatedByName??d.updatedBy," ","(",d.updatedByRole,")"]}),d.location&&a.jsxs("div",{children:[a.jsx("strong",{children:"Location:"})," ",d.location]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Clinical Details"}),A(d)]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Notes"}),a.jsx("p",{className:"text-sm text-gray-700",children:d.notes||"No additional notes"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Raw Data"}),a.jsx("pre",{className:"text-xs bg-gray-50 p-3 rounded border border-gray-100 overflow-x-auto",children:JSON.stringify(d.data??{},null,2)})]})]}),a.jsxs("div",{className:"mt-4 flex justify-end space-x-3",children:[a.jsx("button",{className:"btn-outline",onClick:()=>k(d),children:"Print / PDF"}),a.jsx("button",{className:"btn-primary",onClick:_,children:"Close"})]})]})]})]})}function Die(e){if(!e)return{};if(typeof e=="string")try{return JSON.parse(e)}catch{return{message:e}}return typeof e=="object"?e:{}}function VS(e){if(!e)throw new Error("Invalid incident payload received from API");const t=Die(e.details),r=e.user??{},n=(t.severity||t.level||e.severity||"medium").toString().toLowerCase(),i=["low","medium","high","critical"].includes(n)?n:"medium",o=(t.status||e.status||"open").toString().toLowerCase(),l=t.description||e.description||t.message||e.action||"Security incident reported",c=e.timestamp??e.createdAt??e.updatedAt??new Date().toISOString();return{id:e.id,type:(t.type||e.type||e.action||"security-incident").toString(),severity:i,status:["open","investigating","resolved","closed"].includes(o||"")?o:"open",description:l,action:e.action||"SECURITY_INCIDENT",userId:e.userId??t.userId,userName:r.name??t.userName??t.reportedBy,userEmail:r.email??t.userEmail,ipAddress:e.ipAddress??t.ipAddress,userAgent:e.userAgent??t.userAgent,timestamp:new Date(c).toISOString(),createdAt:e.createdAt?new Date(e.createdAt).toISOString():void 0,updatedAt:e.updatedAt?new Date(e.updatedAt).toISOString():void 0,metadata:t}}class Lie{async getIncidents(t){const r=await H.get(q.SECURITY.INCIDENTS,{params:{page:t==null?void 0:t.page,limit:t==null?void 0:t.limit}});return{incidents:(Array.isArray(r.data)?r.data:Array.isArray(r.incidents)?r.incidents:[]).map(VS),pagination:r.pagination}}async reportIncident(t){const r=await H.post(q.SECURITY.REPORT_INCIDENT,t),n=r.data??r;return VS(n)}}const qS=new Lie,Bie={searchTerm:"",severity:"all",status:"all"},WS={show:!1,type:"",severity:"medium",description:"",status:"open",metadata:{}};function Uie(e){if(!e)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return e}}function Fie(e){switch(e){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-orange-100 text-orange-800";case"critical":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}function zie(e){switch(e){case"open":return"bg-red-100 text-red-800";case"investigating":return"bg-yellow-100 text-yellow-800";case"resolved":return"bg-green-100 text-green-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}}function Hie(){var j;const[e,t]=E.useState(Bie),[r,n]=E.useState(WS),{addNotification:s}=yt(),{user:i}=st(),o=(i==null?void 0:i.role)==="admin",{data:l,loading:c,error:u,refetch:d}=xe(()=>o?qS.getIncidents({page:1,limit:50}):Promise.resolve({incidents:[],pagination:void 0}),[o]),m=je(qS.reportIncident),f=(l==null?void 0:l.incidents)??[],p=E.useMemo(()=>{const w=e.searchTerm.trim().toLowerCase();return f.filter(A=>{var P;const T=e.severity==="all"||A.severity===e.severity,S=e.status==="all"||A.status===e.status,_=!w||[A.type,A.description,A.action,A.userName,A.userEmail,(P=A.metadata)==null?void 0:P.message].filter(Boolean).some(k=>k.toString().toLowerCase().includes(w));return T&&S&&_})},[e,f]),h=p.filter(w=>w.severity==="high"||w.severity==="critical").length,g=p.filter(w=>w.status==="investigating").length,v=p.filter(w=>w.status==="resolved").length,x=(w,A)=>{t(T=>({...T,[w]:A}))},y=w=>{n(A=>({...WS,show:w}))},b=(w,A)=>{n(T=>({...T,[w]:A,show:!0}))},N=async w=>{w.preventDefault();try{await m.mutate({type:r.type,severity:r.severity,description:r.description,status:r.status,metadata:r.metadata}),s({title:"Incident reported",message:"The security team has been notified.",type:"success",priority:"high",category:"system",userId:""}),y(!1),await d()}catch(A){s({title:"Unable to submit incident",message:(A==null?void 0:A.message)||"We could not file this incident. Please try again.",type:"error",priority:"high",category:"system",userId:""})}};return a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Security Incidents"}),a.jsx("p",{className:"text-gray-600",children:"Track and manage security-related events, breaches, and investigations"}),!o&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"You can report incidents, but only administrators can view the full incident log."})]}),a.jsxs("button",{className:"btn-primary flex items-center",onClick:()=>y(!0),children:[a.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Report Incident"]})]})}),u&&o&&a.jsx("div",{className:"card bg-red-50 border border-red-200 text-red-700 mb-6",children:"We could not load incidents. Please refresh the page or try again later."}),a.jsx("div",{className:"card mb-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[a.jsxs("div",{className:"flex items-center space-x-4 w-full sm:w-auto",children:[a.jsxs("div",{className:"relative flex-1 sm:flex-initial sm:w-72",children:[a.jsx(jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search incidents...",value:e.searchTerm,onChange:w=>x("searchTerm",w.target.value),className:"pl-10 input-field"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(pf,{className:"h-4 w-4 text-gray-400"}),a.jsxs("select",{value:e.severity,onChange:w=>x("severity",w.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Severity"}),a.jsx("option",{value:"low",children:"Low"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"high",children:"High"}),a.jsx("option",{value:"critical",children:"Critical"})]}),a.jsxs("select",{value:e.status,onChange:w=>x("status",w.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"open",children:"Open"}),a.jsx("option",{value:"investigating",children:"Investigating"}),a.jsx("option",{value:"resolved",children:"Resolved"}),a.jsx("option",{value:"closed",children:"Closed"})]})]})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:p.length})," incidents match your filters"]})]})}),a.jsxs("div",{className:"space-y-4",children:[c&&a.jsxs("div",{className:"card flex justify-center items-center py-12 text-gray-500",children:[a.jsx(rt,{className:"h-5 w-5 mr-2 animate-spin"}),"Loading incidents..."]}),!c&&p.length===0&&a.jsxs("div",{className:"card text-center py-12",children:[a.jsx(Jt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No incidents found"}),a.jsx("p",{className:"text-gray-600",children:"There are no incidents that match your current filters."})]}),p.map(w=>{var A;return a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(Jt,{className:"h-5 w-5 text-red-500 mr-2"}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Fie(w.severity)}`,children:w.severity.charAt(0).toUpperCase()+w.severity.slice(1)}),a.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${zie(w.status)}`,children:(w.status??"open").charAt(0).toUpperCase()+(w.status??"open").slice(1)}),a.jsx("span",{className:"ml-4 text-sm text-gray-500",children:Uie(w.timestamp)})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:w.type.replace(/[-_]/g," ").replace(/\b\w/g,T=>T.toUpperCase())}),a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Action: ",w.action]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Reported by:"," ",w.userName||w.userEmail||w.userId||"System"]}),w.ipAddress&&a.jsxs("p",{className:"text-sm text-gray-600",children:["IP: ",w.ipAddress]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Description"}),a.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-line",children:w.description}),((A=w.metadata)==null?void 0:A.details)&&a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Details: ",JSON.stringify(w.metadata.details)]})]})]})]}),a.jsx("div",{className:"ml-4 flex flex-col space-y-2",children:a.jsxs("button",{className:"btn-outline text-sm py-1 px-3",disabled:!0,children:[a.jsx(Bt,{className:"h-3 w-3 mr-1"}),"View Log"]})})]})},w.id)})]}),a.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-red-600",children:h}),a.jsx("div",{className:"text-sm text-gray-600",children:"High/Critical Priority"})]}),a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:g}),a.jsx("div",{className:"text-sm text-gray-600",children:"Under Investigation"})]}),a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:v}),a.jsx("div",{className:"text-sm text-gray-600",children:"Resolved"})]}),a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-600",children:p.length}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Total (",((j=l==null?void 0:l.pagination)==null?void 0:j.total)??f.length,")"]})]})]}),r.show&&a.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30",onClick:()=>y(!1)}),a.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-lg w-full mx-4 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Report Security Incident"}),a.jsx("button",{className:"text-gray-400 hover:text-gray-600",onClick:()=>y(!1),children:""})]}),a.jsxs("form",{className:"space-y-4",onSubmit:N,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Incident Type"}),a.jsx("input",{type:"text",className:"input-field",placeholder:"e.g., Unauthorized Access",value:r.type,onChange:w=>b("type",w.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Severity"}),a.jsxs("select",{className:"input-field",value:r.severity,onChange:w=>b("severity",w.target.value),required:!0,children:[a.jsx("option",{value:"low",children:"Low"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"high",children:"High"}),a.jsx("option",{value:"critical",children:"Critical"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{className:"input-field h-24 resize-none",placeholder:"Provide details about the incident...",value:r.description,onChange:w=>b("description",w.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),a.jsxs("select",{className:"input-field",value:r.status,onChange:w=>b("status",w.target.value),children:[a.jsx("option",{value:"open",children:"Open"}),a.jsx("option",{value:"investigating",children:"Investigating"}),a.jsx("option",{value:"resolved",children:"Resolved"}),a.jsx("option",{value:"closed",children:"Closed"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",className:"btn-outline",onClick:()=>y(!1),children:"Cancel"}),a.jsxs("button",{type:"submit",className:"btn-primary",disabled:m.loading,children:[m.loading?a.jsx(rt,{className:"h-4 w-4 mr-2 inline animate-spin"}):null,"Submit Incident"]})]})]})]})]})]})}function GS({isOpen:e,onClose:t,onSave:r,specialist:n,mode:s}){const[i,o]=E.useState({name:"",email:"",password:"",phone:"",licenseNumber:"",specialization:"clinical-psychologist",experience:0,certifications:[],hourlyRate:0,bio:"",hireDate:new Date().toISOString().split("T")[0],avatar:"",status:"active"}),[l,c]=E.useState(""),[u,d]=E.useState(!1),[m,f]=E.useState(null),[p,h]=E.useState(null),[g,v]=E.useState(null),[x,y]=E.useState(!1),[b,N]=E.useState([]),[j,w]=E.useState(!0),A=s==="edit"&&n;E.useEffect(()=>{e&&(async()=>{try{w(!0);const D=await Sa.getSpecializations({type:"SPECIALIST"});N(D)}catch(D){console.error("Failed to load specializations:",D)}finally{w(!1)}})()},[e]),E.useEffect(()=>{e||(d(!1),f(null),h(null),v(null),y(!1))},[e]),E.useEffect(()=>{if(A&&n)if(o({name:n.name,email:n.email,password:"",phone:n.phone,licenseNumber:n.licenseNumber,specialization:n.specialization,experience:n.experience,certifications:n.certifications,hourlyRate:n.hourlyRate,bio:n.bio??"",hireDate:n.hireDate?new Date(n.hireDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],avatar:n.avatar??"",status:n.status}),n.avatar){const C=n.avatar.startsWith("http")?n.avatar:`http://51.20.55.20:3007${n.avatar.startsWith("/")?n.avatar:"/"+n.avatar}`;v(C)}else v(null);else s==="add"&&(o({name:"",email:"",password:"",phone:"",licenseNumber:"",specialization:"clinical-psychologist",experience:0,certifications:[],hourlyRate:0,bio:"",hireDate:new Date().toISOString().split("T")[0],avatar:"",status:"active"}),v(null))},[A,n,s,e]);const T=C=>{const{name:D,value:U}=C.target;o(z=>({...z,[D]:["experience","hourlyRate"].includes(D)?Number(U)||0:U}))},S=()=>{const C=l.trim();C&&!i.certifications.includes(C)&&(o(D=>({...D,certifications:[...D.certifications,C]})),c(""))},_=C=>{o(D=>({...D,certifications:D.certifications.filter(U=>U!==C)}))},P=async C=>{var z;const D=(z=C.target.files)==null?void 0:z[0];if(!D)return;if(!D.type.startsWith("image/")){f("Please select a valid image file");return}if(D.size>10*1024*1024){f("Image size must be less than 10MB");return}h(D),f(null);const U=new FileReader;U.onloadend=()=>{v(U.result)},U.readAsDataURL(D),y(!0);try{const I=await H.uploadFile(q.UPLOAD.IMAGE,D);if(I.success&&I.data){const F=I.data.url||I.data.url;if(F){const V=F.startsWith("http")?F.replace(/^https?:\/\/[^\/]+/,""):F.startsWith("/")?F:"/"+F;o(se=>({...se,avatar:V}));const ee=`http://51.20.55.20:3007${V}`;v(ee)}}}catch(I){f((I==null?void 0:I.message)||"Failed to upload image"),h(null),v(null)}finally{y(!1)}},k=()=>{h(null),v(null),o(C=>({...C,avatar:""}))},O=async C=>{if(C.preventDefault(),d(!0),f(null),s==="add"&&(!i.password||i.password.length<8)){f("Password must be at least 8 characters long."),d(!1);return}if(s==="edit"&&i.password&&i.password.length<8){f("Password must be at least 8 characters long."),d(!1);return}try{await r({...i,certifications:i.certifications.map(D=>D.trim()).filter(Boolean),experience:Number(i.experience)||0,hourlyRate:Number(i.hourlyRate)||0}),t()}catch(D){f((D==null?void 0:D.message)??"Unable to save specialist. Please try again.")}finally{d(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s==="add"?"Add New Specialist":"Edit Specialist"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Pe,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:O,className:"p-6 space-y-6",children:[m&&a.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:m}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Basic Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),a.jsx("input",{type:"text",name:"name",value:i.name,onChange:T,required:!0,className:"input-field",placeholder:"Enter full name",disabled:u})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),a.jsx("input",{type:"email",name:"email",value:i.email,onChange:T,required:!0,className:"input-field",placeholder:"Enter email address",disabled:u}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will be used for login"})]}),s==="add"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),a.jsx("input",{type:"password",name:"password",value:i.password,onChange:T,required:s==="add",minLength:8,className:"input-field",placeholder:"Minimum 8 characters",disabled:u}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Provide this to the specialist for login"})]}),s==="edit"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password (optional)"}),a.jsx("input",{type:"password",name:"password",value:i.password,onChange:T,minLength:8,className:"input-field",placeholder:"Leave blank to keep current password",disabled:u}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only fill if you want to change the password"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),a.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:T,required:!0,className:"input-field",placeholder:"Enter phone number",disabled:u})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"License Number *"}),a.jsx("input",{type:"text",name:"licenseNumber",value:i.licenseNumber,onChange:T,required:!0,className:"input-field",placeholder:"Enter license number",disabled:u})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specialization *"}),a.jsxs("select",{name:"specialization",value:i.specialization,onChange:T,required:!0,className:"input-field",disabled:u||j,children:[a.jsx("option",{value:"",children:"Select specialization"}),j?a.jsx("option",{disabled:!0,children:"Loading specializations..."}):b.map(C=>a.jsx("option",{value:C.name.toUpperCase().replace(/\s+/g,"_"),children:C.name},C.id))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Picture"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[g?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:g,alt:"Avatar preview",className:"h-20 w-20 rounded-full object-cover border-2 border-gray-200"}),a.jsx("button",{type:"button",onClick:k,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:a.jsx(Pe,{className:"h-4 w-4"})})]}):a.jsx("div",{className:"h-20 w-20 rounded-full bg-gray-100 flex items-center justify-center border-2 border-dashed border-gray-300",children:a.jsx(Qc,{className:"h-8 w-8 text-gray-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("label",{className:"cursor-pointer",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:P,className:"hidden",disabled:x||u}),a.jsx("div",{className:"btn-outline flex items-center justify-center",children:x?a.jsxs(a.Fragment,{children:[a.jsx(rt,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Co,{className:"h-4 w-4 mr-2"}),g?"Change Picture":"Upload Picture"]})})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG or GIF (max 10MB)"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),a.jsx("textarea",{name:"bio",value:i.bio,onChange:T,rows:3,className:"input-field",placeholder:"Enter specialist bio",disabled:u})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Certifications"}),a.jsxs("div",{className:"space-y-3",children:[i.certifications.map((C,D)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsx("span",{className:"text-sm text-gray-900",children:C}),a.jsx("button",{type:"button",onClick:()=>_(C),className:"text-red-600 hover:text-red-800",disabled:u,children:a.jsx(ht,{className:"h-4 w-4"})})]},D)),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",value:l,onChange:C=>c(C.target.value),className:"input-field flex-1",placeholder:"Enter certification name",disabled:u}),a.jsxs("button",{type:"button",onClick:S,className:"btn-secondary flex items-center",disabled:u,children:[a.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Add"]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Professional Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Years of Experience *"}),a.jsx("input",{type:"number",name:"experience",value:i.experience,onChange:T,min:0,max:50,required:!0,className:"input-field",placeholder:"Enter years of experience",disabled:u})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hourly Rate *"}),a.jsx("input",{type:"number",name:"hourlyRate",value:i.hourlyRate,onChange:T,min:0,step:"0.01",required:!0,className:"input-field",placeholder:"Enter hourly rate",disabled:u})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Employment Details"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),a.jsxs("select",{name:"status",value:i.status,onChange:T,required:!0,className:"input-field",disabled:u,children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"}),a.jsx("option",{value:"on-leave",children:"On Leave"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hire Date *"}),a.jsx("input",{type:"date",name:"hireDate",value:i.hireDate,onChange:T,required:!0,className:"input-field",disabled:u})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-outline",disabled:u,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:u,children:u?"Saving...":s==="add"?"Add Specialist":"Save Changes"})]})]})]})}):null}const Vie=e=>e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),qie=e=>{switch(e){case"clinical-psychologist":return"bg-purple-100 text-purple-800";case"nutritionist":return"bg-green-100 text-green-800";case"critical-care-nurse":return"bg-red-100 text-red-800";case"medical-doctor":return"bg-blue-100 text-blue-800";case"geriatrician":return"bg-indigo-100 text-indigo-800";case"palliative-care-specialist":return"bg-gray-100 text-gray-800";case"senior-midwife":return"bg-rose-100 text-rose-800";default:return"bg-gray-100 text-gray-800"}},Wie=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"on-leave":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};function Gie({isOpen:e,onClose:t,specialist:r}){if(!e||!r)return null;const n=i=>`${(i==null?void 0:i.filter(l=>l.isAvailable).length)||0} days/week`,s=r.avatar?r.avatar.startsWith("http")?r.avatar:`http://51.20.55.20:3007${r.avatar.startsWith("/")?r.avatar:"/"+r.avatar}`:null;return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Specialist Details"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Pe,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-start space-x-4 pb-6 border-b border-gray-200",children:[s?a.jsx("img",{src:s,alt:r.name,className:"h-20 w-20 rounded-full object-cover border-2 border-gray-200"}):a.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-primary-100 text-xl font-semibold text-primary-700",children:r.name.split(" ").map(i=>i[0]).join("").slice(0,2).toUpperCase()}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r.name}),a.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${qie(r.specialization)}`,children:Vie(r.specialization)}),a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${Wie(r.status)}`,children:r.status.charAt(0).toUpperCase()+r.status.slice(1)})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(pv,{className:"h-5 w-5 text-gray-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),a.jsx("p",{className:"font-semibold text-gray-900",children:r.email})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Ha,{className:"h-5 w-5 text-gray-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),a.jsx("p",{className:"font-semibold text-gray-900",children:r.phone||""})]})]})]}),a.jsxs("div",{className:"rounded-lg bg-gray-50 p-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Professional Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Ft,{className:"h-5 w-5 text-gray-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"License Number"}),a.jsx("p",{className:"font-semibold text-gray-900",children:r.licenseNumber||""})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(S$,{className:"h-5 w-5 text-gray-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Experience"}),a.jsxs("p",{className:"font-semibold text-gray-900",children:[r.experience," years"]})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Gr,{className:"h-5 w-5 text-gray-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Hourly Rate"}),a.jsxs("p",{className:"font-semibold text-gray-900",children:["$",r.hourlyRate,"/hr"]})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Te,{className:"h-5 w-5 text-gray-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Hire Date"}),a.jsx("p",{className:"font-semibold text-gray-900",children:new Date(r.hireDate).toLocaleDateString()})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(De,{className:"h-5 w-5 text-gray-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Availability"}),a.jsx("p",{className:"font-semibold text-gray-900",children:n(r.availability)})]})]})]})]}),r.certifications&&r.certifications.length>0&&a.jsxs("div",{className:"rounded-lg border border-gray-200 p-4",children:[a.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[a.jsx(Ft,{className:"h-5 w-5 text-gray-400"}),a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Certifications"})]}),a.jsx("ul",{className:"space-y-2",children:r.certifications.map((i,o)=>a.jsxs("li",{className:"flex items-center text-gray-700",children:[a.jsx("span",{className:"mr-2 text-primary-600",children:""}),i]},o))})]}),r.bio&&a.jsxs("div",{className:"rounded-lg bg-blue-50 p-4",children:[a.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[a.jsx(ur,{className:"h-5 w-5 text-blue-600"}),a.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"Bio"})]}),a.jsx("p",{className:"text-sm text-blue-800 whitespace-pre-wrap",children:r.bio})]})]}),a.jsx("div",{className:"flex justify-end gap-3 border-t border-gray-200 px-6 py-4",children:a.jsx("button",{onClick:t,className:"btn-primary",children:"Close"})})]})})}function Yie(){const{user:e}=st(),t=(e==null?void 0:e.role)==="admin",[r,n]=E.useState(""),[s,i]=E.useState("all"),[o,l]=E.useState("all"),[c,u]=E.useState(!1),[d,m]=E.useState(!1),[f,p]=E.useState(!1),[h,g]=E.useState(null),{addNotification:v}=yt(),{data:x,loading:y,error:b,refetch:N}=xe(()=>xs.getSpecialists({limit:200}),[]),j=(x==null?void 0:x.specialists)??[],w=E.useMemo(()=>j.filter(R=>{const F=R.name.toLowerCase().includes(r.toLowerCase())||R.specialization.toLowerCase().includes(r.toLowerCase())||R.email.toLowerCase().includes(r.toLowerCase()),V=s==="all"||R.specialization===s,W=o==="all"||R.status===o;return F&&V&&W}),[j,r,s,o]),A=je(xs.createSpecialist.bind(xs)),T=je(R=>xs.updateSpecialist(R.id,R.data)),S=je(R=>xs.deleteSpecialist(R)),_=async R=>{var F,V;try{await A.mutate(R),te.success(`Specialist ${R.name} has been added successfully`),v({title:"Specialist Added",message:`${R.name} has been added to the roster.`,type:"success",userId:"system",priority:"medium",category:"specialist"}),await N(),u(!1)}catch(W){const ee=((V=(F=W==null?void 0:W.response)==null?void 0:F.data)==null?void 0:V.message)||(W==null?void 0:W.message)||"Failed to add specialist";throw te.error(ee),v({title:"Unable to add specialist",message:ee,type:"error",userId:"system",priority:"high",category:"system"}),W}},P=async R=>{var F,V;if(h)try{await T.mutate({id:h.id,data:R}),te.success(`Specialist ${R.name??h.name} has been updated successfully`),v({title:"Specialist Updated",message:`${R.name??h.name} has been updated.`,type:"success",userId:"system",priority:"medium",category:"specialist"}),await N(),m(!1),g(null)}catch(W){const ee=((V=(F=W==null?void 0:W.response)==null?void 0:F.data)==null?void 0:V.message)||(W==null?void 0:W.message)||"Failed to update specialist";throw te.error(ee),v({title:"Unable to update specialist",message:ee,type:"error",userId:"system",priority:"high",category:"system"}),W}},k=async(R,F)=>{var V,W;if(window.confirm(`Mark ${F} as inactive?`))try{await S.mutate(R),te.success(`Specialist ${F} has been marked as inactive`),v({title:"Specialist Updated",message:`${F} is now marked as inactive.`,type:"info",userId:"system",priority:"medium",category:"specialist"}),await N()}catch(ee){const se=((W=(V=ee==null?void 0:ee.response)==null?void 0:V.data)==null?void 0:W.message)||(ee==null?void 0:ee.message)||"Failed to update specialist";te.error(se),v({title:"Unable to update specialist",message:se,type:"error",userId:"system",priority:"high",category:"system"})}},O=R=>{g(R),m(!0)},C=R=>{g(R),p(!0)},D=R=>{switch(R){case"clinical-psychologist":return"bg-purple-100 text-purple-800";case"nutritionist":return"bg-green-100 text-green-800";case"critical-care-nurse":return"bg-red-100 text-red-800";case"medical-doctor":return"bg-blue-100 text-blue-800";case"geriatrician":return"bg-indigo-100 text-indigo-800";case"palliative-care-specialist":return"bg-gray-100 text-gray-800";case"senior-midwife":return"bg-rose-100 text-rose-800";default:return"bg-gray-100 text-gray-800"}},U=R=>{switch(R){case"active":return"status-active";case"inactive":return"status-inactive";case"on-leave":return"bg-yellow-100 text-yellow-800";default:return"status-inactive"}},z=R=>R.split("-").map(F=>F.charAt(0).toUpperCase()+F.slice(1)).join(" "),I=R=>`${(R==null?void 0:R.filter(V=>V.isAvailable).length)||0} days/week`;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center space-x-2",children:[a.jsx(Ft,{className:"h-6 w-6 text-primary-500"}),a.jsx("span",{children:"Specialists"})]}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage healthcare specialists and their availability."})]}),t&&a.jsx("div",{className:"mt-4 sm:mt-0",children:a.jsxs("button",{onClick:()=>u(!0),className:"btn-primary flex items-center",children:[a.jsx(Ie,{className:"mr-2 h-4 w-4"}),"Add Specialist"]})})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(jt,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search specialists...",value:r,onChange:R=>n(R.target.value),className:"input-field pl-10"})]})}),a.jsx("div",{className:"sm:w-48",children:a.jsxs("select",{value:s,onChange:R=>i(R.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Specializations"}),a.jsx("option",{value:"clinical-psychologist",children:"Clinical Psychologist"}),a.jsx("option",{value:"nutritionist",children:"Nutritionist"}),a.jsx("option",{value:"critical-care-nurse",children:"Critical Care Nurse"}),a.jsx("option",{value:"medical-doctor",children:"Medical Doctor"}),a.jsx("option",{value:"geriatrician",children:"Geriatrician"}),a.jsx("option",{value:"palliative-care-specialist",children:"Palliative Care Specialist"}),a.jsx("option",{value:"senior-midwife",children:"Senior Midwife"})]})}),a.jsx("div",{className:"sm:w-48",children:a.jsxs("select",{value:o,onChange:R=>l(R.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"}),a.jsx("option",{value:"on-leave",children:"On Leave"})]})})]})}),b&&a.jsx("div",{className:"card bg-red-50 border border-red-200 text-red-700",children:"Unable to load specialists. Please refresh or try again later."}),a.jsx("div",{className:"card",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Specialist"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Specialization"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Contact"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Experience"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Hourly Rate"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Availability"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:y?a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"px-6 py-10 text-center text-sm text-gray-500",children:"Loading specialists..."})}):w.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"px-6 py-10 text-center text-sm text-gray-500",children:"No specialists match your filters yet."})}):w.map(R=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[R.avatar?a.jsx("img",{src:R.avatar.startsWith("http")?R.avatar:`http://51.20.55.20:3007${R.avatar.startsWith("/")?R.avatar:"/"+R.avatar}`,alt:R.name,className:"h-10 w-10 rounded-full object-cover"}):a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary-100 text-sm font-semibold text-primary-700",children:R.name.split(" ").map(F=>F[0]).join("").slice(0,2).toUpperCase()}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.name}),a.jsx("div",{className:"text-sm text-gray-500",children:R.email})]})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${D(R.specialization)}`,children:z(R.specialization)})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900",children:R.phone?a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ha,{className:"mr-2 h-4 w-4 text-gray-400"}),R.phone]}):a.jsx("span",{className:"text-gray-400",children:"No phone"})})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ft,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsxs("div",{className:"text-sm text-gray-900",children:[R.experience," years"]})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Cl,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsxs("div",{className:"text-sm text-gray-900",children:["$",R.hourlyRate,"/hr"]})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(De,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm text-gray-900",children:I(R.availability)})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`status-badge ${U(R.status)}`,children:R.status.charAt(0).toUpperCase()+R.status.slice(1)})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:()=>C(R),className:"text-primary-600 hover:text-primary-900",title:"View specialist details",children:[a.jsx(Bt,{className:"mr-1 inline h-4 w-4"}),"View"]}),t&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>O(R),className:"text-secondary-600 hover:text-secondary-900",children:[a.jsx(er,{className:"mr-1 inline h-4 w-4"}),"Edit"]}),a.jsxs("button",{onClick:()=>k(R.id,R.name),className:"text-red-600 hover:text-red-900",children:[a.jsx(ht,{className:"mr-1 inline h-4 w-4"}),"Delete"]})]})]})})]},R.id))})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-primary-600",children:j.filter(R=>R.status==="active").length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Active Specialists"})]}),a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:j.filter(R=>R.specialization==="clinical-psychologist").length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Psychologists"})]}),a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:j.filter(R=>R.specialization==="nutritionist").length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Nutritionists"})]})]}),a.jsx(GS,{isOpen:c,onClose:()=>u(!1),onSave:_,mode:"add"}),a.jsx(GS,{isOpen:d,onClose:()=>{m(!1),g(null)},onSave:P,specialist:h,mode:"edit"}),a.jsx(Gie,{isOpen:f,onClose:()=>{p(!1),g(null)},specialist:h})]})}function di(e){if(!e)return{};if(e.settings)return e.settings;const{settings:t,...r}=e;return r}class Kie{async getSystemSettings(){const t=await H.get(q.SETTINGS.SYSTEM);return di(t.data)}async updateSystemSettings(t){const r=await H.put(q.SETTINGS.SYSTEM,t);return di(r.data)}async getNotificationSettings(){const t=await H.get(q.SETTINGS.NOTIFICATIONS);return di(t.data)}async updateNotificationSettings(t){const r=await H.put(q.SETTINGS.NOTIFICATIONS,t);return di(r.data)}async getReminderSettings(){const t=await H.get(q.SETTINGS.REMINDERS);return di(t.data)}async updateReminderSettings(t){const r=await H.put(q.SETTINGS.REMINDERS,t);return di(r.data)}}const zn=new Kie,Xie={firstName:"",lastName:"",email:"",phone:"",department:""},YS={currentPassword:"",newPassword:"",confirmPassword:""},Th={emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,appointmentReminders:!0,paymentReminders:!0},Qie={siteName:"Teamwork Homecare",siteEmail:"support@homecare.com",sitePhone:"+1-555-0101",maintenanceMode:!1,registrationEnabled:!0,emailVerificationRequired:!0,passwordMinLength:8,sessionTimeout:3600};function Jie(){const[e,t]=E.useState("profile"),{user:r,updateProfile:n,changePassword:s}=st(),{addNotification:i}=yt(),[o,l]=E.useState(Xie),[c,u]=E.useState(YS),[d,m]=E.useState(Th),[f,p]=E.useState(Qie),[h,g]=E.useState(!1),[v,x]=E.useState(!1),[y,b]=E.useState(!1),[N,j]=E.useState(!1),{data:w,loading:A,error:T,refetch:S}=xe(()=>zn.getNotificationSettings(),[]),{data:_,loading:P,error:k,refetch:O}=xe(()=>zn.getSystemSettings(),[]),C=je(zn.updateNotificationSettings.bind(zn)),D=je(zn.updateSystemSettings.bind(zn));E.useEffect(()=>{if(r){const[$,...B]=r.name.split(" ");l({firstName:$??"",lastName:B.join(" "),email:r.email,phone:r.phone??"",department:r.department??""})}},[r]),E.useEffect(()=>{if(w!=null&&w.notifications){m({...Th,...w.notifications});return}w&&m({...Th,...w})},[w]),E.useEffect(()=>{_&&p($=>({...$,..._}))},[_]);const U=($,B)=>{l(J=>({...J,[$]:B}))},z=$=>{m(B=>({...B,[$]:!B[$]}))},I=($,B)=>{p(J=>({...J,[$]:B}))},R=async $=>{if($.preventDefault(),!!r){g(!0);try{const B=`${o.firstName} ${o.lastName}`.trim()||r.name;await n({name:B,email:o.email,phone:o.phone,department:o.department}),i({title:"Profile updated",message:"Your profile information was saved successfully.",type:"success",priority:"medium",category:"system",userId:r.id})}catch(B){i({title:"Profile update failed",message:(B==null?void 0:B.message)||"We could not update your profile. Please try again.",type:"error",priority:"high",category:"system",userId:(r==null?void 0:r.id)??""})}finally{g(!1)}}},F=async $=>{if($.preventDefault(),c.newPassword!==c.confirmPassword){i({title:"Password mismatch",message:"Please make sure the new passwords match.",type:"warning",priority:"medium",category:"system",userId:(r==null?void 0:r.id)??""});return}x(!0);try{await s(c.currentPassword,c.newPassword),i({title:"Password updated",message:"Your password has been updated securely.",type:"success",priority:"medium",category:"system",userId:(r==null?void 0:r.id)??""}),u(YS)}catch(B){i({title:"Password update failed",message:(B==null?void 0:B.message)||"Unable to change password. Please verify your current password.",type:"error",priority:"high",category:"system",userId:(r==null?void 0:r.id)??""})}finally{x(!1)}},V=async $=>{$.preventDefault(),b(!0);try{const B=await C.mutate(d);m(B),i({title:"Notification preferences saved",message:"We will use your preferences for future alerts.",type:"success",priority:"medium",category:"system",userId:(r==null?void 0:r.id)??""}),await S()}catch(B){i({title:"Unable to save preferences",message:(B==null?void 0:B.message)||"Please try again later.",type:"error",priority:"high",category:"system",userId:(r==null?void 0:r.id)??""})}finally{b(!1)}},W=async $=>{$.preventDefault(),j(!0);try{const B={passwordMinLength:f.passwordMinLength,sessionTimeout:f.sessionTimeout,emailVerificationRequired:f.emailVerificationRequired},J=await D.mutate(B);p(X=>({...X,...J})),i({title:"Security policies updated",message:"Password and session policies have been refreshed.",type:"success",priority:"medium",category:"system",userId:(r==null?void 0:r.id)??""}),await O()}catch(B){i({title:"Unable to update security settings",message:(B==null?void 0:B.message)||"Please try again later.",type:"error",priority:"high",category:"system",userId:(r==null?void 0:r.id)??""})}finally{j(!1)}},ee=async $=>{$.preventDefault(),j(!0);try{const B={siteName:f.siteName,siteEmail:f.siteEmail,sitePhone:f.sitePhone,maintenanceMode:f.maintenanceMode,registrationEnabled:f.registrationEnabled},J=await D.mutate(B);p(X=>({...X,...J})),i({title:"System settings saved",message:"Core system preferences were updated successfully.",type:"success",priority:"medium",category:"system",userId:(r==null?void 0:r.id)??""}),await O()}catch(B){i({title:"Unable to save system settings",message:(B==null?void 0:B.message)||"Please try again later.",type:"error",priority:"high",category:"system",userId:(r==null?void 0:r.id)??""})}finally{j(!1)}},se=P||D.loading,ye=A||C.loading;return a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),a.jsx("p",{className:"text-gray-600",children:"Manage your account and system preferences"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsx("nav",{className:"space-y-1",children:[{key:"profile",label:"Profile",icon:vt},{key:"notifications",label:"Notifications",icon:Hn},{key:"security",label:"Security",icon:xv},{key:"system",label:"System",icon:E$},{key:"specializations",label:"Specializations",icon:O$,adminOnly:!0}].filter($=>!$.adminOnly||(r==null?void 0:r.role)==="admin").map($=>a.jsxs("button",{onClick:()=>t($.key),className:`w-full flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 ${e===$.key?"bg-primary-50 text-primary-700 border-r-2 border-primary-500":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[a.jsx($.icon,{className:"h-4 w-4 mr-3"}),$.label]},$.key))})}),a.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[e==="profile"&&a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Profile Settings"}),a.jsxs("form",{className:"space-y-6",onSubmit:R,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),a.jsx("input",{type:"text",className:"input-field",value:o.firstName,onChange:$=>U("firstName",$.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),a.jsx("input",{type:"text",className:"input-field",value:o.lastName,onChange:$=>U("lastName",$.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),a.jsx("input",{type:"email",className:"input-field",value:o.email,onChange:$=>U("email",$.target.value),required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),a.jsx("input",{type:"tel",className:"input-field",value:o.phone??"",onChange:$=>U("phone",$.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),a.jsx("input",{type:"text",className:"input-field",value:o.department??"",onChange:$=>U("department",$.target.value)})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{className:"btn-primary",disabled:h,children:[h?a.jsx(rt,{className:"h-4 w-4 mr-2 inline animate-spin"}):null,"Save Changes"]})})]})]}),e==="notifications"&&a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Notification Preferences"}),T&&a.jsx("div",{className:"p-4 mb-4 text-sm text-red-700 bg-red-50 border border-red-200 rounded-md",children:"Unable to load your notification preferences right now."}),a.jsxs("form",{className:"space-y-6",onSubmit:V,children:[ye?a.jsxs("div",{className:"flex items-center justify-center py-8 text-gray-500",children:[a.jsx(rt,{className:"h-5 w-5 mr-2 animate-spin"})," Loading preferences..."]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Email Notifications"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Receive notifications via email."})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:!!d.emailNotifications,onChange:()=>z("emailNotifications")}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"SMS Notifications"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Receive alerts via SMS."})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:!!d.smsNotifications,onChange:()=>z("smsNotifications")}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Push Notifications"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Enable in-app push notifications."})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:!!d.pushNotifications,onChange:()=>z("pushNotifications")}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Appointment Reminders"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Get reminded about upcoming appointments."})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:!!d.appointmentReminders,onChange:()=>z("appointmentReminders")}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Payment Reminders"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Stay on top of invoice due dates."})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:!!d.paymentReminders,onChange:()=>z("paymentReminders")}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{className:"btn-primary",disabled:y||ye,children:[y?a.jsx(rt,{className:"h-4 w-4 mr-2 inline animate-spin"}):null,"Save Preferences"]})})]})]}),e==="security"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Security Settings"}),a.jsxs("form",{className:"space-y-6",onSubmit:F,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),a.jsx("input",{type:"password",className:"input-field",value:c.currentPassword,onChange:$=>u(B=>({...B,currentPassword:$.target.value})),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),a.jsx("input",{type:"password",className:"input-field",value:c.newPassword,onChange:$=>u(B=>({...B,newPassword:$.target.value})),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),a.jsx("input",{type:"password",className:"input-field",value:c.confirmPassword,onChange:$=>u(B=>({...B,confirmPassword:$.target.value})),required:!0})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{className:"btn-primary",disabled:v,children:[v?a.jsx(rt,{className:"h-4 w-4 mr-2 inline animate-spin"}):null,"Update Password"]})})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Password & Session Policies"}),k&&a.jsx("div",{className:"p-4 mb-4 text-sm text-red-700 bg-red-50 border border-red-200 rounded-md",children:"Unable to load security-related system settings."}),se?a.jsxs("div",{className:"flex items-center justify-center py-8 text-gray-500",children:[a.jsx(rt,{className:"h-5 w-5 mr-2 animate-spin"})," Loading security policies..."]}):a.jsxs("form",{className:"space-y-6",onSubmit:W,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password Minimum Length"}),a.jsx("input",{type:"number",min:4,className:"input-field",value:f.passwordMinLength??8,onChange:$=>I("passwordMinLength",Number($.target.value)||8),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Timeout (seconds)"}),a.jsx("input",{type:"number",min:300,className:"input-field",value:f.sessionTimeout??3600,onChange:$=>I("sessionTimeout",Number($.target.value)||3600),required:!0})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Require email verification"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Users must verify their email before accessing the system."})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:!!f.emailVerificationRequired,onChange:()=>I("emailVerificationRequired",!f.emailVerificationRequired)}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{className:"btn-primary",disabled:N||se,children:[N?a.jsx(rt,{className:"h-4 w-4 mr-2 inline animate-spin"}):null,"Save Security Policies"]})})]})]})]}),e==="system"&&a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"System Settings"}),k&&a.jsx("div",{className:"p-4 mb-4 text-sm text-red-700 bg-red-50 border border-red-200 rounded-md",children:"Unable to load core system settings."}),se?a.jsxs("div",{className:"flex items-center justify-center py-8 text-gray-500",children:[a.jsx(rt,{className:"h-5 w-5 mr-2 animate-spin"})," Loading system settings..."]}):a.jsxs("form",{className:"space-y-6",onSubmit:ee,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Site Name"}),a.jsx("input",{type:"text",className:"input-field",value:f.siteName??"",onChange:$=>I("siteName",$.target.value),required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Support Email"}),a.jsx("input",{type:"email",className:"input-field",value:f.siteEmail??"",onChange:$=>I("siteEmail",$.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Support Phone"}),a.jsx("input",{type:"tel",className:"input-field",value:f.sitePhone??"",onChange:$=>I("sitePhone",$.target.value),required:!0})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Maintenance Mode"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Temporarily disable non-admin access while maintenance is performed."})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:!!f.maintenanceMode,onChange:()=>I("maintenanceMode",!f.maintenanceMode)}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Allow New Registrations"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Control whether new users can sign up."})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:!!f.registrationEnabled,onChange:()=>I("registrationEnabled",!f.registrationEnabled)}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{className:"btn-primary",disabled:N||se,children:[N?a.jsx(rt,{className:"h-4 w-4 mr-2 inline animate-spin"}):null,"Save Settings"]})})]})]}),e==="specializations"&&(r==null?void 0:r.role)==="admin"&&a.jsx(Zie,{})]})]})]})}function Zie(){const[e,t]=E.useState("all"),[r,n]=E.useState(!1),[s,i]=E.useState(null),[o,l]=E.useState({name:"",type:"SPECIALIST",description:"",isActive:!0,displayOrder:0}),{data:c,loading:u,error:d,refetch:m}=xe(()=>Sa.getSpecializations({type:e!=="all"?e:void 0,includeInactive:!0}),[e]),f=je(Sa.createSpecialization.bind(Sa)),p=je(({id:N,data:j})=>Sa.updateSpecialization(N,j)),h=je(Sa.deleteSpecialization.bind(Sa)),g=E.useMemo(()=>c?e==="all"?c:c.filter(N=>N.type===e):[],[c,e]),v=()=>{l({name:"",type:"SPECIALIST",description:"",isActive:!0,displayOrder:0}),i(null),n(!0)},x=N=>{l({name:N.name,type:N.type,description:N.description||"",isActive:N.isActive,displayOrder:N.displayOrder}),i(N),n(!0)},y=async()=>{try{s?(await p.mutate({id:s.id,data:o}),te.success("Specialization updated successfully")):(await f.mutate(o),te.success("Specialization created successfully")),n(!1),i(null),await m()}catch(N){te.error((N==null?void 0:N.message)||"Failed to save specialization")}},b=async N=>{if(window.confirm("Are you sure you want to delete this specialization?"))try{await h.mutate(N),te.success("Specialization deleted successfully"),await m()}catch(j){te.error((j==null?void 0:j.message)||"Failed to delete specialization")}};return a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Specializations Management"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage specializations for Specialists and Therapists"})]}),a.jsxs("button",{onClick:v,className:"btn-primary inline-flex items-center",children:[a.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Add Specialization"]})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>t("all"),className:`px-4 py-2 rounded-lg text-sm font-medium ${e==="all"?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All"}),a.jsx("button",{onClick:()=>t("SPECIALIST"),className:`px-4 py-2 rounded-lg text-sm font-medium ${e==="SPECIALIST"?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Specialists"}),a.jsx("button",{onClick:()=>t("THERAPIST"),className:`px-4 py-2 rounded-lg text-sm font-medium ${e==="THERAPIST"?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Therapists"})]})}),u?a.jsxs("div",{className:"flex items-center justify-center py-8 text-gray-500",children:[a.jsx(rt,{className:"h-5 w-5 mr-2 animate-spin"})," Loading specializations..."]}):d?a.jsx("div",{className:"p-4 text-sm text-red-700 bg-red-50 border border-red-200 rounded-md",children:"Failed to load specializations"}):a.jsx("div",{className:"space-y-2",children:g.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500",children:'No specializations found. Click "Add Specialization" to create one.'}):g.map(N=>a.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:N.name}),a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${N.type==="SPECIALIST"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:N.type}),!N.isActive&&a.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded bg-gray-100 text-gray-600",children:"Inactive"})]}),N.description&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:N.description}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Order: ",N.displayOrder]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>x(N),className:"p-2 text-secondary-600 hover:bg-secondary-50 rounded",title:"Edit",children:a.jsx(er,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>b(N.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Delete",children:a.jsx(ht,{className:"h-4 w-4"})})]})]},N.id))}),r&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s?"Edit Specialization":"Add Specialization"}),a.jsx("button",{onClick:()=>{n(!1),i(null)},className:"text-gray-400 hover:text-gray-600",children:a.jsx(Pe,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),a.jsx("input",{type:"text",value:o.name,onChange:N=>l({...o,name:N.target.value}),className:"input-field",placeholder:"e.g., Physiotherapy",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type *"}),a.jsxs("select",{value:o.type,onChange:N=>l({...o,type:N.target.value}),className:"input-field",required:!0,children:[a.jsx("option",{value:"SPECIALIST",children:"Specialist"}),a.jsx("option",{value:"THERAPIST",children:"Therapist"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{value:o.description,onChange:N=>l({...o,description:N.target.value}),className:"input-field",rows:3,placeholder:"Optional description"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Order"}),a.jsx("input",{type:"number",value:o.displayOrder,onChange:N=>l({...o,displayOrder:Number(N.target.value)}),className:"input-field",min:"0"})]}),a.jsx("div",{className:"flex items-center pt-6",children:a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:o.isActive,onChange:N=>l({...o,isActive:N.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Active"})]})})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx("button",{onClick:()=>{n(!1),i(null)},className:"btn-outline",children:"Cancel"}),a.jsx("button",{onClick:y,className:"btn-primary",disabled:!o.name||f.loading||p.loading,children:f.loading||p.loading?a.jsxs(a.Fragment,{children:[a.jsx(rt,{className:"h-4 w-4 mr-2 inline animate-spin"}),"Saving..."]}):"Save"})]})]})]})})]})}const ed={patientId:"",patientName:"",patientPhone:"",type:"appointment",title:"",message:"",scheduledTime:new Date().toISOString().slice(0,16),method:"sms",priority:"medium",maxAttempts:3};function eoe(){const[e,t]=E.useState("reminders"),[r,n]=E.useState("all"),[s,i]=E.useState("all"),[o,l]=E.useState(""),[c,u]=E.useState(!1),[d,m]=E.useState(ed),[f,p]=E.useState([]),[h,g]=E.useState(!1),{addNotification:v}=yt(),{data:x,loading:y,error:b,refetch:N}=xe(()=>ga.getReminders({limit:200}),[]),{data:j,loading:w,error:A,refetch:T}=xe(()=>zn.getReminderSettings(),[]),S=je(ga.sendReminder.bind(ga)),_=je(ga.cancelReminder.bind(ga)),P=je(ga.createReminder.bind(ga)),k=je(zn.updateReminderSettings.bind(zn)),O=E.useMemo(()=>(x==null?void 0:x.reminders)??[],[x]),C=j;E.useEffect(()=>{c&&(async()=>{g(!0);try{const{patients:J}=await zt.getPatients({limit:200,status:"active"});p(J)}catch(J){console.error("Failed to load patients",J)}finally{g(!1)}})()},[c]);const D=B=>{switch(B){case"sent":case"delivered":return a.jsx(Zt,{className:"h-4 w-4 text-green-500"});case"failed":return a.jsx(Ya,{className:"h-4 w-4 text-red-500"});case"pending":return a.jsx(De,{className:"h-4 w-4 text-yellow-500"});default:return a.jsx(Ga,{className:"h-4 w-4 text-gray-500"})}},U=B=>{switch(B){case"sent":case"delivered":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},z=B=>{switch(B){case"urgent":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},I=B=>{switch(B){case"sms":return a.jsx(_x,{className:"h-4 w-4"});case"call":return a.jsx(Ha,{className:"h-4 w-4"});case"both":return a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(_x,{className:"h-3 w-3"}),a.jsx(Ha,{className:"h-3 w-3"})]});default:return a.jsx(Hn,{className:"h-4 w-4"})}},R=B=>new Date(B).toLocaleString(),F=O.filter(B=>{const J=r==="all"||B.status===r,X=s==="all"||B.type===s,ie=B.patientName.toLowerCase().includes(o.toLowerCase())||B.title.toLowerCase().includes(o.toLowerCase());return J&&X&&ie}),V=async B=>{try{await S.mutate(B.id),v({title:"Reminder Sent",message:`Reminder "${B.title}" has been queued again.`,type:"success",userId:"system",priority:"medium",category:"general"}),await N()}catch(J){v({title:"Unable to send reminder",message:(J==null?void 0:J.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"})}},W=async B=>{if(window.confirm(`Cancel reminder "${B.title}" for ${B.patientName}?`))try{await _.mutate(B.id),v({title:"Reminder Cancelled",message:`${B.title} has been cancelled.`,type:"info",userId:"system",priority:"medium",category:"general"}),await N()}catch(J){v({title:"Unable to cancel reminder",message:(J==null?void 0:J.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"})}},ee=async B=>{B.preventDefault();try{const J={...d,scheduledTime:new Date(d.scheduledTime).toISOString()};await P.mutate(J),v({title:"Reminder Scheduled",message:`Reminder "${J.title}" has been created successfully.`,type:"success",userId:"system",priority:"medium",category:"general"}),u(!1),m(ed),await N()}catch(J){v({title:"Unable to create reminder",message:(J==null?void 0:J.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"})}},se=async(B,J)=>{if(!(!C||!C[B]))try{await k.mutate({[B]:{...C[B],enabled:J}}),await T(),v({title:"Reminder settings updated",message:"Changes saved successfully.",type:"success",userId:"system",priority:"medium",category:"system"})}catch(X){v({title:"Unable to update settings",message:(X==null?void 0:X.message)??"Please try again later.",type:"error",userId:"system",priority:"high",category:"system"})}},ye=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search reminders...",value:o,onChange:B=>l(B.target.value),className:"input-field pl-10"})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("select",{value:r,onChange:B=>n(B.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"sent",children:"Sent"}),a.jsx("option",{value:"delivered",children:"Delivered"}),a.jsx("option",{value:"failed",children:"Failed"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]}),a.jsxs("select",{value:s,onChange:B=>i(B.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Types"}),a.jsx("option",{value:"appointment",children:"Appointment"}),a.jsx("option",{value:"medication",children:"Medication"}),a.jsx("option",{value:"health-check",children:"Health Check"}),a.jsx("option",{value:"follow-up",children:"Follow-up"})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{className:"btn-primary flex items-center",onClick:()=>u(!0),children:[a.jsx(Ie,{className:"h-4 w-4 mr-2"}),"New Reminder"]})}),y&&a.jsx("div",{className:"card text-sm text-gray-500",children:"Loading reminders..."}),b&&a.jsx("div",{className:"card text-sm text-red-500",children:"Unable to load reminders. Please try again later."}),!y&&!b&&F.length===0&&a.jsx("div",{className:"card text-center py-12 text-sm text-gray-500",children:"No reminders match your filters."}),a.jsx("div",{className:"space-y-4",children:F.map(B=>a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[D(B.status),a.jsx("h3",{className:"font-semibold text-lg",children:B.title}),a.jsx("span",{className:`status-badge ${U(B.status)}`,children:B.status}),a.jsx("span",{className:`status-badge ${z(B.priority)}`,children:B.priority})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(vt,{className:"h-4 w-4"}),a.jsx("span",{children:B.patientName})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(Ha,{className:"h-4 w-4"}),a.jsx("span",{children:B.patientPhone})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(Te,{className:"h-4 w-4"}),a.jsx("span",{children:R(B.scheduledTime)})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[I(B.method),a.jsx("span",{className:"capitalize",children:B.method})]})]}),a.jsx("p",{className:"text-gray-700 mb-3",children:B.message}),B.response&&a.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mb-3",children:a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"Response:"})," ",B.response]})}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[a.jsxs("span",{children:["Attempts: ",B.attempts,"/",B.maxAttempts]}),B.lastAttempt&&a.jsxs("span",{children:["Last attempt: ",R(B.lastAttempt)]})]})]}),a.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[B.status==="failed"&&a.jsx("button",{onClick:()=>V(B),className:"btn-primary text-sm",children:"Resend"}),B.status==="pending"&&a.jsx("button",{onClick:()=>W(B),className:"btn-outline text-sm text-red-600 hover:text-red-800",children:"Cancel"})]})]})},B.id))})]}),$=()=>{var B,J,X,ie,de,M,Q,ae,oe,pe,he,Ee,ct;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Reminder Settings"}),a.jsxs("button",{className:"btn-primary",disabled:!0,children:[a.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Add Settings"]})]}),A&&a.jsx("div",{className:"card text-sm text-red-500",children:"Unable to load reminder settings. Please try again later."}),w&&a.jsx("div",{className:"card text-sm text-gray-500",children:"Loading reminder settings..."}),!w&&!A&&C&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Appointment Reminders"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Enabled"}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:((B=C.appointmentReminders)==null?void 0:B.enabled)??!1,onChange:ke=>se("appointmentReminders",ke.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Advance Time"}),a.jsxs("span",{className:"text-sm font-medium",children:[((J=C.appointmentReminders)==null?void 0:J.advanceTime)??0," minutes"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Phone Number"}),a.jsx("span",{className:"text-sm font-medium",children:((X=C.appointmentReminders)==null?void 0:X.phoneNumber)??"N/A"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Methods"}),a.jsx("div",{className:"flex gap-1",children:(((ie=C.appointmentReminders)==null?void 0:ie.methods)??[]).map(ke=>a.jsx("span",{className:"status-badge bg-blue-100 text-blue-800 text-xs",children:ke.toUpperCase()},ke))})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Medication Reminders"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Enabled"}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:((de=C.medicationReminders)==null?void 0:de.enabled)??!1,onChange:ke=>se("medicationReminders",ke.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Advance Time"}),a.jsxs("span",{className:"text-sm font-medium",children:[((M=C.medicationReminders)==null?void 0:M.advanceTime)??0," minutes"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Phone Number"}),a.jsx("span",{className:"text-sm font-medium",children:((Q=C.medicationReminders)==null?void 0:Q.phoneNumber)??"N/A"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Methods"}),a.jsx("div",{className:"flex gap-1",children:(((ae=C.medicationReminders)==null?void 0:ae.methods)??[]).map(ke=>a.jsx("span",{className:"status-badge bg-green-100 text-green-800 text-xs",children:ke.toUpperCase()},ke))})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Health Check Reminders"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Enabled"}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:((oe=C.healthCheckReminders)==null?void 0:oe.enabled)??!1,onChange:ke=>se("healthCheckReminders",ke.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Frequency"}),a.jsx("span",{className:"text-sm font-medium capitalize",children:((pe=C.healthCheckReminders)==null?void 0:pe.frequency)??"N/A"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Time"}),a.jsx("span",{className:"text-sm font-medium",children:((he=C.healthCheckReminders)==null?void 0:he.time)??"N/A"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Methods"}),a.jsx("div",{className:"flex gap-1",children:(((Ee=C.healthCheckReminders)==null?void 0:Ee.methods)??[]).map(ke=>a.jsx("span",{className:"status-badge bg-purple-100 text-purple-800 text-xs",children:ke.toUpperCase()},ke))})]})]})]}),(ct=C.emergencyContacts)!=null&&ct.length?a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Emergency Contacts"}),a.jsx("div",{className:"space-y-2",children:C.emergencyContacts.map((ke,Ct)=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-sm",children:ke.name}),a.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",ke.relationship,")"]})]}),a.jsx("span",{className:"text-sm font-medium",children:ke.phone})]},Ct))})]}):null]})]})};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Phone Reminders"}),a.jsx("p",{className:"text-gray-600",children:"Manage appointment and medication reminders via phone calls and SMS"})]}),a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsxs("button",{onClick:()=>t("reminders"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="reminders"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Reminders (",O.length,")"]}),a.jsx("button",{onClick:()=>t("settings"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="settings"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Settings"})]})}),e==="reminders"?ye():$(),c&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Create Reminder"}),a.jsx("button",{onClick:()=>{u(!1),m(ed)},className:"text-gray-400 hover:text-gray-600",children:a.jsx(Ya,{className:"h-5 w-5"})})]}),a.jsxs("form",{onSubmit:ee,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Patient"}),h?a.jsx("div",{className:"input-field text-gray-500",children:"Loading patients..."}):a.jsxs("select",{value:d.patientId,onChange:B=>{const J=f.find(X=>X.id===B.target.value);m(X=>({...X,patientId:B.target.value,patientName:(J==null?void 0:J.name)||"",patientPhone:(J==null?void 0:J.phone)||""}))},className:"input-field",required:!0,children:[a.jsx("option",{value:"",children:"Select a patient"}),f.map(B=>a.jsxs("option",{value:B.id,children:[B.name," ",B.email?`(${B.email})`:""]},B.id))]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Phone"}),a.jsx("input",{type:"tel",value:d.patientPhone,onChange:B=>m(J=>({...J,patientPhone:B.target.value})),className:"input-field",placeholder:"Auto-filled from patient selection"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Type"}),a.jsxs("select",{value:d.type,onChange:B=>m(J=>({...J,type:B.target.value})),className:"input-field",required:!0,children:[a.jsx("option",{value:"appointment",children:"Appointment"}),a.jsx("option",{value:"medication",children:"Medication"}),a.jsx("option",{value:"health-check",children:"Health Check"}),a.jsx("option",{value:"follow-up",children:"Follow-up"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Title"}),a.jsx("input",{type:"text",value:d.title,onChange:B=>m(J=>({...J,title:B.target.value})),className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Message"}),a.jsx("textarea",{value:d.message,onChange:B=>m(J=>({...J,message:B.target.value})),className:"input-field",rows:4,required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Scheduled Time"}),a.jsx("input",{type:"datetime-local",value:d.scheduledTime,onChange:B=>m(J=>({...J,scheduledTime:B.target.value})),className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Method"}),a.jsxs("select",{value:d.method,onChange:B=>m(J=>({...J,method:B.target.value})),className:"input-field",required:!0,children:[a.jsx("option",{value:"sms",children:"SMS"}),a.jsx("option",{value:"call",children:"Call"}),a.jsx("option",{value:"both",children:"Both"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Priority"}),a.jsxs("select",{value:d.priority,onChange:B=>m(J=>({...J,priority:B.target.value})),className:"input-field",required:!0,children:[a.jsx("option",{value:"urgent",children:"Urgent"}),a.jsx("option",{value:"high",children:"High"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"low",children:"Low"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Max Attempts"}),a.jsx("input",{type:"number",min:1,max:5,value:d.maxAttempts??3,onChange:B=>m(J=>({...J,maxAttempts:Number(B.target.value)})),className:"input-field"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",className:"btn-outline",onClick:()=>{u(!1),m(ed)},children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:P.loading,children:P.loading?"Creating...":"Create Reminder"})]})]})]})})]})}const toe={PENDING:"pending",COLLECTED:"collected",IN_TRANSIT:"in-transit",RECEIVED:"received",PROCESSING:"processing",COMPLETED:"completed",CANCELLED:"cancelled"},roe={ROUTINE:"routine",URGENT:"urgent",STAT:"stat"},noe={BLOOD:"blood",URINE:"urine",STOOL:"stool",SPUTUM:"sputum",TISSUE:"tissue",SWAB:"swab",OTHER:"other"},aoe={NORMAL:"normal",ABNORMAL:"abnormal",CRITICAL:"critical",PENDING:"pending"};function KC(e){var t;return{...e,status:aoe[(t=e.status)==null?void 0:t.toUpperCase()]??"pending",reportedDate:e.reportedDate?new Date(e.reportedDate).toISOString():e.reportedDate,verifiedDate:e.verifiedDate?new Date(e.verifiedDate).toISOString():e.verifiedDate}}function Ph(e){var t,r,n,s;return{...e,patientName:e.patientName??((t=e.patient)==null?void 0:t.name)??"Unknown Patient",sampleType:noe[(r=e.sampleType)==null?void 0:r.toUpperCase()]??"other",status:toe[(n=e.status)==null?void 0:n.toUpperCase()]??"pending",priority:roe[(s=e.priority)==null?void 0:s.toUpperCase()]??"routine",results:e.results?e.results.map(KC):[],collectionDate:e.collectionDate?new Date(e.collectionDate).toISOString():e.collectionDate,createdAt:e.createdAt?new Date(e.createdAt).toISOString():e.createdAt,updatedAt:e.updatedAt?new Date(e.updatedAt).toISOString():e.updatedAt}}class soe{async getLabSamples(t){const r=await H.get(q.LAB.SAMPLES,{params:t});return Array.isArray(r.data)?r.data.map(Ph):[]}async getLabResults(t){const r=await H.get(q.LAB.RESULTS,{params:t});return Array.isArray(r.data)?r.data.map(KC):[]}async collectSample(t){var n;const r=await H.post(q.LAB.COLLECT,t);return Ph(((n=r.data)==null?void 0:n.data)||r.data)}async updateLabSample(t,r){var s;const n=await H.put(q.LAB.SAMPLE_BY_ID(t),r);return Ph(((s=n.data)==null?void 0:s.data)||n.data)}async deleteLabSample(t){await H.delete(q.LAB.SAMPLE_BY_ID(t))}}const Oh=new soe,ioe={DOCTOR:"doctor",NURSE:"nurse",SPECIALIST:"specialist"},ooe={SPECIALIST:"specialist",LAB:"lab",IMAGING:"imaging",THERAPY:"therapy",OTHER:"other"},loe={CONSULTATION:"consultation",LAB_WORK:"lab-work",IMAGING:"imaging",THERAPY:"therapy",SURGERY:"surgery",FOLLOW_UP:"follow-up"},coe={ROUTINE:"routine",URGENT:"urgent",EMERGENCY:"emergency"},uoe={PENDING:"pending",SENT:"sent",ACCEPTED:"accepted",SCHEDULED:"scheduled",COMPLETED:"completed",CANCELLED:"cancelled",DECLINED:"declined"};function mi(e){var t,r,n,s,i,o;return{...e,patientName:e.patientName??((t=e.patient)==null?void 0:t.name)??"Unknown Patient",referredByRole:ioe[(r=e.referredByRole)==null?void 0:r.toUpperCase()]??"doctor",referredToRole:ooe[(n=e.referredToRole)==null?void 0:n.toUpperCase()]??"other",referralType:loe[(s=e.referralType)==null?void 0:s.toUpperCase()]??"consultation",urgency:coe[(i=e.urgency)==null?void 0:i.toUpperCase()]??"routine",status:uoe[(o=e.status)==null?void 0:o.toUpperCase()]??"pending",referralDate:e.referralDate?new Date(e.referralDate).toISOString():e.referralDate,appointmentDate:e.appointmentDate?new Date(e.appointmentDate).toISOString():e.appointmentDate,followUpDate:e.followUpDate?new Date(e.followUpDate).toISOString():e.followUpDate,createdAt:e.createdAt?new Date(e.createdAt).toISOString():e.createdAt,updatedAt:e.updatedAt?new Date(e.updatedAt).toISOString():e.updatedAt}}class doe{async getReferrals(t){const r=await H.get(q.REFERRALS.BASE,{params:t});return Array.isArray(r.data)?r.data.map(mi):[]}async getReferralsByPatient(t){const r=await H.get(q.REFERRALS.BY_PATIENT(t));return Array.isArray(r.data)?r.data.map(mi):[]}async sendReferral(t){var n;const r=await H.post(q.REFERRALS.SEND,t);return mi(((n=r.data)==null?void 0:n.data)||r.data)}async updateReferral(t,r){var s;const n=await H.put(q.REFERRALS.BY_ID(t),r);return mi(((s=n.data)==null?void 0:s.data)||n.data)}async acceptReferral(t){var n;const r=await H.patch(q.REFERRALS.ACCEPT(t));return mi(((n=r.data)==null?void 0:n.data)||r.data)}async declineReferral(t){var n;const r=await H.patch(q.REFERRALS.DECLINE(t));return mi(((n=r.data)==null?void 0:n.data)||r.data)}async deleteReferral(t){await H.delete(q.REFERRALS.BY_ID(t))}}const pl=new doe;function moe({isOpen:e,onClose:t,record:r}){if(!e||!r)return null;const n=i=>i?new Date(i).toLocaleString():"",s=(i,o)=>{if(o==null||o==="")return null;let l;if(i==="bloodPressure"&&typeof o=="object"&&!Array.isArray(o)){const u=o;u.systolic!==void 0&&u.diastolic!==void 0?l=`${u.systolic}/${u.diastolic} mmHg`:u.systolic!==void 0?l=`Systolic: ${u.systolic} mmHg`:u.diastolic!==void 0?l=`Diastolic: ${u.diastolic} mmHg`:l=JSON.stringify(o,null,2)}else typeof o=="object"&&!Array.isArray(o)?l=JSON.stringify(o,null,2):Array.isArray(o)?l=o.join(", "):typeof o=="boolean"?l=o?"Yes":"No":l=String(o);const c=i.replace(/([A-Z])/g," $1").replace(/^./,u=>u.toUpperCase()).trim();return a.jsxs("div",{className:"flex flex-col gap-1 border-b border-gray-100 py-2 last:border-0",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600",children:c}),a.jsx("span",{className:"text-sm text-gray-900",children:l})]},i)};return a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),a.jsxs("div",{className:"relative w-full max-w-3xl rounded-lg bg-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Health Record Details"}),a.jsx("button",{onClick:t,className:"rounded-lg p-1 text-gray-400 hover:bg-gray-100 hover:text-gray-600",children:a.jsx(Pe,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"max-h-[calc(100vh-200px)] overflow-y-auto px-6 py-4",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(vt,{className:"h-5 w-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Patient"}),a.jsx("p",{className:"font-medium text-gray-900",children:r.patientName})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Te,{className:"h-5 w-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Date & Time"}),a.jsx("p",{className:"font-medium text-gray-900",children:n(r.timestamp)})]})]}),r.location&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Bs,{className:"h-5 w-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Location"}),a.jsx("p",{className:"font-medium text-gray-900",children:r.location})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[r.verified?a.jsx(Zt,{className:"h-5 w-5 text-green-500"}):a.jsx(De,{className:"h-5 w-5 text-yellow-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),a.jsx("p",{className:"font-medium text-gray-900",children:r.verified?"Verified":"Pending Verification"})]})]})]}),a.jsx("div",{className:"rounded-lg bg-gray-50 p-4",children:a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Record Type"}),a.jsx("p",{className:"mt-1 font-medium text-gray-900 capitalize",children:r.recordType})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Updated By"}),a.jsxs("p",{className:"mt-1 font-medium text-gray-900",children:[r.updatedByName," (",r.updatedByRole,")"]})]}),r.verified&&r.verifiedAt&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Verified At"}),a.jsx("p",{className:"mt-1 font-medium text-gray-900",children:n(r.verifiedAt)})]})]})}),a.jsxs("div",{className:"rounded-lg border border-gray-200 p-4",children:[a.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[a.jsx(ur,{className:"h-5 w-5 text-gray-400"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Record Data"})]}),a.jsx("div",{className:"space-y-2",children:Object.entries(r.data||{}).map(([i,o])=>s(i,o))})]}),r.notes&&a.jsxs("div",{className:"rounded-lg bg-blue-50 p-4",children:[a.jsx("h3",{className:"mb-2 text-sm font-medium text-blue-900",children:"Notes"}),a.jsx("p",{className:"text-sm text-blue-800",children:r.notes})]})]})}),a.jsx("div",{className:"flex justify-end gap-3 border-t border-gray-200 px-6 py-4",children:a.jsx("button",{onClick:t,className:"btn-outline",children:"Close"})})]})]})})}const KS={vital:"Vital",medication:"Medication",symptom:"Symptom",note:"Note",assessment:"Assessment",treatment:"Treatment"},foe={vital:"bg-green-100 text-green-800",medication:"bg-blue-100 text-blue-800",symptom:"bg-yellow-100 text-yellow-800",note:"bg-gray-100 text-gray-800",assessment:"bg-purple-100 text-purple-800",treatment:"bg-red-100 text-red-800"};function poe(){const[e,t]=E.useState("records"),[r,n]=E.useState([]),[s,i]=E.useState(!1),[o,l]=E.useState(null),[c,u]=E.useState([]),[d,m]=E.useState(!1),[f,p]=E.useState(null),[h,g]=E.useState([]),[v,x]=E.useState(!1),[y,b]=E.useState(null),[N,j]=E.useState(!1),[w,A]=E.useState(null),[T,S]=E.useState(null),[_,P]=E.useState(!1),[k,O]=E.useState(!1),[C,D]=E.useState([]),[U,z]=E.useState(!1),[I,R]=E.useState("all"),[F,V]=E.useState("all"),[W,ee]=E.useState("all"),[se,ye]=E.useState(""),{addNotification:$}=yt(),{user:B}=st(),J=async()=>{i(!0),l(null);try{const{records:Y}=await _r.getHealthRecords({limit:50});n(Y)}catch(Y){console.error("Failed to load health records",Y),l((Y==null?void 0:Y.message)??"Unable to load health records.")}finally{i(!1)}},X=async()=>{m(!0),p(null);try{const Y=await Oh.getLabSamples({limit:20});u(Y)}catch(Y){console.error("Failed to load lab samples",Y),p((Y==null?void 0:Y.message)??"Unable to load lab samples.")}finally{m(!1)}},ie=async()=>{x(!0),b(null);try{const Y=await pl.getReferrals({limit:20});g(Y)}catch(Y){console.error("Failed to load referrals",Y),b((Y==null?void 0:Y.message)??"Unable to load referrals.")}finally{x(!1)}};E.useEffect(()=>{J(),X(),ie()},[]),E.useEffect(()=>{(_||k)&&(async()=>{z(!0);try{const{patients:Se}=await zt.getPatients({limit:200,status:"active"});D(Se)}catch(Se){console.error("Failed to load patients",Se)}finally{z(!1)}})()},[_,k]);const de=E.useMemo(()=>r.filter(Y=>{var uu,du;const Se=I==="all"||Y.recordType===I,He=F==="all"||Y.updatedByRole===F,Ne=W==="all"||W==="verified"&&Y.verified||W==="unverified"&&!Y.verified,dt=((uu=Y.patientName)==null?void 0:uu.toLowerCase().includes(se.toLowerCase()))||((du=Y.updatedByName)==null?void 0:du.toLowerCase().includes(se.toLowerCase()));return Se&&He&&Ne&&dt}),[r,I,F,W,se]),M=async Y=>{try{const{recordId:Se,...He}=Y;await _r.createHealthRecord(He),$({title:"Health record added",message:"A new health record has been added successfully.",type:"success",priority:"medium",userId:"system",category:"system"}),await J()}catch(Se){throw $({title:"Unable to add record",message:Se instanceof Error?Se.message:"Please try again later.",type:"error",priority:"high",userId:"system",category:"system"}),Se}},Q=async Y=>{if(Y.recordId)try{await _r.updateHealthRecord(Y.recordId,{recordType:Y.recordType,data:Y.data,location:Y.location,notes:Y.notes}),$({title:"Health record updated",message:"The health record has been updated.",type:"success",priority:"medium",userId:"system",category:"system"}),await J()}catch(Se){throw $({title:"Unable to update record",message:Se instanceof Error?Se.message:"Please try again later.",type:"error",priority:"high",userId:"system",category:"system"}),Se}},ae=async Y=>{if(window.confirm("Delete this health record?"))try{await _r.deleteHealthRecord(Y.id),$({title:"Health record removed",message:"The health record has been deleted.",type:"info",priority:"medium",userId:"system",category:"system"}),await J()}catch(Se){$({title:"Unable to delete record",message:Se instanceof Error?Se.message:"Please try again later.",type:"error",priority:"high",userId:"system",category:"system"})}},oe=async Y=>{const Se={verified:!0};try{await _r.verifyRecord(Y.id,Se),$({title:"Health record verified",message:"The record has been marked as verified.",type:"success",priority:"medium",userId:"system",category:"system"}),await J()}catch(He){$({title:"Unable to verify record",message:He instanceof Error?He.message:"Please try again later.",type:"error",priority:"high",userId:"system",category:"system"})}},pe=async Y=>{var Se,He;try{await Oh.collectSample(Y),te.success("Lab sample collected successfully"),$({title:"Lab sample collected",message:"The lab sample has been recorded successfully.",type:"success",priority:"medium",userId:"system",category:"system"}),await X(),P(!1)}catch(Ne){const dt=((He=(Se=Ne==null?void 0:Ne.response)==null?void 0:Se.data)==null?void 0:He.message)||(Ne==null?void 0:Ne.message)||"Failed to collect lab sample";throw te.error(dt),$({title:"Unable to collect lab sample",message:dt,type:"error",priority:"high",userId:"system",category:"system"}),Ne}},he=async Y=>{var Se,He;try{await pl.sendReferral(Y),te.success("Referral sent successfully"),$({title:"Referral sent",message:"The referral has been sent successfully.",type:"success",priority:"medium",userId:"system",category:"system"}),await ie(),O(!1)}catch(Ne){const dt=((He=(Se=Ne==null?void 0:Ne.response)==null?void 0:Se.data)==null?void 0:He.message)||(Ne==null?void 0:Ne.message)||"Failed to send referral";throw te.error(dt),$({title:"Unable to send referral",message:dt,type:"error",priority:"high",userId:"system",category:"system"}),Ne}},Ee=Y=>{alert(`Lab Sample Details:

Patient: ${Y.patientName}
Test: ${Y.testName} (${Y.testCode})
Type: ${Y.sampleType}
Status: ${Y.status}
Priority: ${Y.priority}
Collection Date: ${new Date(Y.collectionDate).toLocaleDateString()} ${Y.collectionTime}
Location: ${Y.collectionLocation||"N/A"}`)},ct=Y=>{alert("Edit functionality will be implemented with a modal")},ke=async Y=>{var Se,He;if(window.confirm("Delete this lab sample?"))try{await Oh.deleteLabSample(Y.id),te.success("Lab sample deleted successfully"),$({title:"Lab sample deleted",message:"The lab sample has been deleted.",type:"info",priority:"medium",userId:"system",category:"system"}),await X()}catch(Ne){const dt=((He=(Se=Ne==null?void 0:Ne.response)==null?void 0:Se.data)==null?void 0:He.message)||(Ne==null?void 0:Ne.message)||"Failed to delete lab sample";te.error(dt),$({title:"Unable to delete lab sample",message:dt,type:"error",priority:"high",userId:"system",category:"system"})}},Ct=Y=>{alert(`Referral Details:

Patient: ${Y.patientName}
Type: ${Y.referralType}
Referred By: ${Y.referredByName} (${Y.referredByRole})
Referred To: ${Y.referredToName} (${Y.referredToRole})
Reason: ${Y.reason}
Status: ${Y.status}
Urgency: ${Y.urgency}`)},ut=Y=>{alert("Edit functionality will be implemented with a modal")},Sr=async Y=>{var Se,He;try{await pl.acceptReferral(Y.id),te.success("Referral accepted successfully"),$({title:"Referral accepted",message:"The referral has been accepted.",type:"success",priority:"medium",userId:"system",category:"system"}),await ie()}catch(Ne){const dt=((He=(Se=Ne==null?void 0:Ne.response)==null?void 0:Se.data)==null?void 0:He.message)||(Ne==null?void 0:Ne.message)||"Failed to accept referral";te.error(dt),$({title:"Unable to accept referral",message:dt,type:"error",priority:"high",userId:"system",category:"system"})}},bn=async Y=>{var Se,He;if(window.confirm("Decline this referral?"))try{await pl.declineReferral(Y.id),te.success("Referral declined successfully"),$({title:"Referral declined",message:"The referral has been declined.",type:"info",priority:"medium",userId:"system",category:"system"}),await ie()}catch(Ne){const dt=((He=(Se=Ne==null?void 0:Ne.response)==null?void 0:Se.data)==null?void 0:He.message)||(Ne==null?void 0:Ne.message)||"Failed to decline referral";te.error(dt),$({title:"Unable to decline referral",message:dt,type:"error",priority:"high",userId:"system",category:"system"})}},tn=async Y=>{var Se,He;if(window.confirm("Delete this referral?"))try{await pl.deleteReferral(Y.id),te.success("Referral deleted successfully"),$({title:"Referral deleted",message:"The referral has been deleted.",type:"info",priority:"medium",userId:"system",category:"system"}),await ie()}catch(Ne){const dt=((He=(Se=Ne==null?void 0:Ne.response)==null?void 0:Se.data)==null?void 0:He.message)||(Ne==null?void 0:Ne.message)||"Failed to delete referral";te.error(dt),$({title:"Unable to delete referral",message:dt,type:"error",priority:"high",userId:"system",category:"system"})}},mp=Y=>{switch(Y){case"patient":return a.jsx(vt,{className:"h-4 w-4 text-blue-500"});case"nurse":return a.jsx(ic,{className:"h-4 w-4 text-green-500"});case"doctor":return a.jsx(Di,{className:"h-4 w-4 text-red-500"});case"caregiver":return a.jsx(vt,{className:"h-4 w-4 text-purple-500"});case"specialist":return a.jsx(Wr,{className:"h-4 w-4 text-orange-500"});default:return a.jsx(vt,{className:"h-4 w-4 text-gray-500"})}};return a.jsxs("div",{className:"space-y-6 p-6",children:[a.jsxs("header",{className:"flex flex-col gap-3 border-b border-gray-200 pb-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Clinical Documentation"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Comprehensive patient health records, assessments, lab samples, and clinical referrals."})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{className:"btn-outline text-sm",onClick:J,disabled:s,children:"Refresh"}),e==="records"&&a.jsxs("button",{className:"btn-primary flex items-center",onClick:()=>j(!0),children:[a.jsx(Ie,{className:"mr-2 h-4 w-4"}),"Add record"]})]})]}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:[a.jsxs("button",{onClick:()=>t("records"),className:`whitespace-nowrap border-b-2 px-1 py-2 text-sm font-medium ${e==="records"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,children:["Health records (",r.length,")"]}),a.jsxs("button",{onClick:()=>t("labs"),className:`whitespace-nowrap border-b-2 px-1 py-2 text-sm font-medium ${e==="labs"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,children:["Lab samples (",c.length,")"]}),a.jsxs("button",{onClick:()=>t("referrals"),className:`whitespace-nowrap border-b-2 px-1 py-2 text-sm font-medium ${e==="referrals"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,children:["Referrals (",h.length,")"]})]})}),e==="records"&&a.jsxs("section",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"relative",children:[a.jsx(jt,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",value:se,onChange:Y=>ye(Y.target.value),placeholder:"Search by patient or author...",className:"input-field pl-10"})]})}),a.jsxs("select",{className:"input-field",value:I,onChange:Y=>R(Y.target.value),children:[a.jsx("option",{value:"all",children:"All record types"}),Object.entries(KS).map(([Y,Se])=>a.jsx("option",{value:Y,children:Se},Y))]}),a.jsxs("select",{className:"input-field",value:W,onChange:Y=>ee(Y.target.value),children:[a.jsx("option",{value:"all",children:"All statuses"}),a.jsx("option",{value:"verified",children:"Verified"}),a.jsx("option",{value:"unverified",children:"Unverified"})]})]}),s?a.jsx("div",{className:"rounded-lg border border-dashed border-gray-200 p-10 text-center text-sm text-gray-500",children:"Loading health records..."}):o?a.jsx("div",{className:"rounded-lg border border-dashed border-red-200 bg-red-50 p-10 text-center text-sm text-red-600",children:o}):de.length===0?a.jsx("div",{className:"rounded-lg border border-dashed border-gray-200 p-10 text-center text-sm text-gray-500",children:"No records match your filters."}):a.jsx("div",{className:"card",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Patient"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Record Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Updated By"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Date & Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Location"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:de.map(Y=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(vt,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Y.patientName})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`status-badge ${foe[Y.recordType]??"bg-gray-100 text-gray-800"}`,children:KS[Y.recordType]??Y.recordType})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[mp(Y.updatedByRole),a.jsxs("div",{className:"ml-2",children:[a.jsx("div",{className:"text-sm text-gray-900",children:Y.updatedByName}),a.jsx("div",{className:"text-xs text-gray-500 capitalize",children:Y.updatedByRole})]})]})}),a.jsxs("td",{className:"whitespace-nowrap px-6 py-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Te,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm text-gray-900",children:new Date(Y.timestamp).toLocaleDateString()})]}),a.jsx("div",{className:"text-xs text-gray-500",children:new Date(Y.timestamp).toLocaleTimeString()})]}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:Y.location?a.jsxs("div",{className:"flex items-center",children:[a.jsx(Bs,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm text-gray-900",children:Y.location})]}):a.jsx("span",{className:"text-sm text-gray-400",children:""})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:Y.verified?a.jsxs("span",{className:"inline-flex items-center rounded-full bg-green-100 px-2 py-1 text-xs font-medium text-green-700",children:[a.jsx(Zt,{className:"mr-1 h-3 w-3"}),"Verified"]}):a.jsxs("span",{className:"inline-flex items-center rounded-full bg-yellow-100 px-2 py-1 text-xs font-medium text-yellow-700",children:[a.jsx(De,{className:"mr-1 h-3 w-3"}),"Pending"]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:()=>S(Y),className:"text-primary-600 hover:text-primary-900",children:[a.jsx(Bt,{className:"mr-1 inline h-4 w-4"}),"View"]}),a.jsxs("button",{onClick:()=>A(Y),className:"text-secondary-600 hover:text-secondary-900",children:[a.jsx(er,{className:"mr-1 inline h-4 w-4"}),"Edit"]}),!Y.verified&&a.jsxs("button",{onClick:()=>oe(Y),className:"text-green-600 hover:text-green-900",children:[a.jsx(Zt,{className:"mr-1 inline h-4 w-4"}),"Verify"]}),a.jsxs("button",{onClick:()=>ae(Y),className:"text-red-600 hover:text-red-900",children:[a.jsx(ht,{className:"mr-1 inline h-4 w-4"}),"Delete"]})]})})]},Y.id))})]})})})]}),e==="labs"&&a.jsxs("section",{className:"space-y-4",children:[a.jsx("div",{className:"flex justify-end mb-4",children:a.jsxs("button",{onClick:()=>P(!0),className:"btn-primary flex items-center",children:[a.jsx(Ie,{className:"mr-2 h-4 w-4"}),"Add Lab Sample"]})}),d?a.jsx("div",{className:"rounded-lg border border-dashed border-gray-200 p-10 text-center text-sm text-gray-500",children:"Loading lab samples..."}):f?a.jsx("div",{className:"rounded-lg border border-dashed border-red-200 bg-red-50 p-10 text-center text-sm text-red-600",children:f}):c.length===0?a.jsx("div",{className:"rounded-lg border border-dashed border-gray-200 p-10 text-center text-sm text-gray-500",children:"No lab samples available."}):a.jsx("div",{className:"card",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Patient"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Test Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Test Code"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Sample Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Collection Date & Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Location"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Priority"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:c.map(Y=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(vt,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Y.patientName})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(F$,{className:"mr-2 h-4 w-4 text-blue-500"}),a.jsx("div",{className:"text-sm text-gray-900",children:Y.testName})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-900",children:Y.testCode}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:"status-badge bg-gray-100 text-gray-800 capitalize",children:Y.sampleType})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Te,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-900",children:new Date(Y.collectionDate).toLocaleDateString()}),a.jsx("div",{className:"text-xs text-gray-500",children:Y.collectionTime})]})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:Y.collectionLocation?a.jsxs("div",{className:"flex items-center",children:[a.jsx(Bs,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm text-gray-900",children:Y.collectionLocation})]}):a.jsx("span",{className:"text-sm text-gray-400",children:""})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`status-badge ${Y.priority==="urgent"?"bg-orange-100 text-orange-800":Y.priority==="stat"?"bg-red-100 text-red-800":"bg-purple-100 text-purple-800"} capitalize`,children:Y.priority})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${Y.status==="completed"?"bg-green-100 text-green-700":Y.status==="cancelled"?"bg-red-100 text-red-700":Y.status==="processing"||Y.status==="in-transit"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"} capitalize`,children:Y.status.replace("-"," ")})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:()=>Ee(Y),className:"text-primary-600 hover:text-primary-900",children:[a.jsx(Bt,{className:"mr-1 inline h-4 w-4"}),"View"]}),a.jsxs("button",{onClick:()=>ct(),className:"text-secondary-600 hover:text-secondary-900",children:[a.jsx(er,{className:"mr-1 inline h-4 w-4"}),"Edit"]}),a.jsxs("button",{onClick:()=>ke(Y),className:"text-red-600 hover:text-red-900",children:[a.jsx(ht,{className:"mr-1 inline h-4 w-4"}),"Delete"]})]})})]},Y.id))})]})})})]}),e==="referrals"&&a.jsxs("section",{className:"space-y-4",children:[a.jsx("div",{className:"flex justify-end mb-4",children:a.jsxs("button",{onClick:()=>O(!0),className:"btn-primary flex items-center",children:[a.jsx(Ie,{className:"mr-2 h-4 w-4"}),"Add Referral"]})}),v?a.jsx("div",{className:"rounded-lg border border-dashed border-gray-200 p-10 text-center text-sm text-gray-500",children:"Loading referrals..."}):y?a.jsx("div",{className:"rounded-lg border border-dashed border-red-200 bg-red-50 p-10 text-center text-sm text-red-600",children:y}):h.length===0?a.jsx("div",{className:"rounded-lg border border-dashed border-gray-200 p-10 text-center text-sm text-gray-500",children:"No referrals recorded."}):a.jsx("div",{className:"card",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Patient"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Referral Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Referred By"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Referred To"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Referral Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Urgency"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:h.map(Y=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(vt,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Y.patientName})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(j$,{className:"mr-2 h-4 w-4 text-green-500"}),a.jsx("span",{className:"text-sm text-gray-900 capitalize",children:Y.referralType.replace("-"," ")})]})}),a.jsxs("td",{className:"whitespace-nowrap px-6 py-4",children:[a.jsx("div",{className:"text-sm text-gray-900",children:Y.referredByName}),a.jsx("div",{className:"text-xs text-gray-500 capitalize",children:Y.referredByRole})]}),a.jsxs("td",{className:"whitespace-nowrap px-6 py-4",children:[a.jsx("div",{className:"text-sm text-gray-900",children:Y.referredToName}),a.jsx("div",{className:"text-xs text-gray-500 capitalize",children:Y.referredToRole})]}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:Y.referralDate?a.jsxs("div",{className:"flex items-center",children:[a.jsx(Te,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("div",{className:"text-sm text-gray-900",children:new Date(Y.referralDate).toLocaleDateString()})]}):a.jsx("span",{className:"text-sm text-gray-400",children:""})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`status-badge ${Y.urgency==="emergency"?"bg-red-100 text-red-800":Y.urgency==="urgent"?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"} capitalize`,children:Y.urgency})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${Y.status==="completed"?"bg-green-100 text-green-700":Y.status==="cancelled"||Y.status==="declined"?"bg-red-100 text-red-700":Y.status==="accepted"||Y.status==="scheduled"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"} capitalize`,children:Y.status.replace("-"," ")})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:()=>Ct(Y),className:"text-primary-600 hover:text-primary-900",children:[a.jsx(Bt,{className:"mr-1 inline h-4 w-4"}),"View"]}),a.jsxs("button",{onClick:()=>ut(),className:"text-secondary-600 hover:text-secondary-900",children:[a.jsx(er,{className:"mr-1 inline h-4 w-4"}),"Edit"]}),Y.status==="pending"||Y.status==="sent"?a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>Sr(Y),className:"text-green-600 hover:text-green-900",children:[a.jsx(Zt,{className:"mr-1 inline h-4 w-4"}),"Accept"]}),a.jsxs("button",{onClick:()=>bn(Y),className:"text-orange-600 hover:text-orange-900",children:[a.jsx(Pe,{className:"mr-1 inline h-4 w-4"}),"Decline"]})]}):null,a.jsxs("button",{onClick:()=>tn(Y),className:"text-red-600 hover:text-red-900",children:[a.jsx(ht,{className:"mr-1 inline h-4 w-4"}),"Delete"]})]})})]},Y.id))})]})})})]}),a.jsx(hg,{isOpen:N,onClose:()=>j(!1),onSave:M,mode:"add"}),a.jsx(hg,{isOpen:!!w,onClose:()=>A(null),onSave:Q,record:w??void 0,mode:"edit"}),a.jsx(moe,{isOpen:!!T,onClose:()=>S(null),record:T}),_&&a.jsx(hoe,{isOpen:_,onClose:()=>P(!1),onSave:pe,patients:C,loadingPatients:U,currentUser:B}),k&&a.jsx(xoe,{isOpen:k,onClose:()=>O(!1),onSave:he,patients:C,loadingPatients:U,currentUser:B})]})}function hoe({isOpen:e,onClose:t,onSave:r,patients:n,loadingPatients:s,currentUser:i}){const[o,l]=E.useState({patientId:"",sampleType:"BLOOD",testName:"",testCode:"",collectionDate:new Date().toISOString().split("T")[0],collectionTime:new Date().toTimeString().slice(0,5),collectedBy:(i==null?void 0:i.id)||"",collectionLocation:"",priority:"ROUTINE",instructions:"",fastingRequired:!1,fastingHours:void 0,specialInstructions:"",labName:"",notes:""}),[c,u]=E.useState(!1),[d,m]=E.useState(null);if(E.useEffect(()=>{e||(l({patientId:"",sampleType:"BLOOD",testName:"",testCode:"",collectionDate:new Date().toISOString().split("T")[0],collectionTime:new Date().toTimeString().slice(0,5),collectedBy:(i==null?void 0:i.id)||"",collectionLocation:"",priority:"ROUTINE",instructions:"",fastingRequired:!1,fastingHours:void 0,specialInstructions:"",labName:"",notes:""}),m(null))},[e,i]),!e)return null;const f=async p=>{p.preventDefault(),u(!0),m(null);try{await r(o)}catch{}finally{u(!1)}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsxs("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-xl bg-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b px-6 py-4 sticky top-0 bg-white z-10",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Collect Lab Sample"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Record a new lab sample collection"})]}),a.jsx("button",{type:"button",className:"rounded-full p-2 text-gray-400 transition hover:bg-gray-100 hover:text-gray-600",onClick:t,"aria-label":"Close",children:a.jsx(Pe,{className:"h-5 w-5"})})]}),a.jsxs("form",{onSubmit:f,className:"space-y-6 px-6 py-6",children:[d&&a.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:d}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient *"}),a.jsxs("select",{value:o.patientId,onChange:p=>l({...o,patientId:p.target.value}),required:!0,className:"input-field",disabled:c||s,children:[a.jsx("option",{value:"",children:"Select patient"}),n.map(p=>a.jsx("option",{value:p.id,children:p.name},p.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sample Type *"}),a.jsxs("select",{value:o.sampleType,onChange:p=>l({...o,sampleType:p.target.value}),required:!0,className:"input-field",disabled:c,children:[a.jsx("option",{value:"BLOOD",children:"Blood"}),a.jsx("option",{value:"URINE",children:"Urine"}),a.jsx("option",{value:"STOOL",children:"Stool"}),a.jsx("option",{value:"SPUTUM",children:"Sputum"}),a.jsx("option",{value:"TISSUE",children:"Tissue"}),a.jsx("option",{value:"SWAB",children:"Swab"}),a.jsx("option",{value:"OTHER",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Test Name *"}),a.jsx("input",{type:"text",value:o.testName,onChange:p=>l({...o,testName:p.target.value}),required:!0,className:"input-field",placeholder:"e.g., Complete Blood Count",disabled:c})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Test Code *"}),a.jsx("input",{type:"text",value:o.testCode,onChange:p=>l({...o,testCode:p.target.value}),required:!0,className:"input-field",placeholder:"e.g., CBC-001",disabled:c})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Collection Date *"}),a.jsx("input",{type:"date",value:o.collectionDate,onChange:p=>l({...o,collectionDate:p.target.value}),required:!0,className:"input-field",disabled:c})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Collection Time *"}),a.jsx("input",{type:"time",value:o.collectionTime,onChange:p=>l({...o,collectionTime:p.target.value}),required:!0,className:"input-field",disabled:c})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Collection Location *"}),a.jsx("input",{type:"text",value:o.collectionLocation,onChange:p=>l({...o,collectionLocation:p.target.value}),required:!0,className:"input-field",placeholder:"e.g., Home, Clinic",disabled:c})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),a.jsxs("select",{value:o.priority,onChange:p=>l({...o,priority:p.target.value}),className:"input-field",disabled:c,children:[a.jsx("option",{value:"ROUTINE",children:"Routine"}),a.jsx("option",{value:"URGENT",children:"Urgent"}),a.jsx("option",{value:"STAT",children:"Stat"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instructions *"}),a.jsx("textarea",{value:o.instructions,onChange:p=>l({...o,instructions:p.target.value}),required:!0,rows:3,className:"input-field",placeholder:"Collection instructions...",disabled:c})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"fastingRequired",checked:o.fastingRequired,onChange:p=>l({...o,fastingRequired:p.target.checked}),className:"mr-2",disabled:c}),a.jsx("label",{htmlFor:"fastingRequired",className:"text-sm text-gray-700",children:"Fasting Required"})]}),o.fastingRequired&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fasting Hours"}),a.jsx("input",{type:"number",value:o.fastingHours||"",onChange:p=>l({...o,fastingHours:p.target.value?Number(p.target.value):void 0}),className:"input-field",placeholder:"Hours",min:0,disabled:c})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions"}),a.jsx("textarea",{value:o.specialInstructions,onChange:p=>l({...o,specialInstructions:p.target.value}),rows:2,className:"input-field",placeholder:"Any special handling instructions...",disabled:c})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lab Name"}),a.jsx("input",{type:"text",value:o.labName,onChange:p=>l({...o,labName:p.target.value}),className:"input-field",placeholder:"Lab facility name",disabled:c})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),a.jsx("textarea",{value:o.notes,onChange:p=>l({...o,notes:p.target.value}),rows:2,className:"input-field",placeholder:"Additional notes...",disabled:c})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-outline",disabled:c,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:c,children:c?"Saving...":"Collect Sample"})]})]})]})})}function xoe({isOpen:e,onClose:t,onSave:r,patients:n,loadingPatients:s,currentUser:i}){const o=h=>{if(!h)return"DOCTOR";const g=h.toUpperCase();return g==="DOCTOR"||g==="NURSE"||g==="SPECIALIST"?g:h==="doctor"?"DOCTOR":h==="nurse"?"NURSE":h==="specialist"?"SPECIALIST":"DOCTOR"},[l,c]=E.useState({patientId:"",referredBy:(i==null?void 0:i.id)||"",referredByName:(i==null?void 0:i.name)||"",referredByRole:o(i==null?void 0:i.role),referredTo:"",referredToName:"",referredToRole:"SPECIALIST",referralType:"CONSULTATION",reason:"",urgency:"ROUTINE",followUpRequired:!1}),[u,d]=E.useState(!1),[m,f]=E.useState(null);if(E.useEffect(()=>{e||(c({patientId:"",referredBy:(i==null?void 0:i.id)||"",referredByName:(i==null?void 0:i.name)||"",referredByRole:o(i==null?void 0:i.role),referredTo:"",referredToName:"",referredToRole:"SPECIALIST",referralType:"CONSULTATION",reason:"",urgency:"ROUTINE",followUpRequired:!1}),f(null))},[e,i]),!e)return null;const p=async h=>{h.preventDefault(),d(!0),f(null);try{await r(l)}catch{}finally{d(!1)}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsxs("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-xl bg-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b px-6 py-4 sticky top-0 bg-white z-10",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Send Referral"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Create a new patient referral"})]}),a.jsx("button",{type:"button",className:"rounded-full p-2 text-gray-400 transition hover:bg-gray-100 hover:text-gray-600",onClick:t,"aria-label":"Close",children:a.jsx(Pe,{className:"h-5 w-5"})})]}),a.jsxs("form",{onSubmit:p,className:"space-y-6 px-6 py-6",children:[m&&a.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:m}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient *"}),a.jsxs("select",{value:l.patientId,onChange:h=>c({...l,patientId:h.target.value}),required:!0,className:"input-field",disabled:u||s,children:[a.jsx("option",{value:"",children:"Select patient"}),n.map(h=>a.jsx("option",{value:h.id,children:h.name},h.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Referral Type *"}),a.jsxs("select",{value:l.referralType,onChange:h=>c({...l,referralType:h.target.value}),required:!0,className:"input-field",disabled:u,children:[a.jsx("option",{value:"CONSULTATION",children:"Consultation"}),a.jsx("option",{value:"LAB_WORK",children:"Lab Work"}),a.jsx("option",{value:"IMAGING",children:"Imaging"}),a.jsx("option",{value:"THERAPY",children:"Therapy"}),a.jsx("option",{value:"SURGERY",children:"Surgery"}),a.jsx("option",{value:"FOLLOW_UP",children:"Follow-up"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Referred By Role *"}),a.jsxs("select",{value:l.referredByRole,onChange:h=>c({...l,referredByRole:h.target.value}),required:!0,className:"input-field",disabled:u,children:[a.jsx("option",{value:"DOCTOR",children:"Doctor"}),a.jsx("option",{value:"NURSE",children:"Nurse"}),a.jsx("option",{value:"SPECIALIST",children:"Specialist"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Referred To Role *"}),a.jsxs("select",{value:l.referredToRole,onChange:h=>c({...l,referredToRole:h.target.value}),required:!0,className:"input-field",disabled:u,children:[a.jsx("option",{value:"SPECIALIST",children:"Specialist"}),a.jsx("option",{value:"LAB",children:"Lab"}),a.jsx("option",{value:"IMAGING",children:"Imaging"}),a.jsx("option",{value:"THERAPY",children:"Therapy"}),a.jsx("option",{value:"OTHER",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Referred To Name *"}),a.jsx("input",{type:"text",value:l.referredToName,onChange:h=>c({...l,referredToName:h.target.value}),required:!0,className:"input-field",placeholder:"Name of provider/facility",disabled:u})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Referred To ID"}),a.jsx("input",{type:"text",value:l.referredTo,onChange:h=>c({...l,referredTo:h.target.value}),className:"input-field",placeholder:"Provider ID (optional)",disabled:u})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Urgency"}),a.jsxs("select",{value:l.urgency,onChange:h=>c({...l,urgency:h.target.value}),className:"input-field",disabled:u,children:[a.jsx("option",{value:"ROUTINE",children:"Routine"}),a.jsx("option",{value:"URGENT",children:"Urgent"}),a.jsx("option",{value:"EMERGENCY",children:"Emergency"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for Referral *"}),a.jsx("textarea",{value:l.reason,onChange:h=>c({...l,reason:h.target.value}),required:!0,rows:3,className:"input-field",placeholder:"Describe the reason for this referral...",disabled:u})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Appointment Date"}),a.jsx("input",{type:"date",value:l.appointmentDate||"",onChange:h=>c({...l,appointmentDate:h.target.value||void 0}),className:"input-field",disabled:u})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Appointment Time"}),a.jsx("input",{type:"time",value:l.appointmentTime||"",onChange:h=>c({...l,appointmentTime:h.target.value||void 0}),className:"input-field",disabled:u})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),a.jsx("input",{type:"text",value:l.location||"",onChange:h=>c({...l,location:h.target.value||void 0}),className:"input-field",placeholder:"Facility location",disabled:u})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Info"}),a.jsx("input",{type:"text",value:l.contactInfo||"",onChange:h=>c({...l,contactInfo:h.target.value||void 0}),className:"input-field",placeholder:"Phone or email",disabled:u})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specialty"}),a.jsx("input",{type:"text",value:l.specialty||"",onChange:h=>c({...l,specialty:h.target.value||void 0}),className:"input-field",placeholder:"e.g., Cardiology, Neurology",disabled:u})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"followUpRequired",checked:l.followUpRequired,onChange:h=>c({...l,followUpRequired:h.target.checked}),className:"mr-2",disabled:u}),a.jsx("label",{htmlFor:"followUpRequired",className:"text-sm text-gray-700",children:"Follow-up Required"})]}),l.followUpRequired&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Follow-up Date"}),a.jsx("input",{type:"date",value:l.followUpDate||"",onChange:h=>c({...l,followUpDate:h.target.value||void 0}),className:"input-field",disabled:u})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),a.jsx("textarea",{value:l.notes||"",onChange:h=>c({...l,notes:h.target.value||void 0}),rows:2,className:"input-field",placeholder:"Additional notes...",disabled:u})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-outline",disabled:u,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:u,children:u?"Sending...":"Send Referral"})]})]})]})})}function yoe(){const[e,t]=E.useState(""),[r,n]=E.useState("all"),{data:s,loading:i}=xe(()=>zt.getPatients({limit:500}),[]),{data:o,loading:l}=xe(()=>dn.getServices({limit:500}),[]),{data:c,loading:u}=xe(()=>wa.getInvoices({limit:500}),[]),d=(s==null?void 0:s.patients)??[],m=(o==null?void 0:o.services)??[],f=(c==null?void 0:c.invoices)??[],p=E.useMemo(()=>d.filter(x=>x.serviceIds&&x.serviceIds.length>0).map(x=>{const y=x.serviceIds||[],b=m.filter(T=>y.includes(T.id)),N=f.filter(T=>T.patientId===x.id),j=b.reduce((T,S)=>T+(S.price||0),0),w=N.filter(T=>T.status==="paid").reduce((T,S)=>T+S.amount,0),A=j-w;return{patient:x,services:b,totalAmount:j,paidAmount:w,pendingAmount:A,invoices:N}}),[d,m,f]),h=E.useMemo(()=>p.filter(x=>{const y=x.patient.name.toLowerCase().includes(e.toLowerCase())||x.patient.email.toLowerCase().includes(e.toLowerCase())||x.patient.phone.toLowerCase().includes(e.toLowerCase());let b=!0;return r==="pending"?b=x.pendingAmount>0:r==="paid"?b=x.pendingAmount===0&&x.totalAmount>0:r==="overdue"&&(b=x.invoices.some(N=>N.status==="overdue")),y&&b}),[p,e,r]),g=E.useMemo(()=>{const x=p.length,y=p.reduce((w,A)=>w+A.totalAmount,0),b=p.reduce((w,A)=>w+A.paidAmount,0),N=p.reduce((w,A)=>w+A.pendingAmount,0),j=p.filter(w=>w.invoices.some(A=>A.status==="overdue")).length;return{totalPatients:x,totalRevenue:y,totalPaid:b,totalPending:N,overdueCount:j}},[p]);return i||l||u?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Biller Dashboard"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage patient bills and payments based on selected services"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[a.jsx("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Patients"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:g.totalPatients})]}),a.jsx("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(Or,{className:"h-6 w-6 text-blue-600"})})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:["$",g.totalRevenue.toFixed(2)]})]}),a.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx(Gr,{className:"h-6 w-6 text-green-600"})})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Paid Amount"}),a.jsxs("p",{className:"text-2xl font-bold text-green-600 mt-1",children:["$",g.totalPaid.toFixed(2)]})]}),a.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx(Zt,{className:"h-6 w-6 text-green-600"})})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Amount"}),a.jsxs("p",{className:"text-2xl font-bold text-yellow-600 mt-1",children:["$",g.totalPending.toFixed(2)]})]}),a.jsx("div",{className:"h-12 w-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:a.jsx(De,{className:"h-6 w-6 text-yellow-600"})})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue Bills"}),a.jsx("p",{className:"text-2xl font-bold text-red-600 mt-1",children:g.overdueCount})]}),a.jsx("div",{className:"h-12 w-12 bg-red-100 rounded-lg flex items-center justify-center",children:a.jsx(Ga,{className:"h-6 w-6 text-red-600"})})]})})]}),a.jsx("div",{className:"bg-white rounded-lg shadow p-4 border border-gray-200",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search patients by name, email, or phone...",value:e,onChange:x=>t(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),a.jsx("div",{className:"md:w-48",children:a.jsxs("select",{value:r,onChange:x=>n(x.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"paid",children:"Paid"}),a.jsx("option",{value:"overdue",children:"Overdue"})]})})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200 overflow-hidden",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Patient Bills"}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[h.length," ",h.length===1?"patient":"patients"," found"]})]}),h.length===0?a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(ur,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 font-medium",children:"No patient bills found"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e||r!=="all"?"Try adjusting your search or filter criteria":"Patients with selected services will appear here"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Patient"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Services"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paid"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pending"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(x=>{const y=x.invoices.some(N=>N.status==="overdue"),b=x.pendingAmount===0&&x.totalAmount>0;return x.pendingAmount>0,a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.patient.name}),a.jsx("div",{className:"text-sm text-gray-500",children:x.patient.email}),a.jsx("div",{className:"text-xs text-gray-400",children:x.patient.phone})]})}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsxs("div",{className:"text-sm text-gray-900",children:[x.services.length," ",x.services.length===1?"service":"services"]}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[x.services.slice(0,2).map(N=>N.name).join(", "),x.services.length>2&&` +${x.services.length-2} more`]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["$",x.totalAmount.toFixed(2)]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm text-green-600 font-medium",children:["$",x.paidAmount.toFixed(2)]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm text-yellow-600 font-medium",children:["$",x.pendingAmount.toFixed(2)]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${y?"bg-red-100 text-red-800":b?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:y?"Overdue":b?"Paid":"Pending"})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[a.jsx(ar,{to:`/patients/${x.patient.id}`,className:"text-primary-600 hover:text-primary-900 mr-4",children:a.jsx(Bt,{className:"h-5 w-5 inline"})}),a.jsx(ar,{to:"/billing",className:"text-primary-600 hover:text-primary-900",onClick:()=>{},children:a.jsx(Qn,{className:"h-5 w-5 inline"})})]})]},x.patient.id)})})]})})]})]})}function XS({isOpen:e,onClose:t,onSave:r,biller:n,mode:s}){const[i,o]=E.useState({name:"",email:"",password:"",phone:"",department:"Finance",isActive:!0}),[l,c]=E.useState(!1),[u,d]=E.useState(null),m=s==="edit"&&n;E.useEffect(()=>{e||(c(!1),d(null))},[e]),E.useEffect(()=>{o(m&&n?{name:n.name||"",email:n.email||"",password:"",phone:n.phone||"",department:n.department||"Finance",isActive:n.isActive??!0}:{name:"",email:"",password:"",phone:"",department:"Finance",isActive:!0})},[m,n,e]);const f=async p=>{if(p.preventDefault(),d(null),!i.name.trim()){d("Name is required");return}if(!i.email.trim()){d("Email is required");return}if(!m&&!i.password.trim()){d("Password is required for new billers");return}c(!0);try{const h={name:i.name.trim(),email:i.email.trim(),phone:i.phone.trim()||void 0,department:i.department.trim()||void 0,isActive:i.isActive,role:"biller"};m?i.password.trim()&&(h.password=i.password):h.password=i.password,await r(h)}catch(h){d((h==null?void 0:h.message)||"Failed to save biller")}finally{c(!1)}};return e?a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t}),a.jsxs("div",{className:"relative w-full max-w-2xl rounded-lg bg-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:m?"Edit Biller":"Add New Biller"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Pe,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:f,children:[a.jsxs("div",{className:"px-6 py-4 space-y-4",children:[u&&a.jsx("div",{className:"rounded-md bg-red-50 p-4 text-sm text-red-700",children:u}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Full Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:i.name,onChange:p=>o({...i,name:p.target.value}),placeholder:"Enter full name (e.g., John Doe)",className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Email Address ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"email",value:i.email,onChange:p=>o({...i,email:p.target.value}),placeholder:"biller@example.com",className:"input-field disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed",required:!0,disabled:s==="edit"}),s==="edit"&&a.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Email cannot be changed after creation"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Password ",!m&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"password",value:i.password,onChange:p=>o({...i,password:p.target.value}),placeholder:m?"Enter new password (leave blank to keep current)":"Enter password (minimum 8 characters)",className:"input-field",required:!m}),m?a.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Leave blank to keep current password"}):a.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Password must be at least 8 characters long"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",value:i.phone,onChange:p=>o({...i,phone:p.target.value}),placeholder:"+1234567890 (optional)",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Department"}),a.jsx("input",{type:"text",value:i.department,onChange:p=>o({...i,department:p.target.value}),placeholder:"Finance (default)",className:"input-field"})]}),a.jsxs("div",{className:"flex items-center pt-2",children:[a.jsx("input",{type:"checkbox",id:"isActive",checked:i.isActive,onChange:p=>o({...i,isActive:p.target.checked}),className:"h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-2 focus:ring-primary-500"}),a.jsx("label",{htmlFor:"isActive",className:"ml-2 text-sm font-medium text-gray-900",children:"Active Status"}),a.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(Biller can log in and access the system)"})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-200 px-6 py-4",children:[a.jsx("button",{type:"button",onClick:t,className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",disabled:l,children:"Cancel"}),a.jsx("button",{type:"submit",className:"rounded-md bg-primary-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50",disabled:l,children:l?"Saving...":m?"Update Biller":"Add Biller"})]})]})]})]})}):null}function goe(){const{user:e}=st(),t=(e==null?void 0:e.role)==="admin",[r,n]=E.useState(""),[s,i]=E.useState("all"),[o,l]=E.useState(!1),[c,u]=E.useState(!1),[d,m]=E.useState(null),{addNotification:f}=yt(),{data:p,loading:h,error:g,refetch:v}=xe(()=>It.getUsers({role:"biller",limit:200}),[]),x=(p==null?void 0:p.users)??[],y=E.useMemo(()=>x.filter(P=>{const k=P.name.toLowerCase().includes(r.toLowerCase())||P.email.toLowerCase().includes(r.toLowerCase())||P.phone&&P.phone.toLowerCase().includes(r.toLowerCase()),O=s==="all"||s==="active"&&P.isActive||s==="inactive"&&!P.isActive;return k&&O}),[x,r,s]),b=je(It.createUser.bind(It)),N=je(P=>It.updateUser(P.id,P.data)),j=je(P=>It.deleteUser(P)),w=async P=>{var k,O;try{const C={...P,role:"biller"};await b.mutate(C),te.success(`Biller ${P.name} has been added successfully`),f({title:"Biller Added",message:`${P.name} has been added to the system.`,type:"success",userId:"system",priority:"medium",category:"system"}),await v(),l(!1)}catch(C){const D=((O=(k=C==null?void 0:C.response)==null?void 0:k.data)==null?void 0:O.message)||(C==null?void 0:C.message)||"Failed to add biller";throw te.error(D),f({title:"Unable to add biller",message:D,type:"error",userId:"system",priority:"high",category:"system"}),C}},A=async P=>{var k,O;if(d)try{await N.mutate({id:d.id,data:P}),te.success(`Biller ${P.name??d.name} has been updated successfully`),f({title:"Biller Updated",message:`${P.name??d.name} has been updated.`,type:"success",userId:"system",priority:"medium",category:"system"}),await v(),u(!1),m(null)}catch(C){const D=((O=(k=C==null?void 0:C.response)==null?void 0:k.data)==null?void 0:O.message)||(C==null?void 0:C.message)||"Failed to update biller";throw te.error(D),f({title:"Unable to update biller",message:D,type:"error",userId:"system",priority:"high",category:"system"}),C}},T=async(P,k)=>{var O,C;if(window.confirm(`Are you sure you want to deactivate ${k}?`))try{await j.mutate(P),te.success(`Biller ${k} has been deactivated`),f({title:"Biller Deactivated",message:`${k} is now deactivated.`,type:"info",userId:"system",priority:"medium",category:"system"}),await v()}catch(D){const U=((C=(O=D==null?void 0:D.response)==null?void 0:O.data)==null?void 0:C.message)||(D==null?void 0:D.message)||"Failed to deactivate biller";te.error(U),f({title:"Unable to deactivate biller",message:U,type:"error",userId:"system",priority:"high",category:"system"})}},S=P=>{m(P),u(!0)},_=P=>P?"status-active":"status-inactive";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center space-x-2",children:[a.jsx(Qn,{className:"h-6 w-6 text-primary-500"}),a.jsx("span",{children:"Billers"})]}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage finance and billing staff."})]}),t&&a.jsx("div",{className:"mt-4 sm:mt-0",children:a.jsxs("button",{onClick:()=>l(!0),className:"btn-primary flex items-center",children:[a.jsx(Ie,{className:"mr-2 h-4 w-4"}),"Add Biller"]})})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(jt,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search billers...",value:r,onChange:P=>n(P.target.value),className:"input-field pl-10"})]})}),a.jsx("div",{className:"sm:w-48",children:a.jsxs("select",{value:s,onChange:P=>i(P.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})})]})}),g&&a.jsx("div",{className:"card bg-red-50 border border-red-200 text-red-700",children:"Unable to load billers. Please refresh or try again later."}),a.jsx("div",{className:"card",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Biller"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Contact"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Department"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:h?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-sm text-gray-500",children:"Loading billers..."})}):y.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-sm text-gray-500",children:"No billers match your filters yet."})}):y.map(P=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[P.avatar?a.jsx("img",{src:P.avatar.startsWith("http")?P.avatar:`http://51.20.55.20:3007${P.avatar.startsWith("/")?P.avatar:"/"+P.avatar}`,alt:P.name,className:"h-10 w-10 rounded-full object-cover"}):a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary-100 text-sm font-semibold text-primary-700",children:P.name.split(" ").map(k=>k[0]).join("").slice(0,2).toUpperCase()}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name}),a.jsx("div",{className:"text-sm text-gray-500",children:P.email})]})]})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900",children:P.phone?a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ha,{className:"mr-2 h-4 w-4 text-gray-400"}),P.phone]}):a.jsx("span",{className:"text-gray-400",children:"No phone"})})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900",children:P.department||a.jsx("span",{className:"text-gray-400",children:"No department"})})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:a.jsx("span",{className:`status-badge ${_(P.isActive)}`,children:P.isActive?"Active":"Inactive"})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium",children:a.jsx("div",{className:"flex items-center space-x-3",children:t&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>S(P),className:"text-secondary-600 hover:text-secondary-900",children:[a.jsx(er,{className:"mr-1 inline h-4 w-4"}),"Edit"]}),a.jsxs("button",{onClick:()=>T(P.id,P.name),className:"text-red-600 hover:text-red-900",children:[a.jsx(ht,{className:"mr-1 inline h-4 w-4"}),"Delete"]})]})})})]},P.id))})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-primary-600",children:x.filter(P=>P.isActive).length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Active Billers"})]}),a.jsxs("div",{className:"card text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-600",children:x.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Billers"})]})]}),a.jsx(XS,{isOpen:o,onClose:()=>l(!1),onSave:w,mode:"add"}),a.jsx(XS,{isOpen:c,onClose:()=>{u(!1),m(null)},onSave:A,biller:d,mode:"edit"})]})}function voe(){const{user:e,isAuthenticated:t,isLoading:r}=st();return r?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):!t||!e?a.jsx(MM,{}):a.jsx(_4,{children:a.jsx(EM,{user:e,children:a.jsxs(w4,{children:[a.jsx(Me,{path:"/",element:a.jsx(vE,{to:"/dashboard",replace:!0})}),a.jsx(Me,{path:"/dashboard",element:a.jsx(HM,{})}),a.jsx(Me,{path:"/biller-dashboard",element:a.jsx(yoe,{})}),a.jsx(Me,{path:"/book-appointment",element:a.jsx(Oie,{})}),a.jsx(Me,{path:"/my-appointments",element:a.jsx(Cie,{})}),a.jsx(Me,{path:"/health-monitoring",element:a.jsx(_ie,{})}),a.jsx(Me,{path:"/feedback",element:a.jsx(Iie,{})}),a.jsx(Me,{path:"/my-schedule",element:a.jsx($ie,{})}),a.jsx(Me,{path:"/documentation",element:a.jsx(Mie,{})}),a.jsx(Me,{path:"/incidents",element:a.jsx(Hie,{})}),a.jsx(Me,{path:"/nurses",element:a.jsx(GM,{})}),a.jsx(Me,{path:"/nurses/:id",element:a.jsx(YM,{})}),a.jsx(Me,{path:"/users",element:a.jsx(jie,{})}),a.jsx(Me,{path:"/specialists",element:a.jsx(Yie,{})}),a.jsx(Me,{path:"/therapists",element:a.jsx(Eie,{})}),a.jsx(Me,{path:"/billers",element:a.jsx(goe,{})}),a.jsx(Me,{path:"/health-records",element:a.jsx(poe,{})}),a.jsx(Me,{path:"/phone-reminders",element:a.jsx(eoe,{})}),a.jsx(Me,{path:"/scheduling",element:a.jsx(uie,{})}),a.jsx(Me,{path:"/services",element:a.jsx(mie,{})}),a.jsx(Me,{path:"/training",element:a.jsx(eie,{})}),a.jsx(Me,{path:"/training/exam/:id",element:a.jsx(tie,{})}),a.jsx(Me,{path:"/training/exam/:id/take",element:a.jsx(rie,{})}),a.jsx(Me,{path:"/training/exam/:id/result/:attemptId?",element:a.jsx(nie,{})}),a.jsx(Me,{path:"/billing",element:a.jsx(fie,{})}),a.jsx(Me,{path:"/reports",element:a.jsx(gie,{})}),a.jsx(Me,{path:"/settings",element:a.jsx(Jie,{})}),a.jsx(Me,{path:"/patients",element:a.jsx(aD,{})}),a.jsx(Me,{path:"/patients/:id",element:a.jsx(Jse,{})})]})})})}function boe(){return a.jsx(TM,{children:a.jsx(vM,{children:a.jsxs(SM,{children:[a.jsx(voe,{}),a.jsx(x$,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})})})}Ch.createRoot(document.getElementById("root")).render(a.jsx(L.StrictMode,{children:a.jsx(boe,{})}));
